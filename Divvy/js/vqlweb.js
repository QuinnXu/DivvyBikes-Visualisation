/*! BEGIN Core */
/*! BEGIN Underscore */
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);(function(){
/*! BEGIN CoreSlim */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabcoreslim');var b=function(){this.$0=null;this.$0=[]};b.__typeName='tab.BaseLogAppender';global.tab.BaseLogAppender=b;var c=function(){this.$2=null;b.call(this)};c.__typeName='tab.ConsoleLogAppender';global.tab.ConsoleLogAppender=c;var d=function(){};d.__typeName='tab.CookieHelper';d.getValueForCookie=function(o){var p=e.getCookie().match(new RegExp('(?:^|;) ?'+o+'=([^;]*)(?:;|$)'));if(ss.isNullOrUndefined(p)||p.length<2){return null}return p[1]};d.setCookie=function(o,p,q,r){var s=o+'='+p+';path='+q+';';if(!ss.staticEquals(r,null)){s+='expires='+r.toUTCString()}e.setCookie(s)};global.tab.CookieHelper=d;var e=function(){};e.__typeName='tab.DocumentHelper';e.get_documentClientWidth=function(){return document.documentElement.clientWidth};e.get_documentClientHeight=function(){return document.documentElement.clientHeight};e.getCookie=function(){return document.cookie};e.setCookie=function(o){document.cookie=o};global.tab.DocumentHelper=e;var f=function(){};f.__typeName='tab.EscapingUtil';f.escapeHtml=function(o){var p=ss.coalesce(o,'');p=p.replace(new RegExp('&','g'),'&amp;');p=p.replace(new RegExp('<','g'),'&lt;');p=p.replace(new RegExp('>','g'),'&gt;');p=p.replace(new RegExp('"','g'),'&quot;');p=p.replace(new RegExp("'",'g'),'&#39;');p=p.replace(new RegExp('/','g'),'&#47;');if((new RegExp('^ +$')).test(p)){p=p.replace(new RegExp(' ','g'),'&nbsp;')}return p};global.tab.EscapingUtil=f;var g=function(){};g.__typeName='tab.LazyUtil';g.lazyInitStaticField=function(o,p,q){var r=o[p];if(ss.isNullOrUndefined(r)){r=q();o[p]=r}return r};global.tab.LazyUtil=g;var h=function(){};h.__typeName='tab.Log';h.get=function(o){return j.lazyGetLogger(ss.getInstanceType(o))};global.tab.Log=h;var i=function(o){this.$0=null;this.$1$1=null;this.$0=o};i.__typeName='tab.LogAppenderInstance';global.tab.LogAppenderInstance=i;var j=function(o){this.$1=null;this.$1=o};j.__typeName='tab.Logger';j.get_globalLog=function(){return j.global};j.$2=function(){return g.lazyInitStaticField(j,'appenders',function(){return[]})};j.$3=function(){return g.lazyInitStaticField(j,'filters',function(){return[]})};j.$4=function(){return g.lazyInitStaticField(j,'nullLog',function(){return new j('')})};j.clearFilters=function(){var o=j.$2();for(var p=0;p<o.length;p++){var q=o[p];q.clearFilters()}j.$3().splice(0,j.$3().length)};j.filterByLogger=function(o,p){p=p||0;j.$0(function(q,r){return ss.referenceEquals(q,o)&&r>=p})};j.filterByType=function(o,p){p=p||0;j.$0(function(q,r){return r>=p&&ss.referenceEquals(q.get_name(),ss.getTypeName(o))})};j.filterByName=function(o,p){p=p||0;var q=new RegExp(o,'i');j.$0(function(r,s){return s>=p&&ss.isValue(r.get_name().match(q))})};j.clearAppenders=function(){j.$2().splice(0,j.$3().length)};j.hasAppender=function(o){return j.$2().indexOf(o)>-1};j.addAppender=function(o){var p=j.$3();for(var q=0;q<p.length;q++){var r=p[q];o.addFilter(r)}j.$2().push(o)};j.removeAppender=function(o){var p=j.$2().indexOf(o);if(p>-1){j.$2().splice(p,1)}};j.lazyGetLogger=function(o){return g.lazyInitStaticField(o,'_logger',function(){return j.getLogger(o)})};j.getLogger=function(o,p){var q=j.getLoggerWithName(ss.getTypeName(o));if(ss.isValue(p)){}return q};j.getLoggerWithName=function(o){return j.$4()};j.$1=function(){var o=m.getUriQueryParameters(window.self.location.search);if(!ss.keyExists(o,':log')){return}var p=o[':log'];if(p.length===0){}for(var q=0;q<p.length;q++){var r=p[q];var s=r.split(String.fromCharCode(58));var t=1;if(s.length>0&&ss.isValue(s[1])){var u=s[1].toLowerCase();var v=j.loggerLevelNames.indexOf(u);if(v>=0){t=v}}}};j.$0=function(o){j.$3().push(o);var p=j.$2();for(var q=0;q<p.length;q++){var r=p[q];r.addFilter(o)}};global.tab.Logger=j;var k=function(){};k.__typeName='tab.LoggerLevel';global.tab.LoggerLevel=k;var l=function(){};l.__typeName='tab.ScriptEx';global.tab.ScriptEx=l;var m=function(){};m.__typeName='tab.UriExtensions';m.getUriQueryParameters=function(o){var p={};if(ss.isNullOrUndefined(o)){return p}var q=o.indexOf('?');if(q<0){return p}var r=o.substr(q+1);var s=r.indexOf('#');if(s>=0){r=r.substr(0,s)}if(ss.isNullOrEmptyString(r)){return p}var t=r.split('&');for(var u=0;u<t.length;u++){var v=t[u];var w=v.split('=');var x=decodeURIComponent(w[0]);var y;if(ss.keyExists(p,x)){y=p[x]}else{y=[];p[x]=y}if(w.length>1){y.push(decodeURIComponent(w[1]))}}return p};global.tab.UriExtensions=m;var n=function(o){this.$0=null;this.$0=o};n.__typeName='tab.WindowHelper';n.get_windowSelf=function(){return window.self};n.get_windowParent=function(){return window.parent};n.get_selection=function(){if(typeof(window['getSelection'])==='function'){return window.getSelection()}else if(typeof(document['getSelection'])==='function'){return document.getSelection()}return null};n.close=function(o){o.close()};n.getOpener=function(o){return o.opener};n.getLocation=function(o){return o.location};n.getPathAndSearch=function(o){return o.location.pathname+o.location.search};n.setLocationHref=function(o,p){o.location.href=p};n.locationReplace=function(o,p){o.location.replace(p)};n.open=function(o,p,q){return window.open(o,p,q)};n.reload=function(o,p){o.location.reload(p)};n.requestAnimationFrame=function(o){return n.$c(o)};n.cancelAnimationFrame=function(o){if(ss.isValue(o)){n.$b(o)}};n.setTimeout=function(o,p){return window.setTimeout(o,p)};n.setInterval=function(o,p){return window.setInterval(o,p)};n.addListener=function(o,p,q){if('addEventListener'in o){o.addEventListener(p,q,false)}else{o.attachEvent('on'+p,q)}};n.removeListener=function(o,p,q){if('removeEventListener'in o){o.removeEventListener(p,q,false)}else{o.detachEvent('on'+p,q)}};n.$0=function(){var o=0;n.$c=function(p){var q=(new Date).getTime();var r=Math.max(0,16-(q-o));o=q+r;var s=window.setTimeout(p,r);return s}};n.clearSelection=function(){var o=n.get_selection();if(ss.isValue(o)){if(typeof(o['removeAllRanges'])==='function'){o.removeAllRanges()}else if(typeof(o['empty'])==='function'){o['empty']()}}};global.tab.WindowHelper=n;ss.initClass(b,a,{clearFilters:function(){ss.clear(this.$0)},addFilter:function(o){this.$0.push(o)},removeFilter:function(o){ss.remove(this.$0,o)},log:function(o,p,q,r){},logInternal:null,formatMessage:function(o,p){if(ss.isNullOrUndefined(p)||p.length===0){return o}var q=new ss.StringBuilder;var r=0;var s=false;for(var t=0;t<o.length;t++){var u=o.charCodeAt(t);if(u===37){if(s){q.append('%');s=false}else{s=true}}else{if(s){switch(u){case 98:case 115:case 100:case 110:case 111:{q.append(((p.length>r)?p[r]:''));r++;break}}}else{q.appendChar(u)}s=false}}return q.toString()}});ss.initClass(c,a,{logInternal:function(o,p,q,r){if(typeof(window.console)!=='object'){return}q=o.get_name()+': '+q;var s=[];var t=s.concat(q);s=t.concat.apply(t,r);try{Function.prototype.apply.call(this.$1(p),window.console,s)}catch(u){}},$1:function(o){var p=window.self['console'];if(ss.isNullOrUndefined(this.$2)){this.$2={};this.$2[(1).toString()]=p.log;this.$2[(4).toString()]=p.error;this.$2[(2).toString()]=p.info;this.$2[(3).toString()]=p.warn}var q=this.$2[o.toString()];if(ss.isNullOrUndefined(q)){q=p.log}return q}},b);ss.initClass(d,a,{});ss.initClass(e,a,{});ss.initClass(f,a,{});ss.initClass(g,a,{});ss.initClass(h,a,{});ss.initClass(i,a,{get_instance:function(){return this.$1$1},set_instance:function(o){this.$1$1=o},enableLogging:function(o){if(ss.isNullOrUndefined(this.get_instance())){this.set_instance(this.$0());j.addAppender(this.get_instance())}else if(!j.hasAppender(this.get_instance())){j.addAppender(this.get_instance())}this.get_instance().addFilter(ss.coalesce(o,function(p,q){return true}))},disableLogging:function(){if(ss.isNullOrUndefined(this.get_instance())){return}j.removeAppender(this.get_instance());this.set_instance(null)}});ss.initClass(j,a,{get_name:function(){return this.$1},debug:function(o,p){},info:function(o,p){},warn:function(o,p){},error:function(o,p){},log:function(o,p,q){},$0:function(o,p,q){try{var r=j.$2();for(var s=0;s<r.length;s++){var t=r[s];t.log(this,o,p,q)}}catch(u){}}});ss.initEnum(k,a,{all:0,debug:1,info:2,warn:3,error:4,off:5});ss.initClass(l,a,{});ss.initClass(m,a,{});ss.initClass(n,a,{get_pageXOffset:function(){return n.$7(this.$0)},get_pageYOffset:function(){return n.$8(this.$0)},get_clientWidth:function(){return n.$2(this.$0)},get_clientHeight:function(){return n.$1(this.$0)},get_innerWidth:function(){return n.$4(this.$0)},get_outerWidth:function(){return n.$6(this.$0)},get_innerHeight:function(){return n.$3(this.$0)},get_outerHeight:function(){return n.$5(this.$0)},get_screenLeft:function(){return n.$9(this.$0)},get_screenTop:function(){return n.$a(this.$0)},isQuirksMode:function(){return document.compatMode==='BackCompat'}});(function(){j.global=j.getLoggerWithName('global');j.loggerLevelNames=[];j.$5=':log';j.loggerLevelNames[0]='all';j.loggerLevelNames[1]='debug';j.loggerLevelNames[2]='info';j.loggerLevelNames[3]='warn';j.loggerLevelNames[4]='error';j.loggerLevelNames[5]='off'})();(function(){c.globalAppender=new i(function(){return new c})})();(function(){n.$4=null;n.$3=null;n.$2=null;n.$1=null;n.$7=null;n.$8=null;n.$9=null;n.$a=null;n.$6=null;n.$5=null;n.$c=null;n.$b=null;if('innerWidth'in window){n.$4=function(w){return w.innerWidth}}else{n.$4=function(w){return w.document.documentElement.offsetWidth}}if('outerWidth'in window){n.$6=function(w){return w.outerWidth}}else{n.$6=n.$4}if('innerHeight'in window){n.$3=function(w){return w.innerHeight}}else{n.$3=function(w){return w.document.documentElement.offsetHeight}}if('outerHeight'in window){n.$5=function(w){return w.outerHeight}}else{n.$5=n.$3}if('clientWidth'in window){n.$2=function(w){return w['clientWidth']}}else{n.$2=function(w){return w.document.documentElement.clientWidth}}if('clientHeight'in window){n.$1=function(w){return w['clientHeight']}}else{n.$1=function(w){return w.document.documentElement.clientHeight}}if(ss.isValue(window.self.pageXOffset)){n.$7=function(w){return w.pageXOffset}}else{n.$7=function(w){return w.document.documentElement.scrollLeft}}if(ss.isValue(window.self.pageYOffset)){n.$8=function(w){return w.pageYOffset}}else{n.$8=function(w){return w.document.documentElement.scrollTop}}if('screenLeft'in window){n.$9=function(w){return w.screenLeft}}else{n.$9=function(w){return w.screenX}}if('screenTop'in window){n.$a=function(w){return w.screenTop}}else{n.$a=function(w){return w.screenY}}{var o='requestAnimationFrame';var p='cancelAnimationFrame';var q=['ms','moz','webkit','o'];var r=null;var s=null;if(o in window){r=o}if(p in window){s=p}for(var t=0;t<q.length&&(ss.isNullOrUndefined(r)||ss.isNullOrUndefined(s));++t){var u=q[t];var v=u+'RequestAnimationFrame';if(ss.isNullOrUndefined(r)&&v in window){r=v}if(ss.isNullOrUndefined(s)){v=u+'CancelAnimationFrame';if(v in window){s=v}v=u+'CancelRequestAnimationFrame';if(v in window){s=v}}}if(ss.isValue(r)){n.$c=function(w){return window[r](w)}}else{n.$0()}if(ss.isValue(s)){n.$b=function(w){window[s](w)}}else{n.$b=function(w){window.clearTimeout(w)}}}})()})();(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};global.tableau.types=global.tableau.types||{};global.tableau.util=global.tableau.util||{};ss.initAssembly(a,'vqlcore');var b=function(){};b.__typeName='ColumnClass';global.ColumnClass=b;var c=function(){};c.__typeName='DrillState';global.DrillState=c;var d=function(){};d.__typeName='SelectAction';global.SelectAction=d;$.fn.focusDelayed=function(e,bG){this.each(function(bH,bI){window.setTimeout(function(){$(bI).focus();if(ss.isValue(bG)){bG.call(bI)}},e)})};$.fn.getTouchEvent=function(e){return e['originalEvent']};$.expr.pseudos.focusable=function(e){return f.$0(e,!isNaN(parseInt($(e).attr('tabindex'),10)))};$.expr.pseudos.tabbable=function(e){var bG=parseInt($(e).attr('tabindex'),10);var bH=isNaN(bG);return(bH||bG>=0)&&f.$0(e,!bH)};var f=function(){};f.__typeName='tab.$0';f.$0=function(e,bG){var bH=e.nodeName.toLowerCase();if(bH==='area'){return false}var bI=bG;var bJ=new RegExp('input|select|textarea|button|object');if(bJ.test(bH)){bI=!e.disabled}else if(bH==='a'){bI=!ss.isNullOrEmptyString(e.href)||bG}return bI&&f.$1(e)};f.$1=function(e){for(var bG='';ss.isValue(e);e=e.parentElement){if(e.style.display==='none'){return false}else if(bG==='visible'){continue}else if(bG.length===0||bG==='inherit'){bG=e.style.visibility}if(bG==='hidden'){return false}}return true};var g=function(e){var bG=function(){};ss.registerGenericClassInstance(bG,g,[e],{current:null,reset:null,moveNext:null,dispose:function(){}},function(){return null},function(){return[ss.IDisposable,ss.IEnumerator,ss.IEnumerator]});return bG};g.__typeName='tab.AbstractEnumerator$1';ss.initGenericClass(g,a,1);global.tab.AbstractEnumerator$1=g;var h=function(){};h.__typeName='tab.BrowserSupport';h.get_getComputedStyle=function(){return'getComputedStyle'in window};h.get_addEventListener=function(){return'addEventListener'in document};h.get_selectStart=function(){return h.$G};h.get_isTouch=function(){return h.$B};h.get_fontLoaderApi=function(){return h.$l};h.get_postMessage=function(){return h.$E};h.get_historyApi=function(){return h.$n};h.get_isMobile=function(){return h.$q||h.$v};h.get_isIos=function(){return h.$v};h.get_isAndroid=function(){return h.$q};h.get_isChrome=function(){return h.$r};h.get_isMac=function(){return h.$x};h.get_isIE=function(){return h.$u};h.get_isEdge=function(){return h.$s};h.get_isFF=function(){return h.$t};h.get_isOpera=function(){return h.$z};h.get_isSafari=function(){return h.$A};h.get_isWindows=function(){return h.$D};h.get_isHighDpi=function(){return window.matchMedia('(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)').matches};h.get_browserVersion=function(){return h.$o};h.get_safariVersion=function(){return h.$F};h.get_googleChromeVersion=function(){return h.$m};h.get_iosVersion=function(){return h.$p};h.get_raisesEventOnImageReassignment=function(){return!h.$A};h.get_imageLoadIsSynchronous=function(){return h.$u};h.get_useAlternateHitStrategy=function(){return h.$I};h.get_cssTransformName=function(){return h.$f};h.get_cssTransitionName=function(){return h.$g};h.get_backingStoragePixelRatio=function(){return h.$d};h.get_devicePixelRatio=function(){return h.$k};h.get_canvasLinePattern=function(){return h.$e};h.get_dateInput=function(){return h.$h};h.get_dateTimeInput=function(){return h.$i};h.get_dateTimeLocalInput=function(){return h.$j};h.get_timeInput=function(){return h.$J};h.get_setSelectionRange=function(){return h.$H};h.get_mouseWheelEvent=function(){if('onwheel'in window.document.documentElement){return'wheel'}if('onmousewheel'in window.document.documentElement){return'mousewheel'}return'MozMousePixelScroll'};h.get_mouseCapture=function(){return'releaseCapture'in document};h.get_orientationChange=function(){return'onorientationchange'in window};h.get_isGeolocationSupported=function(){return ss.isValue(window.navigator.geolocation)};h.get_isIpad=function(){return window.navigator.userAgent.indexOf('iPad')!==-1};h.isTouchAndNonMobile=function(){return bk.get_hasUserTouchedScreen()&&!tsConfig.is_mobile};h.isTouchScreen=function(){return bk.get_hasUserTouchedScreen()};h.detectBrowserSupport=function(){var e=document.body;var bG=document.createElement('div');e.appendChild(bG);h.$G='onselectstart'in bG;e.removeChild(bG).style.display='none';h.$E='postMessage'in window;h.$n=typeof(window.history['pushState'])==='function'&&typeof(window.history['replaceState'])==='function';h.$1();h.$a();h.$9();h.$7();h.$6();h.$0();h.$5();h.$2();h.$8()};h.getOrigin=function(e){var bG=e.origin;if(ss.isNullOrUndefined(bG)){bG=e.protocol+'//'+e.host}return bG};h.sendCommandWithContext=function(e){var bG=tabBootstrap.Utility.sendCommandWithContext(e);if(!bG){}};h.$7=function(){var e=window.document.body;if(h.$C&&h.get_isMobile()){var bG=$('<div></div>');bG.css(ss.mkdict(['position','absolute','top','300px','left','300px','width','25px','height','25px','z-index','10000']));var bH=bG.get(0);try{e.appendChild(bH);h.$I=!ss.referenceEquals(document.elementFromPoint(310,310),bH)}catch(bI){}finally{bG.remove()}}};h.$1=function(){var e=h.$b();h.$w=e.indexOf('Konqueror')>=0;h.$C=e.indexOf('WebKit')>=0;h.$r=e.indexOf('Chrome')>=0;h.$A=e.indexOf('Safari')>=0&&!h.$r;h.$z=e.indexOf('Opera')>=0;if(h.$A){var bG=e.match(new RegExp('\\bVersion\\/(\\d+\\.\\d+)'));if(ss.isValue(bG)){h.$F=parseFloat(bG[1])}}if(h.$r){var bH=e.match(new RegExp('\\bChrome/(\\d+\\.\\d+)'));if(ss.isValue(bH)){h.$m=parseFloat(bH[1])}}h.$o=0;h.$u=false;var bI=e.match(new RegExp('\\bMSIE (\\d+\\.\\d+)'));if(ss.isValue(bI)){h.$u=true;h.$o=parseFloat(bI[1])}if(!h.$u&&!h.$z&&(e.indexOf('Trident')>=0||e.indexOf('Edge/')>=0)){var bJ=e.match(new RegExp('\\brv:(\\d+\\.\\d+)'));var bK=e.match(new RegExp('Edge/(\\d+\\.\\d+)'));if(ss.isValue(bJ)){h.$u=true;h.$s=false;h.$o=parseFloat(bJ[1])}else if(ss.isValue(bK)){h.$u=true;h.$s=true;h.$r=false;h.$A=false;h.$o=parseFloat(bK[1])}}h.$y=!h.$w&&!h.$C&&!h.$u&&e.indexOf('Gecko')>=0;h.$t=h.$y||e.indexOf('Firefox')>=0||e.indexOf('Minefield')>=0;var bL=new RegExp('iPhone|iPod|iPad');h.$v=bL.test(e);if(h.$v){var bM=e.match(new RegExp('\\bOS ([\\d+_?]+) like Mac OS X'));if(ss.isValue(bM)){h.$p=parseFloat(ss.replaceAllString(bM[1].replace('_','.'),'_',''))}}h.$q=e.indexOf('Android')>=0&&!h.$u;h.$x=e.indexOf('Mac')>=0;h.$D=e.indexOf('Windows')>=0;h.$B='ontouchend'in document};h.$b=function(){return window.navigator.userAgent};h.$a=function(){var e=ss.mkdict(['transition','transition','webkitTransition','-webkit-transition','msTransition','-ms-transition','mozTransition','-moz-transition','oTransition','-o-transition']);var bG=h.$3(e);if(ss.isNullOrUndefined(bG)){bG=h.$g}h.$g=bG};h.$9=function(){var e=ss.mkdict(['transform','transform','webkitTransform','-webkit-transform','msTransform','-ms-transform','mozTransform','-moz-transform','oTransform','-o-transform']);var bG=h.$3(e);if(ss.isNullOrUndefined(bG)){bG=h.$f}h.$f=bG};h.$3=function(e){var bG=new ss.ObjectEnumerator(e);try{while(bG.moveNext()){var bH=bG.current();var bI=document.body.style;if(!(bH.key in bI)){continue}return bH.value}}finally{bG.dispose()}return null};h.$6=function(){h.$k=ss.coalesce(window.self['devicePixelRatio'],1)};h.$0=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){h.$d=1;return}var bG=null;if(typeof(ss.getInstanceType(e)['getContext'])==='function'){bG=e.getContext('2d')}if(ss.isNullOrUndefined(bG)){h.$d=1;return}var bH=bG;h.$d=bH.webkitBackingStorePixelRatio||bH.mozBackingStorePixelRatio||bH.msBackingStorePixelRatio||bH.oBackingStorePixelRatio||1};h.$2=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){return}var bG=null;if(typeof(e['getContext'])==='function'){bG=e.getContext('2d')}if(ss.isNullOrUndefined(bG)){return}h.$e=typeof(bG['setLineDash'])==='function'||'mozDash'in bG||'webkitLineDash'in bG};h.$8=function(){var e=$('<input>');h.$H=typeof(e.get(0)['setSelectionRange'])==='function'};h.$5=function(){h.$h=h.$4('date');h.$i=h.$4('datetime');h.$j=h.$4('datetime-local');h.$J=h.$4('time')};h.$4=function(e){var bG=$("<input type='"+e+"'>").css({position:'absolute',visibility:'hidden'}).appendTo($(document.body));var bH=bG.get(0);var bI=bH.getAttribute('type');var bJ='@inva/1d:)';bH.value=bJ;var bK=ss.referenceEquals(bI,e)&&!ss.referenceEquals(bH.value,bJ);bG.remove();return bK};h.$c=function(e){return function(bG){var bH=bG in window;if(!bH){var bI=function(){return ss.createInstance(e)};var bJ=window;bJ[bG]=bI}}};global.tab.BrowserSupport=h;var i=function(){this.startOfWeek=1;this.fiscalYearStart=1;this.minDaysInFirstWeek=1;this.brokenWeeks=true};i.__typeName='tab.CalendarOptions';global.tab.CalendarOptions=i;var j=function(e){this.$0=null;this.$0=e};j.__typeName='tab.CallOnDispose';global.tab.CallOnDispose=j;var k=function(){};k.__typeName='tab.CircleUtil';k.isEmpty=function(e){return s.isApproximatelyZero(e.radius)};k.isEqual=function(e,bG){return s.isApproximatelyEqual(e.radius,bG.radius)&&k.hasTheSameCenter(e,bG)};k.hasTheSameCenter=function(e,bG){return s.isApproximatelyEqual(e.center.x,bG.center.x)&&s.isApproximatelyEqual(e.center.y,bG.center.y)};k.intersectsWith=function(e,bG){var bH=Math.pow(e.center.x-bG.center.x,2)+Math.pow(e.center.y-bG.center.y,2);return Math.pow(e.radius+bG.radius,2)>bH};k.offsetCircle=function(e,bG){var bH={x:e.center.x+bG.x,y:e.center.y+bG.y};return{center:bH,radius:e.radius}};k.clone=function(e){return{center:{x:e.center.x,y:e.center.y},radius:e.radius}};k.boundingBox=function(e){var bG=Math.ceil(e.radius);var bH=Math.floor(e.center.x-bG);var bI=Math.ceil(e.center.x+bG);var bJ=Math.floor(e.center.y-bG);var bK=Math.ceil(e.center.y+bG);return{x:bH,y:bJ,w:bI-bH,h:bK-bJ}};k.containmentBox=function(e){var bG=Math.abs(ss.round(e.center.x)-e.center.x);var bH=Math.abs(ss.round(e.center.y)-e.center.y);var bI=Math.sqrt(2)/2*e.radius-Math.max(bG,bH);var bJ=Math.ceil(e.center.x-bI);var bK=Math.ceil(e.center.y-bI);var bL=Math.floor(e.center.x+bI);var bM=Math.floor(e.center.y+bI);return{x:bJ,y:bK,w:bL-bJ,h:bM-bK}};k.getChangedRects=function(e,bG){if(!k.hasTheSameCenter(e,bG)){return[]}var bH=((e.radius>bG.radius)?k.boundingBox(e):k.boundingBox(bG));var bI=((e.radius>bG.radius)?k.containmentBox(bG):k.containmentBox(e));var bJ=new Array(4);var bK=ss.Int32.div(bH.h-bI.h,2);var bL=ss.Int32.div(bH.w-bI.w,2);bJ[0]={x:bH.x,y:bH.y,w:bH.w,h:bK};bJ[1]={x:bH.x,y:bH.y+bK+bI.h,w:bH.w,h:bK};bJ[2]={x:bH.x,y:bH.y+bK,w:bL,h:bI.h};bJ[3]={x:bH.x+bL+bI.w,y:bH.y+bK,w:bL,h:bI.h};return bJ};global.tab.CircleUtil=k;var l=function(){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null;this.ConnectionClass=null;this.ConnectionName=null;this.DataSourceCaption=null};l.__typeName='tab.DataSourceConnectionAttemptErrorResponse';l.$ctor1=function(e){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null;this.ConnectionClass=null;this.ConnectionName=null;this.DataSourceCaption=null;if(ss.isNullOrUndefined(e)){return}this.ErrorType=e.exceptionType;this.ErrorMessage=e.exceptionMessage;this.ConnectionName=e.connectionFullName;this.DataSourceCaption=e.datasourceCaption;this.ConnectionClass=(ss.isNullOrUndefined(e.exceptionAttrs)?'':e.exceptionAttrs['class'])};l.tryDeserialize=function(e){try{var bG=JSON.parse(e);return bG}catch(bH){return null}};global.tab.DataSourceConnectionAttemptErrorResponse=l;var m=function(){};m.__typeName='tab.DateTimeAutoFormatMode';global.tab.DateTimeAutoFormatMode=m;var n=function(){};n.__typeName='tab.DateUtil';n.$4=function(){return tab.Logger.lazyGetLogger(n)};n.get_nowAsTime=function(){return(new Date).getTime()};n.adjustDateByPeriod=function(e,bG,bH){var bI=new Date;switch(bG){case'year':{bI=new Date(e.getFullYear()+bH,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());break}case'quarter':{bI=n.adjustByMonths(e,bH*3);break}case'month':{bI=n.adjustByMonths(e,bH);break}case'week':{bI=n.$0(e,bH*7);break}case'day':{bI=n.$0(e,bH);break}case'hour':{bI=new Date(e.getTime()+bH*n.oneHour);break}case'minute':{bI=new Date(e.getTime()+bH*n.oneMinute);break}case'second':{bI=new Date(e.getTime()+bH*n.oneSecond);break}}return bI};n.$0=function(e,bG){var bH=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12);var bI=new Date(bH.getTime()+n.oneDay*bG);return new Date(bI.getFullYear(),bI.getMonth(),bI.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};n.adjustByMonths=function(e,bG){var bH=e.getMonth();var bI;var bJ;if(bG<0){bI=-((12-(bH-1)-1-bG)/12)|0}else{bI=(bH-1+bG)/12|0}bJ=bH+(bG-bI*12);return new Date(e.getFullYear()+bI,bJ,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};n.adjustDateByPeriodInUTC=function(e,bG,bH){var bI=new Date;switch(bG){case'year':{bI=new Date(e.getUTCFullYear()+bH,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());break}case'quarter':{bI=n.adjustByMonthsInUTC(e,bH*3);break}case'month':{bI=n.adjustByMonthsInUTC(e,bH);break}case'week':{bI=new Date(e.getTime()+bH*n.oneWeek);break}case'day':{bI=new Date(e.getTime()+bH*n.oneDay);break}case'hour':{bI=new Date(e.getTime()+bH*n.oneHour);break}case'minute':{bI=new Date(e.getTime()+bH*n.oneMinute);break}case'second':{bI=new Date(e.getTime()+bH*n.oneSecond);break}}return bI};n.adjustByMonthsInUTC=function(e,bG){var bH=e.getUTCMonth(),bI,bJ;if(bG<0){bI=-((12-(bH-1)-1-bG)/12)|0}else{bI=(bH-1+bG)/12|0}bJ=bH+(bG-bI*12);return new Date(Date.UTC(e.getUTCFullYear()+bI,bJ,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))};n.parsePresModelDate=function(e){if(ss.isNullOrUndefined(e)){return null}var bG=(new RegExp('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)( (\\d\\d):(\\d\\d):(\\d\\d))?')).exec(e);if(ss.isNullOrUndefined(bG)){return null}var bH=parseInt(bG[1],10);var bI=parseInt(bG[2],10)-1;var bJ=parseInt(bG[3],10);if(ss.isNullOrEmptyString(bG[4])){return new Date(Date.UTC(bH,bI,bJ))}else{var bK=parseInt(bG[5],10);var bL=parseInt(bG[6],10);var bM=parseInt(bG[7],10);return new Date(Date.UTC(bH,bI,bJ,bK,bL,bM))}};n.dateAsYear=function(e){return e.getUTCFullYear()};n.dateAsQuarter=function(e){var bG=n.$3(e);return parseInt(1+ss.Int32.div(bG-1,3))};n.dateAsMonth=function(e){return n.$3(e)};n.dateAsWeek=function(e){var bG=new Date(e.getUTCFullYear(),0,1);var bH=n.$2(e);var bI=parseInt(1+(bH+n.$1(bG)-2)/7);return bI};n.dateAsDay=function(e){return e.getUTCDate()};n.dateAsDayOfYear=function(e){return n.$2(e)};n.dateAsDayOfWeek=function(e){return n.$1(e)};n.dateAsMonthYear=function(e){var bG=n.$3(e)*10000+e.getUTCFullYear();return bG};n.dateAsMonthDayYear=function(e){var bG=n.$3(e)*1000000+e.getUTCDate()*10000+e.getUTCFullYear();return bG};n.dateTimeAsHour=function(e){return e.getUTCHours()};n.dateTimeAsMinute=function(e){return e.getUTCMinutes()};n.dateTimeAsSecond=function(e){return e.getUTCSeconds()};n.dateTimeAsOleDate=function(e){return bs.OleDateFromJsDate(e.getTime())};n.$2=function(e){var bG=e.getUTCFullYear();var bH=e.getUTCMonth();var bI=e.getUTCDate();var bJ=new Date(bG,0,1,12,0,0);var bK=new Date(bG,bH,bI,12,0,0);var bL=Math.round((bK-bJ)/86400000);return bL+1};n.$3=function(e){return e.getUTCMonth()+1};n.$1=function(e){return e.getUTCDay()+1};n.daysSinceEpoch=function(e){return Math.floor(e.getTime()/86400000)};global.tab.DateUtil=n;var o=function(e,bG){this.$2=null;this.$1=0;this.$0=null;U.verifyValue(e,'action');this.$0=e;this.$1=bG};o.__typeName='tab.Debouncer';global.tab.Debouncer=o;var p=function(){this.$0=[]};p.__typeName='tab.DisposableHolder';global.tab.DisposableHolder=p;var q=function(){};q.__typeName='tab.DomUtil';q.$5=function(){return tab.Logger.lazyGetLogger(q)};q.get_documentBody=function(){return document.body};q.getComputedStyle=function(e){if(h.get_getComputedStyle()){var bG=window.getComputedStyle(e);if(ss.isValue(bG)){return bG}}return e.style};q.getComputedZIndex=function(e){U.verifyValue(e,'child');var bG=$(e);var bH=bG;var bI=document.documentElement;var bJ=document.body;while(bG.length!==0&&!ss.referenceEquals(bG[0],bJ)&&!ss.referenceEquals(bG[0],bI)){var bK=bG.css('position');if(bK==='absolute'||bK==='fixed'){bH=bG}bG=bG.offsetParent()}return q.$1(bH)};q.resize=function(e,bG){if(typeof(e['resize'])==='function'){e.resize(bG)}else{q.setMarginBox(e.domNode||e,bG)}};q.getContentBox=function(e){var bG=$(e);return{l:parseInt(bG.css('padding-left'),10)||0,t:parseInt(bG.css('padding-top'),10)||0,w:s.roundToInt(bG.width()),h:s.roundToInt(bG.height())}};q.setContentBox=function(e,bG){$(e).width(bG.w).height(bG.h)};q.setMarginBox=function(e,bG){q.setMarginBoxJQ($(e),bG)};q.setMarginBoxJQ=function(e,bG){var bH=e[0];var bI=bH.style;var bJ=window.getComputedStyle(bH);q.$2(bJ,bG,bH);if(!isNaN(bG.t)){bI.top=bG.t+'px'}if(!isNaN(bG.l)){bI.left=bG.l+'px'}};q.setAbsolutePositionBox=function(e,bG){e.css({left:(bG.l||0)+'px',top:(bG.t||0)+'px',width:(bG.w||0)+'px',height:(bG.h||0)+'px'})};q.getMarginBox=function(e){return q.getMarginBoxJQ($(e))};q.getMarginBoxJQ=function(e){var bG=e.position();return{l:s.roundToInt(bG.left),t:s.roundToInt(bG.top),w:s.roundToInt(e.outerWidth(true)),h:s.roundToInt(e.outerHeight(true))}};q.getRectXY=function(e){var bG=s.roundToInt(q.getPageOffset$1(e).left);var bH=s.roundToInt(q.getPageOffset$1(e).top);var bI=s.roundToInt(e.outerWidth(true));var bJ=s.roundToInt(e.outerHeight(true));return{x:bG,y:bH,w:bI,h:bJ}};q.getRectXY$1=function(e,bG){var bH=q.getRectXY(e);if(bG){var bI=q.docScroll();bH.x+=bI.x;bH.y+=bI.y}return bH};q.docScroll=function(){var e=ss.coalesce(window.pageXOffset,ss.coalesce(document.documentElement.scrollLeft,ss.coalesce(q.get_documentBody().scrollLeft,0)));var bG=ss.coalesce(window.pageYOffset,ss.coalesce(document.documentElement.scrollTop,ss.coalesce(q.get_documentBody().scrollTop,0)));return{x:e,y:bG}};q.isAncestorOf=function(e,bG){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bG)){return false}return $(bG).parents().index(e)>=0};q.isEqualOrAncestorOf=function(e,bG){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bG)){return false}return ss.referenceEquals(e,bG)||q.isAncestorOf(e,bG)};q.setElementPosition=function(e,bG,bH,bI,bJ){if(!ss.isValue(bJ)||ss.unbox(bJ)){var bK=ss.mkdict(['top','0px','left','0px']);var bL=(new ss.StringBuilder('translate3d(')).append(bG).append('px,').append(bH).append('px,').append('0px)').toString();bK[h.get_cssTransformName()]=bL;if(ss.isValue(bI)){bK[h.get_cssTransitionName()+'-duration']=bI}e.css(bK);return}var bM=ss.mkdict(['position','absolute','top',bH+'px','left',bG+'px']);bM[h.get_cssTransformName()]='';e.css(bM)};q.getElementPosition=function(e){return X.fromPosition(e.offset())};q.getElementClientPosition=function(e){var bG=q.getElementPosition(e);bG.x-=$(document.documentElement).scrollLeft();bG.y-=s.roundToInt($(document.documentElement).scrollTop());return bG};q.getTransformOffset=function(e){if(ss.isNullOrUndefined(e)){return{left:0,top:0}}var bG=e.css('transform');if(ss.isNullOrEmptyString(bG)){return{left:0,top:0}}var bH=bG.split('(');var bI=q.$7[bH[0]];if(ss.isNullOrUndefined(bI)){return{left:0,top:0}}var bJ=bH[1].split(',');return{left:ss.coalesce(s.parseDouble(bJ[ss.unbox(bI)]),0),top:ss.coalesce(s.parseDouble(bJ[ss.unbox(bI)+1]),0)}};q.getTransformScale=function(e){if(ss.isNullOrUndefined(e)){return 1}var bG=e.css('transform');if(ss.isNullOrEmptyString(bG)){return 1}var bH=bG.split('(');if(bH[0]==='scale'||bH[0]==='matrix'||bH[0]==='matrix3d'){return ss.coalesce(s.parseDouble(bH[1]),1)}else{return 1}};q.getPageOffset$1=function(e){var bG=q.getPageOffset(e[0]);return{left:bG.x,top:bG.y}};q.getPageOffset=function(e){var bG=e.getBoundingClientRect();var bH=document.documentElement.getBoundingClientRect();return{x:bG.left-bH.left,y:bG.top-bH.top}};q.getScrollPosition=function(e){return{left:e[0].scrollLeft,top:e[0].scrollTop}};q.scrollPosition=function(e,bG){e[0].scrollLeft=bG.left;e[0].scrollTop=bG.top};q.focusWithoutScrolling=function(e,bG){if(ss.isNullOrUndefined(bG)||bG.length===0){e()}else{bG.attr('data-tab-test-wait','');window.setTimeout(function(){var bH=q.getScrollPosition(bG);e();q.scrollPosition(bG,bH);bG.removeAttr('data-tab-test-wait')},200)}};q.roomAroundPosition=function(e){var bG=e.top-window.pageYOffset;var bH=window.pageYOffset+window.innerHeight-e.top;var bI=e.left-window.pageXOffset;var bJ=window.pageXOffset+window.innerWidth-e.left;return{roomAbove:bG,roomBelow:bH,roomLeft:bI,roomRight:bJ}};q.getElementRelativePosition=function(e,bG){if(ss.isNullOrUndefined(bG)){bG=e.parent()}var bH=e.offset();var bI=bG.offset();return{x:s.roundToInt(bH.left)-s.roundToInt(bI.left),y:s.roundToInt(bH.top)-s.roundToInt(bI.top)}};q.parseWidthFromStyle=function(e){if(ss.isValue(e)&&!O.isNullOrEmpty$3(e.width)){return parseInt(e.width)}return Number.NaN};q.parseHeightFromStyle=function(e){if(ss.isValue(e)&&!O.isNullOrEmpty$3(e.height)){return parseInt(e.height)}return Number.NaN};q.createNamespacedEventName=function(e,bG){if(ss.isValue(bG)){return e+bG}return e.toString()};q.stopPropagationOfInputEvents=function(e,bG){var bH=function(bI){bI.stopPropagation()};q.handleInputEvents(e,bG,bH)};q.handleInputEvents=function(e,bG,bH){e.on(q.createNamespacedEventName('touchstart',bG),bH).on(q.createNamespacedEventName('touchcancel',bG),bH).on(q.createNamespacedEventName('touchend',bG),bH).on(q.createNamespacedEventName('touchmove',bG),bH).on(q.createNamespacedEventName('click',bG),bH).on(q.createNamespacedEventName('mousedown',bG),bH).on(q.createNamespacedEventName('mousemove',bG),bH).on(q.createNamespacedEventName('mouseup',bG),bH)};q.isFocusableTextElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bG=e.tagName.toLowerCase();if(bG==='textarea'||bG==='input'||bG==='select'){return true}}return false};q.isCheckboxElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bG=e.tagName.toLowerCase();var bH=$(e).attr('type');if(bG==='input'&&bH==='checkbox'){return true}}return false};q.handleTouchEvents=function(e){if(q.isCheckboxElement(e)){return false}if(q.isFocusableTextElement(e)){return false}return true};q.setCapture=function(e,bG){if(!h.get_mouseCapture()){return}e.setCapture(bG)};q.releaseCapture=function(){if(!h.get_mouseCapture()){return}document.releaseCapture()};q.blur=function(){var e=document.activeElement;if(ss.isValue(e)&&!ss.referenceEquals(e,q.get_documentBody())&&typeof(e['blur'])==='function'){e.blur()}};q.$0=function(e,bG){var bH=parseInt(e,10);return(isNaN(bH)?bG:bH)};q.getSizeFromCssPixelProperty=function(e,bG){var bH=e.css(bG);return q.$0(bH,0)};q.$4=function(e,bG,bH){var bI=q.$0(e.marginLeft,0);var bJ=q.$0(e.borderLeftWidth,0);var bK=q.$0(e.paddingLeft,0);var bL=q.$0(e.paddingRight,0);var bM=q.$0(e.borderRightWidth,0);var bN=q.$0(e.marginRight,0);var bO=Math.max(bG-bI-bJ-bK-bL-bM-bN,0);bH.style.width=bO+'px'};q.$3=function(e,bG,bH){var bI=q.$0(e.marginTop,0);var bJ=q.$0(e.borderTopWidth,0);var bK=q.$0(e.paddingTop,0);var bL=q.$0(e.paddingBottom,0);var bM=q.$0(e.borderBottomWidth,0);var bN=q.$0(e.marginBottom,0);var bO=Math.max(bG-bI-bJ-bK-bL-bM-bN,0);bH.style.height=bO+'px'};q.$2=function(e,bG,bH){if(bG.w>=0){q.$4(e,bG.w,bH)}if(bG.h>=0){q.$3(e,bG.h,bH)}};q.$1=function(e){U.verifyValue(e,'o');var bG=e.css('z-index');if(_.isNumber(bG)){return bG}if(_.isString(bG)){if(!ss.isNullOrEmptyString(bG)&&bG!=='auto'&&bG!=='inherits'){return parseInt(bG,10)}}return 0};q.makeHtmlSafeId=function(e){return ss.replaceAllString(encodeURIComponent(e),'.','dot')};q.setSelectionRangeOnInput=function(e,bG,bH){if(h.get_setSelectionRange()){try{e.setSelectionRange(bG,bH)}catch(bI){}}};q.selectAllInputText=function(e){try{if(h.get_setSelectionRange()){e.get(0).setSelectionRange(0,e.val().length)}else{e.select()}}catch(bG){}};q.setCursorPosition=function(e,bG){if(typeof(e['createTextRange'])==='function'){var bH=(e.createTextRange?e.createTextRange():null);bH.move('character',bG);bH.select();bH.scrollIntoView();e.focus()}else if(h.get_isSafari()&&h.get_setSelectionRange()){e.focus();e.setSelectionRange(bG,bG)}else{e.blur();e.selectionStart=e.selectionEnd=bG;e.focus()}};q.replaceSelection=function(e,bG){var bH=e.value;var bI=bH.substr(0,e.selectionStart);var bJ=bH.substring(e.selectionEnd);var bK=e.selectionStart+bG.length;e.value=bI+bG+bJ;q.setCursorPosition(e,bK)};q.setNativeTooltip=function(e,bG){var bH=ss.isNullOrEmptyString(bG);if(bH){e.removeAttr('title')}else{e.attr('title',bG)}if(tsConfig.is_mobile){e.children('.tab-mobileTooltip').remove();if(!bH){var bI=$("<div class='tab-mobileTooltip'/>").text(bG);e.append(bI)}}};q.nodeHasTextSelection=function(e){var bG=window.getSelection();for(var bH=bG.rangeCount-1;bH>=0;--bH){var bI=bG.getRangeAt(bH);if(ss.referenceEquals(e,bI.startContainer)||e.contains(bI.startContainer)||ss.referenceEquals(e,bI.endContainer)||e.contains(bI.endContainer)){return true}}return false};q.generateUniqueId=function(){return'tab-ui-id-'+q.$8++};q.getIds=function(e){if(ss.isNullOrUndefined(e)){return[]}return e.map(function(bG,bH){return bH.id}).get()};q.asIDSelector=function(e){return'#'+e};q.asClassSelector=function(e){return'.'+e};q.toMsString=function(e){return e+'ms'};q.toPoint=function(e){return{x:ss.Int32.trunc(e.left),y:ss.Int32.trunc(e.top)}};global.tab.DomUtil=q;var r=function(){};r.__typeName='tab.DoubleRectXYUtil';r.constructDoubleRectXY=function(e,bG,bH,bI){return{x:e,y:bG,w:bH-e,h:bI-bG}};r.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};r.isEqual=function(e,bG){return e.x===bG.x&&e.y===bG.y&&e.w===bG.w&&e.h===bG.h};r.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};r.inRect=function(e,bG){return bG.x>=e.x&&bG.x<e.x+e.w&&bG.y>=e.y&&bG.y<e.y+e.h};r.inRect$1=function(e,bG,bH,bI,bJ,bK){return bJ>=e&&bJ<e+bH&&bK>=bG&&bK<bG+bI};r.intersectsWith=function(e,bG){return!(bG.x+bG.w<e.x||bG.y+bG.h<e.y||bG.x>e.x+e.w||bG.y>e.y+e.h)};r.outsetRect=function(e,bG,bH){return{x:e.x-bG,y:e.y-bH,w:e.w+bG+bG,h:e.h+bH+bH}};r.outsetRectInPlace=function(e,bG,bH){e.x-=bG;e.y-=bH;e.w+=2*bG;e.h+=2*bH};r.toEncompassingRectXY=function(e){var bG=Math.floor(e.x);var bH=Math.floor(e.y);var bI=Math.ceil(e.x+e.w);var bJ=Math.ceil(e.y+e.h);return{x:bG,y:bH,w:bI-bG,h:bJ-bH}};global.tab.DoubleRectXYUtil=r;var s=function(){};s.__typeName='tab.DoubleUtil';s.$0=function(){return tab.Logger.lazyGetLogger(s)};s.isApproximatelyEqual=function(e,bG){if(Math.abs(e-bG)<s.epsilon){return true}if(e===0){return false}var bH=bG/e;if(s.$3<=bH&&bH<=s.$5){return true}return false};s.isApproximatelyZero=function(e){return s.isApproximatelyEqual(0,e)};s.isLessThanAndNotApproximatelyEqual=function(e,bG){return e<bG&&!s.isApproximatelyEqual(e,bG)};s.isLessThanOrApproximatelyEqual=function(e,bG){return e<bG||s.isApproximatelyEqual(e,bG)};s.isGreaterThanAndNotApproximatelyEqual=function(e,bG){return e>bG&&!s.isApproximatelyEqual(e,bG)};s.isGreaterThanOrApproximatelyEqual=function(e,bG){return e>bG||s.isApproximatelyEqual(e,bG)};s.sigFigs=function(e,bG){if(e===0||bG===0){return e}var bH=Math.pow(10,bG-Math.floor(Math.log(Math.abs(e))/Math.LN10)-1);return ss.round(e*bH)/bH};s.roundToInt=function(e){return ss.round(e)};s.parseDouble=function(e){var bG=parseFloat(e);return(isFinite(bG)?bG:null)};s.isValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return false}return $.isNumeric(e)};s.parse64BitInteger=function(e){var bG={};if(!ss.Int32.tryParse(e,bG)){return null}var bH=s.parseValidDouble(e);if(ss.Nullable$1.gt(bH,9.22337203685477E+18)||ss.Nullable$1.lt(bH,-9.22337203685477E+18)){return null}return bG.$};s.isValid32BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bG=s.parse64BitInteger(e);if(ss.isNullOrUndefined(bG)){return false}return ss.Nullable$1.le(bG,2147483647)&&ss.Nullable$1.ge(bG,-2147483648)};s.isValid64BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bG=s.parse64BitInteger(e);if(ss.isNullOrUndefined(bG)){return false}return true};s.parseValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return Number.NaN}if(!s.isValidDouble(e)){return Number.NaN}return parseFloat(e)};s.multiplyBy100=function(e){return e*1000/10};s.truncateTwoDecimalPlaces=function(e){return ss.Int32.trunc(s.multiplyBy100(e))/100};s.roundTwoDecimalPlaces=function(e){return ss.round(s.multiplyBy100(e))/100};global.tab.DoubleUtil=s;var t=function(){};t.__typeName='tab.ErrorTrace';t.install=function(){var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){if(e==='debug'){t.$l=true}}t.$3('setTimeout');t.$3('setInterval')};t.wrap=function(bG){return function(){try{return bG.apply(this,Array.prototype.slice.call(arguments))}catch(bH){var e=ss.Exception.wrap(bH);t.report(e,false);throw bH}}};t.$3=function(e){var bG=window[e];var bH=function(){var bI=ss.arrayClone(Array.prototype.slice.call(arguments));var bJ=bI[0];if(ss.isInstanceOfType(bJ,Function)){bI[0]=t.wrap(bJ)}return bG.apply(this,bI)};window[e]=bH};t.windowOnError=function(e,bG,bH,bI,bJ){var bK;if(ss.isValue(t.$n)){t.$0(t.$n,bG,bH,e);bK=t.$n;t.$n=null;t.$m=null}else{var bL=new bf(bG,bH);bL.functionName=t.$8(bL);bL.context=t.$6(bL);bK=new bg('onError',e);bK.name='window.onError';bK.locations=[bL]}t.$q.push(bK);if(ss.isValue(t.$o)){t.$o.apply(this,Array.prototype.slice.call(arguments))}return false};t.$0=function(e,bG,bH,bI){var bJ=new bf(bG,bH);if(ss.isValue(bJ.url)&&ss.isValue(bJ.lineNo)){e.isIncomplete=false;if(ss.isNullOrUndefined(bJ.functionName)){bJ.functionName=t.$8(bJ)}if(ss.isNullOrUndefined(bJ.context)){bJ.context=t.$6(bJ)}var bK=bI.match(new RegExp(" '([^']+)' "));if(ss.isValue(bK)&&bK.length>1){bJ.columnNo=t.$5(bK[1],bJ)}if(ss.isValue(e.locations)&&e.locations.length>0){var bL=e.locations[0];if(ss.referenceEquals(bL.url,bJ.url)){if(bL.lineNo===bJ.lineNo){return}else if(ss.isNullOrUndefined(bL.lineNo)&&ss.referenceEquals(bL.functionName,bJ.functionName)){bL.lineNo=bJ.lineNo;bL.context=bJ.context;return}}}e.locations.unshift(bJ);e.isPartial=true;return}else{e.isIncomplete=true}return};t.$9=function(e){if(!t.$r){return''}try{var bG=new XMLHttpRequest;bG.open('GET',e,false);bG.send('');return bG.responseText}catch(bH){return''}};t.$7=function(e){if(ss.isNullOrUndefined(e)){return[]}if(!ss.keyExists(t.$h,e)){var bG='';if(e.indexOf(document.domain)>-1){bG=t.$9(e)}t.$h[e]=(ss.isNullOrEmptyString(bG)?[]:bG.split('\n'))}return t.$h[e]};t.$5=function(e,bG){var bH=t.$7(bG.url);var bI=new RegExp('\\b'+t.$2(e)+'\\b');if(ss.isValue(bH)&&bH.length>bG.lineNo){var bJ=bI.exec(bH[bG.lineNo]);if(ss.isValue(bJ)){return bJ.index}}return-1};t.$8=function(e){var bG=new RegExp('function ([^(]*)\\(([^)]*)\\)');var bH=new RegExp('[\'"]?([0-9A-Za-z$_]+)[\'"]?\\s*[:=]\\s*(function|eval|new Function)');var bI='';var bJ=10;var bK=t.$7(e.url);if(bK.length===0){return'?'}for(var bL=0;bL<bJ;bL++){bI=bK[e.lineNo-1]+bI;if(!ss.isNullOrEmptyString(bI)){var bM=bH.exec(bI);if(ss.isValue(bM)&&bM.length>0){return bM[1]}bM=bG.exec(bI);if(ss.isValue(bM)&&bM.length>0){return bM[1]}}}return'?'};t.$6=function(e){var bG=t.$7(e.url);if(ss.isNullOrUndefined(bG)||bG.length===0){return null}var bH=[];var bI=60;var bJ=e.columnNo;var bK=bG[e.lineNo-1];var bL=Math.max(0,bJ-bI);var bM=Math.min(bJ+bI,bK.length);bH.push(bK.substr(bL,bM-bL));return bH};t.$2=function(e){return e.replace(new RegExp('[\\-\\[\\]{}()*+?.,\\\\\\^$|#]','g'),'\\\\$&')};t.getStackTraceFor=function(e){var bG=new bg('stack',e.get_message());bG.name=e.name;if(t.$l){var bH=null;try{bH=t.$1(e)}catch(bI){var inner=ss.Exception.wrap(bI);if(t.$s){throw inner}}if(ss.isValue(bH)){return bH}}else{return bG}bG.traceMode='failed';return bG};t.$1=function(e){var bG=t.$b(e);var bH=new bg('stack',e.get_message());bH.name=e.name;bH.locations=bG;return bH};t.$b=function(e){var bG;if(ss.isValue(e.get_innerException())){bG=e.get_innerException().error}else{bG=e._error}if(ss.isValue(bG.stack)&&ss.isValue(bG.stack.match(t.$d))){return t.$a(bG)}if(ss.isValue(bG.stack)){return t.$c(bG)}return null};t.$a=function(e){var bG=e.stack.split(String.fromCharCode(10)).filter(function(bH){return ss.isValue(bH.match(t.$d))});return bG.map(function(bH){if(bH.indexOf('(eval ')>-1){bH=ss.replaceAllString(bH,'eval code','eval').replace(t.$i,'')}var bI=bH.replace(new RegExp('^\\s+'),'').replace(new RegExp('\\(eval code'),'(').split(new RegExp('\\s+')).slice(1);var bJ=t.$4(bI.pop());var bK=ss.coalesce(bI.join(' '),'undefined');var bL=((ss.indexOf(['eval','<anonymous>'],bJ[0])>-1)?'undefined':bJ[0]);var bM=parseInt(bJ[1]);var bN=parseInt(bJ[2]);var bO=new bf(bL,bM);bO.functionName=bK;bO.columnNo=bN;bO.context=[bH];var bP=bO;bP.context=t.$6(bP);return bP})};t.$c=function(e){var bG=e.stack.split(String.fromCharCode(10)).filter(function(bH){return ss.isNullOrUndefined(bH.match(t.$g))});return bG.map(function(bH){if(bH.indexOf(' > eval')>-1){bH=bH.replace(new RegExp(' line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+','g'),':$1')}if(bH.indexOf('@')===-1&&bH.indexOf(':')===-1){return new bf(bH,-1)}else{var bI=bH.split('@');var bJ=t.$4(bI.pop());var bK=ss.coalesce(bI.join('@'),'undefined');var bL=bJ[0];var bM=parseInt(bJ[1]);var bN=parseInt(bJ[2]);var bO=new bf(bL,bM);bO.functionName=bK;bO.columnNo=bN;bO.context=[bH];var bP=bO;bP.context=t.$6(bP);return bP}})};t.$4=function(e){if(e.indexOf(String.fromCharCode(58))===-1){return[e]}var bG=t.$e.exec(e.replace(t.$f,''));return[bG[1],ss.coalesce(bG[2],'undefined'),ss.coalesce(bG[3],'undefined')]};t.hasTraces=function(){return t.$q.length>0};t.dequeueTraces=function(){var e=t.$q;t.$q=[];return e};t.installGlobalHandler=function(){if(t.$p||!t.$k){return}t.$o=window.onerror;window.onerror=t.windowOnError;t.$p=true};t.report=function(e,bG){if(ss.isNullOrUndefined(bG)){bG=true}if(ss.isValue(t.$n)){if(ss.referenceEquals(t.$m,e)){return}else{var bH=t.$n;t.$n=null;t.$m=null;t.$q.push(bH)}}var bI=t.getStackTraceFor(e);t.$n=bI;t.$m=e;window.setTimeout(function(){if(ss.referenceEquals(t.$m,e)){t.$n=null;t.$m=null;t.$q.push(bI)}},(bI.isIncomplete?2000:0));if(bG){throw e}};global.tab.ErrorTrace=t;var u=function(){};u.__typeName='tab.FeatureFlags';u.isEnabled=function(e){if(ss.isValue(tsConfig.features)&&ss.keyExists(tsConfig.features,e)){return tsConfig.features[e]}if(ss.isValue(u.$0)&&ss.keyExists(u.$0,e)){return u.$0[e]}return false};u.setDefaults=function(e){u.$0=e};global.tab.FeatureFlags=u;var v=function(){};v.__typeName='tab.FeatureParam';global.tab.FeatureParam=v;var w=function(){};w.__typeName='tab.FeatureParamsLookup';w.getBool=function(e){if(ss.keyExists(w.$4,e)){return w.$4[e]||false}return false};w.getFloat=function(e){if(ss.keyExists(w.$6,e)){return w.$6[e]}return null};w.getInt=function(e){if(ss.keyExists(w.$8,e)){return w.$8[e]}return null};w.getString=function(e){if(ss.keyExists(w.$b,e)){return w.$b[e]}return null};w.$1=function(e,bG,bH){w.$5.push(bG);w.$d[e]=bG;w.$4[bG]=bH};w.$2=function(e,bG){w.$9.push(bG);w.$d[e]=bG;w.$8[bG]=null};w.$3=function(e,bG){w.$c.push(bG);w.$d[e]=bG;w.$b[bG]=null};w.$0=function(){var e=tab.UriExtensions.getUriQueryParameters(window.self.location.search);var bG=new ss.ObjectEnumerator(e);try{while(bG.moveNext()){var bH=bG.current();var bI=bH.key.toLowerCase();var bJ=0;if(ss.keyExists(w.$d,bI)){bJ=w.$d[bI]}else{continue}if(bH.value.length>0){var bK=bH.value[0];if(ss.contains(w.$5,bJ)){var bL=bK.toLowerCase()==='true';w.$4[bJ]=bL}else if(ss.contains(w.$7,bJ)){var bM=parseFloat(bK);w.$6[bJ]=bM}else if(ss.contains(w.$9,bJ)){var bN=parseInt(bK);w.$8[bJ]=bN}else if(ss.contains(w.$c,bJ)){w.$b[bJ]=bK}else{continue}}else{continue}}}finally{bG.dispose()}};global.tab.FeatureParamsLookup=w;var x=function(){};x.__typeName='tab.HistoryUtil';x.pushState=function(e,bG,bH,bI){if(h.get_historyApi()){try{e.history.pushState(bG,bH,bI)}catch(bJ){var e=ss.Exception.wrap(bJ)}}};x.replaceState=function(e,bG,bH,bI){if(h.get_historyApi()){try{e.history.replaceState(bG,bH,bI)}catch(bJ){var e=ss.Exception.wrap(bJ)}}};global.tab.HistoryUtil=x;var y=function(){};y.__typeName='tab.HttpResponseCodes';global.tab.HttpResponseCodes=y;var z=function(){};z.__typeName='tab.IAppendableView';global.tab.IAppendableView=z;var A=function(){};A.__typeName='tab.IBrowserViewport';global.tab.IBrowserViewport=A;var B=function(){};B.__typeName='tab.ICommonBannerProvider';global.tab.ICommonBannerProvider=B;var C=function(){};C.__typeName='tab.ICommonDialogProvider';global.tab.ICommonDialogProvider=C;var D=function(e,bG){this.$0=0;this.$1=0;this.$0=e;this.$1=bG};D.__typeName='tab.IntegerRange';D.itemToTileRange=function(e,bG){var bH=new D(0,0);bH.set_from(Math.floor(e.get_from()/bG));bH.set_to(Math.floor(e.get_to()/bG));return bH};D.pixelToItemRange=function(e,bG){var bH=new D(0,0);bH.set_from(Math.floor(e.get_from()/bG));bH.set_to(Math.floor(e.get_to()/bG));return bH};D.pixelToTileRange=function(e,bG,bH){return D.itemToTileRange(D.pixelToItemRange(e,bG),bH)};D.isEqual=function(e,bG){return ss.isValue(e)&&ss.isValue(bG)&&e.get_to()===bG.get_to()&&e.get_from()===bG.get_from()};D.union=function(e,bG){if(ss.isNullOrUndefined(e)){return bG}if(ss.isNullOrUndefined(bG)){return e}var bH=new D(0,0);bH.set_from(Math.min(e.get_from(),bG.get_from()));bH.set_to(Math.max(e.get_to(),bG.get_to()));return bH};global.tab.IntegerRange=D;var E=function(e){var bG=function(){};ss.registerGenericInterfaceInstance(bG,E,[e],{get_viewModel:null,get_rootElement:null},function(){return[ss.IDisposable,z]});ss.setMetadata(bG,{variance:[1]});return bG};E.__typeName='tab.IView$1';ss.initGenericInterface(E,a,1);global.tab.IView$1=E;var F=function(){};F.__typeName='tab.IViewModel';global.tab.IViewModel=F;var G=function(){};G.__typeName='tab.IWidget';global.tab.IWidget=G;var H=function(){I.call(this)};H.__typeName='tab.JsMapPolyfill';global.tab.JsMapPolyfill=H;var I=function(){this.store={};this.size=0};I.__typeName='tab.JsSetPolyfillImpl';global.tab.JsSetPolyfillImpl=I;var J=function(){};J.__typeName='tab.ListExtensions';J.where=function(e){return function(bG,bH){var bI=[];var bJ=ss.getEnumerator(bG);try{while(bJ.moveNext()){var bK=bJ.current();if(bH(bK)){bI.push(bK)}}}finally{bJ.dispose()}return bI}};J.except=function(e){return function(bG,bH){return J.where(e).call(null,bG,function(bI){return!ss.contains(bH,bI)})}};J.any=function(e){return function(bG,bH){for(var bI=0;bI<bG.length;bI++){var bJ=bG[bI];if(bH(bJ)){return true}}return false}};global.tab.ListExtensions=J;var K=function(){ss.Exception.call(this)};K.__typeName='tab.LoopBreakException';K.$ctor1=function(e){ss.Exception.call(this,e)};K.$ctor2=function(e,bG){ss.Exception.call(this,e,bG)};global.tab.LoopBreakException=K;var L=function(){};L.__typeName='tab.MapUtil';L.getZoomFactorForDesiredZoomLevel=function(e,bG){return Math.exp(-(Math.LN2*(bG-e)))};L.allowZoomAtCurrentLevel=function(e,bG){return e+Math.log(1/bG)/Math.LN2>=0};L.allowZoomAtCurrentLevelLeaflet=function(e,bG){return e-bG>=0};L.getVisiblePixelWidth=function(e,bG,bH){var bI=Math.pow(2,e)*bH;var bJ=Math.floor(bG*bI);return bJ};L.getScrollDeltaForZoomFactor=function(e){return Math.floor(L.$1*(Math.log(e)/Math.log(2)))};L.getLeafletZoomOffsetForTileSize=function(e){return((e===L.$0)?-1:0)};L.calculateZoomFactor=function(e){var bG=ss.Int32.div(e,8);var bH=ss.Int32.div(bG,15);var bI=1;var bJ=Math.log(bI)/Math.log(2)+bH/4;bI=Math.pow(2,bJ);return ss.round(bI,2)};global.tab.MapUtil=L;var M=function(){};M.__typeName='tab.MapUtility';M.forEachWithInterrupt=function(e,bG){return function(bH,bI){try{bH.forEach(bI)}catch(bJ){bJ=ss.Exception.wrap(bJ);if(ss.isInstanceOfType(bJ,K)){}else{throw bJ}}}};M.forEachWithInterrupt$1=function(e,bG){return function(bH,bI){try{bH.forEach(function(bJ,bK){bI(bJ,bK)})}catch(bJ){bJ=ss.Exception.wrap(bJ);if(ss.isInstanceOfType(bJ,K)){}else{throw bJ}}}};M.createCopy=function(e,bG){return function(bH){var bI=new Map;bH.forEach(function(bJ,bK){bI.set(bK,bJ)});return bI}};global.tab.MapUtility=M;var N=function(){this.$a=null;this.$b=null;this.$8=null;this.$7=null;this.$9=null;this.$a=[];this.$8=[];this.$9=null;this.$7=null};N.__typeName='tab.MetricsLogger';N.get_instance=function(){if(!ss.isValue(N.$d)){N.$d=new N}return N.$d};N.$3=function(e){return e+tabBootstrap.MetricsController.recordingStart};N.$1=function(e,bG){var bH=(bG?', ':',');var bI=new ss.StringBuilder;bI.append((bG?N.$b[e.eventType]:e.eventType.toString()));var bJ=ss.getKeyCount(e.parameters);if(bJ>0){bI.append('=');bI.append('{');var bK=0;var bL=(bG?': ':':');var bM=ss.getEnumerator(Object.keys(e.parameters));try{while(bM.moveNext()){var bN=bM.current();if(bN==='id'&&e.eventType!=='init'){continue}if(bK++>0){bI.append(bH)}bI.append((bG?N.$c[bN]:bN.toString()));bI.append(bL);var bO=e.parameters[bN];N.$2(bI,bO,bG)}}finally{bM.dispose()}bI.append('}')}return bI.toString()};N.$0=function(e,bG,bH){var bI=(bH?', ':',');var bJ=(bH?': ':':');var bK=ss.getKeyCount(bG);var bL=0;var bM=ss.getEnumerator(Object.keys(bG));try{while(bM.moveNext()){var bN=bM.current();if(bG.hasOwnProperty(bN)){var bO=bG[bN];e.append(bN);e.append(bJ);N.$2(e,bO,bH);if(++bL<bK){e.append(bI)}}}}finally{bM.dispose()}};N.$2=function(e,bG,bH){var bI=typeof(bG);if(bI==='number'&&Math.floor(bG)!==bG){e.append(bG.toFixed(1))}else if(bI==='string'){if(bH||ss.isValue(bG)&&bG.indexOf('/')!==-1){var bJ=new ss.StringBuilder;bJ.append('"');bJ.append(bG);bJ.append('"');if(bH){e.append(bJ)}else{e.append(encodeURIComponent(bJ.toString()))}}else{e.append(encodeURIComponent(bG))}}else if($.isArray(bG)){e.append('[');e.append(bG);e.append(']')}else if(bI==='object'){e.append('{');var bK=bG;N.$0(e,bK,bH);e.append('}')}else{e.append(bG)}};global.tab.MetricsLogger=N;var O=function(){};O.__typeName='tab.MiscUtil';O.get_pathName=function(){var e=tabBootstrap.Utility.get_locationWindow();return tab.WindowHelper.getLocation(e).pathname};O.get_urlPathnameParts=function(){var e=O.get_pathName();var bG=tsConfig.site_root;var bH=e.indexOf(bG,0);var bI=e.substr(bH+bG.length);var bJ=bI.split('/');var bK={};bK[2]=bJ[2];bK[3]=bJ[3];bK[4]=bJ[4];return bK};O.shallowEquals=function(e,bG){if(ss.referenceEquals(e,bG)){return true}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bG)){return false}var bH=Object.keys(e);var bI=Object.keys(bG);if(bH.length!==bI.length){return false}for(var bJ=0;bJ<bH.length;bJ++){var bK=bH[bJ];if(!bG.hasOwnProperty(bK)||!ss.referenceEquals(e[bK],bG[bK])){return false}}return true};O.percentEncode=function(e,bG){e=encodeURIComponent(e);if(ss.isNullOrUndefined(bG)){return e}var bH=new ss.StringBuilder;var bI=0;while(bI<e.length){var bJ=e.substr(bI,1);if(bJ==='%'){bH.append(e.substr(bI,3));bI+=2}else if(!ss.keyExists(bG,bJ)){bH.append('%').append(bJ.charCodeAt(0).toString(16).toUpperCase())}else{bH.append(bJ)}bI++}return bH.toString()};O.encodeForWG=function(e){var bG={};var bH=function(bI,bJ){for(var bK=bI;bK<=bJ;bK++){var bL=String.fromCharCode(bK);bG[bL]=bL}};bH(97,122);bH(65,90);bH(48,57);bH(95,95);bH(45,45);e=O.percentEncode(e,bG);e=O.percentEncode(e,null);return e};O.isNullOrUndefined=function(e){if(ss.isNullOrUndefined(e)){return true}for(var bG=0;bG<e.length;bG++){if(ss.isNullOrUndefined(e[bG])){return true}}return false};O.isNullOrEmpty$2=function(e){if(ss.isNullOrUndefined(e)){return true}var bG=e;if(ss.isValue(bG['length'])&&bG['length']===0){return true}return false};O.isNullOrEmpty$3=function(e){return ss.isNullOrEmptyString(e)};O.isNullOrEmpty$1=function(e){return ss.isNullOrUndefined(e)||e.length===0};O.isNullOrEmpty=function(e){return ss.isNullOrUndefined(e)||e.length===0};O.isValidIndex=function(e,bG){return e>=0&&e<bG.length};O.toBoolean=function(e,bG){var bH=new RegExp('^(yes|y|true|t|1)$','i');if(O.isNullOrEmpty$3(e)){return bG}var bI=e.match(bH);return!O.isNullOrEmpty$2(bI)};O.shouldShowDataTab=function(){return tsConfig.allow_add_new_datasource&&(!tsConfig.is_mobile||tsConfig.is_mobile&&u.isEnabled('DataToTheWebMobile'))};O.replaceUriQueryParameters=function(e,bG){if(ss.getKeyCount(bG)===0){return e}var bH=new ss.StringBuilder;var bI=true;var bJ=function(){bH.append((bI?'?':'&'));bI=false};var bK=_.keys(bG);for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];var bN=bG[bM];var bO=encodeURIComponent(bM);if(ss.isNullOrUndefined(bN)||bN.length===0){bJ();bH.append(bO)}else{for(var bP=0;bP<bN.length;bP++){var bQ=bN[bP];bJ();bH.append(bO).append('=').append(encodeURIComponent(bQ))}}}var bR='';var bS='';if(e.length>0){var bT=e.indexOf('?');var bU=e.indexOf('#');var bV=Math.min(((bT<0)?e.length:bT),((bU<0)?e.length:bU));bS=e.substr(0,bV);bR=((bU<0)?'':e.substr(bU))}return bS+bH+bR};O.sanatizeBoolean=function(e){if(ss.isNullOrUndefined(e)){return e}return e.toString().toLowerCase()==='true'};O.dispose$1=function(e){if(ss.isValue(e)){e.dispose()}return null};O.dispose=function(e){if(ss.isValue(e)){for(var bG=0;bG<e.length;bG++){var bH=e[bG];if(ss.isValue(bH)){bH.dispose()}}ss.clear(e)}return null};O.clearTimeout=function(e){if(ss.isValue(e)){window.clearTimeout(ss.unbox(e))}return null};O.clearInterval=function(e){if(ss.isValue(e)){window.clearInterval(ss.unbox(e))}return null};O.cloneObject=function(e){var bG=JSON.stringify(e,function(bH,bI){if(ss.isInstanceOfType(bI,Uint32Array)||ss.isInstanceOfType(bI,Float64Array)||ss.isInstanceOfType(bI,Float32Array)){return eval('Array.prototype.slice.call(v);')}return bI});return JSON.parse(bG)};global.tab.MiscUtil=O;var P=function(){};P.__typeName='tab.NaturalLanguageUtil';P.retrievePublishedDatasourceId=function(){var e=tab.WindowHelper.getLocation(window.self).href;var bG=e.match(new RegExp('publishedDatasourceId=([0-9]+)'));return((ss.isValue(bG)&&bG.length>1)?bG[1]:'')};P.retrieveSiteId=function(){var e=tab.WindowHelper.getLocation(window.self).href;var bG=e.match(new RegExp('siteId=([^&]+)'));return((ss.isValue(bG)&&bG.length>1)?bG[1]:'')};P.boxShouldShow=function(){return tsConfig.isNlpSheet||u.isEnabled('NLBoxAlways')};global.tab.NaturalLanguageUtil=P;var Q=function(){};Q.__typeName='tab.NavigationMetricsCollector';Q.collectMetrics=function(){if(typeof(window)!=='undefined'&&typeof(window.performance)!=='undefined'&&typeof(window.performance.timing)!=='undefined'&&typeof(tabBootstrap.MetricsEvent)!=='undefined'){Q.$0=window.performance.timing;if('navigationStart'in Q.$0){var e=Q.$0[Q.$1[0]];var bG=[];for(var bH=0;bH<Q.$1.length;bH++){var bI=Q.$1[bH];var bJ=Q.$0[bI];bJ=((bJ===0)?0:(bJ-e));bG.push(bJ)}var bK={};bK['v']=bG;var bL=new tabBootstrap.MetricsEvent('nav',1,bK);tabBootstrap.MetricsController.logEvent(bL)}}};global.tab.NavigationMetricsCollector=Q;var R=function(e,bG){this.$1=null;this.$0=null;this.$1=e;this.$0=bG};R.__typeName='tab.ObjectAccessTracker';R.$0=function(e){return typeof(e)==='symbol'};global.tab.ObjectAccessTracker=R;var S=function(e){this.$2={};this.$1=null;this.$0=null;this.$0=e;S.trackedObjects[e]=this};S.__typeName='tab.ObjectCoverage';S.$1=function(e){return typeof(e)==='object'&&!ss.isInstanceOfType(e,Array)};S.$0=function(e){return ss.isInstanceOfType(e,Array)};S.shouldTrack=function(e){if(ss.isNullOrUndefined(S.$2)){S.$2={};var bG=w.getString(47);if(!ss.isNullOrUndefined(bG)){var bH=bG.split(',');for(var bI=0;bI<bH.length;bI++){var bJ=bH[bI];S.$2[bJ]=true}}}return ss.keyExists(S.$2,e)&&S.$2[e]};global.tab.ObjectCoverage=S;var T=function(){};T.__typeName='tab.ObjectRegistry';T.registerType=function(e,bG){return function(){if(ss.isNullOrUndefined(T.$3)){T.$3={}}T.$3[ss.getTypeFullName(e)]=bG}};T.registerDeferredType=function(e){return function(){var bG=$.Deferred();if(ss.isNullOrUndefined(T.$2)){T.$2={}}T.$2[ss.getTypeFullName(e)]=bG}};T.resolveDeferredType=function(e){return function(bG){if(ss.isNullOrUndefined(T.$2)){return}T.$2[ss.getTypeFullName(e)].resolve(bG)}};T.newView$1=function(e){return function(bG,bH){return T.$1(e).call(null,bG,bH)}};T.newView=function(e){return function(bG){return T.$1(e).call(null,e,bG)}};T.newDeferred=function(e){return function(bG){var bH=e;if(ss.isNullOrUndefined(T.$2)){throw new ss.Exception('No deferred types registered')}var bI=T.$2[ss.getTypeFullName(bH)];if(ss.isNullOrUndefined(bI)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(bH))}var bJ=$.Deferred();bI.done(function(bK){bJ.resolve(ss.applyConstructor(bK,bG))});return bJ}};T.newWidget$2=function(e){return function(bG,bH){return T.$1(e).call(null,bG,bH)}};T.newWidget=function(e){return function(){return T.$1(e).call(null,e,[])}};T.newWidget$1=function(e){return function(bG){return T.$1(e).call(null,e,bG)}};T.$1=function(e){return function(bG,bH){if(ss.isNullOrUndefined(T.$3)){throw new ss.Exception('No types registered')}var bI=T.$3[ss.getTypeFullName(bG)];if(ss.isNullOrUndefined(bI)){throw new ss.Exception('Unknown view type: '+ss.getTypeFullName(bG))}var bJ=((bH.length===0)?ss.createInstance(bI):ss.applyConstructor(bI,bH));return(T.$0(bI,e)?bJ:bJ)}};T.newLegacyTooltip=function(e){return function(bG,bH,bI){if(ss.isNullOrUndefined(T.$3)){throw new ss.Exception('No types registered')}var bJ=T.$3[ss.getTypeFullName(bG)];if(ss.isNullOrUndefined(bJ)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(bG))}var bK=new bJ(bH,bI);return bK}};T.newLegacyTooltipBehavior=function(e){return function(bG,bH){if(ss.isNullOrUndefined(T.$3)){throw new ss.Exception('No types registered')}var bI=T.$3[ss.getTypeFullName(bG)];if(ss.isNullOrUndefined(bI)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(bG))}var bJ=new bI(bH);return bJ}};T.resolve=function(e){return function(bG){var bH=e;if(ss.isNullOrUndefined(T.$3)){throw new ss.Exception('No types registered')}var bI=T.$3[ss.getTypeFullName(bH)];if(ss.isNullOrUndefined(bI)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(bH))}return ss.applyConstructor(bI,bG)}};T.$0=function(e,bG){return ss.isNullOrUndefined(ss.getGenericTypeDefinition(bG))||ss.isValue(ss.getGenericTypeDefinition(e))};global.tab.ObjectRegistry=T;var U=function(){};U.__typeName='tab.Param';U.createArgumentNullOrUndefinedException=function(e){var bG=new ss.Exception(e+' is null or undefined.');bG.paramName=e;return bG};U.verifyString=function(e,bG){U.verifyValue(e,bG);if(e.trim().length===0){var bH=new ss.Exception(bG+' contains only white space');bH.paramName=bG;U.$1(bH);throw bH}};U.verifyValue=function(e,bG){if(ss.isNullOrUndefined(e)){var bH=U.createArgumentNullOrUndefinedException(bG);U.$1(bH);throw bH}};U.$1=function(e){if(U.suppressAlerts){return}try{throw e}catch(bG){var exceptionWithStack=ss.Exception.wrap(bG);window.alert(U.$0(exceptionWithStack))}};U.$0=function(e){var bG;if(ss.isValue(e.stack)){bG=e.stack}else{bG=e.get_message()}return bG};global.tab.Param=U;var V=function(){};V.__typeName='tab.PathnameKey';global.tab.PathnameKey=V;var W=function(){};W.__typeName='tab.PointDUtil';W.subtract=function(e,bG){return{x:e.x-bG.x,y:e.y-bG.y}};W.timesScalar=function(e,bG){return{x:e.x*bG,y:e.y*bG}};W.round=function(e){return{x:Math.round(e.x),y:Math.round(e.y)}};global.tab.PointDUtil=W;var X=function(){};X.__typeName='tab.PointUtil';X.fromPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.x,y:e.y}};X.toPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bG={x:ss.round(e.x),y:ss.round(e.y)};return bG};X.fromPosition=function(e){return{x:s.roundToInt(e.left),y:s.roundToInt(e.top)}};X.fromPointD=function(e){return{x:s.roundToInt(e.x),y:s.roundToInt(e.y)}};X.add=function(e,bG){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bG)){return e}return{x:e.x+bG.x,y:e.y+bG.y}};X.subtract=function(e,bG){return{x:e.x-bG.x,y:e.y-bG.y}};X.distance=function(e,bG){U.verifyValue(e,'first');U.verifyValue(bG,'second');var bH=e.x-bG.x;var bI=e.y-bG.y;return Math.sqrt(bH*bH+bI*bI)};X.isWithinDistance=function(e,bG,bH){var bI=e.x-bG.x;var bJ=e.y-bG.y;return bI*bI+bJ*bJ<=bH*bH};X.equals=function(e,bG){return ss.isValue(e)&&ss.isValue(bG)&&bG.x===e.x&&bG.y===e.y};global.tab.PointUtil=X;var Y=function(e){this.$0=null;ss.EventArgs.call(this);this.$0=e};Y.__typeName='tab.PropertyChangedEventArgs';global.tab.PropertyChangedEventArgs=Y;var Z=function(){};Z.__typeName='tab.RecordCast';Z.rectPresModelAsRectXY=function(e){return(ss.isNullOrUndefined(e)?null:{x:e.x,y:e.y,w:e.w,h:e.h})};Z.doubleRectPresModelAsDoubleRectXY=function(e){return(ss.isNullOrUndefined(e)?null:{x:e.doubleLeft,y:e.doubleTop,w:e.width,h:e.height})};Z.sizeAsSizePresModel=function(e){return(ss.isNullOrUndefined(e)?null:{w:e.w,h:e.h})};global.tab.RecordCast=Z;var ba=function(){};ba.__typeName='tab.RectUtil';ba.isEmpty=function(e){return e.w===0||e.h===0};ba.isEqual=function(e,bG){return e.t===bG.t&&e.l===bG.l&&e.w===bG.w&&e.h===bG.h};ba.inRect=function(e,bG){return bG.x>=e.l&&bG.x<e.l+e.w&&bG.y>=e.t&&bG.y<e.t+e.h};ba.intersectsWith=function(e,bG){return!(bG.l+bG.w<e.l||bG.t+bG.h<e.t||bG.l>e.l+e.w||bG.t>e.t+e.h)};ba.intersect=function(e,bG){if(!ba.intersectsWith(e,bG)||ba.isEmpty(bG)||ba.isEmpty(e)){return{l:0,t:0,w:0,h:0}}var bH=Math.max(e.l,bG.l);var bI=Math.max(e.t,bG.t);var bJ=Math.min(e.l+e.w,bG.l+bG.w);var bK=Math.min(e.t+e.h,bG.t+bG.h);return{l:bH,t:bI,w:bJ-bH,h:bK-bI}};global.tab.RectUtil=ba;var bb=function(){};bb.__typeName='tab.RectXYUtil';bb.constructRectXY=function(e,bG,bH,bI){return{x:e,y:bG,w:bH-e,h:bI-bG}};bb.set=function(e,bG){e.x=bG.x;e.y=bG.y;e.w=bG.w;e.h=bG.h};bb.set$1=function(e,bG,bH,bI,bJ){e.x=bG;e.y=bH;e.w=bI;e.h=bJ};bb.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};bb.isEqual=function(e,bG){return e.x===bG.x&&e.y===bG.y&&e.w===bG.w&&e.h===bG.h};bb.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};bb.inRect=function(e,bG){return bG.x>=e.x&&bG.x<e.x+e.w&&bG.y>=e.y&&bG.y<e.y+e.h};bb.inRect$1=function(e,bG,bH){return bG>=e.x&&bG<e.x+e.w&&bH>=e.y&&bH<e.y+e.h};bb.inRectPointF=function(e,bG){return bG.x>=e.x&&bG.x<e.x+e.w&&bG.y>=e.y&&bG.y<e.y+e.h};bb.inRectPointF$1=function(e,bG,bH){return bG>=e.x&&bG<e.x+e.w&&bH>=e.y&&bH<e.y+e.h};bb.intersectsWith=function(e,bG){return!(bG.x+bG.w<e.x||bG.y+bG.h<e.y||bG.x>e.x+e.w||bG.y>e.y+e.h)};bb.intersectsWith$1=function(e,bG,bH,bI,bJ){return!(bG+bI<e.x||bH+bJ<e.y||bG>e.x+e.w||bH>e.y+e.h)};bb.intersectsWithMoreThanSharedEdge=function(e,bG){return!(bG.x+bG.w<=e.x||bG.y+bG.h<=e.y||bG.x>=e.x+e.w||bG.y>=e.y+e.h)};bb.clone=function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}};bb.nonemptyify=function(e){return{x:e.x,y:e.y,w:Math.max(1,e.w),h:Math.max(1,e.h)}};bb.intersectsWithAny=function(e,bG){var bH=false;for(var bI=0;bI<bG.length;bI++){var bJ=bG[bI];if(ss.isNullOrUndefined(bJ)){continue}if(bb.intersectsWith(e,bJ)){bH=true;break}}return bH};bb.intersectsWithAny$1=function(e,bG,bH){if(bG.y+bG.h<e.y||bG.y>e.y+e.h){return false}var bI=e.x;var bJ=e.x+e.w;for(var bK=0;bK<bH.length;bK++){var bL=bH[bK];var bM=bG.x+bL;var bN=bM+bG.w;if(!(bN<bI||bM>bJ)){return true}}return false};bb.completelyContains=function(e,bG){return bb.inRect(e,{x:bG.x,y:bG.y})&&bb.inRect(e,{x:bG.x+bG.w-1,y:bG.y+bG.h-1})};bb.completelyContains$1=function(e,bG,bH,bI,bJ){return bb.inRect$1(e,bG,bH)&&bb.inRect$1(e,bG+bI-1,bH+bJ-1)};bb.toRect=function(e){return{l:e.x,t:e.y,w:e.w,h:e.h}};bb.offsetRect=function(e,bG){return{x:e.x+bG.x,y:e.y+bG.y,w:e.w,h:e.h}};bb.offsetRectXY=function(e,bG,bH){return{x:e.x+bG,y:e.y+bH,w:e.w,h:e.h}};bb.offsetRectXYInPlace=function(e,bG,bH){e.x+=bG;e.y+=bH};bb.offsetRectF=function(e,bG){return{x:e.x+Math.round(bG.x),y:e.y+Math.round(bG.y),w:e.w,h:e.h}};bb.outsetRect=function(e,bG,bH){return{x:e.x-bG,y:e.y-bH,w:e.w+bG+bG,h:e.h+bH+bH}};bb.outsetRectInPlace=function(e,bG,bH){e.x-=bG;e.y-=bH;e.w+=2*bG;e.h+=2*bH};bb.outsetRectSizeF=function(e,bG){return bb.outsetRect(e,Math.ceil(bG.w),Math.ceil(bG.h))};bb.encompassCircleInPlace=function(e,bG,bH,bI){var bJ=bI*2;var bK=Math.floor(bG-bI+0.5);var bL=Math.floor(bH-bI+0.5);var bM=Math.floor(bJ+0.5);bb.unionInPlace$1(e,bK,bL,bM,bM)};bb.union=function(e,bG){if(bb.isEmpty(e)){return bb.clone(bG)}if(bb.isEmpty(bG)){return bb.clone(e)}var bH=Math.min(e.x,bG.x);var bI=Math.min(e.y,bG.y);var bJ=Math.max(e.x+e.w,bG.x+bG.w);var bK=Math.max(e.y+e.h,bG.y+bG.h);return{x:bH,y:bI,w:bJ-bH,h:bK-bI}};bb.unionInPlace$1=function(e,bG,bH,bI,bJ){if(bb.isEmpty(e)){bb.set$1(e,bG,bH,bI,bJ);return}if(bI===0||bJ===0){return}var bK=Math.min(e.x,bG);var bL=Math.min(e.y,bH);var bM=Math.max(e.x+e.w,bG+bI);var bN=Math.max(e.y+e.h,bH+bJ);bb.set$1(e,bK,bL,bM-bK,bN-bL)};bb.unionInPlace=function(e,bG){bb.unionInPlace$1(e,bG.x,bG.y,bG.w,bG.h)};bb.unionAll=function(e){var bG=e.length;if(bG===0){return{x:0,y:0,w:0,h:0}}var bH=e[0];var bI=bH.x;var bJ=bH.y;var bK=bH.x+bH.w;var bL=bH.y+bH.h;for(var bM=1;bM<bG;bM++){bH=e[bM];bI=Math.min(bI,bH.x);bJ=Math.min(bJ,bH.y);bK=Math.max(bK,bH.x+bH.w);bL=Math.max(bL,bH.y+bH.h)}return{x:bI,y:bJ,w:bK-bI,h:bL-bJ}};bb.rectXYFromCorners=function(e,bG){return bb.rectXYFromCorners$2(e.x,e.y,bG.x,bG.y)};bb.rectXYFromCorners$1=function(e,bG){var bH=Math.round(Math.min(e.x,bG.x));var bI=Math.round(Math.min(e.y,bG.y));var bJ=Math.abs(Math.round(e.x-bG.x));var bK=Math.abs(Math.round(e.y-bG.y));return{x:bH,y:bI,w:bJ,h:bK}};bb.rectXYFromCorners$2=function(e,bG,bH,bI){var bJ=Math.round(Math.min(e,bH));var bK=Math.round(Math.min(bG,bI));var bL=Math.abs(Math.round(e-bH));var bM=Math.abs(Math.round(bG-bI));return{x:bJ,y:bK,w:bL,h:bM}};bb.rectXYFromBBoxRectF=function(e){return bb.rectXYFromMinAndMax(e.minX,e.minY,e.maxX,e.maxY)};bb.rectXYFromMinAndMax=function(e,bG,bH,bI){var bJ=Math.floor(e);var bK=Math.floor(bG);var bL=Math.ceil(bH);var bM=Math.ceil(bI);return{x:bJ,y:bK,w:bL-bJ,h:bM-bK}};bb.dialate=function(e,bG){var bH=e.x-bG;var bI=e.y-bG;var bJ=e.w+2*bG;var bK=e.h+2*bG;return{x:bH,y:bI,w:bJ,h:bK}};bb.intersect=function(e,bG){if(!bb.intersectsWith(e,bG)||bb.isEmpty(bG)||bb.isEmpty(e)){return{x:0,y:0,w:0,h:0}}var bH=Math.max(e.x,bG.x);var bI=Math.max(e.y,bG.y);var bJ=Math.min(e.x+e.w,bG.x+bG.w);var bK=Math.min(e.y+e.h,bG.y+bG.h);return{x:bH,y:bI,w:bJ-bH,h:bK-bI}};bb.intersectInPlace=function(e,bG){if(!bb.intersectsWith(e,bG)||bb.isEmpty(e)||bb.isEmpty(bG)){bb.set$1(e,0,0,0,0);return}var bH=Math.max(e.x,bG.x);var bI=Math.max(e.y,bG.y);var bJ=Math.min(e.x+e.w,bG.x+bG.w);var bK=Math.min(e.y+e.h,bG.y+bG.h);bb.set$1(e,bH,bI,bJ-bH,bK-bI)};bb.shiftCoordsTowardsCenter=function(e,bG,bH){if(ss.isNullOrUndefined(bG)){return e}var bI={x:e.x,y:e.y};bI=bb.horizontalShiftCoordsTowardsCenter(bI,bG,bH);return bb.verticalShiftCoordsTowardsCenter(bI,bG,bH)};bb.horizontalShiftCoordsTowardsCenter=function(e,bG,bH){if(ss.isNullOrUndefined(bG)){return e}var bI={x:e.x,y:e.y};if(bI.x<=bG.x+bH){bI.x+=bH}else if(bI.x>=bG.x+bG.w-2*bH){bI.x-=bH}return bI};bb.verticalShiftCoordsTowardsCenter=function(e,bG,bH){if(ss.isNullOrUndefined(bG)){return e}var bI={x:e.x,y:e.y};if(bI.y<=bG.y+bH){bI.y+=bH}else if(bI.y>=bG.y+bG.h-2*bH){bI.y-=bH}return bI};bb.clampCoords=function(e,bG){var bH=Math.min(Math.max(bG.x,e.x),bG.x+bG.w);var bI=Math.min(Math.max(bG.y,e.y),bG.y+bG.h);return{x:bH,y:bI}};bb.getChangedRects=function(e,bG){var bH=[];if(!ss.isValue(e)||!ss.isValue(bG)||!bb.intersectsWith(e,bG)){return bH}var bI=e.x+e.w;var bJ=e.y+e.h;var bK=bG.x+bG.w;var bL=bG.y+bG.h;var bM=Math.min(e.x,bG.x);var bN=Math.max(e.x,bG.x);var bO=Math.min(bI,bK);var bP=Math.max(bI,bK);var bQ=Math.min(e.y,bG.y);var bR=Math.max(e.y,bG.y);var bS=Math.min(bJ,bL);var bT=Math.max(bJ,bL);var bU={x:bM,y:bQ,w:bP-bM,h:bR-bQ};var bV={x:bM,y:bR,w:bN-bM,h:bS-bR};var bW={x:bO,y:bR,w:bP-bO,h:bS-bR};var bX={x:bM,y:bS,w:bP-bM,h:bT-bS};if(!bb.isEmpty(bU)){bH.push(bU)}if(!bb.isEmpty(bV)){bH.push(bV)}if(!bb.isEmpty(bW)){bH.push(bW)}if(!bb.isEmpty(bX)){bH.push(bX)}return bH};bb.reduceRectangles=function(e){if(ss.isNullOrUndefined(e)){return null}var bG=e.length;if(bG===1){return e}var bH=new Array(bG);for(var bI=0;bI<bG;bI++){var bJ=bH[bI]||e[bI];bH[bI]=bJ;if(bb.isEmpty(bJ)){continue}for(var bK=bI+1;bK<bG;bK++){var bL=bH[bK]||e[bK];if(bb.isEmpty(bL)){continue}var bM=bb.intersect(bJ,bL);if(bb.isEmpty(bM)){continue}var bN=bb.$0(bJ,bM);if(ss.referenceEquals(bN,bJ)){bL=bb.$0(bL,bM)}bH[bI]=bN;bH[bK]=bL}}for(var bO=bH.length-1;bO>=0;bO--){if(bb.isEmpty(bH[bO])){bH.splice(bO,1)}}return bH};bb.$0=function(e,bG){if(bG.x===e.x&&bG.w===e.w){if(bG.y>e.y){return{x:e.x,y:e.y,w:e.w,h:e.h-bG.h}}else{return{x:e.x,y:e.y+bG.h,w:e.w,h:e.h-bG.h}}}else if(bG.y===e.y&&bG.h===e.h){if(bG.x>e.x){return{x:e.x,y:e.y,w:e.w-bG.w,h:e.h}}else{return{x:e.x+bG.w,y:e.y,w:e.w-bG.w,h:e.h}}}return e};bb.getCenter=function(e){return{x:e.x+ss.Int32.div(e.w,2),y:e.y+ss.Int32.div(e.h,2)}};global.tab.RectXYUtil=bb;var bc=function(){};bc.__typeName='tab.RegionRectUtil';bc.sizesAreEqual=function(e,bG){return ss.isValue(e)&&ss.isValue(bG)&&e.h===bG.h&&e.w===bG.w};global.tab.RegionRectUtil=bc;var bd=function(){};bd.__typeName='tab.SetUtilities';bd.interserctWith=function(e){return function(bG,bH){var bI=new Set;for(var bJ=0;bJ<bH.length;bJ++){var bK=bH[bJ];if(bG.has(bK)){bI.add(bK)}}bG.forEach(function(bL){if(!bI.has(bL)&&_.contains(bH,bL)){bI.add(bL)}});return bI}};bd.getValues=function(e){return function(bG){var bH=[];bG.forEach(function(bI){bH.push(bI)});return bH}};bd.addAll=function(e){return function(bG,bH){for(var bI=0;bI<bH.length;bI++){var bJ=bH[bI];bG.add(bJ)}}};bd.symmetricDifferenceWith=function(e){return function(bG,bH){var bI=new Set;bG.forEach(function(bJ){if(!bH.has(bJ)){bI.add(bJ)}});bH.forEach(function(bJ){if(!bG.has(bJ)){bI.add(bJ)}});return bI}};global.tab.SetUtilities=bd;var be=function(){};be.__typeName='tab.SizeUtil';be.isEmpty=function(e){return e.w===0&&e.h===0};be.union=function(e,bG){return{w:Math.max(e.w,bG.w),h:Math.max(e.h,bG.h)}};be.unionPresModels=function(e,bG){var bH={};bH.w=Math.max(e.w,bG.w);bH.h=Math.max(e.h,bG.h);return bH};be.add=function(e,bG){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bG)){return e}return{w:e.w+bG.w,h:e.h+bG.h}};be.subtract=function(e,bG){return{w:e.w-bG.w,h:e.h-bG.h}};be.equals=function(e,bG){return ss.isValue(e)&&ss.isValue(bG)&&bG.w===e.w&&bG.h===e.h};global.tab.SizeUtil=be;var bf=function(e,bG){this.url=null;this.lineNo=0;this.columnNo=0;this.functionName='?';this.context=null;this.url=e;this.lineNo=bG};bf.__typeName='tab.StackLocation';global.tab.StackLocation=bf;var bg=function(e,bG){this.userAgent=window.navigator.userAgent;this.traceMode='onError';this.message=null;this.url=null;this.locations=null;this.isIncomplete=false;this.isPartial=false;this.name=null;this.traceMode=e;this.message=bG;this.url=document.URL;this.locations=[]};bg.__typeName='tab.StackTrace';global.tab.StackTrace=bg;var bh=function(){tab.BaseLogAppender.call(this)};bh.__typeName='tab.StackTraceAppender';global.tab.StackTraceAppender=bh;var bi=function(e,bG){this.$0=null;this.$1=null;this.$0=e;this.$1=bG};bi.__typeName='tab.StringTuple';global.tab.StringTuple=bi;var bj=function(){};bj.__typeName='tab.StyleUtil';bj.appendCSSRule=function(e,bG){bj.appendCSSRuleToStyleSheet$1('tab-appendedCustomStyle',e,bG)};bj.appendCSSRuleToStyleSheet=function(e,bG,bH){var bI=bG+' {\n'+bj.createCSSRules(bH)+'}\n';var bJ=e.cssRules.length;e.insertRule(bI,bJ)};bj.appendCSSRuleToStyleSheet$1=function(e,bG,bH){if(!ss.keyExists(bj.$3,e)){bj.$0(e)}var bI=bj.$3[e]||bj.$1(e);bj.appendCSSRuleToStyleSheet(bI,bG,bH)};bj.createCSSRules=function(e){var bG='';var bH=_.keys(e);for(var bI=0;bI<bH.length;bI++){var bJ=bH[bI];var bK=e[bJ];if(!ss.isNullOrEmptyString(bK)){bG+=bJ+':'+bK+';\n'}}return bG};bj.clearDefaultStyleSheet=function(){bj.clearStyleSheet('tab-appendedCustomStyle')};bj.clearStyleSheet=function(e){var bG=bj.$3[e];if(ss.isNullOrUndefined(bG)){return}var bH=bG.ownerNode;if(ss.isValue(bH)&&ss.isValue(bH.parentNode)){bH.parentNode.removeChild(bH);delete bj.$3[e]}};bj.isValidCssClassName=function(e){var bG=e.match(bj.$2);return ss.isValue(bG)};bj.$0=function(e){var bG=document.createElement('style');bG.setAttribute('type','text/css');bG.id=e;bG.appendChild(document.createTextNode(''));document.head.appendChild(bG);bj.$3[e]=bj.$1(e);return bG};bj.$1=function(e){var bG=document.getElementById(e);return bG.sheet};global.tab.StyleUtil=bj;var bk=function(){};bk.__typeName='tab.TouchScreenUtil';bk.get_hasUserTouchedScreen=function(){return bk.$0};bk.init=function(){if(ss.isValue(document.body)){document.body.addEventListener('touchstart'.toString(),bk.handleTouchStart,false)}};bk.handleTouchStart=function(e){if(bk.$0){return}bk.$0=true;document.body.removeEventListener('touchstart'.toString(),bk.handleTouchStart,false)};global.tab.TouchScreenUtil=bk;var bl=function(e,bG,bH,bI){this.$3=null;this.$1=0;this.$0=0;this.$2=0;this.$3={x:e,y:bG};this.$1=bH;this.$0=1/bH;this.$2=bI};bl.__typeName='tab.Transform';bl.none=function(){return bl.$0};bl.offset=function(e,bG){return((e===0&&bG===0)?bl.$0:new bl(e,bG,1,3))};bl.pixelToDomain=function(e,bG,bH){if(s.isApproximatelyZero(e)&&s.isApproximatelyZero(bG)&&s.isApproximatelyEqual(1,bH)){return bl.$0}return new bl(e,bG,bH,1)};bl.domainToPixel=function(e,bG,bH){if(s.isApproximatelyZero(e)&&s.isApproximatelyZero(bG)&&s.isApproximatelyEqual(1,bH)){return bl.$0}return new bl(e,bG,bH,2)};global.tab.Transform=bl;var bm=function(){this.$0=null;this.reset()};bm.__typeName='tab.TransformationMatrix';global.tab.TransformationMatrix=bm;var bn=function(){};bn.__typeName='tab.TransformationType';global.tab.TransformationType=bn;var bo=function(){};bo.__typeName='tab.UriUtil';bo.get_helpVersion=function(){var e='0.0';var bG='.';var bH=tsConfig.externalVersion.split(bG);if(bH.length>=2){var bI=bH[0];var bJ=bH[1];if($.isNumeric(bI)&&$.isNumeric(bJ)){e=[bI,bJ].join(bG)}}return e};bo.$0=function(){return(tsConfig.is_saas?'online':'server')};bo.$1=function(){if(ss.isNullOrUndefined(tsConfig.language)){return'en-us'}switch(tsConfig.language){case'de':{return'de-de'}case'en':{return'en-us'}case'es':{return'es-es'}case'fr':{return'fr-fr'}case'ja':{return'ja-jp'}case'ko':{return'ko-kr'}case'pt':{return'pt-br'}case'zh':{return'zh-cn'}default:{return'en-us'}}};bo.makeHelpUri=function(e,bG){var bH;if(tsConfig.useOfflineHelp){bH=bo.getOfflineHelpHref(bG)}else{var bI=(!ss.isNullOrEmptyString(tsConfig.serverPlatform)?ss.formatString('platform={0}&',tsConfig.serverPlatform.toLowerCase()):'');bH=ss.formatString('{0}/{1}/app/{2}?edition={3}&lang={1}&{5}version={4}','http://www.tableau.com',bo.$1(),e,bo.$0(),bo.get_helpVersion(),bI)}return bH};bo.getOfflineHelpHref=function(e){var bG=ss.replaceAllString(bo.$1(),'-','_');return ss.formatString('/offline_help/{0}/help.htm#{1}',bG,e)};bo.makeHelpSearchUri=function(e){var bG=encodeURIComponent(e);if(tsConfig.useOfflineHelp){return bo.getOfflineHelpHref(ss.formatString('search-{0}',bG))}return((bo.$1()==='en-us')?ss.formatString('{0}/search/support/{1}','http://www.tableau.com',bG):ss.formatString('{0}/{1}/search/support/{2}','http://www.tableau.com',bo.$1(),bG))};bo.makeSupportUri=function(){return(tsConfig.useOfflineHelp?bo.getOfflineHelpHref('support'):'http://www.tableau.com')+'/support'};global.tab.UriUtil=bo;var bp=function(){this.$2=null;tab.BaseLogAppender.call(this)};bp.__typeName='tab.WindowAppender';global.tab.WindowAppender=bp;var bq=function(){};bq.__typeName='tab.ZIndexConstants';global.tab.ZIndexConstants=bq;var br=function(){};br.__typeName='tableau.format';br.get_isO8601DateFormat=function(){return br.$17};br.get_isO8601DateTimeFormat=function(){return br.$18};br.get_isO8601TimeFormat=function(){return br.$19};br.get_defaultLocaleStrings=function(){return br.$14};br.get_baseTimestamp=function(){return br.$10};br.convertFullwidthNumberToAscii=function(e){var bG=ss.getEnumerator(Object.keys(br.$15));try{while(bG.moveNext()){var bH=bG.current();e=ss.replaceAllString(e,bH,br.$15[bH])}}finally{bG.dispose()}return e};br.formatDataValue=function(e,bG,bH,bI,bJ){var bK=e.s;if(ss.isNullOrUndefined(bK)||ss.isNullOrUndefined(bK)){var bL=(('t'in e)?e.t:'');var bM=e.v;switch(bL){case's':{return bM}case'b':{return bM.toString()}case'i':{return br.formatDataValueInt(bG,bH,bM)}case'r':{if(typeof(bM)!=='number'){bM=parseFloat(bM)}return br.$k(bM,bL,bH,bI,bG)}case't':{return(_.isDate(bM)?br.formatJsDateTime(bM,bH,bJ,bL):br.$h((_.isNumber(e.v)?e.v:parseFloat(e.v)),bH,bJ,bL))}case'd':{return(_.isDate(bM)?br.formatJsDateTime(bM,bH,0,bL):br.$h((_.isNumber(e.v)?e.v:parseFloat(e.v)),bH,0,bL))}}throw new ss.Exception('Invalid Tableau Format Type')}if(bK==='n'){return'null'}if(bK==='m'){return tab.Strings.SpecialMissing}return'#special:'+bK+'#'};br.formatDataValueInt=function(e,bG,bH){if(typeof(bH)!=='number'){bH=parseInt(bH,10)}if(e==='d'){if(ss.isNullOrUndefined(bG)||bG.length!==10){return br.$j(bH).toString()}else{var bI=bG;var bJ=bI[0];switch(bJ){case'':{var bK=ss.arrayClone(bI);bK[2]='f';return br.$e(bH,bK)}default:{return br.$e(bH,bI)}}}}else{return br.$e(bH,bG)}};br.parseQuantitativeDataValue=function(e,bG,bH,bI,bJ){switch(bG){case'i':{return parseInt(br.reformatNumberToJsFormat(e,bH),10)}case'r':{return parseFloat(br.reformatNumberToJsFormat(e,bH))}case'd':case't':{var bK=br.formatToJSCompliantFormat(e,bH,bI,bJ);return bs.OleDateFromJsDate((new Date(Date.parse(bK+' GMT'))).getTime())}}return(ss.isValue(bJ)?parseFloat(bJ.v):0)};br.reformatNumberToJsFormat=function(e,bG){var bH=bG[8].replace(br.$1f,'\\$1');if(bH.indexOf(' ')!==-1){bH+=' '}var bI=bG[7].replace(br.$1f,'\\$1');if(bH.indexOf('.')===-1&&bI.indexOf('.')===-1){e=e.replace(new RegExp('\\.','g'),'?')}return e.replace(new RegExp('['+bH+']','g'),'').replace(new RegExp('['+bI+']','g'),'.')};br.formatToJSCompliantFormat=function(e,bG,bH,bI){var bJ=br.normalizeDateTimeFormat(bG,bH,bI.t);var bK=br.tokenizeDateTime(e,bJ,bH);if(ss.isValue(bK)){return br.$3(bK,bI)}else{return''}};br.normalizeDateTimeFormat=function(e,bG,bH){var bI=e.format;var bJ=e.timeFormat;if(bI.charCodeAt(0)===42){bI=bI.substr(1)}if(bG!==0&&ss.isValue(bJ)&&(ss.isNullOrUndefined(e.originalFormat)||e.originalFormat.length===0||e.originalFormat==='S')&&bH==='t'){if(bJ.charCodeAt(0)===42){bJ=bJ.substr(1)}bI=bI+' '+bJ}bI=bI.replace(new RegExp('ampm','g'),'tt');bI=ss.replaceAllString(bI,'H','h');bI=bI.replace(br.$11,function(bK){return bK.replace(new RegExp('m','gi'),'m')});bI=bI.replace(br.$12,function(bK){return bK.replace(new RegExp('m','gi'),'n')});return bI};br.tokenizeDateTime=function(e,bG,bH){var bI=bG;bI=bI.replace(br.$1f,'\\$1');bI=bI.replace(br.$1j,'($1)');bI=bI.replace(br.$1b,'($1)');var bJ=bG.match(new RegExp(bI));var bK=bG;bK=bK.replace(br.$1f,'\\$1');if(bH===1){bK=bK.replace(br.$13,'(?:$1 )?$2')}else{bK=bK.replace(br.$13,'$1(?: $2)?')}bK=bK.replace(br.$1g,'(?:$1)?');bK=bK.replace(br.$1b,'(\\d+)');bK=bK.replace(br.$1j,'([^0-9\\s]+)?');bK=bK.replace(br.$1h,function(bO){return bO.replace(new RegExp('\\s+','g'),'\\s+')});bK=bK.replace(br.$1c,'\\s*');var bL=e.match(new RegExp(bK));if(ss.isNullOrUndefined(bL)){return null}var bM={};for(var bN=1;bN<bL.length;++bN){if(ss.isValue(bL[bN])&&bL[bN].length>0){bM[bJ[bN].substr(0,1).toLowerCase()]=bL[bN]}}return bM};br.$3=function(e,bG){if(!ss.keyExists(e,'y')&&!ss.keyExists(e,'m')&&!ss.keyExists(e,'d')){var bH=(bG.v?new Date(bs.JsDateFromOleDate(bG.v)):new Date(bs.javaScriptOLEEpoch()));e['y']=bH.getUTCFullYear().toString();e['m']=(bH.getUTCMonth()+1).toString();e['d']=bH.getUTCDate().toString()}var bI=e['y'].replace(new RegExp('^(\\d{2})$'),function(bK){var bL=parseInt(bK,10);return((bL<30)?('20'+bK):('19'+bK))});var bJ=e['m']+'/'+e['d']+'/'+bI;if(ss.keyExists(e,'h')&&ss.keyExists(e,'n')){bJ+=' '+e['h']+':'+e['n']+':';bJ+=(ss.keyExists(e,'s')?e['s']:'00');if(ss.keyExists(e,'t')){if(ss.isValue(e['t'].match(br.$Z))){bJ+=' am'}else if(ss.isValue(e['t'].match(br.$1d))){bJ+=' pm'}}}return bJ};br.mapIcuToOleFormat=function(e){return br.$p(br.$16,e)};br.$p=function(e,bG){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(bG)){return bG}var bH=new ss.StringBuilder;var bI=0;var bJ=0;var bK=null;while(++bJ<=bG.length){var bL=e[bG.substring(bI,bJ)];if(ss.isValue(bL)){bK=bL}else{if(ss.isValue(bK)){bH.append(bK);--bJ}else{bH.append(bG.substring(bI,bI+1))}bI=bJ;bK=null}}if(ss.isValue(bK)){bH.append(bK)}return bH.toString()};br.escapeHTML=function(e){return tab.EscapingUtil.escapeHtml(e)};br.formatColumnDisplayName=function(e,bG,bH){var bI=e.caption;var bJ;if(!(typeof(bI)==='undefined')){bJ=bI}else{var bK=e.name;bJ=(bG?ss.arrayExtract(bK,1).join('.'):br.formatQualifiedName(bK))}return(bH?bJ:tab.EscapingUtil.escapeHtml(bJ))};br.formatTupleDisplayName=function(e,bG,bH){if(ss.isNullOrUndefined(e)){return' '}var bI=e.d;var bJ=(ss.isValue(bI)?bI:br.formatTupleUniqueName(e,bH));var bK=(bG?bJ:br.escapeHTML(bJ));return ss.coalesce(bK,' ')};br.formatTupleUniqueName=function(e,bG){var bH='';if(ss.isValue(e)){var bI=e.t;if(ss.isValue(bI)){for(var bJ=0;bJ<bI.length;bJ++){var bK=bI[bJ];if(bH.length!==0){bH+=','}bH+=br.formatDataValue(bK,bG)}}}return bH};br.formatTupleDisplayFacet=function(e,bG,bH){var bI=br.formatTupleFacet(e,bH);return(bG?bI:br.escapeHTML(bI))};br.formatTupleFacet=function(e,bG){var bH='';if(ss.isValue(e)){var bI=e.f;if(ss.isValue(bI)){for(var bJ=0;bJ<bI.length;bJ++){var bK=bI[bJ];if(bH.length!==0){bH+=','}bH+=br.formatDataValue(bK,bG)}}}return bH};br.formatQualifiedName=function(e){var bG='';for(var bH=0;bH<e.length;bH++){var bI=e[bH];if(bG.length!==0){bG+='.'}bG+='['+bI.replace(new RegExp('\\]','g'),']]')+']'}return bG};br.formatIntAuto=function(e,bG,bH,bI){var bJ=br.$1(e,bG,bH,bI);return((br.$v(e)>=0)?bJ:('-'+bJ))};br.isDateTimeWithNonMidnightTime=function(e){return ss.isValue(e)&&(ss.isNullOrEmptyString(e.s)||ss.isNullOrUndefined(e.s))&&e.t==='t'&&!br.$o(new Date(bs.JsDateFromOleDate(parseFloat(e.v))))};br.applyDecimalPlaces=function(e,bG,bH){if(bG>=0){var bI=e-br.$v(e);var bJ=br.$t(bI,bG);var bK=parseInt(bJ,10);if(Math.abs(bK)===1){return bK}if(bG===0){return''}bJ=bJ.replace(new RegExp('^-?0\\.'),bH);return bJ}return''};br.formatString=function(e,bG){var bH=bG.dataType;var bI=bG.formatStrings;var bJ=bG.fieldRole;var bK=bI;var bL='';var bM=e.toString();switch(bH){case'cstring':{bL='s';break}case'date':{bL='d';bM=n.parsePresModelDate(e);bK=br._convertFormatStringsToFormattingInfo(bI);break}case'datetime':{bL='t';bM=n.parsePresModelDate(e);bK=br._convertFormatStringsToFormattingInfo(bI);break}case'integer':{bL='i';bM=parseInt(e);break}case'real':{bL='r';bM=parseFloat(e);break}case'tuple':{bL='s';bM=br.$m(e);break}case'unknown':default:{bL=null;break}}var bN={t:bL,v:bM};var bO;switch(bJ){case'dimension':{bO='d';break}case'measure':{bO='m';break}case'unknown':default:{bO=null;break}}return br.formatDataValue(bN,bO,bK,null,0)};br.formatSpecial=function(e,bG){if(ss.isValue(bG)){return bG}switch(e){case'%many-values%':{return tab.Strings.SpecialManyValues}case'%null%':{return''}case'%error%':{return tab.Strings.SpecialError}case'%ragged%':{return tab.Strings.SpecialRagged}case'%skipped%':{return tab.Strings.SpecialSkipped}case'%missing%':{return''}case'%all%':{return tab.Strings.SpecialAll}case'%no-access%':{return tab.Strings.SpecialNoAccess}case'%wildcard%':{return tab.Strings.SpecialWildcard}default:{return'#Special'}}};br.isSpecialValue=function(e){return br.$1i[e]===true};br.stripFormattedText=function(e){if(ss.isNullOrUndefined(e)){return null}return $(e).find('run').text()};br.deriveNumberEditingFormat=function(e){if(ss.isNullOrUndefined(e)){return null}return['','-1',e[2],'','','','',e[7],e[8],e[9]]};br.$r=function(e,bG){var bH=e.toString();while(bH.length<bG){bH='0'+bH}return bH};br.$o=function(e){return ss.isValue(e)&&(e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0||e.getUTCHours()===23&&e.getUTCMinutes()===59&&e.getUTCSeconds()===59)};br.$5=function(e){return((e.getUTCHours()<12)?'AM':'PM')};br.$7=function(e){var bG=e.getUTCHours();if(bG<12){if(bG===0){bG=12}}else if(bG>12){bG-=12}return bG};br.$8=function(e){return e.getUTCHours()};br.$6=function(e){var bG=new Date(e.getUTCFullYear(),0,1,12);var bH=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),12);return Math.round((bH-bG)/86400000)+1};br.$4=function(e,bG){return e.getUTCFullYear()+((e.getUTCMonth()+1<bG)?-1:0)};br.$a=function(e,bG,bH){var bI=(e.getUTCDay()+7-(bG-1))%7;var bJ=-bI+(7-bH);var bK=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+bJ));return bK.getUTCFullYear()};br.$9=function(e,bG){var bH;if(bG.fiscalYearStart<=1){var bI=(bG.brokenWeeks?e.getUTCFullYear():br.$a(e,bG.startOfWeek,bG.minDaysInFirstWeek));bH=new Date(Date.UTC(bI,0,1))}else{bH=new Date(Date.UTC(br.$4(e,bG.fiscalYearStart),bG.fiscalYearStart-1,1))}var bJ=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));var bK=(bH.getUTCDay()+7-(bG.startOfWeek-1))%7;var bL=ss.Int32.div(bJ-bH,86400000)+bK;if(bG.fiscalYearStart<=1&&7-bK<bG.minDaysInFirstWeek){bL-=7}return Math.floor(bL/7)+1};br.dtGetFiscalYear=function(e,bG){var bH=e.getUTCFullYear();var bI=e.getUTCMonth()+1;return((bI<bG||bG===1)?0:1)+bH};br.dtGetFiscalQuarter=function(e,bG){if(bG<1){bG=1}return Math.floor((e.getUTCMonth()+1-bG+12)%12/3)+1};br.$w=function(e,bG){if(ss.isNullOrUndefined(bG)){return null}return bG.day[e.getUTCDay()+1]};br.$y=function(e,bG){if(ss.isNullOrUndefined(bG)){return null}return bG.shortDay[e.getUTCDay()+1]};br.$x=function(e,bG){if(ss.isNullOrUndefined(bG)){return null}return bG.month[e.getUTCMonth()]};br.$z=function(e,bG){if(ss.isNullOrUndefined(bG)){return null}return bG.shortMonth[e.getUTCMonth()]};br.formatJsDateTime=function(e,bG,bH,bI){if(ss.isNullOrUndefined(bG)){bG={};bG.format='*M/d/yyyy';bG.originalFormat='en_US';bG.timeFormat='';if(bH===2&&br.$o(e)){bH=0}}return br.formatCustomJsDateTime(e,bG,bH,bI)};br.formatCustomJsDateTime=function(e,bG,bH,bI){var bJ=bG.format;var bK=bG.timeFormat;var bL=bG.calOpts;var bM=0,bN=0,bO;if(ss.isNullOrUndefined(bL)){bL=new i}var bP=ss.isValue(bK);var bQ=ss.isNullOrUndefined(bG.originalFormat)||bG.originalFormat.length===0||bG.originalFormat==='S';var bR=bI==='t';if(ss.isValue(bH)&&bH!==0&&bP&&bQ&&bR){if(bK.charCodeAt(0)===42){bK=bK.substr(1)}if(bH===2){bJ=bJ+' '+bK}else{bJ=bK}}if(bJ==='L'){bJ='*dddd, mmmm dd, yyyy'}if(bJ.charCodeAt(0)===42){bJ=bJ.substr(1)}bO=bJ.length;var bS,bT;if(bL.fiscalYearStart>1){bS=bT=br.dtGetFiscalYear(e,bL.fiscalYearStart)}else{bS=e.getUTCFullYear();bT=(bL.brokenWeeks?bS:br.$a(e,bL.startOfWeek,bL.minDaysInFirstWeek))}var bU=bT.toString();var bV=bU.substr(bU.length-2);var bW=bS.toString();var bX=bW.substr(bW.length-2);var bY=[];bY.push(new bi('ampm',br.$5(e)));bY.push(new bi('tt',br.$5(e)));bY.push(new bi('yyyy',bW));bY.push(new bi('yy',bX));bY.push(new bi('mmmm',br.$x(e,bG.locale_formatting_strings)));bY.push(new bi('mmm',br.$z(e,bG.locale_formatting_strings)));bY.push(new bi('dddd',br.$w(e,bG.locale_formatting_strings)));bY.push(new bi('ddd',br.$y(e,bG.locale_formatting_strings)));bY.push(new bi('mm',br.$r(e.getUTCMonth()+1,2)));bY.push(new bi('m',(e.getUTCMonth()+1).toString()));bY.push(new bi('dd',br.$r(e.getUTCDate(),2)));bY.push(new bi('d',e.getUTCDate().toString()));bY.push(new bi('hh',br.$r(br.$8(e),2)));bY.push(new bi('h',br.$8(e).toString()));bY.push(new bi('nn',br.$r(e.getUTCMinutes(),2)));bY.push(new bi('n',e.getUTCMinutes().toString()));bY.push(new bi('ss',br.$r(e.getUTCSeconds(),2)));bY.push(new bi('s',e.getUTCSeconds().toString()));bY.push(new bi('ww',br.$9(e,bL).toString()));bY.push(new bi('y',br.$6(e).toString()));bY.push(new bi('w',(e.getUTCDay()+1).toString()));bY.push(new bi('q',br.dtGetFiscalQuarter(e,bL.fiscalYearStart).toString()));var bZ=br.$c(e,bM,bO,bY,bJ,bN,bL,bU,bV,bW,bX);bJ=bZ.join('');return bJ};br.$c=function(e,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP){var bQ=[];var bR=null;var bS=false;var bT=false;var bU=-1;var bV=false;var bW=false;var bX=false;while(bG<bH){var bY=false;var bZ=false;for(var ca=0;ca<bI.length;ca++){var cb=bI[ca];var cc=cb.get_first();var cd=cb.get_second();if(ss.referenceEquals(cc,bJ.substr(bG,cc.length).toLowerCase())){bY=true;bQ.push(cd);bG+=cc.length;if(ss.isValue(bR)&&cc==='mm'){bQ[bQ.length-1]=br.$r(e.getUTCMinutes(),2)}if(ss.isValue(bR)&&cc==='m'){bQ[bQ.length-1]=e.getUTCMinutes().toString()}if(cc.charCodeAt(0)===100){bR=null}if(cc.charCodeAt(0)===104){bR=cc;bK=bQ.length-1}if(ss.isValue(bR)&&(cc==='ampm'||cc==='tt')){bQ[bK]=((bR==='hh')?br.$r(br.$7(e),2):br.$7(e).toString())}switch(cc.charCodeAt(0)){case 121:{if(cc.length>1){bZ=true;bU=bQ.length-1;bV=cc.length===4;bX=true;if(bS){if(!bL.brokenWeeks){bQ[bU]=(bV?bM:bN);bX=false}bS=false}}break}case 119:{if(cc.length!==2){break}var ce=bS;bS=true;if(!ce&&!bT&&bX){if(!bL.brokenWeeks){bQ[bU]=(bV?bM:bN);bX=false}bS=false}bT=false;break}case 109:case 100:case 113:{if((cc==='mm'||cc==='m')&&ss.isValue(bR)){break}bS=false;bT=true;break}}break}}if(bY){bW=bZ;continue}if(bJ.charCodeAt(bG)===92){bQ.push(bJ.substr(bG+1,1));bG+=2}else if(bJ.charCodeAt(bG)===34){var cf=bJ.charCodeAt(bG);var cg=++bG;while(bG<bH&&bJ.charCodeAt(bG)!==cf){bG+=1}if(cg<bH&&bG>cg){bQ.push(bJ.substr(cg,bG-cg))}if(bG<bH){bG+=1}}else if(bJ.charCodeAt(bG)===91){var ch=++bG;while(ch<bJ.length&&bJ.charCodeAt(ch)!==93){ch++}var ci=bJ.substring(bG,ch);if((ci==='y'||ci==='Y')&&bW){bQ[bU]=((ci==='y')?(bV?bO:bP):(bV?bM:bN));bX=false}bG=ch+1}else{bQ.push(String.fromCharCode(bJ.charCodeAt(bG)));bG+=1}bW=bZ}return bQ};br.$h=function(e,bG,bH,bI){var bJ=null;if(!ss.isNullOrUndefined(bG)){bJ=O.cloneObject(bG);bJ.format=br.mapIcuToOleFormat(bJ.format)}var bK=new Date(bs.JsDateFromOleDate(e));return br.formatJsDateTime(bK,bJ,bH,bI)};br.$v=function(e){return((e<0)?Math.ceil(e):Math.floor(e))};br.$1=function(e,bG,bH,bI){var bJ=Math.abs(br.$v(e));var bK='';var bL=parseInt(String.fromCharCode(bI.charCodeAt(0)),10)||3;var bM;if(bJ<1E+15){bM=br.$t(bJ,0)}else{bM=br.$s(bJ,14);var bN=bM.match(br.$1e);if(ss.isValue(bN)){var bO=ss.coalesce(bN[2],'');var bP=parseInt(bN[3],10)-bO.length;var bQ='';for(var bR=0;bR<bP;bR++){bQ+='0'}bM=bN[1]+bO+bQ}}if(bG!=='t'){return bM}for(var bS=bM.length-1,bT=0;bS>=0;bS--,bT++){if(bT>=bL){bK=bH+bK;bT=0}bK=String.fromCharCode(bM.charCodeAt(bS))+bK}return bK};br.$2=function(e,bG){switch(bG){case'B':case'G':{return e/1000000000}case'M':{return e/1000000}case'K':{return e/1000}default:{return e}}};br.$0=function(e,bG,bH,bI,bJ){bG=bG.replace(new RegExp('^-'),'');if(e>=0||(new RegExp('^[.0]*$')).test(bG)){return bH+bG+bI}switch(br.$n(bJ)){case'parenthesis':{return'('+bH+bG+bI+')'}case'outerSuffix':{return bH+bG+bI+'-'}case'innerPrefix':{return bH+'-'+bG+bI}case'innerSuffix':{return bH+bG+'-'+bI}case'outerPrefix':case'automatic':default:{return'-'+bH+bG+bI}}};br.$n=function(e){var bG=parseInt(e,10);var bH=bG<0||bG>=br.$1a.length;return(bH?'automatic':br.$1a[bG])};br.$j=function(e){return br.$v(e)};br.$f=function(e,bG,bH,bI,bJ,bK,bL){if(bG==='i'){return br.$b(e,bG,bH,bI,bJ,bK,bL,null,null)}else{return br.$b(e,bG,bH,bI,bJ,bK,bL,0.0001,1E+15)}};br.$g=function(e,bG,bH,bI,bJ,bK){if(bG==='i'){return br.$b(e,bG,null,bH,bI,bJ,bK,null,1000000)}else{return br.$b(e,bG,null,bH,bI,bJ,bK,0.0001,1E+15)}};br.$b=function(e,bG,bH,bI,bJ,bK,bL,bM,bN){var bO;var bP;var bQ;if(ss.isValue(bH)&&ss.unbox(bH)<=0){bO=-ss.unbox(bH);bQ=bP=false}else{bO=br.$q(e,bG,true);bQ=bP=true}var bR=Math.abs(e);if(bQ&&bR!==0&&(ss.isValue(bN)&&ss.Nullable$1.ge(bR,bN)||ss.isValue(bM)&&ss.Nullable$1.lt(bR,bM))){var bS=br.$q(1,bG,true);var bT=br.$d(e,bS,bI);if(bP){return bT.replace(new RegExp('['+bI+']?0+e'),'e')}}var bU=e-br.$v(e);var bV=br.formatIntAuto(e,bJ,bK,bL);var bW='';bW=br.$t(bU,bO);if(Math.abs(parseFloat(bW))>=1){bV=br.formatIntAuto(br.$v(e+parseFloat(bW)),bJ,bK,bL);bW=bW.replace(new RegExp('1'),'0')}if(!(bW.indexOf('.')!==-1)){return bV}if(bP){bW=bW.replace(new RegExp('0+$'),'');if(ss.endsWithString(bW,'.')){return bV}}bW=bW.replace(new RegExp('^-?0\\.'),bI);if(e<0&&bV==='0'&&!(new RegExp('^\\.0+$')).test(bW)){bV='-0'}return bV+bW};br.$q=function(e,bG,bH){var bI=((bG==='i')?6:15);var bJ=Math.max(0,bI-Math.abs(br.$v(e)).toString().length);if(bH){return Math.min(bJ,9)}else{return bJ}};br.$d=function(e,bG,bH){if(isNaN(e)||!isFinite(e)){return e.toString()}if(bG<0||isNaN(bG)){bG=0}if(bG>15){bG=15}var bI=br.$s(e,bG);var bJ=bI.indexOf(String.fromCharCode(101));var bK=bI.substr(bJ);if(bK.length<4){bI=bI.substr(0,bJ+2)+'0'+bI.substr(bJ+2)}bI=bI.replace(new RegExp('\\.'),bH);return bI};br.$s=function(e,bG){return br.$u(e,bG,15,function(bH,bI){return bH.toExponential(bI)})};br.$t=function(e,bG){return br.$u(e,bG,br.$q(e,'r',false),function(bH,bI){return bH.toFixed(bI)})};br.$u=function(e,bG,bH,bI){bH=Math.max(bH-1,bG);var bJ=bI(e,bH);var bK=bJ.indexOf(String.fromCharCode(101));if(bK===-1){bK=bJ.length}var bL=bK-(bH-bG);var bM=bJ.charCodeAt(bL);if(bJ.charCodeAt(bL-1)===46){bL--}bJ=bJ.substr(0,bL)+bJ.substr(bK,bJ.length);if(bM>=53&&bM<=57){var bN;do{bL--;bN=bJ.charCodeAt(bL);if(bN===46||bN===45){bN=48;continue}bN++;if(bN>57){bN=48}bJ=bJ.substr(0,bL)+String.fromCharCode(bN)+bJ.substr(bL+1,bJ.length)}while(bN===48&&bL>0);if(bN===48&&bL===0){bJ=bI(e,bG)}}return bJ};br.$i=function(e,bG,bH,bI){if(bH===-1){return br.$b(e*100,bG,null,bI[7],bI[2],bI[8],bI[9],null,null)+'%'}else{return br.$l(e*100,bH,bI)+'%'}};br.$k=function(e,bG,bH,bI,bJ){if(ss.isNullOrUndefined(bH)||bH.length!==10){return br.$f(e,bG,bI,'.',((bJ==='d')?null:'t'),',','3;0')}var bK=parseInt(bH[1],10);switch(bH[0]){case'':{if(bK===-1){return br.$f(e,bG,null,bH[7],bH[2],bH[8],bH[9])}else{return br.$f(e,bG,-bK,bH[7],bH[2],bH[8],bH[9])}}case'N':{return br.$g(e,bG,bH[7],bH[2],bH[8],bH[9])}case'e':{return br.$d(e,bK,bH[7])}case'p':{return br.$i(e,bG,bK,bH)}default:{return br.$l(e,bK,bH)}}};br.$l=function(e,bG,bH){e=br.$2(e,bH[5]);var bI=bH[5]+bH[4];var bJ=br.applyDecimalPlaces(e,bG,bH[7]);if(typeof(bJ)==='number'){e+=bJ;bJ=br.applyDecimalPlaces(0,bG,bH[7])}var bK=br.$1(e,bH[2],bH[8],bH[9])+bJ;return br.$0(e,bK,bH[3],bI,bH[6])};br.$e=function(e,bG){return br.$k(br.$v(e),'i',bG,null,null)};br._convertFormatStringsToFormattingInfo=function(e){var bG={};bG.format=e[0];bG.locale=e[1];bG.originalFormat=e[2];bG.timeFormat=e[3];bG.calOpts=new i;bG.calOpts.fiscalYearStart=parseInt(e[4]);if(isNaN(bG.calOpts.fiscalYearStart)){bG.calOpts.fiscalYearStart=0}bG.calOpts.startOfWeek=parseInt(e[5]);if(isNaN(bG.calOpts.startOfWeek)){bG.calOpts.startOfWeek=1}bG.calOpts.minDaysInFirstWeek=parseInt(e[6]);if(isNaN(bG.calOpts.minDaysInFirstWeek)){bG.calOpts.minDaysInFirstWeek=1}bG.calOpts.brokenWeeks=e[7]==='1';return bG};br.$m=function(e){var bG=44;var bH=40;var bI=41;var bJ=39;var bK=92;var bL=[];e=e.trim();if(e.length===0){return''}var bM=e.length;var bN=0;if(bN>=bM||e.charCodeAt(bN)!==40){return''}++bN;while(bN<bM){var bO=bN;var bP=false;var bQ=0;while(bO<bM&&!bP){var bR=e.charCodeAt(bO);if(bQ===0&&(bR===44||bR===41)){bP=true;break}else if(bR===92){bO+=2}else{if(bR===39){bQ=1-bQ}++bO}}if(!bP){return''}var bS=e.substring(bN+1,bO-1);bS=ss.replaceAllString(bS,'\\\\','\\');bS=ss.replaceAllString(bS,'\\"','"');bS=ss.replaceAllString(bS,'\\,',',');bS=ss.replaceAllString(bS,'\\(','(');bS=ss.replaceAllString(bS,'\\)',')');bL.push(bS);bN=bO;++bN}return bL.join(', ')};global.tableau.format=br;var bs=function(){};bs.__typeName='tableau.types';bs.$0=function(){return tab.LazyUtil.lazyInitStaticField(bs,'millisecondsPerDay',function(){return 86400000})};bs.javaScriptOLEEpoch=function(){return tab.LazyUtil.lazyInitStaticField(bs,'javascriptOleEpoch',function(){return Date.UTC(1899,11,30,0,0,0,0)})};bs.JsDateFromOleDate=function(e){var bG=((e<0)?Math.ceil(e):Math.floor(e));var bH=Math.round(Math.abs(e-bG)*bs.$0())+bG*bs.$0();return bH+bs.javaScriptOLEEpoch()};bs.OleDateFromJsDate=function(e){var bG=new Date(e);var bH=Date.UTC(bG.getUTCFullYear(),bG.getUTCMonth(),bG.getUTCDate());var bI=ss.Int32.div(bH-bs.javaScriptOLEEpoch(),bs.$0());var bJ=(e-bH)/bs.$0();return bI+((bI<0)?-1:1)*bJ};bs.isO=function(e){return e.fieldType==='O'||e.fieldType==='N'};bs.isMetadata=function(e){return e.column_class===0};bs.isOm=function(e){return bs.isO(e)&&bs.isMetadata(e)};bs.getRegionType=function(e){switch(e){case'viz':case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return't'}case'color':case'shape':case'size':case'map':{return'l'}case'filter':{return'f'}case'current-page':{return'p'}case'title':{return'i'}case'text':{return'x'}case'bitmap':{return'b'}case'web':{return'w'}case'paramctrl':{return'a'}case'draw':{return'd'}case'text-block':{return'k'}case'layout-basic':case'layout-flow':{return'c'}default:{return null}}};global.tableau.types=bs;var bt=function(){};bt.__typeName='tableau.util';bt.assetUrl=function(e,bG){var bH=(bG?tsConfig.local_static_asset_prefix:tsConfig.external_static_asset_prefix);if(e.charCodeAt(0)===47){var bI=bH.length-1;if(bH.charCodeAt(bI)===47){return bH.substring(0,bI-1)+e}else{return bH+e}}else{return bH+'/'+e}};bt.isPrintableNonNumericKeyPressed=function(e){return bt.isPrintableNonNumericInput(e.which,e.shiftKey,e.ctrlKey)};bt.isPrintableNonNumericInput=function(e,bG,bH){var bI=e>=91&&e<=105;var bJ=e>=112&&e<=123;var bK=e<47;var bL=!bG&&!bH&&(e>=48&&e<=57);return!bI&&!bK&&!bL&&!bJ};bt.preventNonNumericInput=function(e){if(bt.isPrintableNonNumericKeyPressed(e)){e.preventDefault();e.stopPropagation()}};bt.inputWouldOverflowMaxLength=function(e,bG,bH,bI){if(ss.isNullOrUndefined(e)){e=''}if(ss.isNullOrUndefined(bG)){bG=''}if(e.length===1){var bJ=e.charCodeAt(0);if(bJ<=8||bJ===127||bJ>=14&&bJ<=31||bJ===11||bJ===12){return false}}return e.length-bH+bG.length>bI};bt.maxLengthEnforcingBeforeInputHandler=function(e){return function(bG){var bH=bG.target.selectionEnd-bG.target.selectionStart;if(bt.inputWouldOverflowMaxLength(bG.data,bG.target.value,bH,e)){bG.preventDefault();bG.stopPropagation()}}};bt.isElementVisible=function(e){return $(e).css('display')!=='none'};bt.findElementByTagName=function(e,bG,bH){e=e||q.get_documentBody();if(bt.isNodeMatch(e,bG,bH)){return e}var bI=e.getElementsByTagName(bG);var bJ=bI.length;for(var bK=0;bK<bJ;bK+=1){if(bt.isNodeMatch(bI[bK],bG,bH)){return bI[bK]}}return null};bt.findDirectParentByClassName=function(e,bG,bH){if(ss.isNullOrUndefined(e)||O.isNullOrEmpty$3(bG)){return null}bH=bH||document.body;var bI=e.parentNode;while(!ss.isNullOrUndefined(bI)&&!ss.referenceEquals(bI,bH)){if(!O.isNullOrEmpty$3(bI.className)){if(ss.referenceEquals(bI.className.toLowerCase(),bG.toLowerCase())){return bI}bI=bI.parentNode}}return null};bt.isNodeMatch=function(e,bG,bH){if(ss.isNullOrUndefined(e)||!ss.referenceEquals(e.tagName.toLowerCase(),bG.toLowerCase())){return false}if(ss.isNullOrUndefined(bH)){return true}var bI=ss.getEnumerator(Object.keys(bH));try{while(bI.moveNext()){var bJ=bI.current();if(bJ in bH&&!ss.referenceEquals(e[bJ],bH[bJ])){return false}}}finally{bI.dispose()}return true};bt.binarySearch=function(e){return function(bG,bH,bI,bJ,bK){var bL=(O.isValidIndex(ss.coalesce(bI,-1),bH)?ss.unbox(bI):0);var bM=(O.isValidIndex(ss.coalesce(bJ,-1),bH)?ss.unbox(bJ):(bH.length-1));if(ss.isNullOrUndefined(bK)){bK=bt.$0(e)}var bN={};while(bL<=bM){var bO=Math.floor(bL+(bM-bL)/2);var bP=bK(bH[bO],bG);if(bP===0){bN.found=true;bN.index=bO;return bN}else if(bP<0){bL=bO+1}else{bM=bO-1}}bN.found=false;bN.index=bL;return bN}};bt.$0=function(e){return function(bG,bH){if(bG===bH){return 0}else if(bG>bH){return-1}else{return 1}}};bt.transform=function(e,bG){bG=bG||{scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};if(ss.isNullOrUndefined(bG.transformOrigin)){bG.transformOrigin={x:ss.Int32.div(e.offsetWidth,2),y:ss.Int32.div(e.offsetHeight,2)}}if(bG.scale!==1){bG.scaleX=bG.scaleY=bG.scale}var bH;if(window.WebKitCSSMatrix!==undefined&&(new WebKitCSSMatrix).m11!==undefined){bH=['translate3d(',bG.translateX.toString(),'px,',bG.translateY.toString(),'px, 0px)'].join('')}else{bH=['translate(',bG.translateX.toString(),'px,',bG.translateY.toString(),'px)'].join('')}bH+=[' scale(',bG.scaleX.toString(),', ',bG.scaleY.toString(),')'].join('');e.style['transitionProperty']='transform';e.style['transitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['transitionDuration']=bG.time+'ms';e.style['transform']=bH;e.style['webkitTransitionProperty']='-webkit-transform';e.style['webkitTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['webkitTransitionDuration']=bG.time+'ms';e.style['webkitTransform']=bH;e.style['MozTransitionProperty']='-moz-transform';e.style['MozTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['MozTransitionDuration']=bG.time+'ms';e.style['MozTransform']=bH;if(ss.isValue(bG.transformOrigin)){var bI=bG.transformOrigin.x+'px '+bG.transformOrigin.y+'px';e.style['transformOrigin']=bI;e.style['webkitTransformOrigin']=bI;e.style['MozTransformOrigin']=bI}};bt.parseUri=function(e){var bG=document.createElement('a');var bH=bG;if(ss.isNullOrUndefined(e)){return null}bG.href=e;var bI=ss.mkdict(['href',e,'host',bH.host,'hostname',bH.hostname,'pathname',bH.pathname,'port',bH.port,'protocol',bH.protocol,'search',bH.search]);return bI};bt.setupTitleEllipsis=function(e){e.find('div').each(function(bG,bH){var bI=$(bH);var bJ=bI.children('span');var bK=null;var bL=s.roundToInt(bI.width());var bM=10;bL-=bM;for(var bN=0;bN<bJ.length;bN++){var bO=bJ[bN];var bP=s.roundToInt($(bO).width());bK=bO;if(bP>bL){break}bL-=bP}if(ss.isValue(bK)){bI.css('font-family',bK.style.fontFamily);bI.css('font-size',bK.style.fontSize);bI.css('line-height',bK.style.lineHeight);bI.css('color',bK.style.color);bI.css('font-weight',bK.style.fontWeight);bI.css('font-style',bK.style.fontStyle);bI.css('text-decoration',bK.style.textDecoration)}bI.css('text-overflow','ellipsis');bI.css('overflow','hidden')})};global.tableau.util=bt;var bu=function(){};bu.__typeName='tableau.types.CFStyle';global.tableau.types.CFStyle=bu;var bv=function(){};bv.__typeName='tableau.types.CFType';global.tableau.types.CFType=bv;var bw=function(){};bw.__typeName='tableau.types.DataSpecial';global.tableau.types.DataSpecial=bw;var bx=function(){};bx.__typeName='tableau.types.DataType';global.tableau.types.DataType=bx;var by=function(){};by.__typeName='tableau.types.FieldTypeTypes';global.tableau.types.FieldTypeTypes=by;var bz=function(){};bz.__typeName='tableau.types.HFStyle';global.tableau.types.HFStyle=bz;var bA=function(){};bA.__typeName='tableau.types.QFDomain';global.tableau.types.QFDomain=bA;var bB=function(){};bB.__typeName='tableau.types.QFFixed';global.tableau.types.QFFixed=bB;var bC=function(){};bC.__typeName='tableau.types.QFInclude';bC.isRange=function(e){switch(e){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}};global.tableau.types.QFInclude=bC;var bD=function(){};bD.__typeName='tableau.types.RegionType';global.tableau.types.RegionType=bD;var bE=function(){};bE.__typeName='tableau.types.TableauTypesFieldRole';global.tableau.types.TableauTypesFieldRole=bE;var bF=function(e){this.$4=null;this.$5=false;this.$4=e;if(h.get_isTouch()){this.$4.addEventListener('touchstart'.toString(),ss.mkdel(this,this.$0),false)}};bF.__typeName='tableau.util.NoClickDelay';global.tableau.util.NoClickDelay=bF;ss.initEnum(b,a,{CLASS_METADATA:0,CLASS_DATABASE:1,CLASS_NUMERICBIN:2,CLASS_CATEGORICALBIN:3,CLASS_INSTANCE:4,CLASS_MDXCALC:5,CLASS_USERCALC:6,CLASS_DANGLING:7,CLASS_LOCALDATA:8});ss.initEnum(c,a,{DRILLNONE:0,DRILLDOWN:1,DRILLUP:2,DRILLBOTH:3});ss.initEnum(d,a,{simple:'simple',toggle:'toggle',range:'range',menu:'menu'},true);ss.initClass(f,a,{});ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{dispose:function(){if(ss.isNullOrUndefined(this.$0)){return}this.$0();this.$0=null}},null,[ss.IDisposable]);ss.initClass(k,a,{});ss.initClass(l,a,{});l.$ctor1.prototype=l.prototype;ss.initEnum(m,a,{showDateOnly:0,showTimeOnly:1,showFullDateTime:2});ss.initClass(n,a,{});ss.initClass(o,a,{get_hasPendingAction:function(){return ss.isValue(this.$2)},invokeActionDelayed:function(){this.cancel();this.$2=window.setTimeout(ss.mkdel(this,function(){this.$2=null;this.$0()}),this.$1)},invokeActionImmediate:function(){this.cancel();this.$0()},cancel:function(){this.$2=O.clearTimeout(this.$2)},dispose:function(){this.cancel();this.$0=null}},null,[ss.IDisposable]);ss.initClass(p,a,{add:function(e){this.$0.push(new j(e))},add$1:function(e){this.$0.push(e)},add$2:function(e){ss.arrayAddRange(this.$0,e)},dispose:function(){for(var e=0;e<this.$0.length;e++){var bG=this.$0[e];O.dispose$1(bG)}ss.clear(this.$0)}},null,[ss.IDisposable]);ss.initClass(q,a,{});ss.initClass(r,a,{});ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initEnum(v,a,{unknown:0,newFilter:4,fieldTypeConversion:5,newToolbar:9,buttonDelay:11,hoverDelay:12,maxTooltipWhitespace:18,mapsUseLeafletForGeoSearch:19,selectionToolsMobile:23,mapsSearchDebugAlwaysShow:28,analyticsObjectsDragToViz:31,gotoMyLocationButton:32,designTint:33,newQFWorkbookLevelFormatting:35,appearanceOfBlendingIcons:36,outlineStampedShapes:38,progressiveLoadDelay:39,catQFDrowdown:40,opaqueCanvasBackground:42,logStoryPointCacheHits:43,dataHLMaxItems:44,debugTools:46,instrumentObjects:47,greyGlassDelay:48,spinnerDelay:49,cancelDelay:50,runtimeWebHost:51});ss.initClass(w,a,{});ss.initClass(x,a,{});ss.initClass(y,a,{});ss.initInterface(z,a,{addToDom:null,onAddedToDom:null});ss.initInterface(A,a,{get_dimensions:null,translatePositionToViewport:null,getVisibleRoom:null,getDocumentViewport:null});ss.initInterface(B,a,{showSuccessBanner:null,showErrorBanner:null},[ss.IDisposable]);ss.initInterface(C,a,{showAlertDialog:null,showConfirmationDialog:null,showConfirmationHybridDialog:null,ShowErrorDialog:null,ShowLocalErrorDialog:null,showSheetAuthenticationOverlay:null,showGenericDataSourceErrorOverlay:null,showSheetAuthenticationDialog:null,showGenericDataSourceErrorDialog:null,showFileDownloadDialog:null,showConnectionMissingFileDialog:null,showEditConnectionInformationDialog:null,showConnectionSignInDialog:null},[ss.IDisposable]);ss.initClass(D,a,{get_from:function(){return this.$0},set_from:function(e){this.$0=e},get_to:function(){return this.$1},set_to:function(e){this.$1=e}});ss.initInterface(F,a,{add_disposed:null,remove_disposed:null},[ss.IDisposable]);ss.initInterface(G,a,{});ss.initClass(I,a,{add:function(e){this.store[e]=e;this.updateSize();return this},delete:function(e){var bG=this.has(e);delete this.store[e];this.updateSize();return bG},clear:function(){ss.clearKeys(this.store);this.updateSize()},has:function(e){return ss.keyExists(this.store,e)},forEach:function(e){var bG=ss.getEnumerator(Object.keys(this.store));try{while(bG.moveNext()){var bH=bG.current();e(this.store[bH])}}finally{bG.dispose()}},updateSize:function(){this.size=ss.getKeyCount(this.store)}});ss.initClass(H,a,{add:function(e){return null},set:function(e,bG){this.store[e]=bG;this.updateSize();return this},get:function(e){return this.store[e]},forEach:function(e){var bG=ss.getEnumerator(Object.keys(this.store));try{while(bG.moveNext()){var bH=bG.current();e(this.store[bH],bH)}}finally{bG.dispose()}}},I);ss.initClass(J,a,{});ss.initClass(K,a,{},ss.Exception);K.$ctor1.prototype=K.$ctor2.prototype=K.prototype;ss.initClass(L,a,{});ss.initClass(M,a,{});ss.initClass(N,a,{logEvent:function(e){if(this.$a.length>=400){this.$a.shift()}this.$a.push(e);this.$1(e);this.$6(250)},$1:function(e){if(!('newrelic'in window)){return}var bG=e.parameters['d'];if(ss.isNullOrUndefined(bG)){return}var bH=new Object;bH.name=ss.coalesce(N.$5[bG],bG);var bI=N.$3(e.parameters['t']);var bJ=e.parameters['e'];if(ss.isValue(bJ)){bH.end=bI;bH.start=bI-bJ}else{bH.start=bI}newrelic.addToTrace(bH)},attach:function(){tabBootstrap.MetricsController.setEventLogger(ss.mkdel(this,this.logEvent))},$6:function(e){if(ss.isValue(this.$9)){return}this.$9=window.setTimeout(ss.mkdel(this,this.$4),e)},$4:function(){this.$9=null;var e;if(this.$a.length>20){e=this.$a.slice(0,20);this.$a=this.$a.slice(20);this.$6(5)}else{e=this.$a;this.$a=[]}this.$2(e);if(tsConfig.metricsReportingEnabled){try{this.$3(e)}catch(bG){}}},$2:function(e){this.$b=this.$b||tab.Logger.lazyGetLogger(N);for(var bG=0;bG<e.length;bG++){var bH=e[bG]}},$3:function(e){var bG=1500;var bH=e.length;var bI='';if(bH===0){return}for(var bJ=0;bJ<bH;bJ++){var bK=e[bJ];if(bK.eventType==='wps'){continue}var bL=N.$1(bK,false);if(bI.length>0&&bI.length+bL.length>bG){this.$5(tsConfig.metricsServerHostname,bI);bI=''}else if(bI.length>0){bI+='&'}bI+=bL}if(bI.length>0){this.$5(tsConfig.metricsServerHostname,bI)}if(ss.isNullOrUndefined(this.$7)){this.$7=window.setTimeout(ss.mkdel(this,this.$0),250)}},$5:function(e,bG){var bH=1;if(O.isNullOrEmpty$3(e)||O.isNullOrEmpty$3(bG)){return}var bI=document.createElement('img');var bJ='v='+bH.toString();var bK=e;bK+='?'+bJ+'&'+bG;bI.src=bK;this.$8.push(bI);if(this.$8.length>100){this.$8.shift()}},$0:function(){try{this.$7=null;var e=0;while(e<this.$8.length){if(this.$8[e].complete){this.$8.splice(e,1)}else{e++}}if(this.$8.length>0){this.$7=window.setTimeout(ss.mkdel(this,this.$0),250)}}catch(bG){}}});ss.initClass(O,a,{});ss.initClass(P,a,{});ss.initClass(Q,a,{});ss.initClass(R,a,{get:function(e,bG,bH){if(!R.$0(bG)){var bI=this.$0+'!'+bG;if(ss.keyExists(this.$1,bI)){this.$1[bI]=true}}return e[bG]}});ss.initClass(S,a,{instrument:function(e,bG){if(bG===''){this.$1=JSON.parse(JSON.stringify(e))}if(S.$1(e)){var bH=e;var bI=new ss.ObjectEnumerator(bH);try{while(bI.moveNext()){var bJ=bI.current();this.$2[bG+'!'+bJ.key]=false;if(S.$0(bJ.value)||S.$1(bJ.value)){bH[bJ.key]=this.instrument(bJ.value,bG+'!'+bJ.key)}}}finally{bI.dispose()}return new Proxy(e,new R(this.$2,bG))}else if(S.$0(e)){var bK=e;for(var bL=0;bL<bK.length;bL++){this.$2[bG+'!'+bL]=false;if(S.$0(bK[bL])||S.$1(bK[bL])){bK[bL]=this.instrument(bK[bL],bG+'!'+bL)}}return new Proxy(e,new R(this.$2,bG))}return e}});ss.initClass(T,a,{});ss.initClass(U,a,{});ss.initEnum(V,a,{workbookName:2,sheetId:3,authoringSheet:4});ss.initClass(W,a,{});ss.initClass(X,a,{});ss.initClass(Y,a,{get_propertyName:function(){return this.$0}},ss.EventArgs);ss.initClass(Z,a,{});ss.initClass(ba,a,{});ss.initClass(bb,a,{});ss.initClass(bc,a,{});ss.initClass(bd,a,{});ss.initClass(be,a,{});ss.initClass(bf,a,{});ss.initClass(bg,a,{});ss.initClass(bh,a,{logInternal:function(bG,bH,bI,bJ){bI=this.formatMessage(ss.replaceAllString(bI,'\\n','<br />'),bJ);if(bH>2){try{throw new ss.Exception('Logged('+tab.Logger.loggerLevelNames[bH]+', from '+bG.get_name()+'): '+bI)}catch(bK){var e=ss.Exception.wrap(bK);t.report(e,false)}}}},tab.BaseLogAppender);ss.initClass(bi,a,{get_first:function(){return this.$0},get_second:function(){return this.$1}});ss.initClass(bj,a,{});ss.initClass(bk,a,{});ss.initClass(bl,a,{get_translateX:function(){return this.$3.x},get_translateY:function(){return this.$3.y},get_transformType:function(){return this.$2},get_isNull:function(){return this.$2===0},transformBounds:function(e){switch(this.$2){case 0:{return{x:e.minX,y:e.minY,w:e.maxX-e.minX,h:e.maxY-e.minY}}case 2:{var bG=e.minX*this.$1+this.$3.x;var bH=e.minY*this.$1+this.$3.y;var bI=e.maxX*this.$1+this.$3.x;var bJ=e.maxY*this.$1+this.$3.y;return{x:bG,y:bH,w:bI-bG,h:bJ-bH}}default:{return null}}},transformPoint:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0}}default:{return null}}},transformRect:function(e){switch(this.$2){case 0:{return{x:e.x,y:e.y,w:e.w,h:e.h}}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0,w:e.w*this.$0,h:e.h*this.$0}}default:{return null}}},transformCircle:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bG=(e.center.x-this.$3.x)*this.$0;var bH=(e.center.y-this.$3.y)*this.$0;return{center:{x:bG,y:bH},radius:e.radius*this.$0}}default:{return null}}},transformPolygon:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bG=e.length;var bH=new Array(bG);for(var bI=0;bI<bG;bI=bI+2){bH[bI]=(e[bI]-this.$3.x)*this.$0;bH[bI+1]=(e[bI+1]-this.$3.y)*this.$0}return bH}default:{return null}}}});ss.initClass(bm,a,{get_matrix:function(){return this.$0},reset:function(){this.$0=[1,0,0,1,0,0]},rotate:function(e){var bG=Math.cos(e);var bH=Math.sin(e);var bI=this.$0[0]*bG+this.$0[2]*bH;var bJ=this.$0[1]*bG+this.$0[3]*bH;var bK=this.$0[0]*-bH+this.$0[2]*bG;var bL=this.$0[1]*-bH+this.$0[3]*bG;this.$0[0]=bI;this.$0[1]=bJ;this.$0[2]=bK;this.$0[3]=bL},translate:function(e,bG){this.$0[4]=this.$0[4]+this.$0[0]*e+this.$0[2]*bG;this.$0[5]=this.$0[5]+this.$0[1]*e+this.$0[3]*bG},scale:function(e,bG){this.$0[0]=this.$0[0]*e;this.$0[1]=this.$0[1]*e;this.$0[2]=this.$0[2]*bG;this.$0[3]=this.$0[3]*bG},setTransform:function(e){this.$0[0]=e.get_matrix()[0];this.$0[1]=e.get_matrix()[1];this.$0[2]=e.get_matrix()[2];this.$0[3]=e.get_matrix()[3];this.$0[4]=e.get_matrix()[4];this.$0[5]=e.get_matrix()[5]},isEqual:function(e){return this.$0[0]===e.get_matrix()[0]&&this.$0[1]===e.get_matrix()[1]&&this.$0[2]===e.get_matrix()[2]&&this.$0[3]===e.get_matrix()[3]&&this.$0[4]===e.get_matrix()[4]&&this.$0[5]===e.get_matrix()[5]},clone:function(){var e=new bm;e.setTransform(this);return e}});ss.initEnum(bn,a,{none:0,pixelToDomain:1,domainToPixel:2,offset:3});ss.initClass(bo,a,{});ss.initClass(bp,a,{logInternal:function(e,bG,bH,bI){if(ss.isNullOrUndefined(this.$2)){this.$1()}bH=this.formatMessage(ss.replaceAllString(bH,'\\n','<br />'),bI);this.$2.html(bH)},$1:function(){this.$2=$("<div class='log-window-appender'>Debug mode ON</div>");this.$2.css(ss.mkdict(['position','absolute','bottom','0px','right','0px','backgroundColor','white','opacity','.8','border','1px solid black','minWidth','5px','minHeight','5px','z-index','100']));$('body').append(this.$2)}},tab.BaseLogAppender);ss.initClass(bq,a,{});ss.initClass(br,a,{});ss.initClass(bs,a,{});ss.initClass(bt,a,{});ss.initClass(bu,a,{});ss.initClass(bv,a,{});ss.initClass(bw,a,{});ss.initClass(bx,a,{});ss.initClass(by,a,{});ss.initClass(bz,a,{});ss.initClass(bA,a,{});ss.initClass(bB,a,{});ss.initClass(bC,a,{});ss.initClass(bD,a,{});ss.initClass(bE,a,{});ss.initClass(bF,a,{$0:function(e){var bG=e;switch(e.type){case'touchstart':{this.$3(bG);break}case'touchmove':{this.$2(bG);break}case'touchend':{this.$1(bG);break}}},$3:function(e){e.preventDefault();this.$5=false;this.$4.addEventListener('touchmove'.toString(),ss.mkdel(this,this.$0),false);this.$4.addEventListener('touchend'.toString(),ss.mkdel(this,this.$0),false)},$2:function(e){this.$5=true},$1:function(e){this.$4.removeEventListener('touchmove',ss.mkdel(this,this.$0),false);this.$4.removeEventListener('touchend',ss.mkdel(this,this.$0),false);if(!this.$5){var bG=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(bG.nodeType===3){bG=bG.parentNode}var bH=document.createEvent('MouseEvents');bH['initEvent']('click',true,true);bG.dispatchEvent(bH)}}});ss.setMetadata(E,{variance:[1]});(function(){bk.$0=false})();(function(){h.$G=false;h.$l='fonts'in document;h.$E=false;h.$n=false;h.$f='transform';h.$g='transition';h.$I=false;h.$e=false;h.$A=false;h.$r=false;h.$u=false;h.$s=false;h.$o=0;h.$m=0;h.$F=0;h.$p=0;h.$t=false;h.$z=false;h.$w=false;h.$C=false;h.$y=false;h.$v=false;h.$q=false;h.$x=false;h.$D=false;h.$B=false;h.$k=1;h.$d=1;h.$h=false;h.$i=false;h.$j=false;h.$J=false;h.$H=false;h.$1();$(h.detectBrowserSupport);h.$c(I).call(null,'Set');h.$c(H).call(null,'Map')})();(function(){s.epsilon=Math.pow(2,-52);s.$4=1+s.epsilon;s.$5=s.$4;s.$3=1/s.$4;s.$1=9.22337203685477E+18;s.$2=-9.22337203685477E+18})();(function(){bs.ExportDialogType=null;var e={};e['ExportImage']=ss.mkdict(['title',tab.Strings.ExportImageDialogTitle,'mimeType','image/png','message',tab.Strings.ExportImageDialogMessage]);e['ExportData']=ss.mkdict(['title',tab.Strings.ExportDataDialogTitle,'mimeType','text/csv','message',tab.Strings.ExportDataDialogMessage]);e['ExportCrosstab']=ss.mkdict(['title',tab.Strings.ExportCrosstabDialogTitle,'message',tab.Strings.ExportCrosstabDialogMessage]);e['PrintPDF']=ss.mkdict(['title',tab.Strings.PrintPdfDialogTitle,'mimeType','application/pdf','message',tab.Strings.PrintPdfDialogMessage,'noping',true]);bs.ExportDialogType=e})();(function(){n.oneSecond=(new Date(2008,11,21,1,1,2)).getTime()-(new Date(2008,11,21,1,1,1)).getTime();n.oneMinute=(new Date(2008,11,21,1,2)).getTime()-(new Date(2008,11,21,1,1)).getTime();n.oneHour=(new Date(2008,11,21,2)).getTime()-(new Date(2008,11,21,1)).getTime();n.oneDay=(new Date(2008,11,21)).getTime()-(new Date(2008,11,20)).getTime();n.oneWeek=(new Date(2008,11,21)).getTime()-(new Date(2008,11,14)).getTime();n.$5=86400000})();(function(){u.$0=null})();(function(){U.suppressAlerts=false})();(function(){q.$6='data-tab-test-wait';q.$7=ss.mkdict(['matrix',4,'matrix3d',12,'translate',0,'translate3d',0,'translateX',0,'translateY',-1]);q.$8=1})();(function(){t.$j='?';t.$s=false;t.$r=true;t.$k=true;t.$l=false;t.$n=null;t.$m=null;t.$h={};t.$q=[];t.$p=false;t.$o=null;t.$g=new RegExp('^(eval@)?(\\[native code\\])?$');t.$d=new RegExp('^\\s*at .*(\\S+\\:\\d+|\\(native\\))','m');t.$i=new RegExp('(\\(eval at [^\\()]*)|(\\)\\,.*$)');t.$e=new RegExp('(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$');t.$f=new RegExp('[\\(\\)]','g')})();(function(){w.$a=null;w.$5=null;w.$7=null;w.$9=null;w.$c=null;w.$d=null;w.$4=null;w.$6=null;w.$8=null;w.$b=null;{w.$a=tab.Logger.lazyGetLogger(w);w.$5=[];w.$7=[];w.$9=[];w.$c=[];w.$d={};w.$4={};w.$6={};w.$8={};w.$b={}}w.$1(':newfilter',4,false);w.$1(':fieldconversion',5,true);w.$1(':newtoolbar',9,false);w.$1(':selectiontoolsmobile',23,true);w.$1(':mapssearchdebugalwaysshow',28,false);w.$1(':useleafletforgeosearch',19,false);w.$1(':aodragtoviz',31,false);w.$1(':gotomylocationbutton',32,true);w.$1(':designtint',33,false);w.$1(':newqfwolf',35,false);w.$1(':appearanceofblendingicons',36,true);w.$1(':outlinestampedshapes',38,false);w.$1(':catqfdropdown',40,false);w.$1(':opaquecanvas',42,true);w.$1(':logstorypointcachehits',43,false);w.$1(':debugtools',46,false);w.$2(':buttondelay',11);w.$2(':hoverdelay',12);w.$2(':maxtooltipwhitespace',18);w.$2(':datahlmaxitems',44);w.$2(':greyglassdelay',48);w.$2(':spinnerdelay',49);w.$2(':canceldelay',50);w.$2(':progloaddelay',39);w.$3(':instrumentobjects',47);w.$3(':runtimewebhost',51);w.$0()})();(function(){y.httpUnauthorizedCode=401;y.httpServiceUnavailable=503;y.httpInternalServerError=500})();(function(){L.touchEventSamplingRate=6;L.defaultWheelDeltaIncrement=120;L.minimumZoomLevelIncrement=0.25;L.maxWheelDelta=360;L.$1=480;L.$0=512})();(function(){N.$7=100;N.$8=400;N.$9=20;N.$6=250;N.$a=5;N.$4=250;N.$c=null;N.$b=null;N.$5=null;N.$d=null;N.$c={};N.$c['d']='DESC';N.$c['t']='TIME';N.$c['id']='ID';N.$c['sid']='SESSION_ID';N.$c['e']='ELAPSED';N.$c['v']='VALS';N.$c['wb']='WORKBOOK';N.$c['s']='SHEET_NAME';N.$c['p']='PROPS';N.$c['m']='MOBILE';N.$b={};N.$b['nav']='Navigation';N.$b['wps']='ProfileStart';N.$b['wp']='ProfileEnd';N.$b['gen']='Generic';N.$b['init']='SessionInit';N.$5=ss.mkdict(['BTSTRP','Bootstrap Request','PROPRI','Process Primary Payload','PROSEC','Process Secondary Payload','MDLINI','Initialize Models','MDLEVT','Handle Model Events','EXELOC','Execute Local Command','EXEREM','Execute Remote Command','PROLOC','Process Local Command Response','PROREM','Process Remote Command Response','RNDRPT','Render Panetable','RNDRRG','Render Region','RTCONV','Runtime model presmodel conversion','CLNTLD','Client Loaded','APPSTR','Application Startup','APPINT','Application Interactive','ALLZNS','All Zones Loaded','TBRLAY','Toolbar Layout','TBRHNT','Toolbar HandleNewToolbar','TBRADD','Toolbar AddToolbar','TBRHRE','Toolbar HandleResize','MDLOAD','JavaScript Module loaded asynchronously'])})();(function(){Q.$1=['navigationStart','unloadEventStart','unloadEventEnd','redirectStart','redirectEnd','fetchStart','domainLookupStart','domainLookupEnd','connectStart','connectEnd','secureConnectionStart','requestStart','responseStart','responseEnd','domLoading','domInteractive','domContentLoadedEventStart','domContentLoadedEventEnd','domComplete','loadEventStart','loadEventEnd'];Q.$0=null;var e=window;var bG=function(bH){_.defer(Q.collectMetrics)};if(ss.isValue(e.addEventListener)){window.addEventListener('load',bG,false)}else if(ss.isValue(e.attachEvent)){e.attachEvent('load',bG)}})();(function(){S.trackedObjects={};S.$2=null})();(function(){T.$3=null;T.$2=null})();(function(){bh.globalAppender=new tab.LogAppenderInstance(function(){return new bh})})();(function(){bj.defaultCustomStyleElementId='tab-appendedCustomStyle';bj.$2=new RegExp('-?[_a-zA-Z]+[_a-zA-Z0-9-]*');bj.$3={}})();(function(){bl.$0=null;bl.$0=new bl(0,0,1,0)})();(function(){bo.onlineHelpOrigin='http://www.tableau.com';bo.$2='/offline_help/{0}/help.htm#{1}'})();(function(){bp.globalAppender=new tab.LogAppenderInstance(function(){return new bp})})();(function(){bq.waitHandlerGlassZIndex=990;bq.dialogAboveGlassAndSpinnerStandardZIndex=1000;bq.belowGlassAndSpinnerStandardZIndex=988})();(function(){br.specialManyValues='%many-values%';br.specialNull='%null%';br.specialError='%error%';br.specialRagged='%ragged%';br.specialSkipped='%skipped%';br.specialMissing='%missing%';br.specialAll='%all%';br.specialNoAccess='%no-access%';br.specialWildcard='%wildcard%';br.millisPerDay=86400000;br.$G=15;br.$F=6;br.$I=1E+15;br.$H=1000000;br.$J=0.0001;br.$X=9;br.$D=46;br.$K=45;br.$Y=48;br.$E=53;br.$V=57;br.$Q='t';br.$P='f';br.$R=10;br.$T=0;br.$A='';br.$W='N';br.$C='e';br.$B='p';br.$L=1;br.nfUseSeparators=2;br.$O=3;br.$S=4;br.$U=5;br.$N=6;br.$M=7;br.nfGroupSeparatorChars=8;br.nfGroupingSpec=9;br.$1a=['automatic','parenthesis','outerPrefix','outerSuffix','innerPrefix','innerSuffix'];br.$17={};br.$18={};br.$19={};br.$1f=new RegExp('(\\\\|\\^|\\$|\\*|\\+|\\?|\\.|\\:|\\,|\\(|\\)|\\[|\\]|\\{|\\}|\\|)','g');br.$13=new RegExp('^([yYmMdD\\W]+)\\s+([hnst\\W]+)$');br.$1g=new RegExp('(\\\\[:.]s+)');br.$1j=new RegExp('(t+)','g');br.$1b=new RegExp('([yYmMdDhnswq]+)','g');br.$1h=new RegExp('\\(\\\\d\\+\\)(?:\\(\\?\\:)?\\s+\\(\\\\d\\+\\)','g');br.$1c=new RegExp('\\s','g');br.$11=new RegExp('(^|d)([^h]*)(h|$)','gi');br.$12=new RegExp('h([^d]*)(d|$)','gi');br.$Z=new RegExp('^(a|a\\.?m\\.?|㏂|π\\.?µ\\.?|午前)$','i');br.$1d=new RegExp('^(p|p\\.?m\\.?|㏘|µ\\.?µ\\.?|午後)$','i');br.$1e=new RegExp('(\\d)(?:\\.(\\d+))?e\\+(\\d+)');br.$16=ss.mkdict(['yyyyy','yyyyy','yyyy','yyyy','yyy','yyyy','yy','yy','y','yyyy','L','m','LL','mm','LLL','mmm','LLLL','mmmm']);br.$14={day:['',tab.Strings.Sunday,tab.Strings.Monday,tab.Strings.Tuesday,tab.Strings.Wednesday,tab.Strings.Thursday,tab.Strings.Friday,tab.Strings.Saturday,tab.Strings.Sunday],shortDay:['',tab.Strings.SundayShort,tab.Strings.MondayShort,tab.Strings.TuesdayShort,tab.Strings.WednesdayShort,tab.Strings.ThursdayShort,tab.Strings.FridayShort,tab.Strings.SaturdayShort,tab.Strings.SundayShort],shortMonth:[tab.Strings.JanuaryShort,tab.Strings.FebruaryShort,tab.Strings.MarchShort,tab.Strings.AprilShort,tab.Strings.MayShort,tab.Strings.JuneShort,tab.Strings.JulyShort,tab.Strings.AugustShort,tab.Strings.SeptemberShort,tab.Strings.OctoberShort,tab.Strings.NovemberShort,tab.Strings.DecemberShort],month:[tab.Strings.January,tab.Strings.February,tab.Strings.March,tab.Strings.April,tab.Strings.May,tab.Strings.June,tab.Strings.July,tab.Strings.August,tab.Strings.September,tab.Strings.October,tab.Strings.November,tab.Strings.December]};br.$10=ss.mkdict(['t','t','v',bs.OleDateFromJsDate(Date.UTC(1918,10,11,11,11,0))]);br.$1i=null;br.$15=ss.mkdict(['０','0','１','1','２','2','３','3','４','4','５','5','６','6','７','7','８','8','９','9','－','-','．','.','。','.']);br.$17.format='yyyy-mm-dd';br.$17.timeFormat='hh:nn';br.$18.format='yyyy-mm-ddThh:nn';br.$19.format='hh:nn';br.$1i=ss.mkdict(['%many-values%',true,'%null%',true,'%error%',true,'%ragged%',true,'%skipped%',true,'%missing%',true,'%all%',true,'%no-access%',true,'%wildcard%',true])})();(function(){if(h.get_isMac()){$(document).addClass('tb_mac')}})();(function(){bu.CFS_ALL='all';bu.CFS_SINGLE='single-select';bu.CFS_MULTIPLE='multi-select'})();(function(){bv.CFT_INCLUSIVE='include';bv.CFT_EXCLUSIVE='exclude'})();(function(){bw.DS_NORMAL=null;bw.DS_NULL='n';bw.DS_ALL='a';bw.DS_WILDCARD='w';bw.DS_SKIPPED='s';bw.DS_NOACCESS='p';bw.DS_RAGGED='r';bw.DS_ERROR='e';bw.DS_MISSING='m'})();(function(){by.FT_QUANTITATIVE='Q';by.FT_ORDINAL='O';by.FT_NOMINAL='N';by.FT_UNKNOWN=null})();(function(){bz.HFS_SINGLE='single-select';bz.HFS_MULTIPLE='multi-select'})();(function(){bA.QFD_ALL='all';bA.QFD_CONTEXT='context';bA.QFD_RELEVANT='relevant';bA.QFD_CASCADING='cascading';bA.QFD_CASCADING_CONTEXT='cascading-context'})();(function(){bB.QFF_FIXED_START='start';bB.QFF_FIXED_END='end'})();(function(){bC.QFI_ALL='include-all';bC.QFI_NON_NULL='include-non-null';bC.QFI_NULL_ONLY='include-null';bC.QFI_RANGE='include-range';bC.QFI_RANGE_OR_NULL='include-range-or-null'})();(function(){bD.table='t';bD.legend='l';bD.filter='f';bD.currentPage='p';bD.title='i';bD.text='x';bD.bitmap='b';bD.web='w';bD.draw='d';bD.textBlock='k';bD.layoutContainer='c';bD.parameter='a'})()})()}());;
/*! BEGIN Domain */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqldomain');var b=function(e,ex,kc,kd){bC.call(this,'none',e,ex,kc,kd)};b.__typeName='tab.$0';var c=function(e){this.$9=null;this.$7=0;this.$8=null;this.$1$1=null;this.$1$2=null;this.$9=e;this.$7=0;this.$8=[]};c.__typeName='tab.$1';var d=function(){};d.__typeName='tab.$10';d.isInstanceOfType=function(){return true};var f=function(){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}]};f.__typeName='tab.$11';f.$1=function(e,ex){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[e];this.$3=ex};f.$0=function(e,ex){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=(!tab.MiscUtil.isNullOrEmpty(e)?e:[{field:'name',ascending:true}]);this.$3=ex};var g=function(e,ex){var kc=function(kd,ke){this.$0=ss.getDefaultValue(e);this.$1=ss.getDefaultValue(ex);this.$0=kd;this.$1=ke};ss.registerGenericClassInstance(kc,g,[e,ex],{},function(){return null},function(){return[]});return kc};g.__typeName='tab.$12';ss.initGenericClass(g,a,2);var h=function(e){var ex=function(kc){this.$0=ss.getDefaultValue(e);this.$1=null;this.$2=null;this.$0=kc};ss.registerGenericClassInstance(ex,h,[e],{},function(){return null},function(){return[]});return ex};h.__typeName='tab.$13';ss.initGenericClass(h,a,1);var i=function(e){var ex=function(){this.$2=null;this.$3=null};ss.registerGenericClassInstance(ex,i,[e],{$0:function(kc){var kd=this.$2;this.$2=kc;kc.$1=kd;kc.$2=null;if(ss.isValue(kd)){kd.$2=kc}if(ss.isNullOrUndefined(this.$3)){this.$3=kc}},$1:function(kc){if(ss.referenceEquals(this.$2,kc)){this.$2=kc.$1}if(ss.referenceEquals(this.$3,kc)){this.$3=kc.$2}if(ss.isValue(kc.$2)){kc.$2.$1=kc.$1}if(ss.isValue(kc.$1)){kc.$1.$2=kc.$2}}},function(){return null},function(){return[]});return ex};i.__typeName='tab.$14';ss.initGenericClass(i,a,1);var j=function(e){gb.call(this,e,new gI('sizeItemList'.toString()))};j.__typeName='tab.$15';var k=function(e){gb.call(this,e,new gI('sizeItems'.toString(),1))};k.__typeName='tab.$16';var l=function(e){gb.call(this,e,new gI('sheetListItems'.toString(),1))};l.__typeName='tab.$17';var m=function(){};m.__typeName='tab.$18';var n=function(){this.$4=null;this.$4=[]};n.__typeName='tab.$19';var o=function(){};o.__typeName='tab.$2';var p=function(e,ex){this.$3=null;this.$2=null;this.$3=e;this.$2=ex};p.__typeName='tab.$20';var q=function(){};q.__typeName='tab.$21';q.$0=function(e,ex,kc){var kd=new Set;for(var ke=0;ke<ex.length;ke++){var kf=ex[ke];if(ss.contains(kf.sourceWorksheets,e)&&q.$1(kf,kc)){tab.SetUtilities.addAll(Object).call(null,kd,kf.targetWorksheets)}}return kd};q.$1=function(e,ex){var kc=bV.deserialize(it.create(e.simpleCommandModel).get_simpleCommand(),true);if(ss.isNullOrUndefined(ex)||ba.isSpecialDateTimeHighlighting(kc)){return true}var kd=ba.getHighlightFieldCaptions(kc,ex.get_highlightCaptions(),ex.get_fieldCaptions());return!tab.MiscUtil.isNullOrEmpty$2(kd)};var r=function(){};r.__typeName='tab.$22';var s=function(){};s.__typeName='tab.$23';var t=function(){};t.__typeName='tab.$24';var u=function(){this.$1$1=0;this.$1$2=0;this.$1$3=0;this.$1$4=0;this.$1(0);this.$3(0);this.$5(0);this.$7(0)};u.__typeName='tab.$25';u.$0=function(e,ex,kc,kd){this.$1$1=0;this.$1$2=0;this.$1$3=0;this.$1$4=0;this.$1(e);this.$3(ex);this.$5(kc);this.$7(kd)};var v=function(e,ex){this.$1$1=0;this.$1$2=0;this.$3(e);this.$1(ex)};v.__typeName='tab.$26';var w=function(e){this.$9=null;this.$a=new Map;this.$8=[];this.$7=false;this.$9=e};w.__typeName='tab.$27';w.$0=function(e,ex){var kc=new Array(e.length);for(var kd=0;kd<e.length;++kd){kc[kd]={item1:e[kd],item2:ex[kd]}}kc.sort(function(ke,kf){return ke.item1-kf.item1});return kc};w.$1=function(e,ex){var kc;if(ex.length===1||ss.isNullOrUndefined(e)){kc=ex}else{kc=_.sortBy(ex,function(kd,ke){return e[ke]})}return kc};var x=function(){};x.__typeName='tab.$28';var y=function(){};y.__typeName='tab.$29';y.$e=function(){return tab.Logger.lazyGetLogger(hF)};y.$2=function(e,ex,kc,kd,ke){var kf=y.$4(kd,ke);var kg=new w(ke);if(ss.isNullOrUndefined(kf)){return kg}var kh=new Array(ke.length);for(var ki=0;ki<kh.length;++ki){var kj=kd.getColumnIndex(ke[ki]);kh[ki]=kj}var kk={};for(var kl=0;kl<kc.length;kl++){var km=kc[kl];var kn=e.getItemNamesFromObjectId(km);if(ss.isNullOrUndefined(kn)){continue}var ko=true;var kp=[];for(var kq=0;kq<kn.length;kq++){var kr=ex[kq];var ks=kf[kr];if(ss.isNullOrUndefined(ks)){continue}kk[kr]=kk[kr]||jp.buildAliasReverseLookup(kd,ks,S.get_instance().get_dataDictionary());var kt=kk[kr];var ku=kt[kn[kq]];if(!ss.isValue(ku)){ko=false;break}kp.push(ku)}if(ko){kg.$0(kp,kh)}}return kg};y.$1=function(e,ex){var kc={};for(var kd=0;kd<ex.length;kd++){var ke=ex[kd];var kf=new Array(ke.columnIndices.length);for(var kg=0;kg<kf.length;kg++){var kh=e.getVizDataFieldByIndex(ke.columnIndices[kg]);kf[kg]=kh.get_fieldName()}var ki=kf.join(';');var kj;if(ss.keyExists(kc,ki)){kj=kc[ki]}else{kj=new w(kf);kc[ki]=kj}kj.$0(ke.aliasIndices,ke.columnIndices)}return _.map(kc,function(kk,kl){return kk})};y.$c=function(e,ex){var kc=[];for(var kd=0;kd<ex.length;kd++){var ke=ex[kd];if(ss.isNullOrUndefined(ke.node)){continue}var kf=ke.node;if(ss.isValue(kf.columnIndices)){for(var kg=0;kg<kf.columnIndices.length;kg++){var kh=kf.columnIndices[kg];var ki=e.get_vizDataModel().getVizDataFieldByIndex(kh);var kj=ki.get_fieldCaption();if(!ss.contains(kc,kj)){kc.push(kj)}}}if(ss.isValue(kf.fn)){var kk=e.get_vizDataModel().getVizDataField(kf.fn);var kl=kk.get_fieldCaption();if(!ss.contains(kc,kl)){kc.push(kl)}}}return Array.prototype.slice.call(kc)};y.$3=function(e,ex,kc){var kd=new w(kc);var ke=y.$4(e,kc);if(ss.isNullOrUndefined(ke)){return kd}for(var kf=0;kf<ex.length;kf++){var kg=ex[kf];var kh=[];var ki=[];for(var kj=0;kj<kc.length;kj++){var kk=kc[kj];var kl=ke[kk];var km=kl.getAliasIndex(kg);kh.push(km);ki.push(e.getColumnIndex(kk))}if(kh.length!==kc.length){}kd.$0(kh,ki)}return kd};y.$0=function(e,ex,kc,kd){var ke=[];var kf={};var kg=false;e.forEachVizDataField(function(kz,kA){if(y.$d(kz)){var kB=kz.get_aggType()||'none';kf[kB]=kA;if(kB==='none'){kg=true}}return true});var kh=true;var ki=null;ex.forEachVizDataField(function(kz,kA){if(y.$d(kz)){if(ss.isNullOrUndefined(ki)){ki=kz.get_baseColumnName()}else if(!ss.referenceEquals(ki,kz.get_baseColumnName())){kh=false}}return true});var kj=[];if(kh){var kk=[];ex.forEachVizDataField(function(kz,kA){if(y.$d(kz)){var kB=kz.get_aggType()||'none';if(!kg&&kB==='none'){var kC=ss.getEnumerator(Object.keys(kf));try{while(kC.moveNext()){var kD=kC.current();if(!ss.contains(kk,kD)){kk.push(kD);var kE=kf[kD];ke.push(new A(kE,kA,kD,'none'));var kF=e.getVizDataFieldByIndex(kE);kj.push(kF)}}}finally{kC.dispose()}}else if(ss.keyExists(kf,kB)){if(!ss.contains(kk,kB)){kk.push(kB);var kG=kf[kB];ke.push(new A(kG,kA,'none','none'));kj.push(kz)}}else if(kg){var kH=kf['none'];ke.push(new A(kH,kA,'none',kB));kj.push(kz)}}return true})}var kl=new Array(kj.length);for(var km=0;km<kj.length;km++){var kn=kj[km];kl.push(kn.get_fieldCaption())}var ko=new w(kl);for(var kp=0;kp<kd.length;kp++){var kq=kd[kp];var kr=[];var ks=[];for(var kt=0;kt<ke.length;kt++){var ku=ke[kt];var kv=e.getVizDataFieldByIndex(ku.$3);var kw=kv.getDataValueIndex(kq);if(ss.isValue(kw)){var kx=kc.getRawValue(kv.get_dataType(),ss.unbox(kw));var ky=y.$5(kx,ku.$2,ku.$0,ss.unbox(kw));kr.push(ky);ks.push(ku.$3)}}ko.$0(kr,ks)}return{item1:ko,item2:ke}};y.$b=function(e,ex,kc,kd){var ke=[];if(ss.isNullOrUndefined(kc)||e.$5()){return ke}kc.forEachTupleId(function(kf){var kg=[];var kh=[];for(var ki=0;ki<ex.length;ki++){var kj=ex[ki];var kk=kc.getVizDataFieldByIndex(kj.$1);var kl=kk.getDataValueIndex(kf);if(ss.isValue(kl)){var km=kd.getRawValue(kk.get_dataType(),ss.unbox(kl));var kn=y.$5(km,kj.$0,kj.$2,ss.unbox(kl));kg.push(kn);kh.push(kj.$1)}}if(e.$1(kh,kg)){ke.push(kf)}return true});return ke};y.$a=function(e,ex){var kc=[];if(ss.isNullOrUndefined(ex)||e.$5()){return kc}var kd=e.$4();var ke=y.$4(ex,kd);if(ss.isNullOrUndefined(ke)){return kc}if(!ex.get_hasTupleIdColumn()){return kc}var kf=new Array(kd.length);for(var kg=0;kg<kd.length;kg++){kf[kg]=ex.getColumnIndex(kd[kg])}ex.forEachTupleId(function(kh){var ki=new Array(kd.length);for(var kj=0;kj<kd.length;kj++){var kk=kd[kj];var kl=ke[kk];var km=kl.getAliasIndex(kh);ki[kj]=km}if(e.$1(kf,ki)){kc.push(kh)}return true});return kc};y.$9=function(e,ex,kc){var kd=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(kc)||ex.$5()){return kd}var ke=ex.$4();var kf=null;var kg=e.get_sceneRuntimeData().get_panes();for(var kh=0;kh<kg.length;kh++){var ki=kg[kh];for(var kj=0;kj<ki.drawPane.length;kj++){var kk=ki.drawPane[kj];if(kk.visualPart==='trend-lines'){for(var kl=0;kl<kk.drawItems.length;kl++){var km=kk.drawItems[kl];if(km.type==='draw-group'){kf=new Array(ke.length);for(var kn=0;kn<ke.length;kn++){kf[kn]=kc.getColumnIndex(ke[kn])}var ko=km;var kp={};if(ss.isValue(ko.columnIndices)){for(var kq=0;kq<ko.columnIndices.length;kq++){kp[ko.columnIndices[kq]]=ko.aliasIndices[kq]}}var kr=new Array(ke.length);for(var ks=0;ks<ke.length;ks++){if(ss.keyExists(kp,kf[ks])){kr[ks]=kp[kf[ks]]}else{kr[ks]=null}}if(ex.$1(kf,kr)){kd.push(ko.objectId)}}}}}}return kd};y.$4=function(e,ex){var kc={};for(var kd=0;kd<ex.length;kd++){var ke=ex[kd];var kf=e.getVizDataField(ke);if(ss.isNullOrUndefined(kf)){return null}kc[ke]=kf}return kc};y.$6=function(e,ex,kc){var kd=[];if(ss.isNullOrUndefined(ex)||kc.get_fieldCaptions().length!==e.$4().length){return kd}var ke=e.$4();var kf=kc.get_fieldCaptions();var kg=[];for(var kh=0;kh<kf.length;kh++){var ki=kf[kh];var kj=ss.indexOf(ke,ki);if(kj===-1){return kd}kg.push(kj)}var kk=S.get_instance().get_dataDictionary();var kl={};var km={};var kn=[];var ko=e.$6();for(var kp=0;kp<ko.length;kp++){var kq=ko[kp];var kr=true;kn.length=kq.length;for(var ks=0;ks<kn.length;ks++){var kt=kg[ks];var ku=kq[kt];if(!ss.isValue(ku)){kr=false;break}var kv=kf[ks];kl[kv]=kl[kv]||ex.getVizDataField(kv);var kw=kl[kv];kn[ks]=jp.lookupAliasFromIndex(ku,kw,kk)}if(kr){km[kn.join(',')]=true}}var kx=kc.get_items();for(var ky=0;ky<kx.length;ky++){var kz=kx[ky];if(km[kz.itemValues.join(',')]===true){kd.push(kz.objectId)}}return kd};y.$7=function(e,ex,kc){var kd=[];if(ss.isNullOrUndefined(ex.get_vizDataModel())){return kd}var ke=e.$4();for(var kf=0;kf<kc.length;kf++){var kg=kc[kf];var kh=ss.isNullOrUndefined(kg.node)||ss.isNullOrUndefined(kg.node.columnIndices)||ss.isNullOrUndefined(kg.node.aliasIndices);if(kh||kg.node.aliasIndices.length<ke.length){continue}var ki=[];var kj=[];var kk=false;for(var kl=0;kl<kg.node.columnIndices.length;++kl){var km=kg.node.columnIndices[kl];var kn=ex.get_vizDataModel().getVizDataFieldByIndex(km).get_fieldCaption();if(ss.isValue(kn)&&ss.contains(ke,kn)){ki.push(km);kj.push(kg.node.aliasIndices[kl]);if(kl===0){kk=true}}}if(kk&&e.$1(ki,kj)){var ko=hL.nodeSelectionFromDrawGroup(kg);kd.push(ko)}}return kd};y.$8=function(e,ex,kc,kd){var ke=[];if(ss.isNullOrUndefined(kc.get_vizDataModel())){return ke}var kf=new ss.ObjectEnumerator(kc.get_sceneModel().get_visualListModels());try{while(kf.moveNext()){var kg=kf.current();var kh=kg.value.get_groupItemNodes();for(var ki=0;ki<kh.length;ki++){var kj=kh[ki];if(ss.isNullOrUndefined(kj.node.columnIndices)||ss.isNullOrUndefined(kj.node.aliasIndices)||!tab.MiscUtil.isNullOrEmpty$3(kj.node.fn)){continue}var kk=[];for(var kl=0;kl<kj.node.columnIndices.length;++kl){var km={$:kj.node.columnIndices[kl]};var kn=_.find(ex,ss.mkdel({nodeColIndex:km},function(ks){return ks.$1===this.nodeColIndex.$}));if(ss.isValue(kn)){var ko=kj.node.aliasIndices[kl];var kp=kc.get_vizDataModel().getVizDataFieldByIndex(kn.$1);var kq=kd.getRawValue(kp.get_dataType(),ko);if(ss.isValue(kq)){var kr=y.$5(kq,kn.$0,kn.$2,ko);kk.push(kr)}}}if(kk.length===kj.node.aliasIndices.length){if(e.$1(kj.node.columnIndices,kk)){ke.push(hL.nodeSelectionFromDrawGroup(kj))}}}}}finally{kf.dispose()}return ke};y.$d=function(e){if(ss.isNullOrUndefined(e)){return false}var ex=e.get_dataType();if(ex==='datetime'||ex==='date'){return true}var kc=['day','hour','mdy','minute','month','month-year','qtr','trunc-day','trunc-hour','trunc-minute','trunc-month','trunc-qtr','trunc-second','trunc-week','trunc-year','week','weekday','year'];return ss.contains(kc,e.get_aggType())};y.$5=function(e,ex,kc,kd){if(_.isNumber(e)){return e}var ke=(_.isDate(e)?e:tab.DateUtil.parsePresModelDate(e));var kf=kd;if(ex==='none'&&kc!=='none'){switch(kc){case'year':{kf=tab.DateUtil.dateAsYear(ke);break}case'qtr':{kf=tab.DateUtil.dateAsQuarter(ke);break}case'month':{kf=tab.DateUtil.dateAsMonth(ke);break}case'day':{kf=tab.DateUtil.dateAsDay(ke);break}case'hour':{kf=tab.DateUtil.dateTimeAsHour(ke);break}case'minute':{kf=tab.DateUtil.dateTimeAsMinute(ke);break}case'second':{kf=tab.DateUtil.dateTimeAsSecond(ke);break}case'week':{kf=tab.DateUtil.dateAsWeek(ke);break}case'weekday':{kf=tab.DateUtil.dateAsDayOfWeek(ke);break}case'month-year':{kf=tab.DateUtil.dateAsMonthYear(ke);break}case'mdy':{kf=tab.DateUtil.dateAsMonthDayYear(ke);break}}if(ss.isNullOrUndefined(kf)){}}return kf};var z=function(e,ex,kc,kd,ke){this.$4=null;this.$5=null;this.$e=0;this.$9=0;this.$a=0;this.$b=null;this.$d=null;this.$c=null;this.$7=0;this.$f=null;this.$8=0;this.$6=false;this.$1$1=null;this.$4=e;this.$5=ex;this.$e=kc;this.$a=ss.coalesce(kd,1);this.$9=ss.coalesce(ke,35)};z.__typeName='tab.$3';var A=function(e,ex,kc,kd){this.$3=0;this.$1=0;this.$2=null;this.$0=null;this.$3=e;this.$1=ex;this.$2=kc||'none';this.$0=kd||'none'};A.__typeName='tab.$30';var B=function(e){this.$2=null;this.$1=null;this.$2=e;if(ss.isNullOrUndefined(this.$2.dashboardPresModel)){return}var ex={};var kc=this.$2.dashboardPresModel.zones;var kd=_.keys(this.$2.dashboardPresModel.zones);for(var ke=0,kf=kd.length;ke<kf;ke++){var kg=kd[ke];var kh=kc[kg];if(ss.isNullOrUndefined(kh)||ss.isValue(ka.getContent(kh,'imageZone'))){ex[kg]=null}else{ex[kg]=kh.presModelHolder}}this.$1=ex};B.__typeName='tab.$31';var C=function(e){bC.call(this,'none',e,null)};C.__typeName='tab.$4';var D=function(e){jk.call(this,e);this.c=true};D.__typeName='tab.$5';var E=function(e){this.$5=null;this.$1$1=0;this.$5=e};E.__typeName='tab.$6';var F=function(){this.$1$1=false;this.$1$2=0;this.$1$3=null;var e=S.get_instance().get_workbook();this.$1(e.get_isCurrentSheetStoryboard()&&ss.isValue(e.get_storyboard().get_flipboard()));if(this.$0()){this.$3(e.get_storyboard().get_sheetName());this.$5(e.get_storyboard().get_flipboard().get_currentStoryPointId())}};F.__typeName='tab.$7';var G=function(e,ex,kc){this.$3=null;this.$1=null;this.$2=null;this.$3=e;this.$1=ex;this.$2=kc};G.__typeName='tab.$8';var H=function(){};H.__typeName='tab.$9';H.$2=function(e){return function(ex,kc,kd){var ke=$.Deferred();var kf=js.createRequest(ex,kc.$2(),function(){},function(){});kf.success=function(kg,kh,ki){hS.onVizportalPinged();var kj=js.$3(kg);if(js.$5(kj)){ke.reject();return}var kk=kd(kj);ke.resolve(kk)};jX.helper(kf);return ke.promise()}};H.$3=function(e){return function(ex,kc){var kd=kc(ex);var ke=ex['moreItems'].toString().toLowerCase()==='true';return{items:kd,moreItems:ke}}};H.$0=function(e){return function(ex,kc,kd,ke){var kf=H.$2(e).call(null,ex,kc,kd);kf.done(function(kg){if(!kg.moreItems){ke();return}kc.$1(kc.$0()+kg.items.length);H.$0(e).call(null,ex,kc,kd,ke)});kf.fail(ke)}};H.$1=function(e){return function(ex,kc,kd,ke,kf){var kg=H.$2(e).call(null,ex,kc,kd);kg.done(function(kh){if(!kh.moreItems){ke();return}kc.$1(kc.$0()+kh.items.length);H.$1(e).call(null,ex,kc,kd,ke,kf)});kg.fail(kf)}};var I=function(e,ex,kc,kd,ke,kf){this.$7=0;this.$3=0;this.$5=0;this.$4=0;this.$6=0;this.$0=0;this.$1=0;this.$2=0;gR.call(this);if(ss.isNullOrUndefined(ke)&&ss.isValue(kf)){ke=kc;kf=kd}this.$7=e;this.$3=kc;this.$5=kd;this.$4=ke;this.$6=kf;var kg=ex;var kh=ke;var ki=kf;var kj=kf/ke;this.$0=(ki-kj*kh-kg+kj)/(-(kh*kh)+2*kh-1);this.$1=kj-2*this.$0*kh;this.$2=kg-kj+this.$0*(2*kh-1)};I.__typeName='tab.AcceleratingRangeTransform';global.tab.AcceleratingRangeTransform=I;var J=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null};J.__typeName='tab.AckbarEventsHelper';J.get=function(){if(ss.isNullOrUndefined(J.instance)){J.instance=new J}return J.instance};global.tab.AckbarEventsHelper=J;var K=function(){};K.__typeName='tab.ActionType';global.tab.ActionType=K;var L=function(){};L.__typeName='tab.ActionUtils';L.$c=function(){return tab.Logger.lazyGetLogger(L)};L.isVizSourceOfAction=function(e,ex){return _.any(e.sourceWorksheets,function(kc){return ss.referenceEquals(kc,ex)})};L.isTargetOfActionLocal=function(e){var ex=ge.getVisualModels(S.get_instance());for(var kc=0;kc<e.targetWorksheets.length;kc++){var kd=e.targetWorksheets[kc];if(ss.keyExists(ex,kd)){return true}}return false};L.isFilterAction=function(e){return ss.isValue(e.simpleCommandModel)&&ss.startsWithString(e.simpleCommandModel['simpleCommand'.toString()],'tabdoc:filter-targets')};L.isHighlightAction=function(e){return ss.isValue(e.simpleCommandModel)&&ss.startsWithString(e.simpleCommandModel['simpleCommand'.toString()],'tabdoc:highlight')};L.isFilterSource=function(e,ex){var kc=e.pm;var kd=kc.userActions;for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];if(!L.isVizSourceOfAction(kf,ex)){continue}if(kf.activation!=='on-select'){continue}if(ss.isNullOrUndefined(kf.simpleCommandModel)){continue}var kg=ss.replaceAllString(kf.simpleCommandModel['simpleCommand'.toString()],'simpleCommand=','');var kh=bV.deserialize(kg,true);if(!ss.referenceEquals(kh.commandName,{ns:'tabdoc',cmd:'filter-targets'}.cmd)){continue}var ki=kf.targetWorksheets;if(ki.length===0){continue}return true}return false};L.getApplicableActions=function(e,ex,kc){var kd=S.get_instance().get_workbook().findContentDashboard().get_actionPresModels();var ke=L.$7(kd,e,ex);if(ss.isValue(kc)){ke=_.filter(ke,L.$4(ss.unbox(kc)))}ke=_.filter(ke,L.$6());return ke};L.$4=function(e){return function(ex){return L.getActionType(ex)===e}};L.$6=function(){return function(e){return L.getActionType(e)==='url'||ss.isValue(e.targetUrl)||e.targetWorksheets.length>0}};L.couldSheetFilterActionsModifyItself=function(e){var ex=L.getApplicableActions(e,'on-select','filter');var kc=L.$b(ex);var kd=kc&&L.$5(ex,e);return kd};L.shouldFilterOnSelection=function(e){var ex=L.getApplicableActions(e,'on-select','filter');return L.$b(ex)};L.$b=function(e){return e.length>0&&!S.get_instance().get_isOffline()};L.$5=function(e,ex){for(var kc=0;kc<e.length;kc++){var kd=e[kc];for(var ke=0;ke<kd.targetWorksheets.length;ke++){var kf=kd.targetWorksheets[ke];if(ss.referenceEquals(kf,ex)){return true}}}return false};L.executeActions=function(e,ex,kc,kd,ke){var kf=L.getApplicableActions(e,ex,'filter');var kg=L.getApplicableActions(e,ex,'highlight');var kh=L.getApplicableActions(e,ex,'url');var ki=ge.getVisualModel(S.get_instance(),e);if(ss.isValue(kc)){if(kh.length>0&&kc.length>0){L.$3(kh,kc,ki)}if(kg.length>0){if(kc.length>0){L.$2(kg,kc,ki,kd)}else{L.$a(kd)}}else if(ss.isValue(ke)&&ke){L.$2(kg,kc,ki,kd)}}if(kf.length>0){L.$1(e,kf,kc,kd,ki)}};L.executeAction=function(e,ex,kc,kd){if(!ss.isValue(e)){return}var ke=[e];if(!ss.isNullOrUndefined(e.linkSpec)){L.$3(ke,ex,kc)}else if(true){L.$2(ke,ex,kc,kd)}else{}};L.getActionType=function(e){if(ss.isValue(e.simpleCommandModel)){var ex=bV.deserialize(e.simpleCommandModel['simpleCommand'.toString()],true);if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'highlight'}.cmd)){return'highlight'}if(ss.referenceEquals(ex.commandName,{ns:'tabdoc',cmd:'filter-targets'}.cmd)){return'filter'}return null}if(ss.isValue(e.linkSpec)){return'url'}return null};L.willActionCauseTabChange=function(e,ex){if(S.get_instance().get_isOffline()){return false}var kc=L.getApplicableActions(e,ex,'filter');for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];if(ss.isValue(ke.simpleCommandModel)){var kf=bV.deserialize(ke.simpleCommandModel['simpleCommand'.toString()],true);var kg=kf.commandParams['targetSheet'];if(ss.isValue(kg)&&!_.isEqual(kg,tsConfig.current_sheet_name)){return true}}}return false};L.getUrlActionPm=function(e,ex,kc){if(ss.isValue(kc)&&!ss.isNullOrUndefined(e.linkSpec)){var kd=ex.get_vizDataModel();var ke=S.get_instance().get_dataDictionary();var kf=jr.constructUrl(ke,e.linkSpec,kd,kc,ex.get_worksheetName());return{item1:L.$0(kf),item2:kf.item2}}return{item1:null,item2:'urlConstructionFail'}};L.$0=function(e){if(e.item2!=='success'){return null}var ex={url:e.item1};var kc=ge.getFirstAvailableWebZoneName(S.get_instance());if(ss.isValue(kc)){ex.target=kc}return ex};L.$2=function(e,ex,kc,kd){var ke=ba.computeFromTuples(kc,ex,e);hF.$f(ke,kd)};L.$a=function(e){hF.$2(e)};L.$3=function(e,ex,kc){if(ss.isValue(ex)&&ex.length>0){var kd=[];for(var ke=0;ke<e.length;ke++){var kf=e[ke];var kg=L.getUrlActionPm(kf,kc,ex).item1;if(ss.isValue(kg)){kd.push(kg)}else{bJ.fireDeferredUrlActions=true;return}}if(kd.length>0){bJ.get().delayLocalUrlActions(kd)}}};L.$1=function(e,ex,kc,kd,ke){if(S.get_instance().get_isOffline()){return}if(ss.isValue(ex)){var kf=L.$8(ex);if(kf.length>0){var kg=ge.getSheetInfoPresModel(S.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(kg)&&!(kg.isDashboard&&ss.isNullOrUndefined(kg.namesOfSubsheets))){var kh=!kg.isDashboard||kg.namesOfSubsheets.length===1;for(var ki=0;ki<kf.length;ki++){var kj=kf[ki];if(kh||!ss.referenceEquals(kj.get_worksheetName(),e)){ge.setVisualValidStateOnPresModel(kd,kj)}}}}if(kc.length>0){var kk=[];for(var kl=0;kl<ex.length;kl++){var km=ex[kl];if((kc.length===1||!km.singleSelectOnly)&&ss.isValue(km.targetUrl)){var kn={};var ko=km.targetUrl+'&:exclude='+bJ.get().get_legacySession().railsEncode(e);var kp=ke.get_vizDataModel();var kq=S.get_instance().get_dataDictionary();kn.url=jr.constructUrlForFilterActionFromTargetURL(kq,ko,km.linkSpec,kp,kc);kk.push(kn)}}if(kk.length>0){bJ.get().delayLocalUrlActions(kk)}}}};L.$8=function(e){var ex={};if(ss.isValue(e)){for(var kc=0;kc<e.length;kc++){var kd=e[kc];for(var ke=0;ke<kd.targetWorksheets.length;ke++){var kf=kd.targetWorksheets[ke];var kg=ge.getVisualModel(S.get_instance(),kf);if(ss.isValue(kg)){ex[kf]=kg}}}}var kh=[];var ki=new ss.ObjectEnumerator(ex);try{while(ki.moveNext()){var kj=ki.current();kh.push(kj.value)}}finally{ki.dispose()}return kh};L.$9=function(e){if(!L.$e){L.$e=true;var ex=tsConfig.schemeWhitelist.split(',');for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];var ke=kd.toLowerCase().trim();if(!ss.endsWithString(ke,':')){ke+=':'}if(ke.length>1){L.$f.push(ke)}}}var kf=new RegExp('(^[A-Za-z][A-Za-z0-9+\\-.]*:)');var kg=kf.exec(e);if(!ss.isValue(kg)){return true}var kh=kg[0].toLowerCase();return ss.contains(L.$f,kh)};L.$7=function(e,ex,kc){var kd=_.filter(e,function(ke){var kf=ss.contains(ke.sourceWorksheets,ex);var kg=!ss.isValue(kc)||ss.unbox(kc)===ke.activation;return kf&&kg});return kd};L.launchActionUrls=function(e,kc){var kd=[];var ke={};if(ss.isNullOrUndefined(e)||e.length===0){return}if(ss.isValue(X.linkTarget)&&X.linkTarget.length>0){var kf=X.linkTarget;kd.push({item1:kf,item2:false});ke[kf]=e[e.length-1].url}else{var kg=0;for(var kh=0;kh<e.length;kh++){var ki=e[kh];if(!L.$9(ki.url)){if(!L.$d){L.$d=true;kc.showAlertDialog(tab.Strings.SecurityBlockedURLActionMessage,tab.Strings.SecurityBlockedURLActionHeader,true,null)}continue}if(ss.isNullOrUndefined(ki.target)||'t'in ki){ki.target=ki['t']}var kj;if(ss.isValue(ki.target)){kj={item1:ki.target,item2:true}}else{var kk='_'+tsConfig.layoutid.toString().replace(new RegExp('[^\\w]','g'),'');if(kg>0){kk+='_'+kg.toString()}kj={item1:kk,item2:false}}if(!ss.keyExists(ke,kj.item1)){kd.push(kj)}ke[kj.item1]=ki.url;kg++}}for(var kl=0;kl<kd.length;kl++){var km=kd[kl];var kn=km.item1;if(km.item2){try{$('[name='+kn+']').prop('src',ke[kn])}catch(ko){}}else{try{window.open(ke[kn],kn)}catch(ko){var ex=ss.Exception.wrap(ko);tab.ErrorTrace.report(ex,false)}}}};global.tab.ActionUtils=L;var M=function(){ss.makeGenericType(W,[Object,N]).call(this)};M.__typeName='tab.AddDataServerDataSourceCmd';global.tab.AddDataServerDataSourceCmd=M;var N=function(e){this.$$c=null;this.$$c=e};N.__typeName='tab.AddDataServerDataSourceCmd$Response';global.tab.AddDataServerDataSourceCmd$Response=N;var O=function(){ss.makeGenericType(W,[Object,P]).call(this)};O.__typeName='tab.AddObjectToDashboardCmd';global.tab.AddObjectToDashboardCmd=O;var P=function(e){this.$$c=null;this.$$c=e};P.__typeName='tab.AddObjectToDashboardCmd$Response';global.tab.AddObjectToDashboardCmd$Response=P;var Q=function(e){this.$2$1=null;gb.call(this,e,new gI('analyticsPane'.toString()))};Q.__typeName='tab.AnalyticsPaneModel';global.tab.AnalyticsPaneModel=Q;var R=function(){};R.__typeName='tab.ApiClientCommands';R.doApiCommand=function(e,ex,kc){bJ.SendCommand(gU.create(e,'immediately',ex,kc))};global.tab.ApiClientCommands=R;var S=function(){this.$c=null;this.$a={};this.$9={};this.$d=null;this.$f=null;this.$5=null;this.$8=null;this.$4=null;this.$e=null;this.$3=null;this.$6=null;this.$7=null;this.$b=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;gb.call(this,null,null);this.presModelKey=new gI('applicationPresModel'.toString());this.$d=new iR(this);this.$f=new jJ(this);this.$5=new bH(this);this.$8=new da(this);this.$4=new bt(this,false);this.$e=new bt(this,true);this.$3=new bs(this);this.$6=new cb(this);this.$c=new ic;this.$7=new cR(this);this.set_serverFonts(null)};S.__typeName='tab.ApplicationModel';S.get_instance=function(){if(ss.isNullOrUndefined(S._instance)){S._instance=new S}return S._instance};S.resetInstance=function(){S._instance=null};global.tab.ApplicationModel=S;var T=function(){};T.__typeName='tab.AuthenticationCommands';T.performAuthentication=function(e,ex,kc){var kd=$.Deferred();var ke=T.$4(e);ke.done(function(kf){gf.load$1('rsa',[]).done(function(kg){var kh=T.$3(kf);var ki=(ss.isNullOrEmptyString(ex)?'':rsa.encrypt(ex,{n:kf['modulus'],e:kf['exponent']}));kh['crypted']=ki;if(kc){kh['reuse']=kc}var kj=T.$0(kf['actionPath'],kh);kj.done([function(){kd.resolve()}]).fail([function(kk){kd.reject(kk)}])})});return kd.promise()};T.performAuthenticationWithConnectionName=function(e,ex){return T.$5(e.widgetAttrPassword,cT.getDSParamsFromPresModelWithConnectionName(e,ex))};T.performAuthenticationWithConnectionClass=function(e,ex){return T.$5(e.widgetAttrPassword,cT.getDSParamsFromPresModelWithConnectionClass(e,ex))};T.$5=function(e,ex){var kc=$.Deferred();ex.done(function(kd){var ke=T.performAuthentication(T.$1(kd.$$c['strings']),e,false);ke.done([function(){kc.resolve()}]).fail([function(kf){kc.reject(kf)}])}).fail(function(){kc.reject()});return kc.promise()};T.$3=function(e){var ex={};ex['username']=e['defaultUsername'];ex['authentication']=e['authenticationMode'];ex['connection']=e['connection'];ex['path']=e['originalPath'];ex['oauthrequest']=false;return ex};T.$0=function(e,ex){var kc=$.Deferred();var kd={type:'POST',url:e,headers:ss.mkdict(['X-Requested-With','XMLHttpRequest']),contentType:'application/x-www-form-urlencoded',data:ex,success:function(ke,kf,kg){kc.resolve()},error:function(ke,kf,kg){kc.reject(kg)}};hS.onVizportalPinged();jX.helper(kd);return kc.promise()};T.$1=function(e){var ex={};for(var kc=0;kc<e.length-1;kc+=2){ex[e[kc]]=e[kc+1]}return ex};T.$2=function(e){var ex={};ex['path']=tsConfig.vizql_root;ex['vizqlSessionId']=tsConfig.sessionid;var kc={};kc['attributes']=e;ex['attributes']=JSON.stringify(kc);return ex};T.$4=function(e){var ex=$.Deferred();var kc=T.$2(e);jX.helper(js.createRequest('getDataConnectionAuthInfo',kc,function(kd){ex.resolve(kd)},function(){ex.reject()}));return ex.promise()};global.tab.AuthenticationCommands=T;var U=function(e,ex,kc,kd,ke,kf,kg,kh){this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.view=null;this.topAxis=null;this.rightAxis=null;this.bottomAxis=null;this.leftAxis=null;this.topLeftSpacer=e;this.topRightSpacer=ex;this.bottomLeftSpacer=kc;this.view=kd;this.topAxis=ke;this.rightAxis=kf;this.bottomAxis=kg;this.leftAxis=kh};U.__typeName='tab.AxisResizerDomElements';global.tab.AxisResizerDomElements=U;var V=function(){};V.__typeName='tab.BackgroundJobProgressState';global.tab.BackgroundJobProgressState=V;var W=function(e,ex){var kc=function(){this.c={};this.$1$1=null;this.$1$2=null;this.$1$3=false;this.$1$4=false;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.set_uiBlocking('none');this.set_suppressConnectionDialog(false)};ss.registerGenericClassInstance(kc,W,[e,ex],{get_uiBlocking:function(){return this.$1$1},set_uiBlocking:function(kd){this.$1$1=kd},get_localWork:function(){return this.$1$2},set_localWork:function(kd){this.$1$2=kd},get_noExceptionDialog:function(){return this.$1$3},set_noExceptionDialog:function(kd){this.$1$3=kd},get_suppressConnectionDialog:function(){return this.$1$4},set_suppressConnectionDialog:function(kd){this.$1$4=kd},get_commandDispatcher:function(){return this.$1$5},set_commandDispatcher:function(kd){this.$1$5=kd},get_commandCanceler:function(){return this.$1$6},set_commandCanceler:function(kd){this.$1$6=kd},get_remoteCommand:function(){return this.$1$7},set_remoteCommand:function(kd){this.$1$7=kd},invoke:null,invoke$1:function(kd){kd.noExceptionDialog=this.get_noExceptionDialog();kd.preserveRootResult=true;this.set_remoteCommand(kd);var ke=this.get_commandDispatcher()||dh.get_instance();return ke.dispatch(e,ex).call(ke,this)}},function(){return null},function(){return[]});return kc};W.__typeName='tab.BaseCmd$2';ss.initGenericClass(W,a,2);global.tab.BaseCmd$2=W;var X=function(e,ex){this.defaultSessionErrorHandler=null;this.$f=null;this.$g=null;this.$i=null;this.$h=null;this.fileDownloadHelper=null;tab.Param.verifyValue(ex,'commonDialogProvider');this.$f=ex;var kc=tabBootstrap.BaseUrlFormatter.formatBaseUrl();if(ss.isValue(e)){this.$i=e}else{this.$i=tabBootstrap.BaseUrlFormatter.formatUrlRoot(kc)}if(ss.isValue(tsConfig.site_root)){this.$h=tsConfig.site_root}else{this.$h=kc}this.defaultSessionErrorHandler=new di(ex,e);if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){this.$g=new dJ([new dl,this.defaultSessionErrorHandler])}else{this.$g=new dJ([this.defaultSessionErrorHandler])}this.fileDownloadHelper=new dZ(ex,this)};X.__typeName='tab.BaseSession';X.add_stateChanged=function(e){X.$1$1=ss.delegateCombine(X.$1$1,e)};X.remove_stateChanged=function(e){X.$1$1=ss.delegateRemove(X.$1$1,e)};X.get_waitHandler=function(){if(ss.isNullOrUndefined(X.$4)){X.$4=new jy}return X.$4};X.fireStateChanged=function(e){if(ss.isValue(X.$1$1)){X.$1$1(e)}};global.tab.BaseSession=X;var Y=function(e,ex,kc,kd){this.width=0;this.style=null;this.color=null;this.side=0;this.width=e;this.style=ex;this.color=kc;this.side=kd};Y.__typeName='tab.BorderDefinition';Y.borderStyleToCss=function(e){return ss.coalesce(Y.$1[e],'none')};Y.$0=function(){var e={};e['bs-none']='none';e['bs-hidden']='hidden';e['bs-dotted']='dotted';e['bs-dashed']='dashed';e['bs-solid']='solid';e['bs-double']='double';e['bs-groove']='groove';e['bs-ridge']='ridge';e['bs-inset']='inset';e['bs-outset']='outset';return e};global.tab.BorderDefinition=Y;var Z=function(){};Z.__typeName='tab.BorderDefinition$BorderSide';global.tab.BorderDefinition$BorderSide=Z;var ba=function(){this.$5={};this.$4={};this.$2={};this.$3={};this.$1=true};ba.__typeName='tab.BrushingComputer';ba.$3=function(){return tab.Logger.lazyGetLogger(ba)};ba.createBrushingComputer=function(e,ex,kc,kd,ke){var kf=new ba;var kg=ex.get_vizDataModel();var kh=y.$2(e,kd,kc,kg,kd);for(var ki=0;ki<kd.length;ki++){var kj=kd[ki];if(ex.vizDataContainsDuplicateCaption(kj)){kf.$1=false;return kf}}var kk;if(ke){kk=ge.getVisualModels(S.get_instance())}else{kk={};var kl=L.getApplicableActions(ex.get_worksheetName(),'on-select','highlight');for(var km=0;km<kl.length;km++){var kn=kl[km];if(ss.isNullOrUndefined(kn.targetWorksheets)){continue}for(var ko=0;ko<kn.targetWorksheets.length;ko++){var kp=kn.targetWorksheets[ko];var kq=ge.getVisualModel(S.get_instance(),kp);kk[kp]=kq}}}var kr=ge.findContentDashboard();var ks=_.keys(kk);for(var kt=0;kt<ks.length;kt++){var ku=ks[kt];var kv=kk[ku];if(ss.isNullOrUndefined(kv)){continue}var kw=kv.get_vizDataModel();kf.$5[ku]=y.$a(kh,kw);kf.$4[ku]=y.$9(kv.get_sceneModel(),kh,kw);var kx=[];var ky=new ss.ObjectEnumerator(ba.$2(kv));try{while(ky.moveNext()){var kz=ky.current();var kA=kz.value;var kB=y.$c(kv,kA);var kC=_.intersection(kB,kd);if(kC.length>0){var kD=y.$2(e,kd,kc,kg,kC);kx=kx.concat.apply(kx,y.$7(kD,kv,kA))}}}finally{ky.dispose()}kf.$3[ku]=kx;var kE=ge.getModelsForViz(by).call(null,kr,kv);for(var kF=0;kF<kE.length;kF++){var kG=kE[kF];if(!kG.get_isHighlightEnabled()){continue}var kH=y.$6(kh,kw,kG);if(!ss.keyExists(kf.$2,kv.get_worksheetName())){kf.$2[kv.get_worksheetName()]={}}kf.$2[kv.get_worksheetName()][ba.$0(kG.get_legendTypeEnum(),kG.get_legendNames())]=kH}}return kf};ba.getTuplesAssociatedWithSelectedNodes=function(e,ex){if(ss.isNullOrUndefined(e.get_vizDataModel())||ss.isNullOrUndefined(S.get_instance().get_dataDictionary())){return[]}var kc=[];for(var kd=0;kd<ex.length;kd++){var ke=ex[kd];if(hL.isCategoricalAndTupleAssociatedHeader(ke)){kc.push(ke)}}if(kc.length===0){return[]}var kf=y.$1(e.get_vizDataModel(),kc);var kg=ba.$1(kf,e);return kg};ba.computeFromTuples=function(e,ex,kc){var kd=new ba;for(var ke=0;ke<kc.length;ke++){var kf=kc[ke];if(ss.isNullOrUndefined(kf.targetWorksheets)){continue}var kg=bV.deserialize(kf.simpleCommandModel['simpleCommand'.toString()],true);for(var kh=0;kh<kf.targetWorksheets.length;kh++){var ki=kf.targetWorksheets[kh];var kj=ge.getVisualModel(S.get_instance(),ki);if(ss.isNullOrUndefined(kj)){continue}var kk=kj.get_vizDataModel();if(ss.isNullOrUndefined(kk)){continue}if(ba.isSpecialDateTimeHighlighting(kg)){var kl=S.get_instance().get_dataDictionary();var km=y.$0(e.get_vizDataModel(),kk,kl,ex);var kn=km.item1;var ko=km.item2;kd.$5[ki]=y.$b(kn,ko,kk,kl);kd.$3[ki]=y.$8(kn,ko,kj,kl);kd.$0(kj,e,ex,kg,kf.name)}else{var kp=ba.getHighlightFieldCaptions(kg,e.get_vizDataModel().get_highlightCaptions(),e.get_vizDataModel().get_fieldCaptions());if(!ss.referenceEquals(e,kj)){kp=_.intersection(kp,kk.get_fieldCaptions())}if(tab.MiscUtil.isNullOrEmpty$2(kp)){continue}for(var kq=0;kq<kp.length;kq++){var kr=kp[kq];if(e.vizDataContainsDuplicateCaption(kr)){kd.$1=false;return kd}}var ks=y.$3(e.get_vizDataModel(),ex,kp);kd.$5[ki]=y.$a(ks,kk);var kt=[];var ku=ba.$2(kj);var kv=_.keys(ku);for(var kw=0;kw<kv.length;kw++){var kx=kv[kw];var ky=ku[kx];var kz=y.$c(kj,ky);var kA=_.intersection(kz,kp);if(kA.length>0){var kB=y.$3(e.get_vizDataModel(),ex,kA);kt=kt.concat.apply(kt,y.$7(kB,kj,ky))}}kd.$3[ki]=kt;kd.$0(kj,e,ex,kg,kf.name)}}}return kd};ba.$2=function(e){var ex={};var kc=e.get_sceneModel().get_visualListModels();var kd=new ss.ObjectEnumerator(kc);try{while(kd.moveNext()){var ke=kd.current();ex[ke.key]=ke.value.get_groupItemNodes()}}finally{kd.dispose()}var kf=ex['x-labels']||[];ss.arrayAddRange(kf,ex['bottom-axis']||[]);ex['x-labels']=kf;delete ex['bottom-axis'];return ex};ba.isSpecialDateTimeHighlighting=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return false}var ex=e.commandParams['specialFields'];return ss.isValue(ex)&&ex==='date-time'};ba.getHighlightFieldCaptions=function(e,ex,kc){var kd=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return kd}var ke=e.commandParams['fieldCaptions'];if(!ss.isNullOrUndefined(ke)){kd=JSON.parse(ke)}else{var kf=e.commandParams['specialFields'];if(ss.isNullOrUndefined(kf)||kf!=='all'){}kd=ex}if(ss.isValue(kc)){kd=_.intersection(kc,kd)}return kd};ba.$0=function(e,ex){return'LegendType:'+e.toString()+' LegendNames:'+ex.join(';')};ba.$1=function(e,ex){var kc=[];if(ss.isNullOrUndefined(ex.get_vizDataModel())){return kc}for(var kd=0;kd<e.length;kd++){var ke=e[kd];kc=_.union(kc,y.$a(ke,ex.get_vizDataModel()))}return kc};global.tab.BrushingComputer=ba;var bb=function(){ss.makeGenericType(W,[Object,bc]).call(this)};bb.__typeName='tab.BuildCaptionContextMenuCmd';global.tab.BuildCaptionContextMenuCmd=bb;var bc=function(e){this.$$c=null;this.$$c=e};bc.__typeName='tab.BuildCaptionContextMenuCmd$Response';global.tab.BuildCaptionContextMenuCmd$Response=bc;var bd=function(){ss.makeGenericType(W,[Object,be]).call(this)};bd.__typeName='tab.BuildDataTabFieldContextMenuCmd';global.tab.BuildDataTabFieldContextMenuCmd=bd;var be=function(e){this.$$c=null;this.$$c=e};be.__typeName='tab.BuildDataTabFieldContextMenuCmd$Response';global.tab.BuildDataTabFieldContextMenuCmd$Response=be;var bf=function(){ss.makeGenericType(W,[Object,bg]).call(this)};bf.__typeName='tab.BuildLayoutTreeContextMenuCmd';global.tab.BuildLayoutTreeContextMenuCmd=bf;var bg=function(e){this.$$c=null;this.$$c=e};bg.__typeName='tab.BuildLayoutTreeContextMenuCmd$Response';global.tab.BuildLayoutTreeContextMenuCmd$Response=bg;var bh=function(){ss.makeGenericType(W,[Object,bi]).call(this)};bh.__typeName='tab.BuildSchemaChangeDataTypeMenuCmd';global.tab.BuildSchemaChangeDataTypeMenuCmd=bh;var bi=function(e){this.$$c=null;this.$$c=e};bi.__typeName='tab.BuildSchemaChangeDataTypeMenuCmd$Response';global.tab.BuildSchemaChangeDataTypeMenuCmd$Response=bi;var bj=function(){ss.makeGenericType(W,[Object,bk]).call(this)};bj.__typeName='tab.BuildServerAxisContextMenuCmd';global.tab.BuildServerAxisContextMenuCmd=bj;var bk=function(e){this.$$c=null;this.$$c=e};bk.__typeName='tab.BuildServerAxisContextMenuCmd$Response';global.tab.BuildServerAxisContextMenuCmd$Response=bk;var bl=function(){ss.makeGenericType(W,[Object,bm]).call(this)};bl.__typeName='tab.BuildSheetListContextMenuCmd';global.tab.BuildSheetListContextMenuCmd=bl;var bm=function(e){this.$$c=null;this.$$c=e};bm.__typeName='tab.BuildSheetListContextMenuCmd$Response';global.tab.BuildSheetListContextMenuCmd$Response=bm;var bn=function(){ss.makeGenericType(W,[Object,bo]).call(this)};bn.__typeName='tab.BuildTitleContextMenuCmd';global.tab.BuildTitleContextMenuCmd=bn;var bo=function(e){this.$$c=null;this.$$c=e};bo.__typeName='tab.BuildTitleContextMenuCmd$Response';global.tab.BuildTitleContextMenuCmd$Response=bo;var bp=function(e,ex){this.$2$1=null;gb.call(this,e,new gI(ex))};bp.__typeName='tab.ButtonZoneModel';global.tab.ButtonZoneModel=bp;var bq=function(){ss.makeGenericType(W,[Object,br]).call(this)};bq.__typeName='tab.CalculationAutoCompleteCmd';global.tab.CalculationAutoCompleteCmd=bq;var br=function(e){this.$$c=null;this.$$c=e};br.__typeName='tab.CalculationAutoCompleteCmd$Response';global.tab.CalculationAutoCompleteCmd$Response=br;var bs=function(e){this.$2$1=null;gb.call(this,e,new gI('expressionFuncPm'.toString()));this.pm={}};bs.__typeName='tab.CalculationFunctionListModel';global.tab.CalculationFunctionListModel=bs;var bt=function(e,ex){this.$2=false;this.$2$1=null;gb.call(this,e,new gI((ex?'typeInPill':'calculation').toString()));this.pm={};this.$2=ex};bt.__typeName='tab.CalculationModel';global.tab.CalculationModel=bt;var bu=function(){};bu.__typeName='tab.CancelCommands';bu.cancelRunningCommand=function(e,ex,kc){bJ.get().cancelRunningCommand(e,ex,kc)};global.tab.CancelCommands=bu;var bv=function(){};bv.__typeName='tab.CancellationStatus';global.tab.CancellationStatus=bv;var bw=function(){};bw.__typeName='tab.CancelTelemetry';bw.$0=function(e,ex,kc){if(gk.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('CommandCancellation')){var kd=kc-ex;gk.logEvent('Cancel_Command',['CommandName',ss.coalesce(e,'UNKNOWN'),'ElapsedTimeToCancelMS',kd,'CancelStatus','Failure'])}};bw.$1=function(e,ex,kc,kd,ke){if(gk.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('CommandCancellation')){var kf=ke-kd;var kg=ke-kc;gk.logEvent('Cancel_Command',['CommandName',ss.coalesce(e,'UNKNOWN'),'ElapsedTimeToProcessCancelResponseMS',kf,'ElapsedTimeToCancelMS',kg,'CancelStatus',bw.convertCancellationStatusForLog(ex)])}};bw.convertCancellationStatusForLog=function(e){switch(e){case 200:{return'Success'}case 204:{return'NothingToCancel'}default:{return''}}};global.tab.CancelTelemetry=bw;var bx=function(e){gb.call(this,e,new gI('categoricalFilter'.toString()))};bx.__typeName='tab.CategoricalFilterModel';global.tab.CategoricalFilterModel=bx;var by=function(e,ex,kc){this.$2=null;this.$2$1=null;this.$2$2=null;gb.call(this,e,new gI(ex));this.$2=kc};by.__typeName='tab.CategoricalLegendModel';by.$0=function(e,ex){var kc;switch(e){case'color':case'map':{kc=ex.colorLegendItems;break}case'size':{kc=ex.sizeLegendItems;break}case'shape':{kc=ex.shapeLegendItems;break}default:{return null}}return kc};global.tab.CategoricalLegendModel=by;var bz=function(e){this.$1=null;this.$3$1=null;gP.call(this,e,new gI('categoricalQuickFilter'.toString()));this.set_categoricalFilter(new bx(this))};bz.__typeName='tab.CategoricalQuickFilterModel';global.tab.CategoricalQuickFilterModel=bz;var bA=function(){ss.makeGenericType(W,[Object,bB]).call(this)};bA.__typeName='tab.ChangeWorkbookUIModeCmd';global.tab.ChangeWorkbookUIModeCmd=bA;var bB=function(e){this.$$c=null;this.$$c=e};bB.__typeName='tab.ChangeWorkbookUIModeCmd$Response';global.tab.ChangeWorkbookUIModeCmd$Response=bB;var bC=function(e,ex,kc,kd,ke){this.doLocalWork=null;this.$7=null;this.$6=null;this.$8=null;this.$5=null;this.$3='Unknown';this.hasLocalComponent=false;this.hasRemoteComponent=false;this.useGlobalConnectionErrorHandling=true;this.successCallback=null;this.failureCallback=null;this.$4=null;this.$2=null;this.$1=null;this.$7=e;this.hasLocalComponent=ss.isValue(ex);this.hasRemoteComponent=ss.isValue(kc)&&!S.get_instance().get_isOffline();this.doLocalWork=ex;this.$6=[];this.$8=new Array;if(this.hasRemoteComponent){this.enqueueCommand(kc);this.$3=kc.commandName}this.successCallback=kd;this.failureCallback=ke;this.$4=[];this.$2=[]};bC.__typeName='tab.ClientCommand';global.tab.ClientCommand=bC;var bD=function(){};bD.__typeName='tab.ClipCase';global.tab.ClipCase=bD;var bE=function(){ss.makeGenericType(W,[Object,bF]).call(this)};bE.__typeName='tab.CloseDataAlertDialogCmd';global.tab.CloseDataAlertDialogCmd=bE;var bF=function(e){this.$$c=null;this.$$c=e};bF.__typeName='tab.CloseDataAlertDialogCmd$Response';global.tab.CloseDataAlertDialogCmd$Response=bF;var bG=function(e,ex,kc,kd){this.$7=0;this.$6=0;this.$4=0;this.$3=0;this.$8='';this.$5='';this.$7=e;this.$6=ex;this.$4=kc;this.$3=kd};bG.__typeName='tab.ColorModel';bG.fromArgbInt=function(e){var ex=(e&16711680)>>>16;var kc=(e&65280)>>>8;var kd=e&255;var ke=(e&4278190080)>>>24;return new bG(ex,kc,kd,ke/255)};bG.fromColorCode=function(e){var ex=bG.$d.cl[e];if(ss.isValue(ex)){return ex}var kc=function(kl){return Math.min(Math.max(kl,0),255)};var kd;var ke;var kf;var kg=1;var kh=bG.$9.exec(e);if(ss.isValue(kh)){kd=kc(parseInt(kh[1],16));ke=kc(parseInt(kh[2],16));kf=kc(parseInt(kh[3],16));var ki=new bG(kd,ke,kf,kg);bG.$d.add(e,ki);return ki}kh=bG.$a.exec(e);if(ss.isValue(kh)){kd=kc(parseInt(kh[1],10));ke=kc(parseInt(kh[2],10));kf=kc(parseInt(kh[3],10));var kj=new bG(kd,ke,kf,kg);kj.setRGBStr(e);bG.$d.add(e,kj);return kj}kh=bG.$b.exec(e);if(ss.isValue(kh)){kd=kc(parseInt(kh[1],10));ke=kc(parseInt(kh[2],10));kf=kc(parseInt(kh[3],10));kg=parseFloat(kh[4]);if(kg<=1){kg=kg*255}if(kg>255){kg=255}if(kg<0){kg=0}kg=bG.alpha255ToFraction(kg);var kk=new bG(kd,ke,kf,kg);bG.$d.add(e,kk);return kk}throw new ss.Exception('Unknown color format: '+e)};bG.alpha255ToFraction=function(e){return tab.DoubleUtil.truncateTwoDecimalPlaces(bG.$7(e))};bG.$7=function(e){return(e+1)/256};bG.alphaFractionTo255=function(e){var ex=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(e));for(var kc=0;kc<256;kc++){var kd=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(bG.alpha255ToFraction(kc)));if(kd===ex){return kc}}return 255};bG.fromColorModelPlusAlpha=function(e,ex){return new bG(e.get_r(),e.get_g(),e.get_b(),ex)};bG.convertColorForCanvas=function(e){if(e.charCodeAt(3)===40){return e}bG.$3();var ex=bG.$c[e];if(ss.isValue(ex)){return ex}var kc=bG.fromColorCode(e);ex=kc.toString();return ex};bG.isEqual=function(e,ex,kc){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)){return false}if(kc&&e.$3!==ex.$3){return false}return e.$7===ex.$7&&e.$6===ex.$6&&e.$4===ex.$4};bG.alphaBlend=function(e,ex){if(e.get_a()<1){var kc=bG.alphaToTransparency(e.get_a());var kd=ex.get_r()*kc+e.get_r()*e.get_a();var ke=ex.get_g()*kc+e.get_g()*e.get_a();var kf=ex.get_b()*kc+e.get_b()*e.get_a();return new bG(ss.Int32.trunc(kd),ss.Int32.trunc(ke),ss.Int32.trunc(kf),1)}else{return e}};bG.isFullyTransparent=function(e){return e.get_a()===0};bG.alphaComposite=function(e,ex){if(ex.get_a()>=0.999989986419678){return bG.alphaCompositeSolidDest(e,ex)}var kc=bG.alphaToTransparency(e.get_a());var kd=e.get_a()+ex.get_a()*kc;return new bG(bG.$0(e.get_r(),e.get_a(),ex.get_r(),ex.get_a(),kd),bG.$0(e.get_g(),e.get_a(),ex.get_g(),ex.get_a(),kd),bG.$0(e.get_b(),e.get_a(),ex.get_b(),ex.get_a(),kd),kd)};bG.alphaCompositeSolidDest=function(e,ex){return new bG(bG.$1(e.get_r(),e.get_a(),ex.get_r()),bG.$1(e.get_g(),e.get_a(),ex.get_g()),bG.$1(e.get_b(),e.get_a(),ex.get_b()),1)};bG.$5=function(e,ex,kc){return 0.2126*bG.$e[e]+0.7152*bG.$e[ex]+0.0722*bG.$e[kc]};bG.$2=function(e){return Math.min(1,(255-e)/255*1.5)};bG.$6=function(e,ex){var kc=e.toString(16);while(kc.length<ex){kc='0'+kc}return kc};bG.$0=function(e,ex,kc,kd,ke){return Math.round((e*ex+kc*kd*bG.alphaToTransparency(ex))/ke)};bG.$1=function(e,ex,kc){return Math.round(e*ex+kc*bG.alphaToTransparency(ex))};bG.$4=function(e){if(e>0.00885639991611242){return Math.pow(e,0.333333313465118)}else{return 7.78703689575195*e+0.137931004166603}};bG.$3=function(){if(ss.isValue(bG.$c)){return}bG.$c={};bG.$c['rgba(0,0,0,255)']='rgba(0,0,0,1)';bG.$c['rgba(0,0,0,0)']='rgba(0,0,0,0)';bG.$c['rgba(255,255,255,255)']='rgba(255,255,255,1)';bG.$c['rgba(255,255,255,0)']='rgba(255,255,255,0)'};bG.transparencyToAlpha=function(e){return Math.min(Math.max(1-e,0),1)};bG.alphaToTransparency=function(e){return bG.transparencyToAlpha(e)};global.tab.ColorModel=bG;var bH=function(e){gb.call(this,e,new gI('colorPalettes'.toString()))};bH.__typeName='tab.ColorPaletteCollectionModel';global.tab.ColorPaletteCollectionModel=bH;var bI=function(){};bI.__typeName='tab.CommandCancellationWhiteList';bI.$0=function(e){if(ss.referenceEquals(e,{ns:'tabsrv',cmd:'refresh-data-server'}.cmd)){return tab.FeatureFlags.isEnabled('AllowCancellationRefreshDataServer')}if(ss.referenceEquals(e,{ns:'tabdoc',cmd:'get-datasource-data-pres-model'}.cmd)){return tab.FeatureFlags.isEnabled('AllowCancellationGetDataSourceDataPresModel')}if(ss.referenceEquals(e,{ns:'tabdoc',cmd:'get-show-data-pres-model'}.cmd)){return tab.FeatureFlags.isEnabled('AllowCancellationGetShowDataPresModel')}return true};bI.canCancel=function(e){return ss.keyExists(bI.$1,e)&&bI.$0(e)};global.tab.CommandCancellationWhiteList=bI;var bJ=function(e,ex,kc){this.$J=null;this.$K=null;this.$P=[];this.$Z=new n;this.$X=new iV;this.$N={};this.$R=[];this.$M=null;this.$Y=null;this.$10=null;this.$W=false;this.$V=null;this.$U=null;this.$Q=null;this.$I=null;this.$T=[];this.$L=null;this.$H=false;this.$O=[];this.$G=false;this.$S=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$8=null;this.$1$9=null;this.$1$10=null;this.$1$11=null;this.$1$12=null;this.$1$13=null;this.defaultCommandCanceler=null;this.e2eAutomationTestHooks=null;this.processingRenderModeChange=false;this.processingStoryPointChange=false;this.$V=e;this.$K=ex;this.defaultCommandCanceler=kc;window.window.onerror=ss.mkdel(this,this.$m);this.$10=new jU(this.$K);this.$Y=new E(this.$V);var kd=new c(e);kd.$5('tabsrv',{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd,135);var ke=new bY;ke.commandNamespace={ns:'tabdoc',cmd:'highlight-items'}.ns;ke.commandName={ns:'tabdoc',cmd:'highlight-items'}.cmd;var kf=new bY;kf.commandNamespace={ns:'tabdoc',cmd:'clear-highlighting'}.ns;kf.commandName={ns:'tabdoc',cmd:'clear-highlighting'}.cmd;var kg=new bY;kg.commandNamespace={ns:'tabdoc',cmd:'highlight-items-by-pattern-match'}.ns;kg.commandName={ns:'tabdoc',cmd:'highlight-items-by-pattern-match'}.cmd;var kh=[ke,kf,kg];kd.$4(kh,135);if(tab.NaturalLanguageUtil.boxShouldShow()){kd.$5('tabdoc',{ns:'tabdoc',cmd:'interpret-natural-language-input'}.cmd,135)}this.$J=kd;this.$J.add_onRemoteCommandResponse(ss.mkdel(this,this.$e));this.$J.add_onRemoteCommandException(ss.mkdel(this,this.$d));this.$L=new dk(ex);this.$h();this.e2eAutomationTestHooks=new G(this.$10,ss.mkdel(this,function(){return ss.getKeyCount(this.$N)}),ss.mkdel(this,this.$i));this.$G=false;bJ.$9()};bJ.__typeName='tab.CommandController';bJ.add_switchedViz=function(e){bJ.$1$7=ss.delegateCombine(bJ.$1$7,e)};bJ.remove_switchedViz=function(e){bJ.$1$7=ss.delegateRemove(bJ.$1$7,e)};bJ.add_sheetNameChanged=function(e){bJ.$1$14=ss.delegateCombine(bJ.$1$14,e)};bJ.remove_sheetNameChanged=function(e){bJ.$1$14=ss.delegateRemove(bJ.$1$14,e)};bJ.get_hasInstance=function(){return ss.isValue(bJ._instance)};bJ.$b=function(){return tab.Logger.lazyGetLogger(bJ)};bJ.isAllContentReady=function(){return(ss.isNullOrUndefined(bJ._instance)?false:bJ._instance.$G)};bJ.create=function(e,ex,kc){if(ss.isNullOrUndefined(bJ._instance)){bJ._instance=new bJ(e,ex,kc)}return bJ._instance};bJ.clearInstance=function(){bJ._instance=null;window.window.onerror=null};bJ.get=function(){if(!ss.isValue(bJ._instance)){throw new ss.Exception('Attempted to use CommandController before creating it.')}return bJ._instance};bJ.handleBootstrapException=function(e,ex){if(bJ.$e){return}var kc=new ss.StringBuilder;if(ss.isValue(e['name'])){kc.append(e['name']).append(': ')}kc.append(e.get_message());ex.showAlertDialog(tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,kc.toString()),tab.Strings.UnhandledExceptionTitle,true,null);bJ.$7(dS.postContentForStackTrace(tab.ErrorTrace.getStackTraceFor(e)));bJ.sendParentCompletedMessage();bJ.$e=true};bJ.sendParentCompletedMessage=function(){if(bJ.$f){return}bJ.$f=true;tab.BrowserSupport.sendCommandWithContext('tableau.completed')};bJ.$7=function(e){var ex=[];ex.push('tableau.unhandledException');ex.push(e);tabBootstrap.Utility.doPostMessage(ex)};bJ.$5=function(e){return e.get_isBlocking()};bJ.SendCommand=function(e){var ex=bJ.get();if(ex.$S&&tab.FeatureFlags.isEnabled('CommandCancellation')){return}if(gK.get_progressiveLoadEnabled()){ex.$0(e)}ex.$Z.$1(e);ex.$j()};bJ.SendCommandWithDeferredReturn=function(e,ex){var kc=$.Deferred();bJ.SendCommand(gU.create(e,ex,function(kd){kc.resolve(kd)},function(kd){kc.reject()}));return kc.promise()};bJ.$2=function(e,ex){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,ex.get_id(),ex.get_urlRoot())};bJ.$0=function(e,ex,kc){var kd=[];if(!tab.MiscUtil.isNullOrEmpty$3(tsConfig.clientOpenBugUrl)){var ke=tsConfig.clientCheckBugText;var kf=tsConfig.clientCheckBugUrl;var kg=tsConfig.clientOpenBugText;var kh=tsConfig.clientOpenBugUrl;var ki=encodeURIComponent('{errorMessage}');var kj=encodeURIComponent('{sessionId}');var kk=encodeURIComponent('{stack}');var kl=encodeURIComponent('{url}');if(!ss.isNullOrEmptyString(ke)&&!ss.isNullOrEmptyString(kf)){var km=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ex,'"',''),"'",''),':','');kf=ss.replaceAllString(kf,ki,encodeURIComponent(km));kd.push({url:kf,displayText:ke})}if(!ss.isNullOrEmptyString(kg)&&!ss.isNullOrEmptyString(kh)){var kn='search splunk for stack.';try{kn=kc.stack;kn=kn.substr(0,400)}catch(kp){}kh=ss.replaceAllString(kh,ki,encodeURIComponent(ss.replaceAllString(ex,':','')));kh=ss.replaceAllString(kh,kj,encodeURIComponent(e));kh=ss.replaceAllString(kh,kk,encodeURIComponent(kn));var ko=((ss.isValue(window.parent)&&ss.isValue(window.parent.location))?window.parent.location:window.location);kh=ss.replaceAllString(kh,kl,encodeURIComponent(ko.href));kh=ss.replaceAllString(ss.replaceAllString(kh,'"',''),"'",'');kd.push({url:kh,displayText:kg})}}return kd};bJ.$6=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='CLNTLD'.toString();var ex=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(ex)};bJ.$a=function(e,ex,kc){if(ss.isValue(S.get_instance().get_runtimeInitialized())){return!!(e|(bJ.$1(ex)&&bJ.$8(kc)))}return false};bJ.$1=function(e){if(ss.isValue(e)){return!bJ.$d.has(e)}return true};bJ.$8=function(e){if(ss.isValue(e.workbookPresModel)&&ss.isValue(e.workbookPresModel.dashboardPresModel)&&ss.isValue(e.workbookPresModel.dashboardPresModel.zones)){var ex=new ss.ObjectEnumerator(e.workbookPresModel.dashboardPresModel.zones);try{while(ex.moveNext()){var kc=ex.current();if(ss.isValue(kc.value)&&ss.referenceEquals(ka.$2(kc.value),'visual'.toString())){return true}}}finally{ex.dispose()}}return false};bJ.$9=function(){var e=[{ns:'tabdoc',cmd:'pane-zoom'}.cmd,{ns:'tabdoc',cmd:'get-runtime-data-model'}.cmd,{ns:'tabdoc',cmd:'select'}.cmd,{ns:'tabdoc',cmd:'select-by-tuple-value'}.cmd,{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd,{ns:'tabsrv',cmd:'pane-pan-server'}.cmd,{ns:'tabsrv',cmd:'pane-anchor-zoom-server'}.cmd,{ns:'tabsrv',cmd:'select-none'}.cmd];bJ.$d=new Set;tab.SetUtilities.addAll(Object).call(null,bJ.$d,e)};bJ.$4=function(e){var ex=0;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}if(!e.workbookPresModel.dashboardPresModel.isStory){return ex}var kc=e.workbookPresModel.dashboardPresModel.zones;var kd=_.keys(kc);for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];var kg=kc[kf];if(ss.isNullOrUndefined(kg)){continue}var kh=ka.getContent(kg,'flipboard');if(ss.isValue(kh)){return kh.activeStoryPointId}}return null};bJ.$3=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.sheetPath)){return''}return e.workbookPresModel.dashboardPresModel.sheetPath.sheetName};global.tab.CommandController=bJ;var bK=function(){};bK.__typeName='tab.CommandControllerStoryTelemetry';bK.bootstrapCompleteStoryTelemetry=function(){if(gk.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('StorytellingOnlineTelemetry')&&!tsConfig.is_authoring){var e=ge.getSheetInfoPresModel(S.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(e)&&e.isStory){_.defer(function(){bK.$3()})}}};bK.$3=function(){var e={$:null};var ex={$:null};var kc={$:null};var kd={$:null};var ke={$:null};var kf={$:null};var kg={$:null};if(!bK.$9(kc)){bK.$2('Storyboard is not set when we expected it to be.');return}if(!bK.$a(kc.$,e)){bK.$2("'name' is not set in the ZoneCommonPresModel when we expected it to be.");return}if(!bK.$5(kc.$,ex)){bK.$2('FlipboardNavModel is not set when we expected it to be.');return}if(!bK.$6(ex.$,kd)){bK.$2('SelectedStoryPointStyle was not set when we expected it to be.');return}if(!bK.$4(kc.$,ke)){bK.$2('DashboardSize was not set when we expected it to be.');return}if(!bK.$8(ex.$,kf)){bK.$2('StoryPoints is not set when we expected it to be.');return}if(!bK.$7(kg)){bK.$2('SheetsInfo is not set when we expected it to be.');return}var kh=bK.$0(kf.$,ex.$.get_navType());var ki=bK.$1(kg.$);gk.logEvent('StoryViewing.StoryState',['AtBootstrap',true,'DefaultTitle',(ss.referenceEquals(e.$,tsConfig.current_sheet_name.toString())?true:false),'StoryPoints',kf.$.length,'UniqueSheets',ki.$2(),'UniqueDashboards',ki.$0(),'AvgCaptionLengthByChar',kh.$0(),'AvgCaptionLengthByWord',kh.$2(),'LongestCaptionByChar',kh.$4(),'LongestCaptionByWord',kh.$6(),'TitleLengthByChar',e.$.length,'TitleLengthByWord',(!tab.MiscUtil.isNullOrEmpty$3(e.$)?e.$.match(bK.$b).length:0),'TitleVisible',kc.$.get_isTitleVisible(),'NavArrows',ex.$.get_arrowVisibility(),'NavStyle',ex.$.get_navType().toString(),'DashboardHeight',ke.$.h,'DashboardWidth',ke.$.w,'StoryPointHeight',kd.$.h,'StoryPointWidth',kd.$.w,'StoryPointBackgroundColor',kd.$.styledBox.fillColor.toString(),'StoryPointBorderColor',kd.$.styledBox.borderColor.toString()])};bK.$2=function(e){gk.logEvent('Error.StoryState',['Message',e])};bK.$0=function(e,ex){var kc=0,kd=0,ke=0,kf=0;if(ex!=='caption'||e.length<1){return new u}for(var kg=0;kg<e.length;kg++){var kh=e[kg];if(ss.isValue(kh.storyPointCaption)&&!tab.MiscUtil.isNullOrEmpty$3(kh.storyPointCaption.toString())){var ki=kh.storyPointCaption.toString();var kj=ki.match(bK.$b);if(ki.length>ke){ke=ki.length}if(kj.length>kf){kf=kj.length}kc+=ki.length;kd+=kj.length}}return new u.$0(kc/e.length,kd/e.length,ke,kf)};bK.$1=function(e){var ex=new Set;var kc=new Set;for(var kd=0;kd<e.length;kd++){var ke=e[kd];if(ke.isStory){continue}if(ke.isDashboard){kc.add(ke.sheet)}else{ex.add(ke.sheet)}}return new v(ex.size,kc.size)};bK.$9=function(e){e.$=((ss.isValue(S.get_instance().get_workbook())&&ss.isValue(S.get_instance().get_workbook().get_storyboard()))?S.get_instance().get_workbook().get_storyboard():null);return ss.isValue(e.$)};bK.$a=function(e,ex){if(e.get_isTitleVisible()===false){ex.$='';return true}if(ss.isNullOrUndefined(e.get_zoneModels())){ex.$=null;return false}var kc=_.find(e.get_zoneModels(),function(kd){return kd.get_zoneType()==='title'});ex.$=((ss.isValue(kc)&&ss.isValue(kc.get_zoneCommonModel())&&ss.isValue(kc.get_zoneCommonModel().get_zoneCommonPresModel())&&ss.isValue(kc.get_zoneCommonModel().get_zoneCommonPresModel().name))?kc.get_zoneCommonModel().get_zoneCommonPresModel().name.toString():null);return ss.isValue(ex.$)};bK.$5=function(e,ex){ex.$=(ss.isValue(e.get_flipboardNavModel())?e.get_flipboardNavModel():null);return ss.isValue(ex.$)};bK.$4=function(e,ex){ex.$=(ss.isValue(e.get_dashboardSize())?e.get_dashboardSize():null);return ss.isValue(ex.$)};bK.$6=function(e,ex){ex.$=((ss.isValue(e.get_flipboardNavPresModel())&&ss.isValue(e.get_flipboardNavPresModel().selectedStoryPointStyle))?e.get_flipboardNavPresModel().selectedStoryPointStyle:null);return ss.isValue(ex.$)};bK.$8=function(e,ex){ex.$=(ss.isValue(e.get_storyPoints())?e.get_storyPoints():null);return ss.isValue(ex.$)};bK.$7=function(e){e.$=((ss.isValue(S.get_instance().get_workbook())&&ss.isValue(S.get_instance().get_workbook().get_sheetsInfo()))?S.get_instance().get_workbook().get_sheetsInfo():null);return ss.isValue(e.$)};global.tab.CommandControllerStoryTelemetry=bK;var bL=function(){};bL.__typeName='tab.CommandControllerTelemetry';bL.$0=function(){if(gk.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){_.defer(function(){var e=null;gB.getInfo().done(function(ex){e=ex}).always(function(){_.defer(function(){var ex,kc,kd,ke,kf,kg,kh,ki,kj;ex=kc=kd=ke=kf=kg=kh=ki=kj=false;if(ss.isValue(e)){if(ss.isValue(e.get_name())){kc=ss.startsWithString(e.get_name(),'Chrome');kd=ss.startsWithString(e.get_name(),'Microsoft Edge');ke=ss.startsWithString(e.get_name(),'IE');kf=ss.startsWithString(e.get_name(),'Firefox');kh=ss.startsWithString(e.get_name(),'Opera');ki=ss.startsWithString(e.get_name(),'Safari')}if(ss.isValue(e.get_OS().get_family())){ex=ss.startsWithString(e.get_OS().get_family(),'Android');kg=ss.startsWithString(e.get_OS().get_family(),'OS X')||ss.startsWithString(e.get_OS().get_family(),'Mac');kj=ss.startsWithString(e.get_OS().get_family(),'Windows')&&!ss.startsWithString(e.get_OS().get_family(),'Windows Phone')}}var kk=window.screen;var kl=ge.getSheetInfoPresModel(S.get_instance(),tsConfig.current_sheet_name);var km=['Authoring',tsConfig.is_authoring,'Embedded',tsConfig.embedded,'HighDpi',tsConfig.highDpi,'Mobile',tsConfig.is_mobile,'MobileApp',tsConfig.is_mobile_app,'MobileDevice',tsConfig.is_mobile_device,'Version',tsConfig.version,'LocalRender',S.get_instance().get_isLocalRenderMode(),'Android',ex,'Chrome',kc,'ChromeVersion',tab.BrowserSupport.get_googleChromeVersion(),'DevicePixelRatio',tab.BrowserSupport.get_devicePixelRatio(),'Edge',kd,'Firefox',kf,'Geolocation',tab.BrowserSupport.get_isGeolocationSupported(),'IE',ke,'IEVersion',tab.BrowserSupport.get_browserVersion(),'IOS',tab.BrowserSupport.get_isIos(),'IOSVersion',tab.BrowserSupport.get_iosVersion(),'Ipad',tab.BrowserSupport.get_isIpad(),'Mac',kg,'Opera',kh,'Safari',ki,'SafariVersion',tab.BrowserSupport.get_safariVersion(),'Touch',tab.BrowserSupport.get_isTouch(),'Windows',kj,'EmbedMode',tabBootstrap.Utility.get_embedMode(),'ScreenWidth',kk.width,'ScreenHeight',kk.height,'ViewportWidth',window.innerWidth,'ViewportHeight',window.innerHeight,'Dashboard',(ss.isValue(kl)?kl.isDashboard:false),'Published',(ss.isValue(kl)?kl.isPublished:false),'Story',(ss.isValue(kl)?(ss.isValue(kl.isStory)&&kl.isStory):false),'Worksheets',((ss.isValue(kl)&&ss.isValue(kl.namesOfSubsheets))?kl.namesOfSubsheets.length:0),'Tabs',(_.isArray(tsConfig.visible_sheets)?tsConfig.visible_sheets.length:0)];gk.logEvent('Bootstrap',km);if(ss.isValue(e)){var kn=['Description',ss.coalesce(e.get_description(),''),'Layout',ss.coalesce(e.get_layout(),''),'Manufacturer',ss.coalesce(e.get_manufacturer(),''),'Name',ss.coalesce(e.get_name(),''),'Prerelease',ss.coalesce(e.get_prerelease(),''),'Product',ss.coalesce(e.get_product(),''),'UserAgent',e.get_userAgent(),'Version',ss.coalesce(e.get_version(),''),'System',ss.coalesce(e.get_OS().get_description(),''),'SystemArchitecture',ss.coalesce(e.get_OS().get_architecture(),''),'SystemFamily',ss.coalesce(e.get_OS().get_family(),''),'SystemVersion',ss.coalesce(e.get_OS().get_version(),'')];gk.logEvent('Platform',kn)}})})})}};global.tab.CommandControllerTelemetry=bL;var bM=function(e,ex){this.succeeded=false;this.error=null;this.succeeded=e;this.error=ex};bM.__typeName='tab.CommandExecutionResult';global.tab.CommandExecutionResult=bM;var bN=function(){};bN.__typeName='tab.CommandInterceptorResult';global.tab.CommandInterceptorResult=bN;var bO=function(){iY.call(this)};bO.__typeName='tab.CommandItemBasedUbertipButtonModel';global.tab.CommandItemBasedUbertipButtonModel=bO;var bP=function(e){this.$0=null;if(ss.isValue(e)){this.$0=e}else{this.$0={};this.set_commandsType('item')}};bP.__typeName='tab.CommandItemWrapper';bP.create=function(e){if(!ss.isValue(e)){return null}var ex=e['command'.toString()];var kc=bV.deserialize(ex);if(ss.isValue(kc)&&jB.hasCommand(kc.commandName)){return new jA.$ctor1(e)}return new bP(e)};global.tab.CommandItemWrapper=bP;var bQ=function(){this.command=null;this.description=null;this.imageRes=null;this.status='enabled';this.$1$1=0;this.$1$2=null};bQ.__typeName='tab.CommandModel';global.tab.CommandModel=bQ;var bR=function(){iY.call(this)};bR.__typeName='tab.CommandModelBasedUbertipButtonModel';global.tab.CommandModelBasedUbertipButtonModel=bR;var bS=function(e){this.$0=null;this.$0={};var ex=ss.getEnumerator(e);try{while(ex.moveNext()){var kc=ex.current();this.$0[kc]='granted'}}finally{ex.dispose()}};bS.__typeName='tab.CommandPermission';global.tab.CommandPermission=bS;var bT=function(){};bT.__typeName='tab.CommandRedirectRegistry';bT.checkpointRegistry=function(){var e=bT.$0;bT.$0=$.extend(false,{},e);return function(){bT.$0=e}};bT.registerHandler=function(e,ex){tab.Param.verifyValue(e,'commandRedirectType');tab.Param.verifyValue(ex,'handler');if(ss.isNullOrUndefined(bT.$0)){bT.$0={}}bT.$0[e]=ex};bT.handleRedirect=function(e,ex){if(ss.isNullOrUndefined(bT.$0)||!ss.keyExists(bT.$0,e)){throw new ss.Exception('No command redirect registerd for type: '+e)}var kc=bT.$0[e];return kc(ex)};global.tab.CommandRedirectRegistry=bT;var bU=function(){this.$2$1=null;this.$2$2=null;this.$2$3=false;this.$2$4=false;ss.EventArgs.call(this)};bU.__typeName='tab.CommandResponseEventArgs';global.tab.CommandResponseEventArgs=bU;var bV=function(){};bV.__typeName='tab.CommandSerializer';bV.$4=function(){return tab.Logger.lazyGetLogger(bV)};bV.buildDocCommandName=function(e){return bV.buildQualifiedCommandName('tabdoc',e.cmd)};bV.buildQualifiedCommandName=function(e,ex){return e+':'+ex};bV.deserialize=function(e,ex){var kc;ex=ex||false;if(ex){kc=bV.$6[e];if(ss.isValue(kc)){return kc}}var kd=new RegExp('^(\\w+):([\\w-]+)( ((.|\n)*))?$');var ke=kd.exec(e);if(ss.isNullOrUndefined(ke)||ke.length===0){return null}kc={commandNamespace:ke[1],commandName:ke[2]};bV.$1(kc,ke[4]);if(ex){bV.$0(e,kc)}return kc};bV.getCommandType=function(e){if(ss.keyExists(bV.$8,e.commandName)){return bV.$8[e.commandName]}else{return null}};bV.$0=function(e,ex){if(bV.$7.length>=15){var kc=bV.$7.shift();delete bV.$6[kc]}bV.$6[e]=ex;bV.$7.push(e)};bV.$1=function(e,ex){if(ss.isNullOrEmptyString(ex)){return}var kc=new ss.StringBuilder;var kd=new Array;for(var ke=ex.length-1;ke>=0;ke--){kd.push(ex.substr(ke,1))}while(kd.length>0){var kf=bV.$2(kd,kc);if(!ss.isValue(kf)){return}var kg=bV.$3(kd,kc);if(ss.isNullOrUndefined(kg)){return}if(kg==='{}'){continue}if(ss.isNullOrUndefined(e.commandParams)){e.commandParams={}}e.commandParams[ss.unbox(kf)]=kg}};bV.$2=function(e,ex){ex.clear();var kc=false;while(e.length>0){var kd=e.pop();switch(kd){case'=':{return ex.toString().trim()}case'-':{kc=true;break}default:{if(kc){ex.append(kd.toUpperCase());kc=false}else{ex.append(kd)}break}}}return null};bV.$3=function(e,ex){ex.clear();var kc=new Array;var kd=function(){return((kc.length>0)?ss.arrayPeekBack(kc):'')};var ke=e.length>1&&ss.arrayPeekBack(e)==='"';while(e.length>0){var kf=e.pop();var kg=true;switch(kf){case'\\':{if(ke){if(kd()!=='\\'){kc.push('\\');kg=false}else{kc.pop()}}break}case'"':{if(kd()==='\\'){kc.pop()}else if(kd()==='"'){kc.pop();if(kc.length===0){kg=false}}else{if(kc.length===0){kg=false}kc.push('"')}break}case'[':{if(kd()==='"'){}else{kc.push('[')}break}case']':{if(kd()==='"'){}else if(kd()!=='['){}else{kc.pop()}break}case'{':{if(kd()==='"'){}else{kc.push('{')}break}case'}':{if(kd()==='"'){}else if(kd()!=='{'){}else{kc.pop()}break}default:{if(kd()==='\\'){kc.pop()}break}}if(kg){ex.append(kf)}if(kc.length===0){return ex.toString()}}return null};global.tab.CommandSerializer=bV;var bW=function(e){this.$1=true;this.$2$1=null;gb.call(this,e,new gI('commands'.toString()))};bW.__typeName='tab.CommandsModel';global.tab.CommandsModel=bW;var bX=function(){bX.$ctor1.call(this,{})};bX.__typeName='tab.CommandsPresModelWrapper';bX.$ctor1=function(e){this.$0=null;this.$0=e;if(ss.isNullOrUndefined(this.get_commandItems())){this.set_commandItems([])}};bX.create=function(e){if(!ss.isValue(e)){return null}return new bX.$ctor1(e)};global.tab.CommandsPresModelWrapper=bX;var bY=function(){this.commandNamespace='';this.commandName=''};bY.__typeName='tab.CommandThrottlerTarget';global.tab.CommandThrottlerTarget=bY;var bZ=function(){};bZ.__typeName='tab.CommandUtils';bZ.newCommand=function(e,ex){var kc={commandName:e.cmd,commandNamespace:e.ns};if(ss.isValue(ex)){kc.commandParams=ex}return kc};bZ.addVisualIdToCommand=function(e,ex){if(tab.MiscUtil.isNullOrEmpty$3(ex.storyboard)){e['worksheet']=ex.worksheet;if(ss.isValue(ex.dashboard)&&ex.dashboard.toString().length>0){e['dashboard']=ex.dashboard}}else{e['visualIdPresModel']=JSON.stringify(ex)}};bZ.addStoryPointToCommand=function(e,ex){if(ss.isValue(ex.storyboard)){e['storyboard']=ex.storyboard;e['flipboardZoneId']=ex.flipboardZoneId.toString();e['storyPointId']=ex.storyPointId.toString()}};bZ.duplicateCommand=function(e){var ex={};$.extend(true,ex,e);return ex};bZ.createCommandRedirectSuccessHandler=function(e){e=e||$.Deferred();return function(ex){if(_.isObject(ex)&&'commandRedirectType'.toString()in ex){var kc=ex['commandRedirectType'.toString()];var kd=bT.handleRedirect(kc,ex);kd.pipe(function(){e.resolve(ex);return ex},function(){e.reject();return ex})}else{e.resolve(ex)}}};bZ.executeSimpleCommand$1=function(e){return function(ex,kc){var kd=$.Deferred();var ke=$.Deferred().done([function(kf){kd.resolve(kf)}]).fail([function(kf){kd.reject.apply(kd,null)}]);hN.executeServerCommand(bV.deserialize(it.create(ex).get_simpleCommand()),kc,bZ.createCommandRedirectSuccessHandler(ke),function(kf){kd.reject.apply(kd,null)});return kd}};bZ.executeSimpleCommand=function(e,ex){return bZ.executeSimpleCommand$1(Object).call(null,e,ex)};global.tab.CommandUtils=bZ;var ca=function(e,ex){this.$3=null;this.$2=null;this.$3=e;this.$2=ex};ca.__typeName='tab.CommentingServer';global.tab.CommentingServer=ca;var cb=function(e){this.$1=null;this.$2=null;this.$2$1=null;gb.call(this,e,new gI('compoundTableCalculationPresModel'.toString()));this.$1=new iH(this);this.$2=new iH(this);this.$2.get_tableCalcIdentifier().update({calcNestingLevel:'secondary',fn:''})};cb.__typeName='tab.CompoundTableCalcModel';cb.$0=function(e,ex){if(ss.isValue(e)&&ss.isValue(e.tableCalculationPresModels)&&e.tableCalculationPresModels.length>ex){return e.tableCalculationPresModels[ex]}return null};global.tab.CompoundTableCalcModel=cb;var cc=function(){};cc.__typeName='tab.ConnectionClass';cc.get_getSupportedDatabaseClasses=function(){return Object.keys(cc.databaseClassToLabel)};cc.get_getSupportedFileClasses=function(){return cc.fileConnectionClasses};global.tab.ConnectionClass=cc;var cd=function(){ss.makeGenericType(W,[Object,ce]).call(this)};cd.__typeName='tab.ConnectionEditCaptionCmd';global.tab.ConnectionEditCaptionCmd=cd;var ce=function(e){this.$$c=null;this.$$c=e};ce.__typeName='tab.ConnectionEditCaptionCmd$Response';global.tab.ConnectionEditCaptionCmd$Response=ce;var cf=function(){ss.makeGenericType(W,[Object,cg]).call(this)};cf.__typeName='tab.ConnectionSelectDatabaseAndAddTableCmd';global.tab.ConnectionSelectDatabaseAndAddTableCmd=cf;var cg=function(e){this.$$c=null;this.$$c=e};cg.__typeName='tab.ConnectionSelectDatabaseAndAddTableCmd$Response';global.tab.ConnectionSelectDatabaseAndAddTableCmd$Response=cg;var ch=function(){ss.makeGenericType(W,[Object,ci]).call(this)};ch.__typeName='tab.ConnectionSelectSchemaCmd';global.tab.ConnectionSelectSchemaCmd=ch;var ci=function(e){this.$$c=null;this.$$c=e};ci.__typeName='tab.ConnectionSelectSchemaCmd$Response';global.tab.ConnectionSelectSchemaCmd$Response=ci;var cj=function(){ss.makeGenericType(W,[Object,ck]).call(this)};cj.__typeName='tab.ConnectionSelectWarehouseCmd';global.tab.ConnectionSelectWarehouseCmd=cj;var ck=function(e){this.$$c=null;this.$$c=e};ck.__typeName='tab.ConnectionSelectWarehouseCmd$Response';global.tab.ConnectionSelectWarehouseCmd$Response=ck;var cl=function(e){el.$ctor1.call(this,e,[])};cl.__typeName='tab.ConstructableFontFamily';global.tab.ConstructableFontFamily=cl;var cm=function(){ss.makeGenericType(W,[Object,cn]).call(this)};cm.__typeName='tab.CreateAndEstablishConnectionCmd';global.tab.CreateAndEstablishConnectionCmd=cm;var cn=function(e){this.$$c=null;this.$$c=e};cn.__typeName='tab.CreateAndEstablishConnectionCmd$Response';global.tab.CreateAndEstablishConnectionCmd$Response=cn;var co=function(){ss.makeGenericType(W,[Object,cp]).call(this)};co.__typeName='tab.CreateAnnotationRichTextEditorCmd';global.tab.CreateAnnotationRichTextEditorCmd=co;var cp=function(e){this.$$c=null;this.$$c=e};cp.__typeName='tab.CreateAnnotationRichTextEditorCmd$Response';global.tab.CreateAnnotationRichTextEditorCmd$Response=cp;var cq=function(){ss.makeGenericType(W,[Object,cr]).call(this)};cq.__typeName='tab.CreateDataSourceFromFileUploadCmd';global.tab.CreateDataSourceFromFileUploadCmd=cq;var cr=function(e){this.$$c=null;this.$$c=e};cr.__typeName='tab.CreateDataSourceFromFileUploadCmd$Response';global.tab.CreateDataSourceFromFileUploadCmd$Response=cr;var cs=function(){ss.makeGenericType(W,[Object,ct]).call(this)};cs.__typeName='tab.CreateWorksheetTitleRichTextEditorCmd';global.tab.CreateWorksheetTitleRichTextEditorCmd=cs;var ct=function(e){this.$$c=null;this.$$c=e};ct.__typeName='tab.CreateWorksheetTitleRichTextEditorCmd$Response';global.tab.CreateWorksheetTitleRichTextEditorCmd$Response=ct;var cu=function(){ss.makeGenericType(W,[Object,cv]).call(this)};cu.__typeName='tab.CreateZoneRichTextEditorCmd';global.tab.CreateZoneRichTextEditorCmd=cu;var cv=function(e){this.$$c=null;this.$$c=e};cv.__typeName='tab.CreateZoneRichTextEditorCmd$Response';global.tab.CreateZoneRichTextEditorCmd$Response=cv;var cw=function(e){this.$3=null;this.$2=null;this.$1=null;dV.call(this,e)};cw.__typeName='tab.CubeDimensionModel';global.tab.CubeDimensionModel=cw;var cx=function(e){this.$2=null;this.$1=null;dV.call(this,e)};cx.__typeName='tab.CubeFolderModel';global.tab.CubeFolderModel=cx;var cy=function(e){this.$1=null;dV.call(this,e)};cy.__typeName='tab.CubeHierarchyModel';global.tab.CubeHierarchyModel=cy;var cz=function(e){this.$3$1=null;iW.call(this,e,new gI('cumulativeTableCalcPresModel'.toString()))};cz.__typeName='tab.CumulativeTableCalcModel';global.tab.CumulativeTableCalcModel=cz;var cA=function(e){this.$3=null;this.$3=e};cA.__typeName='tab.CustomizedViewSession';cA.buildUrl=function(e,ex){var kc=jv.createForViewingSheet(tsConfig.repositoryUrl);if(ss.isValue(e)){kc.updateForCustomizedView(e)}else{kc.set_originalView(true)}kc.removeHash();if(ex){kc.removeAllQueryParams()}return kc.get_absoluteUri()};cA.$0=function(e){var ex=function(kc,kd,ke){if(!ss.isValue(e)){return}var kf=cA.$1(kc);e((ss.isValue(kf)?kf:(ke.toString()||'')))};return ex};cA.$1=function(e){if(ss.isValue(e.responseText)){try{var ex=JSON.parse(e.responseText);if('msg'in ex){return ex['msg']}}catch(kc){var e=ss.Exception.wrap(kc)}}return null};global.tab.CustomizedViewSession=cA;var cB=function(e){this.$3$1=null;this.$3$2=null;iW.call(this,e,new gI('customTableCalcPresModel'.toString()));this.set_referenceModel(new iJ(this))};cB.__typeName='tab.CustomTableCalcModel';global.tab.CustomTableCalcModel=cB;var cC=function(e){this.$1=[];gE.call(this);for(var ex=0;ex<e.length;ex++){var kc=e[ex];var kd=kc.ns+':'+kc.cmd;this.$1.push(kd)}};cC.__typeName='tab.CustomUIBlockingPluginPresentationLayer';global.tab.CustomUIBlockingPluginPresentationLayer=cC;var cD=function(){};cD.__typeName='tab.DashboardClientCommands';cD.dropSheetOnDashboard=function(e,ex,kc){var kd=new dz;kd.c['dashboard']=tsConfig.current_sheet_name;kd.c['addAsFloating']=ss.coalesce(kc,false);kd.c['dropLocation']={x:ex.x|0,y:ex.y|0};kd.c['zoneType']='viz';kd.c['worksheet']=e;kd.set_uiBlocking('immediately');return kd.invoke()};cD.dropNewZoneObjectOnDashboard=function(e,ex,kc,kd,ke,kf,kg){var kh={x:kd.x|0,y:kd.y|0};var ki=new dz;ki.c['dashboard']=tsConfig.current_sheet_name;ki.c['addAsFloating']=ss.coalesce(kc,false);ki.c['dropLocation']=kh;ki.c['zoneType']=e;ki.c['isHorizontal']=ex;ki.set_uiBlocking('immediately');var kj=ki;if(ss.isValue(kf)){kj.c['zoneParam']=kf}if(ss.isValue(ke)){kj.c['formattedText']=ke}if(kg!=='invalid'){kj.c['dashboardObjectType']=kg}return kj.invoke()};cD.setDashboardDeviceLayout=function(e){var ex=new hU;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardDeviceLayout']=e;ex.c['allowPreviewSizeChange']=true;ex.set_uiBlocking('immediately');ex.invoke()};cD.getSheetDragDropTargets=function(e){var ex=new eC;ex.c['dashboard']=tsConfig.current_sheet_name;ex.set_uiBlocking('none');var kc=ex;if(ss.isValue(e)){kc.c['zoneId']=ss.unbox(e)|0}return kc.invoke()};cD.getThumbnailImage=function(e){var ex=new eU;ex.c['worksheet']=e;ex.set_uiBlocking('none');var kc=ex;return kc.invoke()};cD.addNewObjectToDashboard=function(e,ex,kc,kd,ke,kf){var kg=new O;kg.c['dashboard']=tsConfig.current_sheet_name;kg.c['zoneType']=e;kg.c['isHorizontal']=ex;kg.c['addAsFloating']=ss.coalesce(kc,false);kg.set_uiBlocking('immediately');var kh=kg;if(ss.isValue(ke)){kh.c['zoneParam']=ke}if(ss.isValue(kd)){kh.c['formattedText']=kd}if(kf!=='invalid'){kh.c['dashboardObjectType']=kf}return kh.invoke()};cD.addSheetToDashboard=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'add-sheet-to-dashboard'},null);kc.commandParams={};kc.commandParams['worksheet']=e;kc.commandParams['addAsFloating']=ss.coalesce(ex,false);bJ.SendCommand(gU.create(kc,'immediately'))};cD.showGridOnDashboard=function(e){var ex=new cJ;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardShowGrid']=e;ex.invoke()};cD.changeDashboardGridSize=function(e){var ex=new cH;ex.c['dashboard']=tsConfig.current_sheet_name;ex.c['dashboardGridSize']=e|0;ex.set_uiBlocking('none');ex.invoke()};cD.getCurrentSheetSizeConstraints=function(){var e=$.Deferred();if(tsConfig.current_sheet_type==='worksheet'){e.resolve({sizeMode:'size-mode-auto',dashboardSizingMode:'automatic'})}else{var ex=new eE;ex.c['dashboard']=tsConfig.current_sheet_name;ex.set_uiBlocking('none');ex.invoke().pipe(function(kc){return e.resolve(kc.$$c['dashboardSizePresModel'])},function(kc){return e.reject()})}return e.promise()};cD.setDashboardSizeFixed=function(e,ex,kc,kd,ke){var kf=function(kg){var kh=kg.makeMutablePresModel(ke,false);var ki={dashboardSizingMode:'fixed',h:kd,w:kc};kh.dashboardSizePresModel=ki};cD.$0(e,ex,'fixed',kc,kd,kc,kd,kf)};cD.setDashboardSizeAutomatic=function(e,ex){var kc=function(kd){var ke=kd.makeMutablePresModel(ex,false);var kf={dashboardSizingMode:'automatic'};ke.dashboardSizePresModel=kf};cD.$0(e,'no','automatic',0,0,0,0,kc)};cD.setDashboardSizeRange=function(e,ex,kc,kd,ke,kf,kg){var kh=function(ki){var kj=ki.makeMutablePresModel(kg,false);var kk={dashboardSizingMode:'range',maxHeight:ss.coalesce(kf,0),maxWidth:ss.coalesce(ke,0),minHeight:ss.coalesce(kd,0),minWidth:ss.coalesce(kc,0)};kj.dashboardSizePresModel=kk};cD.$0(e,ex,'range',ss.coalesce(kc,0),ss.coalesce(kd,0),ss.coalesce(ke,0),ss.coalesce(kf,0),kh)};cD.$0=function(e,ex,kc,kd,ke,kf,kg,kh){var ki=new hW;ki.c['dashboardSizingDimension']=ex;ki.c['dashboard']=e;ki.c['minWidth']=kd|0;ki.c['minHeight']=ke|0;ki.c['maxWidth']=kf|0;ki.c['maxHeight']=kg|0;ki.c['dashboardSizingMode']=kc;ki.set_localWork(kh);ki.set_uiBlocking('immediately');ki.invoke()};cD.showDashboardTitle=function(e){var ex=new io;ex.c['dashboard']=e;ex.set_uiBlocking('immediately');var kc=ex;kc.invoke()};cD.getUrlSubstitutionParameters=function(){var e=new eW;e.c['dashboard']=tsConfig.current_sheet_name;return e.invoke()};cD.isWebZoneUrlValid=function(e){var ex=new fC;ex.c['urlString']=e;ex.set_uiBlocking('immediately');return ex.invoke()};global.tab.DashboardClientCommands=cD;var cE=function(e){this.$2$1=null;this.$2$2=null;gb.call(this,e,new gI('dashboardGridDialogPresModel'.toString()));this.pm={}};cE.__typeName='tab.DashboardGridDialogModel';global.tab.DashboardGridDialogModel=cE;var cF=function(e){this.$f={};this.$a=null;this.$d=0;this.$b=null;this.$e=null;this.$g=null;this.$c=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;this.$2$13=null;this.$2$14=null;this.zonesModel=null;this.sheetListModel=null;this.layoutTreeModel=null;this.emptyShowMeModel=null;this.autoUpdate=false;this.invalid=false;gb.call(this,e,new gI('dashboardPresModel'.toString()));this.invalid=false;this.zonesModel=new kb(this);this.$d=0};cF.__typeName='tab.DashboardModel';cF.add_modifiedSheetsChanged=function(e){cF.$2$1=ss.delegateCombine(cF.$2$1,e)};cF.remove_modifiedSheetsChanged=function(e){cF.$2$1=ss.delegateRemove(cF.$2$1,e)};cF.$1=function(e,ex){var kc=e.length;var kd=new Set;for(var ke=0;ke<e.length;ke++){var kf=e[ke];var kg=ex[kf];var kh=[];if(!kg.get_selectionsModel().tupleSelection.isEmpty||kg.get_selectionsModel().get_brushVizForNodeSelection()){ss.arrayAddRange(kh,L.getApplicableActions(kf,'on-select','highlight'));ss.arrayAddRange(kh,L.getApplicableActions(kf,'explicitly','highlight'))}if(!kg.get_brushingsModel().tupleSelection.isEmpty){ss.arrayAddRange(kh,L.getApplicableActions(kf,'on-hover','highlight'))}if(!tab.MiscUtil.isNullOrEmpty$1(kh)){var ki=q.$0(kf,kh,kg.get_vizDataModel());tab.SetUtilities.addAll(Object).call(null,kd,tab.SetUtilities.getValues(Object).call(null,ki));if(kd.size===kc){return kd}}}return kd};cF.$0=function(){if(!ss.staticEquals(cF.$2$1,null)){cF.$2$1()}};global.tab.DashboardModel=cF;var cG=function(){this.$1=false;gb.call(this,null,null);this.$1=false};cG.__typeName='tab.DashboardNewObjectsModel';global.tab.DashboardNewObjectsModel=cG;var cH=function(){ss.makeGenericType(W,[Object,cI]).call(this)};cH.__typeName='tab.DashboardSetGridSizeCmd';global.tab.DashboardSetGridSizeCmd=cH;var cI=function(e){this.$$c=null;this.$$c=e};cI.__typeName='tab.DashboardSetGridSizeCmd$Response';global.tab.DashboardSetGridSizeCmd$Response=cI;var cJ=function(){ss.makeGenericType(W,[Object,cK]).call(this)};cJ.__typeName='tab.DashboardShowGridCmd';global.tab.DashboardShowGridCmd=cJ;var cK=function(e){this.$$c=null;this.$$c=e};cK.__typeName='tab.DashboardShowGridCmd$Response';global.tab.DashboardShowGridCmd$Response=cK;var cL=function(){};cL.__typeName='tab.DashboardSizeCalculator';cL.get_dashboardViewportSize=function(){var e=cL.get_dashboardViewportSizeWithTabs();e.h-=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e};cL.get_dashboardViewportSizeWithTabs=function(){var e=document.getElementById('dashboard-viewport');var ex={w:e.offsetWidth,h:e.offsetHeight};return ex};cL.calculateContainerSize=function(e){var ex=(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?cL.calculateDashboardSize():e);var kc={w:ex.w,h:ex.h+tabBootstrap.VizLayoutConstants.get_tabsHeight()};return kc};cL.calculateDashboardSize=function(){var e=cL.get_dashboardViewportSize();var ex=tabBootstrap.ViewerBootstrap.get_instance().adjustForMinMaxDashboardSizes(e);return ex};cL.asSizePresModel=function(e){return{w:e.w,h:e.h}};cL.asMetric=function(e){return{w:e.w,h:e.h}};cL.asRect=function(e){return{l:0,t:0,w:e.w,h:e.h}};global.tab.DashboardSizeCalculator=cL;var cM=function(e){this.$2$1=null;this.dashboardSizeModel=null;this.layoutInfoModel=null;gb.call(this,e,new gI('dashboardSizeControl'.toString()))};cM.__typeName='tab.DashboardSizeControlModel';global.tab.DashboardSizeControlModel=cM;var cN=function(e){this.$2$1=null;gb.call(this,e,new gI('dashboardSizePresModel'.toString()))};cN.__typeName='tab.DashboardSizeModel';global.tab.DashboardSizeModel=cN;var cO=function(){var e=[];e.push(jg.currentUser());cO.$ctor2.call(this,{},{},e)};cO.__typeName='tab.DataAlert';cO.$ctor2=function(e,ex,kc){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=false;this.$1$10=false;this.$2=e;this.$1=ex;this.set_recipients(kc);this.set_deviceType('default')};cO.$ctor1=function(e){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=false;this.$1$10=false;this.set_selectionCaption(e.fieldName);this.set_measurePresModel(e.dataAlertMeasure);this.set_conditionPresModel({dataAlertConditionOp:e.dataAlertConditionOp,dataAlertThresholdText:e.dataAlertThresholdText,dataType:e.dataType});this.set_threshold(e.dataAlertThresholdText);this.set_alertConditionMet(e.isDataAlertConditionMet);var ex=[];ex.push(jg.currentUser());this.set_recipients(ex);this.set_deviceType('default')};global.tab.DataAlert=cO;var cP=function(){};cP.__typeName='tab.DataAlertClientCommands';cP.newDataAlert=function(e){(new iz).invoke().fail(function(){e()})};cP.updateDataAlert=function(e){var ex=$.Deferred();if(e.get_thresholdIsValid()){var kc=new jc;kc.c['dataAlertThresholdText']=e.get_conditionPresModel().dataAlertThresholdText;kc.c['dataAlertConditionOp']=e.get_conditionPresModel().dataAlertConditionOp;kc.invoke().done(function(kd){ex.resolve(kd.$$c['isDataAlertConditionMet'])}).fail(function(){throw new ss.Exception('Failed to update reference line position and shading')})}else{ex.resolve(e.get_alertConditionMet())}return ex};cP.closeDataAlertDialog=function(){(new bE).invoke().done(function(e){}).fail(function(){throw new ss.Exception('Failed to close the dialog')})};global.tab.DataAlertClientCommands=cP;var cQ=function(){};cQ.__typeName='tab.DataAlertConditionOperation';cQ.supportedOperations=function(){var e=[];e.push('greater-than-equal');e.push('greater-than');e.push('less-than-equal');e.push('less-than');e.push('equals');return e};cQ.displayString=function(e){switch(e){case'equals':{return tab.Strings.OperatorEqual}case'greater-than':{return tab.Strings.OperatorAbove}case'greater-than-equal':{return tab.Strings.OperatorAboveOrEqual}case'less-than':{return tab.Strings.OperatorBelow}case'less-than-equal':{return tab.Strings.OperatorBelowOrEqual}default:{return''}}};global.tab.DataAlertConditionOperation=cQ;var cR=function(e){gb.call(this,e,new gI('dataAlertDialogPresModel'.toString()))};cR.__typeName='tab.DataAlertDialogModel';global.tab.DataAlertDialogModel=cR;var cS=function(){};cS.__typeName='tab.DataAlertNotificationInterval';cS.convertToString=function(e){switch(e){case 0:{return tab.Strings.NotificationIntervalEveryTime}case 2147483647:{return tab.Strings.NotificationIntervalOnlyOnce}case 60:{return tab.Strings.NotificationIntervalHourly}case 1440:{return tab.Strings.NotificationIntervalDaily}case 10080:{return tab.Strings.NotificationIntervalWeekly}default:{return''}}};cS.supportedIntervals=function(){var e=[];e.push(2147483647);e.push(0);e.push(60);e.push(1440);e.push(10080);return e};global.tab.DataAlertNotificationInterval=cS;var cT=function(){};cT.__typeName='tab.DataConnectionCommands';cT.acceptConnectionVariables=function(e){var ex=new ia;ex.c['connectionName']=e;ex.set_uiBlocking('immediately');ex.invoke()};cT.editVariableByIndex=function(e,ex,kc,kd,ke,kf){var kg={};kg['connectionName']=e;kg['variableGuid']=ex;kg['valueIndex']=kc;kg['variableValueOperation']=kd;kg['firstValueIndex']=ke;kg['secondValueIndex']=kf;bJ.SendCommand(gU.create(bZ.newCommand({ns:'tabdoc',cmd:'set-variable-value-by-index'},kg),'immediately'))};cT.editVariableByInput=function(e,ex,kc,kd,ke){var kf={};kf['connectionName']=e;kf['variableGuid']=ex;kf['valueIndex']=kc;kf['variableValueOperation']=kd;kf['valueString']=ke;bJ.SendCommand(gU.create(bZ.newCommand({ns:'tabdoc',cmd:'set-variable-value-shim'},kf),'immediately'))};cT.addVariable=function(e,ex){var kc=$.Deferred();var kd={};kd['connectionName']=e;kd['variableGuid']=ex;bJ.SendCommand(gU.create(bZ.newCommand({ns:'tabdoc',cmd:'add-new-variable-value'},kd),'immediately',function(ke){kc.resolve(ke)},function(ke){kc.reject()}));return kc.promise()};cT.deleteVariable=function(e,ex,kc,kd){var ke={};ke['connectionName']=e;ke['variableGuid']=ex;ke['valueIndex']=kc;bJ.SendCommand(gU.create(bZ.newCommand({ns:'tabdoc',cmd:'delete-variable-value'},ke),'immediately',function(kf){kd()}))};cT.addPublishedDataSourceConnection=function(e,ex,kc){var kd={};kd['datasourceDatabaseName']=e.get_name();kd['repositoryUrl']=e.get_repositoryUrl();var ke=bZ.newCommand({ns:'tabsrv',cmd:'add-dataserver-data-source'},kd);ke.preserveRootResult=true;bJ.SendCommand(new bC('immediately',null,ke,function(kf){var kg=new N(kf);if(!ss.isNullOrEmptyString(kg.$$c['datasource'])){bJ.SendCommand(new C(function(kh){S.get_instance().get_workbook().get_dataSchema().notifyNewDataSourceAdded(kh.modelUpdateContext,kg.$$c['datasource'])}));ex()}},function(kf){kc()}))};cT.setActiveConnectionName=function(e){var ex={};ex['connectionName']=e;var kc={ns:'tabdoc',cmd:'set-active-connection-name'};var kd=bZ.newCommand(kc,ex);bJ.SendCommand(new bC('afterDelay',null,kd))};cT.selectDataServerDataSourceForProxy=function(e,ex,kc,kd,ke){var kf=new hB;kf.c['datasource']=kc;kf.c['datasourceDatabaseName']=ex.get_name();kf.c['repositoryUrl']=ex.get_repositoryUrl();kf.set_uiBlocking('immediately');var kg=kf;kg.invoke().then(function(kh){kd()},function(kh){ke()})};cT.connectionAddNewTable=function(e,ex){var kc={};kc['connectionName']=e;kc['tableName']=ex;var kd={ns:'tabdoc',cmd:'connection-add-new-table'};var ke=bZ.newCommand(kd,kc);bJ.SendCommand(new bC('immediately',null,ke))};cT.connectionChangeTableProperty=function(e,ex,kc){var kd={};kd['tableAlias']=e;kd['propertyName']=ex;kd['valueString']=kc;var ke={ns:'tabdoc',cmd:'connection-change-table-property'};var kf=bZ.newCommand(ke,kd);bJ.SendCommand(new bC('immediately',null,kf))};cT.buildFileTableInfoPresModel=function(e){var ex={};ex['tableAlias']=e;var kc={ns:'tabdoc',cmd:'build-file-table-info-pres-model'};var kd=bZ.newCommand(kc,ex);bJ.SendCommand(new bC('immediately',null,kd))};cT.getDataSourceDataPresModel=function(e,ex,kc){var kd=new eG;kd.set_commandCanceler(kc);kd.c['datasource']=e;kd.c['cacheOnly']=false;kd.c['useNotificationReturn']=true;kd.c['includeFormattedValues']=true;kd.set_uiBlocking('immediately');kd.invoke().fail(function(ke){ex(ke.toString())})};cT.getConnectionTypeGroupPresModel=function(e,ex,kc){var kd={};kd['connectionTypeGroup']=e;var ke=bZ.newCommand({ns:'tabsrv',cmd:'get-supported-connection-types'},kd);hN.executeServerCommand(ke,'none',function(kf){ex(kf)},kc)};cT.setDataSourceDataRowCount=function(e,ex,kc){var kd=new hY;kd.c['datasource']=e;kd.c['rowCount']=ex|0;kd.invoke().fail(function(ke){kc(ke.toString())})};cT.toggleDataInterpreter=function(e){var ex={};ex['connectionName']=e;var kc={ns:'tabdoc',cmd:'connection-toggle-table-cleaning'};var kd=bZ.newCommand(kc,ex);bJ.SendCommand(new bC('immediately',null,kd))};cT.changeJoinType=function(e,ex){var kc={};kc['tableAlias']=e;kc['joinType']=ex;var kd={ns:'tabdoc',cmd:'connection-edit-join-type'};var ke=bZ.newCommand(kd,kc);bJ.SendCommand(new bC('immediately',null,ke))};cT.changeJoinClauses=function(e,ex){var kc={};kc['tableAlias']=e;kc['joinClauses']=ex;var kd={ns:'tabdoc',cmd:'connection-edit-join-clauses'};var ke=bZ.newCommand(kd,kc);bJ.SendCommand(new bC('immediately',null,ke))};cT.connectionSelectDatabase=function(e){var ex=new cf;ex.c['datasourceDatabaseName']=e;ex.set_uiBlocking('immediately');ex.invoke()};cT.connectionSelectSchema=function(e){var ex=new ch;ex.c['datasourceSchemaName']=e;ex.set_uiBlocking('immediately');ex.invoke()};cT.connectionSelectWarehouse=function(e){var ex=new cj;ex.c['datasourceWarehouseName']=e;ex.set_uiBlocking('immediately');ex.invoke()};cT.renameConnection=function(e,ex){var kc=new cd;kc.c['connectionName']=e;kc.c['connectionCaption']=ex;kc.set_uiBlocking('immediately');kc.invoke()};cT.viewDataGetData=function(e,ex,kc,kd,ke,kf){var kg=new eS;kg.set_commandCanceler(kf);kg.c['datasource']=e;kg.c['dataProviderType']='table';kg.c['tableName']=ex;kg.c['useTablePtrs']=false;kg.c['topN']=kc|0;var kh=kg;kh.invoke().done(function(ki){kd(ki.$$c['showDataPresModel'])}).fail(function(ki){ke()})};cT.getDSParamsFromPresModelWithConnectionName=function(e,ex){var kc=new eI;kc.c['connectionName']=ex;kc.c['widgetConnectionParams']=cT.sanitizeConnectionParamsPresModel(e);return kc.invoke()};cT.getDSParamsFromPresModelWithConnectionClass=function(e,ex){var kc=new eI;kc.c['connectionClassName']=ex;kc.c['widgetConnectionParams']=cT.sanitizeConnectionParamsPresModel(e);return kc.invoke()};cT.sanitizeConnectionParamsPresModel=function(e){var ex=_.clone(e);ex.widgetAttrPassword='';ex.widgetAttrMdwPassword='';return ex};global.tab.DataConnectionCommands=cT;var cU=function(e){this.$2=null;gb.call(this,e,new gI('variablePromptDialog'.toString()))};cU.__typeName='tab.DataConnectionPromptModel';global.tab.DataConnectionPromptModel=cU;var cV=function(){};cV.__typeName='tab.DataConnectionUtils';cV.connectionNameFromFullConnectionName=function(e){var ex='';var kc=new RegExp('\\[(.)*?\\]','g');kc.exec(e);var kd=kc.exec(e);if(ss.isValue(kd)&&kd.length>1){ex=kd[0].substr(1,kd[0].length-2)}return ex};cV.stripDirectoryFromPath=function(e){var ex=e.lastIndexOf('\\')+1;if(ex===0){ex=e.lastIndexOf('/')+1}ex=Math.max(0,ex);return e.substring(ex)};cV.isEditConnectionSupported=function(e){return ss.contains(cc.get_getSupportedFileClasses(),e)};cV.isEditConnectionMultiFileAllowed=function(e){return ss.isNullOrEmptyString(e)||e==='textscan'};cV.isConnectionClassSupportedInReconnectFlow=function(e){return ss.contains(cc.get_getSupportedFileClasses(),e)||tab.FeatureFlags.isEnabled('WebCreateRelationalConnection')&&ss.contains(cc.get_getSupportedDatabaseClasses(),e)};cV.isDataTabSupportedForDataSource=function(e){var ex=S.get_instance().get_workbook().get_dataSchema().dataSources.getDataSource(e);return tsConfig.is_authoring&&ss.isValue(ex)&&ex.get_isDataTabViewSupported()};global.tab.DataConnectionUtils=cV;var cW=function(e){gb.call(this,e,new gI('promptVariables'.toString(),1))};cW.__typeName='tab.DataConnectionVariableArrayModel';global.tab.DataConnectionVariableArrayModel=cW;var cX=function(e,ex){this.$3=null;this.$2=null;gb.call(this,e,new gI(ex.toString()))};cX.__typeName='tab.DataConnectionVariableModel';global.tab.DataConnectionVariableModel=cX;var cY=function(e){gb.call(this,e,new gI('variableValues'.toString(),1))};cY.__typeName='tab.DataConnectionVariableValueArrayModel';global.tab.DataConnectionVariableValueArrayModel=cY;var cZ=function(e,ex){gb.call(this,e,new gI(ex.toString()))};cZ.__typeName='tab.DataConnectionVariableValueModel';global.tab.DataConnectionVariableValueModel=cZ;var da=function(e){this.$2=null;gb.call(this,e,new gI('dataDictionary'.toString()))};da.__typeName='tab.DataDictionaryModel';global.tab.DataDictionaryModel=da;var db=function(e){this.$3=null;this.$2$1=null;gb.call(this,e,new gI('dataHighlighter'.toString()))};db.__typeName='tab.DataHighlighterModel';global.tab.DataHighlighterModel=db;var dc=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.dataSources=null;this.currentBlendingFields=null;this.blendingFieldCandidates=null;gb.call(this,e,new gI('dataSchema'.toString()));this.dataSources=null};dc.__typeName='tab.DataSchemaModel';global.tab.DataSchemaModel=dc;var dd=function(){this.$2$1=null;gb.call(this,null,new gI('doc:data-schema-selection-event'.toString()))};dd.__typeName='tab.DataSchemaSelectionModel';global.tab.DataSchemaSelectionModel=dd;var de=function(e){this.$2$1=null;this.$2$2=null;this.numRows=0;this.isEmpty=false;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=null;gb.call(this,e,new gI('',0));this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new da(this)};de.__typeName='tab.DataSourceDataModel';global.tab.DataSourceDataModel=de;var df=function(e,ex){this.$1=null;this.$2$1=null;this.$2$2=null;this.baseColumnsModel=null;this.$2$3=0;gb.call(this,e,new gI(ex,0));this.baseColumnsModel=new dW('fieldList',this)};df.__typeName='tab.DataSourceModel';df.splitGlobalFieldName=function(e){return df.$0(e).split('].[')};df.$0=function(e){var ex=e;if(ex.length>=2&&ex.charCodeAt(0)===91&&ex.charCodeAt(ex.length-1)===93){return ex.substr(1,ex.length-2)}return ex};global.tab.DataSourceModel=df;var dg=function(e){this.$1=null;gb.call(this,e,new gI('dataSources'.toString()));this.$1={}};dg.__typeName='tab.DataSourcesModel';global.tab.DataSourcesModel=dg;var dh=function(){};dh.__typeName='tab.DefaultCommandDispatcher';dh.get_instance=function(){dh.$0=dh.$0||new dh;return dh.$0};global.tab.DefaultCommandDispatcher=dh;var di=function(e,ex){this.$8=null;this.$9=null;this.$8=e;this.$9=ex};di.__typeName='tab.DefaultSessionErrorHandler';global.tab.DefaultSessionErrorHandler=di;var dj=function(){this.$1=false;this.$0=false};dj.__typeName='tab.DeferLayoutImpl';dj.get_instance=function(){if(ss.isNullOrUndefined(dj.$0)){dj.$0=new dj}return dj.$0};global.tab.DeferLayoutImpl=dj;var dk=function(e){this.$6=null;this.$7=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad');this.$6=e};dk.__typeName='tab.DeferredConnectionsCommandHandler';dk.shouldHandleWithGivenStatus=function(e){switch(e){case 401:case 503:case 500:{return true}default:{return false}}};dk.constructEnsureLayoutForSheetCommand=function(){var e=ie.createSwitchSheetsCommand(tsConfig.current_sheet_name);e.commandParams['forceConnectionAttempt']=true;return gU.create(e,'immediately')};dk.$0=function(e){var ex={};ex['exception']='DataSourceException';ex['name']=e.datasourceCaption;ex['message']=e.exceptionMessage;ex['type']=e.exceptionType;ex['authoring']=tsConfig.is_authoring;ex['attributes']=e.exceptionAttrs;var kc=ss.formatString('{0}/{1}/embeddedVizAuthentication.html?',tab.BrowserSupport.getOrigin(document.location),tsConfig.language);kc=ss.formatString('{0}path={1}',kc,encodeURIComponent(tsConfig.requestURI));kc=ss.formatString('{0}&attributes={1}',kc,encodeURIComponent(JSON.stringify(ex)));return kc};dk.isBadPasswordError=function(e){e=e.toLowerCase();var ex=ss.equalsT('badpassword',e)||ss.equalsT('badoauthcredentials',e)||ss.equalsT('NoAssociatedCustomOAuthKey'.toLowerCase(),e);return ex};dk.$1=function(){return tab.FeatureFlags.isEnabled('DataToTheWeb')&&tab.FeatureFlags.isEnabled('DataToTheWebEdits')&&tab.FeatureFlags.isEnabled('WebCreateConnection')&&tsConfig.is_authoring&&tab.MiscUtil.shouldShowDataTab()};dk.$2=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.exceptionAttrs)){return false}var ex=e.exceptionAttrs['class'];return dk.$1()&&cV.isDataTabSupportedForDataSource(e.datasource)&&ss.contains(cc.get_getSupportedDatabaseClasses(),ex)};global.tab.DeferredConnectionsCommandHandler=dk;var dl=function(){this.$0=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')};dl.__typeName='tab.DeferredConnectionsSessionErrorHandler';global.tab.DeferredConnectionsSessionErrorHandler=dl;var dm=function(){this.$0=null;this.exceptionHandler=null};dm.__typeName='tab.DeferredModelEventHandler';global.tab.DeferredModelEventHandler=dm;var dn=function(e){this.$1=null;this.$2=null;this.$2$1=null;gb.call(this,e,new gI('deviceLayoutInfoItem'.toString()));this.$1=[];this.$2=new k(new j(this))};dn.__typeName='tab.DeviceLayoutInfoItemModel';global.tab.DeviceLayoutInfoItemModel=dn;var dp=function(){};dp.__typeName='tab.DialogPlugins';dp.getDialogHandlerCreator=function(e,ex){var kc=null;return function(kd){if(ss.isNullOrUndefined(kc)){kc=new gC(kd,e,document.body,ex)}return kc}};dp.$0=function(e,ex,kc,kd){var ke=gf.registerRawJsModule(e,ex+'.min',ex).andLoadOnDemandIf(true).moduleBeingConfigured;for(var kf=0;kf<dp.$3.length;kf++){var kg=dp.$3[kf];ke.addDependency(kg)}gj.registerHandlerFromJsModule(e,kc,dp.getDialogHandlerCreator(kc,kd));return ke};dp.$2=function(){var e=[];e.push(gf.registerRawJsModule('@tableau/dialog-api-contract','dialog-api-contract-web.min','dialog-api-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured);e.push(gf.registerRawJsModule('@tableau/menu-api-contract','menu-api-contract-web.min','menu-api-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured);return e};dp.$1=function(e,ex){if(ss.keyExists(dp.$4,e)){return dp.$4[e]}var kc=gf.registerRawJsModule(e,ex+'.min',ex).andLoadOnDemandIf(true).moduleBeingConfigured;dp.$4[e]=kc;return kc};global.tab.DialogPlugins=dp;var dq=function(e){this.$3$1=null;this.$3$2=null;iW.call(this,e,new gI('differenceTableCalcPresModel'.toString()));this.set_referenceModel(new iJ(this))};dq.__typeName='tab.DifferenceTableCalcModel';global.tab.DifferenceTableCalcModel=dq;var dr=function(){ss.makeGenericType(W,[Object,ds]).call(this)};dr.__typeName='tab.DoubleClickRegionNoReturnServerCmd';global.tab.DoubleClickRegionNoReturnServerCmd=dr;var ds=function(e){this.$$c=null;this.$$c=e};ds.__typeName='tab.DoubleClickRegionNoReturnServerCmd$Response';global.tab.DoubleClickRegionNoReturnServerCmd$Response=ds;var dt=function(){this.woffLocation=null;eo.call(this)};dt.__typeName='tab.DownloadableFontProperties';global.tab.DownloadableFontProperties=dt;var du=function(){};du.__typeName='tab.DownloadableFontPropertiesExtensions';du.toDownloadableFontProperties=function(e,ex){var kc=new dt;kc.set_fontFamily(e.get_fontFamily());kc.set_style(e.get_style());kc.set_weight(e.get_weight());kc.woffLocation=ex;return kc};global.tab.DownloadableFontPropertiesExtensions=du;var dv=function(){ss.makeGenericType(jz,[Object,dw]).call(this)};dv.__typeName='tab.DownloadWorkbookCmd';dv.get_commandName=function(){return'download-workbook'};global.tab.DownloadWorkbookCmd=dv;var dw=function(e){this.$$c=null;this.$$c=e};dw.__typeName='tab.DownloadWorkbookCmd$Response';global.tab.DownloadWorkbookCmd$Response=dw;var dx=function(){};dx.__typeName='tab.DrawItemFontExtractor';global.tab.DrawItemFontExtractor=dx;var dy=function(e){this.$1=null;dV.call(this,e)};dy.__typeName='tab.DrillPathModel';global.tab.DrillPathModel=dy;var dz=function(){ss.makeGenericType(W,[Object,dA]).call(this)};dz.__typeName='tab.DropOnDashboardCmd';global.tab.DropOnDashboardCmd=dz;var dA=function(e){this.$$c=null;this.$$c=e};dA.__typeName='tab.DropOnDashboardCmd$Response';global.tab.DropOnDashboardCmd$Response=dA;var dB=function(){ss.makeGenericType(W,[Object,dC]).call(this)};dB.__typeName='tab.DropOnSchemaDrillPathCmd';global.tab.DropOnSchemaDrillPathCmd=dB;var dC=function(e){this.$$c=null;this.$$c=e};dC.__typeName='tab.DropOnSchemaDrillPathCmd$Response';global.tab.DropOnSchemaDrillPathCmd$Response=dC;var dD=function(){ss.makeGenericType(W,[Object,dE]).call(this)};dD.__typeName='tab.DropOnSchemaFieldCmd';global.tab.DropOnSchemaFieldCmd=dD;var dE=function(e){this.$$c=null;this.$$c=e};dE.__typeName='tab.DropOnSchemaFieldCmd$Response';global.tab.DropOnSchemaFieldCmd$Response=dE;var dF=function(){ss.makeGenericType(W,[Object,dG]).call(this)};dF.__typeName='tab.DropOnSchemaSectionCmd';global.tab.DropOnSchemaSectionCmd=dF;var dG=function(e){this.$$c=null;this.$$c=e};dG.__typeName='tab.DropOnSchemaSectionCmd$Response';global.tab.DropOnSchemaSectionCmd$Response=dG;var dH=function(e){gb.call(this,e,new gI('',0))};dH.__typeName='tab.DSColumnInfoModel';global.tab.DSColumnInfoModel=dH;var dI=function(e,ex){this.$2$1=null;gb.call(this,e,new gI(ex.toString()))};dI.__typeName='tab.EditValueWidgetModel';global.tab.EditValueWidgetModel=dI;var dJ=function(e){this.$0=null;this.$0=e.slice(0)};dJ.__typeName='tab.ErrorHandlerChain';global.tab.ErrorHandlerChain=dJ;var dK=function(){ss.makeGenericType(W,[Object,dL]).call(this)};dK.__typeName='tab.EstablishConnectionCmd';global.tab.EstablishConnectionCmd=dK;var dL=function(e){this.$$c=null;this.$$c=e};dL.__typeName='tab.EstablishConnectionCmd$Response';global.tab.EstablishConnectionCmd$Response=dL;var dM=function(){ss.makeGenericType(W,[Object,dN]).call(this)};dM.__typeName='tab.EstablishConnectionNoUndoCmd';global.tab.EstablishConnectionNoUndoCmd=dM;var dN=function(e){this.$$c=null;this.$$c=e};dN.__typeName='tab.EstablishConnectionNoUndoCmd$Response';global.tab.EstablishConnectionNoUndoCmd$Response=dN;var dO=function(){};dO.__typeName='tab.ExportServerCommands';dO.exportImage=function(e,ex,kc,kd,ke){var kf={};if(ss.isValue(e)){kf['sheet']=e}kf['storyPointId']=ex;kf['scrollOffsetSheets']=JSON.stringify(kd);var kg=ke.length;var kh=new Array(kg);for(var ki=0;ki<kg;ki++){var kj={};kj.x=ss.round(ke[ki].x);kj.y=ss.round(ke[ki].y);kh[ki]=kj}kf['scrollOffsetPoints']=JSON.stringify(kh);var kk=bZ.newCommand({ns:'tabsrv',cmd:'png-export-server'},kf);hN.executeServerCommand(kk,'immediately',function(kl){var km=kl;var kn=bJ.get().get_legacySession();kn.fileDownloadHelper.openDownload(kn.formatSessionTempfileReference(km.tempfileKey,true,true),kc)},null)};global.tab.ExportServerCommands=dO;var dP=function(){};dP.__typeName='tab.ExtensionClientCommands';dP.showChooseExtensionDialog=function(e){var ex=new hD;ex.c['zoneId']=e|0;var kc=ex;kc.invoke()};global.tab.ExtensionClientCommands=dP;var dQ=function(e){this.$1=null;this.$2$1=null;gb.call(this,e,new gI('addInZone'.toString()));this.$1=e.get_zone()};dQ.__typeName='tab.ExtensionZoneModel';global.tab.ExtensionZoneModel=dQ;var dR=function(){};dR.__typeName='tab.ExtraHtmlMarkupRemover';dR.stripOutMarkup=function(e){if(ss.isNullOrEmptyString(e)){return e}var ex=[];ex.push(new RegExp('<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>','gi'));ex.push(new RegExp('<html.*?>.+?</html.*?>','gi'));var kc=ex;for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];e=e.replace(ke,'')}return e};global.tab.ExtraHtmlMarkupRemover=dR;var dS=function(){};dS.__typeName='tab.FailureHandler';dS.reportFailures=function(){if(tab.ErrorTrace.hasTraces()){var e=tab.ErrorTrace.dequeueTraces();var ex={};var kc=e[0].url;var kd=e[0].userAgent;var ke=0;for(var kf=0;kf<e.length;kf++){var kg=e[kf];ex['Error #'+ke.toString()]=dS.postContentForStackTrace(kg);ke++}bJ.get().get_legacySession().$8(kc,kd,ex)}};dS.postContentForStackTrace=function(e){var ex=new ss.StringBuilder;ex.appendLine('name: '+e.name);ex.appendLine('message: '+e.message);ex.appendLine('error-mode: '+e.traceMode.toString());if(ss.isValue(e.locations)){ex.appendLine('stack:');for(var kc=0;kc<e.locations.length;kc++){var kd=e.locations[kc];if(ss.isNullOrUndefined(kd.url)&&ss.isNullOrUndefined(kd.lineNo)&&ss.isNullOrUndefined(kd.functionName)){continue}ex.appendLine();ex.append(kd.url+':'+kd.lineNo+','+kd.columnNo+' '+kd.functionName);if(ss.isValue(kd.context)&&kd.context.length>0){for(var ke=0;ke<kd.context.length;ke++){var kf=kd.context[ke];var kg=kf;if(kf.length>120){if(ss.isValue(kd.functionName)&&kf.indexOf(kd.functionName)>0){var kh=kf.indexOf(kd.functionName);var ki=Math.max(0,kh-60);var kj=Math.min(ki+120,kf.length-1);kg=kf.substring(ki,kj)}else{kg=kf.substr(0,120)}}ex.append('    '+kg.trim())}}}}return ex.toString()};dS.dispose=function(){dS.reportFailures();window.clearInterval(dS.$2);dS.$2=-1};global.tab.FailureHandler=dS;var dT=function(e){dV.call(this,e)};dT.__typeName='tab.FieldColumnModel';global.tab.FieldColumnModel=dT;var dU=function(){};dU.__typeName='tab.FieldInstanceType';global.tab.FieldInstanceType=dU;var dV=function(e){gb.call(this,e,new gI('field'.toString()))};dV.__typeName='tab.FieldModel';dV.getField=function(e,ex,kc){if(ss.isNullOrUndefined(e)||e.length<=0){return null}for(var kd=0;kd<e.length;kd++){var ke=e[kd];switch(kc){case'localName':{if(ss.referenceEquals(ke.get_localName(),ex)){return ke}break}case'globalName':{if(ss.referenceEquals(ke.get_globalName(),ex)){return ke}break}case'qualifiedLocalName':{if(ss.referenceEquals(ke.get_qualifiedLocalName(),ex)){return ke}break}case'description':{if(ss.referenceEquals(ke.get_description(),ex)){return ke}break}case'userCaption':{if(ss.referenceEquals(ke.get_userCaption(),ex)){return ke}break}case'displayName':{if(ss.referenceEquals(ke.get_displayName(),ex)){return ke}break}default:{return null}}}return null};global.tab.FieldModel=dV;var dW=function(e,ex){this.$9=null;this.$e=null;this.$d=null;this.$c=null;this.$a=null;this.$b=null;this.fieldsChanged=null;this.rootFields=null;gb.call(this,ex,new gI(e,0));this.$b=ex;this.$9={};this.$e={};this.$d={};this.$c={}};dW.__typeName='tab.FieldsModel';global.tab.FieldsModel=dW;var dX=function(){};dX.__typeName='tab.FieldValueType';global.tab.FieldValueType=dX;var dY=function(e){this.$2=0;this.$0=null;this.cl={};this.$1=0;this.$2=e;this.$0=new Array(e)};dY.__typeName='tab.FifoCache';global.tab.FifoCache=dY;var dZ=function(e,ex){this.$2=null;this.$3=null;this.$2=e;this.$3=ex};dZ.__typeName='tab.FileDownloadHelper';global.tab.FileDownloadHelper=dZ;var ea=function(){this.$1$1=null};ea.__typeName='tab.FileUploadTelemetry';ea.getInstance=function(){if(ss.isNullOrUndefined(ea.$1)){ea.$1=new ea}return ea.$1};global.tab.FileUploadTelemetry=ea;var eb=function(){};eb.__typeName='tab.FileUploadTelemetry$AddReplaceType';global.tab.FileUploadTelemetry$AddReplaceType=eb;var ec=function(){};ec.__typeName='tab.FileUploadTelemetry$ErrorType';global.tab.FileUploadTelemetry$ErrorType=ec;var ed=function(){};ed.__typeName='tab.FileUploadTelemetry$FileUploadOrigin';global.tab.FileUploadTelemetry$FileUploadOrigin=ed;var ee=function(){};ee.__typeName='tab.FileUploadTelemetry$FileUploadReason';global.tab.FileUploadTelemetry$FileUploadReason=ee;var ef=function(){};ef.__typeName='tab.FileUploadTelemetry$RetryType';global.tab.FileUploadTelemetry$RetryType=ef;var eg=function(){};eg.__typeName='tab.FilterClientCommands';eg.setQuantitativeFilterRange=function(e,ex,kc,kd,ke){var kf=bZ.newCommand({ns:'tabdoc',cmd:'range-filter'},{});bZ.addVisualIdToCommand(kf.commandParams,e);kf.commandParams['globalFieldName']=ex;if(ss.isValue(kc)){kf.commandParams['filterRangeMin']=kc.toString()}if(ss.isValue(kd)){kf.commandParams['filterRangeMax']=kd.toString()}kf.commandParams['included']=ke.toString();hN.executeServerCommand(kf,'immediately')};eg.setCategoricalFilterValues=function(e,ex,kc,kd,ke){var kf={};bZ.addVisualIdToCommand(kf,e);kf['globalFieldName']=ex;kf['filterValues']=JSON.stringify(kd||[]);kf['filterUpdateType']=kc.toString();kf['heuristicCommandReinterpretation']=ke;hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'categorical-filter'},kf),'immediately')};eg.setCategoricalFilterValuesByIndex=function(e,ex,kc,kd){if(!ss.isValue(kc)){kc='filter-replace'}if(!ss.isValue(kd)){kd=[]}var ke={};bZ.addVisualIdToCommand(ke,e);ke['globalFieldName']=ex;ke['filterIndices']=JSON.stringify(kd);ke['filterUpdateType']=kc.toString();hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'categorical-filter-by-index'},ke),'immediately')};eg.modifyCategoricalFilterValues=function(e,ex,kc,kd,ke){if((!ss.isValue(kc)||kc.length===0)&&(!ss.isValue(kd)||kd.length===0)){return}var kf={};bZ.addVisualIdToCommand(kf,e);kf['globalFieldName']=ex;if(ss.isValue(kc)&&kc.length>0){kf['filterAdd']=JSON.stringify(kc)}if(ss.isValue(kd)&&kd.length>0){kf['filterRemove']=JSON.stringify(kd)}kf['filterUpdateType']='filter-delta'.toString();if(ke){kf['filterUpdateQualifierType']='filter-update-custom-domain'.toString()}hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'categorical-filter'},kf),'immediately')};eg.modifyCategoricalFilterValuesByIndex=function(e,ex,kc,kd){if((!ss.isValue(kc)||kc.length===0)&&(!ss.isValue(kd)||kd.length===0)){return}var ke={};bZ.addVisualIdToCommand(ke,e);ke['globalFieldName']=ex;if(ss.isValue(kc)){ke['filterAddIndices']=JSON.stringify(kc)}if(ss.isValue(kd)){ke['filterRemoveIndices']=JSON.stringify(kd)}ke['filterUpdateType']='filter-delta'.toString();hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'categorical-filter-by-index'},ke),'immediately')};eg.setCategoricalQuickFilterMode=function(e,ex,kc){var kd={};bZ.addVisualIdToCommand(kd,e);kd['categoricalMode']=kc.toString();kd['fn']=ex;hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'categorical-quick-filter-mode'},kd),'immediately')};eg.setCategoricalQuickFilterDomain=function(e,ex,kc){var kd={};bZ.addVisualIdToCommand(kd,e);kd['filterDomainType']=kc.toString();kd['fn']=ex;hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'domain-quick-filter'},kd),'immediately')};eg.setPatternFilterState=function(e,ex,kc){var kd={};bZ.addVisualIdToCommand(kd,e);kd['patternFilterString']=kc;kd['fn']=ex;hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'categorical-quick-filter-pattern'},kd),'immediately')};eg.addManualFilterItems=function(e,ex,kc){var kd={charsetId:0,name:''};var ke={dataType:'cstring',stringCollation:kd};var kf=kc['tuples'];var kg=[];for(var kh=0;kh<kf.length;kh++){var ki=kf[kh];kg.push(ki['d'])}ke.dataValues=kg;var kj={};bZ.addVisualIdToCommand(kj,e);kj['dataColumn']=JSON.stringify(ke);kj['fn']=ex;hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'add-manual-items-to-filter'},kj),'immediately')};eg.levelDrill=function(e,ex,kc,kd){var ke={};bZ.addVisualIdToCommand(ke,e);ke['boolAggregateDrillUp']=kd.toString();ke['shelfType']=kc.toString();ke['position']=ex.toString();hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'level-drill-up-down'},ke),'immediately')};eg.updateCategoricalFilter=function(e){if(!S.get_instance().get_isLocalRenderMode()){return}var ex=function(){return true};var kc=function(kd,ke){var kf=jp.lookupAlias(ke,kd,S.get_instance().get_dataDictionary());return!e.includesValue(kf)};eg.$5(e.get_filterField(),e.get_targetSheets(),ex,kc,true)};eg.updateQuantitativeFilter=function(e){if(!S.get_instance().get_isLocalRenderMode()){return}var ex=function(){var kd=!ss.isValue(e.get_currentMinVal())||ss.isValue(e.get_previousMinVal())&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(e.get_currentMinVal()),ss.unbox(e.get_previousMinVal()));var ke=!ss.isValue(e.get_currentMaxVal())||ss.isValue(e.get_previousMaxVal())&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(e.get_currentMaxVal()),ss.unbox(e.get_previousMaxVal()));return kd&&ke};var kc=function(kd,ke){var kf=jp.lookupRawDataValue(ke,kd,S.get_instance().get_dataDictionary());if(ss.isNullOrUndefined(kf)||kf==='%null%'){return false}if(kd.get_dataType()==='date'||kd.get_dataType()==='datetime'){var kg=tab.DateUtil.parsePresModelDate(kf);return!e.valueInRange(tab.DateUtil.dateTimeAsOleDate(kg))}else{return!e.valueInRange(parseFloat(kf))}};eg.$5(e.get_filterField(),e.get_targetSheets(),ex,kc,false)};eg.applyFilter=function(e,ex,kc){var kd=e.get_vizDataModel();var ke=kd.getVizDataField(ex);var kf=function(kg){return kc(ke,kg)};return ke.tupleIdsThatPass(kf)};eg.doRelativeDateQuickFilter=function(e,ex,kc,kd,ke){var kf=eg.createDoRelativeDateQuickFilterParams(e,ex,kc,kd,ke);hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'relative-date-filter'},kf),'immediately')};eg.doLevelHierarchialFilter=function(e,ex,kc,kd,ke){var kf=eg.$2(e,ex,kc,kd,ke);hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'hierarchical-filter'},kf),'immediately')};eg.doMemberHierarchialFilter=function(e,ex,kc,kd,ke){var kf=eg.$3(e,ex,kc,kd,ke);hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'hierarchical-filter'},kf),'immediately')};eg.doRangeHierarchialFilter=function(e,ex,kc,kd,ke){var kf=eg.$4(e,ex,kc,kd,ke);hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'hierarchical-filter'},kf),'immediately')};eg.resetQuantitativeFilter=function(e,ex){for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];var ke=ge.getVisualModel(S.get_instance(),kd);if(ss.isNullOrUndefined(ke)){continue}if(eg.$0(e,kd)){var kf=[];ke.setFilteredTuples(e,kf);ke.setHiddenTuples(e,kf)}jn.validateVisualModel(ke)}};eg.createDoRelativeDateQuickFilterParams=function(e,ex,kc,kd,ke,kf,kg){var kh={};bZ.addVisualIdToCommand(kh,e);kh['globalFieldName']=ex;kh['datePeriodType']=kc;kh['dateRangeType']=kd;if(kd==='lastn'||kd==='nextn'){kh['rangeN']=ke}if(ss.isValue(kf)){kh['anchorDate']=kf}if(ss.isValue(kg)){kh['included']=kg}return kh};eg.$2=function(e,ex,kc,kd,ke){var kf={};bZ.addVisualIdToCommand(kf,e);var kg={};kg['filterLevelAdd']=kc;kg['filterLevelRemove']=kd;kf['globalFieldName']=ex;kf['filterOptions']=kg;kf['filterUpdateType']=ke;return kf};eg.$3=function(e,ex,kc,kd,ke){var kf={};bZ.addVisualIdToCommand(kf,e);var kg={};kg['filterAdd']=kc;kg['filterRemove']=kd;kf['globalFieldName']=ex;kf['filterOptions']=kg;kf['filterUpdateType']=ke;return kf};eg.$4=function(e,ex,kc,kd,ke){var kf={};bZ.addVisualIdToCommand(kf,e);var kg={};kg['filterRangeAdd']=kc;kg['filterRangeRemove']=kd;kf['globalFieldName']=ex;kf['filterOptions']=kg;kf['filterUpdateType']=ke;return kf};eg.$0=function(e,ex){var kc=ge.getVisualModel(S.get_instance(),ex);return eg.$1(kc,e)};eg.$1=function(e,ex){if(ss.isValue(e)){return e.get_shouldUpdate()&&e.hasFilterFieldData(ex)}return false};eg.$5=function(e,ex,kc,kd,ke){var kf=new C(function(kg){for(var kh=0;kh<ex.length;kh++){var ki=ex[kh];var kj=ge.getVisualModel(S.get_instance(),ki);if(ss.isNullOrUndefined(kj)){continue}var kk=eg.$1(kj,e);if(!kk||!kc()||ss.isNullOrUndefined(kj.get_vizDataModel().getVizDataField(e))){if(!ke){ge.setVisualValidAndUpToDateStateOnModel(kg,kj,false)}}else{var kl=[];kl=eg.applyFilter(kj,e,kd);kj.setFilteredTuples(e,kl);if(!ke){kj.setHiddenTuples(e,kl)}ge.setVisualValidAndUpToDateStateOnModel(kg,kj,true)}}});kf.set_commandName((ke?{ns:'tabdoc',cmd:'categorical-filter'}.cmd:{ns:'tabdoc',cmd:'range-filter'}.cmd));bJ.SendCommand(kf)};global.tab.FilterClientCommands=eg;var eh=function(e){this.$1=null;this.$2$1=null;gb.call(this,e,new gI('flipboard'.toString()));this.$1=new iD(this);if((!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache'))&&ss.isNullOrUndefined(eh.presModelCache)){eh.presModelCache=new iE}};eh.__typeName='tab.FlipboardModel';global.tab.FlipboardModel=eh;var ei=function(e){this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;gb.call(this,e,new gI('flipboardNav'.toString()));this.$3=[]};ei.__typeName='tab.FlipboardNavigatorModel';global.tab.FlipboardNavigatorModel=ei;var ej=function(){};ej.__typeName='tab.FloatingToolbarClientCommands';ej.setDefaultMapToolSelectionCommand=function(e){var ex=bZ.newCommand({ns:'tabdoc',cmd:'default-map-tool-selection'},null);ex.commandParams={};ex.commandParams['defaultMapToolEnum']=e;bJ.SendCommand(new gU(ex,'immediately',null,null))};global.tab.FloatingToolbarClientCommands=ej;var ek=function(e){this.$1=null;dV.call(this,e)};ek.__typeName='tab.FolderModel';global.tab.FolderModel=ek;var el=function(){this.$1$1=null;this.$1$2=null};el.__typeName='tab.FontFamily';el.$ctor1=function(e,ex){this.$1$1=null;this.$1$2=null;this.set_fontGroup(e);this.set_fonts(ex)};global.tab.FontFamily=el;var em=function(){};em.__typeName='tab.FontFamilyProviderBuilder';em.createFontFamilyBuilder=function(){return new jb};global.tab.FontFamilyProviderBuilder=em;var en=function(){};en.__typeName='tab.FontNotificationUtil';en.add_fontPropertiesIdentified=function(e){en.$1$1=ss.delegateCombine(en.$1$1,e)};en.remove_fontPropertiesIdentified=function(e){en.$1$1=ss.delegateRemove(en.$1$1,e)};en.add_allFontsFound=function(e){en.$1$2=ss.delegateCombine(en.$1$2,e)};en.remove_allFontsFound=function(e){en.$1$2=ss.delegateRemove(en.$1$2,e)};en.notifyFontsFromVisualListPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex=new fc;var kc={type:'draw-group',drawItems:e.drawItems};en.$6(ex.extractFontFromPresModel(kc))};en.notifyFontsFromTextRegionPresModel=function(e){if(ss.isNullOrUndefined(e)){return}en.$6(en.$3(e.html))};en.getFontsFromUberTipDataPresModel=function(e){if(ss.isNullOrUndefined(e)){return[]}var ex={};for(var kc=0;kc<e.ubertipPaneDatas.length;kc++){var kd=e.ubertipPaneDatas[kc];var ke=en.$3(kd.htmlTooltip);for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];en.$1(ex,kg)}}return _.values(ex)};en.notifyFontsFromUberTipDataPresModel=function(e){en.$6(en.getFontsFromUberTipDataPresModel(e))};en.notifyFontsFromPagePresModel=function(e){if(ss.isNullOrUndefined(e)){return}en.$6(en.$3(e.titleHtml))};en.notifyFontsFromQuantitativeColorLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex={};en.$1(ex,en.$4(e.labelTextStyle));en.$2(ex,e.titleHtml);en.$6(_.values(ex))};en.notifyFontsFromCategoricalLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex={};en.$1(ex,en.$4(e.textStyle));en.$1(ex,en.$4(e.titleStyleModel));en.$1(ex,en.$4(e.selectedTextStyleModel));en.$2(ex,e.titleHtml);en.$6(_.values(ex))};en.notifyFontsFromServerRenderedLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var ex={};en.$2(ex,e.titleHtml);en.$6(_.values(ex))};en.notifyFontsFromUberTipPresModel=function(e){if(ss.isNullOrUndefined(e)){return}en.$6(en.$3(e.htmlTooltip))};en.$3=function(e){var ex={};en.$2(ex,e);return _.values(ex)};en.$4=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.fontName)){return new eo}var ex=new eo;ex.set_fontFamily(e.fontName);ex.set_weight(ss.coalesce(e.fontWeight,''));ex.set_style(ss.coalesce(e.fontStyle,''));return ex};en.notifyFontsFromTextStylePresModel=function(e){var ex=[];var kc=en.$4(e);if(!ss.isNullOrEmptyString(kc.get_fontFamily())){ex.push(kc)}en.$6(ex)};en.notifyFontsFromPDMarksPresModel=function(e){if(ss.isValue(e)&&ss.isValue(e.textStyleColumns)){var ex=e.textStyleColumns;if(ss.keyExists(ex,'font')){var kc=ex['font'];var kd=kc.dataValues.length;var ke={};for(var kf=0;kf<kd;kf++){en.$0(ke,ex,kf)}if(ss.getKeyCount(ke)>0){en.$6(_.values(ke))}}}};en.$1=function(e,ex){if(ss.isNullOrEmptyString(ex.get_fontFamily())){return}e[ex.get_hash()]=ex};en.$2=function(e,ex){if(ss.isNullOrEmptyString(ex)){return}var kc=$(ex).find('[style]').addBack();for(var kd=0;kd<kc.length;kd++){var ke=kc[kd].style.fontFamily;var kf=kc[kd].style.fontWeight;if(ss.isNullOrEmptyString(ke)){continue}var kg=new eo;kg.set_fontFamily(ke);kg.set_weight(kf);en.$1(e,kg)}};en.$0=function(e,ex,kc){var kd='';var ke='';var kf='';if(ss.keyExists(ex,'font_style')&&parseInt(ex['font_style'].dataValues[kc].toString())===1){ke='italic'}if(ss.keyExists(ex,'font_weight')&&parseInt(ex['font_weight'].dataValues[kc].toString())===1){kd='bold'}if(ss.keyExists(ex,'font')){kf=ex['font'].dataValues[kc].toString()}if(ss.isNullOrEmptyString(kf)){return}var kg=new eo;kg.set_fontFamily(kf);kg.set_weight(kd);kg.set_style(ke);var kh=kg;en.$1(e,kh)};en.$6=function(e){if(!ss.staticEquals(en.$1$1,null)&&!tab.MiscUtil.isNullOrEmpty(e)){en.$1$1(e)}};en.$5=function(){if(!ss.staticEquals(en.$1$2,null)){en.$1$2()}};global.tab.FontNotificationUtil=en;var eo=function(){this.$2='normal';this.$3='normal';this.$1='';this.$0=''};eo.__typeName='tab.FontProperties';global.tab.FontProperties=eo;var ep=function(e){this.$5=null;this.$6=false;this.$4=ss.mkdict(['line-drop',1]);this.$3$1=null;es.call(this,e)};ep.__typeName='tab.FormatContainerModel';ep.get_formatPaneModel=function(){return S.get_instance().get_workbook().get_formatPaneModel()};global.tab.FormatContainerModel=ep;var eq=function(e){es.call(this,e)};eq.__typeName='tab.FormatControlModel';global.tab.FormatControlModel=eq;var er=function(){};er.__typeName='tab.FormatItemExtensions';er.hasPreview=function(e){return e==='compositeContainer'||e==='tabGroup'};global.tab.FormatItemExtensions=er;var es=function(e){this.$2$1=null;gb.call(this,e,new gI('formatItem'.toString()))};es.__typeName='tab.FormatItemModel';es.createModel=function(e,ex,kc){switch(ex.typeOfFormatItem){case'formatContainer':{var kd=new ep(e);kd.update(ex,kc);return kd}case'formatControl':{var ke=new eq(e);ke.update(ex,kc);return ke}default:{return null}}};global.tab.FormatItemModel=es;var et=function(){};et.__typeName='tab.FormattingConverters';et.getCSSBorderStyle=function(e){var ex='solid';switch(e){case'bs-dashed':{ex='dashed';break}case'bs-dotted':{ex='dotted';break}case'bs-double':{ex='double';break}case'bs-groove':{ex='groove';break}case'bs-hidden':{ex='hidden';break}case'bs-inset':{ex='inset';break}case'bs-outset':{ex='outset';break}case'bs-ridge':{ex='ridge';break}case'bs-solid':{ex='solid';break}case'bs-none':{ex='none';break}default:{break}}return ex};et.makeStyledBoxCssDict=function(e,ex){var kc={};if(ss.isValue(e)){kc=et.makeBorderStyleDict(e);if(e.hasFill){var kd=bG.fromColorCode(e.fillColor);kc['background-color']=(ex?kd.toString():kd.toRgb())}}return kc};et.makeFormatStyleDict=function(e,ex){if(ss.isNullOrUndefined(e)){return{}}var kc={'font-size':e.fontSize+'pt',color:e.color};if(ss.isValue(e.fontName)&&ss.keyExists(et.$2,e.fontName)){kc['font-family']=et.$2[e.fontName]}else if(ss.isValue(e.fontName)){var kd=e.fontName.split(',');et.addDefaultFontForTableau(kd);for(var ke=0;ke<kd.length;ke++){kd[ke]=et.addQuotationMarks(kd[ke].trim(),false)}kc['font-family']=kd.join(',');et.$2[e.fontName]=kc['font-family']}if(ss.isValue(ex)){kc.color=ex}if(e.fontStyle==='font-style-italic'){kc['font-style']='italic'}if(e.fontWeight==='font-weight-bold'){kc['font-weight']='bold'}var kf='none';switch(e.textDecoration){case'text-decoration-overline':{kf='overline';break}case'text-decoration-strikethrough':{kf='line-through';break}case'text-decoration-underline':{kf='underline';break}}if(kf!=='none'){kc['text-decoration']=kf}if(ss.isValue(e.wrapMode)){switch(e.wrapMode){case'text-wrap-off':{kc['white-space']='nowrap';break}case'text-wrap-truncate':{kc['overflow-x']='hidden';break}}}return kc};et.addQuotationMarks=function(e,ex){if(tab.MiscUtil.isNullOrEmpty$3(e)){return(ex?"''":'""')}var kc=e.length-1;if(e.charCodeAt(0)===39&&e.charCodeAt(kc)===39||e.charCodeAt(0)===34&&e.charCodeAt(kc)===34){return e}if(e.indexOf(' ')!==-1){var kd=(ex?"'":'"');e=kd+e+kd}return e};et.makeBorderStyleDict=function(e){var ex={};if(ss.isValue(e.uw)){ex['border-width']=e.uw+'px'}if(ss.isValue(e.borderColor)){ex['border-color']=e.borderColor}if(ss.isValue(e.uw)){ex['border-style']=et.getCSSBorderStyle(e.borderStyle)}return ex};et.getTextBaseline=function(e){var ex='bottom';switch(e){case'v-align-bottom':{ex='bottom';break}case'v-align-top':{ex='top';break}case'v-align-center':{ex='middle';break}default:{break}}return ex};et.cleanUpFontFamilyStyles=function(e){var ex=e.find('span');for(var kc=0;kc<ex.length;++kc){var kd=ex.eq(kc);var ke=kd.css('font-family');if(!ss.isNullOrEmptyString(ke)){var kf={};var kg=[];kg.push(ke);if(ss.startsWithString(ke,"'")||ss.startsWithString(ke,'"')){ke=ke.substr(1,ke.length-2)}ke=et.$1(kd,kg,kf,ke,et.$4,'font-style','fontStyle',false);ke=et.$1(kd,kg,kf,ke,et.$5,'font-weight','fontWeight',true);et.$1(kd,kg,kf,ke,et.$3,'font-stretch','fontStretch',false);et.addDefaultFontForTableau(kg);if(kg.length>1){kf['font-family']=kg.join(',');kd.css(kf)}}}};et.addDefaultFontForTableau=function(e){var ex='tableau';var kc=false;var kd=e.length;for(var ke=0;ke<kd;ke++){var kf=e[ke].trim();for(var kg=0;kg<2;kg++){if(ss.startsWithString(kf,"'")||ss.startsWithString(kf,'"')){kf=kf.substr(1)}}if(ss.compareStrings(kf.substr(0,ex.length),ex,true)===0){kc=true;break}}if(kc){e.push('Arial');e.push('sans-serif')}};et.$1=function(e,ex,kc,kd,ke,kf,kg,kh){var ki=kd.toLowerCase();for(var kj=0;kj<ke.length;kj++){var kk=ke[kj];if(ss.endsWithString(ki,kk.item1)){kd=kd.substr(0,ki.lastIndexOf(kk.item1)).trim();ex.push("'"+kd+"'");if(!et.$0(e,kg)){kc[kf]=kk.item2}if(kh){return kd}}}return kd};et.$0=function(e,ex){return!ss.isNullOrEmptyString(e.prop('style')[ex])};global.tab.FormattingConverters=et;var eu=function(){};eu.__typeName='tab.FormattingUtil';eu.get_getBrowserStoredFontString=function(){return window.sessionStorage.getItem(eu.fontListStorageKey)};eu.get_hasBrowserStoredFontList=function(){return ss.isValue(eu.get_getBrowserStoredFontString())};eu.$0=function(){var ex=eu.get_getBrowserStoredFontString();if(ss.isNullOrUndefined(ex)){return null}var kc=null;try{kc=JSON.parse(ex)}catch(kd){var e=ss.Exception.wrap(kd);tab.ErrorTrace.report(e,false)}return kc};eu.compatibleFontNameList=function(){var e=eu.$0();if(ss.isValue(e)){return e}X.get_waitHandler().showAndLock();var ex=em.createFontFamilyBuilder();ex.addFontList((new jE(new iu.$ctor1(S.get_instance().get_serverFonts()))).get_fontFamilies());ex.addFontList((new iu).get_fontFamilies());var kc=ex.toFontFamilyProvider();var kd=[];var ke=kc.get_fontFamilies();for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];kd.push(kg.get_fontGroup())}window.sessionStorage.setItem(eu.fontListStorageKey,JSON.stringify(kd));X.get_waitHandler().unlock();X.get_waitHandler().nudge();return kd};global.tab.FormattingUtil=eu;var ev=function(){ss.makeGenericType(W,[Object,ew]).call(this)};ev.__typeName='tab.GetAlertMeasuresFromSelectionCmd';global.tab.GetAlertMeasuresFromSelectionCmd=ev;var ew=function(e){this.$$c=null;this.$$c=e};ew.__typeName='tab.GetAlertMeasuresFromSelectionCmd$Response';global.tab.GetAlertMeasuresFromSelectionCmd$Response=ew;var ey=function(){ss.makeGenericType(W,[Object,ez]).call(this)};ey.__typeName='tab.GetButtonConfigDialogCmd';global.tab.GetButtonConfigDialogCmd=ey;var ez=function(e){this.$$c=null;this.$$c=e};ez.__typeName='tab.GetButtonConfigDialogCmd$Response';global.tab.GetButtonConfigDialogCmd$Response=ez;var eA=function(){ss.makeGenericType(W,[Object,eB]).call(this)};eA.__typeName='tab.GetCharsetOptionsCmd';global.tab.GetCharsetOptionsCmd=eA;var eB=function(e){this.$$c=null;this.$$c=e};eB.__typeName='tab.GetCharsetOptionsCmd$Response';global.tab.GetCharsetOptionsCmd$Response=eB;var eC=function(){ss.makeGenericType(W,[Object,eD]).call(this)};eC.__typeName='tab.GetDashboardDragDropCmd';global.tab.GetDashboardDragDropCmd=eC;var eD=function(e){this.$$c=null;this.$$c=e};eD.__typeName='tab.GetDashboardDragDropCmd$Response';global.tab.GetDashboardDragDropCmd$Response=eD;var eE=function(){ss.makeGenericType(W,[Object,eF]).call(this)};eE.__typeName='tab.GetDashboardSizingCmd';global.tab.GetDashboardSizingCmd=eE;var eF=function(e){this.$$c=null;this.$$c=e};eF.__typeName='tab.GetDashboardSizingCmd$Response';global.tab.GetDashboardSizingCmd$Response=eF;var eG=function(){ss.makeGenericType(W,[Object,eH]).call(this)};eG.__typeName='tab.GetDataSourceDataPresModelCmd';global.tab.GetDataSourceDataPresModelCmd=eG;var eH=function(e){this.$$c=null;this.$$c=e};eH.__typeName='tab.GetDataSourceDataPresModelCmd$Response';global.tab.GetDataSourceDataPresModelCmd$Response=eH;var eI=function(){ss.makeGenericType(W,[Object,eJ]).call(this)};eI.__typeName='tab.GetDSParamsFromPresModelCmd';global.tab.GetDSParamsFromPresModelCmd=eI;var eJ=function(e){this.$$c=null;this.$$c=e};eJ.__typeName='tab.GetDSParamsFromPresModelCmd$Response';global.tab.GetDSParamsFromPresModelCmd$Response=eJ;var eK=function(){ss.makeGenericType(W,[Object,eL]).call(this)};eK.__typeName='tab.GetFileConnectionFileListCmd';global.tab.GetFileConnectionFileListCmd=eK;var eL=function(e){this.$$c=null;this.$$c=e};eL.__typeName='tab.GetFileConnectionFileListCmd$Response';global.tab.GetFileConnectionFileListCmd$Response=eL;var eM=function(){ss.makeGenericType(W,[Object,eN]).call(this)};eM.__typeName='tab.GetHasUnusedFilesCmd';global.tab.GetHasUnusedFilesCmd=eM;var eN=function(e){this.$$c=null;this.$$c=e};eN.__typeName='tab.GetHasUnusedFilesCmd$Response';global.tab.GetHasUnusedFilesCmd$Response=eN;var eO=function(){ss.makeGenericType(W,[Object,eP]).call(this)};eO.__typeName='tab.GetLocaleOptionsCmd';global.tab.GetLocaleOptionsCmd=eO;var eP=function(e){this.$$c=null;this.$$c=e};eP.__typeName='tab.GetLocaleOptionsCmd$Response';global.tab.GetLocaleOptionsCmd$Response=eP;var eQ=function(){ss.makeGenericType(W,[Object,eR]).call(this)};eQ.__typeName='tab.GetRuntimeDataModelCmd';global.tab.GetRuntimeDataModelCmd=eQ;var eR=function(e){this.$$c=null;this.$$c=e};eR.__typeName='tab.GetRuntimeDataModelCmd$Response';global.tab.GetRuntimeDataModelCmd$Response=eR;var eS=function(){ss.makeGenericType(W,[Object,eT]).call(this)};eS.__typeName='tab.GetShowDataPresModelCmd';global.tab.GetShowDataPresModelCmd=eS;var eT=function(e){this.$$c=null;this.$$c=e};eT.__typeName='tab.GetShowDataPresModelCmd$Response';global.tab.GetShowDataPresModelCmd$Response=eT;var eU=function(){ss.makeGenericType(W,[Object,eV]).call(this)};eU.__typeName='tab.GetThumbnailCmd';global.tab.GetThumbnailCmd=eU;var eV=function(e){this.$$c=null;this.$$c=e};eV.__typeName='tab.GetThumbnailCmd$Response';global.tab.GetThumbnailCmd$Response=eV;var eW=function(){ss.makeGenericType(W,[Object,eX]).call(this)};eW.__typeName='tab.GetURLSubstitutionKeywordsCmd';global.tab.GetURLSubstitutionKeywordsCmd=eW;var eX=function(e){this.$$c=null;this.$$c=e};eX.__typeName='tab.GetURLSubstitutionKeywordsCmd$Response';global.tab.GetURLSubstitutionKeywordsCmd$Response=eX;var eY=function(){ss.makeGenericType(W,[Object,eZ]).call(this)};eY.__typeName='tab.GetWebCategoricalColorDialogCmd';global.tab.GetWebCategoricalColorDialogCmd=eY;var eZ=function(e){this.$$c=null;this.$$c=e};eZ.__typeName='tab.GetWebCategoricalColorDialogCmd$Response';global.tab.GetWebCategoricalColorDialogCmd$Response=eZ;var fa=function(){ss.makeGenericType(W,[Object,fb]).call(this)};fa.__typeName='tab.GetWebQuantitativeColorDialogCmd';global.tab.GetWebQuantitativeColorDialogCmd=fa;var fb=function(e){this.$$c=null;this.$$c=e};fb.__typeName='tab.GetWebQuantitativeColorDialogCmd$Response';global.tab.GetWebQuantitativeColorDialogCmd$Response=fb;var fc=function(){};fc.__typeName='tab.GroupFontExtractor';global.tab.GroupFontExtractor=fc;var fd=function(e){dT.call(this,e)};fd.__typeName='tab.GroupModel';global.tab.GroupModel=fd;var fe=function(){ss.makeGenericType(W,[Object,ff]).call(this)};fe.__typeName='tab.HighlightItemsByPatternMatchCmd';global.tab.HighlightItemsByPatternMatchCmd=fe;var ff=function(e){this.$$c=null;this.$$c=e};ff.__typeName='tab.HighlightItemsByPatternMatchCmd$Response';global.tab.HighlightItemsByPatternMatchCmd$Response=ff;var fg=function(){};fg.__typeName='tab.HistoryManager';fg.setInitialState=function(e){var ex=fg.$1(e,null);tab.HistoryUtil.replaceState(window.self,ex.associatedState,null,null)};fg.addToHistory=function(e,ex){var kc=fg.$1(e,ex);tab.HistoryUtil.pushState(window.self,kc.associatedState,null,null);return kc};fg.$1=function(e,ex){fg.$0();var kc={id:fg.$8,key:'_vql_state_'};var kd={onBack:e,onForward:ex,id:fg.$8,associatedState:kc};fg.$8++;fg.$5.set(kd.id,kd);fg.$7=fg.$8;return kd};fg.$0=function(){if(fg.$7<fg.$8){for(var e=fg.$7+1;e<=fg.$8;e++){fg.$5.delete(e)}}};fg.$3=function(e){if(ss.isNullOrUndefined(e)){return}var ex=e;if(ss.isNullOrUndefined(ex.state)||ss.isNullOrUndefined(ex.state.key)||ex.state.key!=='_vql_state_'){return}fg.$4(ex.state)};fg.$4=function(e){var ex=e.id<fg.$7;var kc=fg.$5.get(e.id);if(ss.isNullOrUndefined(kc)){return}fg.$2(ex,kc);fg.$7=e.id};fg.$2=function(e,ex){if(e){if(!ss.staticEquals(ex.onBack,null)){ex.onBack()}}else if(!ss.staticEquals(ex.onForward,null)){ex.onForward()}};global.tab.HistoryManager=fg;var fh=function(){ss.makeGenericType(W,[Object,fi]).call(this)};fh.__typeName='tab.HitTestSceneCmd';global.tab.HitTestSceneCmd=fh;var fi=function(e){this.$$c=null;this.$$c=e};fi.__typeName='tab.HitTestSceneCmd$Response';global.tab.HitTestSceneCmd$Response=fi;var fj=function(){};fj.__typeName='tab.HTMLEscape';global.tab.HTMLEscape=fj;var fk=function(){};fk.__typeName='tab.IBrushingModelInfo';global.tab.IBrushingModelInfo=fk;var fl=function(){};fl.__typeName='tab.ICommandCanceler';global.tab.ICommandCanceler=fl;var fm=function(){};fm.__typeName='tab.ICommandDispatcher';global.tab.ICommandDispatcher=fm;var fn=function(){};fn.__typeName='tab.ICommandModel';global.tab.ICommandModel=fn;var fo=function(){};fo.__typeName='tab.IContinuousRangeModel';global.tab.IContinuousRangeModel=fo;var fp=function(){};fp.__typeName='tab.IDataSourceDataNotification';global.tab.IDataSourceDataNotification=fp;var fq=function(){};fq.__typeName='tab.IDetachableNotificationHandler';global.tab.IDetachableNotificationHandler=fq;var fr=function(){};fr.__typeName='tab.IDrawItemFontExtractor';global.tab.IDrawItemFontExtractor=fr;var fs=function(){};fs.__typeName='tab.IExportImageHelper';global.tab.IExportImageHelper=fs;var ft=function(){};ft.__typeName='tab.IExportPdfHelper';global.tab.IExportPdfHelper=ft;var fu=function(){};fu.__typeName='tab.IHandleNotifications';global.tab.IHandleNotifications=fu;var fv=function(){this.$1=0;this.$0=null;this.$1=0;this.$0=[]};fv.__typeName='tab.ImageTileTracker';fv.$0=function(){fv.$2=fv.$2||new fv;return fv.$2};fv.$1=function(){return tab.Logger.lazyGetLogger(fv)};fv.incrementPendingCount=function(){fv.$0().$1++};fv.decrementPendingCount=function(){var e=fv.$0();if(e.$1>0){--e.$1;if(e.$1===0){for(var ex=0;ex<e.$0.length;ex++){var kc=e.$0[ex];try{kc()}catch(kd){var e=ss.Exception.wrap(kd)}}fv.reset()}}else{}};fv.callWhenImagesLoaded=function(e){if(fv.$0().$1===0){try{e()}catch(ex){var e=ss.Exception.wrap(ex)}}else{fv.$0().$0.push(e)}};fv.reset=function(){fv.$2=null};global.tab.ImageTileTracker=fv;var fw=function(e){this.$1=null;this.$2$1=null;gb.call(this,e,new gI('imageZone'.toString()));this.$1=e.get_zone()};fw.__typeName='tab.ImageZoneModel';global.tab.ImageZoneModel=fw;var fx=function(){};fx.__typeName='tab.IModelEventHandler';global.tab.IModelEventHandler=fx;var fy=function(){this.$0=null;this.$0=null};fy.__typeName='tab.IntersectionFontFamilyProviderBuilder';global.tab.IntersectionFontFamilyProviderBuilder=fy;var fz=function(){this.primarySheet=null;this.suppressActivation=null;this.layoutStatus=null;this.cmdResult=null;this.commandName=null};fz.__typeName='tab.InvalidationInfo';global.tab.InvalidationInfo=fz;var fA=function(){};fA.__typeName='tab.IRemoteCommandHandler';global.tab.IRemoteCommandHandler=fA;var fB=function(){};fB.__typeName='tab.ISessionErrorHandler';global.tab.ISessionErrorHandler=fB;var fC=function(){ss.makeGenericType(W,[Object,fD]).call(this)};fC.__typeName='tab.IsWebZoneUrlValidCmd';global.tab.IsWebZoneUrlValidCmd=fC;var fD=function(e){this.$$c=null;this.$$c=e};fD.__typeName='tab.IsWebZoneUrlValidCmd$Response';global.tab.IsWebZoneUrlValidCmd$Response=fD;var fE=function(e){this.moduleBeingConfigured=null;this.moduleBeingConfigured=e};fE.__typeName='tab.JsModuleConfigurationBuilder';global.tab.JsModuleConfigurationBuilder=fE;var fF=function(e,ex){this.moduleName=null;this.assemblyName=null;this.loadingMethod=null;this.isRawJavaScriptModule=false;this.shouldExportResult=false;this.exportResultName=null;this.waitUntilModuleReadyFunc=null;this.$0=[];this.$1=[];tab.Param.verifyString(e,'moduleName');this.moduleName=e;this.assemblyName=ss.coalesce(ex,e);this.loadingMethod='asynchronous'};fF.__typeName='tab.JsModuleInfo';global.tab.JsModuleInfo=fF;var fG=function(e,ex){this.$1=null;this.$2$1=null;gb.call(this,e,new gI('layer-encoding['+ex+']'));this.$1=new ga(this)};fG.__typeName='tab.LayerEncodingModel';global.tab.LayerEncodingModel=fG;var fH=function(e,ex,kc){this.layoutid=null;X.call(this,e,kc);this.layoutid=ex};fH.__typeName='tab.LayoutSession';global.tab.LayoutSession=fH;var fI=function(e){this.$1=null;this.parent=null;this.$0=null;this.$0=e;this.$1=[]};fI.__typeName='tab.LayoutTreeItem';global.tab.LayoutTreeItem=fI;var fJ=function(e){this.$5=null;this.$4=null;this.$2$1=null;this.rootNodes=null;gb.call(this,e,new gI('dashboardZoneHierarchy'.toString()));this.$5={};this.$4={};this.rootNodes=[]};fJ.__typeName='tab.LayoutTreeModel';fJ.$0=function(e){var ex={};if(ss.isValue(e)){for(var kc=0;kc<e.length;kc++){var kd=e[kc];ex[kd.zoneId]=new fI(kd)}}return ex};global.tab.LayoutTreeModel=fJ;var fK=function(e,ex,kc,kd){this.$3=null;this.$0=null;this.$4=null;this.$1=false;this.$2=false;this.$3=e;this.$0=ex;this.$2=kc;if(ss.isValue(kd)){this.$4=kd}else{this.$4=[]}};fK.__typeName='tab.LegacyCategoricalQuickFilterData';global.tab.LegacyCategoricalQuickFilterData=fK;var fL=function(e,ex){fM.call(this,e,ex)};fL.__typeName='tab.LegacyCategoricalQuickFilterModel';global.tab.LegacyCategoricalQuickFilterModel=fL;var fM=function(e,ex){this.$2$1=null;gb.call(this,e,new gI('filter['+ex.name.join('_')+']'));this.pm=ex};fM.__typeName='tab.LegacyFilterModel';fM.$1=function(e){if(ss.isValue(e)){var ex={t:e.t,v:e.v};tableau.format.isDateTimeWithNonMidnightTime(ex)}return false};fM.isQuantitativeTimestampFilter=function(e,ex,kc){var kd=fM.$1(ex)||fM.$1(kc);if(!kd&&ss.isValue(e)){if(ss.isValue(e.data)){kd=kd||fM.$1(e.data.min)||fM.$1(e.data.max)}if(!kd&&ss.isValue(e.range)){kd=kd||fM.$1(e.range.min)||fM.$1(e.range.max)}}return kd};fM.$0=function(e){return e.t==='t'||e.t==='d'};fM.isQuantitativeDateFilter=function(e,ex,kc){if(ss.isValue(ex)){return fM.$0(ex)}else if(ss.isValue(kc)){return fM.$0(kc)}else if(ss.isValue(e)){if(ss.isValue(e.data)){if(ss.isValue(e.data.min)){return fM.$0(e.data.min)}else if(ss.isValue(e.data.max)){return fM.$0(e.data.max)}}if(ss.isValue(e.range)){if(ss.isValue(e.range.min)){return fM.$0(e.range.min)}else if(ss.isValue(e.range.max)){return fM.$0(e.range.max)}}}return false};fM.isNormalValue=function(e){return ss.isValue(e)&&(ss.isNullOrUndefined(e.s)||ss.isNullOrUndefined(e.s))&&ss.isValue(e.v)};fM.timestampsWithSameDateOrNull=function(e){var ex=null;for(var kc=0;kc<e.length;kc++){var kd=e[kc];if(ss.isNullOrUndefined(kd)||kd.s==='n'||ss.isNullOrUndefined(kd.v)&&kd.t==='t'){continue}if(!fM.isNormalValue(kd)||kd.t!=='t'){return false}var ke=(ss.Nullable$1.ge(kd.v,0)?Math.floor(kd.v):Math.ceil(kd.v));if(ss.isValue(ex)&&ke!==ex){return false}ex=ke}return ss.isValue(ex)};global.tab.LegacyFilterModel=fM;var fN=function(e,ex){fM.call(this,e,ex)};fN.__typeName='tab.LegacyHierarchicalQuickFilterModel';global.tab.LegacyHierarchicalQuickFilterModel=fN;var fO=function(e){this.$2$1=null;gb.call(this,e,new gI('serverRenderedLegend'.toString()))};fO.__typeName='tab.LegacyLegendModel';global.tab.LegacyLegendModel=fO;var fP=function(e,ex){fM.call(this,e,ex)};fP.__typeName='tab.LegacyQuantitativeQuickFilterModel';global.tab.LegacyQuantitativeQuickFilterModel=fP;var fQ=function(e){this.$2=null;this.$3=null;this.$2$1=null;gb.call(this,e,new gI('quickFilterDisplay'))};fQ.__typeName='tab.LegacyQuickFilterDisplayModel';global.tab.LegacyQuickFilterDisplayModel=fQ;var fR=function(e,ex){fM.call(this,e,ex)};fR.__typeName='tab.LegacyRelativeDateQuickFilterModel';global.tab.LegacyRelativeDateQuickFilterModel=fR;var fS=function(e,ex){this.$1=0;this.$0=0;gR.call(this);if(e<=ex){this.$1=e;this.$0=ex}else{this.$1=ex;this.$0=e}};fS.__typeName='tab.LinearRangeTransform';global.tab.LinearRangeTransform=fS;var fT=function(e,ex,kc,kd){this.$1=0;this.$0=null;this.$3=null;this.$2=false;this.$1=e;this.$0=ex;this.$3=kc;this.$2=kd};fT.__typeName='tab.LocalUbertipInfo';global.tab.LocalUbertipInfo=fT;var fU=function(e,ex){var kc=function(kd){this.$0={};this.$2=new(ss.makeGenericType(i,[ss.makeGenericType(g,[e,ex])]));this.$1=0;this.$1=kd};ss.registerGenericClassInstance(kc,fU,[e,ex],{add:function(kd,ke){var kf=this.$0[kd];if(ss.isValue(kf)){this.delete$1(kd)}if(ss.getKeyCount(this.$0)===this.$1){this.delete$1(this.$2.$3.$0.$0)}kf=new(ss.makeGenericType(h,[ss.makeGenericType(g,[e,ex])]))(new(ss.makeGenericType(g,[e,ex]))(kd,ke));this.$0[kd]=kf;this.$2.$0(kf)},get:function(kd){var ke=this.$0[kd];if(ss.isValue(ke)){this.$2.$1(ke);this.$2.$0(ke);return ke.$0.$1}return ss.getDefaultValue(ex)},has:function(kd){return ss.keyExists(this.$0,kd)},delete$1:function(kd){if(!this.has(kd)){return}var ke=this.$0[kd];delete this.$0[kd];this.$2.$1(ke)},clear:function(){var kd=_.keys(this.$0);for(var ke=0,kf=kd.length;ke<kf;ke++){this.delete$1(kd[ke])}}},function(){return null},function(){return[]});return kc};fU.__typeName='tab.LruCache$2';ss.initGenericClass(fU,a,2);global.tab.LruCache$2=fU;var fV=function(e){this.$2$1=null;this.$2$2=null;gb.call(this,e,new gI('lightweightMapOptions'.toString()));this.pm={}};fV.__typeName='tab.MapOptionsInfoModel';global.tab.MapOptionsInfoModel=fV;var fW=function(e){this.$2$1=null;gb.call(this,e,new gI('mapScaleInfo'.toString()))};fW.__typeName='tab.MapScaleInfoModel';global.tab.MapScaleInfoModel=fW;var fX=function(e){this.$3=null;this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=false;gb.call(this,e,new gI('mapServer'.toString()));this.$3=new gQ(this);this.$2=new fW(this);this.set_allowLocalPanAndZoom(false)};fX.__typeName='tab.MapServerModel';global.tab.MapServerModel=fX;var fY=function(){iy.call(this,null,null,null,null,null)};fY.__typeName='tab.MarginDefinition';fY.$ctor1=function(e){iy.call(this,e.margin,e.marginLeft,e.marginRight,e.marginTop,e.marginBottom)};global.tab.MarginDefinition=fY;var fZ=function(e){this.$3=[];this.$2=null;this.$2$1=null;gb.call(this,e,new gI('marksCardPresModel'.toString()))};fZ.__typeName='tab.MarksCardModel';global.tab.MarksCardModel=fZ;var ga=function(e){this.$2=null;this.$3=null;this.$2$1=null;gb.call(this,e,new gI('markSize'.toString()));this.$2=e};ga.__typeName='tab.MarkSizeModel';global.tab.MarkSizeModel=ga;var gb=function(e,ex){this.pm=null;this.presModelKey=null;this.parent=null;this.parent=e;this.presModelKey=ex};gb.__typeName='tab.Model';gb.nonWorldUpdate=function(e){var ex=new dm;try{e({eventHandler:ex})}finally{if(ss.isValue(ex)){ex.dispose()}}};global.tab.Model=gb;var gc=function(e){var ex=function(){this.$1=null;this.$0=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null;this.$1$3=null};ss.registerGenericClassInstance(ex,gc,[e],{$2:function(kc){this.$1$1=ss.delegateCombine(this.$1$1,kc)},$3:function(kc){this.$1$1=ss.delegateRemove(this.$1$1,kc)},$6:function(kc){this.$1$2=ss.delegateCombine(this.$1$2,kc)},$7:function(kc){this.$1$2=ss.delegateRemove(this.$1$2,kc)},$4:function(kc){this.$1$3=ss.delegateCombine(this.$1$3,kc)},$5:function(kc){this.$1$3=ss.delegateRemove(this.$1$3,kc)},get_model:function(){return this.$1},set_model:function(kc){var kd=this.$1;this.$1=kc;if(!ss.referenceEquals(kd,this.$1)){if(ss.isValue(kd)&&!ss.staticEquals(this.$1$2,null)){this.$1$2(kd)}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$1)}if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},addModelChangedHandler:function(kc){this.$4(kc);if(ss.isValue(this.$1)){kc()}return this},removeModelChangedHandler:function(kc){this.$5(kc)},addEventBinding:function(kc,kd){this.$2(kc);if(ss.isValue(this.$1)){kc(this.$1)}this.$6(kd);return this},removeEventBinding:function(kc,kd){this.$3(kc);this.$7(kd);if(!ss.staticEquals(kd,null)&&ss.isValue(this.$1)){kd(this.$1)}},createChildModelHolder:function(kc){return function(kd){var ke=new(ss.makeGenericType(gc,[kc]));ke.$0.add$1(this.newDisposableContext().addModelChangedHandler(ss.mkdel(this,function(){var kf=null;if(ss.isValue(this.get_model())){kf=kd(this.get_model())}ke.set_model(kf)})));this.$0.add$1(ke);return ke}},dispose:function(){this.set_model(null);this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$0.dispose()},newDisposableContext:function(){return new(ss.makeGenericType(gd,[e]))(this)}},function(){return null},function(){return[ss.IDisposable]});return ex};gc.__typeName='tab.ModelHolder$1';ss.initGenericClass(gc,a,1);global.tab.ModelHolder$1=gc;var gd=function(e){var ex=function(kc){this.$0=null;this.$1=null;this.$0=new tab.DisposableHolder;this.$1=kc};ss.registerGenericClassInstance(ex,gd,[e],{addModelChangedHandler:function(kc){this.$1.addModelChangedHandler(kc);this.$0.add(ss.mkdel(this,function(){this.$1.removeModelChangedHandler(kc)}));return this},addEventBinding:function(kc,kd){this.$1.addEventBinding(kc,kd);this.$0.add(ss.mkdel(this,function(){this.$1.removeEventBinding(kc,kd)}));return this},dispose:function(){this.$0.dispose()}},function(){return null},function(){return[ss.IDisposable]});return ex};gd.__typeName='tab.ModelHolderContext$1';ss.initGenericClass(gd,a,1);global.tab.ModelHolderContext$1=gd;var ge=function(){};ge.__typeName='tab.ModelUtils';ge.getPendingZoneContentModel=function(e){if(!gK.get_progressiveLoadEnabled()){return null}var ex=(bJ.get_hasInstance()?bJ.get():null);if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.get_loader())){return null}return ex.get_loader().getPendingZoneContentModel(e)};ge.getViewSession=function(e){return ge.findContentDashboard().getViewSession(e)};ge.getModelsForViz=function(e){return function(ex,kc){var kd=[];if(ss.isValue(ex)){var ke=ex.get_zoneModels();for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];if(ss.isInstanceOfType(kg.get_model(),e)&&ss.referenceEquals(kg.get_worksheetName(),kc.get_worksheetName())){kd.push(kg.get_model())}}}return kd}};ge.getVisualModels=function(e){var ex=ge.findContentDashboard(e);return ge.getVisualModelsFromDashboard(ex)};ge.getVisualModelsFromDashboard=function(e){var ex={};if(ss.isNullOrUndefined(e)){return ex}var kc=e.get_zoneModels();for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];var kf=ke.get_visualModel();if(ss.isValue(kf)){ex[ke.get_worksheetName()]=kf}}if(gK.get_progressiveLoadEnabled()){var kg=(bJ.get_hasInstance()?bJ.get():null);if(ss.isValue(kg)&&ss.isValue(kg.get_loader())){var kh=kg.get_loader().getPendingVisuals();var ki=_.keys(kh);for(var kj=0;kj<ki.length;kj++){var kk=ki[kj];ex[kk]=kh[kk]}}}return ex};ge.getSheetInfoPresModel=function(e,ex){var kc=e.get_workbook();if(ss.isNullOrUndefined(kc)||ss.isNullOrUndefined(kc.get_sheetsInfo())){return null}var kd=kc.get_sheetsInfo();for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];if(ss.referenceEquals(kf.sheet,ex)){return kf}}return null};ge.getVisualModel=function(e,ex){var kc=null;var kd=ge.findContentDashboard(e);if(ss.isNullOrUndefined(kd)){return kc}var ke=kd.get_zoneModels();for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];var kh=kg.get_visualModel();if(ss.isValue(kh)){var ki=kg.get_worksheetName();if(ss.referenceEquals(ki,ex)){kc=kh;break}}}if(gK.get_progressiveLoadEnabled()&&ss.isNullOrUndefined(kc)){var kj=(bJ.get_hasInstance()?bJ.get():null);if(ss.isValue(kj)&&ss.isValue(kj.get_loader())){kc=kj.get_loader().getPendingVisual(ex)}}return kc};ge.getVisualModelFromVisualId=function(e,ex){if(ss.isNullOrUndefined(ex)){ex=S.get_instance()}var kc=null;var kd=ge.findContentDashboard(ex);if(ss.isNullOrUndefined(kd)){return kc}var ke=kd.get_zoneModels();for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];var kh=kg.get_visualModel();if(ss.isValue(kh)){if(_.isEqual(kh.get_visualId(),e)){kc=kh;break}}}return kc};ge.getVisualId=function(e){return ge.getVisualModel(S.get_instance(),e).get_visualId()};ge.getFirstAvailableWebZoneName=function(e){var ex=null;var kc=ge.findContentDashboard(e);if(ss.isNullOrUndefined(kc)){return ex}var kd=kc.get_zoneModels();for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];if(kf.get_zoneType()==='web'){var kg=kf.get_zoneId();ex='frame_'+kg.toString();break}}return ex};ge.isActiveZone=function(e){switch(tsConfig.current_sheet_type){case'dashboard':case'story':{return e===ge.findContentDashboard().get_activeZoneID()}case'worksheet':default:{return true}}};ge.getZoneIdForSheetName=function(e){var ex=ge.findContentDashboard();var kc=ex.get_zoneModels();for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];if(ke.get_zoneType()==='viz'&&ss.referenceEquals(ke.get_worksheetName(),e)){return ke.get_zoneId()}}return-1};ge.hasBorder=function(e){return e.get_borderStyle()!=='bs-none'&&e.get_borderWidth()!==0};ge.createFilterModel=function(e,ex){switch(ex.type){case'Q':{return new fP(e,ex)}case'H':{return new fN(e,ex)}case'C':{return new fL(e,ex)}case'RD':{return new fR(e,ex)}default:{return new fM(e,ex)}}};ge.findMatchingFilterModel=function(e,ex){var kc=ex.get_frame().param;return e.get_filterModels()[kc]};ge.setVisualValidAndUpToDateStateOnModel=function(e,ex,kc){if(ss.isNullOrUndefined(ex)){return}ex.setIsVisualValidAndUpToDate(kc,e.modelUpdateContext)};ge.invalidateVisuals=function(e){if(ss.isNullOrUndefined(e)){return}for(var ex=0;ex<e.length;ex++){var kc=e[ex];var kd=ge.getVisualModel(S.get_instance(),kc);if(ss.isValue(kd)){jn.invalidateVisualModel(kd)}}};ge.setVisualValidStateOnPresModel=function(e,ex){if(ss.isNullOrUndefined(ex)){return}e.makeMutablePresModel(ex,false).valid=false};ge.findContentDashboard=function(e){if(ss.isNullOrUndefined(e)){e=S.get_instance()}return e.get_workbook().findContentDashboard()};ge.findActiveVisual=function(){var e=ge.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}return e.get_activeVisual()};ge.findActiveOrDefaultVisual=function(){var e=ge.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}var ex=e.get_activeVisual();if(ss.isValue(ex)){return ex}var kc=e.get_zoneModels();for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];if(ss.isValue(ke.get_visualModel())){return ke.get_visualModel()}}return null};ge.reValidateVisualModels=function(e){var ex=ge.getVisualModels(S.get_instance());var kc=_.values(ex);for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];ke.reValidate(e)}};ge.findActivePaneSpecId=function(){var e=ge.findActiveOrDefaultVisual();if(ss.isValue(e)&&ss.isValue(e.get_marksCardModel())){return e.get_marksCardModel().get_activePaneSpecId()}return null};ge.hasAnyImpliedSelection=function(){var e=ge.getVisualModels(S.get_instance());var ex=_.keys(e);for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];var ke=e[kd];if(!ke.get_impliedSelectionModel().isEmpty){return true}}return false};ge.mergeMapPresModelDelta=function(e,ex){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)){return}var kc=_.keys(e);for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];var kf=ex[ke];if(typeof(kf)==='undefined'){ex[ke]=e[ke]}else if(kf===null){delete ex[ke]}}};ge.isLegacyMenuItemEnabled=function(e){var ex=S.get_instance().get_appPresModel().toolbarPresModel.legacyMenus;if(ss.isNullOrUndefined(ex)){return false}var kc=_.find(ex,function(kd){return kd.legacyMenuName===e});return ss.isValue(kc)&&_.every(kc.legacyMenuStates,function(kd){return kd!=='grayed'})};global.tab.ModelUtils=ge;var gf=function(){};gf.__typeName='tab.ModuleManager';gf.$1=function(e,ex){return((ex.length===0)?ss.createInstance(e):ss.applyConstructor(e,ex))};gf.load=function(e){return function(ex){var kc=gf.load$1(ss.getTypeFullName(e),ex);return kc}};gf.load$1=function(e,ex){tab.Param.verifyString(e,'uniqueModuleName');gf.$2();var kc=gf.$5(e);if(ss.keyExists(gf.$j,kc.moduleName)){return gf.$j[kc.moduleName]}var kd=$.Deferred();gf.$j[kc.moduleName]=kd;gf.$b(Object).call(null,kd,kc.moduleName);var ke='tab.'+kc.assemblyName+'Factory';kd.always(function(){gf.$i.moduleLoaded()});gf.$i.loadRequested();gf.$7(kc).done([function(){gf.$a(ex,kc,ke,kd)}]).fail([function(kf){var kg;var kh='Failed to load dependencies for the module: '+kc.moduleName;if(ss.isNullOrUndefined(kf)){kg=new ss.Exception(kh)}else{var ki=new ss.Exception(kf.toString());kg=new ss.Exception(kh,ki)}kd.reject(kg)}]);return kd};gf.$7=function(e){var ex=$.Deferred();if(!e.get_hasDependencies()){ex.resolve()}else{var kc=_.map(e.get_dependencies(),function(kh){return kh.moduleName});var kd=function(){ex.resolve()};var ke=function(kh){ex.reject(kh)};gf.loadModulesSequentially(kd,ke,kc)}if(e.get_hasDependenciesOnStylesheets()){var kf=ss.getEnumerator(e.get_stylesheetDependencies());try{while(kf.moveNext()){var kg=kf.current();gf.loadCss(kg)}}finally{kf.dispose()}}return ex};gf.$a=function(e,ex,kc,kd){switch(ex.loadingMethod){case'asynchronous':case'synchronous':{gf.$8(Object).call(null,e,ex,kc,kd);break}case'alreadyLoaded':default:{if(ex.isRawJavaScriptModule){gf.$c(ex,null,kd)}else{var ke='vql'+ex.assemblyName.toLowerCase();var kf=ss.load(ke);var kg=gf.$1(ss.getType(kc,kf),e);gf.$c(ex,kg,kd)}break}}};gf.loadModulesSequentially=function(e,ex,kc){kc=kc||[];var kd=0;gf.load$1(kc[kd],[]).done(function(){gf.$9(kc,e,1)}).fail(function(ke){if(!ss.staticEquals(ex,null)){ex(ke)}})};gf.register=function(e){return function(ex,kc){var kd='vql'+ex.toLowerCase();gf.$0(kd,(tsConfig.debugMode?(kd+'.debug'):kd));var ke=new fF(ex,kc);gf.$g[ss.getTypeFullName(e)]=ke;if(ss.keyExists(gf.$j,ke.moduleName)){delete gf.$j[ke.moduleName]}return new fE(ke)}};gf.registerDependencyModule=function(e,ex){return gf.registerRawJsModule(ex,e,ex)};gf.registerTypicalRawJsModule=function(e){return gf.registerRawJsModule(e,e+'.min',e)};gf.registerRawJsModule=function(e,ex,kc){gf.$0(e,(tsConfig.debugMode?kc:ex));var kd=new fF(e,null);gf.$g[e]=kd;if(ss.keyExists(gf.$j,kd.moduleName)){delete gf.$j[kd.moduleName]}return(new fE(kd)).andMarkAsRawJavaScriptModule()};gf.registerModulesLoadedCallback=function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('callback')}gf.$i.registerModulesLoadedCallback(e)};gf.isCssLoaded=function(e){if(gf.$f.has(e)){return true}var ex=document.getElementsByTagName('link');for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];if(ss.referenceEquals(kd.getAttribute('href'),e)&&kd.getAttribute('rel')==='stylesheet'){return true}}return false};gf.isScriptLoaded=function(e){var ex=document.getElementsByTagName('script');for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];if(ss.referenceEquals(kd.getAttribute('src'),e)){return true}}return false};gf.loadCss=function(e){if(gf.$f.has(e)){return}gf.$f.add(e);var ex=document.createElement('link');ex.setAttribute('type','text/css');ex.setAttribute('rel','stylesheet');ex.setAttribute('href',e);document.getElementsByTagName('head')[0].appendChild(ex)};gf.$8=function(e){return function(ex,kc,kd,ke){var kf=kc.moduleName.toLowerCase();if(!kc.isRawJavaScriptModule){kf='vql'+kf}var kg=kc.loadingMethod;if(kg==='synchronous'){X.get_waitHandler().showAndLock()}var kh=function(){if(kg==='synchronous'){X.get_waitHandler().unlock();X.get_waitHandler().nudge()}};var ki=gf.$4();var kj={};kj['d']='MDLOAD';kj['p']=kc.moduleName;requirejs([kf],function(kk){var kl;if(kc.isRawJavaScriptModule){kl=kk}else{var km=ss.load(kf);kl=gf.$1(ss.getType(kd,km),ex)}if(kc.shouldExportResult){if(typeof(window.self[kc.exportResultName])==='function'){throw new ss.Exception('Such function already defined: '+kc.exportResultName)}window.self[kc.exportResultName]=kk}var kn=$.Deferred();kn.done(function(){var ko=gf.$4();kj['t']=tabBootstrap.MetricsController.getTiming();kj['e']=ko-ki;var kp=new tabBootstrap.MetricsEvent('gen',15,kj);tabBootstrap.MetricsController.logEvent(kp);ke.resolve(kl)}).fail(function(ko){ke.reject(ko)}).always(function(){kh()});gf.$c(kc,kl,kn)},function(kk){kh();gf.$6(e).call(null,kk,ke)})}};gf.$c=function(e,ex,kc){if(ss.staticEquals(e.waitUntilModuleReadyFunc,null)){kc.resolve(ex)}else{var kd=e.waitUntilModuleReadyFunc();kd.done([function(){kc.resolve(ex)}]);kd.fail([function(ke){kc.reject(ke)}])}};gf.$4=function(){var e;try{e=window.performance.now()}catch(ex){e=(new Date).getTime()}return e};gf.$9=function(e,ex,kc){if(kc>=ss.count(e)){ex();return}gf.load$1(ss.getItem(e,kc),[]).done(function(){gf.$9(e,ex,kc+1)})};gf.$0=function(e,ex){gf.$h[e]=ex;if(gf.$k){requirejs.config({map:ss.mkdict(['*',gf.$h])})}};gf.$2=function(){if(gf.$k){return}gf.$k=true;requirejs.config({baseUrl:tsConfig.external_static_asset_prefix+'/javascripts',map:ss.mkdict(['*',gf.$h]),waitSeconds:60})};gf.$5=function(e){var ex=gf.$g[e];if(ss.isNullOrUndefined(ex)){throw new ss.Exception('Unknown module: '+e)}return ex};gf.$6=function(e){return function(ex,kc){var kd=gf.$3(ex);var ke=new ss.Exception(kd);kc.reject(ke)}};gf.$3=function(e){var ex=e.message;if(ss.isValue(e.requireModules)&&e.requireModules.length>0){var kc=e.requireModules.join(',');ex+='; Modules='+kc}if(!ss.isNullOrEmptyString(e.requireType)){ex+='; RequireType='+e.requireType}return ex};gf.$b=function(e){return function(ex,kc){ex.fail(function(kd){var ke=kd;delete gf.$j[kc];gf.reportException(ke)})}};gf.reportException=function(e){throw e};global.tab.ModuleManager=gf;var gg=function(){this.$3=0;this.$2=[]};gg.__typeName='tab.ModuleTracker';global.tab.ModuleTracker=gg;var gh=function(){dV.call(this,null);var e={};e.fn='';this.swapAndCopyPresModel(e)};gh.__typeName='tab.MultipleFieldsModel';global.tab.MultipleFieldsModel=gh;var gi=function(){};gi.__typeName='tab.NoopModelEventsHandler';gi.get_noopContext=function(){return gi.$0.value()};global.tab.NoopModelEventsHandler=gi;var gj=function(e,ex){this.$2=null;this.$1=null;this.$1$1=null;this.set_notificationId(e);this.$1=ex};gj.__typeName='tab.NotificationHandlerLauncher';gj.registerHandler=function(e,ex){var kc=function(){var kf=$.Deferred();kf.resolve(ex());return kf.promise()};var kd=S.get_instance();var ke=new gj(e,kc);kd.registerNotificationHandler(e,ss.mkdel(ke,ke.onNotify))};gj.registerHandlerFromModule=function(e){return function(ex,kc){var kd=function(){var kg=X.get_waitHandler();kg.addref(true,true);var kh=$.Deferred();gf.load(e).call(null,[]).done(function(ki){kh.resolve(kc(ki))}).always(function(){kg.release()});return kh.promise()};var ke=S.get_instance();var kf=new gj(ex,kd);ke.registerNotificationHandler(ex,ss.mkdel(kf,kf.onNotify))}};gj.registerHandlerFromJsModule=function(e,ex,kc){var kd=function(){var kg=$.Deferred();gf.load$1(e,[]).done(function(kh){kg.resolve(kc(kh))});return kg.promise()};var ke=S.get_instance();var kf=new gj(ex,kd);ke.registerNotificationHandler(ex,ss.mkdel(kf,kf.onNotify))};global.tab.NotificationHandlerLauncher=gj;var gk=function(){this.$c=null;this.$4=null;this.$7=null;this.$b=null;this.$5='';this.$9='';this.$d=0;this.$e='';this.$f='';this.$g=0;this.$a=null;this.$6=null;this.$8=tab.Logger.getLogger(gk,4)};gk.__typeName='tab.OnlineAnalyticsClient';gk.add_onLogEvent=function(e){gk.$1$1=ss.delegateCombine(gk.$1$1,e)};gk.remove_onLogEvent=function(e){gk.$1$1=ss.delegateRemove(gk.$1$1,e)};gk.get_telemetryEnabled=function(){return tab.FeatureFlags.isEnabled('OnlineAnalyticsPipelineEnabled')&&!tsConfig.is_guest};gk.$0=function(){if(ss.isNullOrUndefined(gk.$1)){gf.registerRawJsModule('analytics-client','analytics-client.min','analytics-client').andExportResultAs('AnalyticsClient');gk.$1=new gk}return gk.$1};gk.logEvent=function(e,ex){if(gk.get_telemetryEnabled()){gk.$0().$3(e,ss.mkdict(ex))}};global.tab.OnlineAnalyticsClient=gk;var gl=function(){};gl.__typeName='tab.OrderClause';gl.orderFieldFromString=function(e){try{return e}catch(ex){return'unknown'}};gl.isInstanceOfType=function(){return true};global.tab.OrderClause=gl;var gm=function(e,ex,kc,kd){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.set_description(e);this.set_architecture(ex);this.set_family(kc);this.set_version(kd)};gm.__typeName='tab.OSInfo';global.tab.OSInfo=gm;var gn=function(){iy.call(this,null,null,null,null,null)};gn.__typeName='tab.PaddingDefinition';gn.$ctor1=function(e){iy.call(this,e.padding,e.paddingLeft,e.paddingRight,e.paddingTop,e.paddingBottom)};global.tab.PaddingDefinition=gn;var go=function(e){this.$2=null;this.$1=null;this.$2$1=null;gb.call(this,e,new gI('pageModel'.toString()));this.$2=e.get_zone()};go.__typeName='tab.PageModel';global.tab.PageModel=go;var gp=function(e){var ex=function(){};ex.isInstanceOfType=function(){return true};ss.registerGenericClassInstance(ex,gp,[e],{},function(){return null},function(){return[]});return ex};gp.__typeName='tab.PageOfItem$1';ss.initGenericClass(gp,a,1);global.tab.PageOfItem$1=gp;var gq=function(){};gq.__typeName='tab.PageServerCommands';gq.changePage=function(e,ex){var kc=gq.$0(e,ex);hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'change-page'},kc),'immediately')};gq.syncedChangePage=function(e,ex,kc,kd){var ke=gq.$1(ex,kc,kd);var kf=bZ.newCommand({ns:'tabsrv',cmd:'synced-change-page-server'},ke);var kg=new bC('immediately',function(kh){},kf);bJ.SendCommand(kg)};gq.toggleTrails=function(e){var ex=gq.$2(e);hN.executeServerCommand(bZ.newCommand({ns:'tabdoc',cmd:'page-toggle-trails'},ex),'afterDelay')};gq.$0=function(e,ex){var kc={};bZ.addVisualIdToCommand(kc,ex);kc['pageNumber']=e;return kc};gq.$1=function(e,ex,kc){var kd={};bZ.addVisualIdToCommand(kd,e);kd['zoneId']=ex;kd['pageNumber']=kc;return kd};gq.$2=function(e){var ex={};bZ.addVisualIdToCommand(ex,e);return ex};global.tab.PageServerCommands=gq;var gr=function(){};gr.__typeName='tab.PaneClientCommands';gr.setPanePrimitive=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-primitive'},null);kc.commandParams=gr.$0(e);kc.commandParams['primitiveType']=ex.toString();bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.getDefaultShapeType=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'get-default-shape'},null);kc.commandParams=gr.$0(e);bJ.SendCommand(new gU(kc,'none',function(kd){ex((_.isString(kd)?id.fromString(kd.toString()):null))},function(){ex(null)}))};gr.setDefaultShapeType=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-default-shape'},null);kc.commandParams=gr.$0(e);kc.commandParams['shapeName']=gr.$3(ex);bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.setShowMarkLabels=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'toggle-mark-labels'},null);kc.commandParams={};kc.commandParams['worksheet']=tsConfig.current_sheet_name;if(ss.isValue(ex)&&ex.get_id()>0){kc.commandParams['paneSpec']=ex.get_id().toString()}var kd=new bC((e?'immediately':'none'),function(ke){gr.$2(e,(ss.isValue(ex)?ex.get_paneDescriptorKeys():null))},kc);bJ.SendCommand(kd)};gr.toggleMarkLabels=function(e){if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')){}var ex=bZ.newCommand({ns:'tabdoc',cmd:'toggle-mark-labels'},null);ex.commandParams={};ex.commandParams['worksheet']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){ex.commandParams['paneSpec']=e.get_id().toString()}bJ.SendCommand(new gU(ex,'immediately',null,null))};gr.setMarkSize=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-mark-size'},null);kc.commandParams={};kc.commandParams=gr.$0(e);kc.commandParams['markScale']=ex.toString();bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.resetTooltip=function(e){var ex=bZ.newCommand({ns:'tabdoc',cmd:'reset-tooltip'},null);ex.commandParams={};ex.commandParams['worksheet']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){ex.commandParams['paneSpec']=e.get_id().toString()}bJ.SendCommand(new gU(ex,'immediately',null,null))};gr.getDefaultColor=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'get-default-color'},null);kc.commandParams=gr.$0(e);bJ.SendCommand(new gU(kc,'none',function(kd){ex((_.isString(kd)?bG.fromColorCode(kd.toString()):null))},function(){ex(null)}))};gr.setDefaultColor=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-default-color'},null);kc.commandParams=gr.$0(e);kc.commandParams['defaultColor']=ex.toRgba255();bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.setSteppedColor=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-quantitative-color'},null);kc.commandParams=gr.$0(e);kc.commandParams['steps']=ex.toString();bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.reverseColor=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-quantitative-color'},null);kc.commandParams=gr.$0(e);kc.commandParams['isReversed']=ex.toString();bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.setTotalsInEncoding=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-quantitative-color'},null);kc.commandParams=gr.$0(e);kc.commandParams['totalsInclusionValue']=ex.toString();bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.setQuantColorPalette=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-quantitative-color'},null);kc.commandParams=gr.$0(e);kc.commandParams['colorPaletteId']=ex;bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.setCatColorPalette=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-categorical-color'},null);kc.commandParams=gr.$0(e);kc.commandParams['colorPaletteId']=ex;var kd=true;kc.commandParams['isInstance']=kd.toString();bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.setColorAlphaLevel=function(e,ex){if(isNaN(ex)){return}var kc=bZ.newCommand({ns:'tabdoc',cmd:'change-alpha-level'},null);kc.commandParams=gr.$0(e);kc.commandParams['alphaLevel']=ex.toString();bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.setMarksBorderColor=function(e,ex,kc,kd){var ke=bZ.newCommand({ns:'tabdoc',cmd:'change-border'},null);ke.commandParams={};ke.commandParams['worksheet']=tsConfig.current_sheet_name;ke.commandParams['paneSpec']=e.get_id().toString();ke.commandParams['color']=ex.toString();ke.commandParams['isAuto']=kc.toString();ke.commandParams['isNone']=kd.toString();bJ.SendCommand(new gU(ke,'immediately',null,null))};gr.setMarksHaloColor=function(e,ex,kc,kd){var ke=bZ.newCommand({ns:'tabdoc',cmd:'change-halo'},null);ke.commandParams={};ke.commandParams['worksheet']=tsConfig.current_sheet_name;ke.commandParams['paneSpec']=e.get_id().toString();ke.commandParams['color']=ex.toString();ke.commandParams['isAuto']=kc.toString();ke.commandParams['isNone']=kd.toString();bJ.SendCommand(new gU(ke,'immediately',null,null))};gr.boundingBoxPan=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'bounding-box-pan'},null);var kd={};kd['mapLatLongRect']=ex;kc.commandParams=kd;if(ss.isValue(e)){bZ.addVisualIdToCommand(kc.commandParams,e)}hN.executeServerCommand(kc,'afterDelay',null,null)};gr.geographicSearchQuery=function(e,ex,kc,kd,ke){var kf=bZ.newCommand({ns:'tabdoc',cmd:'geographic-search-query'},null);var kg={};kf.commandParams=kg;kf.commandParams['geographicSearchSearchString']=ex;kf.commandParams['geographicSearchLocale']=kc;kf.commandParams['geographicSearchMaxResults']=kd.toString();if(ss.isValue(e)){bZ.addVisualIdToCommand(kf.commandParams,e)}hN.executeServerCommand(kf,'none',function(kh){ke(kh)},null)};gr.setReferenceLineConstantValue=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-reference-line-constant-value'},null);kc.commandParams={};kc.commandParams['constantValue']=e;kc.commandParams['referenceLineId']=ex;bJ.SendCommand(new gU(kc,'immediately',null,null))};gr.$0=function(e){var ex={};ex['worksheet']=tsConfig.current_sheet_name;ex['paneSpec']=e.get_id().toString();return ex};gr.$3=function(e){if(ss.isNullOrUndefined(e)){return null}return e.toString()};gr.$2=function(e,ex){if(S.get_instance().get_renderMode()!=='render-mode-client'){return}var kc=gr.$1();if(ss.isNullOrUndefined(ex)){ex=_.keys(kc)||[]}for(var kd=0;kd<ex.length;kd++){var ke=ex[kd];var kf=kc[ke];kf.ShowLabels=e}};gr.$1=function(){var e=ge.getVisualModel(S.get_instance(),tsConfig.current_sheet_name);return e.get_runtimeData().get_finalDataStore().PDMarks};global.tab.PaneClientCommands=gr;var gs=function(e){this.$0=null;this.update(e)};gs.__typeName='tab.PaneIdModel';gs.$ctor1=function(e,ex,kc){this.$0=null;this.$0={};this.$0['columnIndex']=e;this.$0['rowIndex']=ex;if(kc!==0){this.$0['pageIndex']=kc}};global.tab.PaneIdModel=gs;var gt=function(){};gt.__typeName='tab.PanZoomCommands';gt.zoomWithAnchorPoint=function(e,ex,kc,kd,ke,kf){var kg=new Object;var kh=ju.create(kg);kh.set_r(e);kh.set_x(ex.x);kh.set_y(ex.y);var ki={};ki['vizRegionRect']=kg;var kj=tab.PointUtil.toPresModel(ex);ki['zoomAnchorPoint']=kj;ki['zoomFactor']=kc;var kk=ge.getVisualId(kf);bZ.addVisualIdToCommand(ki,kk);var kl=bZ.newCommand({ns:'tabsrv',cmd:'pane-anchor-zoom-server'},ki);var km=function(){ii.fireSheetDataChanged();ke()};var kn=function(ko,kp){gt.$4(ko,kp,kj,kc);kd()};gt.$0(kl,kn,km,null,kf)};gt.$3=function(e,ex,kc,kd,ke,kf,kg){if(!tsConfig.allow_filter){return}var kh={};var ki={};ki.x=e['x'];ki.y=e['y'];ki.x=Math.round(ki.x);ki.y=Math.round(ki.y);if(ss.isValue(e['h'])&&ss.isValue(e['w'])){ki.h=e['h'];ki.w=e['w']}kh['dragRect']=ki;kh['zoomIn']=kc;kh['focus']=false;kh['zoomFactor']=ke;if(ss.isValue(ex)){ex=gt.$2(ex);var kj=tab.PointUtil.toPresModel(ex);kh['paneResolverLocation']=kj}var kk=ge.getVisualId(kg);bZ.addVisualIdToCommand(kh,kk);var kl=bZ.newCommand({ns:'tabdoc',cmd:'pane-zoom'},kh);var km=function(ko){if(ss.isValue(kd)){kd.setDeferLayoutUpdates(false)}ii.fireSheetDataChanged()};var kn=function(ko,kp){gt.$5(ko,kp,ki,kc);kf()};gt.$0(kl,kn,km,null,kg)};gt.pan=function(e,ex,kc,kd,ke,kf){if(!tsConfig.allow_filter){return}var kg={};kg['r']=e;kg['panLocation']=tab.PointUtil.toPresModel(gt.$2(ex));kg['panAmount']=tab.PointUtil.toPresModel(gt.$2(kc));var kh=ge.getVisualId(kf);bZ.addVisualIdToCommand(kg,kh);var ki=bZ.newCommand({ns:'tabsrv',cmd:'pane-pan-server'},kg);var kj=function(){ii.fireSheetDataChanged()};var kk=function(km){ke()};var kl=function(km,kn){gt.$1(km,kn,gt.$2(kc));kd()};gt.$0(ki,kl,kj,kk,kf)};gt.$0=function(e,ex,kc,kd,ke){var kf=ge.getVisualModel(S.get_instance(),ke);var kg=kf.shouldDoLocalCommand()&&!ss.staticEquals(ex,null);var kh=new bC('none',function(ki){ge.setVisualValidAndUpToDateStateOnModel(ki,kf,false);if(kg&&kf.get_runtimeReady()){ex(ki,kf)}},e,kc,kd);bJ.SendCommand(kh);if(kg&&!kf.get_runtimeReady()){kf.requestRuntimeDataAndUpdateVM()}};gt.$2=function(e){var ex=e;if(ss.isValue(e)){ex={x:Math.round(e.x),y:Math.round(e.y)}}return ex};gt.zoomDoubleClick=function(e,ex,kc,kd,ke,kf){kc.set_isZoomin(ex);gt.$3(e,e,ex,kc,kd,ke,kf)};gt.zoomIn=function(e,ex,kc,kd,ke){gt.$3(e,ex,true,null,kc,kd,ke)};gt.zoomOut=function(e,ex,kc,kd){gt.$3(e,e,false,null,ex,kc,kd)};gt.requestRestoreFixedAxes=function(e){if(!tsConfig.allow_filter){return}var ex=function(ke){X.fireStateChanged(ke)};var kc={};bZ.addVisualIdToCommand(kc,e);var kd=bZ.newCommand({ns:'tabsrv',cmd:'restore-fixed-axes'},kc);bJ.SendCommand(new gU(kd,'immediately',ex,function(){}))};gt.$1=function(e,ex,kc){var kd=e.makeMutablePresModel(ex.get_sceneModel(),false);ex.get_runtimeHandles().done(function(ke){tab.RuntimeWebModule.proxy.localPanCommand(ke.get_VM(),ke.get_initialStore(),ke.get_finalStore(),kc.x,kc.y).done(function(kf){ex.updateRuntimeHandles(new tab.RuntimeHandles(ke.get_VM(),ke.get_initialStore(),kf));kd.runtimeFinalDatastoreLocal=kf.handleValue})})};gt.$5=function(e,ex,kc,kd){var ke=e.makeMutablePresModel(ex.get_sceneModel(),false);ex.get_runtimeHandles().done(function(kf){tab.RuntimeWebModule.proxy.localZoomCommand(kf.get_VM(),kf.get_initialStore(),kf.get_finalStore(),kc.x,kc.y,kc.w,kc.h,kd).done(function(kg){ex.updateRuntimeHandles(new tab.RuntimeHandles(kf.get_VM(),kf.get_initialStore(),kg));ke.runtimeFinalDatastoreLocal=kg.handleValue})})};gt.$4=function(e,ex,kc,kd){var ke=e.makeMutablePresModel(ex.get_sceneModel(),false);ex.get_runtimeHandles().done(function(kf){tab.RuntimeWebModule.proxy.localZoomFactorCommand(kf.get_VM(),kf.get_initialStore(),kf.get_finalStore(),kc.x,kc.y,kd).done(function(kg){ex.updateRuntimeHandles(new tab.RuntimeHandles(kf.get_VM(),kf.get_initialStore(),kg));ke.runtimeFinalDatastoreLocal=kg.handleValue})})};global.tab.PanZoomCommands=gt;var gu=function(e){this.$1=null;this.$2$1=null;gb.call(this,e,new gI('parameterControl'.toString()))};gu.__typeName='tab.ParameterCtrlModel';global.tab.ParameterCtrlModel=gu;var gv=function(){};gv.__typeName='tab.ParameterServerCommands';gv.setParameterValue=function(e,ex,kc){gv.setParameterValue$1(e,ex,kc,null,null)};gv.setParameterValue$1=function(e,ex,kc,kd,ke){var kf=gv.$0(e,ex,ss.coalesce(kc,false));var kg=bZ.newCommand({ns:'tabdoc',cmd:'set-parameter-value'},kf);hN.executeServerCommand(kg,'immediately',kd,ke)};gv.$0=function(e,ex,kc){var kd={};kd['globalFieldName']=e;kd['valueString']=ex;kd['useUsLocale']=kc;return kd};global.tab.ParameterServerCommands=gv;var gw=function(e){this.$3$1=null;iW.call(this,e,new gI('percentTotalTableCalcPresModel'.toString()))};gw.__typeName='tab.PercentTotalTableCalcModel';global.tab.PercentTotalTableCalcModel=gw;var gx=function(){};gx.__typeName='tab.PermissionManager';gx.buildCommandPermission=function(){var e=[];if(tsConfig.allow_filter){e.push(11);e.push(12);e.push(10);e.push(2);e.push(13);e.push(4);e.push(5);e.push(6)}if(tsConfig.allow_select){e.push(1);e.push(9);e.push(23)}if(tsConfig.allow_sheetlink){e.push(8)}if(tsConfig.allow_view_underlying||tsConfig.allow_summary){e.push(7)}if(tsConfig.is_authoring){e.push(15);e.push(17);e.push(18);e.push(19);e.push(20);if(!tsConfig.is_mobile){e.push(21)}if(tab.FeatureFlags.isEnabled('ReferenceLineNonModal')){e.push(22)}if(tab.FeatureFlags.isEnabled('TrendLineDialogMttw')){e.push(16)}}return new bS(e)};gx.filterCommands=function(e,ex){for(var kc=e.length-1;kc>=0;kc--){if(!ex.test(e[kc])){ss.removeAt(e,kc)}}};global.tab.PermissionManager=gx;var gy=function(e,ex){this.$1=null;gb.call(this,e,new gI(ex.toString()))};gy.__typeName='tab.PillModel';global.tab.PillModel=gy;var gz=function(){ss.makeGenericType(W,[Object,gA]).call(this)};gz.__typeName='tab.PingSessionCmd';global.tab.PingSessionCmd=gz;var gA=function(e){this.$$c=null;this.$$c=e};gA.__typeName='tab.PingSessionCmd$Response';global.tab.PingSessionCmd$Response=gA;var gB=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null};gB.__typeName='tab.PlatformInfo';gB.$1=function(){if(ss.isNullOrUndefined(gB.$4)){gf.registerRawJsModule('platform','platform.min','platform').andExportResultAs('Platform');gB.$4=gf.load$1('platform',[])}return gB.$4};gB.getInfo=function(){return gB.$3||(gB.$3=gB.$0())};gB.$0=function(){var e=$.Deferred();gB.$1().then(function(){var ex=new gB;ex.set_description(platform.description);ex.set_layout(platform.layout);ex.set_manufacturer(platform.manufacturer);ex.set_name(platform.name);ex.set_prerelease(platform.prerelease);ex.set_product(platform.product);ex.set_userAgent(platform.ua);ex.set_version(platform.version);var kc=platform.os.architecture;var kd=new gm(platform.os.toString(),(ss.isValue(kc)?kc.toString():''),platform.os.family,platform.os.version);ex.set_OS(kd);e.resolve(ex)},function(){e.reject()});return e};global.tab.PlatformInfo=gB;var gC=function(e,ex,kc,kd){this.$4=null;this.$2=null;this.$3=null;this.$5=null;this.$6=null;this.$1$1=null;this.$1$2=null;this.$4=e;this.set_notificationId(ex);this.$2=kc;this.$6=kd};gC.__typeName='tab.PluginDialogNotificationHandler';global.tab.PluginDialogNotificationHandler=gC;var gD=function(){this.$0=new tab.DisposableHolder};gD.__typeName='tab.PluginFilePicker';gD.get_instance=function(){gD.$0=gD.$0||new gD;return gD.$0};gD.set_instance=function(e){gD.$0=e};global.tab.PluginFilePicker=gD;var gE=function(){this.$0=new tab.DisposableHolder};gE.__typeName='tab.PluginPresentationLayer';gE.get_instance=function(){gE.$0=gE.$0||new gE;return gE.$0};gE.set_instance=function(e){gE.$0=e};global.tab.PluginPresentationLayer=gE;var gF=function(){};gF.__typeName='tab.PluginTelemetry';gF.get_instance=function(){gF.$0=gF.$0||new gF;return gF.$0};gF.set_instance=function(e){gF.$0=e};global.tab.PluginTelemetry=gF;var gG=function(){};gG.__typeName='tab.PresentationModel';gG.commandResultByName=function(e,ex){var kc=bV.buildQualifiedCommandName(ex.commandNamespace,ex.commandName);var kd=e['vqlCmdResponse'.toString()];var ke=kd.cmdResultList;for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];if(ss.referenceEquals(kg.commandName,kc)){return kg.commandReturn}}return null};gG.fromCommand=function(e,ex){var kc=gG.commandResultByName(e,ex);if(!ex.preserveRootResult&&ss.isValue(kc)&&ss.getKeyCount(kc)===1&&!ss.keyExists(kc,'commandRedirectType'.toString())){var kd=new ss.ObjectEnumerator(kc);try{while(kd.moveNext()){var ke=kd.current();return ke.value}}finally{kd.dispose()}}else{return kc}return null};gG.getConnectionAttemptInfo=function(e){var ex=e['vqlCmdResponse'.toString()];if(ss.isValue(ex.layoutStatus)){var kc=ex.layoutStatus;if(ss.isValue(kc.connectionAttemptInfo)&&kc.connectionAttemptInfo.dataSourceConnectionAttemptInfos.length>0){return kc.connectionAttemptInfo}}return null};gG.ensurePath=function(e,ex,kc){var kd=ex;var ke=e;var kf;var kg;var kh=kc.get_pathList();for(var ki=0,kj=kh.length;ki<kj;ki++){var kk=kh[ki];var kl=kk.name;kf=kd[kl];kg=(ss.isValue(ke)?ke[kl]:null);if(!ss.isValue(kf)){var km=ki===kj-1;var kn=null;if(kk.type===1&&ss.isValue(kg)){var ko=kg;var kp=[];for(var kq=0;kq<ko.length;kq++){kp[kq]=tab.MiscUtil.cloneObject(ko[kq])}kn=kp}else if(!km&&ss.isValue(kg)){kn=gG.cloneObjWithScalarsOnly(kg)}else if(tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&kk.type===1){kn=[]}else{kn=new Object}kd[kl]=kn}kd=kd[kl];ke=kg}return kd};gG.insertAtPath=function(e,ex,kc,kd){gG.ensurePath(e,ex,kc);gG.$0(ex,kc,kd)};gG.cloneObjWithScalarsOnly=function(e){if(!_.isObject(e)){return e}var ex=new Object;var kc=e;var kd=Object.keys(kc);for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];var kg=kc[kf];if(!_.isObject(kg)){ex[kf]=kg}}return ex};gG.$0=function(e,ex,kc){if(ex.get_pathList().length===0){var kd=kc;var ke=new ss.ObjectEnumerator(kd);try{while(ke.moveNext()){var kf=ke.current();e[kf.key]=kf.value}}finally{ke.dispose()}}else{var kg,kh;var ki=e;var kj=ex.get_pathList();for(kg=0,kh=kj.length;kg<kh-1;kg++){ki=ki[kj[kg].name]}ki[kj[kh-1].name]=kc}};global.tab.PresentationModel=gG;var gH=function(){this.$1=null;this.$0=[]};gH.__typeName='tab.PresModelPath';global.tab.PresModelPath=gH;var gI=function(e,ex){this.name=null;this.type=0;this.name=e;this.type=(ss.isValue(ex)?ex:0)};gI.__typeName='tab.PresModelPathItem';global.tab.PresModelPathItem=gI;var gJ=function(){};gJ.__typeName='tab.PresModelPathItemType';global.tab.PresModelPathItemType=gJ;var gK=function(){this.$j=null;this.$p=null;this.$m=null;this.$o=null;this.$k=null;this.$i=false;this.$q=null;this.$l=null;this.$r={};this.$n=null;this.$1$1=null;this.$1$2=null};gK.__typeName='tab.ProgressiveLoader';gK.get_progressiveLoadEnabled=function(){return tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&!tsConfig.is_authoring&&!tsConfig.isPublic};gK.cloneZone=function(e){if(ss.isNullOrUndefined(e)){return e}var ex=e.presModelHolder;e.presModelHolder=null;var kc=tab.MiscUtil.cloneObject(e);kc.presModelHolder=ex;e.presModelHolder=ex;return kc};gK.removeZoneContent=function(e){if(ss.isValue(e)){var ex=e;delete ex['presModelHolder']}return e};gK.getZoneRoot=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}var ex=e.workbookPresModel.dashboardPresModel;if(ex.isStory){var kc=ex.zones;ex=null;var kd=_.keys(kc);for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];var kg=kc[kf];if(ss.isValue(kg.zoneCommon)&&kg.zoneCommon.zoneType!=='flipboard'){continue}var kh=ka.getContent(kg,'flipboard');if(ss.isNullOrUndefined(kh)||ss.isNullOrUndefined(kh.storyPoints)){return null}var ki=kh.storyPoints[kh.activeStoryPointId.toString()];if(ss.isNullOrUndefined(ki)){return null}ex=ki.dashboardPresModel;break}}return ex};gK.$0=function(e){var ex={};if(ss.isValue(e)&&ss.isValue(e.zones)){var kc=_.values(e.zones);for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];if(ss.isValue(ke)&&ss.isValue(ke.zoneCommon)){ex[ke.zoneId]=ke.zoneCommon.zoneType}}}return ex};gK.$4=function(e){if(ss.isNullOrUndefined(e)){return false}var ex=e.workbookPresModel;if(ss.isNullOrUndefined(ex)){return false}var kc=ex.dashboardPresModel;if(ss.isNullOrUndefined(kc)){return false}var kd=kc.zones;if(ss.isNullOrUndefined(kd)){return false}return true};gK.$2=function(){if(ss.isValue(gK.$8)){return}gK.$8={};gK.$8['flipboard-nav']=1;gK.$8['flipboard']=1;gK.$8['viz']=2;gK.$8['color']=3;gK.$8['shape']=3;gK.$8['size']=3;gK.$8['map']=3;gK.$8['filter']=4;gK.$8['highlighter']=4;gK.$8['paramctrl']=4;gK.$8['current-page']=4;gK.$8['web']=5;gK.$8['bitmap']=5;gK.$8['add-in']=5;gK.$6={};gK.$6[1]={item1:-1,item2:1};gK.$6[2]={item1:1,item2:0.33};gK.$6[3]={item1:3,item2:0.33};gK.$6[4]={item1:3,item2:0.33};gK.$6[5]={item1:-1,item2:1};gK.$6[6]={item1:-1,item2:1}};gK.$3=function(e){switch(e){case'color':case'size':case'shape':case'filter':{return true}}return false};gK.$1=function(e,ex){if(ss.isNullOrUndefined(e)){return ex}return gG.cloneObjWithScalarsOnly(e)};global.tab.ProgressiveLoader=gK;var gL=function(e,ex){this.$2$1=null;gb.call(this,e,new gI(ex))};gL.__typeName='tab.QuantitativeColorLegendModel';global.tab.QuantitativeColorLegendModel=gL;var gM=function(e,ex,kc,kd,ke,kf){this.$5=null;this.$2=null;this.$1=null;this.$0=null;this.$4=null;this.$3=null;this.$5=e;this.$2=ex;this.$1=kc;this.$0=kd;this.$4=ke;this.$3=kf};gM.__typeName='tab.QuantitativeFilterData';global.tab.QuantitativeFilterData=gM;var gN=function(){};gN.__typeName='tab.QuickFilterDateFormatUtil';gN.$0=function(e){return e==='trunc-day'||e==='trunc-week'||e==='trunc-month'||e==='trunc-qtr'||e==='trunc-year'};gN.getDateTimeFormatMode=function(e,ex,kc,kd){if(ss.isNullOrUndefined(kc)||ss.isNullOrUndefined(kc.isAutoFormat)||!kc.isAutoFormat){return 0}if(gN.$0(ex)){return 0}if(gN.isPureTime(e,ex)){return 1}if(kd===2){return 2}for(var ke=0;ke<e.length;ke++){var kf=e[ke];if(ss.isNullOrUndefined(kf)||!ss.isValue(kf.v)){continue}var kg={t:kf.t,v:ss.unbox(kf.v)};if(tableau.format.isDateTimeWithNonMidnightTime(kg)){return 2}}return 0};gN.isPureTime=function(e,ex){var kc=fM.timestampsWithSameDateOrNull(e);return kc&&!gN.$0(ex)};global.tab.QuickFilterDateFormatUtil=gN;var gO=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;gb.call(this,e,new gI('quickFilterDisplay'.toString()));this.set_quickFilterType('unknown')};gO.__typeName='tab.QuickFilterDisplayModel';gO.supportsQuickFilterType=function(e){if(e.quickFilter.quickFilterType==='categorical'){var ex=e.quickFilter;switch(ex.categoricalMode){case'check-list':case'radio-list':{return true}case'check-dropdown':case'dropdown':{return tab.FeatureParamsLookup.getBool(40)}case'slider':case'pattern':case'type-in-list':default:{return false}}}return false};global.tab.QuickFilterDisplayModel=gO;var gP=function(e,ex){gb.call(this,e,ex)};gP.__typeName='tab.QuickFilterModel';global.tab.QuickFilterModel=gP;var gQ=function(e){gb.call(this,e,new gI('radialSelectionDistanceInfo'.toString()))};gQ.__typeName='tab.RadialSelectionDistanceInfoModel';global.tab.RadialSelectionDistanceInfoModel=gQ;var gR=function(){};gR.__typeName='tab.RangeTransform';global.tab.RangeTransform=gR;var gS=function(e){this.$3$1=null;iW.call(this,e,new gI('rankTableCalcPresModel'.toString()))};gS.__typeName='tab.RankTableCalcModel';global.tab.RankTableCalcModel=gS;var gT=function(e){this.$1=null;dV.call(this,e)};gT.__typeName='tab.RelationalTableModel';global.tab.RelationalTableModel=gT;var gU=function(e,ex,kc,kd){bC.call(this,ex,null,e,kc,kd)};gU.__typeName='tab.RemoteClientCommand';gU.create=function(e,ex,kc,kd){return new gU(e,ex,kc,kd)};global.tab.RemoteClientCommand=gU;var gV=function(){ss.makeGenericType(W,[Object,gW]).call(this)};gV.__typeName='tab.ReplaceFileConnectionFromFileUploadCmd';global.tab.ReplaceFileConnectionFromFileUploadCmd=gV;var gW=function(e){this.$$c=null;this.$$c=e};gW.__typeName='tab.ReplaceFileConnectionFromFileUploadCmd$Response';global.tab.ReplaceFileConnectionFromFileUploadCmd$Response=gW;var gX=function(e){this.$2=null;this.$1=null;this.$0=null;var ex=e.split('/');this.$2=ex[0].replace(new RegExp('^ds:'),'');this.$1=ex[1];if(ex.length>2){if(ex.length===3){throw new ss.Exception("new RepoPathObject() encountered repo path'"+e+"' with a badly formed customized view")}this.$0=ex[2]+'/'+ex[3]}else{this.$0=''}};gX.__typeName='tab.RepoPathObject';global.tab.RepoPathObject=gX;var gY=function(){ss.makeGenericType(W,[Object,gZ]).call(this)};gY.__typeName='tab.ResetFieldCaptionCmd';global.tab.ResetFieldCaptionCmd=gY;var gZ=function(e){this.$$c=null;this.$$c=e};gZ.__typeName='tab.ResetFieldCaptionCmd$Response';global.tab.ResetFieldCaptionCmd$Response=gZ;var ha=function(){ss.makeGenericType(jz,[Object,hb]).call(this)};ha.__typeName='tab.ResetFieldsCaptionCheckCmd';ha.get_commandName=function(){return'reset-fields-caption-check'};global.tab.ResetFieldsCaptionCheckCmd=ha;var hb=function(e){this.$$c=null;this.$$c=e};hb.__typeName='tab.ResetFieldsCaptionCheckCmd$Response';global.tab.ResetFieldsCaptionCheckCmd$Response=hb;var hc=function(){ss.makeGenericType(W,[Object,hd]).call(this);this.set_uiBlocking('immediately')};hc.__typeName='tab.ResizeAxisRegionCmd';global.tab.ResizeAxisRegionCmd=hc;var hd=function(e){this.$$c=null;this.$$c=e};hd.__typeName='tab.ResizeAxisRegionCmd$Response';global.tab.ResizeAxisRegionCmd$Response=hd;var he=function(){ss.makeGenericType(W,[Object,hf]).call(this);this.set_uiBlocking('immediately')};he.__typeName='tab.ResizeCellWebCmd';global.tab.ResizeCellWebCmd=he;var hf=function(e){this.$$c=null;this.$$c=e};hf.__typeName='tab.ResizeCellWebCmd$Response';global.tab.ResizeCellWebCmd$Response=hf;var hg=function(e){gb.call(this,e,new gI('resizeEntity'.toString()))};hg.__typeName='tab.ResizeEntityModel';global.tab.ResizeEntityModel=hg;var hh=function(){ss.makeGenericType(W,[Object,hi]).call(this);this.set_uiBlocking('immediately')};hh.__typeName='tab.ResizeHeaderRegionCmd';global.tab.ResizeHeaderRegionCmd=hh;var hi=function(e){this.$$c=null;this.$$c=e};hi.__typeName='tab.ResizeHeaderRegionCmd$Response';global.tab.ResizeHeaderRegionCmd$Response=hi;var hj=function(){ss.makeGenericType(W,[Object,hk]).call(this);this.set_uiBlocking('immediately')};hj.__typeName='tab.ResizeHeaderWebCmd';global.tab.ResizeHeaderWebCmd=hj;var hk=function(e){this.$$c=null;this.$$c=e};hk.__typeName='tab.ResizeHeaderWebCmd$Response';global.tab.ResizeHeaderWebCmd$Response=hk;var hl=function(e){this.$2$1=null;this.cellSize=null;this.$2$2=null;this.$2$3=null;gb.call(this,e,new gI('resizeInfo'.toString()))};hl.__typeName='tab.ResizeInfoModel';global.tab.ResizeInfoModel=hl;var hm=function(e,ex,kc,kd,ke,kf){this.visualId=null;this.offset=0;this.length=0;this.isXResizer=false;this.minimumOffset=0;this.maximumOffset=0;this.visualId=e;this.offset=ex;this.length=kc;this.isXResizer=kd;this.minimumOffset=ke;this.maximumOffset=kf};hm.__typeName='tab.ResizerViewModelParams';global.tab.ResizerViewModelParams=hm;var hn=function(){};hn.__typeName='tab.RichTextClientCommands';hn.createTextObjectRichTextEditor=function(e,ex){var kc=new cu;kc.c['dashboard']=tsConfig.current_sheet_name;kc.c['zoneId']=e|0;kc.c['isNewZone']=ex;kc.c['richTextEditorConfiguration']=ho.get_instance();kc.set_uiBlocking('afterDelay');var kd=kc;kd.invoke()};hn.createWorksheetTitleRichTextEditor=function(e){var ex=new cs;ex.c['worksheet']=e;ex.c['richTextEditorConfiguration']=ho.get_instance();ex.set_uiBlocking('afterDelay');var kc=ex;if(tsConfig.current_sheet_type==='dashboard'){kc.c['dashboard']=tsConfig.current_sheet_name}kc.invoke()};hn.createAnnotationRichTextEditor=function(e,ex){var kc=new co;kc.c['worksheet']=e;kc.c['objectIds']=ex;kc.c['richTextEditorConfiguration']=ho.get_instance();kc.set_uiBlocking('afterDelay');var kd=kc;kd.invoke()};global.tab.RichTextClientCommands=hn;var ho=function(){};ho.__typeName='tab.RichTextEditorConfigurationFactory';ho.get_instance=function(){return ho.$2||(ho.$2={contentSecurityPolicy:ho.$0(),fontFamilies:eu.compatibleFontNameList(),fontSizes:eu.fontSizes,cssFontRules:ho.$1(),staticAssetsPath:tsConfig.local_static_asset_prefix})};ho.set_instance=function(e){ho.$2=e};ho.clear=function(){ho.set_instance(null)};ho.$0=function(){var e=ss.replaceAllString(tsConfig.external_static_asset_prefix,tsConfig.local_static_asset_prefix,'');return ss.formatString("default-src 'none'; script-src 'self'; connect-src 'self'; img-src * data:; style-src 'self' 'unsafe-inline'; font-src 'self' {0};",e)};ho.$1=function(){var e='';var ex=hO.get_allCustomFonts();for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];e+='@font-face\n{\n'+tab.StyleUtil.createCSSRules(kd.toCSSRules())+'}\n'}return e};global.tab.RichTextEditorConfigurationFactory=ho;var hp=function(e){this.$1$1=null;this.$1$2=null;this.$1$3=null;var ex='"vtl": "';if(ss.startsWithString(e.$$c['text'],'{'+ex)){var kc='"initialDatastore": ';var kd=e.$$c['text'].indexOf(ex)+ex.length;var ke=e.$$c['text'].indexOf(String.fromCharCode(34),kd);this.set_vtl(e.$$c['text'].substr(kd,ke-kd));var kf=e.$$c['text'].indexOf(kc)+kc.length;var kg=e.$$c['text'].indexOf(String.fromCharCode(34),kf);this.set_dataStore(e.$$c['text'].substr(kf,kg-kf))}else{var kh='"datastoreUpdater": "';var ki=e.$$c['text'].indexOf(kh)+kh.length;var kj=e.$$c['text'].indexOf(String.fromCharCode(34),ki);this.set_dataStoreUpdater(e.$$c['text'].substr(ki,kj-ki))}};hp.__typeName='tab.RuntimeDataResponseParser';global.tab.RuntimeDataResponseParser=hp;var hq=function(){};hq.__typeName='tab.RuntimeLoader';hq.requestRuntimeLoad=function(){var e=$.Deferred();var ex={};var kc=function(){e.resolve();return true};var kd=function(kf){return tsConfig.external_static_asset_prefix+'/javascripts/'+kf};ex.onRuntimeInitialized=kc;ex.locateFile=kd;var ke=window.self;ke['Module']=ex;gf.load$1('runtimeweb',[]);return e.promise()};global.tab.RuntimeLoader=hq;var hr=function(){};hr.__typeName='tab.SaveServerCommands';hr.$2=function(){return tab.Logger.lazyGetLogger(hr)};hr.saveWorkbook=function(e){var ex=function(kc){jW.getWorldUpdate(function(){if(ss.isValue(e)){e(kc)}})};hr.$0('publish',tsConfig.workbookName,tsConfig.current_project_id.toString(),tsConfig.showTabsWorkbook,null,null,ex,null,bJ.get().get_legacySession())};hr.saveWorkbookAs=function(e,ex,kc,kd,ke,kf,kg){hr.$0('publish_as',e,ex,kc,kd,ke,kf,kg,bJ.get().get_legacySession())};hr.SaveWorkbookAs=function(e,ex,kc,kd,ke,kf,kg){hr.saveWorkbookAs(e,ex.id,kc,kd,ke,kf,kg)};hr.SaveDatasource=function(e,ex,kc,kd,ke,kf){var kg=bJ.get().get_legacySession();var kh=function(kn,ko,kp){var kq=hr.$1(Object).call(null,kp.responseText);ke(kq)};var ki=function(kn,ko,kp){var kq=hr.$1(Object).call(null,kn.responseText);if(ss.isValue(kf)&&ss.isValue(kq)){kf(kq)}else{kg.$7(kp,kn,false,null)}};var kj={};kj.type='POST';kj.dataType='json';kj.url=bJ.$2('publish_ds',kg);var kk=ss.mkdict(['project',kd.toString(),'datasource',e,'name',ex]);if(ss.isValue(kc)){kk['no_overwrite']=ss.unbox(kc)}var kl=jX.getMultipartData(null,kk);kj.contentType='multipart/form-data; boundary='+kl.header;kj.data=kl.body;var km=new hP(kg,null,kh,ki,true,true);jX.helper(kj,km)};hr.$1=function(e){return function(ex){var kc;try{kc=JSON.parse(ex)}catch(kd){kc=null}return kc}};hr.$0=function(e,ex,kc,kd,ke,kf,kg,kh,ki){var kj=function(kp,kq,kr){var ks=kp;if(ss.keyExists(ks,'workbook')){var kt=ks['workbook'];kg(kt)}else{kg(null)}};var kk=function(kp,kq,kr){var ks=hr.$1(Object).call(null,kp.responseText);var kt=hr.$1(Object).call(null,kp.responseText);if(ss.isValue(kh)&&ss.isValue(ks)){kh(ks)}else if(kp.status===403&&ss.isValue(kt)&&kt.code===60011){ki.get_sessionErrorHandler().handleSessionForbiddenAction(kt.code,kt.message)}else{ki.get_sessionErrorHandler().handleCommandFailure(kr,kp,null,false)}};var kl={};kl.type='POST';kl.dataType='json';kl.url=bJ.$2(e,ki);var km=ss.mkdict(['project',kc,'name',ex,'display_tabs',kd]);if(ss.isValue(ke)){km['save_db_passwords']=ss.unbox(ke)}if(ss.isValue(kf)){km['no_overwrite']=ss.unbox(kf)}var kn=jX.getMultipartData(null,km);kl.contentType='multipart/form-data; boundary='+kn.header;kl.data=kn.body;var ko=new hP(ki,null,kj,kk,true,true);jX.helper(kl,ko)};hr.transitionSessionAfterLogon=function(e){bJ.get().$A(e)};global.tab.SaveServerCommands=hr;var hs=function(){};hs.__typeName='tab.SceneDataUtil';hs.isPaneFlagSet=function(e,ex){return(e&hs.$1[ex])!==0};hs.isMarkFlagSet=function(e,ex){return(e&hs.$0[ex])!==0};hs.isCustomShape=function(e){return!ss.keyExists(hs.shapeMapping,e.toString())};hs.getFogBlendFactor=function(e){var ex=0.185000002384186;var kc=0.275000005960464;var kd=75;var ke=e.get_r()<=kd&&e.get_g()<=kd&&e.get_b()<=kd;return(ke?kc:ex)};hs.fogColorTransform=function(e,ex,kc){var kd=ss.Int32.trunc(ex.get_r()+e.get_r()*kc);var ke=ss.Int32.trunc(ex.get_g()+e.get_g()*kc);var kf=ss.Int32.trunc(ex.get_b()+e.get_b()*kc);return new bG(kd,ke,kf,e.get_a())};hs.applyFogToBackgroundColor=function(e,ex){var kc=245;if(e.get_r()>=kc&&e.get_g()>=kc&&e.get_b()>=kc){e=new bG(kc,kc,kc,e.get_a())}var kd=ss.Int32.trunc((1-ex)*e.get_r());var ke=ss.Int32.trunc((1-ex)*e.get_g());var kf=ss.Int32.trunc((1-ex)*e.get_b());return new bG(kd,ke,kf,e.get_a())};hs.createColorCollection=function(e,ex,kc){var kd={};kd['colorOverrideOpaque']=e.toRgb();kd['colorOverrideNone']=e.toRgba();kd['colorOverrideFog']=hs.fogColorTransform(e,ex,kc).toRgba();return kd};hs.createOpaqueColorCollection=function(e){var ex={};var kc=bG.fromColorCode(e['colorOverrideNone']);ex['colorOverrideNone']=kc.toRgb();kc=bG.fromColorCode(e['colorOverrideFog']);ex['colorOverrideFog']=kc.toRgb();kc=bG.fromColorCode(e['colorOverrideOpaque']);ex['colorOverrideOpaque']=kc.toRgb();return ex};hs.applyFoggingToColor=function(e,ex){var kc=hs.getFogBlendFactor(ex);var kd=hs.applyFogToBackgroundColor(ex,kc);return hs.fogColorTransform(e,kd,kc)};hs.convertShapeToNumber=function(e){var ex;var kc=ss.isValue(e.get_palette())&&ss.unbox(e.get_palette())==='filled';switch(e.get_shapeType()){case'circle':{ex=(kc?'shapeIDFilledCircle':'shapeIDCircle');break}case'square':{ex=(kc?'shapeIDFilledSquare':'shapeIDSquare');break}case'plus':{ex=(kc?'shapeIDFilledPlus':'shapeIDPlus');break}case'times':{ex=(kc?'shapeIDFilledTimes':'shapeIDTimes');break}case'asterisk':{ex=(kc?'shapeIDFilledStar':'shapeIDAsterisk');break}case'diamond':{ex=(kc?'shapeIDFilledDiamond':'shapeIDDiamond');break}case'triangle':{ex=(kc?'shapeIDFilledTriangle':'shapeIDTriangle');break}case'down-triangle':{ex=(kc?'shapeIDFilledDownTriangle':'shapeIDDownTriangle');break}case'left-triangle':{ex=(kc?'shapeIDFilledLeftTriangle':'shapeIDLeftTriangle');break}case'right-triangle':{ex=(kc?'shapeIDFilledRightTriangle':'shapeIDRightTriangle');break}default:{throw new ss.Exception('Unable to map ShapeType to ShapeID')}}return parseInt(hs.reverseShapeMapping[ex])};hs.getNumPaneItems=function(e){return e.endIndex-e.startIndex};hs.calcCellClip=function(e){var ex=0;var kc=hs.isPaneFlagSet(e,'clip-to-cell-x');var kd=hs.isPaneFlagSet(e,'clip-to-cell-y');if(kc&&kd){ex=3}else if(kc){ex=1}else if(kd){ex=2}return ex};hs.isSupportedStampShape=function(e){if(!ss.keyExists(hs.reverseShapeMapping,e)){return false}var ex=true;switch(e){case'shapeIDFilledSquare':case'shapeIDSquare':{ex=false;break}default:{break}}return ex};global.tab.SceneDataUtil=hs;var ht=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;gb.call(this,null,new gI('sceneElement'.toString()));this.swapPresModel(e);this.set_sceneElementPM(e);this.set_paneId(new gs(e.paneId));this.set_bounds({minX:e.floatLeft,minY:e.floatTop,maxX:e.floatLeft+e.floatWidth,maxY:e.floatTop+e.floatHeight})};ht.__typeName='tab.SceneElementModel';global.tab.SceneElementModel=ht;var hu=function(e){this.$a={};this.$5=[];this.$6=[];this.$7=null;this.$9=null;this.$4=null;this.$8=null;this.$2$1=null;gb.call(this,e,new gI('scene'.toString()));this.$7=[];this.$9=[]};hu.__typeName='tab.SceneModel';hu.$0=function(e){if(ss.keyExists(e,'background')){var ex=e['background'].get_visualListPresModel().drawItems;for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];if(kd.type==='draw-solid-brush'){var ke=kd;return bG.fromColorCode(ke.color)}}}return null};global.tab.SceneModel=hu;var hv=function(){};hv.__typeName='tab.SceneUtils';hv.getPaneDescriptorKeyFromRuntimeData=function(e,ex){var kc=new ss.ObjectEnumerator(ex.PDMarks);try{while(kc.moveNext()){var kd=kc.current();var ke=kd.value;var kf=ke.Encodings.tuple_id;var kg=_.find(kf,function(kh){return kh===e});if(ss.isValue(kg)){return kd.key}}}finally{kc.dispose()}return''};global.tab.SceneUtils=hv;var hw=function(e){this.$9=null;this.$8=null;this.$9=e;this.$8=this.generateFrequencyDescription()};hw.__typeName='tab.Schedule';hw.$1=function(e){var ex=new Date;ex.setHours(ss.Int32.div(e,60));ex.setMinutes(e%60);ex.setSeconds(0);return ex.toLocaleTimeString()};hw.$2=function(e,ex){var kc=e+ex;kc=kc%1440;if(kc<0){kc=1440+kc}return kc};hw.$0=function(e,ex){var kc=e+ex;if(kc>1440){return 1}else if(kc<0){return-1}return 0};global.tab.Schedule=hw;var hx=function(){};hx.__typeName='tab.SchemaClientCommands';hx.addFieldToSheet=function(e,ex){var kc={};kc['fn']=e;kc['worksheet']=tsConfig.current_sheet_name;var kd=bZ.newCommand({ns:'tabdoc',cmd:'add-to-sheet'},kc);bJ.SendCommand(gU.create(kd,'immediately',function(ke){ex()},function(ke){ex()}))};hx.validateFieldCaption=function(e,ex,kc){var kd={};kd['uniqueName']=e;kd['caption']=ex;var ke=bZ.newCommand({ns:'tabdoc',cmd:'validate-field-caption'},kd);hN.executeServerCommand(ke,'none',function(kf){kc(kf)},null)};hx.editFieldCaption=function(e,ex,kc){var kd={};kd['uniqueName']=e;kd['caption']=ex;var ke=bZ.newCommand({ns:'tabdoc',cmd:'edit-schema-caption'},kd);bJ.SendCommand(new bC('none',function(kf){var kg=kf.makeMutablePresModel(kc.get_fieldsModel(),false);for(var kh=0;kh<kg.length;++kh){if(ss.referenceEquals(kg[kh].fn,e)){kg[kh].description=ex;break}}},ke))};hx.validateDrillPathName=function(e,ex,kc,kd){var ke={};ke['datasource']=e;if(ss.isValue(ex)){ke['drillPathName']=ex}ke['newDrillPath']=kc;var kf=bZ.newCommand({ns:'tabdoc',cmd:'validate-drill-path-name'},ke);hN.executeServerCommand(kf,'afterDelay',function(kg){kd(kg)},null)};hx.addDrillPath=function(e,ex,kc){var kd={};kd['datasource']=e;kd['newDrillPath']=ex;kd['fieldVector']=kc;var ke=bZ.newCommand({ns:'tabdoc',cmd:'add-drill-path'},kd);hN.executeServerCommand(ke,'immediately',bZ.createCommandRedirectSuccessHandler(null),null)};hx.renameDrillPath=function(e,ex,kc){var kd={};kd['datasource']=e;kd['drillPathName']=ex;kd['newDrillPath']=kc;var ke=bZ.newCommand({ns:'tabdoc',cmd:'rename-drill-path'},kd);hN.executeServerCommand(ke,'immediately',bZ.createCommandRedirectSuccessHandler(null),null)};hx.setActiveDataSourceName=function(e,ex){var kc={};kc['datasource']=e;var kd=(ex?{ns:'tabdoc',cmd:'set-active-data-source-name'}:{ns:'tabdoc',cmd:'set-active-datasource'});var ke=bZ.newCommand(kd,kc);ke.commandParams['datasource']=e;var kf=S.get_instance().get_workbook().get_uiMode()==='data-tab';var kg=null;if(kf){kg=function(ki){var kj=ki.makeMutablePresModel(S.get_instance().get_workbook().get_dataSchema(),false);kj.datasource=e}}var kh=$.Deferred();bJ.SendCommand(new bC((kf?'none':'immediately'),kg,ke,function(ki){kh.resolve()},function(ki){kh.reject()}));return kh};hx.dropOnSchemaDrillPath=function(e,ex,kc,kd){var ke=new dB;ke.c['datasource']=e.get_name();ke.c['columns']=ex.filter(function(kg){return kg.get_isColumn()}).map(function(kg){return kg.get_qualifiedLocalName()});ke.c['drillpathVector']=ex.filter(function(kg){return kg.get_isDrillPath()}).map(function(kg){return kg.get_localName().toString()});ke.c['drillPathName']=kc.get_localName();ke.set_uiBlocking('immediately');var kf=ke;kf.invoke().done(function(kg){kd(kg.$$c['dropCommandModel'])})};hx.dropOnSchemaField=function(e,ex,kc,kd){var ke=new dD;ke.c['datasource']=e.get_name();ke.c['columns']=ex.filter(function(kg){return kg.get_isColumn()}).map(function(kg){return kg.get_qualifiedLocalName()});ke.c['drillpathVector']=ex.filter(function(kg){return kg.get_isDrillPath()}).map(function(kg){return kg.get_localName().toString()});ke.c['fieldNameLocal']=kc.get_qualifiedLocalName();ke.set_uiBlocking('immediately');var kf=ke;kf.invoke().done(function(kg){kd(kg.$$c['dropCommandModel'])})};hx.dropOnSchemaSection=function(e,ex,kc,kd){var ke=new dF;ke.c['datasource']=e.get_name();ke.c['columns']=ex.filter(function(kg){return kg.get_isColumn()}).map(function(kg){return kg.get_qualifiedLocalName()});ke.c['drillpathVector']=ex.filter(function(kg){return kg.get_isDrillPath()}).map(function(kg){return kg.get_localName().toString()});ke.c['folderRole']=kc;ke.set_uiBlocking('immediately');var kf=ke;kf.invoke().done(function(kg){kd(kg.$$c['dropCommandModel'])})};hx.requestSchemaContextMenu=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'build-data-schema-context-menu'},null);var kd={};kd['datasource']=e.get_name();kc.commandParams=kd;bJ.SendCommand(gU.create(kc,'none',function(ke){ex(ke)},null))};hx.requestSchemaFieldContextMenu=function(e,ex,kc){var kd=bZ.newCommand({ns:'tabdoc',cmd:'build-data-schema-field-context-menu'},null);var ke={};ke['datasource']=e;ke['fn']=ex;kd.commandParams=ke;bJ.SendCommand(gU.create(kd,'none',function(kf){kc(kf)},null))};hx.requestDataTabFieldContextMenu=function(e,ex,kc){var kd=new bd;kd.c['datasource']=e;kd.c['fieldVector']=ex;var ke=kd;ke.invoke().then(kc)};hx.requestSchemaFieldChangeDataTypeMenu=function(e,ex,kc){var kd=new bh;kd.c['datasource']=e;kd.c['fieldVector']=ex;var ke=kd;ke.invoke().then(kc)};hx.requestSchemaDrillPathContextMenu=function(e,ex,kc){var kd=bZ.newCommand({ns:'tabdoc',cmd:'build-data-schema-drill-path-context-menu'},null);var ke={};ke['datasource']=e;ke['drillPathName']=ex;kd.commandParams=ke;bJ.SendCommand(gU.create(kd,'none',function(kf){kc(kf)},null))};hx.requestSchemaDataSourceContextMenu=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'build-data-schema-data-source-context-menu'},null);var kd={};kd['datasource']=e.get_name();kd['allowSaveDataSource']=tsConfig.allow_save_data_source;kc.commandParams=kd;bJ.SendCommand(gU.create(kc,'none',function(ke){ex(ke)},null))};hx.convertUnnamedFields=function(e){var ex=$.Deferred();var kc={};kc['fieldVector']=e;var kd=new gU(bZ.newCommand({ns:'tabdoc',cmd:'convert-unnamed-fields'},kc),'immediately',function(ke){ex.resolve(ke)},function(ke){ex.reject()});bJ.SendCommand(kd);return ex.promise()};hx.toggleFieldBlending=function(e,ex){var kc=$.Deferred();var kd={};kd['globalFieldName']=e;kd['worksheet']=tsConfig.current_sheet_name;var ke=new bC('immediately',ex,bZ.newCommand({ns:'tabdoc',cmd:'toggle-field-blending'},kd),function(kf){kc.resolve(kf)},function(kf){kc.reject()});bJ.SendCommand(ke);return kc.promise()};hx.renameDataSource=function(e,ex,kc){if(ss.isNullOrUndefined(e)){return}if(ss.referenceEquals(e.get_caption(),ex)){return}var kd=function(kg){var kh=kg.makeMutablePresModel(e,false);kh.datasourceCaption=ex};var ke={};ke['datasource']=e.get_name();ke['newDatasource']=ex;var kf=new bC('none',kd,bZ.newCommand({ns:'tabdoc',cmd:'rename-data-source'},ke),null,function(kg){kc()});bJ.SendCommand(kf)};hx.renameTableAliasInRelation=function(e,ex,kc){if(ss.isNullOrEmptyString(ex)){return}if(ss.referenceEquals(e,ex)){return}var kd={};kd['tableAlias']=e;kd['newTableAlias']=ex;var ke=bZ.newCommand({ns:'tabdoc',cmd:'connection-rename-table'},kd);var kf=new bC('immediately',null,ke,null,function(kg){kc()});bJ.SendCommand(kf)};hx.getHasUnusedFiles=function(e){var ex=new eM;var kc=function(kd){e(kd.$$c['bool'])};ex.invoke().then(kc)};global.tab.SchemaClientCommands=hx;var hy=function(){};hy.__typeName='tab.SchemaUtils';hy.getDataSourceNames=function(e){return _.map(e.get_dataSources(),function(ex){return ex.get_caption().toString()})};hy.isValidNewDatasourceCaption$1=function(e,ex,kc){var kd=hy.getDataSourceNames(ex);return hy.isValidNewDatasourceCaption(e,kd,kc)};hy.isValidNewDatasourceCaption=function(e,ex,kc){kc=(!ss.isNullOrEmptyString(kc)?kc.trim():null);return!(ss.isNullOrEmptyString(kc)||ss.referenceEquals(kc,e.get_caption())||kc.toString().length>254||ss.contains(ex,kc))};global.tab.SchemaUtils=hy;var hz=function(){ss.makeGenericType(W,[Object,hA]).call(this)};hz.__typeName='tab.SelectByTupleValueCmd';global.tab.SelectByTupleValueCmd=hz;var hA=function(e){this.$$c=null;this.$$c=e};hA.__typeName='tab.SelectByTupleValueCmd$Response';global.tab.SelectByTupleValueCmd$Response=hA;var hB=function(){ss.makeGenericType(W,[Object,hC]).call(this)};hB.__typeName='tab.SelectDataServerDataSourceForProxyCmd';global.tab.SelectDataServerDataSourceForProxyCmd=hB;var hC=function(e){this.$$c=null;this.$$c=e};hC.__typeName='tab.SelectDataServerDataSourceForProxyCmd$Response';global.tab.SelectDataServerDataSourceForProxyCmd$Response=hC;var hD=function(){ss.makeGenericType(W,[Object,hE]).call(this)};hD.__typeName='tab.SelectExtensionAndAddToDashboardCmd';global.tab.SelectExtensionAndAddToDashboardCmd=hD;var hE=function(e){this.$$c=null;this.$$c=e};hE.__typeName='tab.SelectExtensionAndAddToDashboardCmd$Response';global.tab.SelectExtensionAndAddToDashboardCmd$Response=hE;var hF=function(){};hF.__typeName='tab.SelectionClientCommands';hF.$j=function(){return tab.Logger.lazyGetLogger(hF)};hF.setActiveZone=function(e,ex){if(!tsConfig.allow_select){return}if(ge.isActiveZone(e)){return}bJ.SendCommand(hF.buildActiveZoneClientCommand(e,ex))};hF.clearActiveZone=function(){hF.setActiveZone(0,null)};hF.buildActiveZoneClientCommand=function(e,ex){var kc=new bC('none',function(kd){hF.setActiveZoneLocal(e,kd)},hF.$1(e,ex));return kc};hF.updateShowMeCommandsForSelectedFields=function(e,ex,kc){var kd={};kd['fieldVector']=e;kd['worksheet']=tsConfig.current_sheet_name;kd['datasource']=ex;var ke=bZ.newCommand({ns:'tabdoc',cmd:'get-show-me'},kd);bJ.SendCommand(gU.create(ke,'none',function(kf){kc(kf)},function(kf){kc(null)}))};hF.toggleLegendHighlight=function(e,ex,kc,kd,ke){if(!tsConfig.allow_highlight){return}var kf=hF.buildToggleLegendHighlightCommand(ex,kc,kd,ke,e);bJ.SendCommand(kf)};hF.buildToggleLegendHighlightCommand=function(e,ex,kc,kd,ke){var kf=!ge.isActiveZone(ke);var kg={};kg['r']=ex;kg['legendNames']=kc;bZ.addVisualIdToCommand(kg,e);if(kf){hF.$0(ke,kg)}var kh=bZ.newCommand({ns:'tabsrv',cmd:'toggle-legend-server'},kg);var ki=function(kj){if(ss.isValue(kd)){kd(kj)}};return new bC('immediately',function(kj){if(kf){hF.setActiveZoneLocal(ke,kj)}},kh,ki,null)};hF.$0=function(e,ex){ex['dashboardPm']=ge.findContentDashboard().pm.sheetPath;ex['zoneId']=e};hF.selectRegion=function(e,ex,kc,kd,ke){if(!tsConfig.allow_select||S.get_instance().get_isOffline()){return}var kf=hF.$9(ex,e,kc,kd,ke,null);var kg=bZ.newCommand({ns:'tabsrv',cmd:'select-region-no-return-server'},kf);hN.executeServerCommand(kg,'afterDelay')};hF.selectRectRegionAndDoUbertip=function(e,ex,kc,kd,ke,kf,kg){if(!tsConfig.allow_select){return}var kh=hF.$9(ex,e,kc,kd,kg,kf);var ki=bZ.newCommand({ns:'tabsrv',cmd:'select-region-no-return-server'},kh);hF.$b(ke,ki)};hF.selectCircleRegionAndDoUbertip=function(e,ex,kc,kd,ke,kf,kg){if(!tsConfig.allow_select){return}var kh=hF.$9(ex,e,kd,ke,null,null);var ki={};ki.center={};ki.center.x=Math.round(kc.center.x);ki.center.y=Math.round(kc.center.y);ki.radius=Math.round(kc.radius);kh['radialSelection']=ki;kh['radialDistanceHitTest']=kg;var kj=bZ.newCommand({ns:'tabsrv',cmd:'select-radial-region-no-return-server'},kh);hF.$b(kf,kj)};hF.selectPolyRegionAndDoUbertip=function(e,ex,kc,kd,ke,kf){if(!tsConfig.allow_select){return}var kg=hF.$9(ex,e,kd,ke,null,null);var kh=kc.length;var ki=new Array(kh);for(var kj=0;kj<kh;kj++){var kk={};kk.x=Math.round(kc[kj].x);kk.y=Math.round(kc[kj].y);ki[kj]=kk}kg['lassoSelection']=ki;var kl=bZ.newCommand({ns:'tabsrv',cmd:'select-lasso-region-no-return-server'},kg);hF.$b(kf,kl)};hF.$b=function(e,ex){ex.commandNamespace='tabsrv';var kc=new bC('afterDelay',null,ex,function(){e()},null);bJ.SendCommand(kc)};hF.clearAllSelections=function(e){if(!tsConfig.allow_select){return}var ex=ge.getZoneIdForSheetName(e.worksheet);if(ex!==-1&&!ge.isActiveZone(ex)){hF.setActiveZone(ex,null);return}var kc=hF.buildClearAllSelectionsCommand(e);bJ.SendCommand(kc)};hF.buildClearAllSelectionsCommand=function(e){var ex={};bZ.addVisualIdToCommand(ex,e);var kc=bZ.newCommand({ns:'tabsrv',cmd:'select-none'},ex);var kd=new bC((S.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(ke){if(S.get_instance().get_isLocalRenderMode()){var kf=hF.$4(ke);if(kf){L.executeActions(e.worksheet,'on-select',[],ke,true)}}},kc);return kd};hF.clearAllSelectionsIncludingMaster=function(){if(!tsConfig.allow_select){return}var e=hF.buildClearAllSelectionsIncludingMasterCommand();bJ.SendCommand(e)};hF.buildClearAllSelectionsIncludingMasterCommand=function(){var e={};e['sheet']=tsConfig.current_sheet_name;var ex=bZ.newCommand({ns:'tabdoc',cmd:'select-none-including-master'},e);var kc=new bC((S.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(kd){hF.$4(kd);hF.$2(kd);var ke=ge.getVisualModelsFromDashboard(ge.findContentDashboard());var kf=ss.getEnumerator(Object.keys(ke));try{while(kf.moveNext()){var kg=kf.current();var kh=ke[kg];L.executeActions(kh.get_visualId().worksheet,'on-select',[],kd,true)}}finally{kf.dispose()}},ex);return kc};hF.selectLegendItemsLocal=function(e,ex,kc,kd,ke,kf,kg){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty$1(kc)&&!kg){return}var kh=hF.buildSelectLegendItemsLocalCommand(e,ex,kc,kd,ke,kf);bJ.SendCommand(kh)};hF.$5=function(e,ex){var kc=ge.getVisualModelFromVisualId(ex);var kd=kc.get_selectionsModel();var ke=kd.get_allLegendSelections();for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];hF.$7(e,kg,false)}};hF.clearHighlighting=function(e,ex,kc,kd){var ke=bZ.newCommand({ns:'tabdoc',cmd:'clear-highlighting'},null);var kf={};bZ.addVisualIdToCommand(kf,kc);kf['fn']=ex;ke.commandParams=kf;var kg=new bC('none',function(kh){if(kd){hF.$5(kh,kc);hF.$c([],e,ge.getVisualModelFromVisualId(kc),kh)}},ke);bJ.SendCommand(kg)};hF.highlightItems=function(e,ex,kc,kd,ke){var kf=bZ.newCommand({ns:'tabdoc',cmd:'highlight-items'},null);var kg={};bZ.addVisualIdToCommand(kg,kd);kg['fn']=ex;kg['objectIds']=kc;kf.commandParams=kg;var kh=new bC('none',function(ki){if(ke){if(kc.length===0){hF.$5(ki,kd)}hF.$c(kc,e,ge.getVisualModelFromVisualId(kd),ki)}},kf);bJ.SendCommand(kh)};hF.buildSelectLegendItemsLocalCommand=function(e,ex,kc,kd,ke,kf){var kg=ge.getVisualModelFromVisualId(kd);var kh=kg.get_selectionsModel();var ki=kh.getLegendSelection(kf,ke.get_legendNames());var kj=hL.resolveLegendSelection(ex,kc,ke,ki);var kk=bZ.newCommand({ns:'tabdoc',cmd:'select-legend-items'},hF.$8(kj,kd,ke,kf,e));var kl=new bC('none',function(km){hF.setActiveZoneLocal(e,km);if(!ki.isAnyLegendItemSelected()&&kj.length===0&&!ge.isActiveZone(e)){return}var kn=km.makeMutablePresModel(ki,false);kn.objectIds=kj;kn.legendSelectionInfo={legendType:ke.get_legendTypeEnum(),legendColumns:ke.get_legendNames()};hF.$6(km,kh.tupleSelection,kg);hF.$6(km,kh.nodeSelection,kg);var ko=kh.get_allLegendSelections();for(var kp=0;kp<ko.length;kp++){var kq=ko[kp];if(!ss.referenceEquals(kq,ki)){hF.$6(km,kq,kg)}}hF.$3(km,kd,true);hF.$e(kj,ke,kg,km)},kk);return kl};hF.buildSelectNodeCommand=function(e,ex,kc,kd,ke,kf,kg){var kh=ge.getZoneIdForSheetName(kf.worksheet);var ki=ge.getVisualModelFromVisualId(kf);var kj=ki.get_selectionsModel();var kk=kj.nodeSelection;var kl=(L.willActionCauseTabChange(kf.worksheet,'on-select')?'afterDelay':'none');var km=2;var kn=null;if(ss.isValue(ke.extentsWidth)&&ss.isValue(ke.extentsHeight)){var ko=ke.extentsX||0;var kp=ke.extentsY||0;kn={x:ko,y:kp,w:ke.extentsWidth,h:ke.extentsHeight}}var kq=tab.RectXYUtil.shiftCoordsTowardsCenter(ex,kn,km);var kr={x:kq.x,y:kq.y,w:0,h:0};var ks=bZ.newCommand({ns:'tabsrv',cmd:'select-region-no-return-server'},null);ks.commandParams=hF.$9(kr,e,kc,kf,null,null);var kt=kh!==-1&&!ge.isActiveZone(kh);if(kt){hF.$0(kh,ks.commandParams)}var ku=kt||!S.get_instance().get_isTableCalcHighlightingMode();var kv=function(kx){if(kt){hF.setActiveZoneLocal(kh,kx)}if(S.get_instance().get_isTableCalcHighlightingMode()){return}var ky=kx.makeMutablePresModel(kk,false);hL.resolveNodeSelection(kc,kd.get_groupItemNodes(),ke,kk,ky);var kz=kc!=='toggle'&&kc!=='range';var kA=kj.tupleSelection.get_ids();if(kz){hF.$6(kx,kj.tupleSelection,ki);kA=[]}var kB=kj.get_allLegendSelections();for(var kC=0;kC<kB.length;kC++){var kD=kB[kC];hF.$6(kx,kD,ki)}hF.$3(kx,kf,true);ki.$5(ky.selectedNodes,kx.modelUpdateContext);L.executeActions(kf.worksheet,'on-select',ki.getEffectiveSelectedTuples(kA),kx,true)};var kw=new bC(kl,(ku?kv:null),ks,function(){if(ss.isValue(kg)){kg()}},null);return kw};hF.selectNode=function(e,ex,kc,kd,ke,kf,kg){if(!tsConfig.allow_select){return}var kh=hF.buildSelectNodeCommand(e,ex,kc,kd,ke,kf,kg);bJ.SendCommand(kh)};hF.selectMarksLocal=function(e,ex,kc,kd,ke){if(!tsConfig.allow_select){return}if(S.get_instance().get_isOffline()){var kf=hF.buildSelectMarksLocalCommand(e,ex,kc,kd,null);bJ.SendCommand(kf);ke()}else{var kg=hF.buildSelectMarksLocalCommand(e,ex,kc,kd,ke);bJ.SendCommand(kg)}};hF.buildSelectMarksLocalCommand=function(e,ex,kc,kd,ke){var kf=ge.getZoneIdForSheetName(ex.worksheet);var kg=ge.getVisualModelFromVisualId(ex);var kh=kg.get_selectionsModel();var ki=kh.tupleSelection;var kj=L.shouldFilterOnSelection(kg.get_visualId().worksheet);var kk;if(kj){kk='afterDelay'}else{kk=(L.willActionCauseTabChange(ex.worksheet,'on-select')?'afterDelay':'none')}var kl=bZ.newCommand({ns:'tabdoc',cmd:'select'},hF.$a(e,'tuples',kc,ex));var km=kf!==-1&&!ge.isActiveZone(kf);var kn=km||!S.get_instance().get_isTableCalcHighlightingMode();var ko=function(kq){if(km){hF.setActiveZoneLocal(kf,kq)}if(S.get_instance().get_isTableCalcHighlightingMode()){return}var kr=hL.resolveMarkSelection(kc,e,ki,kd);var ks=kq.makeMutablePresModel(ki,false);ks.objectIds=kr;if(kc!=='toggle'&&kc!=='range'){hF.$6(kq,kh.nodeSelection,kg)}var kt=kh.get_allLegendSelections();for(var ku=0;ku<kt.length;ku++){var kv=kt[ku];hF.$6(kq,kv,kg)}hF.$3(kq,ex,true);L.executeActions(ex.worksheet,'on-select',kg.getEffectiveSelectedTuples(kr),kq,true)};var kp=new bC(kk,(kn?ko:null),kl,function(kq){if(ss.isValue(ke)){ke()}},null);return kp};hF.$f=function(e,ex){if(ss.isNullOrUndefined(e)||!e.get_isBrushingComputed()){return}var kc=ge.getVisualModels(S.get_instance());var kd=_.keys(kc);for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];if(!e.hasBrushingForSheet(kf)){continue}var kg=kc[kf];hF.$i(e,ex,kg,kf);hF.$h(e,ex,kg,kf);hF.$g(e,ex,kg,kf);var kh=e.getLegendBrushing(kf);var ki=kg.get_brushingsModel().get_allLegendSelections();for(var kj=0;kj<ki.length;kj++){var kk=ki[kj];hF.$d(ex,kk,kh)}}};hF.$d=function(e,ex,kc){var kd=ex.get_selectionPresModel().legendSelectionInfo;var ke=[];var kf=ba.$0(kd.legendType,kd.legendColumns);if(ss.isValue(kc[kf])){ke=kc[kf]}if(ke.length!==0||ex.get_selectionPresModel().objectIds.length!==0){var kg=e.makeMutablePresModel(ex,false);kg.objectIds=ke}};hF.$g=function(e,ex,kc,kd){var ke=e.getNodeBrushing(kd);if(ke.length!==0||!kc.get_brushingsModel().nodeSelection.isEmpty){var kf=ex.makeMutablePresModel(kc.get_brushingsModel().nodeSelection,false);kf.selectedNodes=ke}};hF.$h=function(e,ex,kc,kd){var ke=kc.get_brushingsModel().trendLineSelection;var kf=e.getTrendlineBrushing(kd);if(kf.length!==0||ke.get_selectionPresModel().objectIds.length!==0){var kg=ex.makeMutablePresModel(ke,false);kg.objectIds=kf}};hF.$i=function(e,ex,kc,kd){var ke=e.getTupleBrushing(kd);if(ke.length!==0||kc.get_brushingsModel().tupleSelection.get_selectionPresModel().objectIds.length!==0){var kf=ex.makeMutablePresModel(kc.get_brushingsModel().tupleSelection,false);kf.objectIds=ke}};hF.$2=function(e){var ex=ge.getVisualModels(S.get_instance());var kc=ss.getEnumerator(Object.keys(ex));try{while(kc.moveNext()){var kd=kc.current();var ke=ex[kd];if(ke.get_brushingsModel().get_isEmpty()){continue}var kf=e.makeMutablePresModel(ke.get_brushingsModel().tupleSelection,false);kf.objectIds=[];var kg=e.makeMutablePresModel(ke.get_brushingsModel().nodeSelection,false);kg.selectedNodes=[];var kh=ke.get_brushingsModel().get_allLegendSelections();for(var ki=0;ki<kh.length;ki++){var kj=kh[ki];if(kj.isEmpty){continue}var kk=e.makeMutablePresModel(kj,false);var kl=[];kk.objectIds=kl}}}finally{kc.dispose()}};hF.$1=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'set-active-zone'},null);var kd={};kd['dashboardPm']=(ss.isNullOrUndefined(ex)?ge.findContentDashboard().pm.sheetPath:ex);kd['zoneId']=e;kc.commandParams=kd;return kc};hF.$c=function(e,ex,kc,kd){var ke=kc.get_vizDataModel();if(ss.isNullOrUndefined(ke)){return}var kf=ke.getVizDataField(ex.get_fieldName());var kg=[kf.get_fieldCaption()];var kh=ba.createBrushingComputer(ex,kc,e,kg,true);hF.$f(kh,kd)};hF.$e=function(e,ex,kc,kd){var ke=null;if(ex.get_isHighlightEnabled()){ke=ba.createBrushingComputer(ex,kc,e,ex.get_fieldCaptions(),ex.get_isOneWay())}hF.$f(ke,kd)};hF.$3=function(e,ex,kc){var kd=false;var ke=ge.getVisualModels(S.get_instance());var kf=ss.getEnumerator(Object.keys(ke));try{while(kf.moveNext()){var kg=kf.current();var kh=!ss.isNullOrUndefined(ex)&&ss.referenceEquals(kg,ex.worksheet);if(!kc||!kh){var ki=ge.findContentDashboard();var kj=!kc&&kh||!L.isFilterSource(ki,kg);var kk=ke[kg];var kl=kk.get_selectionsModel().selectionModels;for(var km=0;km<kl.length;km++){var kn=kl[km];if(kj||kn.get_selectionType()!=='tuples'&&kn.get_selectionType()!=='nodes'){kd=hF.$7(e,kn,true)||kd}}}}}finally{kf.dispose()}return kd};hF.$4=function(e){var ex=false;var kc=ge.getVisualModels(S.get_instance());var kd=ss.getEnumerator(Object.keys(kc));try{while(kd.moveNext()){var ke=kd.current();var kf=kc[ke];var kg=kf.get_selectionsModel().selectionModels;for(var kh=0;kh<kg.length;kh++){var ki=kg[kh];ex=hF.$7(e,ki,true)||ex}}}finally{kd.dispose()}return ex};hF.$9=function(e,ex,kc,kd,ke,kf){var kg={};bZ.addVisualIdToCommand(kg,kd);var kh=new Object;var ki=ju.create(kh);ki.set_x(Math.round(e.x));ki.set_y(Math.round(e.y));ki.set_w(Math.round(e.w||0));ki.set_h(Math.round(e.h||0));ki.set_r(ex);if(ss.isValue(ke)){ki.set_fns(ke)}kg['vizRegionRect']=kh;kg['mouseAction']=kc;kg['whitespaceSelectionBehavior']=kf;return kg};hF.$8=function(e,ex,kc,kd,ke){var kf={};bZ.addVisualIdToCommand(kf,ex);kf['legendNames']=kc.get_legendNames();kf['legendType']=kd;kf['objectIds']=e;kf['zoneId']=ke;return kf};hF.$6=function(e,ex,kc){if(ss.isValue(ex)){hF.$7(e,ex,false);if(ex.get_selectionType()==='nodes'){kc.$1(e.modelUpdateContext)}}};hF.$a=function(e,ex,kc,kd){var ke={};if(ss.isValue(kd)){bZ.addVisualIdToCommand(ke,kd)}var kf={};kf.objectIds=e;kf.selectionType=ex;ke['selection']=kf;ke['selectOptions']=hF.$k[kc];return ke};hF.setActiveZoneLocal=function(e,ex){var kc=ge.findContentDashboard();var kd=ex.makeMutablePresModel(kc,false);kd.activeZoneId=e};hF.$7=function(e,ex,kc){if(ex.isEmpty){return false}var kd=e.makeMutablePresModel(ex,false);kd.objectIds=[];kd.selectedNodes=[];if(kc){ex.setOverriddenTupleIds([],e.modelUpdateContext)}return true};global.tab.SelectionClientCommands=hF;var hG=function(e,ex){this.$5=null;this.$7=null;this.$6=null;this.$2$1=null;this.isEmpty=false;gb.call(this,e,new gI(ex.toString()));this.isEmpty=true};hG.__typeName='tab.SelectionModel';hG.$0=function(e,ex,kc,kd,ke,kf){var kg=new ss.StringBuilder;if(ss.isValue(e)){kg.append(e.join(';'))}kg.append('=');if(ss.isValue(ex)){kg.append(ex.join(';'))}kg.append('=');if(ss.isValue(kc)){kg.append(kc)}kg.append('=');if(ss.isValue(kd)){kg.append(kd);kg.append('+');if(ss.isValue(ke)){kg.append(ke)}}kg.append('=');if(ss.isValue(kf)){kg.append(kf)}return kg.toString()};global.tab.SelectionModel=hG;var hH=function(e,ex,kc){this.$1$1=false;this.$1$2=0;this.$1$3=null;this.set_invalidateViz(e);this.set_reason(ex);this.set_objectIds(kc||[])};hH.__typeName='tab.SelectionsDifference';hH.noDifference=function(){return new hH(false,0,null)};global.tab.SelectionsDifference=hH;var hI=function(){};hI.__typeName='tab.SelectionsDiffReason';global.tab.SelectionsDiffReason=hI;var hJ=function(e,ex){this.$2$1=null;this.selectionModels=null;this.tupleSelection=null;this.nodeSelection=null;this.refLineSelection=null;this.trendLineSelection=null;gb.call(this,e,new gI(ex,1));this.selectionModels=[];var kc=gi.get_noopContext();this.tupleSelection=this.$1('tuples',kc);this.nodeSelection=this.$1('nodes',kc);this.trendLineSelection=this.$1('trend-lines',kc);this.refLineSelection=this.$1('ref-lines',kc)};hJ.__typeName='tab.SelectionsModel';hJ.$1=function(e){var ex={};ex.selectionType=e;switch(e){case'ref-lines':case'trend-lines':case'annotations':case'tuples':{ex.objectIds=[];break}case'legend-items':{ex.legendSelectionInfo={};ex.objectIds=[];break}case'nodes':{ex.selectedNodes=[];break}default:{break}}return ex};hJ.$0=function(e,ex){var kc=[];var kd=new Set;for(var ke=0;ke<e.length;ke++){var kf=e[ke];kd.add(kf)}for(var kg=0;kg<ex.length;kg++){var kh=ex[kg];if(kd.has(kh)){kd.delete(kh)}else{kc.push(kh)}}kd.forEach(function(ki){kc.push(ki)});return kc};hJ.computeTupleDictionaryDifference=function(e,ex){var kc=tab.MapUtility.createCopy(String,ss.Int32).call(null,e);var kd=tab.MapUtility.createCopy(String,ss.Int32).call(null,ex);var ke=[];kc.forEach(function(kf,kg){if(!kd.has(kg)){ke.push(kc.get(kg))}else{kd.delete(kg)}});kd.forEach(function(kf,kg){ke.push(kd.get(kg))});return ke};global.tab.SelectionsModel=hJ;var hK=function(){this.selections=null};hK.__typeName='tab.SelectionsPresModel';global.tab.SelectionsPresModel=hK;var hL=function(){};hL.__typeName='tab.SelectionUtils';hL.isCategoricalAndTupleAssociatedHeader=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){return false}return!hL.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(e)&&tab.MiscUtil.isNullOrEmpty$3(e.fn)&&!tab.MiscUtil.isNullOrEmpty$2(e.columnIndices)};hL.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){return false}return tab.MiscUtil.isNullOrEmpty$2(e.columnIndices)&&!tab.MiscUtil.isNullOrEmpty$3(e.fn)};hL.isQuantitative=function(e){return ss.isValue(e)&&ss.isValue(e.node)&&ss.isValue(e.node.fn)};hL.resolveLegendSelection=function(e,ex,kc,kd){var ke=[];if(ss.isValue(ex)){var kf=kd.get_selectionPresModel()||{};switch(e){case'toggle':{if(ss.isValue(kf.objectIds)){ss.arrayAddRange(ke,kf.objectIds)}for(var kg=0;kg<ex.length;kg++){var kh=ex[kg];var ki=ss.indexOf(ke,kh.objectId);if(ki>=0){ss.removeAt(ke,ki)}else{ke.push(kh.objectId)}}break}case'range':{ke=hL.$2(ex,kc,kf);break}case'simple':{var kj=(ss.isValue(kf.objectIds)?kf.objectIds:[]);if(kj.length<=1){for(var kk=0;kk<ex.length;kk++){var kl=ex[kk];var km=ss.indexOf(kj,kl.objectId);if(km>=0){ss.removeAt(ke,km)}else{ke.push(kl.objectId)}}}else{ss.arrayAddRange(ke,_.pluck(ex,'objectId'.toString()))}break}}}return Array.prototype.slice.call(ke)};hL.resolveMarkSelection=function(e,ex,kc,kd){var ke=[];switch(e){case'simple':{if(!kd&&ex.length===1&&kc.get_ids().length===1&&ex[0]===kc.get_ids()[0]){ss.clear(ke)}else{ss.arrayAddRange(ke,ex)}break}case'range':case'toggle':{ss.arrayAddRange(ke,kc.get_ids());for(var kf=0;kf<ex.length;kf++){var kg=ex[kf];if(!kc.isObjectSelected(kg)){ke.push(kg)}else if(!kd){ss.remove(ke,kg)}}break}}return Array.prototype.slice.call(ke)};hL.resolveNodeSelection=function(e,ex,kc,kd,ke){var kf=null;if(ss.isValue(kc)){switch(e){case'simple':{kf=hL.$4(kc,kd);break}case'toggle':{kf=hL.$5(kc,kd);break}case'range':{kf=hL.$3(ex,kc,kd);break}}}ke.selectedNodes=kf||[]};hL.$2=function(e,ex,kc){var kd=[];if(!ss.isValue(kc.objectIds)){return kd}ss.arrayAddRange(kd,kc.objectIds);ss.arrayAddRange(kd,_.pluck(e,'objectId'.toString()));var ke=kc.objectIds[kc.objectIds.length-1];var kf=-1;for(var kg=0;kg<ex.get_items().length;kg++){if(ex.get_items()[kg].objectId===ke){kf=kg}}var kh=((e.length>0)?ss.indexOf(ex.get_items(),e[0]):-1);if(kf<0||kh<0){return _.uniq(kd)}var ki=Math.min(kf,kh);var kj=ki+Math.abs(kf-kh)+1;for(var kk=ki;kk<kj;kk++){kd.push(ex.get_items()[kk].objectId)}return _.uniq(kd)};hL.$0=function(e,ex,kc,kd){var ke=new Set;for(var kf=0;kf<e.length;kf++){var kg=e[kf];if(ss.isValue(kg.node.columnIndices)){tab.SetUtilities.addAll(ss.Int32).call(null,ke,kg.node.columnIndices)}}for(var kh=0;kh<ex.length;kh++){var ki=(kc?ex[ex.length-1-kh]:ex[kh]);if(ss.isValue(ki.columnIndices)&&tab.SetUtilities.interserctWith(ss.Int32).call(null,ke,ki.columnIndices).size===0){continue}var kj=hL.$1(e,ki,kd);if(kj!==-1){return kj}}return-1};hL.$1=function(e,ex,kc){if(ss.isValue(kc)&&!_.isEqual(kc,ex.columnIndices)){return-1}for(var kd=0;kd<e.length;kd++){var ke=e[kd];if(_.isEqual(ke.node,ex)){return kd}}return-1};hL.$3=function(e,ex,kc){var kd=hL.nodeSelectionFromDrawGroup(ex);var ke=kc.get_nodes().slice(0);if(tab.MiscUtil.isNullOrEmpty$2(kd.columnIndices)&&tab.MiscUtil.isNullOrEmpty$3(kd.fn)){return ke}if(ke.length===0){ke.push(kd);return ke}var kf=hL.isCategoricalAndTupleAssociatedHeader(kd);var kg=hL.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(kd);var kh=!kf&&!kg;var ki=hL.$0(e,kc.get_nodes(),true,(kf?kd.columnIndices:null));if(ki===-1){if(kf||kh&&!kc.isNodeAncestorSelected(ex)){ke.push(kd)}return ke}if(kc.isNodeSelected(ex)||kc.isNodeAncestorSelected(ex)){return ke}var kj=hL.$0(e,kc.get_nodes(),false,null);var kk=hL.nodeSelectionFromDrawGroup(e[kj]);if(kf){if(!_.isEqual(kk.columnIndices,kd.columnIndices)){ke.push(kd);return ke}}else{var kl=hL.$1(e,kk,null)!==-1;if(kg&&!kl){return ke}if(kh&&!kl){ke.push(kd);return ke}}var km=ss.indexOf(e,ex);var kn=Math.min(ki,km);var ko=kn+Math.abs(ki-km)+1;for(var kp=kn;kp<ko;kp++){var kq=e[kp];var kr=!kf||_.isEqual(kq.node.columnIndices,kd.columnIndices);if(kr&&!kc.isNodeAncestorSelected(kq)&&!kc.isNodeSelected(kq)){ke.push(hL.nodeSelectionFromDrawGroup(kq))}}return ke};hL.$4=function(e,ex){if(!ex.isNodeSelected(e)||ex.get_nodes().length>1){return[hL.nodeSelectionFromDrawGroup(e)]}return null};hL.$5=function(e,ex){var kc=[];ss.arrayAddRange(kc,ex.get_nodes());var kd=ex.findNodeSelection(e);if(ss.isValue(kd)){ss.remove(kc,kd)}else if(!ex.isNodeAncestorSelected(e)){kc.push(hL.nodeSelectionFromDrawGroup(e))}return Array.prototype.slice.call(kc)};hL.nodeSelectionFromDrawGroup=function(e){var ex={};if(!ss.isValue(e.node)){return ex}var kc=e.node;if(ss.isValue(kc.columnIndices)){ex.columnIndices=kc.columnIndices||[]}if(ss.isValue(kc.aliasIndices)){ex.aliasIndices=kc.aliasIndices||[]}if(ss.isValue(kc.fn)){ex.fn=kc.fn}if(ss.isValue(kc.axisOrientation)){ex.axisOrientation=kc.axisOrientation}if(ss.isValue(kc.duplicateIndex)){ex.duplicateIndex=kc.duplicateIndex}if(ss.isValue(kc.pageIndex)){ex.pageIndex=kc.pageIndex}return ex};global.tab.SelectionUtils=hL;var hM=function(e,ex,kc){this.scheduledAction=null;this.scheduleType=null;this.scheduleDetails=null;this.scheduledAction=e;this.scheduleType=ex;this.scheduleDetails=kc};hM.__typeName='tab.SelfServiceSchedule';global.tab.SelfServiceSchedule=hM;var hN=function(){};hN.__typeName='tab.ServerCommands';hN.get_interceptorCount=function(){var e=0;var ex=new ss.ObjectEnumerator(hN.$1);try{while(ex.moveNext()){var kc=ex.current();e+=kc.value.length}}finally{ex.dispose()}return e};hN.$0=function(e,ex){return e+':'+ex};hN.executeServerCommand=function(e,ex,kc,kd){var ke=hN.$1[hN.$0(e.commandNamespace,e.commandName)];if(ss.isValue(ke)){for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];if(kg(e)===1){return}}}bJ.SendCommand(gU.create(e,ex,kc,kd))};hN.intercept=function(e,ex){for(var kc=0;kc<e.length;kc++){var kd=e[kc];hN.addCommandInterceptor(ex,kd.ns,kd.cmd)}return ex};hN.addCommandInterceptor=function(e,ex,kc){var kd=hN.$0(ex,kc);var ke=hN.$1[kd];if(ss.isNullOrUndefined(ke)){ke=[];hN.$1[kd]=ke}ke.push(e);return e};hN.removeIntercept=function(e,ex){for(var kc=0;kc<e.length;kc++){var kd=e[kc];hN.removeCommandInterceptor(ex,kd.ns,kd.cmd)}};hN.removeCommandInterceptor=function(e,ex,kc){var kd=hN.$0(ex,kc);var ke=hN.$1[kd];if(!ss.isNullOrUndefined(ke)){for(var kf=0;kf<ke.length;kf++){if(ss.staticEquals(ke[kf],e)){ss.removeAt(ke,kf);if(ke.length===0){delete hN.$1[kd];return}}}}};hN.clearAllCommandInterceptors=function(){ss.clearKeys(hN.$1)};global.tab.ServerCommands=hN;var hO=function(){};hO.__typeName='tab.ServerFonts';hO.get_allCustomFonts=function(){return _.union(hO.tableauFontNames,hO.effectiveBentonSans)};global.tab.ServerFonts=hO;var hP=function(e,ex,kc,kd,ke,kf){this.$5=null;this.$2=null;this.$4=null;this.$3=null;this.$1=false;this.$5=e;this.$2=ex;this.$4=kc;this.$3=kd;if(ss.isNullOrUndefined(ke)||ke){this.$1=this.$5.incrementWait(kf,true)}};hP.__typeName='tab.SessionAjaxCallManager';global.tab.SessionAjaxCallManager=hP;var hQ=function(e,ex){this.$6=false;this.$5=null;this.$7=0;this.$4=1000;this.$9='';this.$8=null;this.$8=e;this.$5=ex;this.$9=e.$5('status')};hQ.__typeName='tab.SessionAjaxHandler';var hR=function(){};hR.__typeName='tab.SessionCommands';hR.ping=function(){(new gz).invoke()};global.tab.SessionCommands=hR;var hS=function(){};hS.__typeName='tab.SessionHeartbeat';hS.onVizportalPinged=function(){var e=tab.DateUtil.get_nowAsTime();hS.$0=e;if(e-hS.$1>hS.$3){hS.$1=e;hR.ping()}};hS.onVizqlPinged=function(){var e=tab.DateUtil.get_nowAsTime();hS.$1=e;if(e-hS.$0>hS.$2){hS.$0=e;jO.extendWorkgroupSession()}};global.tab.SessionHeartbeat=hS;var hT=function(){};hT.__typeName='tab.SessionServerCommands';hT.cancelLatestSetTimeout=function(){window.clearTimeout(hT.$1)};hT.destroySessionAndForward$1=function(e,ex){var kc=2000;var kd=function(){if(ss.referenceEquals(tab.WindowHelper.getLocation(e).href,ex)){tab.WindowHelper.reload(e,true)}else{tab.WindowHelper.setLocationHref(e,ex)}};var ke=null;ke=function(){kd();hT.cancelLatestSetTimeout();kc*=2;hT.$1=window.setTimeout(ke,kc)};var kf=function(){kd();if(tab.BrowserSupport.get_isMac()&&(tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isFF())){hT.$1=window.setTimeout(ke,kc)}};hT.destroySessionAndForward(kf)};hT.destroySessionAndForward=function(e){var ex=function(){e()};hT.$0(ex)};hT.$0=function(e){var ex=bJ.get().get_legacySession();X.get_waitHandler().showAndLock();var kc=ex.$0(e,function(){},function(){},'immediately');var kd={};kd.type='DELETE';kd.url=ex.$5('destroy');kd.headers=ss.mkdict(['Accept','text/javascript']);kd.dataType='json';ex.$c(kd,kc)};hT.switchToViz=function(e){var ex=jv.createForCurrentWindowLocation();var kc={};var kd=new ss.ObjectEnumerator(ex.get_queryParams());try{while(kd.moveNext()){var ke=kd.current();if(ke.value.length===1){kc[ke.key]=ke.value[0]}else{kc[ke.key]=ke.value}}}finally{kd.dispose()}$.extend(kc,ss.mkdict([':jsonOnly','true']));ex.updateForViewingSheet(e);var kf={type:'GET',url:ex.get_path(),headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',data:kc};var kg=bJ.get().get_legacySession();var kh=kg.$0(null,function(ki,kj,kk){bJ.get().switchViz(ki,ex)},null,'immediately');hT.$0(function(){kg.$c(kf,kh)})};global.tab.SessionServerCommands=hT;var hU=function(){ss.makeGenericType(W,[Object,hV]).call(this)};hU.__typeName='tab.SetDashboardCurrentLayoutCmd';global.tab.SetDashboardCurrentLayoutCmd=hU;var hV=function(e){this.$$c=null;this.$$c=e};hV.__typeName='tab.SetDashboardCurrentLayoutCmd$Response';global.tab.SetDashboardCurrentLayoutCmd$Response=hV;var hW=function(){ss.makeGenericType(W,[Object,hX]).call(this)};hW.__typeName='tab.SetDashboardSizingWithValidationCmd';global.tab.SetDashboardSizingWithValidationCmd=hW;var hX=function(e){this.$$c=null;this.$$c=e};hX.__typeName='tab.SetDashboardSizingWithValidationCmd$Response';global.tab.SetDashboardSizingWithValidationCmd$Response=hX;var hY=function(){ss.makeGenericType(W,[Object,hZ]).call(this)};hY.__typeName='tab.SetDataSourceDataRowCountCmd';global.tab.SetDataSourceDataRowCountCmd=hY;var hZ=function(e){this.$$c=null;this.$$c=e};hZ.__typeName='tab.SetDataSourceDataRowCountCmd$Response';global.tab.SetDataSourceDataRowCountCmd$Response=hZ;var ia=function(){ss.makeGenericType(W,[Object,ib]).call(this)};ia.__typeName='tab.SetVariablesPromptRespondedCmd';global.tab.SetVariablesPromptRespondedCmd=ia;var ib=function(e){this.$$c=null;this.$$c=e};ib.__typeName='tab.SetVariablesPromptRespondedCmd$Response';global.tab.SetVariablesPromptRespondedCmd$Response=ib;var ic=function(){this.$2={};this.$1={};this.$3={};this.$1$1=null};ic.__typeName='tab.ShapeManager';ic.get_canvasCacheCapacity=function(){return(tab.BrowserSupport.get_isMobile()?50:200)};ic.getCacheKey$1=function(e,ex,kc,kd,ke,kf){return e+';'+ex+';'+kc+';'+kd+';'+ke+';'+kf};ic.getCacheKey=function(e,ex,kc,kd,ke){return e+';'+ex+';'+kc+';'+kd+';'+ke};global.tab.ShapeManager=ic;var id=function(e,ex){this.$0=null;this.$1=null;this.$0=e;this.$1=ex};id.__typeName='tab.ShapeModel';id.fromString=function(e){var ex=new RegExp('^(:([^\\/]+)\\/)?([^\\/]+)$');var kc=ex.exec(e);if(ss.isNullOrUndefined(kc)){return null}var kd=kc[2];var ke=kc[3];if(ss.isNullOrUndefined(ke)){return null}var kf=null;if(ss.isValue(kd)){if(ss.referenceEquals(kd,'filled'.toString())){kf='filled'}else{return null}}var kg=ke;return new id(kf,kg)};global.tab.ShapeModel=id;var ie=function(){};ie.__typeName='tab.SheetClientCommands';ie.switchSheets=function(e){if(ss.isNullOrUndefined(e.oldSheetName)){e.oldSheetName=tsConfig.current_sheet_name}if(ss.equals(e.sheetName,e.oldSheetName)&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){return}bJ.get().prepareForSheetChange();var ex=ie.createSwitchSheetsCommand(e.sheetName);hN.executeServerCommand(ex,'immediately',e.successCallback,e.errorCallback)};ie.createSwitchSheetsCommand=function(e){var ex={};ex['targetSheet']=e;return bZ.newCommand({ns:'tabsrv',cmd:'ensure-layout-for-sheet'},ex)};ie.goToSheet=function(e){bJ.get().prepareForSheetChange();var ex={};ex['sheet']=e;var kc=bZ.newCommand({ns:'tabdoc',cmd:'goto-sheet'},ex);hN.executeServerCommand(kc,'immediately')};ie.ensureLayoutForSheet=function(e){var ex=ie.createSwitchSheetsCommand(e);hN.executeServerCommand(ex,'immediately')};ie.createSheet=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'new-worksheet'},null);ie.$0(kc,e,ex);hN.executeServerCommand(kc,'immediately',null,null)};ie.deleteSheet=function(e){var ex={};ex['sheet']=e;ex['promptDeleteSheetsWithVizInTooltip']=false;var kc=bZ.newCommand({ns:'tabdoc',cmd:'delete-sheet'},ex);hN.executeServerCommand(kc,'immediately',null,null)};ie.renameSheet=function(e,ex){var kc={};kc['sheet']=e;kc['newSheet']=ex;var kd=bZ.newCommand({ns:'tabdoc',cmd:'rename-sheet'},kc);hN.executeServerCommand(kd,'immediately',null,null)};ie.createDashboardOrStory=function(e,ex,kc){var kd=(kc?{ns:'tabdoc',cmd:'new-storyboard'}:{ns:'tabdoc',cmd:'new-dashboard'});var ke=bZ.newCommand(kd,null);ie.$0(ke,e,ex);hN.executeServerCommand(ke,'immediately',null,null)};ie.$0=function(e,ex,kc){e.commandParams={};if(ss.isValue(ex)){e.commandParams['newSheet']=ex}if(kc){e.commandParams['insertAtEnd']=kc.toString()}e.commandParams['shouldChangeUiMode']=true};ie.getSheetTabContextMenu=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'build-sheet-tab-context-menu'},null);kc.commandParams={};if(ss.isValue(e)){kc.commandParams['sheetName']=e}hN.executeServerCommand(kc,'none',function(kd){ex(kd)},null)};ie.getSheetListContextMenu=function(e,ex,kc){var kd=new bl;kd.c['sheetName']=e;kd.c['addAsFloating']=ex;var ke=kd;ke.invoke().then(kc)};ie.getLayoutTreeContextMenu=function(e,ex,kc){var kd=new bf;kd.c['dashboard']=e;kd.c['zoneId']=ex|0;var ke=kd;ke.invoke().then(kc)};ie.getCaptionContextMenu=function(e,ex){var kc=new bb;kc.c['sheetName']=e;var kd=kc;kd.invoke().then(ex)};ie.getTitleContextMenu=function(e,ex){var kc=new bn;kc.c['sheetName']=e;var kd=kc;kd.invoke().then(ex)};ie.$1=function(e){return{h:Math.floor(e.h),w:Math.floor(e.w)}};ie.setPortSize=function(e){var ex=bZ.newCommand({ns:'tabsrv',cmd:'set-port-size'},null);ex.commandParams={};ex.commandParams['sheet']=tsConfig.current_sheet_name;var kc,kd;if(tsConfig.is_authoring){kc=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard');kd=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('worksheet')}else{kc=((tab.FeatureFlags.isEnabled('IframeSizedToWindow')&&!tsConfig.is_mobile)?cL.calculateDashboardSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard'));kd=kc}ex.commandParams['worksheetPort']=ie.$1({h:kd.h,w:kd.w});ex.commandParams['dashboardPort']=ie.$1({h:kc.h,w:kc.w});ex.commandParams['storyPort']=ie.$1({h:kc.h,w:kc.w});hN.executeServerCommand(ex,'immediately');S.get_instance().get_workbook().withOuterDashboard(function(ke){ke.set_portSize(e)})};global.tab.SheetClientCommands=ie;var ig=function(e,ex){gb.call(this,e,new gI(ex.toString()))};ig.__typeName='tab.SheetListItemModel';global.tab.SheetListItemModel=ig;var ih=function(e){this.$2=null;this.$1=null;this.$2$1=null;gb.call(this,e,new gI('sheetList'.toString()));this.$1=new l(this)};ih.__typeName='tab.SheetListModel';global.tab.SheetListModel=ih;var ii=function(e,ex,kc){this.sheetId=null;X.call(this,e,kc);this.sheetId=ex};ii.__typeName='tab.SheetSession';ii.add_sheetDataChanged=function(e){ii.$2$1=ss.delegateCombine(ii.$2$1,e)};ii.remove_sheetDataChanged=function(e){ii.$2$1=ss.delegateRemove(ii.$2$1,e)};ii.fireSheetDataChanged=function(){if(ss.isValue(ii.$2$1)){ii.$2$1()}};global.tab.SheetSession=ii;var ij=function(e){gb.call(this,e,new gI('shelfItems'.toString(),1))};ij.__typeName='tab.ShelfItemsArrayModel';global.tab.ShelfItemsArrayModel=ij;var ik=function(e){gb.call(this,e,new gI('shelfList'.toString(),1))};ik.__typeName='tab.ShelfListArrayModel';global.tab.ShelfListArrayModel=ik;var il=function(e,ex){this.$2=null;this.$2$1=null;gb.call(this,e,new gI(ex.toString()))};il.__typeName='tab.ShelfModel';global.tab.ShelfModel=il;var im=function(e){this.$3=[];this.$2$1=null;gb.call(this,e,new gI('shelves'.toString()))};im.__typeName='tab.ShelvesModel';im.createShelfModel=function(e,ex,kc,kd,ke){var kf=new il(new ik(e),kd);kf.update(ex,kc,ke);return kf};global.tab.ShelvesModel=im;var io=function(){ss.makeGenericType(W,[Object,ip]).call(this)};io.__typeName='tab.ShowDashboardTitleCmd';global.tab.ShowDashboardTitleCmd=io;var ip=function(e){this.$$c=null;this.$$c=e};ip.__typeName='tab.ShowDashboardTitleCmd$Response';global.tab.ShowDashboardTitleCmd$Response=ip;var iq=function(){ss.makeGenericType(W,[Object,ir]).call(this)};iq.__typeName='tab.ShowEditAxisDialogCmd';global.tab.ShowEditAxisDialogCmd=iq;var ir=function(e){this.$$c=null;this.$$c=e};ir.__typeName='tab.ShowEditAxisDialogCmd$Response';global.tab.ShowEditAxisDialogCmd$Response=ir;var it=function(e){this.$0=null;this.$0=e};it.__typeName='tab.SimpleCommandsPresModelWrapper';it.create=function(e){if(ss.isNullOrUndefined(e)){return null}return new it(e)};global.tab.SimpleCommandsPresModelWrapper=it;var iu=function(){this.$1=null;this.$0(iu.fontFaces)};iu.__typeName='tab.SimpleFontListProvider';iu.$ctor1=function(e){this.$1=null;this.$0(e)};iu.$ctor2=function(e){this.$1=null;this.$1=ss.arrayFromEnumerable(e)};iu.$0=function(e){var ex=[];var kc=ss.getEnumerator(e);try{while(kc.moveNext()){var kd=kc.current();var ke=kd.get_fonts();for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];ex.push(kg)}}}finally{kc.dispose()}return Array.prototype.slice.call(ex)};global.tab.SimpleFontListProvider=iu;var iv=function(e,ex){this.$2$1=null;gb.call(this,e,new gI(ex.toString()))};iv.__typeName='tab.SizeItemModel';global.tab.SizeItemModel=iv;var iw=function(e){this.$2$1=null;gb.call(this,e,new gI('sortIndicators'.toString()))};iw.__typeName='tab.SortIndicatorsModel';global.tab.SortIndicatorsModel=iw;var ix=function(){};ix.__typeName='tab.SortServerCommands';ix.sortFromIndicator=function(e,ex,kc){var kd=ge.getZoneIdForSheetName(kc.worksheet);var ke=ix.$2(e,ex,kc,kd);var kf=bZ.newCommand({ns:'tabdoc',cmd:'sort-from-indicator'},ke);ix.$3(kd,kf)};ix.sortUsingSimpleCommandPresModel=function(e,ex){var kc=ge.getZoneIdForSheetName(ex.worksheet);var kd=it.create(e).get_simpleCommand();var ke=bV.deserialize(kd);bZ.addVisualIdToCommand(ke.commandParams,ex);ix.$3(kc,ke)};ix.quickSort=function(e,ex){var kc=ix.$1(e,ex);var kd=bZ.newCommand({ns:'tabdoc',cmd:'quick-sort'},kc);var ke=new bC('afterDelay',null,kd);bJ.SendCommand(ke)};ix.$3=function(e,ex){var kc=new bC('afterDelay',function(kd){if(ix.$0(e)){hF.setActiveZoneLocal(e,kd)}},ex);bJ.SendCommand(kc)};ix.$2=function(e,ex,kc,kd){var ke={};var kf={x:Math.floor(e.x),y:Math.floor(e.y)};var kg={x:Math.floor(ex.x),y:Math.floor(ex.y)};bZ.addVisualIdToCommand(ke,kc);ke['vizLocation']=JSON.stringify(tab.PointUtil.toPresModel(kf));ke['scrollOffset']=JSON.stringify(tab.PointUtil.toPresModel(kg));if(ix.$0(kd)){ke['dashboardPm']=ge.findContentDashboard().pm.sheetPath;ke['zoneId']=kd}return ke};ix.$0=function(e){return tsConfig.allow_select&&e!==-1&&!ge.isActiveZone(e)};ix.$1=function(e,ex){var kc={};bZ.addVisualIdToCommand(kc,e);kc['sortOrder']=ex;return kc};global.tab.SortServerCommands=ix;var iy=function(e,ex,kc,kd,ke){this.defaultSpace=null;this.left=null;this.right=null;this.bottom=null;this.top=null;this.$0=null;this.defaultSpace=e;this.left=ex;this.right=kc;this.top=kd;this.bottom=ke};iy.__typeName='tab.SpacingDefinition';global.tab.SpacingDefinition=iy;var iz=function(){ss.makeGenericType(W,[Object,iA]).call(this);this.set_uiBlocking('immediately')};iz.__typeName='tab.StartNewDataAlertCmd';global.tab.StartNewDataAlertCmd=iz;var iA=function(e){this.$$c=null;this.$$c=e};iA.__typeName='tab.StartNewDataAlertCmd$Response';global.tab.StartNewDataAlertCmd$Response=iA;var iB=function(){};iB.__typeName='tab.StartupUtils';iB.add_modelsInitialized=function(e){iB.$1$1=ss.delegateCombine(iB.$1$1,e)};iB.remove_modelsInitialized=function(e){iB.$1$1=ss.delegateRemove(iB.$1$1,e)};iB.add_clientFullyLoaded=function(e){iB.$1$2=ss.delegateCombine(iB.$1$2,e)};iB.remove_clientFullyLoaded=function(e){iB.$1$2=ss.delegateRemove(iB.$1$2,e)};iB.reset=function(){iB.$1=false;iB.$2=false;S.resetInstance()};iB.callAfterBootstrap=function(e){if(iB.$1){e()}else{var ex=null;ex=function(){e();iB.remove_clientFullyLoaded(ex)};iB.add_clientFullyLoaded(ex)}};iB.resetTsConfig=function(e){window['tsConfig']=e};iB.callAfterModelsInitialized=function(e){if(iB.$2){e()}else{var ex=null;ex=function(){e();iB.remove_modelsInitialized(ex)};iB.add_modelsInitialized(ex)}};iB.notifyModelsInitialized=function(){if(iB.$2){return}iB.$2=true;if(!ss.staticEquals(iB.$1$1,null)){iB.$1$1()}};iB.$0=function(){if(iB.$1){return}iB.$1=true;if(!ss.staticEquals(iB.$1$2,null)){iB.$1$2()}};global.tab.StartupUtils=iB;var iC=function(e,ex){this.$4=null;this.$2$1=null;this.$2$2=null;gb.call(this,e,new gI(ex.toString(),0));this.$4=new cF(this)};iC.__typeName='tab.StoryPointModel';global.tab.StoryPointModel=iC;var iD=function(e){this.$1=null;gb.call(this,e,new gI('storyPoints'.toString()))};iD.__typeName='tab.StoryPointsModel';global.tab.StoryPointsModel=iD;var iE=function(){this.$3=null;this.$3=new(ss.makeGenericType(fU,[String,B]))(iE.$6);jV.get().add_onCommandResponse(ss.mkdel(this,this.$0));iE.$5=new ss.Lazy(function(){return[{ns:'tabdoc',cmd:'capture-story-point'}.cmd,{ns:'tabdoc',cmd:'delete-story-point'}.cmd,{ns:'tabdoc',cmd:'duplicate-active-story-point'}.cmd,{ns:'tabdoc',cmd:'edit-story-point-caption'}.cmd,{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd,{ns:'tabdoc',cmd:'get-storyboard'}.cmd,{ns:'tabdoc',cmd:'insert-story-point'}.cmd,{ns:'tabdoc',cmd:'next-story-point'}.cmd,{ns:'tabdoc',cmd:'new-blank-story-point'}.cmd,{ns:'tabdoc',cmd:'previous-story-point'}.cmd,{ns:'tabdoc',cmd:'replace-story-point'}.cmd,{ns:'tabdoc',cmd:'revert'}.cmd,{ns:'tabdoc',cmd:'revert-story-point'}.cmd,{ns:'tabsrv',cmd:'revert-workbook'}.cmd,{ns:'tabdoc',cmd:'save-active-story-point-as-new'}.cmd,{ns:'tabdoc',cmd:'set-active-story-point'}.cmd,{ns:'tabdoc',cmd:'toggle-storypoints-nav-arrows'}.cmd]});if(ss.isValue(iE.$4)){this.$3.add(iE.$4.item1.toString(),iE.$4.item2);iE.$4=null}};iE.__typeName='tab.StoryPointsPresModelCache';iE.$0=function(e){if(!iE.$3(e)){return}var ex=iE.$1(e);if(ss.isValue(ex)){var kc=new B(ex);iE.$4={item1:ex.storyPointId,item2:kc}}jV.get().remove_onBootstrapResponse(iE.$0)};iE.$3=function(e){if(iE.$2(e)||!e.workbookPresModel.dashboardPresModel.isStory||e.renderMode!=='render-mode-client'){return false}return true};iE.$2=function(e){if(ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.zones)){return true}return false};iE.$1=function(e){if(e.renderMode!=='render-mode-client'){return null}if(iE.$2(e)){return null}var ex=null;var kc=e.workbookPresModel.dashboardPresModel.zones;var kd=_.keys(kc);for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];var kg=kc[kf];if(ss.isNullOrUndefined(kg)){continue}ex=ka.getContent(kg,'flipboard');if(ss.isValue(ex)){break}}if(ss.isNullOrUndefined(ex)){return null}var kh=ex.activeStoryPointId.toString();var ki=ex.storyPoints[kh];return ki};global.tab.StoryPointsPresModelCache=iE;var iF=function(e){this.$1=null;this.$2=null;this.$2$1=null;gb.call(this,e,new gI('styledBox'.toString(),0));this.$1=new fY;this.$2=new gn};iF.__typeName='tab.StyledBoxModel';global.tab.StyledBoxModel=iF;var iG=function(e){this.$1=null;this.$0=null;this.update(e)};iG.__typeName='tab.TableCalcIdentifierModel';global.tab.TableCalcIdentifierModel=iG;var iH=function(e){this.$4=null;this.$3=null;this.$2$1=null;this.$2$2=null;gb.call(this,e,new gI('tableCalculationPresModel'.toString()));this.set_tableCalcIdentifier(new iG(null));this.$3=new iI(this)};iH.__typeName='tab.TableCalcModel';iH.$0=function(e,ex){if(!(ex in e.presModelHolder)){return null}return e.presModelHolder[ex]};global.tab.TableCalcModel=iH;var iI=function(e){this.$2$1=null;gb.call(this,e,new gI('tableCalcOrderingPresModel'.toString()))};iI.__typeName='tab.TableCalcOrderingModel';global.tab.TableCalcOrderingModel=iI;var iJ=function(e){this.$2$1=null;gb.call(this,e,new gI('tableCalcReferenceOptionsPresModel'.toString()))};iJ.__typeName='tab.TableCalcReferenceModel';global.tab.TableCalcReferenceModel=iJ;var iK=function(){};iK.__typeName='tab.TabResources';iK.getResourceName=function(e){return e.substring(e.lastIndexOf('/')+1,e.lastIndexOf('.'))};iK.lookupResourceAlias=function(e){return(ss.keyExists(iK.$0,e)?iK.$0[e]:'')};iK.lookupFullResourceAlias=function(e){var ex=e.split('/');var kc=((ex.length>0)?ex[ex.length-1]:e);return iK.lookupResourceAlias(kc)};iK.lookupTabRes=function(e){return iK.lookupResourceAlias(e)};iK.lookupDefaultTabRes=function(e){return':/'+tsConfig.locale+'/'+iK.lookupResourceAlias(e)};global.tab.TabResources=iK;var iL=function(){};iL.__typeName='tab.TelemetryUtils';iL.generateUUID=function(){var e=function(){var kc='0123456789abcdefghijklmnopqrstuvwxyz';return String.fromCharCode(kc.charCodeAt(Math.floor(Math.random()*kc.length)))};var ex=function(kc){var kd='';for(var ke=0;ke<kc;++ke){kd+=e()}return kd};return(new Date).getTime().toString(32).toLowerCase()+'$'+ex(4)+'-'+ex(2)+'-'+ex(2)+'-'+ex(2)+'-'+ex(6)};global.tab.TelemetryUtils=iL;var iM=function(e,ex){this.$2$1=null;gb.call(this,e,new gI(ex))};iM.__typeName='tab.TextRegionModel';global.tab.TextRegionModel=iM;var iN=function(){ss.makeGenericType(W,[Object,iO]).call(this)};iN.__typeName='tab.ToggleINDJoinSemanticsCmd';global.tab.ToggleINDJoinSemanticsCmd=iN;var iO=function(e){this.$$c=null;this.$$c=e};iO.__typeName='tab.ToggleINDJoinSemanticsCmd$Response';global.tab.ToggleINDJoinSemanticsCmd$Response=iO;var iP=function(){ss.makeGenericType(jz,[Object,iQ]).call(this)};iP.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd';iP.get_commandName=function(){return'toggle-indjoin-semantics-wrapper'};global.tab.ToggleINDJoinSemanticsWrapperCmd=iP;var iQ=function(e){this.$$c=null;this.$$c=e};iQ.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd$Response';global.tab.ToggleINDJoinSemanticsWrapperCmd$Response=iQ;var iR=function(e){this.$2$1=null;gb.call(this,e,new gI('toolbarPresModel'.toString()))};iR.__typeName='tab.ToolbarModel';global.tab.ToolbarModel=iR;var iS=function(){};iS.__typeName='tab.ToolbarServerCommands';iS.get_authoringVizUri=function(){var e;var ex=null;if(ss.isNullOrEmptyString(ex)){e=jv.createForAuthoringPublishedSheet(tsConfig.repositoryUrl)}else{e=jv.createForAuthoringUnpublishedSheet(tsConfig.repositoryUrl,ex)}e.trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar();e.removeHash();return e};iS.setAutoUpdate=function(e){var ex={};ex['state']=e;var kc=bZ.newCommand({ns:'tabsrv',cmd:'set-auto-update-server'},ex);hN.executeServerCommand(kc,'immediately')};iS.refreshData=function(){var e={};e['deltaTime']=0;e['shouldRefreshDs']=true;var ex=bZ.newCommand({ns:'tabsrv',cmd:'refresh-data-server'},e);hN.executeServerCommand(ex,'immediately')};iS.launchEditing=function(){var e=iS.get_authoringVizUri();if(!tsConfig.openAuthoringInTopWindow&&(tabBootstrap.Utility.get_isEmbedded()||tsConfig.is_mobile_app)){tab.WindowHelper.open(e.get_uri(),'tableauAuthoring')}else{e.setTopWindowLocation()}};iS.downloadWorkbook=function(e,ex){var kc;if(ss.isValue(e)){kc=e}else{kc=tsConfig.downloadURI}var kd;if(tsConfig.is_metrics_view){kd=bJ.get().get_legacySession().metricsViewDownloadUrl()}else{kd=iS.$0(kc)}if(ss.isValue(ex)){kd=kd+'?formatVersion='+ex}window.open(kd)};iS.exportData=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(ge.findActiveOrDefaultVisual())){e=ge.findActiveOrDefaultVisual().get_worksheetName()}var ex=ge.findContentDashboard().getViewSession(e);if(ss.isValue(ex)){var kc=ge.findActiveOrDefaultVisual().get_visualId();window.open(ex.formatUnderlyingDataURL(null,kc),ex.getWindow('vud'),'scrollbars,resizable')}};iS.exportImage=function(e){var ex=S.get_instance().get_workbook().get_currentSheetStoryPointId();var kc=tableau.types.ExportDialogType['ExportImage'];var kd=[];var ke=[];if(ge.findContentDashboard().get_isDashboard()){var kf=e.get_sheetScrollPositions();if(ss.isValue(kf)){var kg=ss.getEnumerator(Object.keys(kf));try{while(kg.moveNext()){var kh=kg.current();var ki=kf[kh];var kj=ki.x;var kk=ki.y;if(kj!==0||kk!==0){ke.push({x:kj,y:kk});kd.push(kh)}}}finally{kg.dispose()}}}dO.exportImage(tsConfig.current_sheet_name,ex,kc,kd,ke)};iS.exportCrosstab=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(ge.findActiveOrDefaultVisual())){e=ge.findActiveOrDefaultVisual().get_worksheetName()}var ex=ge.findContentDashboard().getViewSession(e);if(ss.isValue(ex)){var kc=tableau.types.ExportDialogType['ExportCrosstab'];ex.fileDownloadHelper.openDownload(ex.formatExportCrossTabURL('utf16'),kc)}};iS.exportPdf=function(e){e.triggerExportPdfUI()};iS.$0=function(e){if(ss.isValue(e)){var ex=e.match(iS.$1);if(ss.isValue(ex)&&ex.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+ex[1]}}return e};global.tab.ToolbarServerCommands=iS;var iT=function(){this.$2=[];this.$3=null};iT.__typeName='tab.TrackingCommandDispatcher';global.tab.TrackingCommandDispatcher=iT;var iU=function(e){this.$2=null;this.$1=null;this.modelUpdateContext=null;this.modelUpdateContext=e;this.$2=[];this.$1=[]};iU.__typeName='tab.Transaction';iU.$0=function(e){if(e.length===0){return null}e=_.sortBy(e,function(kg){return kg.$1().get_pathList().length});var ex=S.get_instance().pm;var kc=gG.cloneObjWithScalarsOnly(ex);if(ss.isNullOrUndefined(kc)){kc=new Object}var kd=kc;for(var ke=0;ke<e.length;ke++){var kf=e[ke];gG.insertAtPath(ex,kd,kf.$1(),kf.$0())}return kd};global.tab.Transaction=iU;var iV=function(){this.$1=null;this.$0={}};iV.__typeName='tab.Transactor';global.tab.Transactor=iV;var iW=function(e,ex){gb.call(this,e,ex)};iW.__typeName='tab.TypeSpecificTableCalcModel';global.tab.TypeSpecificTableCalcModel=iW;var iX=function(){bO.call(this)};iX.__typeName='tab.UbertipButtonMenuModel';global.tab.UbertipButtonMenuModel=iX;var iY=function(){this.$2$1=null;this.$2$2=false;this.$2$3=null;gb.call(this,null,new gI('ubertipButton'))};iY.__typeName='tab.UbertipButtonModel';global.tab.UbertipButtonModel=iY;var iZ=function(){};iZ.__typeName='tab.UberTipClientCommands';iZ.$5=function(){return tab.LazyUtil.lazyInitStaticField(iZ,'commandPermissions',function(){return gx.buildCommandPermission()})};iZ.executeUbertipAction=function(e,ex,kc){var kd=new C(function(ke){L.executeAction(e,ex,kc,ke)});bJ.SendCommand(kd)};iZ.executeUbertipCommand=function(e){switch(e.get_commandType()){case 1:{hF.clearAllSelections(ge.findActiveOrDefaultVisual().get_visualId());break}case 2:case 10:{var ex=iZ.$4(e);hN.executeServerCommand(ex,'immediately');break}case 4:case 5:case 11:case 12:case 13:case 15:case 17:case 18:case 22:case 16:{hN.executeServerCommand(e.command,'immediately');break}case 21:{hN.executeServerCommand(e.command,'immediately',bZ.createCommandRedirectSuccessHandler(null),null);break}case 23:{var kc=bZ.newCommand({ns:'tabdoc',cmd:'select-by-tuple-value'},e.command.commandParams);hN.executeServerCommand(kc,'immediately');break}case 6:case 9:case 7:default:{return}}};iZ.localAndRemoteUberTipCommand=function(e,ex,kc,kd,ke,kf,kg,kh,ki,kj){var kk=iZ.$0(e,ex,kc,kd,kf,kg,kh,ki,kj,ke);bJ.SendCommand(kk)};iZ.filterUbertipButtonsByCommandPermissions=function(e,ex){return _.filter(e,function(kc){if(kc.get_isMenuButton()){return true}if(!ex.test(kc)){return false}return true})};iZ.$0=function(e,ex,kc,kd,ke,kf,kg,kh,ki,kj){var kk=new b(iZ.$1(e,kc,ke,kf),iZ.$3(ex,kc,kd,ki,null,kj),iZ.$2(true,kg,kc),kh);return kk};iZ.localOnlyUbertipCommand=function(e,ex,kc,kd){var ke=iZ.buildLocalOnlyUbertipCommand(e,ex,kc,kd);ke.set_commandName({ns:'tabsrv',cmd:'render-tooltip-server'}.cmd);bJ.SendCommand(ke)};iZ.buildLocalOnlyUbertipCommand=function(e,ex,kc,kd){var ke=new b(iZ.$1(e,ex,kc,kd),null,null,null);return ke};iZ.remoteOnlyUbertipCommand=function(e,ex,kc,kd,ke,kf,kg,kh,ki,kj){var kk=iZ.buildRemoteOnlyUberTipCommand(e,ex,kc,kd,ke,kf,kg,kh,ki,kj);bJ.SendCommand(kk)};iZ.buildRemoteOnlyUberTipCommand=function(e,ex,kc,kd,ke,kf,kg,kh,ki,kj){var kk=null;if(ki&&ss.isValue(kh)){kk=function(km){L.executeActions(ex.worksheet,'on-hover',kh,km,false)}}var kl=new b(kk,iZ.$3(e,ex,kc,kf,kg,kj),iZ.$2(false,kd,ex),ke);return kl};iZ.$1=function(e,ex,kc,kd){return function(ke){var kf=ja.createLocalUberTipModel(e,ge.getVisualModelFromVisualId(ex),kc,tsConfig.is_authoring);if(ss.isValue(kf)){kf.isUpdate=false;kf.buttonModels=iZ.filterUbertipButtonsByCommandPermissions(kf.buttonModels,iZ.$5())}kd(kf);L.executeActions(ex.worksheet,'on-hover',[kc.get_interactedTupleId()],ke,false)}};iZ.$3=function(e,ex,kc,kd,ke,kf){var kg={};bZ.addVisualIdToCommand(kg,ex);if(ss.isValue(kf)){kg['tupleIds']=[ss.unbox(kf)]}var kh=new Object;var ki=ju.create(kh);ki.set_r(e);ki.set_x(Math.round(kc.x));ki.set_y(Math.round(kc.y));ki.set_w(Math.round(kc.w));ki.set_h(Math.round(kc.h));ki.set_fns(ke);kg['vizRegionRect']=kh;kg['allowHoverActions']=tsConfig.is_mobile||kd==='on-hover';kg['allowPromptText']=true;kg['allowWork']=tsConfig.is_mobile;kg['useInlineImages']=true;return bZ.newCommand({ns:'tabsrv',cmd:'render-tooltip-server'},kg)};iZ.$2=function(e,ex,kc){return function(kd){if(!ss.isValue(kd)){return}var ke=kd.toString();var kf=(ss.isNullOrEmptyString(ke)?null:JSON.parse(ke));en.notifyFontsFromUberTipPresModel(kf);var kg=ja.deserializeUbertip(kf,kc);if(ss.isValue(kg)){kg.isUpdate=e;kg.buttonModels=iZ.filterUbertipButtonsByCommandPermissions(kg.buttonModels,iZ.$5())}if(ss.isValue(ex)){ex(kg)}en.$5()}};iZ.$4=function(e){var ex=bZ.duplicateCommand(e.command);var kc=ex.commandParams;var kd=kc['tupleId'];delete kc['tupleId'];if(!ss.keyExists(kc,'selectAtPoint')&&ss.isValue(kd)){var ke=[parseInt(kd.toString())];var kf={};kf.objectIds=ke;kf.selectionType='tuples';kc['selection']=kf}return ex};global.tab.UberTipClientCommands=iZ;var ja=function(){};ja.__typeName='tab.UbertipSerializer';ja.deserializeUbertip=function(e,ex){if(ss.isNullOrUndefined(e)){return null}var kc=[];if(ss.isValue(e.selectionRelaxationCommands)){ja.$1(e.selectionRelaxationCommands,kc,0)}var kd=[];if(ss.isValue(e.actions)){ja.$1(e.actions,kd,0)}var ke={};if(ss.isValue(e.commands)){ke.buttonModels=ja.$2(e,ex,null)}ke.tooltipHtml=ja.$b(e.htmlTooltip);ke.selectionHtml=ja.$b(e.htmlSelection);ke.overlayImage=ja.$b(e.overlayImage);ke.overlayImageKey=ja.$b(e.overlayImageKey);ke.tupleId=e.tupleId;ke.interactedTupleId=e.tupleId;ke.imageRegion=e.r;ke.tupleSelected=e.tupleSelected||false;ke.refLineSelected=e.refLineSelected||false;ke.trendLineSelected=e.trendLineSelected||false;ke.isExplicitlyEmpty=e.isEmpty||false;ke.tooltipOffset=tab.PointUtil.fromPresModel(e.tooltipOffset);ke.markBounds=tab.RecordCast.rectPresModelAsRectXY(e.markTooltipRect);ke.contentCommands=kc;ke.actions=kd;if(ss.isValue(ke.overlayImage)||ss.isValue(ke.overlayImageKey)){var kf=e.overlayAnchors.length;ke.overlayAnchors=new Array(kf);for(var kg=0;kg<kf;++kg){var kh=e.overlayAnchors[kg];var ki=tab.PointUtil.fromPresModel(kh);ke.overlayAnchors[kg]={x:ki.x,y:ki.y}}}if(ss.isValue(ke.tooltipHtml)||ss.isValue(ke.selectionHtml)||ss.isValue(ke.buttonModels)&&ke.buttonModels.length>0||kd.length>0){return ke}return null};ja.createLocalUberTipModel=function(e,ex,kc,kd){var ke=kc.get_interactedTupleId();var kf=kc.get_affectedTupleIds();var kg=kc.get_paneDescriptorKey();var kh=ex.get_vizDataModel();if(ss.isNullOrUndefined(kh)){return null}var ki=kh.get_ubertipData();var kj=ja.$9(ki,kg);var kk=ja.$7(kj.htmlTooltip,ex.get_visualId(),ke);var kl=S.get_instance().get_dataDictionary();var km=kj.htmlTooltip;var kn=kh.getVizDataField(ki.fn);if(ss.isValue(kn)){var ko=jp.lookupRawDataValue(ke,kn,kl);if(ss.contains(kj.fieldVector,ko)){km=kj.htmlTooltipModified}}var kp=jr.constructHtml(kl,km,kh,[ke]);var kq=null;var kr=false;if(kf.length>1&&kj.showButtons){kr=true;kq=ja.$8(kl,kh,kf,kj.summaryField)}var ks=[];var kt=ke;if(kt<0){kt=0}var ku=jr.hasTupleWithNonTotalValue(kh,kl,kf);if(kj.showButtons&&kh.hasDimensionColumnNotMeasureNames()){if(ku){var kv=ja.$d(null,e);ks=ja.$3(ki.standardCommands,ex.get_visualId(),e,kt,kv)}if(kr){var kw=ja.$d(null,e);ks=ja.$3(ki.multiselectCommands,ex.get_visualId(),e,kt,kw)}ks=_.filter(ks,function(kB){return kB.get_commandType()!==10});if(kd){var kx=ja.$5();ks.push(kx)}}var ky;if(ku){ky=L.getApplicableActions(ex.get_visualId().worksheet,'explicitly',null);ky=_.filter(ky,function(kB){if(kB.activation==='explicitly'&&L.getActionType(kB)!=='url'&&kB.targetWorksheets.length===0){return false}return true})}else{ky=[]}var kz=kj.htmlTooltip.toString().length===0;if(ss.isValue(kp)||ss.isValue(kq)||ks.length>0||ky.length>0){var kA={tooltipHtml:kp,selectionHtml:kq,tupleId:kt,interactedTupleId:ke,isExplicitlyEmpty:kz,actionPMs:ky,buttonModels:ks,contentCommands:kk,visualId:ex.get_visualId()};return kA}return null};ja.$5=function(){var e=new bQ;e.set_commandType(10);e.imageRes=iK.lookupResourceAlias('TQRC_SPLIT');e.set_name('');var ex=e;if(tsConfig.is_mobile){var kc=tab.Strings.UbertipTooltip_GroupMobile;var kd=tab.Strings.UbertipTooltip_SplitMobile;ex.description=((kd.length>kc.length)?kd:kc)}var ke=new bR;ke.update(ex,true);return ke};ja.paneContainsViT=function(e,ex){if(ss.isNullOrUndefined(e)){return false}var kc=e.get_vizDataModel();if(ss.isNullOrUndefined(kc)){return false}var kd=kc.get_ubertipData();if(ss.isNullOrUndefined(kd)){return false}if(ss.isNullOrUndefined(ex)){for(var ke=0;ke<kd.ubertipPaneDatas.length;ke++){var kf=kd.ubertipPaneDatas[ke];if(jr.objectContainsVizInTooltip($(kf.htmlTooltip))){return true}}return false}else{return jr.objectContainsVizInTooltip($(ja.$9(kd,ex).htmlTooltip))}};ja.$9=function(e,ex){if(e.ubertipPaneDatas.length===1){return e.ubertipPaneDatas[0]}for(var kc=0;kc<e.ubertipPaneDatas.length;kc++){var kd=e.ubertipPaneDatas[kc];if(ss.isValue(kd.paneDescriptor)){if(ss.referenceEquals(kd.paneDescriptor.paneDescrKey,ex)){return kd}}}return null};ja.$7=function(e,ex,kc){if(kc===0){return[]}var kd=$(e);var ke=kd.find('a.relax-selection');var kf=ke.length;var kg=[];for(var kh=0;kh<kf;kh++){var ki=ke.eq(kh);var kj=ki.children().eq(0);var kk=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(kj.text(),'<[','['),']>',']'),'>>','>'),'<<','<');var kl=ki.attr('href');var km=ja.$0(ex,kk,kl,kc);kg[kh]=km}return kg};ja.$0=function(e,ex,kc,kd){var ke={};ke['visualIdPresModel']=e;ke['worksheet']=e.worksheet;ke['fn']=ex;ke['tupleId']=kd.toString();var kf=bZ.newCommand({ns:'tabdoc',cmd:'select-by-tuple-value'},ke);var kg=new bQ;kg.set_commandType(23);kg.set_name(kc);kg.command=kf;var kh=kg;return kh};ja.$8=function(e,ex,kc,kd){var ke=ex.getVizDataField(kd||'');if(ss.isValue(ke)){var kf=[];$.extend.apply(null,[true,kf].concat(ja.$e));kf[2]=kc.length.toString();kf[4]=tab.Strings.UbertipItemsSelected;if(ke.get_aggType()!=='sum'){kf[8]=tab.Strings.SumOf}kf[10]=kd;kf[14]='&lt;'+kd+'&gt;';var kg=kf.join('');return jr.constructHtml(e,kg,ex,kc)}else{ja.$f[2]=kc.length.toString();ja.$f[4]=tab.Strings.UbertipItemsSelected;return ja.$f.join('')}};ja.$d=function(e,ex){var kc=ss.isNullOrUndefined(ex);var kd=false;if(ss.isValue(e)&&ss.isValue(e.r)){switch(e.r){case'viz':case'xheader':case'yheader':case'bottomaxis':case'leftaxis':case'rightaxis':case'topaxis':{kd=true;break}}kd=kd&&!e.refLineSelected&&!e.trendLineSelected}return!tsConfig.previewMode&&(kd||!kc)};ja.$c=function(){return tsConfig.is_mobile};ja.$1=function(e,ex,kc){var kd=bX.create(e);if(ss.isNullOrUndefined(kd)||ss.isNullOrUndefined(kd.get_commandItems())){return}var ke=kd.get_commandItems();for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];var kh=bP.create(kg);var ki=new bQ;ki.command=bV.deserialize(kh.get_command());var kj=ki;if(ss.isValue(kj.command)){ja.buildCommandModelFromWrapper(kj,kh,kc);ex.push(kj)}if(ss.isValue(kh.get_commands())){ja.$1(kh.get_commands(),ex,kc)}}};ja.$2=function(e,ex,kc){var kd=e.commands;var ke=ja.$d(e,kc);return ja.$3(kd,ex,kc,0,ke)};ja.$3=function(e,ex,kc,kd,ke){var kf=bX.create(e);if(ss.isNullOrUndefined(kf)||ss.isNullOrUndefined(kf.get_commandItems())){return[]}var kg=[];var kh=kf.get_commandItems();for(var ki=0;ki<kh.length;ki++){var kj=kh[ki];var kk=bP.create(kj).get_command();var kl=ss.isNullOrUndefined(kk);if(kl){var km=new iX;km.update(kj,kd);kg.push(km)}else{var kn=new bO;kn.update(kj,kd);kg.push(kn)}}if(ke&&kg.length>0){var ko=ss.isNullOrUndefined(kc);kg.push(ja.$6(kg,ko,kc,ex))}if(ja.$c()){kg.push(ja.$4())}return kg};ja.$6=function(e,ex,kc,kd){var ke=new bQ;ke.set_commandType(7);ke.status='enabled';ke.description=tab.Strings.UbertipTooltip_ViewData;ke.command=bZ.newCommand({ns:'tabdoc',cmd:'viewData'},{});var kf=ke;var kg=ja.$a(e,ex,kc);if(ss.isValue(kg)){kf.command.commandParams['selectAtPoint']=kg}if(ss.isValue(kd)){kf.command.commandParams['visualId']=kd}var kh=new bR;kh.update(kf,false);return kh};ja.$a=function(e,ex,kc){if(ex){for(var kd=0;kd<e.length;kd++){var ke=e[kd];if(ss.isValue(ke.get_serializedCommand())&&ss.isValue(ke.get_serializedCommand().commandParams)&&ss.keyExists(ke.get_serializedCommand().commandParams,'selectAtPoint')){return ke.get_serializedCommand().commandParams['selectAtPoint']}}return null}else{return JSON.stringify(tab.PointUtil.toPresModel(kc))}};ja.$4=function(){var e=new bQ;e.set_commandType(1);e.set_name(tab.Strings.UbertipClearSelection);e.status='enabled';var ex=e;var kc=new bR;kc.update(ex,false);return kc};ja.buildCommandModelFromWrapper=function(e,ex,kc){ja.setCommandType(e);e.set_name(ex.get_name());e.description=ex.get_description();if(!tab.MiscUtil.isNullOrEmpty$3(ex.get_iconRes())){e.imageRes=iK.lookupFullResourceAlias(ex.get_iconRes())}var kd=ex.get_enabled();e.status=((ss.isNullOrUndefined(kd)||kd)?'enabled':'disabled');if(kc!==0&&!ss.isValue(e.command.commandParams['selectAtPoint'])){e.command.commandParams['tupleId']=kc.toString()}};ja.setCommandType=function(e){var ex=bV.getCommandType(e.command);if(ss.isValue(ex)){e.set_commandType(ss.unbox(ex))}};ja.$b=function(e){return(ss.isNullOrEmptyString(e)?null:e)};global.tab.UbertipSerializer=ja;var jb=function(){this.$0=null;this.$0={}};jb.__typeName='tab.UnionFontFamilyProviderBuilder';global.tab.UnionFontFamilyProviderBuilder=jb;var jc=function(){ss.makeGenericType(W,[Object,jd]).call(this)};jc.__typeName='tab.UpdateDataAlertCmd';global.tab.UpdateDataAlertCmd=jc;var jd=function(e){this.$$c=null;this.$$c=e};jd.__typeName='tab.UpdateDataAlertCmd$Response';global.tab.UpdateDataAlertCmd$Response=jd;var je=function(){};je.__typeName='tab.UriPathStripper';je.getModuleFromPath=function(e,ex){var kc=tsConfig.site_root||'';var kd=e.indexOf(kc,0);var ke;if(kd===-1){ke=e.substr(1)}else{var kf=kd+kc.length;ke=e.substr(kf+1)}for(var kg=0;kg<ex.length;kg++){var kh=ex[kg];if(ss.startsWithString(ke,kh+'/')||ss.referenceEquals(ke,kh)){return kh}}return''};je.getMeatFromPath=function(e,ex){var kc=je.getModuleFromPath(e,ex);var kd=e.indexOf(kc,0);return e.substr(kd+kc.length+1)};global.tab.UriPathStripper=je;var jf=function(){};jf.__typeName='tab.UrlStringReplacementOutcome';global.tab.UrlStringReplacementOutcome=jf;var jg=function(){};jg.__typeName='tab.UserFactory';jg.currentUser=function(){return{id:tsConfig.current_user_id,friendlyName:tsConfig.current_user_friendly_name,username:tsConfig.current_user_name,hasEmail:!ss.isNullOrEmptyString(tsConfig.current_user_email)}};global.tab.UserFactory=jg;var jh=function(e){gb.call(this,e,new gI('geometry'))};jh.__typeName='tab.ViewGeometryModel';global.tab.ViewGeometryModel=jh;var ji=function(e,ex,kc,kd){this.viewid=null;ii.call(this,e,ex,kd);this.viewid=kc};ji.__typeName='tab.ViewSession';global.tab.ViewSession=ji;var jj=function(){};jj.__typeName='tab.VisualColumnHelpers';jj.copyArray=function(e,ex,kc){return Array.prototype.slice.call(e,ex,ex+kc)};jj.transformColumn=function(e,ex){if(ss.isNullOrUndefined(e)){return false}e.transform(ex);return true};jj.createDataArray=function(e,ex,kc){var kd=Array.prototype.slice.call(e.dataValues,ex,ex+kc);return jk.create(kd)};jj.buildColorTable=function(e,ex,kc,kd){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(ex)||!ex.has('color_idx')){return null}var ke=1;if(ex.has('alpha')&&ex.get('alpha').c){var kf=ex.get('alpha');ke=kf.v[(kf.c?0:0)]}var kg=[];var kh={};var ki=ex.get('color_idx');var kj=ki.length;for(var kk=0;kk<kj;kk++){var kl=ki.v[(ki.c?0:kk)];if(ss.keyExists(kh,kl)){ki.v[(ki.c?0:kk)]=kh[kl]}else{var km=bG.fromArgbInt(e.colorList[kl]);km=new bG(km.get_r(),km.get_g(),km.get_b(),ke*km.get_a());kg.push(hs.createColorCollection(km,kc,kd));ki.v[(ki.c?0:kk)]=kg.length-1;kh[kl]=ki.v[(ki.c?0:kk)]}}return kg};jj.buildOpaqueColorTable=function(e){if(ss.isNullOrUndefined(e)){return null}var ex=[];for(var kc=0,kd=e.length;kc<kd;kc++){ex[kc]=hs.createOpaqueColorCollection(e[kc])}return ex};global.tab.VisualColumnHelpers=jj;var jk=function(e){this.v=null;this.length=0;this.isValid=false;this.c=false;this.v=e;this.isValid=ss.isValue(this.v)&&this.v.length>0;this.length=(this.isValid?this.v.length:0);this.c=false};jk.__typeName='tab.VisualColumnIterator';jk.create=function(e){if(ss.isNullOrUndefined(e)){return null}if(e.length===1){return new D(e)}return new jk(e)};global.tab.VisualColumnIterator=jk;var jl=function(e){this.$1=null;this.$2$1=null;gb.call(this,e,new gI('visuallist'))};jl.__typeName='tab.VisualListModel';global.tab.VisualListModel=jl;var jm=function(e){this.$t=null;this.$m=null;this.$d=null;this.$h={};this.$j=null;this.$b=null;this.$u=null;this.$s=null;this.$n=null;this.$p=null;this.$o=null;this.$v=null;this.$z=null;this.$f=null;this.$x=null;this.$w=null;this.$k=null;this.$l=null;this.$a=null;this.$i=null;this.$9=null;this.$e=null;this.$y=false;this.$c=false;this.$g=false;this.$q=null;this.$r=$.Deferred();this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.resizeInfoModel=null;gb.call(this,e,new gI('visual'.toString()));this.$l=new Map;this.$a=new Map;this.$i=new Map;this.$9=new Map;this.$t=new hJ(this,'selectionList'.toString());this.$m=new hG(null,-1);this.$d=new hJ(this,'brushingSelectionList'.toString());this.$y=true;this.$c=false;this.$g=false;this.$m.update(hJ.$1('tuples'),gi.get_noopContext())};jm.__typeName='tab.VisualModel';jm.$0=function(){return tab.Logger.lazyGetLogger(jm)};global.tab.VisualModel=jm;var jn=function(){};jn.__typeName='tab.VizClientCommands';jn.invalidateVisualModel=function(e){jn.$0(e,false)};jn.validateVisualModel=function(e){jn.$0(e,true)};jn.$0=function(e,ex){var kc=new C(function(kd){ge.setVisualValidAndUpToDateStateOnModel(kd,e,ex)});bJ.SendCommand(kc)};jn.setUIMode=function(e,ex,kc){var kd=S.get_instance().get_workbook();if(kd.get_uiMode()===e){return}var ke=ss.referenceEquals(kc,tsConfig.current_sheet_name);var kf=e==='document'&&ke;var kg=new bA;kg.c['uiMode']=e;kg.set_uiBlocking((kf?'none':'immediately'));var kh=kg;if(!ss.isNullOrEmptyString(kc)){kh.c['sheetName']=kc}if(gk.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){if(e==='data-tab'){gk.logEvent('Authoring_DataTab_Open',['Source',ex])}else if(kd.get_uiMode()==='data-tab'){gk.logEvent('Authoring_DataTab_Close',['ReturnToSameSheet',ke])}}if(kf){kh.set_localWork(function(ki){var kj=ki.makeMutablePresModel(kd,false);kj.uiMode=e})}kh.invoke().done(function(){if(ke){var ki=dk.constructEnsureLayoutForSheetCommand();bJ.SendCommand(ki)}})};global.tab.VizClientCommands=jn;var jo=function(e,ex){this.$a=null;this.$d=null;this.$c=false;this.$b=false;this.$e=null;this.$a=e;this.$d=ex;this.$e={};this.$6();this.$c=this.$1();this.$b=this.$0()};jo.__typeName='tab.VizDataField';global.tab.VizDataField=jo;var jp=function(){};jp.__typeName='tab.VizDataLookup';jp.lookupDisplayValue=function(e,ex,kc){if(!ex.isTupleIdValid(e)){jp.$2(e,ex.get_fieldCaption());return null}if(ex.get_hasAliases()){var kd=jp.lookupAlias(e,ex,kc);if(ss.isValue(kd)){return kd}}if(ex.get_hasDataValues()){var ke=jp.$3(e,ex,kc);if(ss.isValue(ke)){return ke}}jp.$2(e,ex.get_fieldCaption());return null};jp.$2=function(e,ex){var kc=ss.formatString('Failed trying to look up the display value for tuple id "{0}" because it is invalid for field "{1}"',e,ex)};jp.$1=function(e){return ss.Nullable$1.lt(e,0)};jp.$0=function(e){return ss.Nullable$1.sub(ss.Nullable$1.neg(e),1)};jp.lookupAlias=function(e,ex,kc){if(!ex.isTupleIdValid(e)){jp.$2(e,ex.get_fieldCaption());return null}var kd=ex.getAliasIndex(e);return jp.lookupAliasFromIndex(kd,ex,kc)};jp.lookupAliasFromIndex=function(e,ex,kc){var kd=null;if(ss.isValue(e)){if(jp.$1(e)){e=jp.$0(e);kd=kc.getRawValue('cstring',ss.unbox(e));if(tableau.format.isSpecialValue(kd)){kd=tableau.format.formatSpecial(kd,ex.get_specialValuesOverride())}}else{var ke=e;kd=jp.$4(ke,ex,kc)}}return kd};jp.lookupRawDataValue=function(e,ex,kc){var kd=ex.getDataValueIndex(e);return jp.lookupRawDataValueFromIndex(kd,ex,kc)};jp.lookupRawDataValueFromIndex=function(e,ex,kc){var kd=null;if(ss.isValue(e)){var ke;var kf=ss.unbox(e);if(kf>=0){ke=ex.get_dataType()}else{kf=-kf-1;ke='cstring'}var kg=kc.getRawValue(ke,kf);if(ss.isValue(kg)){kd=kg.toString()}}return kd};jp.$3=function(e,ex,kc){var kd=ex.getDataValueIndex(e);return jp.$4(kd,ex,kc)};jp.$4=function(e,ex,kc){var kd=null;var ke=jp.lookupRawDataValueFromIndex(e,ex,kc);if(ss.isValue(ke)){if(tableau.format.isSpecialValue(ke)){kd=tableau.format.formatSpecial(ke,ex.get_specialValuesOverride())}else{kd=tableau.format.formatString(ke,ex.get_vizColumnDoNotUse())}}return kd};jp.reverseLookupAlias=function(e,ex,kc,kd){var ke=null;if(kc.get_hasAliases()){ex.forEachTupleId(function(kf){var kg=jp.lookupAlias(kf,kc,kd);if(ss.compareStrings(kg,e,false)===0){ke=kc.getAliasIndex(kf);return false}return true})}return ke};jp.buildAliasReverseLookup=function(e,ex,kc){var kd={};if(ex.get_hasAliases()){e.forEachTupleId(function(ke){var kf=jp.lookupAlias(ke,ex,kc);if(ss.isNullOrUndefined(kd[kf])){kd[kf]=ex.getAliasIndex(ke)}return true})}return kd};jp.isSpecial=function(e,ex,kc,kd){var ke=jp.lookupRawDataValue(e,ex,kc);if(ss.isNullOrUndefined(ke)){var kf=ex.getAliasIndex(e);if(ss.isValue(kf)){if(jp.$1(kf)){kf=jp.$0(kf)}var kg=kf;ke=jp.lookupRawDataValueFromIndex(kg,ex,kc)}if(ss.isNullOrUndefined(ke)){return false}}return(ss.isNullOrUndefined(kd)?tableau.format.isSpecialValue(ke):ss.referenceEquals(ke,kd))};global.tab.VizDataLookup=jp;var jq=function(e){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;gb.call(this,e,new gI('vizData'.toString()));this.$4=[];this.$5=[]};jq.__typeName='tab.VizDataModel';global.tab.VizDataModel=jq;var jr=function(){};jr.__typeName='tab.VizDataUtils';jr.constructUrl=function(e,ex,kc,kd,ke){var kf=function(kg,kh,ki){if(ss.isNullOrEmptyString(kh)){if(ss.isValue(kd)){return jr.$6(e,kg,kd,1,ex)}return null}var kj=jr.$1(e,kg,kh,ex.delimiter);if(ex.shouldUrlEscape){kj=encodeURIComponent(kj)}return kj};return jr.decodeAndReplaceData(ex.url,'<','>',kc,kf)};jr.constructUrlForFilterActionFromTargetURL=function(e,ex,kc,kd,ke){var kf=function(kn,ko,kp){return jr.$5(e,kn,ke,kp,kc)};var kg=ex.toString().split('?');if(kg.length===1){return ex}var kh=kg[0]+'?';var ki=kg[1].split('&');var kj=[];for(var kk=0;kk<ki.length;kk++){var kl=ki[kk];var km=jr.decodeAndReplaceData(kl,'<','>',kd,kf);if(km.item2==='success'){kj.push(km.item1)}}kh+=kj.join('&');return kh};jr.constructUrlFromString=function(e,ex,kc,kd,ke,kf){var kg=function(ki,kj,kk){if(ss.isNullOrEmptyString(kj)){return jr.$2(e,ki,kd,1)}else{return jr.$1(e,ki,kj,kf)}};var kh=jr.decodeAndReplaceData(ex,'<','>',kc,kg);return kh.item1};jr.constructHtml=function(e,ex,kc,kd){var ke=function(ki,kj,kk){return jr.$2(e,ki,kd,0)};var kf=jr.decodeAndReplaceData(ex,'&lt;','&gt;',kc,ke);var kg=$(kf.item1);var kh=[];jr.getNodesOfInvalidFields(kg,kh);jr.$0(kg,kh);jr.replaceLastVizInTooltipSizes(kg);return(jr.shouldShowUbertipHTML(kg)?kg.wrap('<div>').parent().html():'')};jr.replaceLastVizInTooltipSizes=function(e){if(tab.FeatureFlags.isEnabled('VizInTooltip')){var ex=e.find('span[data-tableau="VizInTooltip"]');var kc=Math.min(ex.length,jr.lastWidthAndHeightForVizInTooltips.length);for(var kd=0;kd<kc;kd++){ex[kd].style.width=jr.lastWidthAndHeightForVizInTooltips[kd].item1;ex[kd].style.height=jr.lastWidthAndHeightForVizInTooltips[kd].item2;ex[kd].style.display='inline-block'}}};jr.updateLastVizInTooltipSizes=function(e){var ex=$(e);var kc=ex.find('span[data-tableau="VizInTooltip"] img');var kd=kc.length;jr.widestVizInTooltip=0;for(var ke=0;ke<kd;ke++){var kf=kc[ke].getAttribute('height')+'px';var kg=parseInt(kc[ke].getAttribute('width'));var kh=(kg+'px').toString();jr.lastWidthAndHeightForVizInTooltips[ke]={item1:kh,item2:kf};if(kg>jr.widestVizInTooltip){jr.widestVizInTooltip=kg}}};jr.decodeAndReplaceData=function(e,ex,kc,kd,ke){var kf='success';var kg=jr.$4(e,'escaped_open_tag');var kh=jr.$4(e,'escaped_close_tag');var ki=ss.replaceAllString(ss.replaceAllString(e,ex+ex,kg),kc+kc,kh);var kj=ki.split(ex);var kk=new ss.StringBuilder(kj.shift());for(var kl=0;kl<kj.length;kl++){var km=kj[kl];var kn=km.split(kc);var ko=ss.htmlDecode(ss.replaceAllString(ss.replaceAllString(kn[0],kg,ex),kh,kc));var kp=kn[1];var kq=true;var kr=ko.lastIndexOf(String.fromCharCode(126));var ks=ko.lastIndexOf(String.fromCharCode(93));if(kr>=0&&(ks===-1||ks<kr)){var kt=ko.substr(kr);ko=ko.substr(0,kr);if(kt==='~na'){kq=false}}var ku=null;if(jr.$7(ko)){var kv=ko.indexOf('(');ku=ko.substring(0,kv);ko=ko.substring(kv+1,ko.length-1)}var kw=ko.indexOf(String.fromCharCode(91));var kx=ko.lastIndexOf(String.fromCharCode(93));if(kw>=0&&kw<kx){ko=ko.substring(kw+1,kx)}if(ss.startsWithString(ko,'Parameters.')){return{item1:'',item2:'notEnoughInfoYet'}}var ky=kd.getVizDataField(ko);if(ss.isNullOrUndefined(ky)){return{item1:'',item2:'urlConstructionFail'}}var kz=ke(ky,ku,kq);if(ss.isNullOrUndefined(kz)){kf='urlConstructionFail'}else{kk.append(kz)}kk.append(kp)}var kA=ss.replaceAllString(ss.replaceAllString(kk.toString(),kg,ex),kh,kc);return{item1:kA,item2:kf}};jr.hasTupleWithNonTotalValue=function(e,ex,kc){for(var kd=0;kd<kc.length;kd++){var ke={$:kc[kd]};var kf={$:false};e.forEachVizDataField(ss.mkdel({tupleId:ke,tupleHasTotal:kf},function(kg,kh){if(kg.get_role()==='dimension'){if(jp.isSpecial(this.tupleId.$,kg,ex,'%all%')){this.tupleHasTotal.$=true;return false}}return true}));if(!kf.$){return true}}return false};jr.isFieldNameOfColumn=function(e,ex){var kc=jr.stripNewlines(e.fn);var kd=jr.stripNewlines(ex);var ke='['+kd+']';return ss.referenceEquals(kd,kc)||ss.referenceEquals(kd,jr.stripNewlines(e.fnDisagg))||ss.referenceEquals(ke,kc)||ss.referenceEquals(ke,jr.stripNewlines(e.localBaseColumnName))};jr.isFieldCaptionOfColumn=function(e,ex){return ss.referenceEquals(jr.stripNewlines(ex),jr.stripNewlines(e.fieldCaption))};jr.$4=function(e,ex){var kc=ex;while(e.indexOf(kc)>-1){kc+=Math.random()*10000|0}return kc};jr.stripNewlines=function(e){return(ss.isValue(e)?e.replace(jr.$8,''):null)};jr.objectContainsVizInTooltip=function(e){return tab.FeatureFlags.isEnabled('VizInTooltip')&&e.has('span[data-tableau="VizInTooltip"]').length!==0};jr.shouldShowUbertipHTML=function(e){return!tab.MiscUtil.isNullOrEmpty$3(e.text().trim())||jr.objectContainsVizInTooltip(e)};jr.getNodesOfInvalidFields=function(e,ex){var kc='';var kd=e.contents().get();for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];if(kf.nodeType===3){kc+=kf.textContent||(kf.textContent||'')}else{jr.getNodesOfInvalidFields($(kf),ex)}}if(kc.indexOf('~~~???~~~')!==-1){ex.push(e)}};jr.addVizDataToZones=function(e,ex){var kc=_.keys(ex);var kd=_.keys(e);for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];for(var kg=0;kg<kc.length;kg++){var kh=kc[kg];var ki=ex[kh];if(ki.zoneCommon.zoneType==='viz'&&ss.referenceEquals(ki.sheet,kf)){var kj=ki.presModelHolder['visual'.toString()];if(ss.isValue(kj)){var kk=e[kf].presModelHolder;kj.vizData=kk['genVizDataPresModel']}break}}}};jr.$0=function(e,ex){for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];var ke=jr.$3(e,kd,'tr');if(ss.isValue(ke)){ke.remove()}else{var kf=jr.$3(e,kd,'div');if(ss.isValue(kf)){kf.remove()}else{kd.remove()}}}};jr.$3=function(e,ex,kc){var kd=ex;if(ss.isValue(e)&&ss.isValue(ex)&&e.find(ex).length===1){while(!ss.referenceEquals(kd[0],e[0])){if(ss.referenceEquals(kd[0].tagName.toLowerCase(),kc)){return kd}kd=kd.parent()}}return null};jr.$6=function(e,ex,kc,kd,ke){var kf=[];for(var kg=0;kg<kc.length;kg++){var kh=kc[kg];var ki=jp.lookupAlias(kh,ex,e);if(ss.isNullOrUndefined(ki)){continue}if(jp.isSpecial(kh,ex,e,null)){continue}if(ki.indexOf(ke.delimiter)!==-1){ki=ss.replaceAllString(ki,ke.delimiter,ke.escapeString+ke.delimiter)}if(ke.shouldUrlEscape){ki=encodeURIComponent(ki)}kf.push(ki)}if(kf.length===0){return null}if(kf.length>1&&ss.isNullOrUndefined(ke.delimiter)){return null}var kj=kf.join(ke.delimiter);if(kd===0){kj=tableau.format.escapeHTML(kj)}return kj};jr.$5=function(e,ex,kc,kd,ke){var kf=[];for(var kg=0;kg<kc.length;kg++){var kh=kc[kg];var ki=(kd?jp.lookupAlias(kh,ex,e):jp.lookupRawDataValue(kh,ex,e));ki=jr.replaceUrlStringSpecialValues(ki);ki=ss.replaceAllString(ki,ke.delimiter,ke.escapeString+ke.delimiter);kf.push(ki)}return encodeURIComponent(kf.join(ke.delimiter))};jr.replaceUrlStringSpecialValues=function(e){switch(e){case'%null%':{return'~~null~'}case'%skipped%':{return'~~skipped~'}case'%ragged%':{return'~~ragged~'}default:{return e}}};jr.$2=function(e,ex,kc,kd){var ke;if(kc.length>1){if(!ex.get_hasDataValues()){return'...'}var kf=new Array(kc.length);for(var kg=0;kg<kc.length;++kg){var kh=jp.lookupRawDataValue(kc[kg],ex,e);if(kh===null||tableau.format.isSpecialValue(kh)){kh='0'}else if(typeof(kh)==='undefined'||kh.length===0){return'...'}kf[kg]=kh}var ki=0;for(var kj=0;kj<kf.length;++kj){ki+=parseFloat(kf[kj])}ke=tableau.format.formatString(ki.toString(),ex.get_vizColumnDoNotUse())}else if(kc.length===1){var kk=jp.lookupDisplayValue(kc[0],ex,e);if(ss.isNullOrUndefined(kk)){return'~~~???~~~'}ke=kk}else{return''}if(kd===0){return tableau.format.escapeHTML(ke)}else{return ke}};jr.$7=function(e){return ss.startsWithString(e,'FILTERMIN(')||ss.startsWithString(e,'FILTERMAX(')||ss.startsWithString(e,'FILTERVALUES(')};jr.$1=function(e,ex,kc,kd){if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.get_filterContext())){return''}var ke=ex.get_filterContext();var kf;switch(kc){case'FILTERMIN':{kf=ke.filterMinIndices;break}case'FILTERMAX':{kf=ke.filterMaxIndices;break}case'FILTERVALUES':{kf=ke.filterValueIndices;break}default:{return''}}if(tab.MiscUtil.isNullOrEmpty$2(kf)){return''}var kg=[];for(var kh=0;kh<kf.length;kh++){var ki=kf[kh];var kj=jp.lookupRawDataValueFromIndex(ki,ex,e);kg.push(kj)}return kg.join(kd||',')};global.tab.VizDataUtils=jr;var js=function(){};js.__typeName='tab.VizPortalServer';js.createRequest=function(e,ex,kc,kd){var ke=function(kf){if(js.$5(kf)){kd(js.$2(kf))}else{kc(kf)}};return js.$1(e,ex,ke,kd)};js.createRequestWithPartialFailureHandling=function(e,ex,kc,kd,ke){var kf=function(kg){if(js.$5(kg)){kd(kg)}else{kc(kg)}};return js.$1(e,ex,kf,ke)};js.$0=function(e){return js.$1(e.methodName,e.methodParams,e.success,e.error)};js.$1=function(e,ex,kc,kd){var ke=new Object;ke.type='POST';ke.contentType='application/json;charset=UTF-8';ke.dataType='json';ke.url='/vizportal/api/web/v1/'+e;var kf=js.$4();if(ss.isValue(kf)){ke.headers=ss.mkdict(['X-XSRF-TOKEN',kf])}ke.data=JSON.stringify(ss.mkdict(['method',e,'params',ex]));ke.success=function(kg,kh,ki){kc(js.$3(kg))};ke.error=function(){kd(0)};return ke};js.$4=function(){var e=document.cookie.match(new RegExp('(^|;) ?XSRF-TOKEN=([^;]*)(;|$)'));return(ss.isValue(e)?e[2]:null)};js.$5=function(e){if(ss.keyExists(e,'errors')){var ex=e['errors'];return ex.length>0}else{return false}};js.$2=function(e){if(ss.keyExists(e,'errors')){var ex=e['errors'];if(ex.length>0&&ss.keyExists(ex[0],'code')){return ex[0]['code']}}return 0};js.$3=function(e){var ex=e;return ex['result']};global.tab.VizPortalServer=js;var jt=function(e,ex,kc,kd){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=ex;this.success=kc;this.error=kd};jt.__typeName='tab.VizqlSessionRequest';global.tab.VizqlSessionRequest=jt;var ju=function(e){this.$0=null;this.$0=e};ju.__typeName='tab.VizRegionRectWrapper';ju.create=function(e){return new ju(e)};global.tab.VizRegionRectWrapper=ju;var jv=function(e){this.explicitNotGuest=false;this.$l=0;this.$m='';this.$k='';this.$e='';this.$i={};this.$f='';this.$g='';this.$h='';this.$j='';if(ss.getKeyCount(jv.$9)===0){jv.$2()}if(ss.isValue(e)){this.$5(e)}};jv.__typeName='tab.VizUriModel';jv.createForCurrentWindowLocation=function(e){return new jv(tab.WindowHelper.getLocation(e||tabBootstrap.Utility.get_locationWindow()))};jv.createForViewingSheet=function(e){var ex=jv.$0(null);ex.$l=(tsConfig.is_revision_history_preview?6:(ex.$l=1));var kc=new gX(e);ex.$m=kc.get_workbookId();ex.$k=kc.get_sheetId();ex.$f=kc.get_customizedView();ex.$e='';return ex};jv.createForViewingSheets=function(e,ex){if(ss.isNullOrUndefined(e)||e.length===0){return[]}var kc=e.length;var kd=new Array(kc);var ke=jv.$0(null);ke.$l=1;ke.$e='';if(!ex){ke.removeAllQueryParams();ke.removeHash()}for(var kf=0;kf<kc;kf++){var kg=ke.clone();var kh=e[kf];var ki=new gX(kh);kg.$m=ki.get_workbookId();kg.$k=ki.get_sheetId();kg.$f=ki.get_customizedView();kd[kf]=kg}return kd};jv.createForCurrentWindowLocationAndVizState=function(e,ex){var kc=jv.createForCurrentWindowLocation();var kd=new gX(e);kc.$m=kd.get_workbookId();kc.$k=kd.get_sheetId();kc.$f=kd.get_customizedView();kc.$e=ex;return kc};jv.createForAuthoringUnpublishedSheet=function(e,ex){var kc=jv.createForAuthoringPublishedSheet(e);kc.$e=ex;return kc};jv.createForAuthoringPublishedSheet=function(e){var ex=jv.$0(null);ex.$l=2;var kc=new gX(e);ex.$m=kc.get_workbookId();ex.$k=kc.get_sheetId();ex.$e='';return ex};jv.createInvalid=function(){var e=new jv;e.$l=0;return e};jv.$2=function(){var e=ss.getEnumerator(Object.keys(jv.$d));try{while(e.moveNext()){var ex=e.current();jv.$9[jv.$d[ex]]=ex}}finally{e.dispose()}};jv.$0=function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){e=tabBootstrap.Utility.get_locationWindow()}var ex=tab.WindowHelper.getLocation(e);var kc=new jv(ex);kc.$i=jv.$1(ex);kc.$g=ex.hash;kc.$h=tab.BrowserSupport.getOrigin(ex);return kc};jv.$1=function(e){var ex=tab.UriExtensions.getUriQueryParameters(e.href);for(var kc=0;kc<jv.$c.length;kc++){var kd=jv.$c[kc];if(ss.keyExists(ex,kd)){delete ex[kd]}}return ex};jv.encodeUserName=function(e){var ex=tab.MiscUtil.percentEncode(e,jv.$a);return ss.replaceAllString(ex,'%40','@')};global.tab.VizUriModel=jv;var jw=function(){};jw.__typeName='tab.VizUriType';global.tab.VizUriType=jw;var jx=function(){};jx.__typeName='tab.WaitFeedbackType';global.tab.WaitFeedbackType=jx;var jy=function(){this.$c=null;this.$i=null;this.$g=0;this.$h=null;this.$f=false;this.$e=false;this.$b=null;this.$d=null;this.$j=null;this.glassOpacityChangeDelay=ss.coalesce(tab.FeatureParamsLookup.getInt(48),2000);this.spinnerShowDelay=ss.coalesce(tab.FeatureParamsLookup.getInt(49),2000);this.$c=$('#loadingGlassPane');this.$c.on('mousedown',function(ex){ex.stopImmediatePropagation()});this.$c.on(tab.BrowserSupport.get_mouseWheelEvent(),function(ex){ex.preventDefault()});this.$i=$('#loadingSpinner');this.$g=0;this.$f=true;this.$e=false;var e=ss.mkdel(this,this.$6);document.body.addEventListener('keydown',e,true);document.body.addEventListener('keyup',e,true);document.body.addEventListener('keypress',e,true)};jy.__typeName='tab.WaitHandler';jy.$0=function(e,ex,kc){e.css('opacity','0');e.css('transition',ex+'ms opacity');e.show();e.css('display');e.css('opacity',kc.toString())};jy.loadingElementFadeOut=function(e,ex,kc){e.css('transition',ex+'ms opacity');window.setTimeout(function(){e.css('opacity','0')},0);window.setTimeout(function(){kc(e)},ex)};global.tab.WaitHandler=jy;var jz=function(e,ex){var kc=function(){this.$2$1=false;this.$2$2=false;this.$2$3=false;this.$2$4=false;this.$2$5=false;ss.makeGenericType(W,[e,ex]).call(this)};ss.registerGenericClassInstance(kc,jz,[e,ex],{get_isChecked:function(){return this.$2$1},set_isChecked:function(kd){this.$2$1=kd},get_isDefault:function(){return this.$2$2},set_isDefault:function(kd){this.$2$2=kd},get_isEnabled:function(){return this.$2$3},set_isEnabled:function(kd){this.$2$3=kd},get_isRadioOn:function(){return this.$2$4},set_isRadioOn:function(kd){this.$2$4=kd},get_isVisible:function(){return this.$2$5},set_isVisible:function(kd){this.$2$5=kd},createCommand:function(){return new C(ss.mkdel(this,function(kd){this.do$1()}))},transfer:function(kd){if(ss.isValue(kd)){_.each(_.difference(Object.keys(kd),Object.keys(this.c)),ss.mkdel(this,function(ke){this.c[ke]=kd[ke]}))}},do$1:null,invoke:function(){var kd=$.Deferred();this.do$1();kd.resolve();return kd.promise()}},function(){return ss.makeGenericType(W,[e,ex])},function(){return[]});return kc};jz.__typeName='tab.WebBaseCmd$2';ss.initGenericClass(jz,a,2);global.tab.WebBaseCmd$2=jz;var jA=function(){this.$1=null;bP.call(this)};jA.__typeName='tab.WebCommandItemWrapper';jA.$ctor1=function(e){this.$1=null;bP.call(this,e);var ex=bV.deserialize(this.get_command());if(ss.isValue(ex)&&jB.hasCommand(ex.commandName)){this.$1=jB.createCommand(ex.commandName);this.$1.set_isChecked(bP.prototype.get_isChecked.call(this));this.$1.set_isDefault(bP.prototype.get_isDefault.call(this));this.$1.set_isEnabled(bP.prototype.get_enabled.call(this));this.$1.set_isRadioOn(bP.prototype.get_isRadioOn.call(this));this.$1.set_isVisible(bP.prototype.get_isVisible.call(this));this.$1.transfer(ex.commandParams)}else{}};global.tab.WebCommandItemWrapper=jA;var jB=function(){};jB.__typeName='tab.WebCommandRegistry';jB.registerCommand=function(e,ex){jB.$0[e]=ex};jB.hasCommand=function(e){return ss.keyExists(jB.$0,e)};jB.createCommand=function(e){if(ss.keyExists(jB.$0,e)){var ex=jB.$0[e];return ss.createInstance(ex)}throw new ss.Exception('creating unregistered web command')};jB.createCommandWithParams=function(e,ex){if(ss.keyExists(jB.$0,e)){var kc=jB.$0[e];var kd=ss.createInstance(kc);kd.transfer(ex);return kd}throw new ss.Exception('creating unregistered web command')};global.tab.WebCommandRegistry=jB;var jC=function(){ss.makeGenericType(jz,[Object,jD]).call(this)};jC.__typeName='tab.WebEditConnectionCmd';jC.get_commandName=function(){return'web-edit-connection'};global.tab.WebEditConnectionCmd=jC;var jD=function(e){this.$$c=null;this.$$c=e};jD.__typeName='tab.WebEditConnectionCmd$Response';global.tab.WebEditConnectionCmd$Response=jD;var jE=function(e){this.$1=null;$('.TestFontContainer').remove();this.$1=[];jE.$0(e.toSimpleFontList());this.$0(e)};jE.__typeName='tab.WebFilteredFontListProvider';jE.get_testDiv=function(){return jE.$4};jE.get_supportedFonts=function(){return jE.$3};jE.$0=function(e){var ex=tabBootstrap.MetricsController.createContext('ComputeFonts',32,null);var kc='12pt';var kd=$('<div/>').css('visibility','hidden');var ke=$('<span/>').css({display:'inline-block','font-size':kc,'font-family':'TableauTestFont'}).text('A');kd.append(ke);var kf={};var kg=ss.getEnumerator(e);try{while(kg.moveNext()){var kh=kg.current();if(ss.keyExists(jE.get_supportedFonts(),kh)){continue}var ki=ss.formatString('"{0}", "{1}"',kh,'TableauTestFont');var kj=$('<span/>').css({display:'inline-block','font-size':kc,'font-family':ki}).text('A');et.cleanUpFontFamilyStyles(kj);kd.append(kj);kf[kh]=kj}}finally{kg.dispose()}if(ss.getKeyCount(kf)===0){return}jE.get_testDiv().append(kd);jE.$2=tab.DoubleUtil.roundToInt(ke.width());jE.$1=tab.DoubleUtil.roundToInt(ke.height());var kk=_.keys(kf);for(var kl=0;kl<kk.length;kl++){var km=kk[kl];var kn=kf[km];var ko=jE.$2!==tab.DoubleUtil.roundToInt(kn.width())||jE.$1!==tab.DoubleUtil.roundToInt(kn.height());jE.get_supportedFonts()[km]=ko}kd.remove();ex.dispose()};global.tab.WebFilteredFontListProvider=jE;var jF=function(){ss.makeGenericType(jz,[Object,jG]).call(this)};jF.__typeName='tab.WebRenameConnectionCmd';jF.get_commandName=function(){return'web-rename-connection'};global.tab.WebRenameConnectionCmd=jF;var jG=function(e){this.$$c=null;this.$$c=e};jG.__typeName='tab.WebRenameConnectionCmd$Response';global.tab.WebRenameConnectionCmd$Response=jG;var jH=function(e){this.$1=null;this.$2$1=null;gb.call(this,e,new gI('webZone'.toString()));this.$1=e.get_zone()};jH.__typeName='tab.WebZoneModel';global.tab.WebZoneModel=jH;var jI=function(e){this.$3$1=null;iW.call(this,e,new gI('windowTableCalcPresModel'.toString()))};jI.__typeName='tab.WindowTableCalcModel';global.tab.WindowTableCalcModel=jI;var jJ=function(e){this.$4=null;this.$6=null;this.$7=null;this.$8=null;this.$5=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;gb.call(this,e,new gI('workbookPresModel'.toString()));this.$4=new bW(this);this.$7=new dc(this);this.set_formatPaneModel(new ep(this))};jJ.__typeName='tab.WorkbookModel';jJ.add_workbookModifiedChanged=function(e){jJ.$2$1=ss.delegateCombine(jJ.$2$1,e)};jJ.remove_workbookModifiedChanged=function(e){jJ.$2$1=ss.delegateRemove(jJ.$2$1,e)};jJ.$1=function(e){if(jJ.$0(e)){return e.dashboardPresModel.sheetLayoutInfo.sheetType}return null};jJ.$0=function(e){return ss.isValue(e)&&ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)};jJ.fireWorkbookModifiedChanged=function(e){if(!ss.staticEquals(jJ.$2$1,null)){jJ.$2$1(e)}J.get().onWorkbookModifiedChanged(e)};global.tab.WorkbookModel=jJ;var jK=function(e,ex){this.$1$1=false;this.$1$2=0;this.set_jobInProgress(e);this.set_jobId(ex)};jK.__typeName='tab.WorkbookTemplateCreationRefreshExtractJob';global.tab.WorkbookTemplateCreationRefreshExtractJob=jK;var jL=function(){};jL.__typeName='tab.WorkbookTemplatesEnabledState';global.tab.WorkbookTemplatesEnabledState=jL;var jM=function(e,ex){this.$1=null;this.$0=null;this.$1=e;this.$0=ex};jM.__typeName='tab.WorkgroupDataAlert';global.tab.WorkgroupDataAlert=jM;var jN=function(e,ex,kc){this.$1=null;this.$2=null;this.$0=null;this.$1=e;this.$2=ex;this.$0=kc};jN.__typeName='tab.WorkgroupDataSource';jN.$0=function(e){var ex=(ss.isValue(e)?e.match(jN.$1):null);return(ss.isValue(ex)?ex[1]:e)};global.tab.WorkgroupDataSource=jN;var jO=function(){};jO.__typeName='tab.WorkgroupServerCommands';jO.get_getSessionInfo=function(){var e=$.Deferred();if(!tsConfig.is_guest){jX.helper(js.createRequest('getSessionInfo',null,function(ex){e.resolve(ex)},function(ex){e.reject(ex)}))}else{e.reject()}return e};jO.getWritableProjects=function(e){var ex=[];H.$0(Object).call(null,'getWritableProjects',new f,ss.mkdel(this,function(kc){var kd=H.$3(Object).call(null,kc,jO.$e);ss.arrayAddRange(ex,kd.items);return kd}),function(){e(ex)})};jO.getDestinationProjects=function(e,ex){var kc=$.Deferred();var kd=[];H.$1(Object).call(null,'getDestinationProjects',jO.$4(0,e,ex),ss.mkdel(this,function(ke){var kf=H.$3(Object).call(null,ke,jO.$c);kd=kd.concat.apply(kd,kf.items);return kf}),function(){kc.resolve(kd)},function(){kc.reject()});return kc.promise()};jO.extendWorkgroupSession=function(){if(!tsConfig.is_guest){jX.helper(js.createRequest('getSessionInfo',null,function(){},function(){}))}};jO.getSchedules=function(e){var ex=[];H.$0(hw).call(null,'getSchedules',new f,ss.mkdel(this,function(kc){var kd=H.$3(hw).call(null,kc,jO.$f);ss.arrayAddRange(ex,kd.items);return kd}),function(){e(ex)})};jO.getSiteUsers=function(e,ex){var kc=[];H.$0(Object).call(null,'getUsers',jO.$6(e),ss.mkdel(this,function(kd){var ke=H.$3(Object).call(null,kd,jO.$g);_.each(ke.items,function(kf){kc.push(kf)});return ke}),function(){ex(kc)})};jO.isWorkbookTemplateEnabled=function(){var e=$.Deferred();var ex=function(kd){var ke=ss.Enum.parse(jL,kd['enabledState'].toString());e.resolve(ke)};var kc=function(kd){e.reject()};jX.helper(js.createRequest('isWorkbookTemplatesEnabled',{},ex,kc));return e};jO.retrieveAllWorkbookTemplates=function(){var e=$.Deferred();var ex=function(kd){var ke=kd['workbookTemplates'];e.resolve(new jS(ke))};var kc=function(kd){e.reject()};jX.helper(js.createRequest('getAllWorkbookTemplates',{},ex,kc));return e};jO.getWorkbookTemplateCreationRefreshExtractJob=function(e){var ex=$.Deferred();var kc=function(kf){var kg=/^\s*true\s*$/i.test(kf['jobInProgress'].toString());var kh=parseInt(kf['jobId'].toString());ex.resolve(new jK(kg,kh))};var kd=function(kf){ex.reject()};var ke=ss.mkdict(['id',e]);jX.helper(js.createRequest('getWorkbookTemplateCreationRefreshExtractJob',ke,kc,kd));return ex};jO.getBackgroundJobProgressState=function(e){var ex=$.Deferred();var kc=function(kf){var kg=kf['actions'];if(kg.length===0){ex.resolve('error')}else if(kg[0]['state'].toString()!=='completed'){ex.resolve('inProgress')}else if(/^\s*true\s*$/i.test(kg[0]['succeeded'].toString())){ex.resolve('success')}else{ex.resolve('error')}};var kd=function(kf){ex.reject()};var ke=ss.mkdict(['actionId',e]);jX.helper(js.createRequest('getBackgroundActionInfo',ke,kc,kd));return ex};jO.getDataAlertForDataAlertId=function(e,ex){var kc=$.Deferred();var kd=[];H.$1(Object).call(null,'getDataAlerts',jO.$1(0,e,ex),ss.mkdel(this,function(ke){var kf=H.$3(Object).call(null,ke,jO.$a);var kg=_.indexBy(jO.$g(ke),'id');if(ss.isValue(kf)){kd=kd.concat(_.map(kf.items,function(kh){var ki=kg[kh.ownerId];return new jM(kh,ki)}))}return kf}),function(){kc.resolve(kd)},function(){kc.reject()});return kc};jO.getUsersForDataAlertId=function(e){var ex=$.Deferred();var kc=[];H.$1(Object).call(null,'getUsersForDataAlert',jO.$7(0,e),ss.mkdel(this,function(kd){var ke=H.$3(Object).call(null,kd,jO.$g);if(ss.isValue(ke)){_.each(ke.items,function(kf){kc.push(kf)})}return ke}),function(){ex.resolve(kc)},function(){ex.reject()});return ex};jO.fetchPageOfDataSources=function(e,ex,kc){var kd=$.Deferred();H.$2(Object).call(null,'getDatasources',jO.$3(e,ex,kc),ss.mkdel(this,function(ke){var kf=H.$3(Object).call(null,ke,jO.$b);var kg=_.indexBy(jO.$e(ke),'id');var kh=_.indexBy(jO.$g(ke),'id');var ki={items:_.map(kf.items,function(kj){var kk=kg[kj.projectId.toString()];var kl=kh[kj.ownerId.toString()];return new jN(kj,kk,kl)}),moreItems:kf.moreItems};kd.resolve(ki);return kf}));return kd.promise()};jO.$8=function(e){var ex=$.Deferred();var kc='id';H.$2(Object).call(null,'getDatasources',jO.$2(e),ss.mkdel(this,function(kd){var ke=H.$3(Object).call(null,kd,jO.$b);var kf=_.indexBy(jO.$e(kd),kc);var kg=_.indexBy(jO.$g(kd),kc);var kh={items:_.map(ke.items,function(ki){var kj=kf[ki.projectId.toString()];var kk=kg[ki.ownerId.toString()];return new jN(ki,kj,kk)}),moreItems:ke.moreItems};ex.resolve(kh);return ke}));return ex.promise()};jO.fetchDataSourcesByRepositoryUrl=function(e,ex){var kc=[];jO.$8(ex).done(function(kd){ss.arrayAddRange(kc,kd.items);e(kc)})};jO.getDatasources=function(e,ex,kc){var kd=[];H.$0(Object).call(null,'getDatasources',jO.$3(0,ex,kc),ss.mkdel(this,function(ke){var kf=H.$3(Object).call(null,ke,jO.$b);var kg=_.indexBy(jO.$e(ke),'id');var kh=_.indexBy(jO.$g(ke),'id');if(ss.isValue(kf)){kd=kd.concat(_.map(kf.items,function(ki){var kj=kg[ki.projectId.toString()];var kk=kh[ki.ownerId.toString()];return new jN(ki,kj,kk)}))}return kf}),function(){e(kd)})};jO.fetchPageOfSiteUsers=function(e,ex){var kc=$.Deferred();var kd=jO.$6(e);kd.$1(ex);kd.$2()['includeGuestIfEnabled']=false;H.$2(Object).call(null,'getUsers',kd,ss.mkdel(this,function(ke){var kf=H.$3(Object).call(null,ke,jO.$g);kc.resolve(kf);return kf}));return kc.promise()};jO.fetchPageOfGroups=function(e,ex){var kc=$.Deferred();var kd=jO.$5(e);kd.$1(ex);H.$2(Object).call(null,'getGroups',kd,ss.mkdel(this,function(ke){var kf=H.$3(Object).call(null,ke,jO.$d);kc.resolve(kf);return kf}));return kc.promise()};jO.$4=function(e,ex,kc){var kd={field:'name',ascending:true};var ke=new f.$1(kd,{});ke.$1(e);ke.$2()['contentType']=ex;ke.$2()['sourceIds']=kc;return ke};jO.$5=function(e){var ex={field:'name',ascending:true};var kc={operator:'and',clauses:[{operator:'matches',value:e}]};return new f.$1(ex,kc)};jO.$6=function(e){var ex={field:'displayName',ascending:true};var kc={operator:'and',clauses:[{operator:'matches',value:e}]};return new f.$1(ex,kc)};jO.$1=function(e,ex,kc){var kd={operator:'and',clauses:[{field:'viewId',operator:'eq',value:ex},{field:'id',operator:'eq',value:kc}]};var ke={field:'title',ascending:true};var kf=new f.$1(ke,kd);kf.$1(e);return kf};jO.$7=function(e,ex){var kc={field:'displayName',ascending:true};var kd=new f.$1(kc,null);kd.$1(e);kd.$2()['dataAlertId']=ex;return kd};jO.$3=function(e,ex,kc){var kd={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true}]};if(ss.isValue(kc)){kd.clauses=kd.clauses.concat([{operator:'matches',value:kc}])}var ke=new f.$0(ex,kd);ke.$1(e);return ke};jO.$2=function(e){var ex={field:'name',ascending:true};var kc={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true},{field:'repositoryUrl',operator:'eq',value:e}]};var kd=new f.$1(ex,kc);kd.$1(0);return kd};jO.setUserEmail=function(e,ex,kc){jO.$9(function(kd){var ke=ss.mkdict(['userId',kd,'email',e]);jX.helper(js.createRequest('updateUserEmail',ke,ex,kc))},kc)};jO.$9=function(e,ex){var kc=tsConfig.current_user_name;var kd=tsConfig.current_user_domain_name;var ke=[{field:'username',operator:'eq',value:kc},{field:'domainName',operator:'eq',value:kd}];var kf=ss.mkdict(['filter',{clauses:ke}]);jX.helper(js.createRequest('getServerUsers',kf,function(kg){var kh=kg['users'];if(ss.isValue(kh)&&kh.length>0&&ss.keyExists(kh[0],'id')){var ki=kh[0]['id'];e(ki)}else{ex(js.$2(kg))}},ex))};jO.createSubscription=function(e,ex,kc,kd,ke,kf){var kg=jO.$0(kc.get_schedulePresModel().id,e,ex,ss.coalesce(kd,'Always'),null);jX.helper(js.createRequest('createSubscription',kg,ke,kf))};jO.createSubscriptions=function(e,ex,kc,kd,ke,kf,kg,kh,ki,kj){var kk=jO.$0(kd.get_schedulePresModel().id,e,ex,ss.coalesce(ke,'Always'),ki);kk['userIds']=kc;if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){kk['groupIds']=kj}jX.helper(js.createRequestWithPartialFailureHandling('createSubscriptions',kk,kf,kg,kh))};jO.createDataAlert=function(e,ex,kc){var kd=jO.buildCreateDataAlertRequestParams(e);jX.helper(js.createRequest('createDataAlert',kd,ex,kc))};jO.updateDataAlert=function(e,ex,kc,kd,ke,kf){var kg=jO.buildUpdateDataAlertRequestParams(e,ex,kc.map(function(kh){return kh.id.toString()}),kd.map(function(kh){return kh.id.toString()}));jX.helper(js.createRequest('updateDataAlert',kg,ke,kf))};jO.buildCreateDataAlertRequestParams=function(e){var ex;var kc;if(ss.isValue(tsConfig.current_custom_view_id)){ex='customizedView';kc=tsConfig.current_custom_view_id+''}else{ex='view';kc=tsConfig.current_view_id}var kd=ss.mkdict(['title',e.get_title(),'device',e.get_deviceType(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIds',e.get_userIds(),'context',ss.mkdict(['contextType',ex,'id',kc])]);return kd};jO.buildUpdateDataAlertRequestParams=function(e,ex,kc,kd){var ke=ss.mkdict(['dataAlertId',ex,'title',e.get_title(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIdsToAdd',kc,'userIdsToRemove',kd]);return ke};jO.logOff=function(e){var ex=function(kc){var kd=kc['redirectUrl'];tab.WindowHelper.setLocationHref(window.self,(ss.isValue(kd)?kd:'/'))};jX.helper(js.createRequest('logout',{},ex,e))};jO.createCommentingServer=function(){return new ca(js.$0,bJ.get().get_legacySession())};jO.$0=function(e,ex,kc,kd,ke){return ss.mkdict(['scheduleId',e,'subject',ex.trim(),'targetType',(kc?'Workbook':'View'),'targetId',(kc?tsConfig.current_workbook_id:tsConfig.current_view_id),'customizedViewId',tsConfig.current_custom_view_id,'dataConditionType',kd,'subscriptionMessage',ke])};jO.$e=function(e){return _.map(e['projects'],function(ex){return ex})};jO.$c=function(e){return _.map(e['projects'],function(ex){return ex})};jO.$f=function(e){return _.map(e['schedules'],function(ex){return new hw(ex)})};jO.$g=function(e){return _.map(e['users'],function(ex){return{username:ex['username'].toString(),friendlyName:ex['displayName'].toString(),id:parseInt(ex['id'].toString()),hasEmail:ex['hasEmail']}})};jO.$d=function(e){return _.map(e['groups'],function(ex){return{name:ex['name'].toString(),id:parseInt(ex['id'].toString()),userCount:parseInt(ex['userCount'].toString())}})};jO.$a=function(e){return e['dataAlerts']};jO.$b=function(e){return e['datasources']};global.tab.WorkgroupServerCommands=jO;var jP=function(){};jP.__typeName='tab.WorkgroupServerErrorCode';global.tab.WorkgroupServerErrorCode=jP;var jQ=function(e){this.$0=null;this.$0=e};jQ.__typeName='tab.WorkgroupServerOauthSettings';global.tab.WorkgroupServerOauthSettings=jQ;var jR=function(e,ex,kc,kd){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=ex;this.success=kc;this.error=kd};jR.__typeName='tab.WorkgroupServerRequest';global.tab.WorkgroupServerRequest=jR;var jS=function(e){this.$0=null;this.$0=e};jS.__typeName='tab.WorkgroupWorkbookTemplates';global.tab.WorkgroupWorkbookTemplates=jS;var jT=function(){};jT.__typeName='tab.WorksheetServerCommands';jT.revert=function(){var e=bZ.newCommand({ns:'tabsrv',cmd:'revert-workbook'},null);bJ.SendCommand(gU.create(e,'immediately'))};jT.undo=function(){var e=bZ.newCommand({ns:'tabdoc',cmd:'undo'},null);e.commandParams={};bJ.SendCommand(gU.create(e,'immediately'))};jT.undo$1=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'undo'},null);kc.commandParams={};bJ.SendCommand(gU.create(kc,'immediately',e,ex))};jT.undoToPosition=function(e){var ex=bZ.newCommand({ns:'tabdoc',cmd:'undo'},null);ex.commandParams=jT.$0(e);bJ.SendCommand(gU.create(ex,'immediately'))};jT.redo=function(){var e=bZ.newCommand({ns:'tabdoc',cmd:'redo'},null);e.commandParams={};bJ.SendCommand(gU.create(e,'immediately'))};jT.redo$1=function(e,ex){var kc=bZ.newCommand({ns:'tabdoc',cmd:'redo'},null);kc.commandParams={};bJ.SendCommand(gU.create(kc,'immediately',e,ex))};jT.redoToPosition=function(e){var ex=bZ.newCommand({ns:'tabdoc',cmd:'redo'},null);ex.commandParams=jT.$0(e);bJ.SendCommand(gU.create(ex,'immediately'))};jT.clearFuture=function(){var e=bZ.newCommand({ns:'tabdoc',cmd:'clear-future'},null);e.commandParams={};bJ.SendCommand(gU.create(e,'immediately'))};jT.$0=function(e){var ex={};ex['undoPosition']=e;return ex};global.tab.WorksheetServerCommands=jT;var jU=function(e){this.$0=null;this.$1=null;this.currentWorldDiffersFromCheckpoint=false;this.$0=e;this.currentWorldDiffersFromCheckpoint=false};jU.__typeName='tab.WorldCheckpointHolder';global.tab.WorldCheckpointHolder=jU;var jV=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null};jV.__typeName='tab.WorldUpdateInterceptor';jV.get=function(){return jV.$0.value()};global.tab.WorldUpdateInterceptor=jV;var jW=function(){};jW.__typeName='tab.WorldUpdateServerCommands';jW.getWorldUpdate=function(e){var ex=bZ.newCommand({ns:'tabdoc',cmd:'get-world-update'},jW.$0());hN.executeServerCommand(ex,'immediately',e,e)};jW.$0=function(){var e={};e['sheet']=tsConfig.current_sheet_name;return e};global.tab.WorldUpdateServerCommands=jW;var jX=function(){};jX.__typeName='tab.XhrUtil';jX.get_currentTabName=function(){return jX.$0};jX.set_currentTabName=function(e){jX.$0=e};jX.helper=function(e,ex){var kc=new jX;if(!ss.isValue(e.success)&&ss.isValue(ex)){e.success=ex.get_successDelegate()}if(!ss.isValue(e.complete)&&ss.isValue(ex)){e.complete=ex.get_completedDelegate()}if(!ss.isValue(e.error)&&ss.isValue(ex)){e.error=ex.get_errorDelegate()}return kc.request(e)};jX.getMultipartData=function(e,ex){var kc=jX.randomString();var kd='--'+kc;var ke='\r\n';var kf=new ss.StringBuilder;if(ss.isValue(e)){kf.append(kd);kf.append(ke);kf.append('Content-Disposition: form-data; name="');kf.append(e['name']);kf.append('"');if('filename'in e){kf.append('; filename="');kf.append(e['filename']);kf.append('"')}kf.append(ke);kf.append('Content-Type: ');kf.append(e['contentType']);kf.append(ke);kf.append(ke);kf.append(e['content']);kf.append(ke)}if(ss.isValue(ex)){var kg=new ss.ObjectEnumerator(ex);try{while(kg.moveNext()){var kh=kg.current();kf.append(kd);kf.append(ke);kf.append('Content-Disposition: form-data; name="');kf.append(kh.key);kf.append('"');kf.append(ke);kf.append(ke);if(ss.isInstanceOfType(kh.value,String)){kf.append(kh.value)}else{kf.append(JSON.stringify(kh.value))}kf.append(ke)}}finally{kg.dispose()}}kf.append(kd);kf.append('--');kf.append(ke);var ki={};ki.header=kc;ki.body=kf.toString();return ki};jX.randomString=function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';var ex=8;var kc='';for(var kd=0;kd<ex;kd++){var ke=Math.random()*e.length;var kf=ke|0;kc+=e.substring(kf,kf+1)}return kc};global.tab.XhrUtil=jX;var jY=function(e,ex){this.$4=null;this.$1=null;this.$2=null;this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;gb.call(this,e,new gI(ex.toString(),0));this.$4=new iF(this);this.$1=new iF(this)};jY.__typeName='tab.ZoneCommonModel';global.tab.ZoneCommonModel=jY;var jZ=function(e){gb.call(this,e,new gI('presModelHolder'.toString()))};jZ.__typeName='tab.ZoneContentWrapperModel';global.tab.ZoneContentWrapperModel=jZ;var ka=function(e,ex,kc){this.$7=null;this.$9=null;this.$8=null;this.$5=null;this.$2=null;this.$6=null;this.$4=false;this.$3=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;gb.call(this,e,new gI(kc.toString(),0));this.$7=ex;this.$8=new jY(this,kc);this.$2=new bW(this)};ka.__typeName='tab.ZoneModel';ka.$2=function(e){var ex=e.presModelHolder;if(ss.isNullOrUndefined(ex)){return null}if(ss.getKeyCount(ex)===1){var kc=ss.getEnumerator(Object.keys(ex));try{while(kc.moveNext()){var kd=kc.current();return kd}}finally{kc.dispose()}}return''};ka.getContent=function(e,ex){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.presModelHolder)){return null}if(!(ex in e.presModelHolder)){return null}return e.presModelHolder[ex]};ka.$1=function(e){return(ss.isNullOrEmptyString(e)?null:JSON.parse(e))};ka.$0=function(e){switch(e){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'};global.tab.ZoneModel=ka;var kb=function(e){this.$9=null;this.$8=null;this.$7=null;this.$2$1=null;this.$2$2=null;gb.call(this,e,new gI('zones'.toString()));this.set_zonePresModels({});this.$9={};this.$8={}};kb.__typeName='tab.ZonesModel';kb.$0=function(e){return'z_'+e};global.tab.ZonesModel=kb;ss.initClass(bC,a,{get_isBlocking:function(){return this.$7!=='none'},get_blockType:function(){return this.$7},get_isOneAtATime:function(){return false},get_commandName:function(){return this.$3},set_commandName:function(e){this.$3=e},get_isCancelable:function(){return tab.FeatureFlags.isEnabled('CommandCancellation')&&bI.canCancel(this.get_commandName())},get_commandCanceler:function(){if(!this.get_isCancelable()){return null}return this.$1||bJ.get().defaultCommandCanceler},set_commandCanceler:function(e){this.$1=e},get_hasLocalComponent:function(){return this.hasLocalComponent},get_hasRemoteComponent:function(){return this.hasRemoteComponent},get_useGlobalConnectionErrorHandling:function(){return this.useGlobalConnectionErrorHandling},set_useGlobalConnectionErrorHandling:function(e){this.useGlobalConnectionErrorHandling=e},get_remoteCommands:function(){return ss.arrayClone(this.$6)},execute:function(e,ex,kc){var kd=kc;kc=function(ke){_.defer(function(){kd(ke)})};this.$0(ex,kc);this.executeLocal(e)},executeLocal:function(e){if(ss.isValue(this.doLocalWork)){{var ex=tabBootstrap.MetricsController.createContext('EXELOC'.toString(),8,this.buildCommandMetricsParameters());try{this.doLocalWork(e)}finally{if(ss.isValue(ex)){ex.dispose()}}}}},$0:function(e,ex){this.$5=new Array;this.executeNextRemoteCommand(e,function(kc){hS.onVizqlPinged();ex(kc)})},buildCommandMetricsParameters:function(){var e={};e['cn']=this.get_commandName();return e},triggerCallbacks:function(){if(this.$2.length>0){if(!ss.staticEquals(this.failureCallback,null)){this.failureCallback(this.$2[this.$2.length-1])}}else if(this.$4.length>0){if(!ss.staticEquals(this.successCallback,null)){this.successCallback(this.$4[this.$4.length-1])}}},isFinished:function(){return this.$8.length===0},clearCommandResults:function(){ss.clear(this.$4);ss.clear(this.$2)},reEnqueueCompletedCommandRecords:function(){if(ss.isNullOrUndefined(this.$5)){return}var e=this.$5;var ex=this.$8;while(ex.length>0){e.push(ex.shift())}this.$8=e;this.$5=ex},enqueueCommand:function(e){this.$6.push(e);this.$8.push(e)},handleRemoteCommandSuccess:function(e,ex){this.$4.push(ex)},handleRemoteCommandFailure:function(e,ex){this.$2.push(ex)},executeNextRemoteCommand:function(e,ex){if(this.$8.length===0){if(!ss.staticEquals(ex,null)){ex(bM.successResult)}return}var kc=this.$8.shift();this.$5.push(kc);e.executeSingleRemoteCommand(kc,ss.mkdel(this,function(kd){try{this.handleRemoteCommandSuccess(kc,kd)}finally{this.executeNextRemoteCommand(e,ex)}}),ss.mkdel(this,function(kd){try{this.handleRemoteCommandFailure(kc,kd)}finally{if(ss.isValue(ex)){ex(new bM(false,kd))}}}))}});ss.initClass(b,a,{get_isOneAtATime:function(){return true}},bC);ss.initInterface(fA,a,{add_onRemoteCommandResponse:null,remove_onRemoteCommandResponse:null,add_onRemoteCommandException:null,remove_onRemoteCommandException:null,executeSingleRemoteCommand:null,cancelRunningCommand:null});ss.initClass(c,a,{add_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onRemoteCommandResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onRemoteCommandException:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onRemoteCommandException:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$0:function(e){if(ss.isNullOrUndefined(e)){return null}var ex=e['vqlCmdResponse'.toString()];if(ss.isValue(ex)&&ex.cmdResultList.length>0){var kc=ex.cmdResultList[0];var kd=kc.commandReturn;if(ss.isValue(kd)&&ss.keyExists(kd,'commandValidationPresModel')){var ke=kd['commandValidationPresModel'];if(!ke.valid){return new ss.Exception(ss.formatString('{0}: {1}',kc.commandName,ke.errorMessage))}}}return null},cancelRunningCommand:function(e,ex,kc){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$9.cancelRunningCommand(e,function(kd,ke){ex(kd,ke)},kc)},executeSingleRemoteCommand:function(e,ex,kc){for(var kd=0;kd<this.$8.length;kd++){var ke=this.$8[kd];if(ke.$2(e,ex,kc)===0){return}}var kf={};kf['cn']=e.commandName;var kg=tabBootstrap.MetricsController.createContext('EXEREM'.toString(),8,kf);var kh=this.$7;var ki=ss.mkdel(this,function(kk){kg.dispose();tab.ErrorTrace.report(kk,false);this.$2(kh,e,kk);kc(kk)});var kj=ss.mkdel(this,function(kk,kl){kg.dispose();if(kl){return}var km=this.$0(kk);if(ss.isValue(km)){ki(km);return}this.$3(kh,e,kk);var kn=gG.fromCommand(kk,e);var ko=gG.getConnectionAttemptInfo(kk);if(ss.isValue(ko)&&ko.dataSourceConnectionAttemptInfos.length>0){if(ko.dataSourceConnectionAttemptInfos.length===1){var kp=new tab.DataSourceConnectionAttemptErrorResponse.$ctor1(ko.dataSourceConnectionAttemptInfos[0]);kc(new ss.Exception(JSON.stringify(kp)))}else{kc(new ss.Exception(tab.Strings.DataSourceGenericErrorMsg))}}else{ex(kn)}});this.$9.executeServerCommand(e,kj,ki);++this.$7},$5:function(e,ex,kc){var kd=new bY;kd.commandNamespace=e;kd.commandName=ex;this.$4([kd],kc)},$4:function(e,ex){this.$6(e,ex,null,null)},$6:function(e,ex,kc,kd){var ke=new z(this,e,ex,kc,kd);ke.$g(ss.mkdel(this,this.$1));this.$8.push(ke)},$1:function(e,ex,kc){var kd=new ss.Exception('Command '+e.commandName+' was dropped by the CommandThrottler');this.$2(0,e,kd);kc(kd)},$2:function(e,ex,kc){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(e,ex,kc)}},$3:function(e,ex,kc){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,ex,kc)}}},null,[fA]);ss.initClass(d,a,{});ss.initClass(f,a,{$0:function(){return this.$5.startIndex},$1:function(e){this.$5.startIndex=e},$2:function(){if(ss.isValue(this.$6)){return this.$6}var e=_.map(this.$4,function(ex){return ss.mkdict(['field',ex.field,'ascending',ex.ascending])});this.$6=ss.mkdict(['page',this.$5,'order',e]);if(ss.isValue(this.$3)){this.$6['filter']=this.$3}return this.$6}});f.$1.prototype=f.$0.prototype=f.prototype;ss.initClass(gb,a,{getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(false)},getPresModelPath:function(){return this.$0(new gH)},reparent:function(e){this.parent=e},getMutableCopyOfPresModelInternal:function(e){var ex=(e?tab.MiscUtil.cloneObject(this.pm):gG.cloneObjWithScalarsOnly(this.pm));return ex||new Object},swapAndCopyPresModel:function(e){var ex=this.pm;if(ss.isValue(ex)&&ss.isValue(e)){var kc=e;var kd=ex;var ke=Object.keys(kd);for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];if((!ss.keyExists(kc,kg)||typeof(kc[kg])==='undefined')&&(!_.isBoolean(kd[kg])||!gb.removeUndefinedBoolsOnSwapCopy)){kc[kg]=kd[kg]}}}this.pm=e},swapPresModel:function(e){this.pm=e},simpleSwapToUpdate$1:function(e){return function(ex,kc,kd,ke){this.simpleSwapToUpdate(ex,function(){if(!ss.staticEquals(kc,null)){kc(kd)}},ke)}},simpleSwapToUpdate:function(e,ex,kc){if(this.isNewPresModelSameAsOld(e)){return false}this.swapAndCopyPresModel(e);this.raiseEvent(ex,kc);return true},isNewPresModelSameAsOld:function(e){return _.isEqual(this.pm,e)},raiseEvent$1:function(e){return function(ex,kc,kd){if(ss.staticEquals(ex,null)){return}this.raiseEvent(function(){ex(kc)},kd)}},raiseEvent$2:function(e,ex){return function(kc,kd,ke,kf){if(ss.staticEquals(kc,null)){return}this.raiseEvent(function(){kc(kd,ke)},kf)}},raiseEvent:function(e,ex){if(ss.staticEquals(e,null)){return}if(ss.isValue(this.pm)){}if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.eventHandler)){return}ex.eventHandler.processEvent(e)},$0:function(e){if(!ss.isValue(this.parent)){e.reverse();return e}if(ss.isValue(this.presModelKey)){e.add(this.presModelKey)}var ex=this.parent;return ex.$0(e)}});ss.initClass(j,a,{},gb);ss.initClass(k,a,{},gb);ss.initClass(l,a,{},gb);ss.initEnum(m,a,{$0:60011});ss.initClass(n,a,{$3:function(){return this.$4.length},$1:function(e){if(e.get_isOneAtATime()){this.$2(ss.getInstanceType(e))}this.$4.push(e)},$0:function(){if(this.$4.length<=0){return null}var e=this.$4[0];ss.removeAt(this.$4,0);return e},$2:function(e){var ex=0;for(var kc=this.$4.length-1;kc>=0;--kc){if(ss.referenceEquals(ss.getInstanceType(this.$4[kc]),e)){++ex;ss.removeAt(this.$4,kc)}}if(ex>0){}}});ss.initEnum(o,a,{$0:0,$1:1});ss.initClass(p,a,{$0:function(){return this.$2},$1:function(){return this.$3}});ss.initClass(q,a,{});ss.initEnum(r,a,{$0:16,$1:20,$2:22});ss.initEnum(s,a,{$0:60011});ss.initEnum(t,a,{$5:0,$9:401,$1:400,$2:403,$6:404,$3:410,$7:413,$4:500,$0:502,$8:503});ss.initClass(u,a,{$6:function(){return this.$1$1},$7:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$0:function(){return this.$1$3},$1:function(e){this.$1$3=e},$2:function(){return this.$1$4},$3:function(e){this.$1$4=e}});u.$0.prototype=u.prototype;ss.initClass(v,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});ss.initClass(w,a,{$4:function(){return this.$9},$5:function(){return this.$a.size===0},$6:function(){var e=[];this.$a.forEach(function(ex){e.push(ex)});return e},$0:function(e,ex){if(ss.isNullOrUndefined(e)||e.length===0){return}this.$8.push(w.$0(ex,e));this.$7=this.$7||this.$2(e);e=w.$1(ex,e);this.$a.set(e.join(','),e)},$1:function(e,ex){if(ss.isNullOrUndefined(ex)||ex.length===0){return false}var kc;if(this.$7||this.$2(ex)){kc=this.$3(e,ex)}else{var kd=w.$1(e,ex);kc=this.$a.has(kd.join(','))}return kc},$2:function(e){for(var ex=0;ex<e.length;ex++){var kc=e[ex];if(!ss.isValue(kc)){return true}}return false},$3:function(e,ex){var kc=w.$0(e,ex);for(var kd=0;kd<this.$8.length;kd++){var ke=this.$8[kd];var kf=true;var kg=false;var kh=0;var ki=0;while(kf&&ki<ke.length&&kh<kc.length){var kj=ke[ki];var kk=kc[kh];if(kj.item1<kk.item1){++ki}else if(kj.item1>kk.item1){++kh}else{kf=!ss.isValue(kj.item2)||!ss.isValue(kk.item2)||ss.referenceEquals(kj.item2,kk.item2);kg=kg||ss.referenceEquals(kj.item2,kk.item2);++ki;++kh}}if(kf&&kg){return true}}return false}});ss.initEnum(x,a,{$0:1,$1:2,$2:3,$3:4,$4:5,$5:6});ss.initClass(y,a,{});ss.initClass(z,a,{$g:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$h:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$2:function(e,ex,kc){var kd=false;for(var ke=0;ke<this.$5.length;ke++){var kf=this.$5[ke];if(ss.referenceEquals(kf.commandName,e.commandName)&&ss.referenceEquals(kf.commandNamespace,e.commandNamespace)){kd=true;break}}if(!kd){return 1}if(this.$6){return 1}if(ss.isValue(this.$b)&&ss.isValue(this.$f)){this.$1(this.$b,this.$d,this.$c);this.$b=e;this.$d=ex;this.$c=kc;return 0}var kg=Math.floor(tabBootstrap.MetricsController.getTiming());var kh=kg-this.$7;if(this.$e!==-1&&kh<this.$e){this.$3(e,ex,kc,this.$e-kh)}else if(this.$a!==-1&&this.$8>=this.$a){this.$3(e,ex,kc,this.$9*this.$8)}else{this.$6=true;++this.$8;try{this.$4.executeSingleRemoteCommand(e,ss.mkdel(this,function(ki){if(this.$8>0){--this.$8}ex(ki)}),ss.mkdel(this,function(ki){if(this.$8>0){--this.$8}kc(ki)}))}finally{this.$6=false;this.$7=kg}}return 0},$0:function(){var e=this.$b;var ex=this.$d;var kc=this.$c;this.$b=null;this.$d=null;this.$c=null;if(!ss.isValue(e)){return}this.$4.executeSingleRemoteCommand(e,ex,kc)},$3:function(e,ex,kc,kd){this.$b=e;this.$d=ex;this.$c=kc;this.$f=window.setTimeout(ss.mkdel(this,function(){this.$f=null;this.$0()}),kd)},$1:function(e,ex,kc){if(ss.isValue(this.$1$1)){this.$1$1(e,ex,kc)}}});ss.initClass(A,a,{});ss.initClass(B,a,{$0:function(){if(ss.isNullOrUndefined(this.$1)){return this.$2}var e=_.keys(this.$1);var ex=this.$2.dashboardPresModel.zones;var kc=this.$1;for(var kd=0,ke=e.length;kd<ke;kd++){var kf=e[kd];ex[kf].presModelHolder=kc[kf]}return this.$2}});ss.initClass(C,a,{},bC);ss.initClass(jk,a,{gv:function(e){return this.v[e]},setValue:function(e,ex){this.v[e]=ex},transform:function(e){if(this.isValid&&!ss.staticEquals(e,null)){for(var ex=0;ex<this.length;ex++){this.v[ex]=e(this.v[ex])}}}});ss.initClass(D,a,{gv:function(e){return this.v[0]},setValue:function(e,ex){this.v[0]=ex}},jk);ss.initClass(E,a,{$3:function(){return this.$1$1},$4:function(e){this.$1$1=e},$2:function(){this.$4(this.$3()+1);X.get_waitHandler().addrefAndShowFullWaitHandlerNow()},$1:function(e,ex){this.$4(this.$3()+1);this.$5.incrementWait(e,ex)},$0:function(){while(this.$3()>0){this.$4(this.$3()-1);this.$5.decrementWait()}}});ss.initClass(F,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$2:function(){return this.$1$3},$3:function(e){this.$1$3=e}});ss.initClass(G,a,{get_waitingOnCommands:function(){return this.$2()},get_deferredServerResponseQueueSize:function(){return this.$1()},get_currentWorldDiffersFromCheckpoint:function(){return this.$3.currentWorldDiffersFromCheckpoint},getWorldCheckpoint:function(){return this.$3.worldCheckpoint()},$0:function(e){var ex=e.presModelHolder['visual'.toString()];if(ss.isValue(ex)&&ss.isValue(ex.scene)&&ss.isValue(ex.scene.runtimeFinalDatastore)){return ex.scene.runtimeFinalDatastore}return null},getRuntimeFinalDataStoreRaw:function(e){var ex=this.getWorldCheckpoint();if(ss.isNullOrUndefined(ex.workbookPresModel.dashboardPresModel.zones)){return''}var kc=new ss.ObjectEnumerator(ex.workbookPresModel.dashboardPresModel.zones);try{while(kc.moveNext()){var kd=kc.current();if(ss.isNullOrEmptyString(e)||ss.equalsT(kd.key,e)){var ke=this.$0(kd.value);if(ss.isValue(ke)){return ke}}}}finally{kc.dispose()}var kf=S.get_instance().get_workbook().get_storyboard().get_flipboard();var kg=kf.get_storyPointModel().get_dashboardModel().get_zoneModels();for(var kh=0;kh<kg.length;kh++){var ki=kg[kh];if(ss.isNullOrEmptyString(e)||ss.equalsT(ki.presModelKey.name,e)){var kj=this.$0(ki.pm);if(ss.isValue(kj)){return kj}}}return''}});ss.initClass(H,a,{});ss.initClass(gR,a,{fractionToValue:null,valueToFraction:null});ss.initClass(I,a,{fractionToValue:function(e){if(e<=this.$3){return this.$7+e*(this.$5-this.$7)/this.$3}if(e<=this.$4){var ex=(this.$6-this.$5)/(this.$4-this.$3);var kc=this.$5-ex*this.$3;return e*ex+kc}return this.$0*e*e+this.$1*e+this.$2},valueToFraction:function(e){if(e<=this.$5){return this.$3*(e-this.$7)/(this.$5-this.$7)}if(e<=this.$6){var ex=(this.$6-this.$5)/(this.$4-this.$3);var kc=this.$5-ex*this.$3;return(e-kc)/ex}var kd=Math.sqrt(this.$1*this.$1-4*this.$0*(this.$2-e));return(-this.$1+kd)/(2*this.$0)}},gR);ss.initClass(J,a,{add_doLaunchAuthoring:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_doLaunchAuthoring:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_newLayoutId:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_newLayoutId:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_workbookModifiedChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_workbookModifiedChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_orientationChange:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_orientationChange:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},onAuthoringLaunchRequested:function(){var e=this.$1$1;if(!ss.staticEquals(e,null)){e()}},onNewLayoutId:function(e){var ex=this.$1$2;if(!ss.staticEquals(ex,null)){ex(e)}},onWorkbookModifiedChanged:function(e){var ex=this.$1$3;if(!ss.staticEquals(ex,null)){ex(e)}},onOrientationChange:function(){var e=this.$1$4;if(!ss.staticEquals(e,null)){e()}}});ss.initEnum(K,a,{highlight:'highlight',filter:'filter',url:'url'},true);ss.initClass(L,a,{});ss.initClass(M,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabsrv',cmd:'add-dataserver-data-source'},this.c))}},ss.makeGenericType(W,[Object,N]));ss.initClass(N,a,{});ss.initClass(O,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'add-object-to-dashboard'},this.c))}},ss.makeGenericType(W,[Object,P]));ss.initClass(P,a,{hasZoneID:function(){return ss.keyExists(this.$$c,'zoneId')}});ss.initClass(Q,a,{add_newAnalyticsPane:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newAnalyticsPane:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_analyticsPresModel:function(){return this.pm},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(R,a,{});ss.initClass(S,a,{add_newWorkbook:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWorkbook:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_applicationUpdate:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_applicationUpdate:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_toolbar:function(){return this.$d},get_workbook:function(){return this.$f},get_colorPalettes:function(){return this.$5},get_calculationModel:function(){return this.$4},get_compoundTableCalcModel:function(){return this.$6},get_isTableCalcHighlightingMode:function(){return this.$6.get_hasTableCalc()},get_typeInPillCalculationModel:function(){return this.$e},get_calculationFunctionListModel:function(){return this.$3},get_shapeManager:function(){return this.$c},get_dataDictionary:function(){return this.$8},get_dataAlertDialogModel:function(){return this.$7},get_serverFonts:function(){return this.$2$3},set_serverFonts:function(e){this.$2$3=e},get_renderMode:function(){return(ss.isValue(this.get_appPresModel())?this.get_appPresModel().renderMode:'render-mode-server')},get_localeDateFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$3(this.get_appPresModel().dateFormat))?this.get_appPresModel().dateFormat:'M/d/yyyy')},get_localeTimeFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$3(this.get_appPresModel().timeFormat))?this.get_appPresModel().timeFormat:'h:mm tt')},get_isLocalRenderMode:function(){return this.get_renderMode()==='render-mode-client'},get_appPresModel:function(){return this.pm},get_autoUpdate:function(){var e=ge.findContentDashboard();return ss.isValue(e)&&e.autoUpdate},set_autoUpdate:function(e){var ex=ge.findContentDashboard();if(ss.isValue(ex)){ex.autoUpdate=e}},get_invalid:function(){return ge.findContentDashboard().invalid},set_invalid:function(e){var ex=ge.findContentDashboard();if(ss.isValue(ex)){ex.invalid=e}},get_showTabs:function(){return tsConfig.showTabs&&!this.get_isOffline()},get_showToolbar:function(){return!this.get_isOffline()},get_isOffline:function(){return ss.isValue(tsConfig.offlineBootstrapResponse)},get_runtimeInitialized:function(){return this.$b},registerNotificationHandler:function(e,ex){var kc=this.$a[e];if(ss.isNullOrUndefined(kc)){kc=[];this.$a[e]=kc}for(var kd=0;kd<kc.length;kd++){if(ss.staticEquals(kc[kd],ex)){throw new ss.Exception('This handler for '+e.toString()+' already registered')}}kc.push(ex);return ex},unRegisterNotificationHandler:function(e,ex){var kc=this.$a[e];if(ss.isValue(kc)){for(var kd=kc.length-1;kd>=0;kd--){if(ss.staticEquals(kc[kd],ex)){ss.removeAt(kc,kd);if(kc.length===0){delete this.$a[e];return}}}}},$1:function(e,ex){var kc=e.presModelMap;if(ss.isNullOrUndefined(kc)){return}var kd=new ss.ObjectEnumerator(kc);try{while(kd.moveNext()){var ke=kd.current();var kf=ke.key;var kg=this.$a[kf];if(ss.isNullOrUndefined(kg)){continue}var kh=ke.value.presModelHolder;var ki=new ss.ObjectEnumerator(kh);var kj=(ki.moveNext()?ki.current().value:null);for(var kk=0;kk<kg.length;kk++){var kl=kg[kk];kl(kj,ex)}}}finally{kd.dispose()}},addModel:function(e){return function(){var ex=ss.createInstance(e);var kc=ss.safeCast(ex,fu);if(ss.isValue(kc)){this.registerNotificationHandler(kc.get_notificationId(),ss.mkdel(kc,kc.onNotify))}this.$9[e]=ex;return ex}},removeModel:function(e){return function(){var ex=this.$9[e];if(ss.isNullOrUndefined(ex)){return}var kc=ss.safeCast(ex,fu);if(ss.isValue(kc)){this.unRegisterNotificationHandler(kc.get_notificationId(),ss.mkdel(kc,kc.onNotify))}delete this.$9[e]}},modelInstance:function(e){return function(){var ex=this.$9[e];if(ss.isNullOrUndefined(ex)){ex=this.addModel(e).call(this)}return ex}},update:function(e,ex){if(ss.isNullOrUndefined(this.pm)){this.pm={}}if(ss.isValue(e.renderMode)){this.get_appPresModel().renderMode=e.renderMode}if(ss.isValue(e.dataDictionary)){this.$8.update(e.dataDictionary)}if(ss.isValue(e.presentationLayerNotifications)){this.$1(e.presentationLayerNotifications,ex)}if(ss.isValue(e.workbookPresModel)){if(!ss.isValue(this.$f)){this.$f=new jJ(this);this.raiseEvent$1(jJ).call(this,this.$2$1,this.$f,ex)}this.$f.update(e.workbookPresModel,ex)}if(ss.isValue(e.colorPaletteCollection)){this.$5.update(e.colorPaletteCollection,ex)}if(ss.isValue(e.calculation)){this.$4.update(e.calculation,ex)}if(ss.isValue(e.typeInPill)){this.$e.update(e.typeInPill,ex)}if(ss.isValue(e.calculation)&&ss.isValue(e.calculation.expressionFuncPm)){this.$3.update(e.calculation.expressionFuncPm,ex)}if(ss.isValue(e.compoundTableCalculationPresModel)){this.$6.update(e.compoundTableCalculationPresModel,ex)}if(ss.isValue(e.toolbarPresModel)){this.$d.update(e.toolbarPresModel,ex)}if(tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){if(ss.isValue(e.dataAlertDialogPresModel)){this.$7.update(e.dataAlertDialogPresModel)}}if(ss.isValue(e.serverFonts)){this.set_serverFonts(ss.arrayClone(e.serverFonts.fontFamilies))}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)},getMutableCopyOfPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e={};e=$.extend(false,e,this.pm);return e},shouldDoLocalCommand:function(){return tab.FeatureFlags.isEnabled('RuntimeWebIncrementalUpdate')&&tab.RuntimeUtil.isRuntimeSupported()&&!this.get_workbook().get_isCurrentSheetDashboard()},$2:function(){if(!this.shouldDoLocalCommand()){return}var e=ge.getVisualModels(this);if(ss.getKeyCount(e)>1){return}var ex=new ss.ObjectEnumerator(e);try{while(ex.moveNext()){var kc=ex.current();kc.value.requestRuntimeDataAndUpdateVM()}}finally{ex.dispose()}},setupRuntime:function(){if(ss.isValue(this.$b)||!this.shouldDoLocalCommand()){return}var e=$.Deferred();this.$b=e;var ex=tabBootstrap.MetricsController.createContext('EMLOAD'.toString(),15,null);hq.requestRuntimeLoad().done([function(){ex.dispose();var kc=function(){e.resolve()};var kd=function(ke){e.reject();tab.ErrorTrace.report(ke,false)};tab.RuntimeWebModule.proxy.initializeRuntime().then(kc,kd)}])}},gb);ss.initClass(T,a,{});ss.initClass(U,a,{});ss.initEnum(V,a,{inProgress:'inProgress',success:'success',error:'error'},true);ss.initClass(X,a,{get_urlRoot:function(){return this.$i},get_id:function(){return tsConfig.sessionid},get_historyPosition:function(){return X.$3},set_historyPosition:function(e){X.$3=e},get_sessionErrorHandler:function(){return this.defaultSessionErrorHandler},get_commonDialogProvider:function(){return this.$f},$e:function(){return this.$i+'/sessions/'+tsConfig.sessionid},formatThumbnailReference:function(e){return this.$h+'/thumb/views/'+e},formatSessionTempfileReference:function(e,ex,kc){return this.$i+'/tempfile/sessions/'+tsConfig.sessionid+'/?key='+e+(ex?'&keepfile=yes':'')+(kc?'&attachment=yes':'')},railsEncode:function(e){var ex=new ss.ObjectEnumerator(X.$1);try{while(ex.moveNext()){var kc=ex.current();e=e.replace(kc.value,kc.key)}}finally{ex.dispose()}return e},nudgeWait:function(){if(ss.isNullOrUndefined(X.$4)){return false}X.$4.nudge();return true},incrementWait:function(e,ex){if(ss.isNullOrUndefined(X.$4)){return false}X.$4.addref(e,ex);return true},decrementWait:function(){if(ss.isNullOrUndefined(X.$4)){return false}X.$4.release();return true},handleAuthenticationFailure:function(){this.defaultSessionErrorHandler.handleAuthenticationFailure()},getWindow:function(e){return e+tsConfig.sessionid.replace(new RegExp('[^A-Za-z0-9_]','g'),'_')},$8:function(e,ex,kc){var kd={};kd.type='POST';kd.url=this.$5('inform');kd.headers=ss.mkdict(['Accept','text/plain']);kd.contentType='text/plain';var ke=tsConfig.clientErrorReportingMaxRequestSizeBytes;var kf=new ss.StringBuilder;kf.appendLine('url: '+e);kf.appendLine('user-agent: '+ex);var kg=ss.Int32.div(ke-kf.toString().length,ss.getKeyCount(kc));var kh=new ss.ObjectEnumerator(kc);try{while(kh.moveNext()){var ki=kh.current();kf.appendLine(ki.key);kf.appendLine(ki.value.substr(0,kg-ki.key.length-2))}}finally{kh.dispose()}kd.data=kf.toString();this.$c(kd)},$d:function(e,ex){if(ex){jT.redoToPosition(e)}else{jT.undoToPosition(e)}},executeServerCommand:function(e,ex,kc){var kd={};this.$9(kd,e);kd.headers=ss.mkdict(['Accept','text/javascript']);var ke=function(kh,ki,kj){if(ss.isValue(ex)){ex(kh,kj.status===X.$2)}};var kf=ss.mkdel(this,function(kh,ki,kj){this.$7(kj,kh,e.noExceptionDialog,e);if(ss.isValue(kc)){var kk=new ss.Exception(kh.responseText);kk['status']=kh.status;kc(kk)}});var kg=this.$1(null,ke,(ss.isValue(kc)?kf:null));this.$c(kd,kg)},basicPostOpts:function(e,ex){var kc={};kc.type='POST';kc.url=e;kc.headers=ss.mkdict(['Accept','text/javascript']);kc.dataType='json';kc.data=ex;return kc},basicGetOpts:function(e){var ex={};ex.type='GET';ex.url=e;ex.headers=ss.mkdict(['Accept','text/javascript']);ex.dataType='json';return ex},$9:function(e,ex){var kc=jX.getMultipartData(null,ex.commandParams);e.type='POST';e.dataType='json';e.contentType='multipart/form-data; boundary='+kc.header;e.data=kc.body;e.url=this.$4(ex.commandNamespace,ex.commandName)},$a:function(e){var ex=this.get_historyPosition();var kc=ss.mkdel(this,function(){this.$d(ex,false)});var kd=ss.mkdel(this,function(){this.$d(ex+1,true)});this.$b(kc,kd);++X.$3},$3:function(e){return this.$i+'/'+e},$5:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,tsConfig.sessionid,this.$i)},$4:function(e,ex){return this.$e()+'/commands/'+e+'/'+ex},$b:function(e,ex){if(!tsConfig.embedded||tsConfig.browserBackButtonUndo){if(ss.isValue(X.$0)){X.$0.onBack=e}else{fg.setInitialState(e)}X.$0=fg.addToHistory(null,ex)}},$7:function(e,ex,kc,kd){this.$g.handle(e,ex,kd,kc)},$c:function(e,ex){return jX.helper(e,ex)},$1:function(e,ex,kc){return new hP(this,e,ex,kc,false,false)},$0:function(e,ex,kc,kd){var ke=kd!=='none';var kf=kd==='immediately';return new hP(this,e,ex,kc,ke,kf)},formatLayoutMethod:function(e,ex){var kc=(ss.isValue(ex)?this.$5(ex):this.$e());kc+='/layouts/'+e;return kc},formatViewMethod:function(e,ex){var kc=(ss.isValue(ex)?this.$5(ex):this.$e());kc+='/views/'+e;return kc},formatFilterReference:function(e,ex,kc){return this.$6(e,ex,kc,'filters')},$6:function(e,ex,kc,kd){e=encodeURIComponent(this.railsEncode(e));var ke;if(ss.isValue(kc)){ke=this.$5(kc)}else{ke=this.$e()}ke+='/sheets/'+e+'/'+kd;if(ss.isValue(ex)){ke+='/'+encodeURIComponent(this.railsEncode(ex))}return ke},$2:function(e){return this.$i+'/cancel/sessions/'+tsConfig.sessionid+'/commands/'+e.commandNamespace+'/'+e.commandName},cancelRunningCommand:function(e,ex,kc){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}var kd=this.$2(e);var ke=this.basicGetOpts(kd);var kf=function(ki,kj,kk){if(ss.isValue(ex)){ex(ki,kk.status)}};var kg=function(ki,kj,kk){if(ss.isValue(kc)){kc(kk)}};var kh=this.$1(null,kf,kg);this.$c(ke,kh)}});ss.initClass(Y,a,{get_hasColor:function(){return this.color!=='rgba(0, 0, 0, 0)'},get_hasWidth:function(){return this.width>0},get_hasStyle:function(){return this.style!=='bs-none'},get_cssDictionary:function(){var e={};switch(this.side){case 0:{e['border-width']=this.width+'px';e['border-style']=Y.borderStyleToCss(this.style);e['border-color']=this.color;break}case 1:{e['border-top-width']=this.width+'px';e['border-top-style']=Y.borderStyleToCss(this.style);e['border-top-color']=this.color;break}case 2:{e['border-left-width']=this.width+'px';e['border-left-style']=Y.borderStyleToCss(this.style);e['border-left-color']=this.color;break}case 4:{e['border-bottom-width']=this.width+'px';e['border-bottom-style']=Y.borderStyleToCss(this.style);e['border-bottom-color']=this.color;break}case 3:{e['border-right-width']=this.width+'px';e['border-right-style']=Y.borderStyleToCss(this.style);e['border-right-color']=this.color;break}}return e},get_styledBoxPresModel:function(){var e={};switch(this.side){case 0:{e.uw=this.width;e.borderStyle=this.style;e.borderColor=this.color;break}case 1:{e.uwt=this.width;e.borderStyleTop=this.style;e.borderColorTop=this.color;break}case 2:{e.uwl=this.width;e.borderStyleLeft=this.style;e.borderColorLeft=this.color;break}case 4:{e.uwb=this.width;e.borderStyleBottom=this.style;e.borderColorBottom=this.color;break}case 3:{e.uwr=this.width;e.borderStyleRight=this.style;e.borderColorRight=this.color;break}}return e}});ss.initEnum(Z,a,{all:0,top:1,left:2,right:3,bottom:4});ss.initClass(ba,a,{get_isBrushingComputed:function(){return this.$1},hasBrushingForSheet:function(e){return ss.isValue(this.$5[e])||ss.isValue(this.$3[e])||ss.isValue(this.$2[e])},getTupleBrushing:function(e){return this.$5[e]||[]},getTrendlineBrushing:function(e){return this.$4[e]||[]},getNodeBrushing:function(e){return this.$3[e]||[]},getLegendBrushing:function(e){return this.$2[e]||{}},$0:function(e,ex,kc,kd,ke){var kf=e.get_vizDataModel();var kg=ge.getModelsForViz(by).call(null,ge.findContentDashboard(),e);for(var kh=0;kh<kg.length;kh++){var ki=kg[kh];if(ss.isNullOrUndefined(kf)){continue}if(!ki.get_isHighlightEnabled()||ke.length===0&&ki.get_isOneWay()){continue}var kj=_.intersection(ex.get_vizDataModel().get_fieldCaptions(),ki.get_fieldCaptions());kj=ba.getHighlightFieldCaptions(kd,ex.get_vizDataModel().get_highlightCaptions(),kj);var kk=y.$3(ex.get_vizDataModel(),kc,kj);var kl=y.$6(kk,kf,ki);if(!ss.keyExists(this.$2,e.get_worksheetName())){this.$2[e.get_worksheetName()]={}}this.$2[e.get_worksheetName()][ba.$0(ki.get_legendTypeEnum(),ki.get_legendNames())]=kl}}});ss.initClass(bb,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'build-caption-context-menu'},this.c))}},ss.makeGenericType(W,[Object,bc]));ss.initClass(bc,a,{});ss.initClass(bd,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'build-data-tab-field-context-menu'},this.c))}},ss.makeGenericType(W,[Object,be]));ss.initClass(be,a,{});ss.initClass(bf,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'build-layout-tree-context-menu'},this.c))}},ss.makeGenericType(W,[Object,bg]));ss.initClass(bg,a,{});ss.initClass(bh,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'build-schema-change-data-type-menu'},this.c))}},ss.makeGenericType(W,[Object,bi]));ss.initClass(bi,a,{});ss.initClass(bj,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'build-server-axis-context-menu'},this.c))}},ss.makeGenericType(W,[Object,bk]));ss.initClass(bk,a,{});ss.initClass(bl,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'build-sheet-list-context-menu'},this.c))}},ss.makeGenericType(W,[Object,bm]));ss.initClass(bm,a,{});ss.initClass(bn,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'build-title-context-menu'},this.c))}},ss.makeGenericType(W,[Object,bo]));ss.initClass(bo,a,{});ss.initClass(bp,a,{add_contentUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_contentUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_internalModel:function(){return this.pm},get_buttonZone:function(){return this.get_internalModel().dashboardButtonZone},get_caption:function(){return this.get_buttonZone().buttonCaption},get_clickActionString:function(){return this.get_buttonZone().buttonClickAction},get_tooltipText:function(){return this.get_buttonZone().buttonTooltipText},get_imagePathKey:function(){return this.get_internalModel().buttonImagePathKey},get_imageWidth:function(){return this.get_internalModel().imageWidth},get_imageHeight:function(){return this.get_internalModel().imageHeight},get_canNavigate:function(){return this.get_internalModel().bool},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(bq,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'calculation-auto-complete'},this.c))}},ss.makeGenericType(W,[Object,br]));ss.initClass(br,a,{});ss.initClass(bs,a,{add_functionListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_functionListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_functions:function(){return this.$1().expressionFuncList||[]},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(bt,a,{add_calculationUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_calculationUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasCalculation:function(){return ss.isValue(this.pm)&&(!tab.MiscUtil.isNullOrEmpty$3(this.$1().calculationCaption)||!tab.MiscUtil.isNullOrEmpty$3(this.$1().pendingCalcName)||!tab.MiscUtil.isNullOrEmpty$3(this.$1().datasource))},get_isNewCalculation:function(){return tab.MiscUtil.isNullOrEmpty$3(this.$1().fn)},get_isAdhoc:function(){return this.$2&&this.$1().isTypeInPill},get_adHocShelf:function(){return this.$1().shelfType||'none-shelf'},get_adHocShelfPosition:function(){return this.$1().shelfPosIndex},get_adHocPaneSpecId:function(){return this.$1().paneSpec},$1:function(){return this.pm},get_tokens:function(){return this.$1().styleTokenList||[]},get_name:function(){return this.$1().pendingCalcName||''},get_fieldName:function(){return this.$1().fn||''},get_errors:function(){return this.$1().errorInfoList||[]},get_errorSummary:function(){return this.$1().errorString||''},get_caption:function(){return this.$1().calculationCaption||''},get_formula:function(){return this.$1().calculationFormula||''},get_dependencies:function(){return this.$1().calculationDependencies||''},get_dependenciesBtnLabel:function(){return this.$1().label||''},get_dataSourceName:function(){return this.$1().datasource||''},get_dataSourceCaption:function(){var e=S.get_instance().get_workbook().get_dataSchema();if(ss.isNullOrUndefined(e)){return null}var ex=e.findDataSourceByName(this.get_dataSourceName());if(ss.isNullOrUndefined(ex)){return null}return ex.get_caption()},get_useParameters:function(){return ss.coalesce(this.$1().useParameters,false)},get_calculationContext:function(){return ss.coalesce(this.$1().calculationContext,'calculation-dialog')},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(bu,a,{});ss.initEnum(bv,a,{success:200,nothingToCancel:204});ss.initClass(bw,a,{});ss.initClass(bx,a,{get_items:function(){return this.$1().domainTables},$1:function(){return this.pm},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},gb);ss.initInterface(fk,a,{getItemNamesFromObjectId:null});ss.initClass(by,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_legendNameChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_legendNameChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_worksheetName:function(){return this.$1().get_worksheetName()},get_id:function(){return this.get_legendNames().join(';')+this.$2},get_catLegendPresModel:function(){return this.pm},get_isContextMenuAllowed:function(){return this.get_catLegendPresModel().isContextMenuAllowed||false},get_isHighlightEnabled:function(){return this.get_catLegendPresModel().isHighlightEnabled||false},get_isHighlightAllowed:function(){return this.get_catLegendPresModel().isHighlightAllowed||false},get_isOneWay:function(){return this.get_catLegendPresModel().oneWayBrushing||false},get_fieldCaptions:function(){return this.get_catLegendPresModel().fieldCaptions},get_legendNames:function(){return this.get_catLegendPresModel().legendNames},get_legendTypeEnum:function(){return this.$2},get_items:function(){return by.$0(this.get_legendTypeEnum(),this.get_catLegendPresModel())},$1:function(){var e=ss.safeCast(this.parent,jZ);return e.get_zone()},getItemNamesFromObjectId:function(e){var ex=_.find(this.get_items(),function(kc){return kc.objectId===e});return ex.itemValues},update:function(e,ex){if(this.$2==='shape'&&ss.isValue(e.markShapeList)&&tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')&&!S.get_instance().get_isLocalRenderMode()){S.get_instance().get_shapeManager().updateCustomImageMap(e.markShapeList)}if(this.isNewPresModelSameAsOld(e)){return}en.notifyFontsFromCategoricalLegendPresModel(e);var kc=this.get_catLegendPresModel();this.swapAndCopyPresModel(e);if(ss.isValue(kc)&&!_.isEqual(kc.legendNames,e.legendNames)){this.raiseEvent(this.$2$2,ex)}this.raiseEvent(this.$2$1,ex)}},gb,[fk]);ss.initClass(gP,a,{update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},gb);ss.initClass(bz,a,{get_categoricalFilter:function(){return this.$3$1},set_categoricalFilter:function(e){this.$3$1=e},get_mode:function(){return this.$1.categoricalMode},get_isAllButtonVisible:function(){return this.$1.isAllButtonVisible},get_isAllButtonSelected:function(){return this.$1.categoricalFilter.allSelected},get_isSelectionExclusive:function(){return this.$1.categoricalFilter.isSelectionExclusive},get_showApplyAndCancelButtons:function(){return this.$1.showApplyAndCancelButtons},get_showSearchButton:function(){return this.$1.isSearchable},get_showMoreLessButton:function(){return this.$1.canShowMoreFewerButton},get_showClearButton:function(){return this.$1.canShowFilterStateButton},get_getDomainValue:function(){return this.$1.filterDomainType},getDomains:function(){return this.$1.filterDomains},update:function(e,ex){gP.prototype.update.call(this,e,ex);this.$1=e;this.get_categoricalFilter().update(this.$1.categoricalFilter)}},gP);ss.initClass(bA,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'change-workbook-ui-mode'},this.c))}},ss.makeGenericType(W,[Object,bB]));ss.initClass(bB,a,{});ss.initEnum(bD,a,{clipNone:0,clipX:1,clipY:2,clipXY:3});ss.initClass(bE,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'close-data-alert-dialog'},this.c))}},ss.makeGenericType(W,[Object,bF]));ss.initClass(bF,a,{});ss.initClass(bG,a,{get_r:function(){return this.$7},get_g:function(){return this.$6},get_b:function(){return this.$4},get_a:function(){return this.$3},get_isOpaque:function(){return this.get_a()>=0.999989986419678},isLuminanceAboveThreshold:function(e){return this.$1()>e},isLStarAboveThreshold:function(e){return this.$0()>e},isLuminanceAgainstBackgroundAboveThreshold:function(e,ex){return this.$2(e)>ex},setRGBStr:function(e){this.$8=e},isValueAboveThreshold:function(e){var ex=bG.alphaBlend(this,bG.white);return Math.max(Math.max(ex.get_r(),ex.get_g()),ex.get_b())>e},toString:function(){if(this.$5===''){this.$5=((this.$3>=0.999989986419678)?this.toRgb():this.toRgba())}return this.$5},$0:function(){var e=this.$1();var ex=116*bG.$4(e)-16;return ex},$1:function(){return bG.$5(this.get_r(),this.get_g(),this.get_b())},$2:function(e){var ex=ss.Int32.trunc(this.$3*this.$7+(1-this.$3)*e.get_r());var kc=ss.Int32.trunc(this.$3*this.$6+(1-this.$3)*e.get_g());var kd=ss.Int32.trunc(this.$3*this.$4+(1-this.$3)*e.get_b());return bG.$5(ex,kc,kd)},getApparentColor:function(e){var ex=ss.Int32.trunc((1-bG.$2(this.$7))*e.get_r());var kc=ss.Int32.trunc((1-bG.$2(this.$6))*e.get_g());var kd=ss.Int32.trunc((1-bG.$2(this.$4))*e.get_b());return new bG(ex,kc,kd,this.$3)},toRgba:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+this.$3+')'},toRgba255:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+bG.alphaFractionTo255(this.$3)+')'},toRgb:function(){if(this.$8===''){return'rgb('+this.$7+','+this.$6+','+this.$4+')'}return this.$8},toRgbHex:function(){return'#'+bG.$6(this.$7,2)+bG.$6(this.$6,2)+bG.$6(this.$4,2)},toArgbHex:function(){var e=ss.Int32.trunc(bG.alphaFractionTo255(this.$3));return'#'+bG.$6(e,2)+bG.$6(this.$7,2)+bG.$6(this.$6,2)+bG.$6(this.$4,2)},toArgbInt:function(){var e=ss.Int32.trunc(bG.alphaFractionTo255(this.$3));return(e<<24)+(this.$7<<16)+(this.$6<<8)+this.$4}});ss.initClass(bH,a,{get_paletteCollectionPresModel:function(){return this.pm},get_qColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().qColorPaletteGroups},get_catColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().catColorPaletteGroups},get_colorPalettes:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return[]}return e.colorPalettes},colorPaletteGroup:function(e){var ex=e.palettesIndices;return _.map(ex,ss.mkdel(this,function(kc){return this.get_colorPalettes()[kc]}))},update:function(e,ex){this.simpleSwapToUpdate(e,null,ex)}},gb);ss.initClass(bI,a,{});ss.initClass(bJ,a,{add_onUrlActionsResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onUrlActionsResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onInvalidation:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onInvalidation:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_tabChangeCompleted:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_tabChangeCompleted:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_newLayoutId:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_newLayoutId:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},add_switchingViz:function(e){this.$1$6=ss.delegateCombine(this.$1$6,e)},remove_switchingViz:function(e){this.$1$6=ss.delegateRemove(this.$1$6,e)},add_destroyView:function(e){this.$1$8=ss.delegateCombine(this.$1$8,e)},remove_destroyView:function(e){this.$1$8=ss.delegateRemove(this.$1$8,e)},add_commandQueueComplete:function(e){this.$1$9=ss.delegateCombine(this.$1$9,e)},remove_commandQueueComplete:function(e){this.$1$9=ss.delegateRemove(this.$1$9,e)},add_undoCommand:function(e){this.$1$10=ss.delegateCombine(this.$1$10,e)},remove_undoCommand:function(e){this.$1$10=ss.delegateRemove(this.$1$10,e)},add_modelsUpdated:function(e){this.$1$11=ss.delegateCombine(this.$1$11,e)},remove_modelsUpdated:function(e){this.$1$11=ss.delegateRemove(this.$1$11,e)},add_intermediateUpdate:function(e){this.$1$12=ss.delegateCombine(this.$1$12,e)},remove_intermediateUpdate:function(e){this.$1$12=ss.delegateRemove(this.$1$12,e)},add_remoteCommandFailure:function(e){this.$1$13=ss.delegateCombine(this.$1$13,e)},remove_remoteCommandFailure:function(e){this.$1$13=ss.delegateRemove(this.$1$13,e)},get_loader:function(){return this.$U},$F:function(){return this.$P.length===0&&this.$Z.$3()===0},$E:function(){return _.any(this.$P,bJ.$5)},get_legacySession:function(){return this.$V},cancelRunningCommand:function(e,ex,kc){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$1();this.$Y.$1(true,false);this.$S=true;var kd=new Date;while(ss.isValue(this.$Z.$0())){}ss.clear(this.$P);ss.clearKeys(this.$N);ss.clear(this.$R);this.$M=null;this.$J.cancelRunningCommand(e,ss.mkdel(this,function(ke,kf){var kg=new Date;if(ss.isValue(ke)){this.$W=!!(this.$W|ke.isWorldNew);this.$B(ke);var kh=new fz;kh.primarySheet=null;kh.layoutStatus=ke;kh.cmdResult=null;var ki={item1:ke.applicationPresModel,item2:kh};this.$5(0,ki);this.$p(null)}if(!ss.staticEquals(ex,null)){ex(kf)}this.$S=false;this.$Y.$0();var kj=new Date;bw.$1(e.commandName,kf,kd,kg,kj)}),ss.mkdel(this,function(ke){if(!ss.staticEquals(kc,null)){kc()}this.$S=false;this.$Y.$0();var kf=new Date;bw.$0(e.commandName,kd,kf)}))},resetInvalidationHandlers:function(){this.$1$1=null;this.$1$2=null;this.$1$5=null},setBrowserViewportFunc:function(e){this.$Q=e;if(gK.get_progressiveLoadEnabled()){this.$Q(ss.mkdel(this,function(ex){this.$U.setViewport(ex)}))}},prepareForSheetChange:function(){X.get_waitHandler().showAndLock()},switchViz:function(e,ex){if(!ss.staticEquals(this.$1$6,null)){this.$1$6()}this.$H=false;iB.reset();tabBootstrap.ViewerBootstrap.resetInstance();var kc=tsConfig.staticAssetVersion;iB.resetTsConfig(e);var kd=this.$g(tsConfig.cssStaticAssetFiles,tsConfig.jsStaticAssetFiles);var ke=!ss.referenceEquals(kc,tsConfig.staticAssetVersion);if(ke||kd){ex.setWindowLocation(null);return}bJ.$f=false;ex.updateForViewingSheet(tsConfig.repositoryUrl).replaceState(null);tabBootstrap.ViewerBootstrap.get_instance().bootstrap();if(!ss.staticEquals(bJ.$1$7,null)){bJ.$1$7()}},$g:function(e,ex){for(var kc=0;kc<e.length;kc++){var kd=e[kc];if(!gf.isCssLoaded(kd)){return true}}for(var ke=0;ke<ex.length;ke++){var kf=ex[ke];if(!gf.isScriptLoaded(kf)){return true}}return false},refreshLayout:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}var ex=ss.mkdel(this,function(ke){if(tab.ObjectCoverage.shouldTrack('bootstrap-initial')){ke=(new tab.ObjectCoverage('bootstrap-initial')).instrument(ke,'')}var kf=ke;try{this.$C(kf);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}var kg=jv.createForCurrentWindowLocation();if(kg.get_retry()){kg.set_retry(false);kg.replaceState(null)}this.$c(kf.worldUpdate.applicationPresModel);this.$L.handlePotentialBootstrapDataSourceException(kf)}catch(kh){var e=ss.Exception.wrap(kh);bJ.handleBootstrapException(e,this.$K)}});var kc=ss.mkdel(this,function(e){var ke=e;if(ss.isValue(ke)){_.defer(ss.mkdel(this,function(){{var kf=tabBootstrap.MetricsController.createContext('PROSEC'.toString(),2,null);try{try{this.$f(ke)}catch(kg){var e1=ss.Exception.wrap(kg);bJ.handleBootstrapException(e1,this.$K)}}finally{if(ss.isValue(kf)){kf.dispose()}}}if(gK.get_progressiveLoadEnabled()){this.$z()}else{this.$l()}}))}});var kd=ss.mkdel(this,function(e){hS.onVizqlPinged();var ke=e['status'];if(ke===200){var kf=e['message'];if(ss.isNullOrUndefined(kf)){kf=e['_message']}var kg=kf;if(ss.isValue(kg)&&kg.substr(0,12)==='Invalid JSON'){bJ.sendParentCompletedMessage();var kh=tab.Strings.ServerErrorInvalidJSON+'<br>';this.$K.showAlertDialog(kh,tab.Strings.SessionUnknownErrorTitle,true,null);throw new ss.Exception('Invalid JSON')}}else if(ke===403){var ki=0;var kj='';try{var kk=JSON.parse(e['responseText']);if(ss.isValue(kk)){ki=kk.code;kj=kk.message}}catch(kr){}bJ.sendParentCompletedMessage();this.$V.get_sessionErrorHandler().handleSessionForbiddenAction(ki,kj)}else if(ke===401){if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var kl=e['responseText'];var km=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(kl);var kn=(ss.isNullOrUndefined(km)?kl:km.RedirectUrl);tab.WindowHelper.locationReplace(window.self,kn)}else{var ko=e['responseText'];tab.WindowHelper.locationReplace(window.self,ko)}}else if(ke===410){this.$V.get_sessionErrorHandler().handleSessionExpiration(true)}else if(ke===413){bJ.sendParentCompletedMessage();this.$V.get_sessionErrorHandler().handleSessionLimitExceeded()}else if(ke!==0){bJ.sendParentCompletedMessage();var kp=e['responseText'];if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var kq=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(kp);if(ss.isValue(kq)){kp=kq.ErrorMessage}}if(ke===502||ke===503){this.$V.get_sessionErrorHandler().handleSessionKilled(kp)}else{this.$V.get_sessionErrorHandler().handleUnknownErrorStatus(kp)}this.$V.nudgeWait()}});tabBootstrap.ViewerBootstrap.get_instance().waitOnInitialLayoutModel(ex,kd,kc)},delayLocalUrlActions:function(e){this.$O=this.$O.concat.apply(this.$O,e)},worldCheckpoint:function(){return this.$10.worldCheckpoint()},$A:function(e){var ex=function(){e()};var kc={};kc.type='POST';kc.url=bJ.$2('transitionGuest',this.$V);var kd=tab.MiscUtil.get_urlPathnameParts();var ke=(ss.keyExists(kd,3)?kd[3]:'');var kf=tsConfig.current_sheet_name;var kg=ss.mkdict([':authSheet',kf,'sheet_id',ke]);kc.data=kg;var kh=new hP(this.$V,null,ex,null,true,true);jX.helper(kc,kh)},$m:function(e,ex,kc,kd,ke){var kf=tab.Strings.UnhandledExceptionMessage(this.$V.get_id(),e);var kg=bJ.$0(this.$V.get_id(),e,ke);this.$K.showAlertDialog(kf,tab.Strings.UnhandledExceptionTitle,true,kg);bJ.$7(JSON.stringify(e));tab.ErrorTrace.windowOnError(e,ex,kc,kd,ke);return false},$o:function(e,ex){if(ss.isValue(e)){gb.nonWorldUpdate(ss.mkdel(this,function(kc){kc.dialogProvider=this.$K;S.get_instance().update(e,kc);this.$10.checkpointAppPresModel()}));this.$u();if(!ex){this.$k()}}},$k:function(){if(!ss.staticEquals(this.$1$12,null)){this.$1$12()}},$h:function(){if(gK.get_progressiveLoadEnabled()){this.$U=new gK;this.$U.add_progressiveLoad(ss.mkdel(this,this.$o));this.$U.add_progressiveLoadComplete(ss.mkdel(this,this.$n));this.$I=[]}},$z:function(){this.$U.start()},$1:function(){if(gK.get_progressiveLoadEnabled()&&this.$U.get_hasZonesToLoad()){this.$U.abort();this.$I=[];this.$n()}},$n:function(){this.$y();this.$l();jV.get().raiseOnProgressiveLoadComplete();for(var e=0;e<this.$I.length;e++){var ex=this.$I[e];ex()}this.$I=[]},$c:function(e){{var ex=tabBootstrap.MetricsController.createContext('PROPRI',2,null);try{var kc=new dm;kc.exceptionHandler=ss.mkdel(this,function(ki){bJ.handleBootstrapException(ki,this.$K)});var kd=kc;var ke={dialogProvider:this.$K,eventHandler:kd};jV.get().raiseOnBootstrapResponse(e);if(gK.get_progressiveLoadEnabled()){e=this.$U.extractZoneContent(e)}{var kf=tabBootstrap.MetricsController.createContext('MDLINI'.toString(),2,null);try{var kg=S.get_instance();kg.update(e,ke);kg.$2()}finally{if(ss.isValue(kf)){kf.dispose()}}}this.$10.checkpointAppPresModel();iB.notifyModelsInitialized();{var kh=tabBootstrap.MetricsController.createContext('MDLEVT'.toString(),2,null);try{kd.fireDeferredEvents()}finally{if(ss.isValue(kh)){kh.dispose()}}}}finally{if(ss.isValue(ex)){ex.dispose()}}}this.$u();if(!gK.get_progressiveLoadEnabled()){this.$y()}this.get_legacySession().nudgeWait()},$f:function(e){var ex=e['secondaryInfo'.toString()];if(!ss.isValue(ex)||!ss.isValue(ex.presModelMap)||ss.getKeyCount(ex.presModelMap)===0){return}var kc=S.get_instance().get_appPresModel();if(ss.keyExists(ex.presModelMap,'dataDictionary')){var kd=ex.presModelMap['dataDictionary'].presModelHolder;var ke=kd['genDataDictionaryPresModel'];if(ss.isValue(ke)){kc.dataDictionary=ke}}var kf=new dm;kf.exceptionHandler=ss.mkdel(this,function(kl){bJ.handleBootstrapException(kl,this.$K)});var kg=kf;var kh={dialogProvider:this.$K,eventHandler:kg};if(ss.keyExists(ex.presModelMap,'vizData')){var ki=kc.workbookPresModel.dashboardPresModel;var kj=ex.presModelMap['vizData'].presModelHolder;var kk=kj['genPresModelMapPresModel'];if(gK.get_progressiveLoadEnabled()&&this.$U.get_hasZonesToLoad()){this.$U.updateZonesWithVizData(kk,kh)}else{jr.addVizDataToZones(kk.presModelMap,ki.zones)}}S.get_instance().update(kc,kh);this.$10.checkpointAppPresModel();if(ge.hasAnyImpliedSelection()){kg.fireDeferredEvents()}this.$u()},$C:function(e){tsConfig.layoutid=e.layoutId;this.$V.set_layoutId(tsConfig.layoutid);var ex=e.newSessionId;if(!tab.MiscUtil.isNullOrEmpty$3(ex)){tsConfig.sessionid=ex}var kc=e.workbookLocale;if(!ss.isNullOrEmptyString(kc)){tsConfig.workbookLocale=kc}var kd=e.newClientNum;if(!ss.isNullOrEmptyString(kd)){tsConfig.clientNumber=kd;tabBootstrap.Utility.addToUrlHash('cn',kd)}tsConfig.current_sheet_name=e.sheetName;jX.set_currentTabName(tsConfig.current_sheet_name);tsConfig.workbook_allow_subscriptions=e.allowSubscriptions;tsConfig.allow_subscribe_on_data_present=e.allowSubscribeOnDataPresent;if(ss.isValue(e.worldUpdate)&&ss.isValue(e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel)){tsConfig.current_sheet_type=e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo.sheetType}},$j:function(){while(this.$Z.$3()>0&&!this.$E()){this.$6(this.$Z.$0())}},$6:function(ex){this.$P.push(ex);if(ex.get_isBlocking()){this.$Y.$1(ex.get_blockType()==='immediately',!ex.get_isCancelable())}var kc=new dm;var kd={dialogProvider:this.$K,eventHandler:kc};var ke=this.$X.beginTransaction(kd);var kf;try{ex.execute(ke,this.$J,ss.mkdel(this,function(e){this.$3(ex,e)}));kf=this.$X.endTransaction();if(S.get_instance().get_isLocalRenderMode()&&!bJ.fireDeferredUrlActions){this.$7(this.$O)}if(ex.get_isCancelable()&&ss.isValue(ex.get_commandCanceler())){ex.get_commandCanceler().handleCommandStarted(ex)}}catch(ki){var e=ss.Exception.wrap(ki);tab.ErrorTrace.report(e,false);this.$X.rollbackTransaction();this.$3(ex,new bM(false,e));return}finally{this.$x()}var kg=null;if(ex.get_hasLocalComponent()){kg=tabBootstrap.MetricsController.createContext('PROLOC'.toString(),8,ex.buildCommandMetricsParameters())}{var kh=kg;try{if(ss.isValue(kf)){if(gK.get_progressiveLoadEnabled()){kf=this.$s(kf,kd,true)}S.get_instance().update(kf,kd);this.$10.markCurrentWorldAsDirty();kc.fireDeferredEvents();this.$u()}}finally{if(ss.isValue(kh)){kh.dispose()}}}if(this.$P.length>0){this.$G=false}},$3:function(e,ex){var kc=null;if(e.get_hasRemoteComponent()){kc=tabBootstrap.MetricsController.createContext('PROREM'.toString(),8,e.buildCommandMetricsParameters())}{var kd=kc;try{try{ss.remove(this.$P,e);if(this.$F()){this.$p(e)}}finally{this.processingRenderModeChange=false;this.processingStoryPointChange=false}}finally{if(ss.isValue(kd)){kd.dispose()}}}this.$a(e,ex);if(e.isFinished()){e.triggerCallbacks();if(e.get_isCancelable()&&ss.isValue(e.get_commandCanceler())){e.get_commandCanceler().handleCommandCompleted()}}if(this.$F()){this.$Y.$0()}this.$j()},$a:function(e,ex){if(!ex.succeeded&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var kc=this.$L.handle(ex.error,e);if(kc){this.$10.revertLocalChanges();this.$Y.$0()}}},$7:function(e){var ex=(ss.isValue(e)?ss.arrayClone(e):[]);this.$x();if(!ss.staticEquals(this.$1$1,null)&&ex.length>0){this.$1$1(ex,this.$K)}},$x:function(){this.$O.length=0},$e:function(e,ex,kc){if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(kc)){return}var kd=kc['vqlCmdResponse'.toString()];if(ss.isNullOrUndefined(kd)||ss.isNullOrUndefined(kd.layoutStatus)){return}var ke=kd.layoutStatus;if(ss.isValue(ke.isWorldNew)){this.$W=!!(this.$W|ke.isWorldNew)}if(ss.isValue(ke.urlActionList)&&!S.get_instance().get_isLocalRenderMode()||bJ.fireDeferredUrlActions){if(ke.urlActionList.length>0){bJ.fireDeferredUrlActions=false;this.$7(ke.urlActionList)}}this.$B(ke);var kf=new fz;kf.primarySheet=this.$8(ex);kf.layoutStatus=kd.layoutStatus;kf.cmdResult=kd.cmdResultList[0];kf.commandName=ex.commandName;var kg=kd.layoutStatus.applicationPresModel;var kh={item1:kg,item2:kf};this.$5(e,kh);var ki=ss.isValue(this.$M)&&!ss.referenceEquals(tsConfig.current_sheet_name,this.$M.sheetName);var kj=new bU;kj.set_applicationPresModel(kg);kj.set_worldUpdateCommand(ex);kj.set_sheetChanged(ki);kj.set_rebuildTheWorld(this.$W);var kk=kj;jV.get().raiseOnCommandResponse(kk)},$8:function(e){var ex=null;if(ss.isValue(e.commandParams)&&!ss.referenceEquals(e.commandName,{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd)){if(ss.keyExists(e.commandParams,'worksheet')){ex=e.commandParams['worksheet']}else if(ss.keyExists(e.commandParams,'visualIdPresModel')){var kc;if(typeof(e.commandParams['visualIdPresModel'])==='string'){var kd=e.commandParams['visualIdPresModel'];kc=JSON.parse(kd)}else{kc=e.commandParams['visualIdPresModel']}ex=kc.worksheet}}return ex},$B:function(e){if(ss.isValue(e.applicationPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo)){this.$M=e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo}},$d:function(e,ex,kc){var kd=new fz;kd.cmdResult={commandName:ex.commandName,commandReturn:kc};var ke=kd;var kf={item1:null,item2:ke};this.$5(e,kf);this.$v(kc)},$p:function(e){if(S.get_instance().get_isOffline()){return}var ex=new dm;var kc={dialogProvider:this.$K,eventHandler:ex};var kd=ss.getKeyCount(this.$N)>0;var ke=false;var kf=tsConfig.current_sheet_name;if(ss.isValue(this.$M)){ke=!ss.referenceEquals(tsConfig.current_sheet_name,this.$M.sheetName);kf=this.$M.sheetName;this.get_legacySession().set_layoutId(this.$M.layoutId.toString());if(ke){if(!ss.staticEquals(bJ.$1$14,null)){bJ.$1$14()}}if(ke||this.$W){this.$1$8()}}var kg=this._getRenderMode();var kh=this.$9();this.$X.rollbackTransactions(kc);if(this.$W){S.get_instance().get_workbook().handleWorldReset()}if(this.$W||ke){this.$1()}this.$2(kf,kg,kc);ss.clearKeys(this.$N);this.$10.checkpointAppPresModel();this.$X.resetTransactedState();this.$r(kh);this.$q(ke);if(kd){ge.reValidateVisualModels(kc)}ex.fireDeferredEvents();this.$b(e);this.$u();this.$D()},$D:function(){this.$T.push(ss.mkdel(this,this.$t));this.$T.push(ss.mkdel(this,function(){fv.callWhenImagesLoaded(ss.mkdel(this,function(){this.$G=true}))}));if(gK.get_progressiveLoadEnabled()&&this.$U.get_hasZonesToLoad()){this.$I.push(ss.mkdel(this,function(){this.$4()}))}else{this.$4()}this.$W=false},$4:function(){for(var e=0;e<this.$T.length;e++){var ex=this.$T[e];ex()}ss.clear(this.$T)},$r:function(e){if(e.$0()){var ex=this.$9();if(ex.$0()&&e.$4()!==ex.$4()&&ss.isValue(e.$2())&&ss.referenceEquals(e.$2(),ex.$2())){this.processingStoryPointChange=true}}},$q:function(e){if(ss.isNullOrUndefined(this.$M)){return}if(!e&&!this.$W){return}if(e){try{if(ss.isValue(window.parent)&&typeof(window.parent['handleSheetChanged'])==='function'){window.parent['handleSheetChanged'](this.$M.sheetName,this.$M.repositoryUrl)}}catch(kc){}}if(tsConfig.is_mobile_app&&!('sheetname'in this.$M)){this.$M['sheetName']=this.$M.sheetName}var ex={item1:tsConfig.current_sheet_name,item2:this.$M.sheetName};if(!ss.staticEquals(this.$1$4,null)){this.$1$4(this.$M)}J.get().onNewLayoutId([this.$M]);this.$T.push(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3(ex)}}));this.$M=null},$2:function(e,ex,kc){var kd=_.keys(this.$N);kd=kd.sort(function(km,kn){var ko=parseInt(km);var kp=parseInt(kn);return((ko>kp)?1:-1)});var ke=S.get_instance();var kf=false;for(var kg=0;kg<kd.length;kg++){var kh=kd[kg];var ki=this.$N[kh];var kj=ki.item1;var kk=ki.item2;if(ss.isNullOrUndefined(kj)||ss.isNullOrUndefined(kk)||ss.isNullOrUndefined(kk.layoutStatus)){continue}var kl=kk.layoutStatus.active_tab||'';if(!ss.referenceEquals(kl,e)){continue}kf=bJ.$a(kf,kk.commandName,kj);if(gK.get_progressiveLoadEnabled()){kj=this.$s(kj,kc,false)}ke.update(kj,kc);this.$R.push(kk);if(ss.isValue(kk.layoutStatus.undoPosition)){if(kk.layoutStatus.undoPosition<this.get_legacySession().get_historyPosition()){this.$w()}if(kk.layoutStatus.undoPosition>this.get_legacySession().get_historyPosition()){this.$V.$a('')}this.get_legacySession().set_historyPosition(kk.layoutStatus.undoPosition)}if(!this.processingRenderModeChange&&kj.renderMode!==ex){this.processingRenderModeChange=true;this.$Y.$2()}}if(kf){S.get_instance().$2()}},$s:function(e,ex,kc){if(gK.get_progressiveLoadEnabled()){var kd=S.get_instance().get_appPresModel();var ke=false;if(S.get_instance().get_workbook().get_isCurrentSheetStoryboard()&&ss.isValue(S.get_instance().get_workbook().get_storyboard().get_flipboard())){var kf=S.get_instance().get_workbook().get_storyboard().get_flipboard().get_currentStoryPointId();var kg=bJ.$4(e);ke=ss.isValue(kg)&&kg!==kf}var kh=bJ.$3(e);var ki=!ss.isNullOrEmptyString(kh)&&!ss.referenceEquals(kh,bJ.$3(kd));if(ke||ki){this.$1();e=this.$U.extractZoneContent(e);this.$z()}else{e=this.$U.processModelUpdate(e,ex,kc)}}return e},$b:function(e){for(var ex=0;ex<this.$R.length;ex++){var kc=this.$R[ex];if(!ss.staticEquals(this.$1$2,null)){this.$1$2(kc)}var kd=ss.isValue(kc)&&ss.isValue(kc.cmdResult)&&ss.referenceEquals(kc.cmdResult.commandName,bV.buildQualifiedCommandName({ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.ns,{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd));this.$L.handlePotentialDataSourceException(e,kc.layoutStatus,kd)}ss.clear(this.$R)},$l:function(){if(this.$H){return}this.$H=true;bJ.$6();iB.$0();fv.callWhenImagesLoaded(ss.mkdel(this,function(){this.$G=true}));bJ.sendParentCompletedMessage();hS.onVizqlPinged();bL.$0();bK.bootstrapCompleteStoryTelemetry()},$5:function(e,ex){if(ss.isValue(ex)){this.$N[e.toString()]=ex}},_getRenderMode:function(){return S.get_instance().get_renderMode()},$9:function(){return new F},$t:function(){if(!ss.staticEquals(this.$1$9,null)){this.$1$9()}},$w:function(){if(!ss.staticEquals(this.$1$10,null)){this.$1$10()}},$u:function(){if(!ss.staticEquals(this.$1$11,null)){this.$1$11()}},$v:function(e){if(!ss.staticEquals(this.$1$13,null)){this.$1$13(e)}},$y:function(){if(this.$H){return}var e=function(){var ex={};ex['t']=tabBootstrap.MetricsController.getTiming();ex['d']='ALLZNS';var kc=new tabBootstrap.MetricsEvent('gen',2,ex);tabBootstrap.MetricsController.logEvent(kc)};fv.callWhenImagesLoaded(function(){gf.registerModulesLoadedCallback(e)})},$0:function(e){var ex=e.get_commandName();if(ss.referenceEquals(ex,{ns:'tabdoc',cmd:'next-story-point'}.cmd)||ss.referenceEquals(ex,{ns:'tabdoc',cmd:'previous-story-point'}.cmd)||ss.referenceEquals(ex,{ns:'tabdoc',cmd:'set-active-story-point'}.cmd)||ss.referenceEquals(ex,{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd)||ss.referenceEquals(ex,{ns:'tabsrv',cmd:'revert-workbook'}.cmd)){this.$1()}},$i:function(){return ss.getKeyCount(this.$N)>0||this.$P.length>0||this.$Z.$3()>0}});ss.initClass(bK,a,{});ss.initClass(bL,a,{});ss.initClass(bM,a,{});ss.initEnum(bN,a,{proceed:0,stop:1});ss.initInterface(fn,a,{get_commandType:null,get_name:null});ss.initClass(iY,a,{get_serializedCommand:function(){return this.$2$1},set_serializedCommand:function(e){this.$2$1=e},get_isMenuButton:function(){return ss.isValue(this.get_wrappedCommandItemPresModel())&&ss.isValue(this.get_wrappedCommandItemPresModel().get_commands())},get_asMenuButton:function(){return this},get_isPlaceholder:function(){return this.$2$2},set_isPlaceholder:function(e){this.$2$2=e},get_legacyCommandModel:function(){return this.$2$3},set_legacyCommandModel:function(e){this.$2$3=e},get_status:null,get_commandType:null,get_name:null,get_description:null,get_imageRes:null,get_wrappedCommandItemPresModel:null},gb,[fn]);ss.initClass(bO,a,{get_legacyCommandModel:function(){var e=new bQ;e.set_commandType(this.get_commandType());e.command=this.get_serializedCommand();e.set_name(this.get_name());e.description=this.get_description();e.imageRes=this.get_imageRes();e.status=this.get_status();return e},set_legacyCommandModel:function(e){},get_status:function(){var e=this.get_wrappedCommandItemPresModel().get_enabled();return((ss.isNullOrUndefined(e)||e)?'enabled':'disabled')},get_commandType:function(){if(ss.isNullOrUndefined(this.get_serializedCommand())){return 99}var e=bV.getCommandType(this.get_serializedCommand());return(ss.isValue(e)?ss.unbox(e):99)},get_name:function(){return this.get_wrappedCommandItemPresModel().get_name()},get_description:function(){return this.get_wrappedCommandItemPresModel().get_description()},get_imageRes:function(){if(ss.isNullOrUndefined(this.get_wrappedCommandItemPresModel().get_iconRes())){return null}return ss.coalesce(iK.lookupFullResourceAlias(this.get_wrappedCommandItemPresModel().get_iconRes()),null)},get_wrappedCommandItemPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}return bP.create(this.pm)},update:function(e,ex){this.pm=e;this.set_serializedCommand(bV.deserialize(this.get_wrappedCommandItemPresModel().get_command()));if(ss.isValue(this.get_serializedCommand())&&ex!==0&&!ss.isValue(this.get_serializedCommand().commandParams['selectAtPoint'])){this.get_serializedCommand().commandParams['tupleId']=ex.toString()}}},iY,[fn]);ss.initClass(bP,a,{get_item:function(){return this.$0},get_name:function(){return this.$0['name'.toString()]},set_name:function(e){this.$0['name'.toString()]=e},get_description:function(){return this.$0['description'.toString()]},set_description:function(e){this.$0['description'.toString()]=e},get_readId:function(){return this.$0['readId'.toString()]},set_readId:function(e){this.$0['readId'.toString()]=e},get_commandsType:function(){return this.$0['commandsType'.toString()]},set_commandsType:function(e){this.$0['commandsType'.toString()]=e},get_enabled:function(){var e=this.$0['state'.toString()];if(ss.isNullOrUndefined(e)){return true}return e},set_enabled:function(e){this.$0['state'.toString()]=e},get_isChecked:function(){return this.$0['isChecked'.toString()]},set_isChecked:function(e){this.$0['isChecked'.toString()]=e},get_isDefault:function(){return this.$0['isDefault'.toString()]},set_isDefault:function(e){this.$0['isDefault'.toString()]=e},get_isRadioOn:function(){return this.$0['isRadioOn'.toString()]},set_isRadioOn:function(e){this.$0['isRadioOn'.toString()]=e},get_isVisible:function(){return ss.coalesce(this.$0['isVisible'.toString()],true)},set_isVisible:function(e){this.$0['isVisible'.toString()]=e},get_commands:function(){return this.$0['commands'.toString()]},set_commands:function(e){this.$0['commands'.toString()]=e},get_command:function(){return this.$0['command'.toString()]},set_command:function(e){this.$0['command'.toString()]=e},get_argumentParams:function(){return this.$0['argumentParams'.toString()]},set_argumentParams:function(e){this.$0['argumentParams'.toString()]=e},get_hasIcon:function(){return!ss.isNullOrEmptyString(this.get_iconRes())},get_iconRes:function(){return this.$0['iconRes'.toString()]},set_iconRes:function(e){this.$0['iconRes'.toString()]=e}});ss.initClass(bQ,a,{get_commandType:function(){return this.$1$1},set_commandType:function(e){this.$1$1=e},get_name:function(){return this.$1$2},set_name:function(e){this.$1$2=e}},null,[fn]);ss.initClass(bR,a,{get_status:function(){return this.get_legacyCommandModel().status},get_commandType:function(){return this.get_legacyCommandModel().get_commandType()},get_name:function(){return this.get_legacyCommandModel().get_name()},get_description:function(){return this.get_legacyCommandModel().description},get_imageRes:function(){return this.get_legacyCommandModel().imageRes},get_wrappedCommandItemPresModel:function(){return null},update:function(e,ex){this.pm=null;this.set_legacyCommandModel(e);this.set_serializedCommand(this.get_legacyCommandModel().command);this.set_isPlaceholder(ex)}},iY,[fn]);ss.initClass(bS,a,{test:function(e){tab.Param.verifyValue(e,'command');if(ss.isNullOrUndefined(e.get_commandType())){}return ss.isValue(e.get_commandType())&&e.get_commandType()!==99&&ss.keyExists(this.$0,e.get_commandType())&&this.$0[e.get_commandType()]==='granted'}});ss.initClass(bT,a,{});ss.initClass(bU,a,{get_applicationPresModel:function(){return this.$2$1},set_applicationPresModel:function(e){this.$2$1=e},get_worldUpdateCommand:function(){return this.$2$2},set_worldUpdateCommand:function(e){this.$2$2=e},get_sheetChanged:function(){return this.$2$3},set_sheetChanged:function(e){this.$2$3=e},get_rebuildTheWorld:function(){return this.$2$4},set_rebuildTheWorld:function(e){this.$2$4=e}},ss.EventArgs);ss.initClass(bV,a,{});ss.initClass(bW,a,{add_commandsChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandsChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shouldUpdate:function(){return this.$1},set_shouldUpdate:function(e){this.$1=e},get_commands:function(){return this.pm},update:function(e,ex){if(this.get_shouldUpdate()){this.forceUpdate(e,ex)}},forceUpdate:function(e,ex){this.simpleSwapToUpdate$1(bW).call(this,e,this.$2$1,this,ex)}},gb);ss.initClass(bX,a,{get_presModel:function(){return this.$0},get_commandItems:function(){return this.$0['commandItems'.toString()]},set_commandItems:function(e){this.$0['commandItems'.toString()]=e},get_defaultItem:function(){return this.$0['defaultItem'.toString()]},set_defaultItem:function(e){this.$0['defaultItem'.toString()]=e}});bX.$ctor1.prototype=bX.prototype;ss.initClass(bY,a,{});ss.initClass(bZ,a,{});ss.initClass(ca,a,{sendRequest:function(e){var ex={$:$.Deferred()};var kc=new jR(e.method,e.params,ss.mkdel({deferred:ex,$this:this},function(ke){this.$this.$0(this.deferred,ke)}),ss.mkdel({deferred:ex},function(ke){var kf={};kf['errors']=[ss.mkdict(['code',ke])];this.deferred.$.reject(kf)}));var kd=this.$3(kc);jX.helper(kd);return ex.$},$0:function(e,ex){if(ss.keyExists(ex,'errors')){e.$.reject(ex)}else{e.$.resolve(ex)}},sendVizqlRequest:function(e){var ex={$:$.Deferred()};var kc=ss.mkdel({deferred:ex,$this:this},function(kf,kg,kh){var ki=kf;delete ki['msg'];delete ki['status'];this.$this.$0(this.deferred,ki)});var kd=ss.mkdel({deferred:ex,$this:this},function(kf,kg,kh){this.deferred.$.reject()});var ke=new jt(e.method,e.params,kc,kd);this.$1(ke);return ex.$},$1:function(e){var ex={};ex.type='POST';ex.url=this.$2.$5(e.methodName);ex.headers=ss.mkdict(['Accept','text/javascript']);ex.dataType='json';if(ss.isValue(e.methodParams)){ex.data=e.methodParams}var kc=this.$2.$0(null,e.success,e.error,'immediately');this.$2.$c(ex,kc)}},null,[Object]);ss.initClass(cb,a,{add_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_tableCalcsPresModel:function(){return this.pm},get_hasTableCalc:function(){return this.get_primaryTableCalc().get_hasTableCalc()},get_fieldCaption:function(){return this.get_tableCalcsPresModel().fieldCaption},get_primaryTableCalc:function(){return this.$1},get_allowSecondaryTableCalc:function(){return ss.isValue(this.get_tableCalcsPresModel())&&this.get_tableCalcsPresModel().isSecondaryAllowed},get_hasSecondaryTableCalc:function(){return this.get_allowSecondaryTableCalc()&&this.get_secondaryTableCalc().get_hasTableCalc()},get_secondaryTableCalc:function(){return this.$2},get_isCalcAssistanceEnabled:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?true:this.get_tableCalcsPresModel().isCalcAssistanceEnabled)},get_calcAssistanceWidgetState:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?'widget-state-enabled':this.get_tableCalcsPresModel().tableCalcAssistanceWidgetState)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}var kc=e;this.$1.update(cb.$0(kc,0),ex);this.$2.update(cb.$0(kc,1),ex);this.swapAndCopyPresModel(kc);this.raiseEvent(this.$2$1,ex)}},gb);ss.initClass(cc,a,{});ss.initClass(cd,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'connection-edit-caption'},this.c))}},ss.makeGenericType(W,[Object,ce]));ss.initClass(ce,a,{});ss.initClass(cf,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'connection-select-database-and-add-table'},this.c))}},ss.makeGenericType(W,[Object,cg]));ss.initClass(cg,a,{});ss.initClass(ch,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'connection-select-schema'},this.c))}},ss.makeGenericType(W,[Object,ci]));ss.initClass(ci,a,{});ss.initClass(cj,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'connection-select-warehouse'},this.c))}},ss.makeGenericType(W,[Object,ck]));ss.initClass(ck,a,{});ss.initClass(el,a,{get_fontGroup:function(){return this.$1$1},set_fontGroup:function(e){this.$1$1=e},get_fonts:function(){return this.$1$2},set_fonts:function(e){this.$1$2=e}});el.$ctor1.prototype=el.prototype;ss.initClass(cl,a,{addFont:function(e){if(!_.any(this.get_fonts(),function(ex){return ss.compareStrings(ex,e,true)===0})){this.get_fonts().push(e);this.set_fonts(_.sortBy(this.get_fonts(),function(ex){return ex.toLowerCase()}))}}},el);ss.initClass(cm,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'create-and-establish-connection'},this.c))}},ss.makeGenericType(W,[Object,cn]));ss.initClass(cn,a,{});ss.initClass(co,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'create-annotation-rich-text-editor'},this.c))}},ss.makeGenericType(W,[Object,cp]));ss.initClass(cp,a,{});ss.initClass(cq,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'create-data-source-from-file-upload'},this.c))}},ss.makeGenericType(W,[Object,cr]));ss.initClass(cr,a,{});ss.initClass(cs,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'create-worksheet-title-rich-text-editor'},this.c))}},ss.makeGenericType(W,[Object,ct]));ss.initClass(ct,a,{});ss.initClass(cu,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'create-zone-rich-text-editor'},this.c))}},ss.makeGenericType(W,[Object,cv]));ss.initClass(cv,a,{});ss.initClass(dV,a,{get_instanceType:null,get_fieldsModel:function(){return this.parent},get_dataSourceName:function(){if(ss.isNullOrUndefined(this.get_dataSource())){return''}return this.get_dataSource().get_name()},get_canHaveChildren:function(){return false},get_isParameter:function(){return ss.isValue(this.get_dataSource())&&this.get_dataSource().get_isParametersDataSource()},get_isUnsortedContainer:function(){return false},get_isSelectable:function(){return!this.get_isUnsortedContainer()},get_isDraggable:function(){return this.get_isSelectable()&&!this.get_isHidden()&&!this.get_isInvalid()},get_childToSelect:function(){return(this.get_isUnsortedContainer()?null:this)},get_isDerived:function(){if(this.get_canHaveChildren()){return false}return this.get_isGenerated()||this.get_isAutoColumn()||this.get_isColumn()&&this.asColumn().get_isInstance()},get_isMeasureNamesOrValues:function(){return ss.referenceEquals(this.get_localName(),dV.nameOfMeasuresColumn)||ss.referenceEquals(this.get_localName(),dV.nameOfMeasureValuesColumn)},get_fieldIconResource:function(){var e=this.pm.fieldIconRes||'';if(e.length===0){return e}if(this.pm.isInvalid){e+='-invalid'}return e},get_isInstance:function(){return!this.get_isGenerated()&&this.get_isDerived()},get_isHidden:function(){return this.pm.isHidden||this.get_isInstance()},get_isAutoHidden:function(){return this.pm.isAutoHidden||false},get_isInvalid:function(){return this.pm.isInvalid},get_isOrphaned:function(){return this.pm.isOrphaned},get_isGenerated:function(){return this.pm.isGenerated||false},get_isAutoColumn:function(){return this.pm.isAutoColumn||false},get_isAllowedInCalcs:function(){return this.pm.isAllowedInCalcs},get_isUnnamedCalc:function(){return this.pm.isUnnamed||false},get_isQuickTableCalc:function(){return this.pm.isQuickTableCalc},get_globalName:function(){return this.pm.fn},get_localName:function(){return this.pm.name},get_qualifiedLocalName:function(){return'['+this.get_localName()+']'},get_description:function(){return this.pm.description},get_userCaption:function(){return this.pm.userCaption},get_ordinal:function(){return this.pm.datasourceOrdinal},get_isColumn:function(){return this.get_instanceType()==='column'||this.get_instanceType()==='group'},get_isGroup:function(){return this.get_instanceType()==='group'},get_isCubeDimension:function(){return this.get_instanceType()==='cubeDimension'},get_isDrillPath:function(){return this.get_instanceType()==='drillPath'},get_isCubeHierarchy:function(){return this.get_instanceType()==='cubeHierarchy'},get_isCubeFolder:function(){return this.get_instanceType()==='cubeFolder'},get_isFolder:function(){return this.get_instanceType()==='folder'},get_isRelationalTable:function(){return this.get_instanceType()==='relationalTable'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_defaultFieldType:function(){return(this.get_isColumn()?this.pm.defaultFieldType:'unknown')},get_fieldType:function(){return(this.get_isColumn()?this.pm.fieldType:'unknown')},get_displayName:function(){return(this.get_isDrillPath()?(this.get_localName()||this.get_description()):(this.get_description()||this.get_localName()))},get_tooltip:function(){if(this.get_isInvalid()){return this.pm.tooltipText}else{return this.get_userCaption()||(this.get_description()||this.get_displayName())}},get_canBeUsedInCalculation:function(){return this.get_isAllowedInCalcs()||this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_canBeAddedToDataSchema:function(){return this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_dataSource:function(){return(ss.isNullOrUndefined(this.get_fieldsModel())?null:this.get_fieldsModel().get_dataSource())},matchesFolderRole:function(e){if(this.get_isFolder()){return this.asFolder().get_folderRole()===e}else{switch(e){case'dimensions':{return this.get_defaultRole()==='dimension'}case'measure':{return this.get_defaultRole()==='measure'}case'groups':{return this.get_isGroup()}case'parameters':{return true}default:{return false}}}},asColumn:function(){return ss.safeCast(this,dT)},asGroup:function(){return ss.safeCast(this,fd)},asDimension:function(){return ss.safeCast(this,cw)},asHierarchy:function(){return ss.safeCast(this,cy)},asCubeFolder:function(){return ss.safeCast(this,cx)},asFolder:function(){return ss.safeCast(this,ek)},asDrillPath:function(){return ss.safeCast(this,dy)},asRelationalTable:function(){return ss.safeCast(this,gT)}},gb);ss.initClass(cw,a,{get_hierarchies:function(){return this.$3},get_childToSelect:function(){var e=this.pm.defaultHierarchyName;if(!ss.isNullOrEmptyString(e)){for(var ex=0;ex<this.$3.length;ex++){var kc=this.$3[ex];if(ss.referenceEquals(kc.get_localName(),e)){return kc.get_levels()[0]}}}var kd=[];for(var ke=0;ke<this.$3.length;ke++){var kf=this.$3[ke];kd.push(kf)}for(var kg=0;kg<this.$2.length;kg++){var kh=this.$2[kg];var ki=kh.get_hierarchies();for(var kj=0;kj<ki.length;kj++){var kk=ki[kj];kd.push(kk)}}kd.sort(function(kl,km){if(kl.get_levels().length>1&&km.get_levels().length<=1){return-1}else if(kl.get_levels().length<=1&&km.get_levels().length>1){return 1}else{return 0}});return((kd.length>0)?kd[0].get_levels()[0]:null)},get_folders:function(){return this.$2},get_attributes:function(){return this.$1},get_instanceType:function(){return'cubeDimension'},get_canHaveChildren:function(){return true},update:function(e,ex,kc,kd){this.swapAndCopyPresModel(e);this.$3=ex;this.$2=kc;this.$1=kd}},dV);ss.initClass(cx,a,{get_hierarchies:function(){return this.$2},get_childToSelect:function(){return this.$2[0]},get_columns:function(){return this.$1},get_instanceType:function(){return'cubeFolder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex,kc){this.swapAndCopyPresModel(e);this.$2=ex;this.$1=kc}},dV);ss.initClass(cy,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'cubeHierarchy'},get_canHaveChildren:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},dV);ss.initClass(iW,a,{get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new iG(null):e.get_tableCalcIdentifier())},update:null},gb);ss.initClass(cz,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_aggregationIndex:function(){return this.$1().aggregationIndex},get_aggregationValues:function(){return this.$1().aggregationValues},get_aggregationCaptions:function(){return this.$1().aggregationCaptions},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},iW);ss.initClass(cA,a,{navigateToCustomizedView:function(e){var ex=tabBootstrap.Utility.get_locationWindow();hT.destroySessionAndForward$1(ex,cA.buildUrl(e,false))},navigateToOriginalView:function(){var e=tabBootstrap.Utility.get_locationWindow();hT.destroySessionAndForward$1(e,cA.buildUrl(null,false))},getCustomizedViews:function(e,ex){var kc=function(kd,ke,kf){if(!ss.isValue(e)){return}var kg;var kh=null;if('customizedViews'in kd){kg=kd['customizedViews']}else{kg=[]}if('defaultCustomizedViewId'in kd){kh=kd['defaultCustomizedViewId']}e(kg,kh)};this.$2(kc,cA.$0(ex),'get_customized_views',ss.mkdict(['sheet_id',tsConfig.current_sheet_name]),'GET','none')},setDefaultCustomizedView:function(e,ex,kc){var kd=function(kf,kg,kh){if(!ss.isValue(ex)){return}var ki=null;if('defaultCv'in kf){ki=kf['defaultCv']}ex(ki)};var ke=ss.mkdict(['sheet_id',tsConfig.current_sheet_name]);if(ss.isValue(e)){ke['cvId']=e.id}this.$2(kd,cA.$0(kc),'set_default_customized_view',ke)},destroyCustomizedView:function(e,ex,kc){tab.Param.verifyValue(e,'cv');var kd=function(ke,kf,kg){if(!ss.isValue(ex)){return}ex()};this.$1(kd,cA.$0(kc),'destroy_customized_view',ss.mkdict(['cvId',e.id]))},saveCustomizedView:function(e,ex,kc){tab.Param.verifyValue(e,'cv');var kd=ss.mkdel(this,function(kf,kg,kh){if(!ss.isValue(ex)){return}var ki=null;if('cv'in kf){ki=kf['cv'];this.updateTsConfig(ki,true)}ex(ki)});var ke=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic]);if(ss.isValue(e.id)){ke['cvId']=e.id}this.$2(kd,cA.$0(kc),'save_customized_view',ke)},updateTsConfig:function(e,ex){tsConfig.repositoryUrl=this.$0(e);if(ex){if(ss.isNullOrUndefined(e)){tsConfig.current_custom_view_id=null}else{tsConfig.current_custom_view_id=e.id}}},$0:function(e){var ex=new gX(tsConfig.repositoryUrl);if(ss.isNullOrUndefined(e)){return ss.formatString('{0}/{1}',ex.get_workbookId(),ex.get_sheetId())}return ss.formatString('{0}/{1}/{2}/{3}',ex.get_workbookId(),ex.get_sheetId(),jv.encodeUserName(e.owner.username),e.urlId)},updateCustomizedView:function(e,ex,kc){tab.Param.verifyValue(e,'cv');var kd=ss.mkdel(this,function(kf,kg,kh){if(!ss.isValue(ex)){return}var ki=null;if('cv'in kf){ki=kf['cv'];this.updateTsConfig(ki,false)}ex(ki)});var ke=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'cvId',e.id]);this.$2(kd,cA.$0(kc),'update_customized_view',ke)},$1:function(e,ex,kc,kd){var ke=this.$3.$0(null,e,ex,'immediately');var kf={};kf.type='POST';kf.url=this.$3.$3(kc);kf.headers=ss.mkdict(['Accept','text/javascript']);kf.dataType='json';if(ss.isValue(kd)){kf.data=kd}this.$3.$c(kf,ke)},$2:function(e,ex,kc,kd,ke,kf){var kg={};kg.type=ke||'POST';kg.url=this.$3.$5(kc);kg.headers=ss.mkdict(['Accept','text/javascript']);kg.dataType='json';if(ss.isValue(kd)){kg.data=kd}var kh=kf||'immediately';var ki=this.$3.$0(null,e,ex,kh);this.$3.$c(kg,ki)}});ss.initClass(cB,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_nullIfIncomplete:function(){return this.$1().nullIfIncomplete},get_nullIfIncompleteState:function(){return this.$1().customNullIfIncompleteState},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},get_nestedCalcsWidgetState:function(){return this.$1().nestedCalcsState},get_nestedCalcsIndex:function(){return this.$1().nestedCalcsIndex},get_nestedTableCalcInfoArray:function(){return this.$1().nestedTableCalcInfos},update:function(e,ex){var kc=e;if(this.isNewPresModelSameAsOld(kc)){return}this.swapAndCopyPresModel(kc);this.get_referenceModel().update(kc.tableCalcReferenceOptionsPresModel,ex);this.raiseEvent(this.$3$1,ex)}},iW);ss.initClass(gE,a,{invokeCommand:function(e,ex,kc){if(jB.hasCommand(ex)){var kd=jB.createCommandWithParams(ex,kc);return kd.invoke()}else{var ke=$.Deferred();var kf=function(ki){ke.resolve(ki)};var kg=function(ki){ke.reject()};var kh={commandName:ex,commandNamespace:e,commandParams:kc,preserveRootResult:true};bJ.SendCommand(new bC(this.getUIBlockingType(e,ex),null,kh,kf,kg));return ke.promise()}},dispose:function(){this.$0.dispose()},registerNotificationHandler:function(e,ex){var kc=S.get_instance();var kd=kc.registerNotificationHandler(e,function(kf,kg){ex(kf)});var ke=function(){kc.unRegisterNotificationHandler(e,kd)};this.$0.add(ke);return ke},getUIBlockingType:function(e,ex){return'immediately'}},null,[ss.IDisposable]);ss.initClass(cC,a,{getUIBlockingType:function(e,ex){var kc=e+':'+ex;return(ss.contains(this.$1,kc)?'none':'immediately')}},gE,[ss.IDisposable]);ss.initClass(cD,a,{});ss.initInterface(fu,a,{get_notificationId:null,onNotify:null});ss.initInterface(fq,a,{add_stopNotifying:null,remove_stopNotifying:null},[fu]);ss.initClass(cE,a,{add_stopNotifying:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_stopNotifying:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_updateGridDialogInfo:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_updateGridDialogInfo:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'doc:dashboard-grid-dialog-event'},get_dashboardGridDialogPresModel:function(){return this.pm},get_gridSize:function(){return this.get_dashboardGridDialogPresModel().dashboardGridSize},onNotify:function(e,ex){this.simpleSwapToUpdate(e,this.$2$2,ex)},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},update:function(e,ex){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)}},gb,[fu,fq]);ss.initClass(cF,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_activeZoneChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_activeZoneChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_gridOverlayModeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_gridOverlayModeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_gridSizeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_gridSizeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_readyZoneChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_readyZoneChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_renderModeChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_renderModeChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_portSizeChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_portSizeChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_sizeChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_sizeChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_formatsChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_formatsChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},add_titleVisibilityChanged:function(e){this.$2$11=ss.delegateCombine(this.$2$11,e)},remove_titleVisibilityChanged:function(e){this.$2$11=ss.delegateRemove(this.$2$11,e)},add_currentDeviceLayoutChanged:function(e){this.$2$12=ss.delegateCombine(this.$2$12,e)},remove_currentDeviceLayoutChanged:function(e){this.$2$12=ss.delegateRemove(this.$2$12,e)},add_currentDeviceLayoutListChanged:function(e){this.$2$13=ss.delegateCombine(this.$2$13,e)},remove_currentDeviceLayoutListChanged:function(e){this.$2$13=ss.delegateRemove(this.$2$13,e)},add_dashboardNameChanged:function(e){this.$2$14=ss.delegateCombine(this.$2$14,e)},remove_dashboardNameChanged:function(e){this.$2$14=ss.delegateRemove(this.$2$14,e)},get_zoneModels:function(){return this.zonesModel.get_zoneModels()},get_contentDashboard:function(){if(ss.isValue(this.pm)&&this.pm.isStory){this.$e=this.$e||this.$2();return this.$e}return this},get_actionPresModels:function(){if(ss.isValue(this.pm)){return this.pm.userActions}return null},get_storyboardName:function(){if(ss.isNullOrUndefined(this.pm)){return new Object}return this.pm.sheetPath.storyboard},get_backgroundColor:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.cssAttrs)){return this.pm.cssAttrs['backgroundColor']}return null},get_zonePlaceholderColor:function(){var e=this.$g;if(ss.isNullOrUndefined(e)){e=this.$1()}this.$g=e;return this.$g},get_gridMode:function(){if(ss.isValue(this.pm)){return this.pm.gridOverlayMode}return'gom-off'},get_gridSize:function(){if(ss.isValue(this.pm)){return this.pm.size}return 20},get_sheetName:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetLayoutInfo)){return this.pm.sheetLayoutInfo.sheetName}return null},get_sheetPath:function(){if(ss.isValue(this.pm)){return this.pm.sheetPath}return null},get_invalidSheets:function(){if(ss.isValue(this.pm)){return this.pm.invalidSheets}return[]},get_activeZoneID:function(){var e=tsConfig.is_authoring&&this.get_currentDeviceLayout()!=='default';if(ss.isValue(this.pm)&&!e){return this.pm.activeZoneId}return 0},get_readyZoneID:function(){return this.$d},set_readyZoneID:function(e){if(e===this.$d){return}this.$d=e;if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},get_hasActiveZone:function(){if(this.get_activeZoneID()!==0){return true}return false},get_activeVisual:function(){if(ss.isNullOrUndefined(this.pm)){return null}if(this.get_activeZoneID()>0){var e=this.get_zoneModels();for(var ex=0;ex<e.length;ex++){var kc=e[ex];if(kc.get_zoneId()===this.get_activeZoneID()){return kc.get_visualModel()}}}return null},get_renderMode:function(){return S.get_instance().get_renderMode()},get_formats:function(){if(ss.isValue(this.pm)){return this.pm.cssAttrs}return null},get_portSize:function(){return this.$c},set_portSize:function(e){if(_.isEqual(this.$c,e)){return}this.$c=e;if(!ss.staticEquals(this.$2$8,null)){this.$2$8()}},get_dashboardSize:function(){return(ss.isValue(this.pm)?this.pm.viewportSize:null)},get_dashboardSizeControlModel:function(){return this.$a},get_isDashboard:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetPath)){return this.pm.sheetPath.isDashboard}return false},get_flipboard:function(){var e=_.find(this.get_zoneModels(),function(ex){return ex.get_zoneType()==='flipboard'});return(ss.isNullOrUndefined(e)?null:e.get_model())},get_deviceLayouts:function(){return this.pm.dashboardDeviceLayouts},get_currentDeviceLayout:function(){if(ss.isNullOrUndefined(this.pm)||typeof(this.pm.dashboardDeviceLayout)==='undefined'){return'default'}return this.pm.dashboardDeviceLayout},get_isTitleVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.hasTitle},get_flipboardNavModel:function(){var e=this.get_zoneModels();for(var ex=0;ex<e.length;ex++){var kc=e[ex];if(kc.get_zoneType()==='flipboard-nav'){return kc.get_model()}}return null},get_hasDescription:function(){if(ss.isNullOrUndefined(this.get_flipboard())){return false}var e=_.filter(this.get_zoneModels(),function(ex){return ss.equalsT(ex.get_contentType(),'dashboardText'.toString())});return ss.isValue(e)&&e.length>0},getViewId:function(e){if(!ss.keyExists(this.pm.viewIds,e)){return null}return this.pm.viewIds[e]},getViewSession:function(e){return this.$f[e]},getZone:function(e){return this.zonesModel.getZone(e)},hasZone:function(e){return this.zonesModel.hasZone(e)},isValidSheet:function(e){return ss.isValue(this.pm.invalidSheets)&&(e.get_zoneCommonModel().get_zoneType()!=='viz'||!_.any(this.pm.invalidSheets,function(ex){return ss.referenceEquals(ex.worksheet,e.get_worksheetName())}))},isStory:function(){return this.pm.isStory},getMutableCopyOfPresModel:function(){var e=this.pm.zones;delete this.pm['zones'.toString()];var ex=gb.prototype.getMutableCopyOfPresModel.call(this);ex.dashboardDeviceLayouts=this.pm.dashboardDeviceLayouts;this.pm.zones=e;return ex},update:function(e,ex){if(ss.isValue(this.$b)&&this.$b!==this.get_renderMode()){this.raiseEvent(this.$2$7,ex)}this.$b=this.get_renderMode();this.$7(e);this.$e=null;if(ss.isValue(e.zones)){this.zonesModel.update(e.zones,ex);if(!this.zonesModel.hasZone(this.get_readyZoneID())){this.set_readyZoneID(0)}}if(ss.isValue(e.hasSelection)){}if(ss.isValue(e.autoUpdate)){this.autoUpdate=e.autoUpdate}this.$9(e,ex.dialogProvider);if(ss.isValue(e.activeZoneId)){if(ss.isNullOrUndefined(this.pm)||this.pm.activeZoneId!==e.activeZoneId){this.raiseEvent(this.$2$3,ex)}}if(!(typeof(e.modifiedSheets)==='undefined')&&(ss.isNullOrUndefined(this.pm)||!_.isEqual(e.modifiedSheets,this.pm.modifiedSheets))){this.raiseEvent(cF.$0,ex)}if(ss.isValue(e.sheetList)){if(ss.isNullOrUndefined(this.sheetListModel)){this.sheetListModel=new ih(this)}this.sheetListModel.update(e.sheetList,ex)}if(ss.isValue(e.dashboardZoneHierarchy)){if(ss.isNullOrUndefined(this.layoutTreeModel)){this.layoutTreeModel=new fJ(this)}this.layoutTreeModel.update(e.dashboardZoneHierarchy,ex)}if(ss.isValue(this.pm)){if(ss.isValue(e.cssAttrs)&&!_.isEqual(e.cssAttrs,this.pm.cssAttrs)){this.raiseEvent(this.$2$10,ex)}}if(ss.isNullOrUndefined(this.get_sheetName())||ss.isValue(e.sheetLayoutInfo)&&!ss.referenceEquals(e.sheetLayoutInfo.sheetName,this.get_sheetName())){this.raiseEvent(this.$2$14,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.hasTitle!==e.hasTitle){this.raiseEvent(this.$2$11,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.gridOverlayMode!==e.gridOverlayMode){this.raiseEvent(this.$2$4,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.size!==e.size){this.raiseEvent(this.$2$5,ex)}if(!ss.isValue(this.emptyShowMeModel)){this.emptyShowMeModel=new bW(this)}if(tab.FeatureFlags.isEnabled('DashboardShowMe')&&ss.isValue(e.showMeCommands)){this.emptyShowMeModel.update(e.showMeCommands,ex)}this.$5(e,ex);this.$6(e,ex);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex);this.$8(ex)},$7:function(e){e.isStory=e.isStory||false;e.hasTitle=e.hasTitle||false;e.hasUserSpecificContent=e.hasUserSpecificContent||false;e.gridOverlayMode=e.gridOverlayMode||'gom-off';e.size=e.size||20},$9:function(e,ex){if(ss.isValue(e.viewIds)){var kc=_.keys(e.viewIds);for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];var kf=e.viewIds[ke];var kg=this.$f[ke];if(ss.isNullOrUndefined(kg)){kg=new ji(bJ.get().get_legacySession().get_urlRoot(),ke,kf,ex);this.$f[ke]=kg}kg.set_viewId(kf)}var kh=_.keys(this.$f);var ki=_.difference(kh,_.keys(e.viewIds));for(var kj=0;kj<ki.length;kj++){var kk=ki[kj];delete this.$f[kk]}}},$5:function(e,ex){if(ss.isValue(e.dashboardSizeControl)){if(ss.isNullOrUndefined(this.$a)){this.$a=new cM(this)}this.$a.update(e.dashboardSizeControl,ex)}if(ss.isNullOrUndefined(this.$c)){this.set_portSize(e.viewportSize)}if(ss.isValue(this.pm)){if(ss.isValue(e.viewportSize)&&!_.isEqual(e.viewportSize,this.pm.viewportSize)){this.raiseEvent(this.$2$9,ex)}}},$6:function(e,ex){e.dashboardDeviceLayout=ss.coalesce(e.dashboardDeviceLayout,'default');if(ss.isNullOrUndefined(this.pm)||this.pm.dashboardDeviceLayout!==e.dashboardDeviceLayout){this.raiseEvent(this.$2$12,ex);this.raiseEvent(this.$2$3,ex)}if(ss.isNullOrUndefined(e.dashboardDeviceLayouts)||ss.isNullOrUndefined(this.pm)||!_.isEqual(this.pm.dashboardDeviceLayouts,e.dashboardDeviceLayouts)){this.raiseEvent(this.$2$13,ex)}},$8:function(e){if(!S.get_instance().get_isLocalRenderMode()){return}var ex=ge.getVisualModelsFromDashboard(this);var kc=_.keys(ex);var kd=_.any(kc,ss.mkdel(this,function(kk){var kl=ex[kk];return this.$4(kl)||this.$3(kl)}));if(kd){for(var ke=0;ke<kc.length;ke++){var kf=kc[ke];ex[kf].setIsBrushedFromAction(true,e)}}else{var kg=cF.$1(kc,ex);for(var kh=0;kh<kc.length;kh++){var ki=kc[kh];var kj=kg.has(ki);ex[ki].setIsBrushedFromAction(kj,e)}}},$4:function(e){var ex=ge.getModelsForViz(by).call(null,this.get_contentDashboard(),e);return _.any(ex,function(kc){if(!kc.get_isHighlightEnabled()){return false}var kd=e.get_selectionsModel().getLegendSelection(kc.get_legendTypeEnum(),kc.get_legendNames());return!kd.isEmpty})},$3:function(e){var ex=ge.getModelsForViz(db).call(null,this.get_contentDashboard(),e);return _.any(ex,function(kc){var kd=e.get_selectionsModel().getLegendSelection('highlight',[kc.get_fieldName()]);return!kd.isEmpty})},$2:function(){if(!this.pm.isStory){return null}var e=null;var ex=this.zonesModel.get_zoneModels();for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];if(ss.isInstanceOfType(kd.get_model(),eh)){e=kd.get_model().get_dashboardModel();break}}return e},$1:function(){var e=bG.fromColorCode(this.get_backgroundColor());e=e||bG.white;var ex=e.isLuminanceAboveThreshold(0.314999997615814);var kc=(ex?0.0199999995529652:0.0299999993294477);var kd=(ex?new bG(0,0,0,kc):new bG(255,255,255,kc));var ke=kd.toRgba();return ke}},gb);ss.initClass(cG,a,{get_addNewZoneAsFloating:function(){return this.$1},set_addNewZoneAsFloating:function(e){if(this.$1===e){return}this.$1=e}},gb);ss.initClass(cH,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'dashboard-set-grid-size'},this.c))}},ss.makeGenericType(W,[Object,cI]));ss.initClass(cI,a,{});ss.initClass(cJ,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'dashboard-show-grid'},this.c))}},ss.makeGenericType(W,[Object,cK]));ss.initClass(cK,a,{});ss.initClass(cL,a,{});ss.initClass(cM,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minDimension:function(){return this.pm.minSize},get_maxDimension:function(){return this.pm.maxSize},get_stepSize:function(){return this.pm.stepSize},get_sizeModeOptions:function(){return this.pm.sizeModeOptions||[]},update:function(e,ex){if(ss.isValue(e.dashboardSizePresModel)){if(ss.isNullOrUndefined(this.dashboardSizeModel)){this.dashboardSizeModel=new cN(this)}this.dashboardSizeModel.update(e.dashboardSizePresModel,ex)}if(ss.isValue(e.deviceLayoutInfoItem)){if(ss.isNullOrUndefined(this.layoutInfoModel)){this.layoutInfoModel=new dn(this)}this.layoutInfoModel.update(e.deviceLayoutInfoItem,ex)}this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(cN,a,{add_sizeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_currentSizeText:function(){return this.pm.summaryText},get_sizeMode:function(){if(this.pm.dashboardSizingMode!=='unspecified'){return this.pm.dashboardSizingMode}switch(this.pm.sizeMode){case'size-mode-auto':{return'automatic'}case'size-mode-fixed':{return'fixed'}default:{return'range'}}},get_currentWidth:function(){return this.pm.w},get_currentMinWidth:function(){return this.pm.minWidth},get_currentMaxWidth:function(){return this.pm.maxWidth},get_currentHeight:function(){return this.pm.h},get_currentMinHeight:function(){return this.pm.minHeight},get_currentMaxHeight:function(){return this.pm.maxHeight},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(cO,a,{add_notificationIntervalChanged:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_notificationIntervalChanged:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_titleChanged:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_titleChanged:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_measureChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_measureChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_conditionChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_conditionChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_recipientsChanged:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_recipientsChanged:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_recipients:function(){return this.$1$6},set_recipients:function(e){this.$1$6=e},get_userIds:function(){return _.map(this.get_recipients(),function(e){return e.id.toString()})},get_notificationIntervalInMinutes:function(){return this.$3},set_notificationIntervalInMinutes:function(e){if(this.$3!==e){this.$3=e;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_title:function(){return this.$5},set_title:function(e){if(!ss.referenceEquals(this.$5,e)){this.$5=e;if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},get_deviceType:function(){return this.$1$7},set_deviceType:function(e){this.$1$7=e},get_selectionCaption:function(){return this.$1$8},set_selectionCaption:function(e){this.$1$8=e},get_measurePresModel:function(){return this.$2},set_measurePresModel:function(e){if(!ss.referenceEquals(this.$2,e)){this.$2=e;if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},get_conditionPresModel:function(){return this.$1},set_conditionPresModel:function(e){if(!ss.referenceEquals(this.$1,e)){this.$1=e;if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}},get_operator:function(){return this.$1.dataAlertConditionOp},get_threshold:function(){return this.$4},set_threshold:function(e){if(ss.referenceEquals(this.$4,e)){return}this.$4=e;if(ss.isNullOrUndefined(this.get_conditionPresModel().dataType)){return}this.set_thresholdIsValid(this.isValidThresholdText(e))},get_thresholdIsValid:function(){return this.$1$9},set_thresholdIsValid:function(e){this.$1$9=e},get_alertConditionMet:function(){return this.$1$10},set_alertConditionMet:function(e){this.$1$10=e},$0:function(e){return this.get_conditionPresModel().dataType==='real'&&tab.DoubleUtil.isValidDouble(e)||this.get_conditionPresModel().dataType==='integer'&&tab.DoubleUtil.isValid64BitInteger(e)},isValidThresholdText:function(e){if(ss.isNullOrEmptyString(e)){return false}else if(ss.isNullOrUndefined(S.get_instance().get_appPresModel())||ss.isNullOrUndefined(S.get_instance().get_appPresModel().numberFormats)){return this.$0(e)}else{var ex=S.get_instance().get_appPresModel().numberFormats;return this.$0(tableau.format.reformatNumberToJsFormat(e,ex))}},updateRecipients:function(e){this.set_recipients(e);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}}});cO.$ctor2.prototype=cO.$ctor1.prototype=cO.prototype;ss.initClass(cP,a,{});ss.initClass(cQ,a,{});ss.initClass(cR,a,{get_operation:function(){return this.pm.dataAlertConditionOp},get_thresholdText:function(){return this.pm.dataAlertThresholdText},update:function(e){if(ss.isValue(e)){this.swapAndCopyPresModel(e)}}},gb);ss.initClass(cS,a,{});ss.initClass(cT,a,{});ss.initClass(cU,a,{$1:function(){return this.pm},get_connectionName:function(){return this.$1().connectionName||''},get_promptTitle:function(){return this.$1().dialogTitle||''},get_variableListInstruction:function(){return this.$1().valuesTableHeader||''},get_variableListNameLabel:function(){return this.$1().listViewNameLabel||''},get_variableListValueLabel:function(){return this.$1().listViewValueLabel||''},get_addVariableLabel:function(){return this.$1().addVariableLabel||''},get_addVariableTooltip:function(){return this.$1().addVariableTooltip||''},get_deleteVariableTooltip:function(){return this.$1().deleteVariableTooltip||''},get_requiredVariableMessage:function(){return this.$1().requiredVariableMessage||''},get_editSectionTitle:function(){return this.$1().editWidgetHeader||''},get_editSectionInstruction:function(){return this.$1().editWidgetInstruction||''},get_editSectionFromLabel:function(){return this.$1().fromLabel||''},get_editSectionToLabel:function(){return this.$1().toLabel||''},get_connectionVariables:function(){return this.$2},update:function(e){this.swapAndCopyPresModel(e);if(ss.isValue(this.$1().promptVariables)){this.$2=[];for(var ex=0;ex<this.$1().promptVariables.length;ex++){var kc=new cX(new cW(this),ex);kc.update(this.$1().promptVariables[ex]);this.$2.push(kc)}}}},gb);ss.initClass(cV,a,{});ss.initClass(cW,a,{},gb);ss.initClass(cX,a,{$1:function(){return this.pm},get_displayName:function(){return this.$1().variableDisplayName},get_description:function(){return this.$1().variableDescription},get_guid:function(){return this.$1().variableGuid},get_isRequired:function(){return this.$1().isRequired},get_defaultValue:function(){return this.$2},get_supportMultiValue:function(){return this.$1().supportsMultipleValues},get_values:function(){return this.$3},get_selectableOperations:function(){return this.$1().serverVariableMetadata.variableValueOperations},get_selectableValues:function(){return this.$1().serverVariableMetadata.selectionValueList},update:function(e){this.swapAndCopyPresModel(e);this.$2=new cZ(null,-1);this.$2.update(this.$1().serverVariableMetadata.variableValue);if(ss.isValue(this.$1().variableValues)){this.$3=[];for(var ex=0;ex<this.$1().variableValues.length;ex++){var kc=new cZ(new cY(this),ex);kc.update(this.$1().variableValues[ex]);this.$3.push(kc)}}}},gb);ss.initClass(cY,a,{},gb);ss.initClass(cZ,a,{$1:function(){return this.pm},get_displayValue:function(){return this.$1().displayValue},get_valueIndex:function(){return this.$1().valueIndex},get_operation:function(){return this.$1().serverVariableValue.variableValueOperation},set_operation:function(e){this.$1().serverVariableValue.variableValueOperation=e},get_firstValue:function(){return this.$1().serverVariableValue.firstValue},get_firstValueIndex:function(){return this.$1().serverVariableValue.firstValueIndex},get_secondValue:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValue:null)},get_secondValueIndex:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValueIndex:-1)},update:function(e){this.swapAndCopyPresModel(e)}},gb);ss.initClass(da,a,{get_isEmpty:function(){return tab.MiscUtil.isNullOrEmpty$2(this.$1())||tab.MiscUtil.isNullOrEmpty$2(this.$1().dataSegments)},$1:function(){return this.pm},update:function(e){if(ss.isValue(this.$1())&&ss.isValue(e)){var ex=e.dataSegments;if(ss.isValue(ex)){var kc=this.$1().dataSegments;if(ss.isValue(kc)){var kd=new ss.ObjectEnumerator(kc);try{while(kd.moveNext()){var ke=kd.current();if(!ss.keyExists(ex,ke.key)){ex[ke.key]=ke.value}}}finally{kd.dispose()}}var kf=new ss.ObjectEnumerator(ex);try{while(kf.moveNext()){var kg=kf.current();if(kg.value===null){delete ex[kg.key]}}}finally{kf.dispose()}this.$2=null}}this.pm=e},getRawValue:function(e,ex){if(ss.isNullOrUndefined(this.$1())||ss.isNullOrUndefined(this.$1().dataSegments)){return null}if(ss.isNullOrUndefined(this.$2)){this.$2=ss.getKeyCount(this.$1().dataSegments)}for(var kc=0;ss.Nullable$1.lt(kc,this.$2);kc++){var kd=this.$1().dataSegments[kc.toString()];for(var ke=0;ke<kd.dataColumns.length;ke++){var kf=kd.dataColumns[ke];if(ss.isNullOrUndefined(kf)||kf.dataType!==e){continue}if(ex<kf.dataValues.length){return kf.dataValues[ex]}ex-=kf.dataValues.length;break}}return null}},gb);ss.initClass(db,a,{add_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldName:function(){return this.$2().fn},get_searchPlaceholderString:function(){return this.$2().searchPlaceholder},$2:function(){return this.pm},get_fullDomainItemSet:function(){return this.$2().dataHighlighterItemSet},get_searchText:function(){return this.$2().queryText},get_maxNumberListItems:function(){return this.$2().maxNumberWebListItems},get_isActive:function(){return this.$2().isActive},get_bodyTextStyle:function(){return this.$2().textStyle},get_numHighlighted:function(){return this.$2().numHighlighted},get_zoneHasBorder:function(){if(ss.isNullOrUndefined(this.parent)){return false}return this.parent.get_zone().get_zoneCommonModel().get_hasBorder()},get_zoneWidth:function(){if(ss.isNullOrUndefined(this.parent)){return 0}return this.parent.get_zone().get_zoneCommonModel().get_width()},update:function(e,ex){if(ss.isValue(e)){en.notifyFontsFromTextStylePresModel(e.textStyle)}this.$3=null;this.simpleSwapToUpdate(e,this.$2$1,ex)},getItemNamesFromObjectId:function(e){if(ss.isNullOrUndefined(this.$3)){this.$1()}return[this.$3[e]]},$1:function(){this.$3={};var e=this.get_fullDomainItemSet().dataHighlighterItems;for(var ex=0;ex<e.length;ex++){var kc=e[ex];this.$3[kc.objectId]=kc.text}}},gb,[fk]);ss.initClass(dc,a,{add_newActiveDataSource:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newActiveDataSource:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataSchema:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataSchema:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newDataSourceAdded:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newDataSourceAdded:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_parametersDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$2))},get_dataSchemaPresModel:function(){return this.pm},$1:function(){if(ss.isValue(this.get_dataSchemaPresModel())&&ss.isValue(this.get_dataSchemaPresModel().datasource)){return this.get_dataSchemaPresModel().datasource}return''},get_activeDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$1()))},notifyNewDataSourceAdded:function(e,ex){this.raiseEvent$1(String).call(this,this.$2$3,ex,e)},getDefaultDataSourceForSheet:function(e){if(ss.isNullOrUndefined(this.get_dataSchemaPresModel())){return null}var ex=null;if(ss.isValue(this.get_dataSchemaPresModel().worksheetDataSchemaMap)&&ss.keyExists(this.get_dataSchemaPresModel().worksheetDataSchemaMap,e)){ex=this.get_dataSchemaPresModel().worksheetDataSchemaMap[e].primaryDatasource}if(ss.isNullOrEmptyString(ex)){return _.chain(this.dataSources.get_dataSources()).filter(ss.mkdel(this,function(kc){return!ss.referenceEquals(kc.get_name(),this.get_dataSchemaPresModel().parametersDatasource)})).first().value()}return this.dataSources.getDataSource(ex)},getDataSourceCount:function(e){var ex=0;if(ss.isValue(this.dataSources)&&ss.isValue(this.dataSources.get_dataSources())){ex=this.dataSources.get_dataSources().length;if(!e&&ss.isValue(this.get_parametersDataSource())){ex--}}return ex},findField:function(e){var ex=this.findDataSourceFromGlobalFieldName(e);return(ss.isNullOrUndefined(ex)?null:ex.findField(e))},findDataSourceByName:function(e){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(e))},findDataSourceFromGlobalFieldName:function(e){var ex=df.splitGlobalFieldName(e);if(ex.length<=1){return null}var kc=ex[0].replace(new RegExp('\\]\\]'),']');return this.findDataSourceByName(kc)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(e,this.pm)){return}var kc=(ss.isValue(e.currentBlendingFields)?e.currentBlendingFields:[]);var kd=(ss.isValue(e.blendingFieldCandidates)?e.blendingFieldCandidates:[]);this.currentBlendingFields=ss.arrayClone(kc);this.blendingFieldCandidates=ss.arrayClone(kd);if(ss.isValue(e.parametersDatasource)){this.$2=e.parametersDatasource}var ke=this.getDataSourceCount(true);if(ss.isValue(e.dataSources)){this.dataSources=this.dataSources||new dg(this);this.dataSources.update(e.dataSources,ex)}if(this.getDataSourceCount(true)>ke){this.notifyNewDataSourceAdded(ex,'')}if(ss.isValue(this.pm)){var kf=this.pm.worksheetDataSchemaMap;var kg=e.worksheetDataSchemaMap;ge.mergeMapPresModelDelta(kf,kg)}if(!ss.referenceEquals(e.datasource,this.$1())){this.raiseEvent(this.$2$1,ex)}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,ex)}},gb);ss.initClass(dd,a,{add_selectionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_selectionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_notificationId:function(){return'doc:data-schema-selection-event'},$2:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return null}var ex=[];for(var kc=0;kc<e.fieldVector.length;kc++){var kd=e.fieldVector[kc];ex.push(kd)}return ex},onNotify:function(e,ex){this.swapPresModel(e);this.$1()},$1:function(){if(!tab.FeatureFlags.isEnabled('NewFieldHighlightWeb')){return}if(!ss.isValue(this.$2$1)){return}var e=null;e=ss.mkdel(this,function(){this.$2$1(this.$2());bJ.get().remove_commandQueueComplete(e)});bJ.get().add_commandQueueComplete(e)}},gb,[fu]);ss.initClass(de,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'doc:update-data-source-data-event'},onNotify:function(e,ex){this.onNotify$1(e,ex)},onNotify$1:function(e,ex){if(ss.isValue(e)){this.update(e,ex)}},detachNotifications:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},getColumnByName:function(e){if(ss.isValue(this.columnInfoLookup)){return this.columnInfoLookup[e]}return null},clearModel:function(){this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new da(this)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}this.pm=e;this.numRows=e.numRows;this.isEmpty=e.isEmpty;this.isExtract=e.isExtract;this.dataDictionaryModel.update(e.dataDictionary);this.columnInfoLookup={};for(var kc=0;kc<e.columnInfos.length;kc++){var kd=e.columnInfos[kc];var ke=new dH(null);ke.update(kd);var kf=ke.get_fieldName();this.columnInfoLookup[kf]=ke}this.raiseEvent(this.$2$1,ex)}},gb,[fu,fq]);ss.initClass(df,a,{add_captionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_captionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_canAnalyzeDataChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_canAnalyzeDataChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_name:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.datasource)){return''}return this.pm.datasource},get_caption:function(){return this.pm.datasourceCaption},get_connectionsTypeSummary:function(){var e='';if(ss.isValue(this.pm)&&ss.isValue(this.pm.connectionSummaries)){var ex=true;for(var kc=0;kc<this.pm.connectionSummaries.length;kc++){var kd=this.pm.connectionSummaries[kc];var ke=(ex?'':', ');var kf=kd.connectionName.toString().split(String.fromCharCode(46))[0];e=e+ke+kf;ex=false}}return e},get_fields:function(){return this.baseColumnsModel.rootFields},get_dataSourceLayoutPresModel:function(){return this.pm.dataSourceLayout},get_isParametersDataSource:function(){return ss.equals(this,S.get_instance().get_workbook().get_dataSchema().get_parametersDataSource())},get_fieldOrderType:function(){return this.pm.fieldOrderType},get_fieldSortOrder:function(){return this.pm.fieldSortOrder},get_isDataTabViewSupported:function(){return this.pm.isWebDataTabViewSupported},get_shouldShowDataSourceConnectionError:function(){return this.pm.shouldShowDataSourceConnectionError},get_shouldShowInSchemaViewer:function(){return this.pm.shouldShowInSchemaViewer},get_canAnalyzeData:function(){return ss.isValue(this.pm)&&this.pm.canAnalyzeData},get_specifiedWidth:function(){return this.$2$3},set_specifiedWidth:function(e){this.$2$3=e},getFilteredFields:function(e){var ex=[];var kc=this.baseColumnsModel.get_allFields();for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];if(e(ke)){ex.push(ke)}}return ex},findField:function(e){var ex=this.baseColumnsModel.findField(e);if(ss.isValue(ex)){return ex}if(ss.isValue(this.$1)){return this.$1.findField(e)}return null},findDrillPath:function(e){return this.baseColumnsModel.findDrillPath(e)},findFolder:function(e,ex){return this.baseColumnsModel.findFolder(e,ex)},findRelationalTable:function(e){return this.baseColumnsModel.findRelationalTable(e)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.datasourceCaption,e.datasourceCaption)){this.raiseEvent(this.$2$1,ex)}if(ss.isNullOrUndefined(this.pm)||this.pm.canAnalyzeData!==e.canAnalyzeData){this.raiseEvent(this.$2$2,ex)}if(ss.isValue(e.fieldList)){this.baseColumnsModel.update(e.fieldList,ex)}if(ss.isValue(e.columnList)){this.$1=this.$1||new dW('columnList',this);this.$1.update(e.columnList,ex)}this.swapAndCopyPresModel(e)}},gb);ss.initClass(dg,a,{get_dataSources:function(){return _.values(this.$1)},get_dataSourceCount:function(){return ss.getKeyCount(this.$1)},getDataSource:function(e){return this.$1[e]},update:function(e,ex){var kc=_.keys(e);for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];var kf=e[ke];if(kf===null){delete this.$1[ke]}else{var kg=this.$1[ke];if(ss.isNullOrUndefined(kg)){kg=new df(this,ke);this.$1[ke]=kg}kg.update(kf,ex)}}if(ss.isValue(this.pm)){ge.mergeMapPresModelDelta(this.pm,e)}this.swapPresModel(e)}},gb);ss.initInterface(fm,a,{dispatch:null});ss.initClass(dh,a,{dispatch:function(e,ex){return function(kc){var kd=$.Deferred();var ke=function(kh){kd.resolve(new ex(kh))};var kf=function(kh){kd.reject(kh)};var kg=new bC(kc.get_uiBlocking(),kc.get_localWork(),kc.get_remoteCommand(),ke,kf);kg.set_useGlobalConnectionErrorHandling(!kc.get_suppressConnectionDialog());kg.set_commandCanceler(kc.get_commandCanceler());bJ.SendCommand(kg);return kd.promise()}}},null,[fm]);ss.initInterface(fB,a,{handleCommandFailure:null});ss.initClass(di,a,{$0:function(e){var ex=false;if(ss.isNullOrUndefined(e)){return false}if(ss.referenceEquals(e.commandName,{ns:'tabdoc',cmd:'show-detailed-error-dialog'}.cmd)||ss.referenceEquals(e.commandName,{ns:'tabdoc',cmd:'show-detailed-error-confirmation-dialog'}.cmd)){ex=true}return ex},handleCommandFailure:function(e,ex,kc,kd){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var ke=this.$0(kc);if(ke){this.$5(kc);return true}var kf=null;if(!tab.MiscUtil.isNullOrEmpty$3(ex.responseText)){kf=ex.responseText.match(new RegExp('Fatal exception in vizql engine'))}if(ex.status===410||ex.status===404||ex.status===403){this.handleSessionExpiration(false)}else if(ex.status===401){this.handleAuthenticationFailure()}else if(ex.status===502||ex.status===503){this.handleSessionKilled(null)}else if(ex.status===500&&ss.isValue(kf)&&kf.length>0){this.handleUnknownErrorStatus(ex.responseText)}else if(ex.status===413){this.handleSessionLimitExceeded()}else if(ex.status===0){this.$6(e,ex)}else if(ss.isNullOrUndefined(kd)||!kd){this.$2(ex,e)}return true},$6:function(e,ex){var kc;if(!tab.MiscUtil.isNullOrEmpty$3(ex.responseText)){var kd=new ss.StringBuilder;kd.append('XHR Response Status: 0\nReadyState:');kd.append(ex.readyState);kd.append('\nHeaders:\n');kd.append(ex.getAllResponseHeaders());kd.append('\nResponse:\n');kd.append(ex.responseText);kc=ss.mkdel(this,function(){this.$8.showAlertDialog(kd.toString(),tab.Strings.RequestAbortedByBrowser,true,null)})}else{kc=ss.mkdel(this,function(){this.$2(ex,e)})}window.setTimeout(kc,5000)},handleSessionExpiration:function(e){var ex=jv.createForCurrentWindowLocation();if(e&&ex.get_retry()){throw new ss.Exception('Failed to re-initialize session')}this.reloadPage(e)},handleAuthenticationFailure:function(){this.reloadPage(false)},$3:function(e,ex){var kc=ss.safeCast(ex,String);var kd=ss.safeCast(ex,ss.Exception);var ke='';if(ss.isValue(kc)){ke=ss.replaceAllString(kc,'XMLHttpTransport.watchInFlight Error: ','')}else if(ss.isValue(kd)){ke=ss.replaceAllString(kd.get_message(),'XMLHttpTransport.watchInFlight Error: ','')}ke=ss.replaceAllString(ke,'XMLHttpTransport Error: ','');if(e.status<400){ke=tab.Strings.BrowserErrorProcessingMessage+'<br>'+ke}else if(e.status===400){ke=tab.Strings.ServerErrorRejectedMessage+'<br>'}else{var kf;try{kf=eval('('+e.responseText+')');kf=kf.replace(new RegExp('\n(?=s*[A-Z])','g'),'<li>').replace(new RegExp('\n','g'),'<br>');kf='<ul><li>'+kf+'</ul>'}catch(kg){kf=e.responseText;kf=dR.stripOutMarkup(kf)}if(ss.isNullOrEmptyString(kf)){ke=tab.Strings.ServerErrorGeneral(e.status)+'<br>'}else{ke=kf}}return ke},$4:function(e){var ex=tab.Strings.ServerErrorUnexpected;if(e.status<400){ex=tab.Strings.BrowserErrorProcessing}else if(e.status===400){ex=tab.Strings.ServerErrorRejected}return ex},$5:function(e){var ex=e.commandParams['errorDialogTitle'];var kc=e.commandParams['errorShortMessage'];var kd=e.commandParams['errorDetails'];if(ss.isValue(kd)){kc=((kd.length>0)?(kc+'<br/>'+kd.join('<br/>')):kc)}this.$8.ShowLocalErrorDialog(kc,ex,null)},$2:function(e,ex){var kc=this.$4(e);var kd=this.$3(e,ex);this.$8.ShowErrorDialog(kd,kc,null)},$1:function(e,ex,kc){e=ss.coalesce(e,'').trim();e=dR.stripOutMarkup(e);var kd=new tab.NonApiCommand('tableau.completed',[]);tabBootstrap.Utility.doPostMessage(kd.serialize());var ke=tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,e);if(!ss.isNullOrEmptyString(e)){ke+='<br/><br/>'}ke+=kc;var kf=ss.mkdel(this,function(){this.requestSetIgnore();document.body.style.cursor='wait';this.reloadPage(false)});this.$8.showConfirmationDialog(ke,ex,true,kf,null)},reloadPage:function(e){document.body.style.cursor='wait';var ex=tsConfig.repositoryUrl||tsConfig.origin_repository_url;var kc=jv.createForCurrentWindowLocationAndVizState(ex,tsConfig.current_sheet_name);kc.set_retry(e);kc.explicitNotGuest=tsConfig.is_authoring&&!tsConfig.is_guest;kc.fullPageLoad(null)},handleSessionForbiddenAction:function(e,ex){var kc=tab.Strings.SessionForbiddenActionTitle;var kd=tab.Strings.SessionForbiddenActionMsg;switch(e){case 16:case 20:case 22:case 60011:{kd=ex;break}}this.$8.showAlertDialog(kd,kc,true,null)},handleSessionLimitExceeded:function(){if(di.$0){return}var e=tab.Strings.TimeLimitExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var ex=tab.Strings.TimeLimitExceededTitle;di.$0=true;this.$8.showAlertDialog(e,ex,true,null)},handleSessionKilled:function(e){this.$1(e,tab.Strings.SessionEndedAlertTitle,tab.Strings.SessionEndedAlertMessage)},handleUnknownErrorStatus:function(e){this.$1(e,tab.Strings.SessionUnknownErrorTitle,tab.Strings.SessionEndedAlertMessage)},requestSetIgnore:function(){var e={error:null,success:null,type:'POST',url:this.$9+'/setignore/sessions'};var ex=ss.mkdict(['_method','PUT','target',tsConfig.sessionid]);e.data=ex;e.async=false;this.$7(e,null)},$7:function(e,ex){return jX.helper(e,ex)}},null,[fB]);ss.initClass(dj,a,{get_isZoomin:function(){return this.$0},set_isZoomin:function(e){this.$0=e},shouldDeferLayoutUpdates:function(){return this.$1},setDeferLayoutUpdates:function(e){this.$1=e}});ss.initClass(dk,a,{handle:function(e,ex){if(!this.$7||ss.isValue(ex)&&!ex.get_useGlobalConnectionErrorHandling()){return false}if(ss.isNullOrUndefined(e)){return false}var kc=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(e.get_message());if(ss.isNullOrUndefined(kc)){return false}var kd=e['status'];if(ss.isNullOrUndefined(kd)){return false}if(!dk.shouldHandleWithGivenStatus(kd)){return false}this.$0(ex,kc,null,false);return true},$1:function(e,ex,kc){if(!this.$7){return}if(kc){e=dk.constructEnsureLayoutForSheetCommand()}if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(ex)||ss.isNullOrUndefined(ex.dataSourceConnectionAttemptInfos)||ex.dataSourceConnectionAttemptInfos.length===0){return}var kd=ex.dataSourceConnectionAttemptInfos[0];var ke=new tab.DataSourceConnectionAttemptErrorResponse;ke.ErrorType=kd.exceptionType;ke.DataSourceCaption=kd.datasourceCaption;ke.ConnectionName=cV.connectionNameFromFullConnectionName(kd.connectionFullName);ke.ConnectionClass=((ss.isValue(kd.exceptionAttrs)&&ss.keyExists(kd.exceptionAttrs,'class'))?kd.exceptionAttrs['class']:null);var kf=ke;if(dk.isBadPasswordError(kd.exceptionType)){var kg=dk.$0(kd);kf.RedirectUrl=kg}else{kf.ErrorMessage=kd.exceptionMessage}if(this.$4(e,kf,kd)){return}var kh=!kd.triedToConnect;this.$0(e,kf,kd,kh)},handlePotentialDataSourceException:function(e,ex,kc){if(!this.$7||ss.isValue(e)&&!e.get_useGlobalConnectionErrorHandling()){return}if(!ss.isNullOrUndefined(ex)){this.$1(e,ex.connectionAttemptInfo,kc)}},handlePotentialBootstrapDataSourceException:function(e){if(!this.$7){return}if(!ss.isNullOrUndefined(e)){this.$1(null,e.connectionAttemptInfo,true)}},$0:function(e,ex,kc,kd){if(!ss.isNullOrEmptyString(ex.RedirectUrl)){var ke=(kd?'&skippopup=1':'');ex.RedirectUrl=ss.formatString('{0}{1}&vizqlSessionId={2}',ex.RedirectUrl,ke,tsConfig.sessionid)}e.reEnqueueCompletedCommandRecords();var kf=function(){e.clearCommandResults();bJ.SendCommand(e)};var kg=ss.mkdel(e,e.triggerCallbacks);var kh=ss.isValue(e.get_commandName())&&ss.equalsT(e.get_commandName(),{ns:'tabsrv',cmd:'ensure-layout-for-sheet'}.cmd);var ki=ss.isValue(e.get_commandName())&&ss.equalsT(e.get_commandName(),{ns:'tabdoc',cmd:'change-workbook-ui-mode'}.cmd);var kj=dk.isBadPasswordError(ex.ErrorType);if(kh){this.$3(ex,kc,kj,kf)}else{this.$2(ex,kc,kj,ki,kf,kg)}},$3:function(e,ex,kc,kd){if(tab.FeatureFlags.isEnabled('DataToTheWebSheetReconnect')){var ke=ss.mkdel(this,function(){this.$6.showSheetAuthenticationOverlay(e,ex,kd)});if(kc){if(ex.triedToConnect){this.$6.showConnectionSignInDialog(ex).done([kd]).fail([ke])}else{ke()}}else if(dk.$2(ex)){this.$6.showEditConnectionInformationDialog(ex,false).done(ss.mkdel(this,function(kf){if(!kf){this.$6.showGenericDataSourceErrorOverlay(e,ex,kd)}}))}else{this.$6.showGenericDataSourceErrorOverlay(e,ex,kd)}}else if(kc){this.$6.showSheetAuthenticationOverlay(e,ex,kd)}else{this.$6.showGenericDataSourceErrorOverlay(e,ex,kd)}},$2:function(e,ex,kc,kd,ke,kf){if(tab.FeatureFlags.isEnabled('DataToTheWebSheetReconnect')){if(kc&&!kd){this.$6.showConnectionSignInDialog(ex).done([ke]).fail([kf])}else if(dk.$2(ex)){this.$6.showEditConnectionInformationDialog(ex,kd).done(function(kg){kf()})}else{this.$6.showGenericDataSourceErrorDialog(e,ke,kf)}}else if(kc){this.$6.showSheetAuthenticationDialog(e,ke,kf)}else{this.$6.showGenericDataSourceErrorDialog(e,ke,kf)}},$4:function(e,ex,kc){if(dk.$1()&&kc.connectionErrorType==='exception-while-connecting'&&ss.isValue(ex.ConnectionClass)){var kd=ex.ConnectionClass;if(!ss.contains(cc.get_getSupportedFileClasses(),kd)){return false}e.reEnqueueCompletedCommandRecords();var ke=function(){e.clearCommandResults();bJ.SendCommand(e)};if(kc.connectionErrorStage==='create-protocol-failed'){if(this.$5(e,ex,kc,kd,ke)){return true}}if(kc.connectionErrorStage==='load-metadata-failed'&&S.get_instance().get_workbook().get_uiMode()!=='data-tab'&&cV.isEditConnectionSupported(kd)){var kf=this.$6.showEditConnectionInformationDialog(kc,false);kf.done(ss.mkdel(this,function(kg){if(!kg){this.$0(e,ex,kc,!kc.triedToConnect)}}));return true}}return false},$5:function(e,ex,kc,kd,ke){var kf=cV.connectionNameFromFullConnectionName(kc.connectionFullName);if(kd==='excel'||kd==='excel-direct'){var kg='';if(ss.keyExists(kc.exceptionAttrs,'filename')){var kh=kc.exceptionAttrs['filename'];kg=cV.stripDirectoryFromPath(kh)}var ki=this.$6.showConnectionMissingFileDialog(kg,kf,'excel-direct');ki.done(ss.mkdel(this,function(kl){if(!kl){this.$0(e,ex,kc,!kc.triedToConnect)}else{ke()}}));return true}else if(kd==='textscan'){var kj='';if(ss.keyExists(kc.exceptionAttrs,'directory')){kj=kc.exceptionAttrs['directory']}var kk=this.$6.showConnectionMissingFileDialog(kj,kf,'textscan');kk.done(ss.mkdel(this,function(kl){if(!kl){this.$0(e,ex,kc,!kc.triedToConnect)}else{ke()}}));return true}return false}});ss.initClass(dl,a,{handleCommandFailure:function(e,ex,kc,kd){if(!this.$0){return false}if(!dk.shouldHandleWithGivenStatus(ex.status)){return false}var ke=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(ex.responseText);if(ss.isNullOrUndefined(ke)){return false}return true}},null,[fB]);ss.initInterface(fx,a,{processEvent:null});ss.initClass(dm,a,{dispose:function(){this.fireDeferredEvents()},fireDeferredEvents:function(){var ex=this.$0;this.$0=null;if(ss.isNullOrUndefined(ex)){return}for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];try{kd()}catch(ke){var e=ss.Exception.wrap(ke);if(!ss.staticEquals(this.exceptionHandler,null)){this.exceptionHandler(e)}}}},processEvent:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=[]}this.$0.push(e)}},null,[fx,ss.IDisposable]);ss.initClass(dn,a,{add_layoutInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_presetSizes:function(){return this.$1},get_defaultWidth:function(){return this.pm.defaultWidth},get_defaultHeight:function(){return this.pm.defaultHeight},get_defaultMaxWidth:function(){return this.pm.maxWidth},get_defaultMaxHeight:function(){return this.pm.maxHeight},get_defaultMinWidth:function(){return this.pm.minWidth},get_defaultMinHeight:function(){return this.pm.minHeight},update:function(e,ex){if(ss.isValue(e.presetSizesList)){this.$1.length=0;for(var kc=0;kc<e.presetSizesList.sizeItems.length;kc++){var kd=new iv(this.$2,kc);kd.update(e.presetSizesList.sizeItems[kc],ex);this.$1.push(kd)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(dp,a,{});ss.initClass(dq,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_computeCompoundedRate:function(){return this.$1().computeCompoundedRate},get_computeCompoundedRateState:function(){return this.$1().computeCompoundedRateState},update:function(e,ex){var kc=e;if(this.isNewPresModelSameAsOld(kc)){return}this.swapAndCopyPresModel(kc);this.get_referenceModel().update(kc.tableCalcReferenceOptionsPresModel,ex);this.raiseEvent(this.$3$1,ex)}},iW);ss.initClass(dr,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabsrv',cmd:'double-click-region-no-return-server'},this.c))}},ss.makeGenericType(W,[Object,ds]));ss.initClass(ds,a,{});ss.initClass(eo,a,{get_fontFamily:function(){return this.$1},set_fontFamily:function(e){this.$1=e;this.$0=''},get_weight:function(){return this.$3},set_weight:function(e){if(ss.isNullOrEmptyString(e)){this.$3='normal'}else{this.$3=e}this.$0=''},get_style:function(){return this.$2},set_style:function(e){if(ss.isNullOrEmptyString(e)){this.$2='normal'}else{this.$2=e}this.$0=''},get_hash:function(){if(this.$0===''){this.$0=this.get_fontFamily().replace(eo.matchQuotes,'').toLowerCase()+'-<%>-'+this.$3.toLowerCase()+'-<%>-'+this.$2.toLowerCase()}return this.$0},equals$1:function(e){var ex=ss.replaceAllString(ss.replaceAllString(this.get_fontFamily(),"'",''),'"','');var kc=ss.replaceAllString(ss.replaceAllString(e.get_fontFamily(),"'",''),'"','');return ss.compareStrings(ex,kc,true)===0&&ss.compareStrings(this.get_weight(),e.get_weight(),true)===0&&ss.compareStrings(this.get_style(),e.get_style(),true)===0}});ss.initClass(dt,a,{get_source:function(){return ss.formatString("url('{0}2') format('woff2'), url('{0}') format('woff')",ss.coalesce(this.woffLocation,''))},clone:function(){var e=new dt;e.set_fontFamily(this.get_fontFamily());e.set_style(this.get_style());e.set_weight(this.get_weight());e.woffLocation=this.woffLocation;return e},equals$2:function(e){return this.equalsIgnoreWoff(e)&&ss.compareStrings(this.woffLocation,e.woffLocation,true)===0},equalsIgnoreWoff:function(e){return this.equals$1(e)},toCSSRules:function(){var e={};e['font-family']=et.addQuotationMarks(this.get_fontFamily(),true);e['font-weight']=this.get_weight();e['font-style']=this.get_style();e['src']=this.get_source();return e}},eo);ss.initClass(du,a,{});ss.initClass(dv,a,{},ss.makeGenericType(jz,[Object,dw]));ss.initClass(dw,a,{});ss.initInterface(fr,a,{canExtractFont:null,extractFontFromPresModel:null});ss.initClass(dx,a,{canExtractFont:function(e){return e.type==='draw-text-props'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ex=e;var kc=ex.fontName;if(ss.isNullOrEmptyString(kc)){return null}var kd=[];var ke=new eo;ke.set_fontFamily(kc);ke.set_weight((ex.isBold?'bold':'normal'));kd.push(ke);return kd}},null,[fr]);ss.initClass(dy,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'drillPath'},get_canHaveChildren:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},dV);ss.initClass(dz,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'drop-on-dashboard'},this.c))}},ss.makeGenericType(W,[Object,dA]));ss.initClass(dA,a,{hasZoneID:function(){return ss.keyExists(this.$$c,'zoneId')}});ss.initClass(dB,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'drop-on-schema-drill-path'},this.c))}},ss.makeGenericType(W,[Object,dC]));ss.initClass(dC,a,{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});ss.initClass(dD,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'drop-on-schema-field'},this.c))}},ss.makeGenericType(W,[Object,dE]));ss.initClass(dE,a,{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});ss.initClass(dF,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'drop-on-schema-section'},this.c))}},ss.makeGenericType(W,[Object,dG]));ss.initClass(dG,a,{hasDropCommand:function(){return ss.keyExists(this.$$c,'dropCommandModel')}});ss.initClass(dH,a,{get_dataType:function(){if(ss.isNullOrUndefined(this.pm)){return'unknown'}return this.pm.dataType},get_fieldName:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.fn},get_valueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.valueIndices},get_aliasIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.aliasIndices},get_formattedValueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.formatValIdxs},get_stringCollation:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.stringCollation},update:function(e){if(ss.isValue(e)){this.pm=e}}},gb);ss.initClass(dI,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_selectedParameter:function(){var e=this.$1().fieldCaptionPair;if(ss.isNullOrUndefined(e)){return null}return{key:e.fieldCaption,value:e.fn}},get_parameters:function(){return _.map(this.$1().fieldCaptionPairs,function(e){return{key:e.fieldCaption,value:e.fn}})},get_selectedValue:function(){return this.$1().selectedValue},set_selectedValue:function(e){this.$1().selectedValue=e},get_enterValueText:function(){return this.$1().enterValueText},get_isCustomValueEnabled:function(){return this.$1().isCustomValueEnabled},get_precannedValues:function(){var e=[];var ex=this.$1().precannedDataValues;for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];e.push(kd)}return e},update:function(e,ex){this.swapPresModel(e);this.raiseEvent(this.$2$1,ex)}},gb);ss.initClass(dJ,a,{handle:function(e,ex,kc,kd){var ke=this.$0;for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];if(kg.handleCommandFailure(e,ex,kc,kd)){return}}}});ss.initClass(dK,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'establish-connection'},this.c))}},ss.makeGenericType(W,[Object,dL]));ss.initClass(dL,a,{});ss.initClass(dM,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'establish-connection-no-undo'},this.c))}},ss.makeGenericType(W,[Object,dN]));ss.initClass(dN,a,{});ss.initClass(dO,a,{});ss.initClass(dP,a,{});ss.initClass(dQ,a,{add_extensionZoneUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_extensionZoneUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(dR,a,{});ss.initClass(dS,a,{});ss.initClass(dT,a,{get_instanceType:function(){return'column'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_baseColumnName:function(){return(this.get_isInstance()?this.pm.baseColumnName:this.get_globalName())},get_baseColumn:function(){return(this.get_isInstance()?this.get_dataSource().findField(this.get_baseColumnName()):this)},get_isInstance:function(){return!ss.isNullOrUndefined(this.pm.isInstance)&&this.pm.isInstance},get_hasWarning:function(){return this.pm.hasWarning},get_isAllowedInCalcs:function(){var e=this.get_baseColumn();return(ss.referenceEquals(e,this)?dV.prototype.get_isAllowedInCalcs.call(this):e.get_isAllowedInCalcs())},get_isCalculated:function(){return this.pm.isCalculated},get_formattedFamilyName:function(){return this.pm.formattedFamilyName},get_canAddToDrillPath:function(){return this.pm.canAddToDrillPath},get_isInDrillPath:function(){return this.pm.isInDrillPath},get_columnClass:function(){return this.pm.columnClass},update:function(e){this.swapAndCopyPresModel(e)}},dV);ss.initEnum(dU,a,{column:'column',drillPath:'drillPath',cubeDimension:'cubeDimension',group:'group',cubeHierarchy:'cubeHierarchy',relationalTable:'relationalTable',cubeFolder:'cubeFolder',folder:'folder',multiple:'multiple'},true);ss.initClass(dW,a,{get_allFields:function(){if(ss.isValue(this.$a)){return this.$a}this.$a=[];var e=_.keys(this.$9);for(var ex=0;ex<e.length;ex++){var kc=e[ex];var kd=this.$9[kc];if(ss.referenceEquals(kc,kd.get_localName())){this.$a.push(kd)}}return this.$a},get_dataSource:function(){return this.$b},findField:function(e){return this.$9[e]},findDrillPath:function(e){return this.$c[e]},findFolder:function(e,ex){var kc=e+ex;return this.$d[kc]},findRelationalTable:function(e){return this.$e[e]},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(this.pm,e)){return}this.$a=null;var kc=this.$9;var kd=this.$e;var ke=this.$d;var kf=this.$c;this.$9={};this.$e={};this.$d={};this.$c={};this.rootFields=[];var kg=[];var kh={};var ki={};for(var kj=0;kj<e.length;kj++){var kk=e[kj];kk.fieldIconRes=kk.fieldIconRes||'';switch(kk.type){case'field-folder':{kg.push(kk);break}case'drill-path':{ki[kk.name]=this.$5(kk,kf,kc);break}case'relational-table':{var kl=this.$8(kk,kd,kc);this.rootFields.push(kl);break}case'group':{kh[kk.fn]=this.$7(kk,kc);break}case'column':{kh[kk.fn]=this.$1(kk,kc);break}case'dimension':{var km=this.$2(kk,kc);this.rootFields.push(km);break}case'display-folder':{var kn=this.$3(kk,kc);this.rootFields.push(kn);break}}}for(var ko=0;ko<kg.length;ko++){var kp=kg[ko];var kq=this.$6(kp,ke,kh,ki);this.rootFields.push(kq)}var kr=this.rootFields.concat.apply(this.rootFields,_.values(ki));this.rootFields=kr.concat.apply(kr,_.values(kh));var ks=_.keys(this.$9);for(var kt=0;kt<ks.length;kt++){var ku=ks[kt];var kv=this.$9[ku];this.$9[kv.get_localName()]=kv}this.swapPresModel(e);this.raiseEvent(this.fieldsChanged,ex)},$1:function(e,ex){var kc=(ss.keyExists(ex,e.fn)?ex[e.fn].asColumn():new dT(this));kc.update(e);this.$9[e.fn]=kc;return kc},$8:function(e,ex,kc){var kd=[];for(var ke=0;ke<e.columnList.length;ke++){var kf=e.columnList[ke];kd.push(this.$1(kf,kc))}var kg=(ss.keyExists(ex,e.name)?ex[e.name].asRelationalTable():new gT(this));kg.update(e,kd);this.$e[e.name]=kg;return kg},$6:function(e,ex,kc,kd){var ke=[];for(var kf=0;kf<e.namesOfFields.length;kf++){var kg=e.namesOfFields[kf];var kh=this.$9[kg];if(ss.isValue(kh)){ke.push(kh);delete kc[kg]}}for(var ki=0;ki<e.drillpathVector.length;ki++){var kj=e.drillpathVector[ki];var kk=this.$c[kj];if(ss.isValue(kk)){ke.push(kk);delete kd[kj]}}var kl=e.name+e.folderRole;var km=(ss.keyExists(ex,kl)?ex[kl].asFolder():new ek(this));km.update(e,ke);this.$d[kl]=km;return km},$7:function(e,ex){var kc=(ss.keyExists(ex,e.fn)?ex[e.fn].asGroup():new fd(this));kc.update(e);this.$9[e.fn]=kc;return kc},$5:function(e,ex,kc){var kd=[];for(var ke=0;ke<e.columnList.length;ke++){var kf=e.columnList[ke];kd.push(this.$1(kf,kc))}var kg=(ss.keyExists(ex,e.name)?ex[e.name].asDrillPath():new dy(this));kg.update(e,kd);this.$c[e.name]=kg;return kg},$4:function(e,ex){var kc=[];for(var kd=0;kd<e.columnList.length;kd++){var ke=e.columnList[kd];kc.push(this.$1(ke,ex))}var kf=(ss.keyExists(ex,e.fn)?ex[e.fn].asHierarchy():new cy(this));kf.update(e,kc);this.$9[e.fn]=kf;return kf},$3:function(e,ex){var kc=[];for(var kd=0;kd<e.hierarchyList.length;kd++){var ke=e.hierarchyList[kd];kc.push(this.$4(ke,ex))}var kf=[];for(var kg=0;kg<e.columnList.length;kg++){var kh=e.columnList[kg];kf.push(this.$1(kh,ex))}var ki=((ss.keyExists(ex,e.name)&&ex[e.name].get_isCubeFolder())?ex[e.name].asCubeFolder():new cx(this));ki.update(e,kc,kf);return ki},$2:function(e,ex){var kc=[];for(var kd=0;kd<e.hierarchyList.length;kd++){var ke=e.hierarchyList[kd];kc.push(this.$4(ke,ex))}var kf=[];for(var kg=0;kg<e.displayFolderList.length;kg++){var kh=e.displayFolderList[kg];kf.push(this.$3(kh,ex))}var ki=[];for(var kj=0;kj<e.attributeDimensionList.length;kj++){var kk=e.attributeDimensionList[kj];ki.push(this.$2(kk,ex))}var kl=(ss.keyExists(ex,e.fn)?ex[e.fn].asDimension():new cw(this));kl.update(e,kc,kf,ki);this.$9[e.fn]=kl;return kl}},gb);ss.initEnum(dX,a,{localName:'localName',globalName:'globalName',qualifiedLocalName:'qualifiedLocalName',description:'description',userCaption:'userCaption',displayName:'displayName'},true);ss.initClass(dY,a,{clear:function(){ss.clearKeys(this.cl);this.$1=0},add:function(e,ex){var kc=this.$0[this.$1];delete this.cl[kc];this.$0[this.$1]=e;this.cl[e]=ex;this.$1=(this.$1+1)%this.$2}});ss.initClass(dZ,a,{openDownload:function(e,ex){if(ss.isValue(ex.popup)){this.$1(e,ex)}else{this.$0(e,ex)}},$0:function(e,ex){var kc=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=kc+'download=true';var kd='_blank';var ke=e;if(ss.isNullOrUndefined(ex.noping)){var kf=ss.mkdel(this,function(){this.$2.showFileDownloadDialog(ex.title,ex.message,ke,kd)});var kg=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=kg+'nodata=true';var kh=this.$3.$0(null,kf,null,'immediately');var ki={};ki.headers=ss.mkdict(['Accept','text/plain']);ki.dataType='text';ki.type='GET';ki.url=e;this.$3.$c(ki,kh)}else{this.$2.showFileDownloadDialog(ex.title,ex.message,ke,kd)}},$1:function(e,ex){var kc=ex.popup;var kd=window.open('about:blank',kc);window.setTimeout(ss.mkdel(this,function(){var ke=new tab.WindowHelper(kd);if(ss.isValue(kd)&&!kd.closed&&ke.get_innerWidth()!==0&&ke.get_innerHeight()!==0){kd.location.href=e}else{if(ss.isValue(kd)){kd.close()}ex.popup=null;this.openDownload(e,ex)}}),500)}});ss.initClass(ea,a,{$1:function(){return this.$1$1},$2:function(e){this.$1$1=e},$0:function(){return tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')},logFileUploadRequestEvent:function(e,ex,kc){if(this.$0()){this.$2(iL.generateUUID());gk.logEvent('Authoring_DataTab_FileUpload_RequestEvent',['FileUploadRequestID',this.$1(),'NumFiles',e,'Origin',ex.toString(),'Reason',kc.toString()])}},logFileUploadStartEvent:function(e,ex,kc){if(this.$0()){gk.logEvent('Authoring_DataTab_FileUpload_StartEvent',['FileUploadRequestID',this.$1(),'UploadID',e,'FileType',ex,'Size',kc])}},logFileUploadSuccessEvent:function(e,ex){if(this.$0()){gk.logEvent('Authoring_DataTab_FileUpload_SuccessEvent',['FileUploadRequestID',this.$1(),'UploadID',e,'UploadTime',ex])}},logFileUploadFailureEvent:function(e,ex){if(this.$0()){gk.logEvent('Authoring_DataTab_FileUpload_FailureEvent',['FileUploadRequestID',this.$1(),'UploadID',e,'ErrorType',ex.toString()])}},logFileUploadRetryEvent:function(e){if(this.$0()){gk.logEvent('Authoring_DataTab_FileUpload_RetryEvent',['FileUploadRequestID',this.$1(),'Retry',e.toString()])}},logFileUploadReplaceEvent:function(e){if(this.$0()){gk.logEvent('Authoring_DataTab_FileUpload_ReplaceEvent',['FileUploadRequestID',this.$1(),'AddReplace',e.toString()])}}});ss.initEnum(eb,a,{cancel:'cancel',replace:'replace',add:'add'},true);ss.initEnum(ec,a,{unsupported:'unsupported',type_mismatch:'type_mismatch',too_big:'too_big',empty:'empty',exists:'exists',multi_file_rejected:'multi_file_rejected',locked:'locked',upload_error:'upload_error',ds_error:'ds_error'},true);ss.initEnum(ed,a,{file_drop_joinarea:'file_drop_joinarea',file_drop_tablearea:'file_drop_tablearea',file_drop_connectionpill:'file_drop_connectionpill',file_drop_dialog:'file_drop_dialog',file_browse_dialog:'file_browse_dialog'},true);ss.initEnum(ee,a,{create_ds:'create_ds',edit_connection:'edit_connection'},true);ss.initEnum(ef,a,{cancel:'cancel',skip:'skip',retry:'retry'},true);ss.initClass(eg,a,{});ss.initClass(eh,a,{add_invalidateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_invalidateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardPresModel:function(){return this.pm},get_storyPointModel:function(){return this.$1.get_currentStoryPoint()},get_dashboardModel:function(){return this.get_storyPointModel().get_dashboardModel()},get_zoneId:function(){return this.parent.get_zone().get_zoneId()},get_currentStoryPointId:function(){return this.get_flipboardPresModel().activeStoryPointId},get_isEmpty:function(){return ss.isNullOrEmptyString(this.get_storyPointModel().get_currentSheet())},invalidated:function(e){this.raiseEvent(this.$2$1,e)},update:function(e,ex){if(ss.isValue(e.activeStoryPointId)){var kc=e.storyPoints[e.activeStoryPointId.toString()];this.$1.update(kc,ex)}this.swapPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)}},gb);ss.initClass(ei,a,{add_newFlipboardNav:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newFlipboardNav:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_pointWasCaptured:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_pointWasCaptured:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_flipboardNavPresModel:function(){return this.pm},get_currentPointIndex:function(){return this.get_flipboardNavPresModel().currentStorypointIndex},get_storyPoints:function(){return this.get_flipboardNavPresModel().storypointNavItems},get_zone:function(){return this.parent.get_zone()},get_navType:function(){return this.get_flipboardNavPresModel().flipboardNavStyle.flipboardNavType},get_arrowVisibility:function(){return this.get_flipboardNavPresModel().navArrowsVisible},get_width:function(){return((this.get_navType()==='dot'&&!tab.FeatureFlags.isEnabled('StorytellingUberNavWidgetWeb'))?32:this.get_flipboardNavPresModel().selectedStoryPointStyle.w)},get_height:function(){return((this.get_navType()==='dot'&&!tab.FeatureFlags.isEnabled('StorytellingUberNavWidgetWeb'))?32:this.get_flipboardNavPresModel().selectedStoryPointStyle.h)},get_isStoryEmpty:function(){return this.get_flipboardNavPresModel().isStoryEmpty},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex){if(ss.isValue(e)){if(ss.isValue(e.selectedStoryPointStyle)){en.notifyFontsFromTextStylePresModel(e.selectedStoryPointStyle.textStyle)}if(ss.isValue(e.unselectedStoryPointStyle)){en.notifyFontsFromTextStylePresModel(e.unselectedStoryPointStyle.textStyle)}}var kc=ss.isValue(this.get_flipboardNavPresModel())&&e.navArrowsVisible!==this.get_flipboardNavPresModel().navArrowsVisible;this.$1(e);this.simpleSwapToUpdate(e,this.$2$1,ex);this.$2(ex);if(kc){this.raiseEvent(this.$2$3,ex)}},$1:function(e){if(ss.isNullOrUndefined(this.get_flipboardNavPresModel())){return}ss.clear(this.$3);if(e.storypointNavItems.length!==this.get_flipboardNavPresModel().storypointNavItems.length){return}var ex=this.get_flipboardNavPresModel().currentStorypointIndex;var kc=e.currentStorypointIndex;var kd=this.get_flipboardNavPresModel().storypointNavItems[ex];var ke=e.storypointNavItems[kc];if(ex!==kc&&kd.storyPointId===ke.storyPointId&&!kd.isCaptured&&ke.isCaptured){this.$3.push(ke.storyPointId)}var kf=_.filter(e.storypointNavItems,function(kk,kl){return kk.isCaptured===true&&kl!==e.currentStorypointIndex});for(var kg=0;kg<kf.length;kg++){var kh=kf[kg];var ki={$:kh.storyPointId};var kj=_.find(this.get_flipboardNavPresModel().storypointNavItems,ss.mkdel({currentId:ki},function(kk){return kk.storyPointId===this.currentId.$}));if(ss.isNullOrUndefined(kj)){continue}if(!kj.isCaptured){this.$3.push(ki.$)}}},$2:function(e){for(var ex=0;ex<this.$3.length;ex++){var kc=this.$3[ex];this.raiseEvent$1(ss.Int32).call(this,this.$2$2,kc,e)}}},gb);ss.initClass(ej,a,{});ss.initClass(ek,a,{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.folderRole},get_instanceType:function(){return'folder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},dV);ss.initClass(em,a,{});ss.initClass(en,a,{});ss.initClass(es,a,{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_typeOfFormatItem:function(){return this.$1().typeOfFormatItem},get_widgetIdentifier:function(){return this.$1().widgetUniqueId},get_isFormatContainer:function(){return this.get_typeOfFormatItem()==='formatContainer'},get_isFormatPane:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatPane'},get_isFormatSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatSection'},get_isCollapsibleSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='collapsibleSection'},get_isCompositeContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='compositeContainer'},get_isUnitContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='unitContainer'},get_isTabGroup:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tabGroup'},get_isTab:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tab'},get_isFormatControl:function(){return this.get_typeOfFormatItem()==='formatControl'},get_isTextControl:function(){return this.get_isFormatControl()&&this.asFormatControl().get_typeOfFormatControl()==='text-control'},raiseUpdated:function(){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(this.$1())){this.$2$1()}},asFormatContainer:function(){return ss.safeCast(this,ep)},asFormatControl:function(){return ss.safeCast(this,eq)},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(ep,a,{get_typeOfFormatContainer:function(){return this.pm.typeOfFormatContainer},get_items:function(){return this.$5},get_name:function(){if(this.get_isFormatSection()){return this.pm.name}else if(this.get_isFormatPane()){return this.pm.name}else{return null}},get_pickerType:function(){if(this.get_isCompositeContainer()){return this.pm.pickerType}else if(this.get_isTabGroup()){return this.pm.pickerType}else{return'none'}},get_previewProperties:function(){return this.$3$1},set_previewProperties:function(e){this.$3$1=e},get_isCollapsedByDefault:function(){if(this.get_isCollapsibleSection()){return this.pm.collapsed}else{return false}},get_label:function(){if(this.get_isUnitContainer()){return this.pm.label}else if(this.get_isTab()){return this.pm.label}else{return null}},get_isChanged:function(){if(this.get_isUnitContainer()){return this.pm.isChanged}else{return false}},get_clearCommand:function(){if(this.get_isUnitContainer()){return this.pm.clearFormatCommandModel}else{return null}},get_isVisible:function(){return this.$6},set_isVisible:function(e){if(this.$6!==e){this.$6=e;this.raiseUpdated()}},get_subsections:function(){var e=[];var ex=this.asFormatContainer().get_items();for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];e.push(kd)}return e},$2:function(e){this.set_previewProperties({});for(var ex=0;ex<e.length;ex++){var kc=e[ex];if(!kc.get_isFormatControl()){continue}var kd=kc.asFormatControl();var ke=kd.get_widgetKey();switch(ke){case'fontSize':case'lineSize':{this.get_previewProperties()[ke]=kd.get_numericValue();break}case'fontFamily':case'lineVisibility':case'linePattern':{this.get_previewProperties()[ke]=kd.get_textValue();break}case'colorSwatch':{this.get_previewProperties()[ke]=kd.get_colorValue();break}case'bold':case'italics':case'underline':{this.get_previewProperties()[ke]=kd.get_toggleValue();break}default:{break}}}},updatePreviewForTab:function(e){if(e>=0&&this.get_items().length>=e+1&&this.get_items()[e].get_isTab()){this.$2(this.get_items()[e].asFormatContainer().get_items())}},$3:function(){return this.pm.formatItemList.filter(ss.mkdel(this,function(e){return!ss.keyExists(this.$4,e.widgetUniqueId)}))},update:function(e,ex){this.simpleSwapToUpdate(e,ss.mkdel(this,function(){this.raiseUpdated()}),ex);var kc=this.$3();if(ss.isNullOrUndefined(this.$5)){this.$5=[];for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];this.$5.push(es.createModel(this,ke,ex))}}else if(ss.isValue(kc)){for(var kf=0;kf<kc.length;kf++){var kg=kc[kf];this.$5[kf].update(kg,ex)}}if(this.get_isTabGroup()){this.updatePreviewForTab(0)}else{this.$2(this.get_items())}}},es);ss.initClass(eq,a,{get_typeOfFormatControl:function(){return this.pm.typeOfFormatControl},get_commandRedirectType:function(){return this.pm.commandRedirectType},get_formatCommand:function(){return this.pm.formatCommandModel},get_simpleCommand:function(){return bV.deserialize(it.create(this.get_formatCommand()).get_simpleCommand())},get_widgetKey:function(){return this.pm.formatWidgetKey},get_isEnabled:function(){return this.pm.isEnabled},get_textValue:function(){return this.pm.valueString},get_numericValue:function(){return this.pm.valueInt},get_colorValue:function(){return this.pm.color},get_canBeAuto:function(){return this.pm.canBeAuto},get_canBeNone:function(){return this.pm.canBeNone},get_canMatchMarkColor:function(){return this.pm.canMatchMarkColor},get_hasOpacity:function(){return this.pm.hasOpacity},get_colorSwatchType:function(){return this.pm.formatColorSwatchType},get_selectorValue:function(){return this.pm.valueString},get_toggleValue:function(){return this.pm.bool}},es);ss.initClass(er,a,{});ss.initClass(et,a,{});ss.initClass(eu,a,{});ss.initClass(ev,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-alert-measures-from-selection'},this.c))}},ss.makeGenericType(W,[Object,ew]));ss.initClass(ew,a,{});ss.initClass(ey,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-button-config-dialog'},this.c))}},ss.makeGenericType(W,[Object,ez]));ss.initClass(ez,a,{});ss.initClass(eA,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-charset-options'},this.c))}},ss.makeGenericType(W,[Object,eB]));ss.initClass(eB,a,{});ss.initClass(eC,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-dashboard-drag-drop'},this.c))}},ss.makeGenericType(W,[Object,eD]));ss.initClass(eD,a,{});ss.initClass(eE,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-dashboard-sizing'},this.c))}},ss.makeGenericType(W,[Object,eF]));ss.initClass(eF,a,{});ss.initClass(eG,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-datasource-data-pres-model'},this.c))}},ss.makeGenericType(W,[Object,eH]));ss.initClass(eH,a,{});ss.initClass(eI,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-dsparams-from-pres-model'},this.c))}},ss.makeGenericType(W,[Object,eJ]));ss.initClass(eJ,a,{});ss.initClass(eK,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-file-connection-file-list'},this.c))}},ss.makeGenericType(W,[Object,eL]));ss.initClass(eL,a,{});ss.initClass(eM,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-has-unused-files'},this.c))}},ss.makeGenericType(W,[Object,eN]));ss.initClass(eN,a,{});ss.initClass(eO,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-locale-options'},this.c))}},ss.makeGenericType(W,[Object,eP]));ss.initClass(eP,a,{});ss.initClass(eQ,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-runtime-data-model'},this.c))}},ss.makeGenericType(W,[Object,eR]));ss.initClass(eR,a,{});ss.initClass(eS,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-show-data-pres-model'},this.c))}},ss.makeGenericType(W,[Object,eT]));ss.initClass(eT,a,{});ss.initClass(eU,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-thumbnail'},this.c))}},ss.makeGenericType(W,[Object,eV]));ss.initClass(eV,a,{hasThumbnailImage:function(){return ss.keyExists(this.$$c,'image')}});ss.initClass(eW,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-url-substitution-keywords'},this.c))}},ss.makeGenericType(W,[Object,eX]));ss.initClass(eX,a,{});ss.initClass(eY,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-web-categorical-color-dialog'},this.c))}},ss.makeGenericType(W,[Object,eZ]));ss.initClass(eZ,a,{});ss.initClass(fa,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'get-web-quantitative-color-dialog'},this.c))}},ss.makeGenericType(W,[Object,fb]));ss.initClass(fb,a,{});ss.initClass(fc,a,{canExtractFont:function(e){return e.type==='draw-group'&&!ss.isNullOrUndefined(e.drawItems)},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var ex=e.drawItems;return this.$0(ex)},$0:function(e){var ex={};for(var kc=0;kc<e.length;kc++){var kd=e[kc];for(var ke=0;ke<fc.$0.length;ke++){var kf=fc.$0[ke];if(kf.canExtractFont(kd)){var kg=kf.extractFontFromPresModel(kd);if(ss.isValue(kg)){for(var kh=0;kh<kg.length;kh++){var ki=kg[kh];ex[ki.get_hash()]=ki}}break}}}return _.values(ex)}},null,[fr]);ss.initClass(fd,a,{get_instanceType:function(){return'group'},get_isCombinedField:function(){return this.pm.isCombinedField||false}},dT);ss.initClass(fe,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'highlight-items-by-pattern-match'},this.c))}},ss.makeGenericType(W,[Object,ff]));ss.initClass(ff,a,{hasMatchedItemSet:function(){return ss.keyExists(this.$$c,'dataHighlighterItemSet')}});ss.initClass(fg,a,{});ss.initClass(fh,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'hit-test-scene'},this.c))}},ss.makeGenericType(W,[Object,fi]));ss.initClass(fi,a,{});ss.initEnum(fj,a,{escape:0,noEscape:1});ss.initInterface(fl,a,{handleCommandStarted:null,handleCommandCompleted:null});ss.initInterface(fo,a,{add_sliderFractionUpdated:null,remove_sliderFractionUpdated:null,get_currentFraction:null,setCurrentFraction:null});ss.initInterface(fp,a,{returnDataSourceDataModel:null});ss.initInterface(fs,a,{get_sheetScrollPositions:null});ss.initInterface(ft,a,{triggerExportPdfUI:null});ss.initClass(fv,a,{});ss.initClass(fw,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(fy,a,{addFontList:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=ss.arrayClone(e);return}var ex=_.intersection(this.$0,e);this.$0=ex},toFontFamilyProvider:function(){if(ss.isNullOrUndefined(this.$0)){return new iu.$ctor2([])}return new iu.$ctor2(Array.prototype.slice.call(this.$0))}});ss.initClass(fz,a,{});ss.initClass(fC,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'is-web-zone-url-valid'},this.c))}},ss.makeGenericType(W,[Object,fD]));ss.initClass(fD,a,{hasValidationMessage:function(){return ss.keyExists(this.$$c,'validationMessage')}});ss.initClass(fE,a,{andMarkAsRawJavaScriptModule:function(){this.moduleBeingConfigured.isRawJavaScriptModule=true;return this},andMarkAsAlreadyLoadedInGlobalNamespace:function(){this.moduleBeingConfigured.loadingMethod='alreadyLoaded';return this},andShowLoadingIndicator:function(){this.moduleBeingConfigured.loadingMethod='synchronous';return this},andLoadOnDemandIf:function(e){this.moduleBeingConfigured.loadingMethod=(e?'asynchronous':'alreadyLoaded');return this},andExportResultAs:function(e){if(ss.isNullOrEmptyString(e)){throw new ss.ArgumentNullException('globalName')}this.moduleBeingConfigured.shouldExportResult=true;this.moduleBeingConfigured.exportResultName=e;return this},andWaitUntilModuleReady:function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('waitUntilModuleReadyFunc')}this.moduleBeingConfigured.waitUntilModuleReadyFunc=e;return this}});ss.initClass(fF,a,{get_dependencies:function(){return this.$0},get_stylesheetDependencies:function(){return this.$1},get_hasDependencies:function(){return this.$0.length>0},get_hasDependenciesOnStylesheets:function(){return this.$1.length>0},addDependency:function(e){tab.Param.verifyValue(e,'dependency');this.$0.push(e)},addDependencyOnCssFile:function(e){tab.Param.verifyString(e,'cssFile');this.$1.push(e)}});ss.initClass(fG,a,{add_newLayerEncoding:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLayerEncoding:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_id:function(){return this.pm.paneSpec},get_name:function(){return this.pm.name},get_isTableCalc:function(){return this.pm.isTableCalc},get_paneDescriptorKeys:function(){return this.pm.paneDescriptorKeys},get_encodings:function(){return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_textEncodingDropdown:function(){return this.getDropdownPresModel('text-encoding')},get_colorEncodingDropdown:function(){return this.getDropdownPresModel('color-encoding')},get_sortEncodingOptions:function(){return this.getDropdownPresModel('sort-encoding')},get_currentPrimitiveType:function(){var e=_.find(this.get_primitiveTypes(),function(ex){return ex.isSelected});return e},get_primitiveTypes:function(){return _.filter(this.pm.primitiveTypeUiItems,function(e){return e.isVisible&&e.isEnabled})},get_markSizeModel:function(){return this.$1},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex);if(ss.isNullOrUndefined(this.$1)){this.$1=new ga(this)}this.$1.update(this.getDropdownPresModel('size-encoding'),ex)},equals$1:function(e){return this.get_id()===e.paneSpec},getDropdownPresModel:function(e){var ex=_.filter(this.pm.encodingUiItems,function(kc){return kc.isVisible&&kc.isEnabled&&kc.encodingType===e});if(ss.isNullOrUndefined(ex)||ex.length!==1){return null}return ex[0].marksCardDropdownItem}},gb);ss.initClass(fH,a,{get_layoutId:function(){return this.layoutid},set_layoutId:function(e){this.layoutid=e},formatDashboardTempfileReference:function(e,ex,kc){return this.formatLayoutMethod(this.layoutid,'tempfile')+'/?key='+e+(ex?'&keepfile=yes':'')+(kc?'&attachment=yes':'')},saveSharedView:function(e,ex,kc){var kd=function(ki,kj,kk){ki['button']=e;if(ss.isValue(ki['guid'])){jX.guid=ki['guid']}};var ke=ss.mkdel(this,function(ki,kj,kk){jX.guid=null;if(ki.status===410||ki.status===403){this.defaultSessionErrorHandler.handleSessionExpiration(false)}else if(ki.status===401){this.handleAuthenticationFailure()}else{var kl=new Object;kl['button']=e;kc(kl)}});var kf=this.$0(null,kd,ke,'none');var kg={};kg['sheet_id']=jX.get_currentTabName();kg['parent_id']=jX.parentID;kg['primary_content_url']=ex;kg['share_button']=e;var kh=this.basicPostOpts(this.$5('save_shared_view'),kg);kh.async=false;kh.timeout=2000;this.$c(kh,kf)},saveAndOpenMetricsView:function(){window.open(this.$5('save_metrics_view'),'metrics','scrollbars,resizable')},metricsViewDownloadUrl:function(){return this.$5('download_metrics_view')},getAutocompleteInfo:function(e,ex,kc){var kd=function(kg,kh,ki){ex(kg['new_value'])};var ke=this.basicGetOpts(this.formatLayoutMethod(this.layoutid,'getautocomplete'));var kf=ss.mkdict(['fieldname',kc,'input_string',e]);ke.data=kf;ke.success=kd;this.$c(ke)},performPostLoadOperations:function(e,ex){var kc=function(kh,ki,kj){if(ss.isValue(ex)){ex(kh)}};var kd=ss.mkdel(this,function(kh,ki,kj){this.$7(kj,kh,true,null)});var ke=this.$0(null,kc,kd,'none');var kf=ss.mkdict(['sheet_id',e]);var kg={};kg.data=kf;kg.async=true;kg.type='GET';kg.headers=ss.mkdict(['Accept','text/javascript']);kg.dataType='json';kg.url=this.formatLayoutMethod(this.layoutid,'performPostLoadOperations');this.$c(kg,ke)}},X);ss.initClass(fI,a,{get_children:function(){return this.$1},get_itemKey:function(){return this.$0.name+this.$0.zoneId},get_isFloating:function(){return this.$0.isFloating},get_zoneType:function(){return this.$0.zoneType},get_isHorizontal:function(){return this.$0.isHorizontal},get_name:function(){return this.$0.name},get_zoneID:function(){return this.$0.zoneId},appendChildren:function(e){this.$1.push(e)}});ss.initClass(fJ,a,{add_layoutTreeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutTreeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,ex){if(!_.isEqual(this.pm,e)){this.$3();this.$1(e);this.$2();this.simpleSwapToUpdate(e,this.$2$1,ex)}},saveExpandedState:function(e,ex){this.$4[e]=ex},expandTreeToCurrent:function(e){if(ss.isNullOrUndefined(this.$5[e])){return}var ex=this.$5[e].parent;while(ss.isValue(ex)){var kc=ex.get_zoneID();this.$4[kc]=true;ex=this.$5[kc].parent}},isItemExpanded:function(e){return ss.keyExists(this.$4,e)&&this.$4[e]},getItemFromIndex:function(e){return this.$5[e]},$1:function(e){var ex=e.zoneCommonListItems;this.$5=fJ.$0(ex);if(ss.isValue(ex)){for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];var ke=kd.parentZoneId;var kf=this.$5[kd.zoneId];var kg=ke===0;if(kg){this.rootNodes.push(kf)}else{var kh=this.$5[ke];if(!ss.isNullOrUndefined(kh)){kh.appendChildren(kf);kf.parent=kh}}}}},$2:function(){if(ss.getKeyCount(this.$5)===0){this.$4={}}else{var e=new ss.ObjectEnumerator(this.$4);try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$5,ex.key)){delete this.$4[ex.key]}}}finally{e.dispose()}}},$3:function(){this.rootNodes=[]}},gb);ss.initClass(fK,a,{get_filterField:function(){return this.$0},get_targetSheets:function(){return this.$3},set_targetSheets:function(e){this.$3=e},get_includeAll:function(){return this.$1},set_includeAll:function(e){this.$1=e;this.clearValues()},get_isExclude:function(){return this.$2},addValue:function(e){if(ss.contains(this.$4,e)){return false}this.$4.push(e);return true},clearValues:function(){ss.clear(this.$4)},getFilterValues:function(){return Array.prototype.slice.call(this.$4)},includesValue:function(e){if(this.get_includeAll()){return true}return this.$2!==ss.contains(this.$4,e)},removeValue:function(e){if(ss.contains(this.$4,e)){return false}ss.remove(this.$4,e);return true}});ss.initClass(fM,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_filterPresModel:function(){return this.pm},get_filterType:function(){switch(this.get_filterPresModel().type){case'Q':{return'Quantitative'}case'H':{return'Hierarchical'}case'C':{return'Categorical'}case'RD':{if(this.get_filterPresModel().showRelDatePick){return'RelativeDatePick'}else{return'RelativeDate'}}default:{return'FilterDefault'}}},get_globalFieldName:function(){var e=this.pm;var ex=new String;ex='[';for(var kc=0;kc<e.name.length;++kc){if(ss.endsWithString(ex,']')){ex+='.';ex+='['}ex+=e.name[kc];ex+=']'}return ex},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.pm=e;this.raiseEvent(this.$2$1,ex)}else if(ss.isValue(e)&&e.isTiled){this.raiseEvent(this.$2$1,ex)}}},gb);ss.initClass(fL,a,{get_filterType:function(){return'Categorical'},get_mode:function(){switch(this.get_filterPresModel().mode){case'checklist':{return'check-list'}case'radiolist':{return'radio-list'}case'dropdown':{return'dropdown'}case'checkdropdown':{return'check-dropdown'}case'slider':{return'slider'}case'pattern':{return'pattern'}case'typeinlist':{return'type-in-list'}default:{return'check-list'}}},get_pattern:function(){return this.get_filterPresModel().pattern},get_isAllMode:function(){return this.get_filterPresModel().all},get_allItemsAreChecked:function(){return this.get_filterPresModel().allChecked},get_noItemsAreChecked:function(){return this.get_filterPresModel().allNotChecked},get_exclude:function(){return this.get_filterPresModel().exclude},get_isTiled:function(){return this.get_filterPresModel().isTiled},get_isSearchable:function(){return this.get_filterPresModel().is_searchable},get_summary:function(){return this.get_filterPresModel().summary},get_underlyingDataSourceIsCube:function(){return this.get_filterPresModel().catIsHier},get_condition:function(){return this.get_filterPresModel().condition},get_limit:function(){return this.get_filterPresModel().limit},get_rangeType:function(){return this.get_filterPresModel().rangeType},get_catFilterTable:function(){return this.get_filterPresModel().table},get_domainActualSize:function(){return this.get_catFilterTable().actual_size},get_tuples:function(){return this.get_catFilterTable().tuples},get_domainType:function(){return this.get_filterPresModel().domainType}},fM);ss.initClass(fN,a,{get_filterType:function(){return'Hierarchical'},get_hierarchyTables:function(){return this.get_filterPresModel().table},get_levels:function(){return this.get_filterPresModel().levels},get_isSearchable:function(){return this.get_filterPresModel().is_searchable}},fM);ss.initClass(fO,a,{add_newLegacyLegend:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLegacyLegend:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,ex){en.notifyFontsFromServerRenderedLegendPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(fP,a,{get_filterType:function(){return'Quantitative'},get_range:function(){return this.get_filterPresModel().range},get_data:function(){return this.get_filterPresModel().data},get_dateFormat:function(){return this.get_filterPresModel().date_format},get_editingFormat:function(){return this.get_filterPresModel().editing_format},get_format:function(){return this.get_filterPresModel().format},get_calendarControlStartOfWeek:function(){return this.get_filterPresModel().first_day_of_week},get_dataSourceStartOfWeek:function(){return this.get_filterPresModel().start_of_week},get_quantitativeFilterTable:function(){return this.get_filterPresModel().table},get_domainType:function(){return this.get_filterPresModel().domainType}},fM);ss.initClass(fQ,a,{add_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterTitle:function(){return this.get_quickFilterDisplayPresModel().quickFilterTitle},get_quickFilterCommands:function(){return this.get_quickFilterDisplayPresModel().quickFilterCommands},get_quickFilterDomainCommands:function(){return this.get_quickFilterDisplayPresModel().quickFilterDomainCommands},get_quickFilterModeMatrix:function(){var e=tab.FeatureParamsLookup.getBool(4);if(e){return this.$1()}else{return null}},get_quickFilterDisplayPresModel:function(){return this.pm},get_frame:function(){return this.$2},get_zoneModel:function(){return this.parent.get_zone()},get_contentStyle:function(){return this.get_zoneModel().get_zoneCommonModel().get_contentStyle()},update:function(e,ex,kc){var kd=!_.isEqual(this.$2,ex);this.$2=ex;if(this.isNewPresModelSameAsOld(e)){if(kd){this.raiseEvent$1(Object).call(this,this.$2$1,e,kc)}return}if(ss.isValue(e)){en.notifyFontsFromTextStylePresModel(e.textStyle)}if(ss.isValue(e)&&ss.isValue(e.quickFilterCommands)){this.$3=new bW(this)}this.$3.update(e.quickFilterCommands,kc);this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,kc)},$1:function(){var e=[];var ex=['year','qtr','month','day','hour','minute','second','week','weekday','month-year','mdy','none','trunc-year','trunc-qtr','trunc-month','trunc-week','trunc-day','trunc-hour','trunc-minute','trunc-second'];var kc=['check-list','radio-list','dropdown','slider','pattern','type-in-list','check-dropdown'];var kd=['min-max','min-only','max-only','rel-date','rel-pick'];for(var ke=0;ke<ex.length;ke++){var kf=ex[ke];for(var kg=0;kg<kc.length;kg++){var kh=kc[kg];var ki={};ki.aggregation=kf;ki.categoricalMode=kh;e.push(ki)}for(var kj=0;kj<kd.length;kj++){var kk=kd[kj];var kl={};kl.aggregation=kf;kl.quantitativeMode=kk;e.push(kl)}}return e}},gb);ss.initClass(fR,a,{get_filterType:function(){return(this.get_isRelativeDatePick()?'RelativeDatePick':'RelativeDate')},get_defaultFormat:function(){return this.get_filterPresModel().default_format},get_fiscalYearStart:function(){return this.get_filterPresModel().fy},get_noTime:function(){return this.get_filterPresModel().noTime},get_isRelativeDatePick:function(){return this.get_filterPresModel().showRelDatePick},get_text:function(){return this.get_filterPresModel().text},get_relativeDateTable:function(){return this.get_filterPresModel().table},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return this.get_relativeDateTable().anchor}},fM);ss.initClass(fS,a,{fractionToValue:function(e){return this.$1+e*(this.$0-this.$1)},valueToFraction:function(e){return((this.$1===this.$0)?0:((e-this.$1)/(this.$0-this.$1)))}},gR);ss.initClass(fT,a,{get_interactedTupleId:function(){return this.$1},get_affectedTupleIds:function(){return this.$0},get_paneDescriptorKey:function(){return this.$3},get_needRemoteUbertip:function(){return this.$2}});ss.initClass(fV,a,{add_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_lightweightMapOptionsPresModel:function(){return this.pm},get_shouldShowGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().showGeographicSearch},get_shouldShowFloatingZoomToolbar:function(){return this.get_lightweightMapOptionsPresModel().showFloatingZoomToolbar},get_shouldAllowPanZoom:function(){return this.get_lightweightMapOptionsPresModel().allowPanZoom},get_canToggleGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().canToggleGeographicSearch},get_shouldShowMapScale:function(){return this.get_lightweightMapOptionsPresModel().showMapScale},get_canToggleMapScale:function(){return this.get_lightweightMapOptionsPresModel().canToggleMapScale},get_canSetMapUnit:function(){return this.get_lightweightMapOptionsPresModel().canSetMapUnit},get_hasPresModel:function(){return ss.isValue(this.get_lightweightMapOptionsPresModel())},get_dialogTitle:function(){return tab.Strings.MapOptionsDialogTitle},get_notificationId:function(){return'doc:map-options-dialog-event'},get_vizID:function(){return this.get_lightweightMapOptionsPresModel().visualIdPresModel},get_mapUnitSelection:function(){return this.get_lightweightMapOptionsPresModel().defaultMapUnitEnum},get_canToggleAutomaticDrill:function(){return this.get_lightweightMapOptionsPresModel().canToggleAutomaticDrill},get_shouldShowAutomaticDrill:function(){return this.get_lightweightMapOptionsPresModel().enableAutomaticDrill},onNotify:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},update:function(e,ex){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}},gb,[fu,fq]);ss.initClass(fW,a,{add_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_mapScaleInfoPresModel:function(){return this.pm},get_shouldShowMapScale:function(){return this.get_mapScaleInfoPresModel().shouldShowMapScale},get_mapScaleMarginOfError:function(){return this.get_mapScaleInfoPresModel().mapScaleMarginOfError},get_mapScaleWidth:function(){return this.get_mapScaleInfoPresModel().mapScaleWidth},get_mapScaleReadoutString:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutString},get_mapScaleReadoutNumber:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutNumber},get_mapScaleReadoutUnit:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutUnit},get_mapScaleFontSizePixels:function(){return this.get_mapScaleInfoPresModel().mapScaleFontSizePixels},get_mapScaleColor:function(){return this.get_mapScaleInfoPresModel().mapScaleColor},get_mapScaleTooltipString:function(){return this.get_mapScaleInfoPresModel().mapScaleTooltipString},get_mapScaleBorderColor:function(){return this.get_mapScaleInfoPresModel().mapScaleBorderColor},get_hasPresModel:function(){return ss.isValue(this.get_mapScaleInfoPresModel())},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}}},gb);ss.initClass(fX,a,{add_newMapServerInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMapServerInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_tileSourceChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_tileSourceChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_useFastMaps:function(){return this.get_hasPresModel()&&this.get_mapServerPresModel().clientRequestsMapTiles},get_hasPresModel:function(){return ss.isValue(this.pm)},get_isAttributionVisible:function(){return this.get_mapServerPresModel().showAttribution},get_minZoom:function(){return this.get_mapServerPresModel().mapMinZoom},get_maxZoom:function(){return this.get_mapServerPresModel().mapMaxZoom},get_zoom:function(){var e=Math.log(this.get_mapServerPresModel().mapDisplayScale)/Math.LN2;var ex=this.get_mapServerPresModel().mapRequestZoom+e;if(this.get_useFastMaps()){ex-=tab.MapUtil.getLeafletZoomOffsetForTileSize(this.get_tilePixelSize())}return ex},get_centerLatitude:function(){return this.get_mapServerPresModel().mapCenterLatitude},get_centerLongitude:function(){return this.get_mapServerPresModel().mapCenterLongitude},get_tilePixelSize:function(){return this.get_mapServerPresModel().mapTileSize},get_numWorldRepeats:function(){return this.get_mapServerPresModel().mapWorldRepeats},get_tileUrl:function(){var e=this.get_mapServerPresModel();var ex;if(ss.startsWithString(e.mapTileServer.toString(),'http://')||ss.startsWithString(e.mapTileServer.toString(),'https://')){ex=''}else{var kc=tab.WindowHelper.getLocation(window.self).protocol;ex=kc+'//'}ex+=e.mapTileServer;if(!ss.endsWithString(ex,String.fromCharCode(47))&&!ss.startsWithString(e.mapTileUrl.toString(),String.fromCharCode(47))){ex+='/'}ex+=e.mapTileUrl;ex=ss.replaceAllString(ex,'{K}',e.mapServerKey);ex=ss.replaceAllString(ex,'{L}',e.mapLayerRequest);var kd=tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(tab.BrowserSupport.get_devicePixelRatio(),2);ex=ss.replaceAllString(ex,'{D}',(kd?'@2x':''));ex=ss.replaceAllString(ex,'{X}','{x}');ex=ss.replaceAllString(ex,'{Y}','{y}');ex=ss.replaceAllString(ex,'{Z}','{z}');ex=ss.replaceAllString(ex,'{P}','{p}');return ex},get_hasValidTileLayer:function(){return this.get_mapServerPresModel().mapHasValidLayer},get_attributionUrl:function(){return this.get_mapServerPresModel().mapAttributionUrl},get_attributionText:function(){return this.get_mapServerPresModel().mapAttributionText},get_attributionTextColor:function(){return this.get_mapServerPresModel().mapAttributionTextColor},get_attributionTextSize:function(){return this.get_mapServerPresModel().mapAttributionTextSize},get_attributionBGColor:function(){return this.$1(this.get_mapServerPresModel().mapAttributionFill)},get_mapBGFillColor:function(){return this.$1(this.get_mapServerPresModel().mapPaneBackgroundFill)},get_hasWashout:function(){return this.get_mapServerPresModel().mapWashout>0},get_washoutColor:function(){var e=Math.max(0,Math.min(1,this.get_mapServerPresModel().mapWashout));return new bG(255,255,255,e)},get_intermediateTileLevels:function(){return this.get_mapServerPresModel().mapIntermediateLevels},get_mapServerPresModel:function(){return this.pm},get_mapScaleInfoModel:function(){return this.$2},get_radialSelectionDistanceInfoModel:function(){return this.$3},get_allowLocalPanAndZoom:function(){return this.$2$3},set_allowLocalPanAndZoom:function(e){this.$2$3=e},update:function(e,ex){var kc=ss.isValue(this.get_mapServerPresModel())&&ss.isValue(e);if(kc){var kd=!ss.referenceEquals(this.get_mapServerPresModel().mapTileServer,e.mapTileServer);var ke=!ss.referenceEquals(this.get_mapServerPresModel().mapLayerRequest,e.mapLayerRequest);if(kd||ke){this.raiseEvent(this.$2$2,ex)}}this.simpleSwapToUpdate(e,this.$2$1,ex);if(this.get_hasPresModel()){this.$3.update(this.get_mapServerPresModel().radialSelectionDistanceInfo);this.$2.update(this.get_mapServerPresModel().mapScaleInfo,ex)}},$1:function(e){return bG.fromColorCode(e||'rgb(255,255,255)').toString()}},gb);ss.initClass(iy,a,{get_defaultValue:function(){return ss.coalesce(this.defaultSpace,0)},set_defaultValue:function(e){this.defaultSpace=e},get_leftValue:function(){var e=this.left;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_leftValue:function(e){this.left=e},get_topValue:function(){var e=this.top;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_topValue:function(e){this.top=e},get_rightValue:function(){var e=this.right;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_rightValue:function(e){this.right=e},get_bottomValue:function(){var e=this.bottom;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_bottomValue:function(e){this.bottom=e},get_allSidesTheSame:function(){var e=this.$0;if(ss.isNullOrUndefined(e)){e=ss.isNullOrUndefined(this.bottom)&&ss.isNullOrUndefined(this.top)&&ss.isNullOrUndefined(this.left)&&ss.isNullOrUndefined(this.right)}return e},set_allSidesTheSame:function(e){this.$0=e;if(e){this.top=null;this.bottom=null;this.left=null;this.right=null}},mergeWithExisitingStyle:null});ss.initClass(fY,a,{mergeWithExisitingStyle:function(e){var ex=$.extend({},e);if(ss.isValue(this.defaultSpace)){ex.margin=ss.unbox(this.defaultSpace)}else{delete ex.margin}if(ss.isValue(this.top)){ex.marginTop=ss.unbox(this.top)}else{delete ex.marginTop}if(ss.isValue(this.bottom)){ex.marginBottom=ss.unbox(this.bottom)}else{delete ex.marginBottom}if(ss.isValue(this.left)){ex.marginLeft=ss.unbox(this.left)}else{delete ex.marginLeft}if(ss.isValue(this.right)){ex.marginRight=ss.unbox(this.right)}else{delete ex.marginRight}return ex}},iy);fY.$ctor1.prototype=fY.prototype;ss.initClass(fZ,a,{add_newMarksCard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarksCard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_layers:function(){return this.$3},get_activePaneSpecId:function(){return this.$2},set_activePaneSpecId:function(e){this.$2=e},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}var kc=[];if(ss.isValue(e)&&ss.isValue(e.layer)){this.$1(e.layer,kc,ex)}if(ss.isValue(e)&&ss.isValue(e.layers)){for(var kd=0;kd<e.layers.length;kd++){var ke=e.layers[kd];this.$1(ke,kc,ex)}}this.$3=kc;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)},$1:function(e,ex,kc){var kd=_.find(this.$3,function(ke){return ke.equals$1(e)});if(ss.isNullOrUndefined(kd)){kd=new fG(this,e.paneSpec)}kd.update(e,kc);ex.push(kd)}},gb);ss.initClass(ga,a,{add_sliderFractionUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sliderFractionUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minMarkSize:function(){return this.pm.minMarkSize},get_maxMarkSize:function(){return this.pm.maxMarkSize},get_currentMarkSize:function(){return this.pm.markSize},get_currentSliderFraction:function(){return tab.DoubleUtil.roundTwoDecimalPlaces(this.$3.valueToFraction(this.get_currentMarkSize()))},get_transform:function(){return this.$3},get_parentModel:function(){return this.$2},get_currentFraction:function(){return this.get_currentSliderFraction()},setCurrentFraction:function(e){},markSizeUpdated:function(){if(ss.isValue(this.$2$1)){this.$2$1(this.get_currentSliderFraction())}},update:function(e,ex){if(ss.isValue(e)){this.$1(e)}this.simpleSwapToUpdate(e,ss.mkdel(this,this.markSizeUpdated),ex)},$1:function(e){switch(e.inflectionPoints.length){case 0:{this.$3=new fS(e.minMarkSize,e.maxMarkSize);break}case 1:{var ex=e.inflectionPoints[0];this.$3=new I(e.minMarkSize,e.maxMarkSize,ex.inflectionFraction,ex.inflectionValue,ex.inflectionFraction,ex.inflectionValue);break}case 2:default:{var kc=e.inflectionPoints[0];var kd=e.inflectionPoints[1];this.$3=new I(e.minMarkSize,e.maxMarkSize,kc.inflectionFraction,kc.inflectionValue,kd.inflectionFraction,kd.inflectionValue);break}}}},gb,[fo]);ss.initClass(ge,a,{});ss.initClass(gf,a,{});ss.initClass(gg,a,{loadRequested:function(){this.$3++},moduleLoaded:function(){this.$3=Math.max(this.$3-1,0);if(this.$0()){this.$1()}},registerModulesLoadedCallback:function(e){if(this.$0()){e();return}this.$2.push(e)},$0:function(){return this.$3===0},$1:function(){for(var e=0;e<this.$2.length;e++){var ex=this.$2[e];_.defer(ex)}this.$2.length=0}});ss.initClass(gh,a,{get_instanceType:function(){return'multiple'}},dV);ss.initClass(gi,a,{processEvent:function(e){}},null,[fx]);ss.initClass(gj,a,{get_notificationId:function(){return this.$1$1},set_notificationId:function(e){this.$1$1=e},onNotify:function(e,ex){var kc=$.Deferred();var kd=kc.promise();kd.done(ss.mkdel(this,function(){if(ss.isValue(this.$2)){gb.nonWorldUpdate(ss.mkdel(this,function(ke){this.$2.onNotify(e,ke)}))}}));if(ss.isValue(this.$2)){kc.resolve()}else{this.$1().done(ss.mkdel(this,function(ke){if(ss.isValue(ke)){this.$2=ke;this.$2.add_stopNotifying(ss.mkdel(this,this.$0))}kc.resolve()}))}},$0:function(){this.$2=null}},null,[fu]);ss.initClass(gk,a,{$3:function(e,ex){this.$1().done([ss.mkdel(this,function(){var kd=this.$6.createEvent();kd.ofType(e);var ke=new ss.ObjectEnumerator(ex);try{while(ke.moveNext()){var kf=ke.current();kd.withProperty(kf.key,kf.value)}}finally{ke.dispose()}kd.withProperty('SiteId',this.$d);kd.withProperty('SiteLuid',this.$e);kd.withProperty('SiteUrlName',this.$f);kd.withProperty('UserId',this.$g);kd.withProperty('Language',tsConfig.language);kd.withProperty('Locale',tsConfig.locale);kd.withProperty('SessionId',tsConfig.sessionIdHash);kd.withProperty('ProjectId',tsConfig.current_project_id);kd.withProperty('WorkbookId',tsConfig.current_workbook_id);kd.withProperty('Public',tsConfig.isPublic);kd.withProperty('SaaS',tsConfig.is_saas);this.$a.reportEvent(kd.build())})]);var kc=gk.$1$1;if(!ss.staticEquals(kc,null)){kc(e,ex)}},$2:function(){return this.$4||(this.$4=gf.load$1('analytics-client',[]))},$0:function(){return this.$c||(this.$c=jO.get_getSessionInfo().done(ss.mkdel(this,function(e){this.$b=e})).fail(ss.mkdel(this,function(e){})))},$1:function(){return this.$7||(this.$7=$.when(this.$0(),this.$2()).done([ss.mkdel(this,function(){var e=ss.isValue(this.$b);if(e){var ex=this.$b.server;var kc=this.$b.site;var kd=this.$b.user;e=ss.isValue(ex)&&ss.isValue(kc)&&ss.isValue(kd);if(e){this.$5=ex.analyticsEndpoint;this.$9=ex.logicalServerInstanceId;this.$d=kc.id;this.$e=kc.luid;this.$f=kc.urlName;this.$g=kd.id}}if(!e){}this.$a=new AnalyticsClient.Reporter(this.$5);this.$6=new AnalyticsClient.AnalyticsEventFactory('VizClient',this.$9,window.location.hostname)})]))}});ss.initClass(gl,a,{});ss.initClass(gm,a,{get_description:function(){return this.$1$1},set_description:function(e){this.$1$1=e},get_architecture:function(){return this.$1$2},set_architecture:function(e){this.$1$2=e},get_family:function(){return this.$1$3},set_family:function(e){this.$1$3=e},get_version:function(){return this.$1$4},set_version:function(e){this.$1$4=e}});ss.initClass(gn,a,{mergeWithExisitingStyle:function(e){var ex=$.extend({},e);if(ss.isValue(this.defaultSpace)){ex.padding=ss.unbox(this.defaultSpace)}else{delete ex.padding}if(ss.isValue(this.top)){ex.paddingTop=ss.unbox(this.top)}else{delete ex.paddingTop}if(ss.isValue(this.bottom)){ex.paddingBottom=ss.unbox(this.bottom)}else{delete ex.paddingBottom}if(ss.isValue(this.left)){ex.paddingLeft=ss.unbox(this.left)}else{delete ex.paddingLeft}if(ss.isValue(this.right)){ex.paddingRight=ss.unbox(this.right)}else{delete ex.paddingRight}return ex}},iy);gn.$ctor1.prototype=gn.prototype;ss.initClass(go,a,{add_newPage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newPage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){return tableau.format.stripFormattedText(this.pm.title)},get_frame:function(){return this.$1},get_zoneModel:function(){return this.$2},update:function(e,ex,kc,kd){this.$1=ex;if(this.isNewPresModelSameAsOld(e)){return}en.notifyFontsFromPagePresModel(e);if(kc){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,kd)}else{this.swapAndCopyPresModel(e)}}},gb);ss.initClass(gq,a,{});ss.initClass(gr,a,{});ss.initClass(gs,a,{get_rowIndex:function(){return this.$0['rowIndex']},get_columnIndex:function(){return this.$0['columnIndex']},get_pageIndex:function(){return(ss.keyExists(this.$0,'pageIndex')?this.$0['pageIndex']:0)},get_presModel:function(){return this.$0},update:function(e){if(ss.isValue(e)){this.$0=e}else{this.$0={};this.$0['columnIndex']=0;this.$0['rowIndex']=0}}});gs.$ctor1.prototype=gs.prototype;ss.initClass(gt,a,{});ss.initClass(gu,a,{add_newParameterCtrl:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newParameterCtrl:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_parameterCtrlPresModel:function(){return this.pm},get_parameterCtrlJsonPresModel:function(){return this.get_parameterCtrlPresModel().legacyPresModel},get_zone:function(){return this.get_zoneModel().pm},get_frame:function(){return this.$1},get_zoneModel:function(){return this.parent.get_zone()},update:function(e,ex,kc){if(ss.isValue(e)){en.notifyFontsFromTextStylePresModel(e.textStyle)}this.$1=ex;this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,kc)},updateFrame:function(e,ex){if(!ss.referenceEquals(this.$1,e)){this.$1=e;this.raiseEvent$1(Object).call(this,this.$2$1,this.get_parameterCtrlPresModel(),ex)}}},gb);ss.initClass(gv,a,{});ss.initClass(gw,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},iW);ss.initClass(gx,a,{});ss.initClass(gy,a,{get_encodingType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingType)){return'invalid-encoding'}return this.pm.encodingType},get_alternateEncodings:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingUiItems)){return[]}return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_filterType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.filterIconType)){return'no-filter'}return this.pm.filterIconType},get_hasDrill:function(){return this.pm.hasDrill||false},get_shouldDrill:function(){return this.get_hasDrill()&&(this.pm.shouldDrill||false)},get_column:function(){return this.$1},get_tooltip:function(){return tableau.format.stripFormattedText(this.pm.tooltip)},get_sideIconToolip:function(){return tableau.format.stripFormattedText(this.pm.iconTooltip)},get_displayName:function(){return this.pm.displayText},get_contextMenuCommands:function(){return this.pm.commands},get_isMultipleFields:function(){return this.pm.encodingType!=='invalid-encoding'&&ss.isInstanceOfType(this.$1,gh)},get_isSortPill:function(){return this.pm.isSortPill},get_sortMeasure:function(){return this.pm.sortMeasureName},get_sortDirection:function(){return this.pm.sortOrder},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}this.$1=ex;this.swapAndCopyPresModel(e)}},gb);ss.initClass(gz,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabsrv',cmd:'ping-session'},this.c))}},ss.makeGenericType(W,[Object,gA]));ss.initClass(gA,a,{});ss.initClass(gB,a,{get_description:function(){return this.$1$1},set_description:function(e){this.$1$1=e},get_layout:function(){return this.$1$2},set_layout:function(e){this.$1$2=e},get_manufacturer:function(){return this.$1$3},set_manufacturer:function(e){this.$1$3=e},get_name:function(){return this.$1$4},set_name:function(e){this.$1$4=e},get_prerelease:function(){return this.$1$5},set_prerelease:function(e){this.$1$5=e},get_product:function(){return this.$1$6},set_product:function(e){this.$1$6=e},get_userAgent:function(){return this.$1$7},set_userAgent:function(e){this.$1$7=e},get_version:function(){return this.$1$8},set_version:function(e){this.$1$8=e},get_OS:function(){return this.$1$9},set_OS:function(e){this.$1$9=e}});ss.initClass(gC,a,{add_stopNotifying:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_stopNotifying:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_notificationId:function(){return this.$1$2},set_notificationId:function(e){this.$1$2=e},onNotify:function(e,ex){if(ss.isValue(this.$3)){return}this.$3=ss.createInstance(this.$4);this.$5=document.createElement('div');this.$2.appendChild(this.$5);this.$3.showDialog(e,this.$5,ss.mkdel(this,this.$0));this.$1()},$0:function(){this.$3=null;if(ss.isValue(this.$5)){this.$2.removeChild(this.$5);this.$5=null}},$1:function(){if(ss.isNullOrUndefined(this.$6)||ss.isNullOrUndefined(this.$6.contentClassName)||!ss.referenceEquals(this.$2,document.body)){return}var e=$(this.$2).find('.'+this.$6.contentClassName);if(e.length===0){return}var ex=e.parentsUntil('body').last();var kc=ex.prev();ex.css('z-index',this.$6.customZIndex);kc.css('z-index',this.$6.customZIndex)},dispose:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}this.$0()}},null,[fu,fq,ss.IDisposable]);ss.initClass(gD,a,{getImageFile:function(){return $.Deferred().resolve('')},dispose:function(){this.$0.dispose()}},null,[ss.IDisposable]);ss.initClass(gF,a,{reportEvent:function(e,ex){gk.logEvent(e,ex)}});ss.initClass(gG,a,{});ss.initClass(gH,a,{get_pathList:function(){return this.$0},get_pathAsString:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=_.map(this.$0,function(e){return e.name}).join(':')}return this.$1},add:function(e){this.$0.push(e);this.$1=null},reverse:function(){this.$0.reverse();this.$1=null}});ss.initClass(gI,a,{});ss.initEnum(gJ,a,{simple:0,array:1});ss.initClass(gK,a,{add_progressiveLoad:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_progressiveLoad:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_progressiveLoadComplete:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_progressiveLoadComplete:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_hasZonesToLoad:function(){if(ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){return true}if(ss.isNullOrUndefined(this.$j)){return false}for(var e=0;e<gK.$7.length;e++){var ex=gK.$7[e];if(ss.isNullOrUndefined(this.$j[ex])){continue}return true}return false},extractZoneContent:function(e){if(!gK.$4(e)){return e}var ex=this.$4(e);if(ss.isNullOrUndefined(ex)){return e}this.$h(ex);ex.zones=this.$5(ex.zones);return e},updateZonesWithVizData:function(e,ex){if(ss.isNullOrUndefined(this.$p)||ss.getKeyCount(this.$p)===0){return}jr.addVizDataToZones(e.presModelMap,this.$p);var kc=_.keys(this.$p);for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];var kf=this.$q[ke]||this.$3(this.$p[ke]);if(ss.isValue(kf)&&ss.isValue(kf.get_visualModel())){var kg=kf.get_visualModel();kg.update(kg.pm,ex)}}},processModelUpdate:function(e,ex,kc){if(!gK.$4(e)||!this.get_hasZonesToLoad()){return e}var kd=this.$4(e);if(ss.isNullOrUndefined(kd)){return e}this.$h(kd);var ke=gb.removeUndefinedBoolsOnSwapCopy;if(kc){gb.removeUndefinedBoolsOnSwapCopy=false}try{var kf=kd.zones;var kg=_.keys(kf);for(var kh=0;kh<kg.length;kh++){var ki=kg[kh];var kj=kf[ki];if(ss.isNullOrUndefined(kj)){continue}var kk=this.$9(kj);if(!ss.contains(gK.zonesThatDeferContentCreation,kk)){continue}var kl=false;var km=kj.zoneId;var kn=[gK.$8[kk],6];for(var ko=0;ko<kn.length;ko++){var kp=kn[ko];var kq=this.$j[kp];if(ss.isValue(kq)){var kr=kq.length;for(var ks=0;ks<kr;ks++){var kt=kq[ks];if(ss.isValue(kt)&&kt.zoneId===km){kl=true;kq[ks]=this.$1(kt,kj,ex);break}}}if(kl){break}}if(!kl&&kk==='viz'){var ku=_.keys(this.$k);for(var kv=0;kv<ku.length;kv++){var kw=ku[kv];var kx=this.$k[kw];if(km===kx.zoneId){kl=true;this.$k[kw]=this.$1(kx,kj,ex);break}}}if(kl){kj=gK.removeZoneContent(kj)}}}finally{gb.removeUndefinedBoolsOnSwapCopy=ke}return e},start:function(){if(!this.get_hasZonesToLoad()){this.$6();this.$d();return}this.$e();this.$c();this.$f()},abort:function(){this.stopTimers();this.$d()},setViewport:function(e){var ex=e.get_dimensions();if(ex.w===1&&ex.h===1){return}this.$o={x:ex.l,y:ex.t,w:ex.w,h:ex.h};this.$c()},getPendingVisuals:function(){var e={};var ex=_.keys(this.$p);for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];var ke=this.$p[kd].worksheet;var kf=this.getPendingVisual(ke);if(ss.isValue(kf)){e[ke]=kf}}return e},getPendingVisual:function(e){var ex=null;var kc=_.keys(this.$p);for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];if(ss.referenceEquals(this.$p[ke].worksheet,e)){ex=this.$p[ke];break}}if(ss.isNullOrUndefined(ex)){return null}var kf=this.$q[ex.zoneId]||this.$3(ex);return kf.get_visualModel()},getPendingZoneContentModel:function(e){if(ss.isNullOrUndefined(this.$l)){return null}return this.$l[e]},stopTimers:function(){if(ss.isValue(this.$m)){if(ss.isValue(tab.FeatureParamsLookup.getInt(39))){window.clearTimeout(ss.unbox(this.$m))}else{tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$m))}this.$m=null}},$d:function(){this.$j=null;this.$k=null;this.$p=null;this.$q=null;this.$l=null;this.$n=null;this.$m=null;this.$o=null;ss.clearKeys(this.$r)},$8:function(){var e={};for(var ex=0;ex<gK.$7.length;ex++){var kc=gK.$7[ex];if(kc===6&&ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){this.$j[6]=this.$j[6]||[];var kd=_.keys(this.$k);for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];this.$j[6].push(this.$k[kf])}this.$k=null}var kg=this.$j[kc];if(ss.isNullOrUndefined(kg)){continue}var kh=kg.length;var ki=gK.$6[kc];var kj=0;if(ki.item1===-1){kj=kh}else{var kk=ki.item2*kh;if(ki.item1<kk){var kl=0;for(var km=0;km<kg.length;km++){var kn=kg[km];if(ss.isValue(kn)){++kl}}kj=Math.floor(kk);if(kl%kj>0){kj=kj+1}}else{kj=ki.item1}}var ko=0;var kp=0;while(ko<kj&&kp<kh){var kq=kg[kp];kg[kp]=null;kp++;if(ss.isNullOrUndefined(kq)){continue}if(gK.$3(this.$9(kq))){var kr=kq.worksheet;if(ss.isValue(this.$k)&&ss.keyExists(this.$k,kr)){var ks=this.$k[kr];delete this.$k[kr];delete this.$p[ks.zoneId];e[ks.zoneId.toString()]=ks}}delete this.$p[kq.zoneId];var kt=this.$q[kq.zoneId];if(ss.isValue(kt)){delete this.$q[kq.zoneId];this.$l=this.$l||{};this.$l[kq.zoneId]=kt.get_model()}e[kq.zoneId.toString()]=kq;++ko}if(kp===kh){this.$j[kc]=null}break}return e},$a:function(e){if(ss.isNullOrUndefined(this.$o)){var ex=new tab.WindowHelper(window.self);var kc=ex.get_innerWidth();var kd=ex.get_innerHeight();var ke=ex.get_pageXOffset();var kf=ex.get_pageYOffset();this.$o={x:ke,y:kf,w:kc,h:kd}}var kg={x:e.zoneCommon.x,y:e.zoneCommon.y,w:e.zoneCommon.w,h:e.zoneCommon.h};return tab.RectXYUtil.intersectsWith(kg,this.$o)},$0:function(){var e=this.$8();if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return null}var ex=tab.MiscUtil.cloneObject(this.$n);gK.getZoneRoot(ex).zones=e;return ex},$e:function(){var e=tab.FeatureParamsLookup.getInt(39);if(ss.isValue(e)){this.$m=window.setTimeout(ss.mkdel(this,this.$b),ss.unbox(e))}else{this.$m=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){var e=this.$0();var ex=this.get_hasZonesToLoad();if(ex){this.$e()}this.$7(e,!ex);if(!ex){this.$6();this.$d()}},$7:function(e,ex){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,ex)}},$6:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$4:function(e){if(ss.isNullOrUndefined(e)){return null}var ex=gK.getZoneRoot(e);if(ss.isNullOrUndefined(ex)&&ss.isNullOrUndefined(this.$n)){return null}this.$2(e);return ex},$5:function(e){if(ss.isNullOrUndefined(e)){return null}gK.$2();this.$p={};this.$j={};this.$q={};var ex=_.keys(e);for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];var ke=e[kd];if(!ss.contains(gK.zonesThatDeferContentCreation,this.$9(ke))){continue}var kf=gK.cloneZone(ke);ke=gK.removeZoneContent(ke);var kg=this.$9(kf);if(kg==='viz'){this.$p[kd]=kf}var kh=5;if(ss.keyExists(gK.$8,kg)){kh=gK.$8[kg]}this.$j[kh]=this.$j[kh]||[];this.$j[kh].push(kf)}return e},$c:function(){if(ss.isNullOrUndefined(this.$j)||this.$i){return}this.$k=this.$k||{};for(var e=0;e<gK.$7.length;e++){var ex=gK.$7[e];if(ex===6){continue}var kc=this.$j[ex];if(ss.isNullOrUndefined(kc)||kc.length===0){continue}var kd=0;var ke=new Array(kc.length);for(var kf=0;kf<kc.length;kf++){var kg=kc[kf];if(this.$a(kg)){ke[kd]=kg;kd++}else if(this.$9(kg)==='viz'){this.$k[kg.worksheet]=kg}else{this.$j[6]=this.$j[6]||[];this.$j[6].push(kg)}}if(kd>0){ke.length=kd;this.$j[ex]=ke}else{this.$j[ex]=null}}this.$i=true},$g:function(e){if(ss.isNullOrUndefined(e)||e.length===0){return null}var ex=e.length;var kc={};var kd=new Array(ex);for(var ke=0;ke<ex;ke++){var kf=e[ke];var kg=kf.zoneCommon.y*5000+kf.zoneCommon.x;while(ss.isValue(kc[kg])){kg+=1}kc[kg]=kf;kd[ke]=kg}kd=kd.sort(function(kk,kl){return((kk>kl)?1:-1)});for(var kh=0;kh<ex;kh++){var ki=kd[kh];var kj=kc[ki];e[kh]=kj}return e},$f:function(){if(ss.isNullOrUndefined(this.$j)){return}for(var e=0;e<gK.$7.length;e++){var ex=gK.$7[e];if(ex===6){continue}var kc=this.$j[ex];this.$j[ex]=this.$g(kc)}},$3:function(e){var ex=ge.findContentDashboard();var kc=new ka(ex.zonesModel,ex,e.zoneId);kc.update(e,gi.get_noopContext());this.$q[e.zoneId]=kc;return kc},$1:function(e,ex,kc){var kd=this.$q[e.zoneId]||this.$3(e);var ke=gK.cloneZone(ex);kd.update(ke,kc);return ke},$h:function(e){$.extend(this.$r,gK.$0(e))},$9:function(e){if(ss.isNullOrUndefined(e)){return'invalid'}if(ss.isValue(e.zoneCommon)){return e.zoneCommon.zoneType}return ss.coalesce(this.$r[e.zoneId],'invalid')},$2:function(e){if(ss.isNullOrUndefined(e)){return}var ex=this.$n;var kc=e;var kd=null;this.$n=gK.$1(kc,ex);kd=this.$n;kc=kc.workbookPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.workbookPresModel);kd.workbookPresModel=gK.$1(kc,ex);if(ss.isNullOrUndefined(kc)){return}kd=kd.workbookPresModel;kc=kc.dashboardPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.dashboardPresModel);kd.dashboardPresModel=gK.$1(kc,ex);if(ss.isNullOrUndefined(kc)){return}if(e.workbookPresModel.dashboardPresModel.isStory){kd=kd.dashboardPresModel;kc=kc.zones;ex=(ss.isNullOrUndefined(ex)?null:ex.zones);var ke=null;var kf='';if(ss.isValue(kc)){var kg=kc;var kh=_.keys(kg);for(var ki=0;ki<kh.length;ki++){var kj=kh[ki];if(this.$9(kg[kj])!=='flipboard'){continue}ke=kg[kj];kf=kj;break}}if(ss.isNullOrUndefined(ke)){kd.zones=ex;return}kd.zones={};kd.zones[kf]=gG.cloneObjWithScalarsOnly(ke);kd=kd.zones[kf];kc=kc[kf].presModelHolder;ex=(ss.isNullOrUndefined(ex)?null:ex[kf].presModelHolder);kd.presModelHolder=gK.$1(kc,ex);if(ss.isNullOrUndefined(kc)){return}kd=kd.presModelHolder;kc=kc['flipboard'];ex=(ss.isNullOrUndefined(ex)?null:ex['flipboard']);kd['flipboard']=gK.$1(kc,ex);if(ss.isNullOrUndefined(kc)){return}var kk=kc.activeStoryPointId;kd=kd['flipboard'];kc=kc.storyPoints;ex=(ss.isNullOrUndefined(ex)?null:ex.storyPoints);kd.storyPoints=gK.$1(kc,ex);if(ss.isNullOrUndefined(kc)){return}kd=kd.storyPoints;kc=kc[kk.toString()];ex=(ss.isNullOrUndefined(ex)?null:ex[kk.toString()]);kd[kk.toString()]=gK.$1(kc,ex);if(ss.isNullOrUndefined(kc)){return}kd=kd[kk.toString()];kc=kc.dashboardPresModel;ex=(ss.isNullOrUndefined(ex)?null:ex.dashboardPresModel);kd.dashboardPresModel=gK.$1(kc,ex)}}});ss.initClass(gL,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quantColorLegendPresModel:function(){return this.pm},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}en.notifyFontsFromQuantitativeColorLegendPresModel(e);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}},gb);ss.initClass(gM,a,{get_filterField:function(){return this.$2},get_currentMaxVal:function(){return this.$0},get_currentMinVal:function(){return this.$1},get_targetSheets:function(){return this.$5},get_previousMaxVal:function(){return this.$3},get_previousMinVal:function(){return this.$4},valueInRange:function(e){var ex=true;if(ss.isValue(this.$1)){ex=ex&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(e,ss.unbox(this.$1))}if(ss.isValue(this.$0)){ex=ex&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(e,ss.unbox(this.$0))}return ex}});ss.initClass(gN,a,{});ss.initClass(gO,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterModel:function(){return this.$2$2},set_quickFilterModel:function(e){this.$2$2=e},get_quickFilterType:function(){return this.$2$3},set_quickFilterType:function(e){this.$2$3=e},get_quickFilterCommands:function(){return this.$2().quickFilterCommands},get_zoneHasTitle:function(){return this.parent.get_zone().get_hasTitle()},get_titleCaption:function(){return this.$2().quickFilterTitle.caption},get_titleHtml:function(){return this.$2().quickFilterTitle.html},get_titleHeight:function(){return this.$2().quickFilterTitle.h},get_itemsHeight:function(){return this.$2().lineHeight},get_itemsFontName:function(){return this.$2().textStyle.fontName.toString()},get_itemsFontSize:function(){return this.$2().textStyle.fontSize+'pt'},get_itemsTextColor:function(){return this.$2().textStyle.color},get_itemsFontWeight:function(){return this.$2().textStyle.fontWeight},get_itemsFontStyle:function(){return this.$2().textStyle.fontStyle},get_itemsTextDecoration:function(){return this.$2().textStyle.textDecoration},get_zoneBackgroundColor:function(){var e=this.parent;return e.get_zone().pm.zoneCommon.styledBox.fillColor},get_visualId:function(){var e=this.parent;return ge.getVisualId(e.get_zone().pm.sheet)},get_fieldName:function(){return this.$2().quickFilter.fn},$2:function(){return this.pm},update:function(e,ex){if(!this.isNewPresModelSameAsOld(e)){if(ss.isValue(e)){en.notifyFontsFromTextStylePresModel(e.textStyle)}this.swapAndCopyPresModel(e);if(e.quickFilter.quickFilterType!==this.get_quickFilterType()){this.set_quickFilterModel(this.$1(e.quickFilter));this.set_quickFilterType(e.quickFilter.quickFilterType)}if(ss.isValue(this.get_quickFilterModel())){this.get_quickFilterModel().update(e.quickFilter,ex)}this.raiseEvent(this.$2$1,ex)}},$1:function(e){switch(e.quickFilterType){case'categorical':{return new bz(this)}default:{return null}}}},gb);ss.initClass(gQ,a,{get_radialSelectionDistanceInfoPresModel:function(){return this.pm},get_earthRadius:function(){return this.get_radialSelectionDistanceInfoPresModel().earthRadius},get_fontSizePixels:function(){return this.get_radialSelectionDistanceInfoPresModel().fontSize},get_largeUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().largeUnitDisplay},get_latLongRect:function(){return this.get_radialSelectionDistanceInfoPresModel().mapLatLongRect},get_mapHeight:function(){return this.get_radialSelectionDistanceInfoPresModel().h},get_mapWidth:function(){return this.get_radialSelectionDistanceInfoPresModel().w},get_readoutOffsetPixels:function(){return this.get_radialSelectionDistanceInfoPresModel().readoutOffset},get_shouldShowDistance:function(){return this.get_radialSelectionDistanceInfoPresModel().shouldShowDistance},get_sigFigs:function(){return this.get_radialSelectionDistanceInfoPresModel().sigFigs},get_smallToLargeUnitDivisor:function(){return this.get_radialSelectionDistanceInfoPresModel().unitDivisor},get_smallUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().smallUnitDisplay},get_unitTransition:function(){return this.get_radialSelectionDistanceInfoPresModel().unitTransition},get_decimalMark:function(){return this.get_radialSelectionDistanceInfoPresModel().decimalMark},get_fontColor:function(){return this.get_radialSelectionDistanceInfoPresModel().distanceFontColor},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},gb);ss.initClass(gS,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_rankTypeValues:function(){return this.$1().rankTypeValues},get_rankTypeCaptions:function(){return this.$1().rankTypeCaptions},get_rankTypeIndex:function(){return this.$1().rankTypeIndex},get_rankType:function(){return this.get_rankTypeValues()[this.get_rankTypeIndex()]},get_rankTypeState:function(){return this.$1().rankTypeState},get_sortDirectionValues:function(){return this.$1().sortDirectionValues},get_sortDirectionCaptions:function(){return this.$1().sortDirectionCaptions},get_sortDirectionIndex:function(){return this.$1().sortDirectionIndex},get_sortDirection:function(){return this.get_sortDirectionValues()[this.get_sortDirectionIndex()]},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},iW);ss.initClass(gT,a,{get_columns:function(){return this.$1},get_instanceType:function(){return'relationalTable'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,ex){this.swapAndCopyPresModel(e);this.$1=ex}},dV);ss.initClass(gU,a,{},bC);ss.initClass(gV,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'replace-file-connection-from-file-upload'},this.c))}},ss.makeGenericType(W,[Object,gW]));ss.initClass(gW,a,{hasDataSourceError:function(){return ss.keyExists(this.$$c,'dataSourceCreationError')}});ss.initClass(gX,a,{get_workbookId:function(){return this.$2},get_sheetId:function(){return this.$1},get_customizedView:function(){return this.$0},get_originalViewURL:function(){return ss.formatString('{0}/{1}',this.get_workbookId(),this.get_sheetId())}});ss.initClass(gY,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'reset-field-caption'},this.c))}},ss.makeGenericType(W,[Object,gZ]));ss.initClass(gZ,a,{});ss.initClass(ha,a,{},ss.makeGenericType(jz,[Object,hb]));ss.initClass(hb,a,{});ss.initClass(hc,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'resize-axis-region'},this.c))}},ss.makeGenericType(W,[Object,hd]));ss.initClass(hd,a,{});ss.initClass(he,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'resize-cell-web'},this.c))}},ss.makeGenericType(W,[Object,hf]));ss.initClass(hf,a,{});ss.initClass(hg,a,{get_count:function(){return this.pm.count},get_fieldName:function(){return this.pm.fn},get_height:function(){return this.pm.h},get_width:function(){return this.pm.w},update:function(e){this.swapAndCopyPresModel(e)}},gb);ss.initClass(hh,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'resize-header-region'},this.c))}},ss.makeGenericType(W,[Object,hi]));ss.initClass(hi,a,{});ss.initClass(hj,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'resize-header-web'},this.c))}},ss.makeGenericType(W,[Object,hk]));ss.initClass(hk,a,{});ss.initClass(hl,a,{add_resizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_resizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_totalCols:function(){return(ss.isValue(this.pm)?this.pm.colCount:0)},get_totalRows:function(){return(ss.isValue(this.pm)?this.pm.rowCount:0)},get_sheetHeight:function(){return this.pm.h},get_sheetWidth:function(){return this.pm.w},get_columnHeaders:function(){return this.$2$2},set_columnHeaders:function(e){this.$2$2=e},get_rowHeaders:function(){return this.$2$3},set_rowHeaders:function(e){this.$2$3=e},get_areRowHeadersWidthAdjustable:function(){return ss.isValue(this.get_rowHeaders())&&this.get_rowHeaders().length!==0&&this.get_rowHeaders()[this.get_rowHeaders().length-1].get_width()!==0},get_areColHeadersHeightAdjustable:function(){return ss.isValue(this.get_columnHeaders())&&this.get_columnHeaders().length!==0&&this.get_columnHeaders()[this.get_columnHeaders().length-1].get_height()!==0},get_areCellHeightsAdjustable:function(){return this.get_areRowHeadersWidthAdjustable()&&this.pm.cellHeightResizerEnabled},get_areCellWidthsAdjustable:function(){return this.get_areColHeadersHeightAdjustable()&&this.pm.cellWidthResizerEnabled},get_totalColumnHeadersHeight:function(){var e=0;var ex=this.get_columnHeaders();for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];e+=kd.get_height()}return e},update:function(e,ex){if(ss.isNullOrUndefined(this.cellSize)){this.cellSize=new hg(this)}if(ss.isValue(e.resizeEntity)){this.cellSize.update(e.resizeEntity)}if(ss.isValue(e.rowResizers)){this.set_rowHeaders([]);for(var kc=0;kc<e.rowResizers.length;kc++){var kd=e.rowResizers[kc];var ke=new hg(this);ke.update(kd);this.get_rowHeaders().push(ke)}}if(ss.isValue(e.colResizers)){this.set_columnHeaders([]);for(var kf=0;kf<e.colResizers.length;kf++){var kg=e.colResizers[kf];var kh=new hg(this);kh.update(kg);this.get_columnHeaders().push(kh)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(hm,a,{});ss.initClass(hn,a,{});ss.initClass(ho,a,{});ss.initClass(hp,a,{get_dataStore:function(){return this.$1$1},set_dataStore:function(e){this.$1$1=e},get_vtl:function(){return this.$1$2},set_vtl:function(e){this.$1$2=e},get_dataStoreUpdater:function(){return this.$1$3},set_dataStoreUpdater:function(e){this.$1$3=e}});ss.initClass(hq,a,{});ss.initClass(hr,a,{});ss.initClass(hs,a,{});ss.initClass(ht,a,{get_sceneElementPM:function(){return this.$2$1},set_sceneElementPM:function(e){this.$2$1=e},get_paneId:function(){return this.$2$2},set_paneId:function(e){this.$2$2=e},get_index:function(){return this.get_sceneElementPM().uindex},get_paneIndex:function(){return this.get_sceneElementPM().paneIndex},get_tupleId:function(){return this.get_sceneElementPM().tupleId},get_bounds:function(){return this.$2$3},set_bounds:function(e){this.$2$3=e},get_visualPart:function(){return this.get_sceneElementPM().visualPart},get_detail:function(){return this.get_sceneElementPM().sceneModelDetailEnum},get_hitType:function(){return this.get_sceneElementPM().sceneModelHitType},get_detailId:function(){return this.get_sceneElementPM().detailId},get_cellId:function(){return this.get_sceneElementPM().cellId},get_worldOffset:function(){return this.get_sceneElementPM().worldOffset},get_markState:function(){return this.get_sceneElementPM().markState},get_hitDistance:function(){return this.get_sceneElementPM().distance},get_overlayHit:function(){return this.get_sceneElementPM().useForOverlayHitTest}},gb);ss.initClass(hu,a,{add_newSceneModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSceneModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListModels:function(){return this.$a},get_refLineVisualLists:function(){return this.$7},get_trendLineVisualLists:function(){return this.$9},get_drawFirstParts:function(){return this.$5},get_drawLastParts:function(){return this.$6},get_backgroundColor:function(){return this.$4},get_paneDescriptorCount:function(){return ss.getKeyCount(this.get_sceneRuntimeData().get_finalDataStore().PDMarks)},get_sceneRuntimeData:function(){if(ss.isNullOrUndefined(this.$8)){if(_.isNull(this.pm)||_.isNull(this.pm.runtimeFinalDatastore)){this.$8=new tab.RuntimeData('')}else{this.$8=tab.RuntimeUtil.createRuntimeData(this.pm.runtimeFinalDatastore)}}return this.$8},set_sceneRuntimeData:function(e){this.$8=e},update:function(e,ex){if(ss.isValue(e.markShapeList)){S.get_instance().get_shapeManager().updateCustomImageMap(e.markShapeList)}this.set_sceneRuntimeData(this.$2(e));this.$3();var kc=this.get_sceneRuntimeData().get_drawFirsts();ss.clear(this.$5);for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];en.notifyFontsFromVisualListPresModel(ke);var kf=ke.visualPart;if(!ss.keyExists(this.$a,kf)){this.$a[kf]=new jl(this)}if(ss.contains(this.$5,kf)){continue}this.$5.push(kf);this.$a[kf].update(ke,ex)}var kg=this.get_sceneRuntimeData().get_drawLasts();ss.clear(this.$6);for(var kh=0;kh<kg.length;kh++){var ki=kg[kh];en.notifyFontsFromVisualListPresModel(ki);var kj=ki.visualPart;if(!ss.keyExists(this.$a,kj)){this.$a[kj]=new jl(this)}this.$6.push(kj);this.$a[kj].update(ki,ex)}var kk=this.get_sceneRuntimeData().get_panes();if(ss.isValue(kk)){for(var kl=0;kl<kk.length;kl++){var km=kk[kl];for(var kn=0;kn<km.drawPane.length;kn++){var ko=km.drawPane[kn];en.notifyFontsFromVisualListPresModel(ko)}}}if(ss.isValue(this.get_sceneRuntimeData())&&ss.isValue(this.get_sceneRuntimeData().get_finalDataStore().PDMarks)){var kp=_.values(this.get_sceneRuntimeData().get_finalDataStore().PDMarks);for(var kq=0;kq<kp.length;kq++){var kr=kp[kq];if(ss.isValue(kr)){en.notifyFontsFromPDMarksPresModel(kr)}}}var ks=ss.isNullOrUndefined(e.userPaneInfo);e.currentPage=e.currentPage||0;this.swapAndCopyPresModel(e);if(ks){this.pm.userPaneInfo=null}this.$4=hu.$0(this.$a);this.$1(kk);this.raiseEvent(this.$2$1,ex)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},$1:function(e){ss.clear(this.$7);ss.clear(this.$9);if(ss.isValue(e)){for(var ex=0;ex<e.length;ex++){var kc=e[ex];if(ss.isValue(kc.drawPane)){for(var kd=0;kd<kc.drawPane.length;kd++){var ke=kc.drawPane[kd];if(ss.isValue(ke)){if(ke.visualPart==='ref-lines'){this.$7.push(ke)}else if(ke.visualPart==='trend-lines'){this.$9.push(ke)}}}}}}},$3:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.get_sceneRuntimeData())){ss.clearKeys(this.get_visualListModels());return}var e=new ss.ObjectEnumerator(this.get_visualListModels());try{while(e.moveNext()){var ex=e.current();var kc={$:ex.key};var kd=_.find(this.get_sceneRuntimeData().get_drawFirsts(),ss.mkdel({currentPart:kc},function(ke){return this.currentPart.$===ke.visualPart}));if(ss.isNullOrUndefined(kd)){kd=_.find(this.get_sceneRuntimeData().get_drawLasts(),ss.mkdel({currentPart:kc},function(ke){return this.currentPart.$===ke.visualPart}))}if(ss.isNullOrUndefined(kd)){delete this.get_visualListModels()[kc.$]}}}finally{e.dispose()}},$2:function(e){var ex=null;if(ss.isValue(e.runtimeFinalDatastore)){ex=tab.RuntimeUtil.createRuntimeData(e.runtimeFinalDatastore);if(ss.isValue(e.runtimeFinalDatastoreLocal)){tab.RuntimeUtil.getViewpoint(e.runtimeFinalDatastoreLocal).done(function(kc){ex.get_finalDataStore().Viewpoint=kc})}}return ex}},gb);ss.initClass(hv,a,{});ss.initClass(hw,a,{get_schedulePresModel:function(){return this.$9},set_schedulePresModel:function(e){this.$9=e},get_scheduleFrequencyDescription:function(){return this.$8},set_scheduleFrequencyDescription:function(e){this.$8=e},generateFrequencyDescription:function(){var e=new Date;var ex=0-e.getTimezoneOffset();var kc=0;var kd=this.$9.scheduleDetails.startTime;var ke=0;var kf='';if(tsConfig.display_schedules_in_client_timezone){kc=ex-this.$9.serverTimezoneOffset;kd=hw.$2(this.$9.scheduleDetails.startTime,kc);ke=hw.$0(this.$9.scheduleDetails.startTime,kc)}switch(this.$9.scheduleType){case'Hourly':{kf=this.$2(kd,kc);break}case'Daily':{kf=this.$0(kd);break}case'Weekly':{kf=this.$4(kd,ke);break}case'Monthly':{kf=this.$3(kd,ke);break}default:{throw new ss.Exception('Unknown schedule type: '+this.$9.scheduleType)}}if(!this.$9.parallel){kf=tab.Strings.SerialScheduleDescription(kf,tab.Strings.SerialScheduleDescriptionSuffix)}return kf},$7:function(e,ex,kc){var kd=ss.Int32.div(e,60);if(ex===0){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else if(kd===1){return tab.Strings.ScheduleEveryOneHourDescription}else{return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ss.Int32.div(e,60),hw.$1(kc))}}else if(ex===15){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(kd===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(kd,hw.$1(kc))}}else if(ex===30){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else{if(kd===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(kd,hw.$1(kc))}}else if(ex===45){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(kd===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(ex)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(kd,hw.$1(kc))}}else{throw new ss.Exception('Unsupported schedule minutes after the hour: '+ex)}},$2:function(e,ex){var kc=(this.$9.scheduleDetails.endTime+ex)%1440;if(e===kc){return this.$7(this.$9.scheduleDetails.recurrenceMinutes,e%60,e)}var kd;if(this.$9.scheduleDetails.recurrenceMinutes<60){kd=tab.Strings.Minutes(this.$9.scheduleDetails.recurrenceMinutes)}else if(this.$9.scheduleDetails.recurrenceMinutes>60){kd=tab.Strings.Hours(ss.Int32.div(this.$9.scheduleDetails.recurrenceMinutes,60))}else{kd=tab.Strings.Hour}return tab.Strings.ScheduleHourlyDescription(kd,hw.$1(e),hw.$1(kc))},$0:function(e){return tab.Strings.ScheduleDailyDescription(hw.$1(e))},$4:function(e,ex){var kc=this.$9.scheduleDetails.recurrenceDaysOfWeek;if(ex!==0){kc=this.$6(this.$9.scheduleDetails.recurrenceDaysOfWeek,ex)}var kd=this.$1(kc);return tab.Strings.ScheduleWeeklyDescription(hw.$1(e),kd)},$6:function(e,ex){var kc=[];for(var kd=0;kd<e.length;kd++){var ke=ss.indexOf(hw.$7,e[kd]);var kf=(ke+ex+hw.$7.length)%hw.$7.length;kc.push(hw.$7[kf])}return kc},$1:function(e){switch(e.length){case 1:{return hw.$6[e[0]]}case 2:{return tab.Strings.ListLengthTwo(hw.$6[e[0]],hw.$6[e[1]])}case 3:{return tab.Strings.ListLengthThree(hw.$6[e[0]],hw.$6[e[1]],hw.$6[e[2]])}case 4:{return tab.Strings.ListLengthFour(hw.$6[e[0]],hw.$6[e[1]],hw.$6[e[2]],hw.$6[e[3]])}case 5:{return tab.Strings.ListLengthFive(hw.$6[e[0]],hw.$6[e[1]],hw.$6[e[2]],hw.$6[e[3]],hw.$6[e[4]])}case 6:{return tab.Strings.ListLengthSix(hw.$6[e[0]],hw.$6[e[1]],hw.$6[e[2]],hw.$6[e[3]],hw.$6[e[4]],hw.$6[e[5]])}case 7:{return tab.Strings.ListLengthSeven(hw.$6[e[0]],hw.$6[e[1]],hw.$6[e[2]],hw.$6[e[3]],hw.$6[e[4]],hw.$6[e[5]],hw.$6[e[6]])}default:{throw new ss.Exception('Unknown list length: '+e.length)}}},$3:function(e,ex){var kc=this.$9.scheduleDetails.recurrenceDayOfMonth;if(ex!==0){kc=this.$5(this.$9.scheduleDetails.recurrenceDayOfMonth,ex)}if(kc==='Last'){return tab.Strings.ScheduleMonthlyDescriptionLast(hw.$1(e))}else if(kc==='SecondToLast'){return tab.Strings.ScheduleMonthlyDescriptionSecondToLast(hw.$1(e))}var kd=kc.charCodeAt(kc.length-1);var ke='';if(kd===49){ke=tab.Strings.FirstEnding(kc)}else if(kd===50&&kc!=='12'){ke=tab.Strings.SecondEnding(kc)}else if(kd===51&&kc!=='13'){ke=tab.Strings.ThirdEnding(kc)}else{ke=tab.Strings.NumberEnding(kc)}return tab.Strings.ScheduleMonthlyDescription(ke,hw.$1(e))},$5:function(e,ex){var kc=new Date;var kd=(new Date(kc.getFullYear(),kc.getMonth()+1,0)).getDate();if(e==='Last'){if(ex>0){return'1'}else if(ex<0){return'SecondToLast'}else{return'Last'}}if(e==='1'&&ex<0){return'Last'}var ke=parseInt(e);var kf=(ke+ex+kd)%kd;return kf.toString()}});ss.initClass(hx,a,{});ss.initClass(hy,a,{});ss.initClass(hz,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'select-by-tuple-value'},this.c))}},ss.makeGenericType(W,[Object,hA]));ss.initClass(hA,a,{});ss.initClass(hB,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabsrv',cmd:'select-dataserver-data-source-for-proxy'},this.c))}},ss.makeGenericType(W,[Object,hC]));ss.initClass(hC,a,{});ss.initClass(hD,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'select-extension-and-add-to-dashboard'},this.c))}},ss.makeGenericType(W,[Object,hE]));ss.initClass(hE,a,{});ss.initClass(hF,a,{});ss.initClass(hG,a,{add_newSelection:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelection:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_selectionPresModel:function(){if(ss.isValue(this.$5)){var e={};e.selectionType='tuples';e.objectIds=this.$5;return e}return this.$4()},get_selectionType:function(){return this.$4().selectionType},get_nodes:function(){return this.$4().selectedNodes},get_ids:function(){if(ss.isValue(this.$5)){return this.$5}return this.$4().objectIds},get_hashKey:function(){var e=this.get_selectionType().toString();if(this.get_selectionType()==='legend-items'){e+='-'+this.get_selectionPresModel().legendSelectionInfo.legendType+':'+this.get_selectionPresModel().legendSelectionInfo.legendColumns.join(';')}return e},$4:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},isObjectSelected:function(e){if(ss.isNullOrUndefined(this.$4())){return false}if(ss.isNullOrUndefined(this.get_ids())){return false}return ss.contains(this.get_ids(),e)},isLegendItemSelected:function(e){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isNullOrUndefined(this.$6)){this.$6={};if(ss.isValue(this.get_ids())){var ex=this.get_ids();for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];this.$6[kd]=true}}}return ss.keyExists(this.$6,e.objectId)},isAnyLegendItemSelected:function(){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isValue(this.get_ids())){return this.get_ids().length>0}return false},isNodeSelected:function(e){if(this.isEmpty||ss.isNullOrUndefined(e.node)){return false}return ss.isValue(this.$1(e.node))},findNodeSelection:function(e){return this.$1(e.node)},isNodeAncestorSelected:function(e){if(ss.isNullOrUndefined(e.node)||ss.isNullOrUndefined(e.node.columnIndices)){return false}var ex=e.node;var kc=ex.columnIndices;var kd=ex.aliasIndices;for(var ke=0;ke<ex.columnIndices.length;ke++){var kf=ss.arrayExtract(kc,ke);var kg=ss.arrayExtract(kd,ke);if(ss.isValue(this.$2(kf,kg,ex.axisOrientation,null,ex.duplicateIndex,ex.pageIndex))){return true}}return false},setOverriddenTupleIds:function(e,ex){if(this.$4().selectionType!=='tuples'){return}if(_.isEqual(this.$5,e)||tab.MiscUtil.isNullOrEmpty$2(this.$5)&&tab.MiscUtil.isNullOrEmpty$2(e)){return}this.$5=e;this.$3();this.raiseEvent(this.$2$1,ex)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)&&ss.isNullOrUndefined(this.$5)){return}this.$7=null;this.$6=null;this.$5=null;this.swapAndCopyPresModel(e);this.$3();this.raiseEvent(this.$2$1,ex)},isNewPresModelSameAsOld:function(e){if(ss.isNullOrUndefined(this.pm)!==ss.isNullOrUndefined(e)){return false}var ex=e;if(ex.selectionType!==this.get_selectionPresModel().selectionType){return false}if(ss.isValue(ex.objectIds)&&!_.isEqual(ex.objectIds,this.get_selectionPresModel().objectIds)){return false}if(ss.isValue(ex.selectedNodes)&&!_.isEqual(ex.selectedNodes,this.get_selectionPresModel().selectedNodes)){return false}if(ss.isValue(ex.legendSelectionInfo)&&!_.isEqual(ex.legendSelectionInfo,this.get_selectionPresModel().legendSelectionInfo)){return false}return true},$1:function(e){return this.$2(e.columnIndices,e.aliasIndices,e.axisOrientation,e.fn,e.duplicateIndex,e.pageIndex)},$2:function(e,ex,kc,kd,ke,kf){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(ex)&&ss.isNullOrUndefined(kd)&&ss.isNullOrUndefined(kc)){return null}if(ss.isNullOrUndefined(this.$7)){this.$7={};var kg=this.$4();if(ss.isValue(kg.selectedNodes)){for(var kh=0;kh<kg.selectedNodes.length;kh++){var ki=kg.selectedNodes[kh];this.$7[hG.$0(ki.columnIndices,ki.aliasIndices,ki.axisOrientation,ki.fn,ki.duplicateIndex,ki.pageIndex)]=ki}}}if(ss.getKeyCount(this.$7)===0){return null}return this.$7[hG.$0(e,ex,kc,kd,ke,kf)]},createSelectionToken:function(){return this.get_selectionPresModel()},$3:function(){this.isEmpty=tab.MiscUtil.isNullOrEmpty$2(this.get_ids())&&tab.MiscUtil.isNullOrEmpty$2(this.$4().selectedNodes)}},gb);ss.initClass(hH,a,{get_invalidateViz:function(){return this.$1$1},set_invalidateViz:function(e){this.$1$1=e},get_reason:function(){return this.$1$2},set_reason:function(e){this.$1$2=e},get_objectIds:function(){return this.$1$3},set_objectIds:function(e){this.$1$3=e}});ss.initEnum(hI,a,{none:0,noPreviousToCompare:1,differentTuples:2,differentTrendOrRefLines:3});ss.initClass(hJ,a,{add_newSelections:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelections:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isEmpty:function(){for(var e=0;e<this.selectionModels.length;e++){var ex=this.selectionModels[e];if(!ex.isEmpty){return false}}return true},get_hasPaneTableObjectSelection:function(){for(var e=0;e<this.selectionModels.length;e++){var ex=this.selectionModels[e];if(!ex.isEmpty&&ex.get_selectionType()!=='legend-items'&&ex.get_selectionType()!=='nodes'){return true}}return false},get_allLegendSelections:function(){return _.filter(this.selectionModels,function(e){return e.get_selectionType()==='legend-items'})},get_brushVizForNodeSelection:function(){if(this.nodeSelection.isEmpty){return false}var e=this.nodeSelection.get_nodes();for(var ex=0;ex<e.length;ex++){var kc=e[ex];if(hL.isCategoricalAndTupleAssociatedHeader(kc)){return true}}return false},getLegendSelection:function(e,ex){var kc=_.find(this.selectionModels,function(kd){return kd.get_selectionType()==='legend-items'&&ss.isValue(kd.get_selectionPresModel())&&kd.get_selectionPresModel().legendSelectionInfo.legendType===e&&_.isEqual(kd.get_selectionPresModel().legendSelectionInfo.legendColumns,ex)});if(ss.isNullOrUndefined(kc)){kc=this.$1('legend-items',gi.get_noopContext());kc.get_selectionPresModel().legendSelectionInfo.legendType=e;kc.get_selectionPresModel().legendSelectionInfo.legendColumns=ex}return kc},update:function(e,ex){var kc=_.compact(e);var kd=[];var ke=[];for(var kf=0;kf<kc.length;kf++){var kg=kc[kf];var kh;if(kg.selectionType==='legend-items'){kh=this.getLegendSelection(kg.legendSelectionInfo.legendType,kg.legendSelectionInfo.legendColumns)}else{kh=this.$2(kg.selectionType)}if(ss.isNullOrUndefined(kh)){kh=new hG(this,this.selectionModels.length);this.selectionModels.push(kh)}var ki=parseInt(kh.presModelKey.name);kd[ki]=kg;kh.update(kg,ex);ke.push(kh.get_hashKey())}for(var kj=0;kj<this.selectionModels.length;kj++){var kk=this.selectionModels[kj];if(ss.contains(ke,kk.get_hashKey())){continue}var kl=hJ.$1(kk.get_selectionType());if(kl.selectionType==='legend-items'){kl.legendSelectionInfo=kk.get_selectionPresModel().legendSelectionInfo}kk.update(kl,ex);var km=parseInt(kk.presModelKey.name);kd[km]=kk.get_selectionPresModel()}for(var kn=0;kn<kd.length;++kn){e[kn]=kd[kn]}var ko=new hK;ko.selections=e;if(this.isNewPresModelSameAsOld(ko)){return}this.swapAndCopyPresModel(ko);this.raiseEvent(this.$2$1,ex)},$2:function(e){return _.find(this.selectionModels,function(ex){return ex.get_selectionType()===e})},$1:function(e,ex){var kc=new hG(this,this.selectionModels.length);this.selectionModels.push(kc);var kd=hJ.$1(e);kc.update(kd,ex);return kc},createSelectionsToken:function(){return this.pm},computeSelectionsDiff:function(e,ex,kc){if(ss.isNullOrUndefined(e)){return new hH(true,1,null)}var kd=hH.noDifference();for(var ke=0;ke<e.selections.length;ke++){var kf=e.selections[ke];switch(kf.selectionType){case'ref-lines':case'trend-lines':{var kg=kf.objectIds||[];var kh=hJ.$0(kg,this.$2(kf.selectionType).get_ids());if(kh.length>0){return new hH(true,3,null)}break}case'tuples':{var ki=kf.objectIds;var kj=this.tupleSelection.get_ids();var kk=(ss.isValue(ex)?ex.objectIds:[]);var kl=(ss.isValue(kc)?kc.get_ids():[]);var km=ki.length+kk.length!==0!==(kj.length+kl.length!==0);if(km){return new hH(true,2,null)}var kn=hJ.$0(ki,kj);var ko=hJ.$0(kk,kl);var kp=[];ss.arrayAddRange(kp,kn);ss.arrayAddRange(kp,ko);kd=new hH(false,2,Array.prototype.slice.call(kp));break}default:{break}}}return kd},hasTupleSelection:function(){if(ss.isNullOrUndefined(this.pm)){return false}var e=this.pm.selections;return _.any(e,function(ex){return ex.selectionType==='tuples'&&ex.objectIds.length>0})}},gb);ss.initClass(hK,a,{});ss.initClass(hL,a,{});ss.initClass(hM,a,{});ss.initClass(hN,a,{});ss.initClass(hO,a,{});ss.initClass(hP,a,{get_completedDelegate:function(){return ss.mkdel(this,this.onComplete)},get_successDelegate:function(){return ss.mkdel(this,this.onSuccess)},get_errorDelegate:function(){return ss.mkdel(this,this.onError)},onComplete:function(e,ex){try{if(ss.isValue(this.$2)){this.$2(e,ex)}}finally{this.$0()}},onSuccess:function(e,ex,kc){try{var kd=ss.isInstanceOfType(e,Error);if(kd){this.$5.$7(e,kc,false,null)}else if(kc.status===202){var ke=kc['args'];var kf=new hQ(this.$5,ke);kf.requestStatus();kd=true}if(!kd){if(ss.isValue(this.$4)){this.$4(e,ex,kc)}}}finally{this.$0()}},onError:function(e,ex,kc){try{if(ss.isValue(this.$3)){this.$3(e,ex,kc)}else{this.$5.$7(kc,e,false,null)}}finally{this.$0()}},$0:function(){if(this.$1){this.$1=false;this.$5.decrementWait()}}});ss.initClass(hQ,a,{requestStatus:function(){var e=ss.mkdel(this,function(ke,kf,kg){this.$1(kf,kg)});var ex=ss.mkdel(this,function(ke,kf,kg){this.$0(ke,kf)});var kc=new hP(this.$8,null,e,ex,false,false);var kd={};kd.type='GET';kd.url=this.$9;kd.cache=false;jX.helper(kd,kc)},$1:function(e,ex){if(ex.status===204){this.$6=true}this.$2(e,ex)},$0:function(e,ex){if(ss.isNullOrUndefined(this.$5.complete)){this.$5.complete(e,ex)}},$2:function(e,ex){++this.$7;if(this.$7%10===0&&this.$4<4000){this.$4*=2}if(!this.$6){window.setTimeout(ss.mkdel(this,function(){this.requestStatus()}),this.$4)}else{var kc=this.$5['skipResendOriginal'];if(ss.isValue(kc)&&kc){if(ss.isValue(this.$5.complete)){this.$5.complete(ex,e)}}else{window.setTimeout(ss.mkdel(this,function(){this.$3()}),0)}}},$3:function(){if(!this.$5.async){delete this.$5['async']}jX.helper(this.$5)}});ss.initClass(hR,a,{});ss.initClass(hS,a,{});ss.initClass(hT,a,{});ss.initClass(hU,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'set-dashboard-current-layout'},this.c))}},ss.makeGenericType(W,[Object,hV]));ss.initClass(hV,a,{});ss.initClass(hW,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'set-dashboard-sizing-with-validation'},this.c))}},ss.makeGenericType(W,[Object,hX]));ss.initClass(hX,a,{});ss.initClass(hY,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'set-data-source-data-row-count'},this.c))}},ss.makeGenericType(W,[Object,hZ]));ss.initClass(hZ,a,{});ss.initClass(ia,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'set-variables-prompt-responded'},this.c))}},ss.makeGenericType(W,[Object,ib]));ss.initClass(ib,a,{});ss.initClass(ic,a,{add_shapeLoaded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_shapeLoaded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_imageKeys:function(){return _.keys(this.$2)},getImageElement:function(e){return this.$2[e].imageElement},getCachedCanvas:function(e){return this.$1[e]},generateCachedCanvas:function(e,ex){var kc=null;if(ss.isValue(ex)){kc=ex();if(ss.isValue(kc)){this.$1[e]=kc}}return kc},getCachedStampCanvas:function(e){return this.$3[e]},generateCachedStampCanvas:function(e,ex){var kc=null;if(ss.getKeyCount(this.$3)<ic.get_canvasCacheCapacity()){if(ss.isValue(ex)){kc=ex();if(ss.isValue(kc)){this.$3[e]=kc}}}return kc},updateCustomImageMap:function(e){for(var ex=0;ex<e.length;ex++){var kc=e[ex];if(ss.isValue(kc)){var kd={$:kc.shapeId};var ke=kd.$.toString();var kf=null;var kg=0;var kh={$:false};if(ss.keyExists(this.$2,ke)){kh.$=true;kf=this.$2[ke].imageElement;kg=this.$2[ke].imageSize}var ki=kc.image;var kj=ki.length;if(!kh.$||ss.isValue(kf)&&kj>kg){var kk={$:document.createElement('img')};kk.$.src='data:image/png;base64,'+ki;this.$2[ke]={imageElement:kk.$,imageSize:kj};var kl={$:null};kl.$=ss.thisFix(ss.mkdel({doesMapContainImage:kh,shapeId:kd,imgElt:kk,imageFinishedLoad:kl,$this:this},function(){if(this.doesMapContainImage.$){ss.clearKeys(this.$this.$1)}this.$this.$0(this.shapeId.$);this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)}));kk.$.addEventListener('load',kl.$,false)}}}},hasShape:function(e){return ss.keyExists(this.$2,e.toString())&&this.$2[e.toString()].imageElement.complete},$0:function(e){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}},clearShapeStampCache:function(){ss.clearKeys(this.$3)}});ss.initClass(id,a,{get_palette:function(){return this.$0},get_shapeType:function(){return this.$1},equals$1:function(e){return ss.isValue(e)&&ss.referenceEquals(this.$0,e.$0)&&this.$1===e.$1},toString:function(){if(ss.isNullOrUndefined(this.$0)){return this.get_shapeType().toString()}return':'+this.get_palette()+'/'+this.get_shapeType()}});ss.initClass(ie,a,{});ss.initClass(ig,a,{get_isDashboard:function(){return this.pm.isDashboard},get_isIncluded:function(){return this.pm.isIncluded},get_name:function(){return this.pm.name},update:function(e){this.swapAndCopyPresModel(e)}},gb);ss.initClass(ih,a,{add_sheetListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sheetListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheets:function(){return this.$2},update:function(e,ex){if(ss.isValue(e.sheetListItems)){this.$2=[];for(var kc=0;kc<e.sheetListItems.length;kc++){var kd=new ig(this.$1,kc);kd.update(e.sheetListItems[kc]);this.$2.push(kd)}}this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(ii,a,{get_visualId:function(){return ge.getVisualId(this.sheetId)},requestHSMChildren:function(e,ex,kc,kd){if(!tsConfig.allow_filter){return}var ke=function(kk,kl,km){kc(kk)};var kf=this.$0(null,ke,null,'none');var kg=new Object;kg['name']='file';kg['filename']='file';kg['contentType']='text/javascript';kg['content']=JSON.stringify(ex);var kh=ss.mkdict(['_method','PUT']);var ki=jX.getMultipartData(kg,kh);var kj={};kj.type='POST';kj.url=this.formatFilterReference(this.sheetId,e,'show_children');kj.dataType='json';kj.contentType='multipart/form-data; boundary='+ki.header;kj.data=ki.body;this.$c(kj,kf)},getFilterItems:function(e,ex,kc,kd,ke){if(!tsConfig.allow_filter){return}var kf=function(kj,kk,kl){kd(kj)};var kg=this.$0(null,kf,null,'none');var kh={};kh['fromIndex']=kc.get_from();kh['toIndex']=kc.get_to();kh['domain']=ex;var ki=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,'getfilteritems'));ki.data=kh;this.$c(ki,kg)},searchFilter:function(e,ex,kc,kd,ke,kf,kg){if(!tsConfig.allow_filter){return null}var kh=function(kn,ko,kp){var kq=kn;kf(kq)};var ki=function(kn,ko,kp){kg(kp)};var kj=this.$0(null,kh,ki,'none');var kk=(kd?'searchwithindex':'search');var kl=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,kk));var km=ss.mkdict(['query',ex,'maxRows',kc,'domain',ke]);kl.data=km;return this.$c(kl,kj)}},X);ss.initClass(ij,a,{},gb);ss.initClass(ik,a,{},gb);ss.initClass(il,a,{add_shelfChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shelfChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_paneId:function(){return(ss.isValue(this.$1().paneSpec)?this.$1().paneSpec:0)},get_shelfType:function(){return this.$1().shelfType},get_shelfSortIndicatorState:function(){return this.$1().shelfSortIndicatorState},get_pills:function(){return this.$2},get_tooltip:function(){return tableau.format.stripFormattedText(this.$1().tooltip)},get_isVisible:function(){return this.$1().showShelf},get_sortPillCanBeDragged:function(){return this.$1().sortPillCanBeDragged},$1:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,ex,kc){if(this.isNewPresModelSameAsOld(e)){return}if(e.shelfItems===null){this.$2=[]}else if(ss.isValue(e.shelfItems)){var kd=[];var ke=new ij(this);for(var kf=0;kf<e.shelfItems.length;kf++){var kg=e.shelfItems[kf];var kh=kg.fn;var ki;if(ss.isNullOrEmptyString(kh)&&e.shelfType==='encoding-shelf'){ki=new gh}else{ki=ex.findField(kh)}if(ss.isNullOrUndefined(ki)){kg.isInvalid=true}if(kg.isInvalid){var kj=new dT(new dW('',ex.findDataSourceFromGlobalFieldName(kh)));var kk={type:'column',fn:kh,description:kh,fieldIconIdx:0};kj.update(kk);ki=kj}var kl=new gy(ke,kf);kl.update(kg,ki);kd.push(kl)}this.$2=kd}this.swapAndCopyPresModel(e);this.raiseEvent$1(il).call(this,this.$2$1,this,kc)}},gb);ss.initClass(im,a,{add_newShelves:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newShelves:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shelves:function(){return this.$3},findShelf:function(e){return this.$2(this.$3,e)},update:function(e,ex,kc,kd){if(this.isNewPresModelSameAsOld(e)){return}this.swapAndCopyPresModel(e);this.$1(e,ex,kc,kd);this.raiseEvent(this.$2$1,kd)},$1:function(e,ex,kc,kd){if(ss.isValue(e)){var ke=ss.arrayClone(this.$3);for(var kf=0;kf<e.shelfList.length;kf++){var kg={$:e.shelfList[kf]};if(ss.isNullOrUndefined(kg.$.paneSpec)&&ss.isValue(kc)){kg.$.paneSpec=ss.unbox(kc)}var kh=_.find(this.$3,ss.mkdel({shelf:kg},function(kk){return kk.get_shelfType()===this.shelf.$.shelfType&&kk.get_paneId()===(this.shelf.$.paneSpec||0)}));if(ss.isValue(kh)){ss.remove(ke,kh);kh.update(kg.$,ex,kd)}else{this.$3.push(im.createShelfModel(this,kg.$,ex,kf,kd))}}for(var ki=0;ki<ke.length;ki++){var kj=ke[ki];ss.remove(this.$3,kj)}}},$2:function(e,ex){return _.find(e,function(kc){return kc.get_shelfType()===ex})}},gb);ss.initClass(io,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'show-dashboard-title'},this.c))}},ss.makeGenericType(W,[Object,ip]));ss.initClass(ip,a,{});ss.initClass(iq,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'show-edit-axis-dialog'},this.c))}},ss.makeGenericType(W,[Object,ir]));ss.initClass(ir,a,{});ss.initClass(it,a,{get_simpleCommand:function(){return this.$0['simpleCommand'.toString()]},set_simpleCommand:function(e){this.$0['simpleCommand'.toString()]=e}});ss.initClass(iu,a,{get_fontFamilies:function(){return Array.prototype.slice.call(this.$1)},toSimpleFontList:function(){return iu.$0(this.$1)},$0:function(e){this.$1=[];var ex=ss.getEnumerator(e);try{while(ex.moveNext()){var kc=ex.current();this.$1.push(new el.$ctor1(kc,[kc]))}}finally{ex.dispose()}}});iu.$ctor1.prototype=iu.$ctor2.prototype=iu.prototype;ss.initClass(iv,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.name},get_width:function(){return this.pm.w},get_height:function(){return this.pm.h},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(iw,a,{add_newSortIndicators:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSortIndicators:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sortIndicatorsPresModel:function(){return this.pm},update:function(e,ex){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,ex)}},gb);ss.initClass(ix,a,{});ss.initClass(iz,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'start-new-data-alert'},this.c))}},ss.makeGenericType(W,[Object,iA]));ss.initClass(iA,a,{});ss.initClass(iB,a,{});ss.initClass(iC,a,{add_dashboardDisposal:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardDisposal:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newStoryPoint:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newStoryPoint:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_dashboardModel:function(){return this.$4},get_isBackingSheetDashboard:function(){return this.$3().isBackingSheetDashboard},$3:function(){return this.pm},get_storyPointId:function(){return this.$3().storyPointId},get_currentSheet:function(){return this.$3().currentSheet},update:function(e,ex){if(ss.isValue(this.$3())&&(ss.isNullOrEmptyString(this.get_currentSheet())||this.get_storyPointId()!==e.storyPointId||this.$1(e))){S.get_instance().get_shapeManager().clearShapeStampCache();this.presModelKey=new gI(e.storyPointId.toString(),0);if(ss.isValue(this.$4)){this.raiseEvent(this.$2$1,ex);this.$4=null}this.$4=new cF(this);this.$2(e.dashboardPresModel,ex);this.raiseEvent(this.$2$2,ex)}else{this.$2(e.dashboardPresModel,ex)}this.swapPresModel(e)},$2:function(e,ex){if(ss.isValue(e)){this.get_dashboardModel().update(e,ex)}},$1:function(e){return ss.isNullOrEmptyString(e.currentSheet.toString())&&!ss.isNullOrEmptyString(this.get_currentSheet())}},gb);ss.initClass(iD,a,{get_currentStoryPoint:function(){return this.$1},update:function(e,ex){if(!ss.isValue(this.$1)){this.$1=new iC(this,e.storyPointId)}this.$1.update(e,ex)}},gb);ss.initClass(iE,a,{hasStoryPoint:function(e){return this.$3.has(e.toString())},getStoryPoint:function(e){var ex=this.$3.get(e.toString());return ex.$0()},addStoryPoint:function(e,ex){this.$3.add(e.toString(),new B(ex))},$0:function(e){var ex=e.get_worldUpdateCommand();var kc=e.get_applicationPresModel();var kd=e.get_sheetChanged();if(this.$2(kc,kd)){this.$1()}if(!iE.$3(kc)){return}if(!_.contains(iE.$5.value(),ex.commandName)){return}var ke=iE.$1(kc);if(ss.isNullOrUndefined(ke)){return}var kf=ke.storyPointId.toString();this.$3.add(kf,new B(ke))},$2:function(e,ex){if(iE.$2(e)){return false}if(!e.workbookPresModel.dashboardPresModel.isStory||ex){return true}return false},$1:function(){this.$3.clear();iE.$4=null},dispose:function(){this.$1();jV.get().remove_onCommandResponse(ss.mkdel(this,this.$0))}},null,[ss.IDisposable]);ss.initClass(iF,a,{add_styleUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_styleUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_styledBoxPresModel:function(){return ss.coalesce(this.pm,new Object)},get_hasFill:function(){return ss.coalesce(this.get_styledBoxPresModel().hasFill,false)},get_fillColor:function(){return ss.coalesce(this.get_styledBoxPresModel().fillColor,'rgba(0, 0, 0, 0)')},get_margin:function(){return this.$1.get_defaultValue()},get_marginTop:function(){return this.$1.get_topValue()},get_marginLeft:function(){return this.$1.get_leftValue()},get_marginBottom:function(){return this.$1.get_bottomValue()},get_marginRight:function(){return this.$1.get_rightValue()},get_marginDefinition:function(){return new fY.$ctor1(this.get_styledBoxPresModel())},get_padding:function(){return this.$2.get_defaultValue()},get_paddingTop:function(){return this.$2.get_topValue()},get_paddingLeft:function(){return this.$2.get_leftValue()},get_paddingBottom:function(){return this.$2.get_bottomValue()},get_paddingRight:function(){return this.$2.get_rightValue()},get_paddingDefinition:function(){return new gn.$ctor1(this.get_styledBoxPresModel())},get_borderStyle:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyle,'bs-none')},get_borderStyleTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleTop,this.get_borderStyle())},get_borderStyleLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleLeft,this.get_borderStyle())},get_borderStyleBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleBottom,this.get_borderStyle())},get_borderStyleRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleRight,this.get_borderStyle())},get_borderColor:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColor,'rgba(0, 0, 0, 0)')},get_borderColorTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorTop,this.get_borderColor())},get_borderColorLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorLeft,this.get_borderColor())},get_borderColorBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorBottom,this.get_borderColor())},get_borderColorRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorRight,this.get_borderColor())},get_borderWidth:function(){return ss.coalesce(this.get_styledBoxPresModel().uw,0)},get_borderWidthTop:function(){return ss.coalesce(this.get_styledBoxPresModel().uwt,this.get_borderWidth())},get_borderWidthLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().uwl,this.get_borderWidth())},get_borderWidthBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().uwb,this.get_borderWidth())},get_borderWidthRight:function(){return ss.coalesce(this.get_styledBoxPresModel().uwr,this.get_borderWidth())},get_border:function(){return new Y(this.get_borderWidth(),this.get_borderStyle(),this.get_borderColor(),0)},get_borderTop:function(){return new Y(this.get_borderWidthTop(),this.get_borderStyleTop(),this.get_borderColorTop(),1)},get_borderLeft:function(){return new Y(this.get_borderWidthLeft(),this.get_borderStyleLeft(),this.get_borderColorLeft(),2)},get_borderBottom:function(){return new Y(this.get_borderWidthBottom(),this.get_borderStyleBottom(),this.get_borderColorBottom(),4)},get_borderRight:function(){return new Y(this.get_borderWidthRight(),this.get_borderStyleRight(),this.get_borderColorRight(),3)},update:function(e,ex){if(this.isNewPresModelSameAsOld(e)){return}this.pm=e;this.$2=new gn.$ctor1(this.get_styledBoxPresModel());this.$1=new fY.$ctor1(this.get_styledBoxPresModel());this.raiseEvent(this.$2$1,ex)}},gb);ss.initClass(iG,a,{get_nestingLevel:function(){return this.$1},get_fieldName:function(){return this.$0},update:function(e){if(ss.isNullOrUndefined(e)){this.$1='primary';this.$0='';return}this.$1=e.calcNestingLevel;this.$0=e.fn}});ss.initClass(iH,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$2:function(){return this.pm},get_hasTableCalc:function(){return ss.isValue(this.pm)},get_tableCalcTypeWidgetState:function(){return this.$2().tableCalcTypeState},get_tableCalcType:function(){return(this.get_hasTableCalc()?this.get_tableCalcTypeValues()[this.get_tableCalcTypeIndex()]:'none')},get_tableCalcTypeIndex:function(){return this.$2().tableCalcTypeIndex},get_tableCalcTypeCaptions:function(){return this.$2().tableCalcTypeCaptions},get_tableCalcTypeValues:function(){return this.$2().tableCalcTypeValues},get_typeSpecificTableCalcModel:function(){return this.$4},get_tableCalcOrderingModel:function(){return this.$3},get_tableCalcIdentifier:function(){return this.$2$2},set_tableCalcIdentifier:function(e){this.$2$2=e},update:function(e,ex){var kc=e;if(this.isNewPresModelSameAsOld(kc)){return}this.swapAndCopyPresModel(kc);if(this.get_hasTableCalc()){this.get_tableCalcIdentifier().update(kc.tableCalcIdentifier);this.$3.update(kc.tableCalcOrderingPresModel,ex);this.$1(ex)}else{this.get_tableCalcIdentifier().update(null);this.$3.update(null,ex)}this.raiseEvent(this.$2$1,ex)},$1:function(e){var ex=null;var kc=null;switch(this.get_tableCalcType()){case'diff':case'pct-diff':case'pct-value':{ex=dq;kc='differenceTableCalcPresModel'.toString();break}case'pct-total':{ex=gw;kc='percentTotalTableCalcPresModel'.toString();break}case'rank':case'pct-rank':{ex=gS;kc='rankTableCalcPresModel'.toString();break}case'cumulative':{ex=cz;kc='cumulativeTableCalcPresModel'.toString();break}case'window':{ex=jI;kc='windowTableCalcPresModel'.toString();break}case'custom':{ex=cB;kc='customTableCalcPresModel'.toString();break}default:{break}}if(ss.isNullOrUndefined(ex)){this.$4=null;return}if(ss.isNullOrUndefined(this.$4)||!ss.referenceEquals(ss.getInstanceType(this.$4),ex)){this.$4=new ex(this)}this.$4.update(iH.$0(this.$2(),kc),e)}},gb);ss.initClass(iI,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_orderingTypeValues:function(){return this.get_ordering().orderingTypeValues},get_orderingTypeIndex:function(){return this.get_ordering().orderingTypeIndex},get_orderingTypeCaptions:function(){return this.get_ordering().orderingTypeCaptions},get_addressingIndexes:function(){return this.get_ordering().addressingIndices},get_addressingInvalidIndexes:function(){return this.get_ordering().addressingInvalidIndices},get_addressingCaptions:function(){return this.get_ordering().addressingCaptions},get_addressingValues:function(){return this.get_ordering().addressingValues},get_addressingState:function(){return this.get_ordering().addressingState},get_atTheLevelState:function(){return this.get_ordering().atTheLevelState},get_atTheLevelCaptions:function(){return this.get_ordering().atTheLevelCaptions},get_atTheLevelValues:function(){return this.get_ordering().atTheLevelValues},get_atTheLevelIndex:function(){return this.get_ordering().atTheLevelIndex},get_isAtTheLevelFieldInvalid:function(){return this.get_ordering().atTheLevelFieldIsInvalid},get_atTheLevelInvalidFieldCaption:function(){return this.get_ordering().atTheLevelInvalidFieldCaption},get_atTheLevelSpecialCaption:function(){return this.get_ordering().atTheLevelSpecialCaption},get_atTheLevelSpecialValue:function(){return''},get_atTheLevelValue:function(){return((this.get_atTheLevelIndex()===-1)?this.get_atTheLevelSpecialValue():this.get_atTheLevelValues()[this.get_atTheLevelIndex()])},get_restartEveryState:function(){return this.get_ordering().restartEveryState},get_restartEveryCaptions:function(){return this.get_ordering().restartEveryCaptions},get_restartEveryIndex:function(){return this.get_ordering().restartEveryIndex},get_isRestartEveryFieldInvalid:function(){return this.get_ordering().restartEveryFieldIsInvalid},get_restartEveryValues:function(){return this.get_ordering().restartEveryValues},get_restartEverySpecialCaption:function(){return this.get_ordering().restartEverySpecialCaption},get_restartEverySpecialValue:function(){return''},get_restartEveryValue:function(){return((this.get_restartEveryIndex()===-1)?this.get_restartEverySpecialValue():this.get_restartEveryValues()[this.get_restartEveryIndex()])},get_sortState:function(){return this.get_ordering().sortState},get_sortAggState:function(){return this.get_ordering().sortAggState},get_sortModeIsAuto:function(){return this.get_ordering().sortModeIsAuto},get_sortModeCaption:function(){return this.get_ordering().sortModeCaption},get_sortField:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortFieldValues[this.get_ordering().sortFieldIndex]},get_isSortFieldInvalid:function(){return this.get_ordering().sortFieldIsInvalid},get_sortFieldCaptions:function(){return this.get_ordering().sortFieldCaptions},get_sortFieldIndex:function(){return this.get_ordering().sortFieldIndex},get_sortFieldValues:function(){return this.get_ordering().sortFieldValues},get_sortAgg:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortAggValues[this.get_ordering().sortAggIndvValues]},get_sortAggCaptions:function(){return this.get_ordering().sortAggCaptions},get_sortAggIndex:function(){return this.get_ordering().sortAggIndvValues},get_sortAggValues:function(){return this.get_ordering().sortAggValues},get_sortDirectionValues:function(){return this.get_ordering().sortDirectionValues},get_sortDirectionIndex:function(){return this.get_ordering().sortDirectionIndex},get_sortDirectionCaptions:function(){return this.get_ordering().sortDirectionCaptions},get_ordering:function(){return(ss.isValue(this.pm)?this.pm:null)},get_hasOrdering:function(){return ss.isValue(this.get_ordering())},get_tableCalcIdentifier:function(){return(ss.isNullOrUndefined(this.parent)?new iG(null):this.parent.get_tableCalcIdentifier())},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(iJ,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_relativeValues:function(){return this.pm.relativeValues},get_relativeCaptions:function(){return this.pm.relativeCaptions},get_fixedValues:function(){return this.pm.fixedValues},get_fixedCaptions:function(){return this.pm.fixedCaptions},get_paramValues:function(){return this.pm.paramValues},get_paramCaptions:function(){return this.pm.paramCaptions},get_referenceOptionsSets:function(){return this.pm.referenceOptionsSets},get_selectionIndex:function(){return this.pm.referenceIndex},get_referenceWidgetState:function(){return this.pm.referenceOptionsState},get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new iG(null):e.get_tableCalcIdentifier())},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(iK,a,{});ss.initClass(iL,a,{});ss.initClass(iM,a,{add_newText:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newText:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.pm.halign},get_html:function(){return this.pm.html},get_orientation:function(){return this.pm.orientation},get_styledBox:function(){return this.pm.styledBox},get_vAlign:function(){return this.pm.valign},get_sheetName:function(){return this.pm.worksheet},update:function(e,ex){en.notifyFontsFromTextRegionPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(iN,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'toggle-ind-join-semantics'},this.c))}},ss.makeGenericType(W,[Object,iO]));ss.initClass(iO,a,{});ss.initClass(iP,a,{},ss.makeGenericType(jz,[Object,iQ]));ss.initClass(iQ,a,{});ss.initClass(iR,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_vizCommandItems:function(){var e=null;if(ss.isValue(this.pm)){var ex=bX.create(this.pm.vizCommands);e=ex.get_commandItems()}return e},get_nonVizCommandItems:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e=bX.create(this.pm.nonVizCommands);return e.get_commandItems()},get_legacyMenuItems:function(){return this.pm.legacyMenus},update:function(e,ex){if(ss.isValue(e)){this.simpleSwapToUpdate(e,this.$2$1,ex)}},isLegacyMenuItemEnabled:function(e){if(ss.isNullOrUndefined(this.get_legacyMenuItems())){return false}var ex=_.find(this.get_legacyMenuItems(),function(kc){return kc.legacyMenuName===e});return ss.isValue(ex)&&_.every(ex.legacyMenuStates,function(kc){return kc!=='grayed'})}},gb);ss.initClass(iS,a,{});ss.initClass(iT,a,{dispatch:function(e,ex){return function(kc){if(!ss.staticEquals(this.$3,null)){return $.Deferred().reject()}this.$0(e,ex).call(this,kc);var kd=$.Deferred();var ke=dh.get_instance();ke.dispatch(e,ex).call(ke,kc).done(function(kf){kd.resolve(kf)}).fail(function(){kd.reject()}).always(ss.mkdel(this,function(){this.$1(e,ex).call(this,kc)}));return kd}},deferUntilCommandsComplete:function(e){this.$3=e;if(this.$2.length===0){this.$3()}},$0:function(e,ex){return function(kc){this.$2.push(kc)}},$1:function(e,ex){return function(kc){ss.remove(this.$2,kc);if(this.$2.length===0&&!ss.staticEquals(this.$3,null)){this.$3()}}}},null,[fm]);ss.initClass(iU,a,{$0:function(){return this.$1},get_transactedChange:function(){return iU.$0(this.$2)},makeMutablePresModel:function(e,ex){var kc=e.getPresModelPath();for(var kd=0;kd<this.$2.length;kd++){var ke=this.$2[kd];if(_.isEqual(ke.$1(),kc)){return ke.$0()}}var kf=e.getMutableCopyOfPresModel();this.$2.push(new p(kc,kf));if(!ex){this.$1.push(new p(kc,e.pm))}return kf}});ss.initClass(iV,a,{beginTransaction:function(e){if(ss.isValue(this.$1)){throw new ss.Exception('Internal error: nested transaction')}this.$1=new iU(e);return this.$1},rollbackTransaction:function(){this.$1=null},endTransaction:function(){var e=ss.getEnumerator(this.$1.$0());try{while(e.moveNext()){var ex=e.current();if(!ss.keyExists(this.$0,ex.$1().get_pathAsString())){this.$0[ex.$1().get_pathAsString()]=ex}}}finally{e.dispose()}var kc=this.$1.get_transactedChange();this.$1=null;return kc},resetTransactedState:function(){ss.clearKeys(this.$0)},rollbackTransactions:function(e){if(ss.getKeyCount(this.$0)>0){S.get_instance().update(iU.$0(_.values(this.$0)),e)}}});ss.initClass(iX,a,{get_itemCount:function(){return this.$1().get_commandItems().length},get_hasItems:function(){return this.get_itemCount()>0},get_defaultItem:function(){return this.$1().get_defaultItem()},$1:function(){return bX.create(this.get_wrappedCommandItemPresModel().get_commands())}},bO,[fn]);ss.initClass(iZ,a,{});ss.initClass(ja,a,{});ss.initClass(jb,a,{addFontList:function(e){for(var ex=0;ex<e.length;ex++){var kc=e[ex];var kd=kc.get_fonts();for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];this.$0[kf]=kc.get_fontGroup()}}},toFontFamilyProvider:function(){if(ss.isNullOrUndefined(this.$0)){return new iu.$ctor2([])}var e=[];var ex={};var kc=ss.getEnumerator(Object.keys(this.$0));try{while(kc.moveNext()){var kd=kc.current();var ke=this.$0[kd];var kf=ex[ke.toLowerCase()];if(ss.isNullOrUndefined(kf)){kf=new cl(ke);e.push(kf);ex[ke.toLowerCase()]=kf}kf.addFont(kd)}}finally{kc.dispose()}e=_.sortBy(e,function(kg){return kg.get_fontGroup().toLowerCase()});return new iu.$ctor2(e)}});ss.initClass(jc,a,{invoke:function(){return this.invoke$1(bZ.newCommand({ns:'tabdoc',cmd:'update-data-alert'},this.c))}},ss.makeGenericType(W,[Object,jd]));ss.initClass(jd,a,{});ss.initClass(je,a,{});ss.initEnum(jf,a,{success:'success',urlConstructionFail:'urlConstructionFail',notEnoughInfoYet:'notEnoughInfoYet'},true);ss.initClass(jg,a,{});ss.initClass(jh,a,{update:function(e){this.pm=e}},gb);ss.initClass(ji,a,{get_viewId:function(){return this.viewid},set_viewId:function(e){if(ss.referenceEquals(this.viewid,e)){return}this.viewid=e},$k:function(e){return this.formatViewMethod(this.viewid,'region')+'?r='+e},formatRegionTileURL:function(e,ex,kc){if(e.useUrl){return this.formatTileURL(e,ex,0,0,'',kc)}return this.$k(ex)+'&'+kc},$j:function(e,ex){var kc='';if(!tab.MiscUtil.isNullOrEmpty$3(ex)){kc='&fn='+encodeURIComponent(ex)}return this.formatViewMethod(this.viewid,'region')+'?r='+e+kc},formatLegendRegionTileURL:function(e,ex,kc,kd,ke){kd=(ss.isNullOrUndefined(kd)?'':kd);if(e.useUrl){return this.formatTileURL(e,ex+kd,0,0,kc,ke)}return this.$j(ex,kc)+'&'+ke},formatTileURL:function(e,ex,kc,kd,ke,kf){if(e.useUrl){var kg=e.url;var kh;if(!tab.MiscUtil.isNullOrEmpty$3(ke)){kh='?fn='+encodeURIComponent(ke)+'&'+kf}else{kh='?='+kf}return ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(kg,'%SESSIONID%',tsConfig.sessionid),'[r]',ex),'[x]',kc.toString()),'[y]',kd.toString())+kh}var ki=this.formatViewMethod(this.viewid,'tile');return ki+'?r='+ex+'&x='+kc+'&y='+kd+'&'+kf},formatUnderlyingDataURL:function(e,ex){var kc=new ss.StringBuilder(this.formatViewMethod(this.viewid,'viewData'));kc.append('?maxrows=200');if(ss.isValue(e)){kc.append('&select_x=').append(e.x);kc.append('&select_y=').append(e.y)}if(ss.isValue(ex)){kc.append('&viz=').append(encodeURI(JSON.stringify(ex)))}return kc.toString()},formatExportCrossTabURL:function(e){if(ss.isNullOrUndefined(e)){e='utf8'}return this.formatViewMethod(this.viewid,'exportcrosstab')+'?charset='+e},executeAction:function(e,ex,kc){if(e.get_commandType()===9){this.executeCommand(e)}else{var kd=bZ.newCommand({ns:'tabdoc',cmd:'run-action'},e.command.commandParams);hN.executeServerCommand(kd,'immediately',ex,kc)}},executeCommand:function(e){if(ss.isNullOrUndefined(e)){return}switch(e.get_commandType()){case 9:{var ex={};ex.url=e.command.commandParams.url;ex.target=e.command.commandParams.target;L.launchActionUrls([ex],this.get_commonDialogProvider());break}case 7:{var kc=null;var kd=null;if(ss.isValue(e.command)&&ss.isValue(e.command.commandParams)){if(ss.keyExists(e.command.commandParams,'selectAtPoint')){var ke=JSON.parse(e.command.commandParams['selectAtPoint']);kc=tab.PointUtil.fromPresModel(ke)}if(ss.keyExists(e.command.commandParams,'visualId')){kd=e.command.commandParams['visualId']}}window.open(this.formatUnderlyingDataURL(kc,kd),this.getWindow('vud'),'scrollbars,resizable');break}case 1:case 2:case 4:case 5:case 6:case 11:case 12:case 10:case 13:{break}default:{break}}}},ii);ss.initClass(jj,a,{});ss.initClass(jl,a,{add_newVisualList:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisualList:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListPresModel:function(){return this.pm},get_groupItemNodes:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=[];var e=this.get_visualListPresModel().drawItems;for(var ex=0;ex<e.length;ex++){var kc=e[ex];if(kc.type==='draw-group'){this.$1.push(kc)}}}return this.$1},update:function(e,ex){en.notifyFontsFromVisualListPresModel(e);if(this.isNewPresModelSameAsOld(e)){return}this.$1=null;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,ex)}},gb);ss.initClass(jm,a,{add_newVisual:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisual:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newHiddenTuples:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newHiddenTuples:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newFilteredTuples:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newFilteredTuples:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_urlInfoCacheChange:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_urlInfoCacheChange:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_visualValidStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_visualValidStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_brushingFromActionChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_brushingFromActionChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_colorDictionaryChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_colorDictionaryChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_annotationHitBoxesChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_annotationHitBoxesChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},get_worksheetName:function(){return this.get_visualId().worksheet},get_visualId:function(){return this.pm.visualIdPresModel},get_containerGeometry:function(){return this.get_zone().get_zoneCommonModel().get_zoneContentRectXY()},get_tooltipMode:function(){return this.pm.tooltipMode},get_scenePresModel:function(){return this.pm.scene},get_shelves:function(){return this.$u},get_analyticsModel:function(){return this.$b},get_marksCardModel:function(){return this.$p},get_selectionsModel:function(){return this.$t},get_impliedSelectionModel:function(){return this.$m},get_brushingsModel:function(){return this.$d},get_showMeModel:function(){return this.$v},get_sceneModel:function(){return this.$s},get_labelsModel:function(){return this.$n},get_mapServerModel:function(){return this.$o},get_filters:function(){return _.values(this.$h)},get_filterModels:function(){return this.$h},get_geometryModel:function(){return this.$k},get_sortIndicatorsModel:function(){return this.$w},get_vizDataModel:function(){return this.$z},get_titleModel:function(){return this.$x},get_captionModel:function(){return this.$f},get_hiddenTuples:function(){return this.$a},get_filteredTuples:function(){return this.$9},get_isMap:function(){return this.pm.isMap},get_hasBackgroundImage:function(){return this.pm.hasBackgroundImage},get_floatingToolbarVisibility:function(){return this.pm.floatingToolbarVisibility},get_geoSearchVisibility:function(){return this.pm.geographicSearchVisibility},get_vizNavigationSetting:function(){return this.pm.vizNavigationSetting},get_defaultMapTool:function(){return this.pm.defaultMapToolEnum},get_cacheUrlInfo:function(){return this.$e},get_hasModifiedAxes:function(){return this.pm.hasModifiedAxes},get_backgroundColor:function(){return bG.fromColorCode(this.pm.bgColor)},get_paneBGColor:function(){return this.pm.paneColor},get_headerBGColor:function(){return this.pm.headerColor},get_shouldUpdate:function(){return S.get_instance().get_autoUpdate()},get_invalidSheets:function(){var e=ge.findContentDashboard();return e.get_invalidSheets()},get_isVisualValidAndUpToDate:function(){return this.$y},get_isVisualValid:function(){return this.pm.valid},get_isBrushedFromAction:function(){return this.$c},get_emptyHighlightFogAll:function(){return this.$g},get_zone:function(){var e=ss.safeCast(this.parent,jZ);return e.get_zone()},get_runtimeData:function(){return this.$q},get_runtimeReady:function(){return this.$r.state()==='resolved'},get_runtimeHandles:function(){return this.$r},setIsVisualValidAndUpToDate:function(e,ex){if(this.pm.valid&&e!==this.$y){this.$y=e;this.raiseEvent(this.$2$5,ex)}},setIsBrushedFromAction:function(e,ex){if(this.$c!==e){this.$c=e;this.raiseEvent(this.$2$6,ex)}},setEmptyHighlightFogAll:function(e,ex){if(this.$g!==e){this.$g=e;this.raiseEvent(this.$2$9,ex)}},getAnnotationList:function(){if(ss.isValue(this.pm.annotationList)){return this.pm.annotationList}return[]},vizDataContainsDuplicateCaption:function(e){if(ss.isNullOrUndefined(this.get_vizDataModel())){return false}return _.filter(this.get_vizDataModel().get_fieldCaptions(),function(ex){return ss.referenceEquals(ex,e)}).length>1},setFilteredTuples:function(e,ex){this.$i.set(e,ex);var kc=new Map;this.$i.forEach(function(ke){for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];kc.set(kg.toString(),kg)}});var kd=this.$9.size!==kc.size;if(!kd){tab.MapUtility.forEachWithInterrupt$1(String,ss.Int32).call(null,this.$9,function(ke,kf){if(!kc.has(kf)){kd=true;throw new tab.LoopBreakException}})}if(kd){this.$9=kc;if(ss.isValue(this.$2$3)){this.$2$3()}}},setHiddenTuples:function(e,ex){this.$l.set(e,ex);var kc=new Map;this.$l.forEach(function(ke){for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];kc.set(kg.toString(),kg)}});var kd=this.$a.size!==kc.size;if(!kd){tab.MapUtility.forEachWithInterrupt$1(String,ss.Int32).call(null,this.$a,function(ke,kf){if(!kc.has(kf)){kd=true;throw new tab.LoopBreakException}})}if(kd){this.$a=kc;if(ss.isValue(this.$2$2)){this.$2$2()}}},getMutableCopyOfPresModel:function(){var e=this.pm.scene;var ex=this.pm.markLabels;var kc=this.pm.vizData;delete this.pm['scene'.toString()];delete this.pm['vizData'.toString()];delete this.pm['markLabels'.toString()];var kd=gb.prototype.getMutableCopyOfPresModel.call(this);this.pm.scene=e;this.pm.vizData=kc;this.pm.markLabels=ex;return kd},reValidate:function(e){if(this.get_isVisualValidAndUpToDate()!==this.pm.valid){this.$y=this.pm.valid;this.raiseEvent(this.$2$5,e)}},update:function(e,ex){if(ss.isNullOrUndefined(this.$u)){this.$u=new im(this)}if(ss.isValue(e.shelves)){var kc=this.$2(e);this.$u.update(e.shelves,S.get_instance().get_workbook().get_dataSchema(),kc,ex)}if(ss.isValue(e.analyticsPane)){if(ss.isNullOrUndefined(this.$b)){this.$b=new Q(this)}this.$b.update(e.analyticsPane,ex)}if(ss.isValue(e.vizData)){if(ss.isNullOrUndefined(this.$z)){this.$z=new jq(this)}this.$z.update(e.vizData,ex)}if(ss.isNullOrUndefined(this.$s)){this.$s=new hu(this)}if(ss.isValue(e.scene)){if(ss.isValue(this.$l)){var kd=this.$a.size>0;this.$l=new Map;this.$a=new Map;if(kd){this.raiseEvent(this.$2$2,ex)}}if(ss.isValue(this.$i)){var ke=this.$9.size>0;this.$i=new Map;this.$9=new Map;if(ke){this.raiseEvent(this.$2$3,ex)}}this.$s.update(e.scene,ex);var kf=this.$s.pm;if(ss.isValue(kf.runtimeFinalDatastore)||ss.isValue(kf.runtimeFinalDatastoreLocal)){this.$q=this.$s.get_sceneRuntimeData()}}if(ss.isValue(e.colorDictionary)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.colorDictionary,e.colorDictionary)){this.raiseEvent(this.$2$7,ex)}}if(ss.isValue(e.vizNavigationSetting)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.vizNavigationSetting,e.vizNavigationSetting)){this.raiseEvent(this.$2$8,ex)}}if(ss.isValue(e.annotationList)&&tab.FeatureFlags.isEnabled('RichTextEditingAnnotation')){this.raiseEvent(this.$2$10,ex)}if(ss.isNullOrUndefined(this.$n)){this.$n=new hu(this)}if(ss.isValue(e.markLabels)){this.$n.update(e.markLabels,ex)}if(ss.isNullOrUndefined(this.$p)){this.$p=new fZ(this)}if(ss.isValue(e.marksCardPresModel)){this.$p.update(e.marksCardPresModel,ex)}if(ss.isValue(e.selectionList)&&e.selectionList.length>0){this.$t.update(e.selectionList,ex)}if(ss.isValue(e.brushingSelectionList)){this.$d.update(e.brushingSelectionList,ex)}this.$5(this.$t.nodeSelection.get_nodes(),ex);if(!ss.isValue(this.$v)){this.$v=new bW(this)}if(ss.isValue(e.showMeCommands)){this.$v.update(e.showMeCommands,ex)}if(ss.isNullOrUndefined(this.$o)){this.$o=new fX(this);this.get_mapServerModel().set_allowLocalPanAndZoom(this.shouldDoLocalCommand())}if(ss.isValue(e.mapServer)||!e.isMap){var kg=(e.isMap?e.mapServer:null);this.$o.update(kg,ex);this.get_mapServerModel().set_allowLocalPanAndZoom(this.shouldDoLocalCommand())}var kh=e.filtersJson||'';var ki=(ss.isNullOrEmptyString(kh)?null:JSON.parse(kh));if(this.$7(ki,kh)){this.$j=kh;if(ss.isValue(ki)){var kj={};for(var kk=0;kk<ki.length;kk++){var kl=ki[kk];var km=tableau.format.formatQualifiedName(kl.name);var kn=this.$h[km];if(ss.isNullOrUndefined(kn)){kn=ge.createFilterModel(this,kl)}kn.update(kl,ex);kj[km]=kn}this.$h=kj}}var ko=e.cacheUrlInfoJson||'';var kp=(ss.isNullOrEmptyString(ko)?null:JSON.parse(ko));if(!_.isEqual(kp,this.get_cacheUrlInfo())){this.$e=kp;this.$3(ex)}var kq=e.geometryJson||'';if(!ss.isValue(this.$k)){this.$k=new jh(this)}var kr=(ss.isNullOrEmptyString(kq)?null:JSON.parse(kq));this.$k.update(kr);if(ss.isNullOrUndefined(this.$x)){this.$x=new iM(this,'visualTitle'.toString())}if(ss.isValue(e.visualTitle)){this.$x.update(e.visualTitle,ex)}if(!ss.isValue(this.$f)){this.$f=new iM(this,'visualCaption'.toString())}if(ss.isValue(e.visualCaption)){this.$f.update(e.visualCaption,ex)}if(!ss.isValue(this.$w)){this.$w=new iw(this)}if(ss.isValue(e.sortIndicators)){this.$w.update(e.sortIndicators,ex)}this.setEmptyHighlightFogAll(e.emptyHighlightFogAll,ex);if(tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')){if(ss.isNullOrUndefined(this.resizeInfoModel)){this.resizeInfoModel=new hl(this)}if(ss.isValue(e.resizeInfo)){this.resizeInfoModel.update(e.resizeInfo,ex)}}if(!ss.referenceEquals(e,this.pm)){this.swapAndCopyPresModel(e);this.reValidate(ex);this.$8(ex)}},$8:function(e){this.raiseEvent(this.$2$1,e)},$3:function(e){if(ss.isValue(this.get_cacheUrlInfo())){this.raiseEvent(this.$2$4,e)}},$7:function(e,ex){if(ss.isNullOrUndefined(this.$j)){return true}if(ss.isValue(e)){var kc=_.find(e,function(kd){return kd.isTiled});if(ss.isValue(kc)){return true}}return!ss.referenceEquals(this.$j,ex)},hasFilterFieldData:function(e){return ss.isValue(this.get_vizDataModel())&&ss.indexOf(this.get_vizDataModel().get_filterFields(),e)!==-1},getEffectiveSelectedTuples:function(e){var ex;var kc=this.$m.get_ids();if(tab.MiscUtil.isNullOrEmpty$2(kc)){ex=e}else if(tab.MiscUtil.isNullOrEmpty$2(e)){ex=kc}else{var kd=[];ss.arrayAddRange(kd,e);ss.arrayAddRange(kd,kc);ex=Array.prototype.slice.call(kd)}return ex},$5:function(e,ex){var kc=ba.getTuplesAssociatedWithSelectedNodes(this,e);this.$m.setOverriddenTupleIds(kc,ex)},$1:function(e){this.$m.setOverriddenTupleIds([],e)},$2:function(e){if(ss.isValue(e)&&ss.isValue(e.marksCardPresModel)&&ss.isValue(e.marksCardPresModel.paneSpec)){return e.marksCardPresModel.paneSpec}return ge.findActivePaneSpecId()},shouldDoLocalCommand:function(){return S.get_instance().shouldDoLocalCommand()&&S.get_instance().get_isLocalRenderMode()&&this.get_mapServerModel().get_useFastMaps()&&ss.isValue(this.get_runtimeData().get_finalDataStore().SupportedIncrementalUpdates.SupportedClientUpdates)},requestRuntimeDataAndUpdateVM:function(){if(!this.shouldDoLocalCommand()){return}S.get_instance().setupRuntime();if(ss.isNullOrUndefined(S.get_instance().get_runtimeInitialized())){return}var e=this.$4();var ex=$.Deferred();this.$r=ex.promise();var kc=tabBootstrap.MetricsController.createContext('RTLOAD'.toString(),15,null);var kd=ss.mkdel(this,function(kf){kc.dispose();S.get_instance().get_runtimeInitialized().done([ss.mkdel(this,function(){this.$6(kf,e).done(function(kg){ex.resolve(kg)})})])});var ke=new eQ;ke.c['visualIdPresModel']=this.get_visualId();ke.invoke().then(kd,null)},updateRuntimeHandles:function(e){var ex=$.Deferred();ex.resolve(e);this.$r=ex.promise()},$4:function(){var e=null;if(this.get_runtimeReady()){this.get_runtimeHandles().done(function(ex){e=ex})}return e},$6:function(e,ex){var kc=$.Deferred();var kd=new hp(e);if(ss.isValue(kd.get_dataStoreUpdater())){tab.RuntimeWebModule.proxy.loadAndApplyDataStoreUpdaterBase64(kd.get_dataStoreUpdater(),ex.get_VM()).done(function(ke){kc.resolve(new tab.RuntimeHandles(ex.get_VM(),ex.get_initialStore(),ke))})}else{tab.RuntimeWebModule.proxy.loadBinaryDatastoreBase64(kd.get_dataStore()).done(function(ke){tab.RuntimeWebModule.proxy.buildVM(kd.get_vtl(),ke).done(function(kf){tab.RuntimeWebModule.proxy.executeVM(kf).done(function(kg){kc.resolve(new tab.RuntimeHandles(kf,ke,kg))})})})}return kc.promise()}},gb);ss.initClass(jn,a,{});ss.initClass(jo,a,{get_hasDataValues:function(){return this.$c},get_hasAliases:function(){return this.$b},get_dataType:function(){return this.$a.dataType},get_fieldName:function(){return this.$a.fn},get_fieldCaption:function(){return this.$a.fieldCaption},get_baseColumnName:function(){return this.$a.baseColumnName},get_role:function(){return this.$a.fieldRole},get_aggType:function(){return this.$a.aggregation},get_specialValuesOverride:function(){return this.$a.specialValueText},get_filterContext:function(){return this.$a.filterContext},get_vizColumnDoNotUse:function(){return this.$a},$8:function(){return this.$a.paneIndices},$9:function(){return this.$a.columnIndices},$7:function(){return tab.Logger.lazyGetLogger(jo)},isTupleIdValid:function(e){for(var ex=0;ex<this.$a.paneIndices.length;++ex){var kc=this.$a.paneIndices[ex];var kd=this.$5(e,kc);if(ss.isValue(kd)){return true}}return false},tupleIdsThatPass:function(e){var ex=[];for(var kc=0;kc<this.$a.paneIndices.length;kc++){var kd=this.$a.paneIndices[kc];var ke=this.$d[kd].vizPaneColumns[0];for(var kf=0;kf<ke.tupleIds.length;kf++){var kg=ke.tupleIds[kf];if(e(kg)){ex.push(kg)}}}return ex},$2:function(e){var ex=this.$3(e,0);var kc={};var kd=0;for(var ke=0;ke<ex.tupleIds.length;ke++){var kf=ex.tupleIds[ke];kc[kf]=kd++}this.$e[e]=kc},$5:function(e,ex){if(!ss.keyExists(this.$e,ex)){this.$2(ex)}return this.$e[ex][e]},getAliasIndex:function(e){var ex=null;if(!this.get_hasAliases()){return ex}for(var kc=0;kc<this.$a.paneIndices.length;++kc){var kd=this.$a.paneIndices[kc];var ke=this.$5(e,kd);if(ss.isValue(ke)){var kf=this.$a.columnIndices[kc];var kg=this.$3(kd,kf);ex=kg.aliasIndices[ke];break}}return ex},getDataValueIndex:function(e){var ex=null;if(this.get_hasDataValues()){for(var kc=0;kc<this.$a.paneIndices.length;++kc){var kd=this.$a.paneIndices[kc];var ke=this.$5(e,kd);if(ss.isValue(ke)){var kf=this.$a.columnIndices[kc];var kg=this.$3(kd,kf);ex=kg.valueIndices[ke];break}}}return ex},getPaneDescriptorKey:function(e){var ex=null;for(var kc=0;kc<this.$a.paneIndices.length;++kc){var kd=this.$8()[kc];var ke=this.$5(e,kd);if(ss.isValue(ke)){var kf=this.$4(kd);ex=kf.paneDescriptor.paneDescrKey;break}}return ex},$4:function(e){var ex=null;if(this.$d.length>e){ex=this.$d[e]}else{}return ex},$3:function(e,ex){var kc=null;var kd=this.$4(e);if(ss.isValue(kd)){if(kd.vizPaneColumns.length>ex){kc=kd.vizPaneColumns[ex]}else{}}return kc},$1:function(){var e=false;for(var ex=0;ex<this.$8().length;ex++){var kc=this.$8()[ex];var kd=this.$9()[ex];var ke=this.$3(kc,kd);if(ss.isValue(ke)){e=e||ss.isValue(ke.valueIndices)&&ke.valueIndices.length>0}}return e},$0:function(){var e=false;for(var ex=0;ex<this.$8().length;ex++){var kc=this.$8()[ex];var kd=this.$9()[ex];var ke=this.$3(kc,kd);if(ss.isValue(ke)){e=e||ss.isValue(ke.aliasIndices)&&ke.aliasIndices.length>0}}return e},$6:function(){}});ss.initClass(jp,a,{});ss.initClass(jq,a,{add_newVizData:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVizData:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasTupleIdColumn:function(){return ss.isValue(this.$6)},get_highlightCaptions:function(){return this.$3().highlightCaptions},get_filterFields:function(){return this.$3().filterFields},get_fieldCaptions:function(){return this.$5},get_ubertipData:function(){return this.$3().ubertipData},$3:function(){return this.pm},$1:function(){return this.$3().paneColumnsData},$2:function(){return this.$1().paneColumnsList},getVizDataFieldByIndex:function(e){if(e>=0&&e<this.$4.length){return this.$4[e]}return null},getColumnIndex:function(e){if(ss.isNullOrUndefined(this.$1())){return-1}var ex=this.$1().vizDataColumns;for(var kc=0;kc<ex.length;++kc){if(jr.isFieldCaptionOfColumn(ex[kc],e)){return kc}}for(var kd=0;kd<ex.length;++kd){if(jr.isFieldNameOfColumn(ex[kd],e)){return kd}}return-1},getVizDataField:function(e){return this.getVizDataFieldByIndex(this.getColumnIndex(e))},hasDimensionColumnNotMeasureNames:function(){if(ss.isValue(this.$1())){var e=this.$1().vizDataColumns;for(var ex=0;ex<e.length;ex++){var kc=e[ex];if(kc.fieldRole==='dimension'&&kc.localBaseColumnName!=='[:Measure Names]'){return true}}}return false},hasTupleId:function(e){var ex=false;if(this.get_hasTupleIdColumn()){this.forEachVizDataField(function(kc,kd){if(kc.isTupleIdValid(e)){ex=true;return false}return true})}return ex},forEachTupleId:function(e){for(var ex=0;ex<this.$2().length;++ex){var kc=this.$2()[ex].vizPaneColumns[0];for(var kd=0;kd<kc.tupleIds.length;kd++){var ke=kc.tupleIds[kd];var kf=!e(ke);if(kf){break}}}},forEachVizDataField:function(e){var ex=this.$4.length;for(var kc=0;kc<ex;++kc){var kd=this.$4[kc];if(ss.isNullOrUndefined(kd)){continue}var ke=!e(kd,kc);if(ke){break}}},update:function(e,ex){var kc=this.simpleSwapToUpdate(e,this.$2$1,ex);if(!kc){return}if(ss.isValue(e.ubertipData)){en.notifyFontsFromUberTipDataPresModel(e.ubertipData)}if(ss.isValue(this.$1())){this.$6=null;ss.clear(this.$4);this.$5=[];var kd=this.$1().vizDataColumns;for(var ke=0;ke<kd.length;ke++){var kf=kd[ke];if(kf.fn==='[system:visual].[tuple_id]'){this.$6=kf;this.$4.push(null);continue}this.$5.push(kf.fieldCaption);var kg=new jo(kf,this.$1().paneColumnsList);this.$4.push(kg)}}}},gb);ss.initClass(jr,a,{});ss.initClass(js,a,{});ss.initClass(jt,a,{});ss.initClass(ju,a,{get_r:function(){return this.$0['r'.toString()]},set_r:function(e){this.$0['r'.toString()]=e},get_fns:function(){return this.$0['fieldVector'.toString()]},set_fns:function(e){this.$0['fieldVector'.toString()]=e},get_x:function(){return this.$0['x'.toString()]},set_x:function(e){this.$0['x'.toString()]=e},get_y:function(){return this.$0['y'.toString()]},set_y:function(e){this.$0['y'.toString()]=e},get_w:function(){return this.$0['w'.toString()]},set_w:function(e){this.$0['w'.toString()]=e},get_h:function(){return this.$0['h'.toString()]},set_h:function(e){this.$0['h'.toString()]=e}});ss.initClass(jv,a,{get_isViewingUri:function(){return this.$l===1},get_isAuthoringUri:function(){return this.$l===2},get_isAuthorNewWorkbookUri:function(){return this.$l===3||this.$l===7},get_isInvalid:function(){return this.$l===0},get_isAdminUri:function(){return this.$l===4},get_isSharedViewUri:function(){return this.$l===5},get_isRevisionHistoryUri:function(){return this.$l===6},get_absoluteUri:function(){return this.$6()},get_uri:function(){return this.$a()},get_path:function(){return this.$9()},get_queryParams:function(){return this.$i},get_retry:function(){return this.$7(':retry')},set_retry:function(e){this.$d(':retry',e)},get_originalView:function(){return this.$7(':original_view')},set_originalView:function(e){this.$d(':original_view',e);if(e){this.$f=''}},get_showSaveAs:function(){return this.$7(':showSaveAs')},set_showSaveAs:function(e){this.$d(':showSaveAs',e)},$7:function(e){return ss.keyExists(this.$i,e)&&tab.MiscUtil.toBoolean(this.$i[e][0],false)},$d:function(e,ex){if(ex){this.$i[e]=[];this.$i[e].push('yes')}else{delete this.$i[e]}},removeQueryParam:function(e){delete this.$i[e];return this},removeAllQueryParams:function(){ss.clearKeys(this.$i);return this},clone:function(){var e=new jv;e.$l=this.$l;e.$m=this.$m;e.$k=this.$k;e.$e=this.$e;e.$i=this.$i;e.$f=this.$f;e.$g=this.$g;e.$h=this.$h;e.explicitNotGuest=this.explicitNotGuest;return e},trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar:function(){var e={};var ex=ss.getEnumerator(Object.keys(this.$i));try{while(ex.moveNext()){var kc=ex.current();var kd=decodeURIComponent(kc);if(ss.startsWithString(kd,':ff_')||ss.contains(jv.$b,kd)){e[kc]=this.$i[kc]}}}finally{ex.dispose()}this.$i=e;return this},fullPageLoad:function(e){e=e||tabBootstrap.Utility.get_locationWindow();this.setWindowLocation(null);window.setTimeout(function(){tab.WindowHelper.reload(e,false)},300)},replaceState:function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.HistoryUtil.replaceState(e,new Object,'',this.get_uri())},setWindowLocation:function(e){if(tab.MiscUtil.isNullOrEmpty$2(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.WindowHelper.setLocationHref(e,this.get_uri())},setTopWindowLocation:function(){this.setWindowLocation(window.top)},matchesCurrentWindowLocationUri:function(e){return ss.referenceEquals(this.get_uri(),jv.createForCurrentWindowLocation(e).get_uri())},matchesCurrentWindowLocationAbsoluteUri:function(){return ss.referenceEquals(this.get_absoluteUri(),jv.createForCurrentWindowLocation().get_absoluteUri())},matchesCurrentWindowLocationPath:function(e){return ss.referenceEquals(this.get_path(),jv.createForCurrentWindowLocation(e).get_path())},removeHash:function(){this.$g=''},$6:function(){var e=this.$a();var ex=this.$h;if(!ss.startsWithString(e,'/')){ex+='/'}ex+=e;return ex},$a:function(){var e=new ss.StringBuilder;e.append(this.$9());var ex=tab.MiscUtil.replaceUriQueryParameters('',this.$i);if(!tab.MiscUtil.isNullOrEmpty$3(ex)){e.append(ex)}e.append(this.$8());return e.toString()},$9:function(){var e=[];if(!tab.MiscUtil.isNullOrEmpty$3(tsConfig.site_root)&&!this.get_isAdminUri()){e.push(tsConfig.site_root)}else{e.push('')}e.push(this.$c(this.$l));if(this.$l===2){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$3(this.$e)){e.push(encodeURIComponent(this.$e))}}else if(this.$l===1){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$3(this.$f)){e.push(this.$f)}}else if(this.$l===4){e.push(this.$m);e.push(this.$k)}else if(this.$l===3||this.$l===7){e.push(this.$m)}else if(this.$l===5){e.push(tsConfig.guid)}else if(this.$l===6){e.push(this.$m);if(!tab.MiscUtil.isNullOrEmpty$3(this.$k)){e.push(this.$k)}e.push('history');e.push(this.$j)}return e.join('/')},$8:function(){if(this.explicitNotGuest){return'#guest=n'}return this.$g},$5:function(e){var ex=_.keys(jv.$d);var kc=je.getModuleFromPath(e.pathname,ex);this.$l=this.$b(kc);var kd=je.getMeatFromPath(e.pathname,ex);if(this.$l===1){this.$4(kd)}else if(this.$l===2){this.$2(kd)}else if(this.$l===3||this.$l===7){this.$1(kd)}else if(this.$l===4){this.$0(kd)}else if(this.$l===6){this.$3(kd)}this.$i=jv.$1(e);this.$g=e.hash;this.$h=tab.BrowserSupport.getOrigin(e)},$4:function(e){var ex=e.split('/');this.$m=ex[0];this.$k=ex[1];if(ex.length>2){if(ex.length===3){this.$f=ex[2]}this.$f=ex[2]+'/'+ex[3]}},$2:function(e){var ex=e.split('/');this.$m=ex[0];this.$k=ex[1];if(ex.length>2){this.$e=decodeURIComponent(ex[2])}},$0:function(e){var ex=e.split('/');this.$m=ex[0];this.$k=ex[1]},$1:function(e){this.$m=e},$3:function(e){var ex=e.split('/');this.$m=ex[0];if(ex.length>3){this.$k=decodeURIComponent(ex[1]);this.$j=decodeURIComponent(ex[3])}else{this.$j=decodeURIComponent(ex[2])}},$c:function(e){return jv.$9[e]},$b:function(e){return jv.$d[e]},updateForViewingSheet:function(e){if(!this.get_isViewingUri()&&!this.get_isAuthoringUri()&&!this.get_isAdminUri()&&!this.get_isSharedViewUri()&&!this.get_isRevisionHistoryUri()){throw new ss.Exception('Cannot call UpdateForViewingNewTab() from a VizUriModel that does not have VizUriType Viewing')}var ex=new gX(e);this.$m=ex.get_workbookId();this.$k=ex.get_sheetId();this.$e='';return this},updateForCustomizedView:function(e){if(!this.get_isViewingUri()){throw new ss.Exception('Cannot call UpdateForCustomizedView() from a VizUriModel that does not have VizUriType Viewing')}var ex=e.startViewId;if(ss.isNullOrUndefined(ex)){ex=this.$k}this.$k=ex;this.$f=ss.formatString('{0}/{1}',jv.encodeUserName(e.owner.username),e.urlId);this.$e='';this.set_originalView(false);return this}});ss.initEnum(jw,a,{invalid:0,viewing:1,authoring:2,authorNewWorkbookFromDataSource:3,admin:4,sharedView:5,revisionHistory:6,authorNewWorkbook:7});ss.initEnum(jx,a,{immediateGlassAndSpinner:0,immediateGlassDelayedSpinner:1,delayedGlassAndSpinner:2});ss.initClass(jy,a,{$6:function(e){if(this.$f&&this.$g>0){e.preventDefault();e.stopImmediatePropagation()}},isBusy:function(){return this.$g>0},addref:function(e,ex){this.$g+=1;if(this.$g===1&&!this.$f&&!this.$e){var kc=(e?1:2);this.$a(kc,ex)}},addrefAndShowFullWaitHandlerNow:function(){this.$g+=1;this.$a(0,true)},showAndLock:function(){if(!this.$f){this.$a(0,true)}this.$5()},$5:function(){this.$e=true},unlock:function(){this.$e=false},release:function(){this.$g-=1;if(this.$g<0){this.$g=0}this.nudge()},nudge:function(){if(this.$g>0||this.$e){return}this.$4()},reset:function(){this.$0();this.$i.hide().css('opacity','0');if(this.$c.length===0){return}var e=ss.mkdel(this,function(ex){ex.css('cursor','default').hide();var kc=$('.facadedom');if(kc.length>0){kc.remove()}});jy.loadingElementFadeOut(this.$c,300,e)},onNextHide:function(e){this.$h=e},$0:function(){this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$d=tab.MiscUtil.clearTimeout(this.$d);this.$j=tab.MiscUtil.clearTimeout(this.$j)},$4:function(){if(ss.isValue(this.$h)){this.$h();this.$h=null;this.$0()}else{this.reset()}this.$f=false},$a:function(e,ex){this.$0();this.$8(e,ex);this.$f=true},$8:function(e,ex){switch(e){case 0:{this.$7(0);if(ex){this.$2();this.$9()}break}case 1:{this.$7(0);if(ex){this.$2();this.$3()}break}case 2:{this.$1();if(ex){this.$2();this.$3()}break}}},$1:function(){this.$b=window.setTimeout(ss.mkdel(this,function(){this.$7(0)}),400)},$2:function(){this.$d=window.setTimeout(ss.mkdel(this,function(){this.$7(0.419999986886978)}),this.glassOpacityChangeDelay)},$7:function(e){if(this.$c.css('display')!=='none'&&ss.referenceEquals(this.$c.css('opacity'),e.toString())){return}this.$c.css('cursor','wait');jy.$0(this.$c,500,e)},$3:function(){this.$j=window.setTimeout(ss.mkdel(this,this.$9),this.spinnerShowDelay)},$9:function(){jy.$0(this.$i,250,1)}});ss.initClass(jA,a,{get_isChecked:function(){return(ss.isValue(this.$1)?this.$1.get_isChecked():bP.prototype.get_isChecked.call(this))},get_isDefault:function(){return(ss.isValue(this.$1)?this.$1.get_isDefault():bP.prototype.get_isDefault.call(this))},get_enabled:function(){return(ss.isValue(this.$1)?this.$1.get_isEnabled():bP.prototype.get_enabled.call(this))},get_isRadioOn:function(){return(ss.isValue(this.$1)?this.$1.get_isRadioOn():bP.prototype.get_isRadioOn.call(this))},get_isVisible:function(){return(ss.isValue(this.$1)?this.$1.get_isVisible():bP.prototype.get_isVisible.call(this))}},bP);jA.$ctor1.prototype=jA.prototype;ss.initClass(jB,a,{});ss.initClass(jC,a,{},ss.makeGenericType(jz,[Object,jD]));ss.initClass(jD,a,{});ss.initClass(jE,a,{get_fontFamilies:function(){return Array.prototype.slice.call(this.$1)},$0:function(e){var ex=e.get_fontFamilies();for(var kc=0;kc<ex.length;kc++){var kd=ex[kc];var ke=[];var kf=kd.get_fonts();for(var kg=0;kg<kf.length;kg++){var kh=kf[kg];if(jE.get_supportedFonts()[kh]){ke.push(kh)}}if(ke.length>0){this.$1.push(new el.$ctor1(kd.get_fontGroup(),Array.prototype.slice.call(ke)))}}},toSimpleFontList:function(){return iu.$0(this.$1)}});ss.initClass(jF,a,{},ss.makeGenericType(jz,[Object,jG]));ss.initClass(jG,a,{});ss.initClass(jH,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},get_url:function(){return this.$1.pm.url},update:function(e,ex){this.simpleSwapToUpdate(e,this.$2$1,ex)}},gb);ss.initClass(jI,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$2:function(){return this.pm},$1:function(){return this.$2().aggregationIndex},get_aggregationValues:function(){return this.$2().aggregationValues},get_aggregationCaptions:function(){return this.$2().aggregationCaptions},get_aggregation:function(){return this.get_aggregationValues()[this.$1()]},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},get_numberOfPrevValues:function(){return this.$2().numberOfPrevValues},get_numberOfNextValues:function(){return this.$2().numberOfNextValues},get_minPrevOrNextValues:function(){return this.$2().minPrevOrNextValues},get_maxPrevOrNextValues:function(){return this.$2().maxPrevOrNextValues},get_summaryCaption:function(){return this.$2().summaryCaption},get_includeCurrentValue:function(){return this.$2().includeCurrent},get_nullIfIncomplete:function(){return this.$2().nullIfIncomplete},update:function(e,ex){this.simpleSwapToUpdate(e,this.$3$1,ex)}},iW);ss.initClass(jJ,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dashboardDeleted:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dashboardDeleted:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sheetsChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sheetsChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_uiModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_uiModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_newDataSchemaModel:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_newDataSchemaModel:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_sheetTypeChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_sheetTypeChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},get_sheetType:function(){return ss.coalesce(jJ.$1(this.pm),'worksheet')},get_dataSchema:function(){return this.$7},get_commands:function(){return this.$4},get_uiMode:function(){return(ss.isNullOrUndefined(this.pm)?'document':this.pm.uiMode)},$3:function(){return this.$6},get_isCurrentSheetStoryboard:function(){return ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&this.$6.pm.isStory},get_isCurrentSheetDashboard:function(){return ss.isValue(this.$6)&&this.$6.get_isDashboard()},get_currentSheetStoryPointId:function(){if(this.get_isCurrentSheetStoryboard()){var e=this.get_storyboard().get_flipboard();if(ss.isValue(e)){return e.get_currentStoryPointId()}}return 0},get_storyboard:function(){var e=this.findContentDashboard();if(ss.isValue(e)&&ss.referenceEquals(e.get_sheetName(),this.$6.get_sheetName())){return null}return this.$6},get_hasPublishedSheets:function(){return this.get_sheetsInfo().some(function(e){return e.isPublished})},get_sheetsInfo:function(){return this.$8},get_isWorkbookIncomplete:function(){return this.get_removedDataSourceCount()>0||this.get_removedSheetCount()>0},get_isWorkbookModifiedAuthoring:function(){return ss.isValue(this.pm)&&this.pm.workbookModified},get_isCurrentDashboardModified:function(){return ss.isValue(this.$3())&&ss.isValue(this.$3().pm)&&ss.isValue(this.$3().pm.modifiedSheets)&&this.$3().pm.modifiedSheets.length>0},get_removedDataSourceCount:function(){return this.pm.removedDatasourceCount||0},get_removedSheetCount:function(){return this.pm.removedSheetCount||0},get_outerDashboardRepositoryUrl:function(){return((ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&ss.isValue(this.$6.pm.sheetLayoutInfo))?this.$6.pm.sheetLayoutInfo.repositoryUrl:null)},get_outerDashboardSize:function(){if(ss.isNullOrUndefined(this.$6)){return null}var e=this.$6.get_dashboardSize();return{w:e.w,h:e.h}},get_connectionPromptModel:function(){return this.$5},get_formatPaneModel:function(){return this.$2$10},set_formatPaneModel:function(e){this.$2$10=e},handleWorldReset:function(){this.$6=null;this.$7=null},withOuterDashboard:function(e){if(ss.isValue(this.$3())){e(this.$3());return}var ex=null;ex=ss.mkdel(this,function(kc){e(kc);this.remove_newDashboard(ex)});this.add_newDashboard(ex)},withDashboard:function(e){var ex=this.findContentDashboard();if(ss.isValue(ex)){e(ex);return}var kc=null;kc=ss.mkdel(this,function(kd){e(kd);this.remove_newDashboard(kc)});this.add_newDashboard(kc)},$2:function(e){return jJ.$0(e)&&ss.isValue(jJ.$1(this.pm))&&this.get_sheetType()!==e.dashboardPresModel.sheetLayoutInfo.sheetType},addNewDashboardHandler:function(e){this.add_newDashboard(e);if(ss.isValue(this.$6)){e(this.$6)}},removeDashboardHandler:function(e){this.remove_newDashboard(e)},findContentDashboard:function(){if(ss.isNullOrUndefined(this.$6)){return null}return this.$6.get_contentDashboard()},$1:function(e){return ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)&&!ss.referenceEquals(e.dashboardPresModel.sheetLayoutInfo.sheetName,tsConfig.current_sheet_name)},get_hasPrompt:function(){return ss.isValue(this.$5)&&!ss.isNullOrEmptyString(this.$5.get_connectionName())},update:function(e,ex){if(ss.isValue(e.variablePromptDialog)){this.$5=new cU(this);this.get_connectionPromptModel().update(e.variablePromptDialog);if(!ss.isNullOrEmptyString(this.$5.get_connectionName())){this.raiseEvent$1(cU).call(this,this.$2$6,this.get_connectionPromptModel(),ex)}else{this.raiseEvent(this.$2$7,ex)}}if(ss.isValue(e.workbookModified)&&(ss.isNullOrUndefined(this.pm)||this.get_isWorkbookModifiedAuthoring()!==e.workbookModified)){this.raiseEvent(function(){jJ.fireWorkbookModifiedChanged(e.workbookModified)},ex)}if(this.$2(e)){this.raiseEvent$1(Object).call(this,this.$2$9,e.dashboardPresModel.sheetLayoutInfo.sheetType,ex)}var kc=false;if(this.$1(e)){this.handleWorldReset();kc=true}if(!ss.isValue(this.$7)){this.$7=new dc(this);this.raiseEvent$1(dc).call(this,this.$2$8,this.$7,ex)}if(ss.isValue(e.dataSchema)){this.$7.update(e.dataSchema,ex)}if(typeof(e.dashboardPresModel)==='undefined'){}else if(e.dashboardPresModel===null){var kd=this.$6;this.$6=null;this.raiseEvent$1(cF).call(this,this.$2$3,kd,ex)}else{if(!ss.isValue(this.$6)){this.$6=new cF(this);this.raiseEvent$1(cF).call(this,this.$2$2,this.$6,ex)}this.$6.update(e.dashboardPresModel,ex)}if(ss.isValue(e.commands)){this.$4.update(e.commands,ex)}if(ss.isValue(e.sheetsInfo)&&!_.isEqual(e.sheetsInfo,this.$8)){this.$8=e.sheetsInfo;kc=true}if(kc){this.raiseEvent$1(jJ).call(this,this.$2$4,this,ex)}e.uiMode=e.uiMode||'document';if(ss.isNullOrUndefined(this.pm)||this.pm.uiMode!==e.uiMode){this.raiseEvent(this.$2$5,ex)}if(ss.isValue(e.formatPane)){this.get_formatPaneModel().update(e.formatPane,ex)}this.swapAndCopyPresModel(e)}},gb);ss.initClass(jK,a,{get_jobInProgress:function(){return this.$1$1},set_jobInProgress:function(e){this.$1$1=e},get_jobId:function(){return this.$1$2},set_jobId:function(e){this.$1$2=e}});ss.initEnum(jL,a,{enabled:'enabled',invalidpermissions:'invalidpermissions',servicedown:'servicedown',featureflagoff:'featureflagoff'},true);ss.initClass(jM,a,{get_id:function(){return this.$1.id},get_title:function(){return this.$1.title},get_deviceType:function(){return this.$1.deviceType},get_owner:function(){return this.$0},get_recipientsCount:function(){return this.$1.recipientsCount},get_notificationIntervalInMinutes:function(){return this.$1.notificationIntervalInMinutes},get_isCurrentUserSubscribed:function(){return this.$1.isCurrentUserSubscribed}});ss.initClass(jN,a,{get_certificationDetails:function(){return this.$1.certificationDetails},get_name:function(){return this.$1.name},get_description:function(){return this.$1.description},get_id:function(){return this.$1.id},get_connectionTypeDisplayName:function(){return this.$1.connectionTypeDisplayName},get_repositoryUrl:function(){return this.$1.repositoryUrl},get_connectedWorkbooksCount:function(){return this.$1.connectedWorkbooksCount},get_dataConnectionsCount:function(){return this.$1.dataConnectionsCount},get_ownerId:function(){return this.$1.ownerId},get_owner:function(){return this.$0},get_projectId:function(){return this.$1.projectId},get_project:function(){return this.$2},get_usageInfo:function(){return this.$1.usageInfo},get_connectionDetails:function(){return this.$1.connectionDetails},get_lastRefreshedAt:function(){return this.$1.lastRefreshedAt},get_lastRefreshedDescription:function(){if(tab.MiscUtil.isNullOrEmpty$3(this.$1.lastRefreshedAt)){return tab.Strings.ServerDataSourceLive}var e=tableau.format.formatToJSCompliantFormat(this.$1.lastRefreshedAt,tableau.format.get_isO8601DateTimeFormat(),2,tableau.format.get_baseTimestamp());var ex={};ex.format=S.get_instance().get_localeDateFormat();ex.locale=tsConfig.locale;ex.timeFormat=S.get_instance().get_localeTimeFormat();ex.locale_formatting_strings=tableau.format.get_defaultLocaleStrings();return tableau.format.formatJsDateTime(new Date(e),ex,2,'t')},get_connectsToDescription:function(){if(ss.isNullOrUndefined(this.get_connectionDetails())){return''}var e;if(this.get_connectionDetails().type==='database'||this.get_connectionDetails().type==='webdata-direct'){e=this.get_connectionDetails().serverName}else if(this.get_connectionDetails().type==='file'){e=jN.$0(this.get_connectionDetails().fileName)}else{e=this.get_connectionDetails().name}if(this.get_dataConnectionsCount()>1){return tab.Strings.ServerDataSourceConnectsToSeveral(e,this.get_dataConnectionsCount()-1)}else{return e}}});ss.initClass(jO,a,{});ss.initEnum(jP,a,{none:0,userInvalidEmailAddress:10011,ddaDatasourceError:210006});ss.initClass(jQ,a,{isGenericAuthSupported:function(e){var ex=_.find(this.$0,function(kc){return ss.referenceEquals(kc.type,e)});return ss.isValue(ex)&&ex.supportsGenericAuth},getDisplayName:function(e,ex){var kc=_.find(this.$0,function(ke){return ss.referenceEquals(ke.type,e)});if(ss.isValue(kc)){var kd=(ss.keyExists(kc.displayNames,ex)?ex:'en_US');return kc.displayNames[kd]}else{return e}}});ss.initClass(jR,a,{});ss.initClass(jS,a,{get_templates:function(){return this.$0}});ss.initClass(jT,a,{});ss.initClass(jU,a,{checkpointAppPresModel:function(){this.$1=S.get_instance().pm;this.currentWorldDiffersFromCheckpoint=false},revertLocalChanges:function(){if(this.currentWorldDiffersFromCheckpoint){gb.nonWorldUpdate(ss.mkdel(this,function(e){e.dialogProvider=this.$0;S.get_instance().update(this.$1,e)}));this.currentWorldDiffersFromCheckpoint=false}},markCurrentWorldAsDirty:function(){this.currentWorldDiffersFromCheckpoint=true},worldCheckpoint:function(){var e=tab.MiscUtil.cloneObject(this.$1);return e}});ss.initClass(jV,a,{add_onBootstrapResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onBootstrapResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onCommandResponse:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onCommandResponse:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},raiseOnProgressiveLoadComplete:function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}},raiseOnBootstrapResponse:function(e){var ex=this.$1$1;if(!ss.staticEquals(ex,null)){ex(e)}},raiseOnCommandResponse:function(e){var ex=this.$1$2;if(!ss.staticEquals(ex,null)){ex(e)}}});ss.initClass(jW,a,{});ss.initClass(jX,a,{request:function(e){var ex='X-Tsi-Supports-Accepted';e.headers=e.headers||{};if(ss.keyExists(e.headers,ex)&&e.headers[ex]===false){delete e.headers[ex]}else{e.headers[ex]=true}if(ss.isValue(jX.$0)&&jX.$0.length>0){e.headers['X-Tsi-Active-Tab']=encodeURIComponent(jX.$0)}if(ss.isValue(e.complete)){var kc=e.complete;e.complete=function(kh,ki){kh['args']=e;kc(kh,ki)}}if(ss.isValue(e.success)){var kd=e.success;e.success=function(kh,ki,kj){kj['args']=e;kd(kh,ki,kj)}}if(ss.isValue(e.error)){var ke=e.error;e.error=function(kh,ki,kj){kh['args']=e;ke(kh,ki,kj)}}if(ss.isValue(e.beforeSend)){var kf=e.beforeSend;e.beforeSend=function(kh){kh['args']=e;kf(kh)}}var kg=e;return $.ajax(kg)}});ss.initClass(jY,a,{add_resizeZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_resizeZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_changeZoneFloatingState:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_changeZoneFloatingState:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_zoneDescription:function(){return this.get_zoneCommonPresModel().name},get_zoneCommonPresModel:function(){return ss.coalesce(this.pm,new Object)},get_zoneId:function(){return this.get_zoneCommonPresModel().zoneId},get_parentZoneId:function(){return this.get_zoneCommonPresModel().parentZoneId},get_zoneType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneType,'invalid')},get_objectType:function(){return ss.coalesce(this.get_zoneCommonPresModel().dashboardObjectType,'invalid')},get_zoneLayoutType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneLayoutType,'trivial')},get_contentX:function(){return this.get_zoneCommonPresModel().contentX},get_contentY:function(){return this.get_zoneCommonPresModel().contentY},get_contentHeight:function(){return this.get_zoneCommonPresModel().contentH-2*this.get_contentBorderWidth()},get_contentWidth:function(){return this.get_zoneCommonPresModel().contentW-2*this.get_contentBorderWidth()},get_height:function(){return this.get_zoneCommonPresModel().h},get_width:function(){return this.get_zoneCommonPresModel().w},get_x:function(){var e=this.$2;if(ss.isNullOrUndefined(e)){e=this.get_zoneCommonPresModel().x}return e},get_y:function(){var e=this.$3;if(ss.isNullOrUndefined(e)){e=this.get_zoneCommonPresModel().y}return e},get_zoneContentRectXY:function(){return{x:this.get_contentX(),y:this.get_contentY(),w:this.get_contentWidth(),h:this.get_contentHeight()}},get_isFloating:function(){return this.get_zoneCommonPresModel().isFloating},get_hasTitle:function(){return this.get_zoneCommonPresModel().hasTitle},get_canHaveTitle:function(){return this.get_zoneCommonPresModel().canHaveTitle},get_canFloat:function(){return this.get_zoneCommonPresModel().canFloat},get_isHorizontal:function(){return this.get_zoneCommonPresModel().isHorizontal},get_hasBorder:function(){return ge.hasBorder(this.get_zoneStyle())},get_contentBorderWidth:function(){if(ge.hasBorder(this.get_contentStyle())){return this.get_contentStyle().get_borderWidth()}return 0},get_zoneStyle:function(){return this.$4},get_contentStyle:function(){return this.$1},update:function(e,ex){this.resetLocalPosition(ex);if(ss.isValue(e)){e.parentZoneId=e.parentZoneId||0;e.isFloating=e.isFloating||false;e.isHorizontal=e.isHorizontal||false;e.canHaveTitle=ss.coalesce(e.canHaveTitle,true);e.canFloat=ss.coalesce(e.canFloat,true);e.contentW=e.contentW||e.w;e.contentH=e.contentH||e.h;e.contentX=e.contentX||e.x;e.contentY=e.contentY||e.y;if(!this.isNewZoneSizeSameAsOld(e)){this.raiseEvent(this.$2$1,ex)}if(ss.isValue(e.styledBox)){this.$4.update(e.styledBox,ex)}if(ss.isValue(e.globalStyledBox)){this.$1.update(e.globalStyledBox,ex)}}if(ss.isValue(this.get_zoneCommonPresModel())&&this.get_zoneCommonPresModel().hasTitle!==e.hasTitle){this.raiseEvent(this.$2$2,ex)}if(ss.isValue(this.get_zoneCommonPresModel())&&(this.get_zoneCommonPresModel().isFloating!==e.isFloating||this.get_zoneCommonPresModel().canFloat!==e.canFloat)){this.raiseEvent(this.$2$3,ex)}this.swapAndCopyPresModel(e)},updateSingleZoneLocalPosition:function(e,ex){if(ss.referenceEquals(this.$2,e)&&ss.referenceEquals(this.$3,ex)){return}this.$2=e;this.$3=ex;gb.nonWorldUpdate(ss.mkdel(this,function(kc){this.raiseEvent(this.$2$1,kc)}))},resetLocalPosition:function(e){if(ss.isNullOrUndefined(this.$3)&&ss.isNullOrUndefined(this.$2)){return}this.$3=null;this.$2=null;this.raiseEvent(this.$2$1,e)},isNewZoneSizeSameAsOld:function(e){if(!ss.isValue(e)){return true}if(ss.isValue(this.pm)){return ss.coalesce(e.contentH,e.h)===this.get_contentHeight()&&ss.coalesce(e.contentW,e.w)===this.get_contentWidth()&&ss.coalesce(e.contentX,e.x)===this.get_contentX()&&ss.coalesce(e.contentY,e.y)===this.get_contentY()&&e.h===this.get_height()&&e.w===this.get_width()&&e.x===this.get_x()&&e.y===this.get_y()}return false}},gb);ss.initClass(jZ,a,{get_zone:function(){return ss.safeCast(this.parent,ka)}},gb);ss.initClass(ka,a,{add_newZoneContent:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZoneContent:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removeZoneContent:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removeZoneContent:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_updateZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_updateZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_childrenAdded:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_childrenAdded:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$9},get_dashboardModel:function(){return this.$7},get_zoneCommonModel:function(){return this.$8},get_visualModel:function(){if(this.$8.get_zoneType()==='viz'){return this.$9}return null},get_worksheetName:function(){return this.pm.worksheet},get_zoneDescription:function(){return this.get_zoneCommonModel().get_zoneDescription()},get_zoneId:function(){return this.pm.zoneId},get_parentZoneId:function(){return this.get_zoneCommonModel().get_parentZoneId()},get_zoneType:function(){return this.get_zoneCommonModel().get_zoneType()},get_objectType:function(){return this.get_zoneCommonModel().get_objectType()},get_isStorySpecific:function(){return!ss.isNullOrUndefined(this.pm.storyPointId)&&!ss.isNullOrUndefined(this.pm.flipboardZoneId)&&this.pm.storyPointId!==0&&this.pm.flipboardZoneId!==0},get_contentHeight:function(){return this.get_zoneCommonModel().get_contentHeight()},get_contentWidth:function(){return this.get_zoneCommonModel().get_contentWidth()},get_contentX:function(){return this.get_zoneCommonModel().get_contentX()},get_contentY:function(){return this.get_zoneCommonModel().get_contentY()},get_zoneContentBounds:function(){return{l:0,t:0,w:this.get_contentWidth(),h:this.get_contentHeight()}},get_height:function(){return this.get_zoneCommonModel().get_height()},get_width:function(){return this.get_zoneCommonModel().get_width()},get_x:function(){return this.get_zoneCommonModel().get_x()},get_y:function(){return this.get_zoneCommonModel().get_y()},get_isFloating:function(){return this.get_zoneCommonModel().get_isFloating()},get_hasTitle:function(){return this.get_zoneCommonModel().get_hasTitle()},get_canHaveTitle:function(){return this.get_zoneCommonModel().get_canHaveTitle()},get_canFloat:function(){return this.get_zoneCommonModel().get_canFloat()},get_isHorizontal:function(){return this.get_zoneCommonModel().get_isHorizontal()},get_hasBorder:function(){return this.get_zoneCommonModel().get_hasBorder()},get_styledBoxModel:function(){return this.get_zoneCommonModel().get_zoneStyle()},get_contentType:function(){return ka.$2(this.pm)},get_titleHeight:function(){return this.pm.titleHeight},get_titleWidth:function(){return this.pm.titleWidth},get_hasSpace:function(){return this.pm.hasSpace},get_isSelectionDisabled:function(){return this.pm.isSelectionDisabled},get_isVisible:function(){return this.pm.isVisible},get_contextMenuCommands:function(){if(this.$8.get_zoneType()==='filter'){var e=this.get_model();return e.get_quickFilterCommands()}return{}},get_chromeCommands:function(){return this.$2},get_backgroundColor:function(){if(ss.isValue(this.pm.bgColor)){this.$6=this.$6||bG.convertColorForCanvas(this.pm.bgColor);return this.$6}return null},get_relativeZoneZIndex:function(){return this.pm.zoneZOrder+1},get_associatedSheet:function(){return this.pm.sheet},get_isDependentOnViz:function(){switch(this.$8.get_zoneType()){case'viz':case'color':case'shape':case'size':case'map':{return true}}return false},get_hasContent:function(){if(ss.isNullOrUndefined(this.pm)){return false}return ss.isNullOrUndefined(this.pm.presModelHolder)||Object.keys(this.pm.presModelHolder).length>0},raiseRemoveZoneContent:function(e){this.raiseEvent(this.$2$2,e)},raiseChildrenAdded:function(e){this.raiseEvent(this.$2$4,e)},update:function(e,ex){if(ss.isValue(e)){{e.sheet=e.sheet||'';e.titleWidth=e.titleWidth||0;e.titleHeight=e.titleHeight||0;e.isSelectionDisabled=e.isSelectionDisabled||false;e.hasSpace=e.hasSpace||false}var kc=!this.get_zoneCommonModel().isNewZoneSizeSameAsOld(e.zoneCommon);if(ss.isValue(e.zoneCommon)){this.$8.update(e.zoneCommon,ex)}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.bgColor,e.bgColor)){this.$6=null}if(ss.isValue(e.zoneChromeCommands)){this.$2.update(e.zoneChromeCommands,ex)}if(ss.isValue(e.presModelHolder)){if(!ss.isValue(this.$5)){this.$5=new jZ(this)}var kd=ka.$2(e);if(ss.isValue(this.pm)&&!ss.referenceEquals(this.get_contentType(),kd)){this.$9=null}var ke=false;if(ss.isNullOrUndefined(this.$9)&&this.get_zoneCommonModel().get_zoneType()!=='filter'){var kf=ge.getPendingZoneContentModel(this.$8.get_zoneId());if(ss.isValue(kf)){ke=true;this.$9=kf;this.$9.reparent(this.$5);this.raiseNewZoneContent(this.$9,ex)}}if(!ke){this.$1(kd,e,kc,ex)}}else if(ss.isValue(this.pm)&&ss.isValue(this.$9)&&!ss.referenceEquals(e.frameJson,this.pm.frameJson)){var kg=ka.$1(e.frameJson);var kh=e.zoneCommon;var ki=ss.isValue(kh)&&kh.zoneType==='filter'||ss.keyExists(kg.attributes,'type')&&ss.referenceEquals(kg.attributes['type'].toString(),'filter'.toString());if(this.$4&&ki){var kj=this.$9;kj.update(kj.get_quickFilterDisplayPresModel(),kg,ex)}if(ss.referenceEquals(ka.$2(this.pm),ka.$b)){var kk=this.$9;kk.updateFrame(kg,ex)}}if(ss.isValue(e.zoneTitle)){en.notifyFontsFromTextRegionPresModel(e.zoneTitle)}}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$3,ex)},updateLocalPositionWithAllChildren:function(e,ex){if(ss.isNullOrUndefined(this)){return}this.$8.updateSingleZoneLocalPosition(this.get_x()+e,this.get_y()+ex);var kc=this.$7.zonesModel.getChildren(this.get_zoneId());if(kc.length>0){for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];ke.updateLocalPositionWithAllChildren(e,ex)}}},$1:function(e,ex,kc,kd){if(ss.referenceEquals(e,ka.$m)){var ke=ka.getContent(ex,ka.$m);if(ss.isNullOrUndefined(this.$9)){this.$9=new jm(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kf=this.$9;kf.update(ke,kd)}else if(ss.referenceEquals(e,ka.$j)){var kg=ka.getContent(ex,ka.$j);if(ss.isNullOrUndefined(this.$9)){this.$9=new iM(this.$5,ka.$j);this.raiseNewZoneContent(this.$9,kd)}var kh=this.$9;kh.update(kg,kd)}else if(ss.referenceEquals(e,ka.$i)){var ki=ka.getContent(ex,ka.$i);if(ss.isNullOrUndefined(this.$9)){this.$9=new iM(this.$5,ka.$i);this.raiseNewZoneContent(this.$9,kd)}var kj=this.$9;kj.update(ki,kd)}else if(ss.referenceEquals(e,ka.$d)){var kk=ka.getContent(ex,ka.$d);var kl=this.$4;this.$4=true;if(ss.isNullOrUndefined(this.$9)||!kl){this.$9=new fQ(this.$5);this.raiseNewZoneContent(this.$9,kd)}var km=ka.$1(ex.frameJson);var kn=this.$9;kn.update(kk,km,kd)}else if(ss.referenceEquals(e,ka.$c)){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||S.get_instance().get_isLocalRenderMode()){var ko=ka.getContent(ex,e);if(ss.isNullOrUndefined(this.$9)){this.$9=new gL(this.$5,e);this.raiseNewZoneContent(this.$9,kd)}var kp=this.$9;kp.update(ko,kd)}}else if(ss.referenceEquals(e,ka.$3)||ss.referenceEquals(e,ka.$h)||ss.referenceEquals(e,ka.$g)||ss.referenceEquals(e,ka.$9)){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||S.get_instance().get_isLocalRenderMode()){var kq=ka.getContent(ex,e);if(ss.isNullOrUndefined(this.$9)){var kr=this.$8.get_zoneType();this.$9=new by(this.$5,e,ka.$0(kr));this.raiseNewZoneContent(this.$9,kd)}var ks=this.$9;ks.update(kq,kd)}}else if(ss.referenceEquals(e,ka.$b)){var kt=ka.getContent(ex,ka.$b);var ku=ka.$1(kt.parameterCtrlJson);kt.legacyPresModel=ku;var kv=this.$3;this.$3=true;if(ss.isNullOrUndefined(this.$9)||!kv){this.$9=new gu(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kw=ka.$1(ex.frameJson);var kx=this.$9;kx.update(kt,kw,kd)}else if(ss.referenceEquals(e,ka.$a)){var ky=ka.getContent(ex,ka.$a);if(ss.isNullOrUndefined(this.$9)){this.$9=new go(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kz=!kc||ss.isNullOrUndefined(this.pm);var kA=ka.$1(ex.frameJson);var kB=this.$9;kB.update(ky,kA,kz,kd)}else if(ss.referenceEquals(e,ka.$7)){var kC=ka.getContent(ex,ka.$7);if(ss.isNullOrUndefined(this.$9)){this.$9=new ei(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kD=this.$9;kD.update(kC,kd)}else if(ss.referenceEquals(e,ka.$6)){var kE=ka.getContent(ex,ka.$6);if(ss.isNullOrUndefined(this.$9)){this.$9=new eh(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kF=this.$9;kF.update(kE,kd)}else if(!tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')&&ss.referenceEquals(e,ka.$f)){var kG=ka.getContent(ex,ka.$f);if(ss.isNullOrUndefined(this.$9)){this.$9=new fO(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kH=this.$9;kH.update(kG,kd)}else if(ss.referenceEquals(e,ka.$n)){var kI=ka.getContent(ex,ka.$n);if(ss.isNullOrUndefined(this.$9)){this.$9=new jH(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kJ=this.$9;kJ.update(kI,kd)}else if(ss.referenceEquals(e,ka.$e)){var kK=ka.getContent(ex,ka.$e);if(ss.isNullOrUndefined(this.$9)){this.$9=new bp(this.$5,ka.$e);this.raiseNewZoneContent(this.$9,kd)}var kL=this.$9;kL.update(kK,kd)}else if(ss.referenceEquals(e,ka.$5)){var kM=ka.getContent(ex,ka.$5);if(ss.isNullOrUndefined(this.$9)){this.$9=new dQ(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kN=this.$9;kN.update(kM,kd)}else if(ss.referenceEquals(e,ka.$8)){var kO=ka.getContent(ex,ka.$8);if(ss.isNullOrUndefined(this.$9)){this.$9=new fw(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kP=this.$9;kP.update(kO,kd)}else if(ss.referenceEquals(e,ka.$4)){var kQ=ka.getContent(ex,ka.$4);if(ss.isNullOrUndefined(this.$9)){this.$9=new db(this.$5);this.raiseNewZoneContent(this.$9,kd)}var kR=this.$9;kR.update(kQ,kd)}},contentBorderWidth:function(){return this.$8.get_contentBorderWidth()},raiseNewZoneContent:function(e,ex){this.raiseEvent$1(gb).call(this,this.$2$1,e,ex)}},gb);ss.initClass(kb,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removedZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removedZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_zoneModels:function(){if(ss.isNullOrUndefined(this.$7)){this.$7=_.values(this.$9)}return this.$7},get_zonePresModels:function(){return this.pm},set_zonePresModels:function(e){this.pm=e},getZone:function(e){return this.$9[kb.$0(e)]},hasZone:function(e){return ss.keyExists(this.$9,kb.$0(e))},getChildren:function(e){var ex=kb.$0(e);if(!ss.keyExists(this.$8,ex)){this.$8[ex]=_.filter(this.get_zoneModels(),function(kc){return kc.get_parentZoneId()===e})}return this.$8[kb.$0(e)].slice(0)},update:function(ex,kc){this.$3('Zones before update: ');this.$4(ex,kc);this.$8={};var kd={};var ke=_.keys(ex);for(var kf=0;kf<ke.length;kf++){var kg=ke[kf];var kh=ex[kg];if(ss.isNullOrUndefined(kh)){continue}var ki=kh.zoneId;try{var kj=kb.$0(ki);if(!ss.isValue(this.$9[kj])){this.$2(kh,kj,kd,kc)}else{this.$5(kh,kj,kd,kc)}this.$9[kj].update(kh,kc)}catch(ko){var e=ss.Exception.wrap(ko);tab.ErrorTrace.report(e,false)}}this.swapAndCopyPresModel(ex);if(tsConfig.is_authoring){var kk=_.keys(kd);for(var kl=0;kl<kk.length;kl++){var km=kk[kl];var kn=this.getZone(km);if(ss.isValue(kn)){kn.raiseChildrenAdded(kc)}}}this.$3('Zones after update: ')},$2:function(e,ex,kc,kd){var ke=new ka(this,this.parent,e.zoneId);this.$9[ex]=ke;this.raiseEvent$1(ka).call(this,this.$2$1,this.$9[ex],kd);this.$7=null;kc[e.zoneCommon.parentZoneId]=true},$5:function(e,ex,kc,kd){if(ss.isValue(e.zoneCommon)&&this.$9[ex].get_parentZoneId()!==e.zoneCommon.parentZoneId){kc[e.zoneCommon.parentZoneId]=true}if(ss.isValue(e.presModelHolder)&&(this.$1(ex,e)||this.$6(ex,e))){this.$9[ex].raiseRemoveZoneContent(kd);this.raiseEvent$1(ka).call(this,this.$2$1,this.$9[ex],kd)}},$1:function(e,ex){return ss.isValue(this.$9[e].get_contentType())&&!ss.referenceEquals(this.$9[e].get_contentType(),ka.$2(ex))},$6:function(e,ex){return ss.isValue(this.$9[e].get_worksheetName())&&!ss.referenceEquals(this.$9[e].get_worksheetName(),ex.sheet)},$4:function(e,ex){var kc=_.keys(this.$9);for(var kd=0;kd<kc.length;kd++){var ke=kc[kd];var kf=this.$9[ke];var kg=e[kf.get_zoneId().toString()];if(kg===null){var kh=kf.get_zoneId().toString();delete e[kh];delete this.get_zonePresModels()[kh];this.removeZone(kf,ex);continue}if(ss.isValue(kg)&&ss.isValue(kg.zoneCommon)&&kf.get_zoneCommonModel().get_zoneType()!==kg.zoneCommon.zoneType){this.removeZone(kf,ex)}}},removeZone:function(e,ex){e.raiseRemoveZoneContent(ex);this.raiseEvent$1(ka).call(this,this.$2$2,e,ex);delete this.$9[kb.$0(e.get_zoneId())];this.$7=null},$3:function(e){var ex=new ss.StringBuilder;ex.appendLine(e);var kc=new ss.ObjectEnumerator(this.get_zonePresModels());try{while(kc.moveNext()){var kd=kc.current();if(ss.isValue(kd.value)&&ss.isValue(kd.value.zoneCommon)){ex.append('[ ');ex.append(kd.value.zoneId);ex.append(' ');ex.append(kd.value.zoneCommon.zoneType);ex.append(' ] ');ex.appendLine()}}}finally{kc.dispose()}}},gb);(function(){var e={};e[{ns:'tabsrv',cmd:'refresh-data-server'}.cmd]=false;e[{ns:'tabdoc',cmd:'get-datasource-data-pres-model'}.cmd]=false;e[{ns:'tabdoc',cmd:'get-show-data-pres-model'}.cmd]=false;bI.$1=e})();(function(){bT.$0=null})();(function(){bV.$5=15;bV.$8={};bV.$6={};bV.$7=[];bV.$8[{ns:'tabdoc',cmd:'keep-only-or-exclude'}.cmd]=2;bV.$8[{ns:'tabdoc',cmd:'quick-sort'}.cmd]=4;bV.$8[{ns:'tabdoc',cmd:'sort-nested'}.cmd]=5;bV.$8[{ns:'tabdoc',cmd:'clear-sorts'}.cmd]=6;bV.$8[{ns:'tabdoc',cmd:'run-action'}.cmd]=8;bV.$8[{ns:'tabdoc',cmd:'load-url'}.cmd]=9;bV.$8[{ns:'tabdoc',cmd:'merge-or-split'}.cmd]=10;bV.$8[{ns:'tabdoc',cmd:'ranged-by-value-merge'}.cmd]=10;bV.$8[{ns:'tabdoc',cmd:'ranged-by-index-merge'}.cmd]=10;bV.$8[{ns:'tabdoc',cmd:'legend-group-or-ungroup'}.cmd]=13;bV.$8[{ns:'tabdoc',cmd:'label-drill'}.cmd]=12;bV.$8[{ns:'tabdoc',cmd:'level-drill'}.cmd]=12;bV.$8[{ns:'tabdoc',cmd:'level-drill-up-down'}.cmd]=12;bV.$8[{ns:'tabdoc',cmd:'remove-reference-line'}.cmd]=15;bV.$8[{ns:'tabdoc',cmd:'show-reference-line-constant-value-editor'}.cmd]=21;bV.$8[{ns:'tabdoc',cmd:'trend-lines'}.cmd]=17;bV.$8[{ns:'tabdoc',cmd:'show-trend-line-editor'}.cmd]=16;bV.$8[{ns:'tabdoc',cmd:'show-col-totals'}.cmd]=18;bV.$8[{ns:'tabdoc',cmd:'show-row-totals'}.cmd]=18;bV.$8[{ns:'tabdoc',cmd:'remove-subtotals'}.cmd]=18;bV.$8[{ns:'tabdoc',cmd:'set-totals-type'}.cmd]=19;bV.$8[{ns:'tabdoc',cmd:'set-reference-line-formula'}.cmd]=20;bV.$8[{ns:'tabdoc',cmd:'show-reference-line-editor'}.cmd]=22;bV.$8[{ns:'tabdoc',cmd:'select-by-tuple-value'}.cmd]=23})();(function(){jX.guid='';jX.parentID='';jX.$0=''})();(function(){fg.$6='_vql_state_';fg.$5=new Map;fg.$8=0;fg.$7=0;tab.WindowHelper.addListener(window.self,'popstate',fg.$3)})();(function(){jv.$7=':retry';jv.$5=':original_view';jv.$8=':showSaveAs';jv.$4=':jsdebug';jv.$6=':render';jv.$3=':app';jv.$b=[':app',':jsdebug',':render'];jv.$d=ss.mkdict(['authoring',2,'authoringNewWorkbook',3,'newWorkbook',7,'views',1,'vizql/showadminview',4,'shared',5,'workbooks',6]);jv.$c=[':bootstrapWhenNotified'];jv.$9={};jv.$a={};var e=function(ex,kc){for(var kd=ex;kd<=kc;kd++){var ke=String.fromCharCode(kd);jv.$a[ke]=ke}};e(97,122);e(65,90);e(48,57);e(95,95);e(45,46)})();(function(){di.$0=false})();(function(){cc.actianMatrix='paraccel';cc.aster='asterncluster';cc.aurora='aurora';cc.denodo='denodo';cc.exasolution='exasolution';cc.excel='excel';cc.excelDirect='excel-direct';cc.googleCloudSql='googlecloudsql';cc.greenplum='greenplum';cc.ibmdb2='db2';cc.ibmBigInsights='bigsql';cc.kognitio='kognitio';cc.markLogic='marklogic';cc.memsql='memsql';cc.microsoftSqlServer='sqlserver';cc.monetDb='monetdb';cc.mySql='mysql';cc.netezza='netezza';cc.oracle='oracle';cc.postgreSql='postgres';cc.progressOpenEdge='progressopenedge';cc.redshift='redshift';cc.server='sqlproxy';cc.snowflake='snowflake';cc.splunk='splunk';cc.sybaseAse='sybasease';cc.sybaseIq='sybaseiq';cc.teradata='teradata';cc.text='csv';cc.textScan='textscan';cc.vertica='vertica';cc.databaseClassToLabel={};cc.fileConnectionClasses=[];cc.databaseClassToLabel['paraccel']='Actian Matrix';cc.databaseClassToLabel['aurora']='Amazon Aurora';cc.databaseClassToLabel['redshift']='Amazon Redshift';cc.databaseClassToLabel['asterncluster']='Aster Database';cc.databaseClassToLabel['denodo']='Denodo';cc.databaseClassToLabel['exasolution']='EXASOL';cc.databaseClassToLabel['googlecloudsql']='Google Cloud SQL';cc.databaseClassToLabel['vertica']='HP Vertica';cc.databaseClassToLabel['bigsql']='IBM BigInsights';cc.databaseClassToLabel['db2']='IBM DB2';cc.databaseClassToLabel['netezza']='IBM PDA (Netezza)';cc.databaseClassToLabel['kognitio']='Kognitio';cc.databaseClassToLabel['marklogic']='MarkLogic';cc.databaseClassToLabel['memsql']='MemSQL';cc.databaseClassToLabel['sqlserver']='Microsoft SQL Server';cc.databaseClassToLabel['monetdb']='MonetDB';cc.databaseClassToLabel['mysql']='MySQL';cc.databaseClassToLabel['greenplum']='Pivotal Greenplum Database';cc.databaseClassToLabel['postgres']='PostgreSQL';cc.databaseClassToLabel['progressopenedge']='Progress OpenEdge';cc.databaseClassToLabel['sybasease']='SAP Sybase ASE';cc.databaseClassToLabel['sybaseiq']='SAP Sybase IQ';cc.databaseClassToLabel['snowflake']='Snowflake';cc.databaseClassToLabel['splunk']='Splunk';cc.fileConnectionClasses.push('excel');cc.fileConnectionClasses.push('excel-direct');cc.fileConnectionClasses.push('csv');cc.fileConnectionClasses.push('textscan')})();(function(){jr.vizInTooltipSpanTag='span[data-tableau="VizInTooltip"]';jr.unknownFieldMarker='~~~???~~~';jr.noLocalSummary='...';jr.invalidTupleId=0;jr.urlStringNull='~~null~';jr.urlStringSkipped='~~skipped~';jr.urlStringRagged='~~ragged~';jr.lastWidthAndHeightForVizInTooltips=[];jr.widestVizInTooltip=0;jr.$8=new RegExp('(\\r|\\n)','g')})();(function(){gb.removeUndefinedBoolsOnSwapCopy=true})();(function(){bG.defaultAlpha=1;bG.white=new bG(255,255,255,1);bG.black=new bG(0,0,0,1);bG.alphaMultiplier=1.5;bG.luminanceThresholdForFakingLineColor=0.800000011920929;bG.luminanceThresholdForLightColor=0.314999997615814;bG.$8=0.999989986419678;bG.$e=[0,5.07705190066E-06,2.33280046661E-05,5.69217657122E-05,0.000107187362341,0.000175123977503,0.000261543754548,0.000367136269816,0.000492503787191,0.000638182842167,0.000804658499513,0.000992374304074,0.00120173952244,0.00143313458967,0.00168691531679,0.0019634162134,0.00226295316071,0.00258582559623,0.00293231832394,0.003302703032,0.0036972395789,0.00411617709328,0.00455975492253,0.00502820345686,0.00552174485024,0.00604059365485,0.00658495738258,0.00715503700457,0.00775102739766,0.00837311774515,0.00902149189801,0.00969632870166,0.0103978022926,0.0111260823684,0.0118813344348,0.0126637200316,0.0134733969401,0.0143105193749,0.0151752381596,0.0160677008909,0.0169880520893,0.01793643334,0.0189129834237,0.0199178384388,0.0209511319148,0.0220129949193,0.0231035561579,0.0242229420675,0.0253712769047,0.0265486828285,0.0277552799781,0.0289911865471,0.0302565188524,0.0315513914002,0.0328759169484,0.0342302065651,0.0356143696849,0.037028514162,0.0384727463202,0.0399471710015,0.0414518916115,0.0429870101627,0.0445526273164,0.0461488424224,0.0477757535562,0.0494334575559,0.0511220500565,0.0528416255229,0.0545922772818,0.056374097552,0.0581871774737,0.0600316071363,0.0619074756055,0.0638148709487,0.0657538802603,0.0677245896854,0.0697270844426,0.0717614488462,0.0738277663278,0.0759261194563,0.0780565899581,0.0802192587362,0.0824142058885,0.0846415107254,0.0869012517877,0.0891935068622,0.0915183529989,0.0938758665256,0.0962661230633,0.0986891975411,0.10114516421,0.103634096655,0.106156067813,0.108711149979,0.111299414825,0.113920933406,0.116575776179,0.119264013005,0.12198571317,0.124740945387,0.127529777813,0.130352278056,0.133208513184,0.136098549737,0.139022453735,0.141980290686,0.144972125597,0.147998022983,0.151058046871,0.154152260812,0.15728072789,0.160443510725,0.163640671485,0.166872271891,0.170138373223,0.173439036332,0.176774321641,0.180144289154,0.183548998465,0.186988508759,0.190462878822,0.193972167048,0.19751643144,0.201095729621,0.204710118837,0.208359655961,0.212044397502,0.215764399609,0.219519718075,0.223310408341,0.227136525505,0.230998124323,0.234895259216,0.238827984272,0.242796353254,0.246800419602,0.250840236436,0.254915856566,0.25902733249,0.263174716398,0.267358060184,0.271577415438,0.275832833461,0.280124365261,0.28445206156,0.288815972797,0.293216149132,0.297652640449,0.302125496359,0.306634766203,0.311180499058,0.315762743736,0.320381548792,0.325036962521,0.329729032968,0.334457807924,0.339223334935,0.344025661302,0.348864834083,0.353740900097,0.358653905926,0.363603897921,0.368590922197,0.373615024646,0.37867625093,0.383774646488,0.388910256539,0.394083126083,0.399293299903,0.404540822568,0.409825738436,0.415148091656,0.420507926168,0.425905285707,0.431340213807,0.4368127538,0.442322948819,0.4478708418,0.453456475486,0.459079892424,0.464741134974,0.470440245304,0.476177265397,0.481952237051,0.487765201878,0.493616201311,0.499505276603,0.505432468828,0.511397818885,0.517401367497,0.523443155214,0.529523222417,0.535641609315,0.54179835595,0.547993502197,0.554227087766,0.560499152204,0.566809734897,0.573158875068,0.579546611783,0.58597298395,0.592438030321,0.598941789493,0.605484299911,0.612065599866,0.618685727499,0.625344720802,0.632042617621,0.638779455651,0.645555272445,0.652370105411,0.659223991813,0.666116968776,0.673049073281,0.680020342172,0.687030812155,0.694080519797,0.701169501531,0.708297793656,0.715465432335,0.7226724536,0.729918893352,0.737204787361,0.744530171267,0.751895080583,0.759299550695,0.766743616862,0.774227314218,0.781750677774,0.789313742416,0.796916542908,0.804559113895,0.812241489898,0.819963705324,0.827725794455,0.835527791461,0.843369730392,0.851251645185,0.859173569659,0.867135537521,0.875137582365,0.883179737673,0.891262036813,0.899384513047,0.907547199522,0.915750129279,0.923993335252,0.932276850265,0.940600707036,0.948964938178,0.9573695762,0.965814653503,0.974300202389,0.982826255054,0.991392843593,1];bG.$9=new RegExp('#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})','i');bG.$a=new RegExp('rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)','i');bG.$b=new RegExp('rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d+|0\\.\\d+|1\\.0)\\)','i');bG.$c=null;bG.$d=new dY(100)})();(function(){eo.defaultWeight='normal';eo.defaultStyle='normal';eo.hashSeparator='-<%>-';eo.matchQuotes=new RegExp('[\'"]','g')})();(function(){dx.boldWeight='bold';dx.normalWeight='normal'})();(function(){fc.$0=[new fc,new dx]})();(function(){en.fontPropertyName='font';en.$1$1=null;en.$1$2=null})();(function(){dV.nameOfMeasuresColumn=':Measure Names';dV.nameOfMeasureValuesColumn='Multiple Values'})();(function(){jq.tupleIdColumnName='[system:visual].[tuple_id]';jq.measureNamesColumnName='[:Measure Names]'})();(function(){fX.$1='@2x';fX.$0='rgb(255,255,255)'})();(function(){gi.$0=new ss.Lazy(function(){return{eventHandler:new gi}})})();(function(){jV.$0=new ss.Lazy(function(){return new jV})})();(function(){Y.$1=Y.$0()})();(function(){J.instance=null})();(function(){cb.primaryTableCalcIndex=0;cb.secondaryTableCalcIndex=1})();(function(){ic.$0='data:image/png;base64,';ic.selectionBorderSize=1})();(function(){jy.waitGlassId='loadingGlassPane';jy.waitSpinnerId='loadingSpinner';jy.$1=300;jy.$2=500;jy.$3=250;jy.glassShowDelay=400;jy.glassDefaultOpacity=0;jy.glassDelayedOpacity=0.419999986886978})();(function(){hw.$4='Last';hw.$5='SecondToLast';hw.$3=1440;hw.$7=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];hw.$6=ss.mkdict(['Sun',tab.Strings.Sunday,'Mon',tab.Strings.Monday,'Tue',tab.Strings.Tuesday,'Wed',tab.Strings.Wednesday,'Thu',tab.Strings.Thursday,'Fri',tab.Strings.Friday,'Sat',tab.Strings.Saturday])})();(function(){bM.successResult=new bM(true,null)})();(function(){fv.$2=null})();(function(){z.$0=35;z.$1=1})();(function(){ka.zoneMargin=4;ka.rootZoneID=0;ka.$l=0;ka.$k=0;ka.$m='visual'.toString();ka.$j='dashboardTitle'.toString();ka.$i='dashboardText'.toString();ka.$c='quantitativeColorLegend'.toString();ka.$3='colorLegend'.toString();ka.$h='categoricalSizeLegend'.toString();ka.$g='categoricalShapeLegend'.toString();ka.$9='categoricalMapLegend'.toString();ka.$b='parameterControl'.toString();ka.$a='pageModel'.toString();ka.$f='serverRenderedLegend'.toString();ka.$8='imageZone'.toString();ka.$n='webZone'.toString();ka.$e='serverButtonZone'.toString();ka.$5='addInZone'.toString();ka.$d='quickFilterDisplay'.toString();ka.$4='dataHighlighter'.toString();ka.$7='flipboardNav'.toString();ka.$6='flipboard'.toString()})();(function(){gK.$5=6;gK.zonesThatDeferContentCreation=['viz','size','shape','color','map','filter','paramctrl','current-page','bitmap','web','add-in','highlighter'];gK.$7=[1,2,3,4,5,6];gK.$8=null;gK.$6=null})();(function(){S._instance=null})();(function(){bJ.$c=135;bJ.$e=false;bJ.$f=false;bJ._instance=null;bJ.$d=null;bJ.$1$7=null;bJ.$1$14=null;bJ.fireDeferredUrlActions=false})();(function(){dS.$0=5000;dS.$1=120;dS.$2=0;if(typeof(tsConfig)==='undefined'){return}var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){tab.ErrorTrace.install();dS.$2=window.setInterval(dS.reportFailures,5000)}})();(function(){X.linkTarget=null;X.autoUpdate=true;X.$0=null;X.$1=null;X.$3=0;X.$4=null;X.$2=204;X.$1$1=null;X.$1=ss.mkdict(['%25',new RegExp('%','g'),'%3B',new RegExp(';','g'),'%2C',new RegExp(',','g'),'%2E',new RegExp('\\.','g'),'%2F',new RegExp('\\/','g'),'%3F',new RegExp('\\?','g'),'%2B',new RegExp('\\+','g'),'%20',new RegExp(' ','g'),'%5C',new RegExp('\\\\','g')])})();(function(){gf.$e='vql';gf.$d=60;gf.$j={};gf.$g={};gf.$h={};gf.$f=new Set;gf.$k=false;gf.$i=new gg})();(function(){gk.analyticsClientLibrary='analytics-client';gk.analyticsClientMinifiedLibrary='analytics-client.min';gk.serviceName='VizClient';gk.$1=null;gk.$1$1=null})();(function(){hN.$1={}})();(function(){cV.exceptionAttributesClass='class';cV.exceptionAttributesFilename='filename';cV.exceptionAttributesDirectory='directory'})();(function(){dk.$4='badpassword';dk.$3='badoauthcredentials';dk.$5='NoAssociatedCustomOAuthKey'})();(function(){ge.visualPartToRegionMap=null;ge.regionToVisualPartMap=null;ge.visualPartToRegionMap={};ge.visualPartToRegionMap['left-axis']='leftaxis';ge.visualPartToRegionMap['right-axis']='rightaxis';ge.visualPartToRegionMap['top-axis']='topaxis';ge.visualPartToRegionMap['bottom-axis']='bottomaxis';ge.visualPartToRegionMap['y-labels']='yheader';ge.visualPartToRegionMap['x-labels']='xheader';ge.regionToVisualPartMap={};ge.regionToVisualPartMap['leftaxis']='left-axis';ge.regionToVisualPartMap['rightaxis']='right-axis';ge.regionToVisualPartMap['topaxis']='top-axis';ge.regionToVisualPartMap['bottomaxis']='bottom-axis';ge.regionToVisualPartMap['yheader']='y-labels';ge.regionToVisualPartMap['xheader']='x-labels'})();(function(){bK.$b=new RegExp('\\S+','g')})();(function(){gB.platformLibrary='platform';gB.platformMinifiedLibrary='platform.min';gB.$4=null;gB.$3=null;gB.$2=tab.Logger.getLogger(gB,4)})();(function(){iB.$1=false;iB.$2=false;iB.$1$1=null;iB.$1$2=null})();(function(){jN.$1=new RegExp('[/\\\\]([^/\\\\]*)$')})();(function(){hS.$2=300000;hS.$0=tab.DateUtil.get_nowAsTime();hS.$3=300000;hS.$1=tab.DateUtil.get_nowAsTime()})();(function(){ep.$0='font'})();(function(){jJ.$2$1=null})();(function(){jY.rootZoneID=0})();(function(){iE.$6=(tsConfig.is_mobile?4:8);iE.$5=null;iE.$4=null;if(!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache')){jV.get().add_onBootstrapResponse(iE.$0)}})();(function(){L.$f=['http:','https:','mailto:','news:','gopher:','tsc:','tsl:','sms:','tel:'];L.$e=false;L.$d=false})();(function(){hF.$k=null;hF.$k={};hF.$k['simple']='select-options-simple';hF.$k['toggle']='select-options-toggle';hF.$k['range']='select-options-range';hF.$k['menu']='select-options-menu'})();(function(){ba.$5='date-time';ba.$4='all'})();(function(){ii.$2$1=null})();(function(){cF.facadeDomId='facadedom';cF.defaultGridSize=20;cF.$2$1=null})();(function(){eh.presModelCache=null})();(function(){dh.$0=null})();(function(){bw.$a='Cancel_Command';bw.$2='CommandName';bw.$3='UNKNOWN';bw.$4='ElapsedTimeToCancelMS';bw.$5='ElapsedTimeToProcessCancelResponseMS';bw.$6='CancelStatus';bw.$9='Success';bw.$8='NothingToCancel';bw.$7='Failure'})();(function(){iK.$0={};iK.$0['TQRC_DRILL_DOWN']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down.png';iK.$0['TQRC_DRILL_DOWN_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down@2x.png';iK.$0['TQRC_DRILL_DOWN_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active.png';iK.$0['TQRC_DRILL_DOWN_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active@2x.png';iK.$0['TQRC_DRILL_UP']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up.png';iK.$0['TQRC_DRILL_UP_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up@2x.png';iK.$0['TQRC_DRILL_UP_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Active.png';iK.$0['TQRC_DRILL_UP_ACTIVE_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Action@2x.png';iK.$0['TQRC_EXCLUDE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude.png';iK.$0['TQRC_EXCLUDE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude@2x.png';iK.$0['TQRC_EXCLUDE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active.png';iK.$0['TQRC_EXCLUDE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active@2x.png';iK.$0['TQRC_KEEP_ONLY']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly.png';iK.$0['TQRC_KEEP_ONLY_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly@2x.png';iK.$0['TQRC_KEEP_ONLY_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active.png';iK.$0['TQRC_KEEP_ONLY_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active@2x.png';iK.$0['TQRC_MERGE']='tableau-1.3/res/vizTooltips/Tooltip_Group.png';iK.$0['TQRC_MERGE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group@2x.png';iK.$0['TQRC_MERGE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active.png';iK.$0['TQRC_MERGE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active@2x.png';iK.$0['TQRC_VIEWDATA']='tableau-1.3/res/vizTooltips/Tooltip_ViewData.png';iK.$0['TQRC_VIEWDATA_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_ViewData_Active.png';iK.$0['TQRC_SORT_ASCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending.png';iK.$0['TQRC_SORT_ASCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending@2x.png';iK.$0['TQRC_SORT_ASCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending_Active.png';iK.$0['TQRC_SORT_ASCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending_Active@2x.png';iK.$0['TQRC_SORT_DESCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending.png';iK.$0['TQRC_SORT_DESCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending@2x.png';iK.$0['TQRC_SORT_DESCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending_Active.png';iK.$0['TQRC_SORT_DESCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending_Active@2x.png';iK.$0['TQRC_SPLIT']='tableau-1.3/res/vizTooltips/Tooltip_Split.png';iK.$0['TQRC_SPLIT_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split@2x.png';iK.$0['TQRC_SPLIT_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active.png';iK.$0['TQRC_SPLIT_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active@2x.png';iK.$0['TQRC_SHOWME_BIN']='tableau-1.3/res/showme/ShowMe_NumericBin.png';iK.$0['TQRC_SHOWME_BIN_2X']='tableau-1.3/res/showme/ShowMe_NumericBin@2x.png';iK.$0['TQRC_SHOWME_SUGGESTED']='tableau-1.3/res/showme/ShowMe_Check.png';iK.$0['TQRC_SHOWME_SUGGESTED_2X']='tableau-1.3/res/showme/ShowMe_Check@2x.png';iK.$0['TQRC_SHOWME_CLOSE']='tableau-1.3/res/showme/ShowMe_Close.png';iK.$0['TQRC_SHOWME_CLOSE_2X']='tableau-1.3/res/showme/ShowMe_Close@2x.png';iK.$0['TQRC_SHOWME_CLOSE_PRESS']='tableau-1.3/res/showme/ShowMe_Close_Active.png';iK.$0['TQRC_SHOWME_CLOSE_PRESS_2X']='tableau-1.3/res/showme/ShowMe_Close_Active@2x.png';iK.$0['TQRC_SHOWME_DATE']='tableau-1.3/res/showme/ShowMe_Date.png';iK.$0['TQRC_SHOWME_DATE_2X']='tableau-1.3/res/showme/ShowMe_Date@2x.png';iK.$0['TQRC_SHOWME_GEO']='tableau-1.3/res/showme/ShowMe_Geo.png';iK.$0['TQRC_SHOWME_GEO_2X']='tableau-1.3/res/showme/ShowMe_Geo@2x.png';iK.$0['TQRC_SHOWME_GLOW']='tableau-1.3/res/showme/glow.png';iK.$0['TQRC_SHOWME_GLOW_2X']='tableau-1.3/res/showme/glow@2x.png';iK.$0['TQRC_SHOWME_GRIPPER']='tableau-1.3/res/showme/gripper.png';iK.$0['TQRC_SHOWME_GRIPPER_2X']='tableau-1.3/res/showme/gripper@2x.png';iK.$0['TQRC_SHOWME_SHOWME']='tableau-1.3/res/showme/showme.png';iK.$0['TQRC_SHOWME_SHOWME_2X']='tableau-1.3/res/showme/showme@2x.png';iK.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER']='tableau-1.3/res/showme/Title-background-hover.png';iK.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER_2X']='tableau-1.3/res/showme/Title-background-hover@2x.png';iK.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST']='tableau-1.3/res/showme/Title-background-rest.png';iK.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST_2X']='tableau-1.3/res/showme/Title-background-rest@2x.png';iK.$0['TQRC_SHOWME_AREAMEAS']='tableau-1.3/res/showme/ShowMe_AreaContinuous.png';iK.$0['TQRC_SHOWME_AREADIM']='tableau-1.3/res/showme/ShowMe_AreaDiscrete.png';iK.$0['TQRC_SHOWME_FILLEDMAPS']='tableau-1.3/res/showme/ShowMe_AreaMap.png';iK.$0['TQRC_SHOWME_BOXPLOT']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker.png';iK.$0['TQRC_SHOWME_BUBBLE']='tableau-1.3/res/showme/ShowMe_Bubble.png';iK.$0['TQRC_SHOWME_BULLET']='tableau-1.3/res/showme/ShowMe_Bullet.png';iK.$0['TQRC_SHOWME_CIRCLE']='tableau-1.3/res/showme/ShowMe_Circles.png';iK.$0['TQRC_SHOWME_BARLINE']='tableau-1.3/res/showme/ShowMe_DualCombination.png';iK.$0['TQRC_SHOWME_DUALLINE']='tableau-1.3/res/showme/ShowMe_DualLine.png';iK.$0['TQRC_SHOWME_GANTT']='tableau-1.3/res/showme/ShowMe_Gantt.png';iK.$0['TQRC_SHOWME_HEATMAP']='tableau-1.3/res/showme/ShowMe_HeatMap.png';iK.$0['TQRC_SHOWME_SPOTTABLE']='tableau-1.3/res/showme/ShowMe_HighlightTable.png';iK.$0['TQRC_SHOWME_HISTOGRAM']='tableau-1.3/res/showme/ShowMe_Histogram.png';iK.$0['TQRC_SHOWME_BARHORIZONTAL']='tableau-1.3/res/showme/ShowMe_HorizontalBars.png';iK.$0['TQRC_SHOWME_LINEMEAS']='tableau-1.3/res/showme/ShowMe_LinesContinuous.png';iK.$0['TQRC_SHOWME_LINEDIM']='tableau-1.3/res/showme/ShowMe_LinesDiscrete.png';iK.$0['TQRC_SHOWME_PIES']='tableau-1.3/res/showme/ShowMe_Pie.png';iK.$0['TQRC_SHOWME_SCATSING']='tableau-1.3/res/showme/ShowMe_Scatter.png';iK.$0['TQRC_SHOWME_BARSIDEBY']='tableau-1.3/res/showme/ShowMe_SideBySideBars.png';iK.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/ShowMe_SideBySideCircles.png';iK.$0['TQRC_SHOWME_BARSTACKED']='tableau-1.3/res/showme/ShowMe_StackedBars.png';iK.$0['TQRC_SHOWME_MAPS']='tableau-1.3/res/showme/ShowMe_SymbolMap.png';iK.$0['TQRC_SHOWME_TEXTTABLE']='tableau-1.3/res/showme/ShowMe_TextTable.png';iK.$0['TQRC_SHOWME_TREEMAP']='tableau-1.3/res/showme/ShowMe_TreeMap.png';iK.$0['TQRC_SHOWME_AREAMEAS_2X']='tableau-1.3/res/showme/ShowMe_AreaContinuous@2x.png';iK.$0['TQRC_SHOWME_AREADIM_2X']='tableau-1.3/res/showme/ShowMe_AreaDiscrete@2x.png';iK.$0['TQRC_SHOWME_FILLEDMAPS_2X']='tableau-1.3/res/showme/ShowMe_AreaMap@2x.png';iK.$0['TQRC_SHOWME_BOXPLOT_2X']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker@2x.png';iK.$0['TQRC_SHOWME_BUBBLE_2X']='tableau-1.3/res/showme/ShowMe_Bubble@2x.png';iK.$0['TQRC_SHOWME_BULLET_2X']='tableau-1.3/res/showme/ShowMe_Bullet@2x.png';iK.$0['TQRC_SHOWME_CIRCLE_2X']='tableau-1.3/res/showme/ShowMe_Circles@2x.png';iK.$0['TQRC_SHOWME_BARLINE_2X']='tableau-1.3/res/showme/ShowMe_DualCombination@2x.png';iK.$0['TQRC_SHOWME_DUALLINE_2X']='tableau-1.3/res/showme/ShowMe_DualLine@2x.png';iK.$0['TQRC_SHOWME_GANTT_2X']='tableau-1.3/res/showme/ShowMe_Gantt@2x.png';iK.$0['TQRC_SHOWME_HEATMAP_2X']='tableau-1.3/res/showme/ShowMe_HeatMap@2x.png';iK.$0['TQRC_SHOWME_SPOTTABLE_2X']='tableau-1.3/res/showme/ShowMe_HighlightTable@2x.png';iK.$0['TQRC_SHOWME_HISTOGRAM_2X']='tableau-1.3/res/showme/ShowMe_Histogram@2x.png';iK.$0['TQRC_SHOWME_BARHORIZONTAL_2X']='tableau-1.3/res/showme/ShowMe_HorizontalBars@2x.png';iK.$0['TQRC_SHOWME_LINEDIM_2X']='tableau-1.3/res/showme/ShowMe_LinesDiscrete@2x.png';iK.$0['TQRC_SHOWME_LINEMEAS_2X']='tableau-1.3/res/showme/ShowMe_LinesContinuous@2x.png';iK.$0['TQRC_SHOWME_PIES_2X']='tableau-1.3/res/showme/ShowMe_Pie@2x.png';iK.$0['TQRC_SHOWME_SCATSING_2X']='tableau-1.3/res/showme/ShowMe_Scatter@2x.png';iK.$0['TQRC_SHOWME_BARSIDEBY_2X']='tableau-1.3/res/showme/ShowMe_SideBySideBars@2x.png';iK.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/ShowMe_SideBySideCircles@2x.png';iK.$0['TQRC_SHOWME_BARSTACKED_2X']='tableau-1.3/res/showme/ShowMe_StackedBars@2x.png';iK.$0['TQRC_SHOWME_MAPS_2X']='tableau-1.3/res/showme/ShowMe_SymbolMap@2x.png';iK.$0['TQRC_SHOWME_TEXTTABLE_2X']='tableau-1.3/res/showme/ShowMe_TextTable@2x.png';iK.$0['TQRC_SHOWME_TREEMAP_2X']='tableau-1.3/res/showme/ShowMe_TreeMap@2x.png';iK.$0['TQRC_SHOWME_1_BARSTACKED']='tableau-1.3/res/showme/enabled/BarStacked.png';iK.$0['TQRC_SHOWME_1_BARSIDEBY']='tableau-1.3/res/showme/enabled/BarSideBySide.png';iK.$0['TQRC_SHOWME_1_BARHORIZONTAL']='tableau-1.3/res/showme/enabled/BarHorizontal.png';iK.$0['TQRC_SHOWME_1_BARLINE']='tableau-1.3/res/showme/enabled/BarLine.png';iK.$0['TQRC_SHOWME_1_CIRCLE']='tableau-1.3/res/showme/enabled/Circle.png';iK.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/enabled/CircleSideBySide.png';iK.$0['TQRC_SHOWME_1_GANTT']='tableau-1.3/res/showme/enabled/Gantt.png';iK.$0['TQRC_SHOWME_1_HEATMAP']='tableau-1.3/res/showme/enabled/HeatMap.png';iK.$0['TQRC_SHOWME_1_HISTOGRAM']='tableau-1.3/res/showme/enabled/Histogram.png';iK.$0['TQRC_SHOWME_1_LINEDIM']='tableau-1.3/res/showme/enabled/LineDimension.png';iK.$0['TQRC_SHOWME_1_LINEMEAS']='tableau-1.3/res/showme/enabled/LineMeasure.png';iK.$0['TQRC_SHOWME_1_AREAMEAS']='tableau-1.3/res/showme/enabled/FilledLineContinuous.png';iK.$0['TQRC_SHOWME_1_AREADIM']='tableau-1.3/res/showme/enabled/FilledLineDiscrete.png';iK.$0['TQRC_SHOWME_1_SCATSING']='tableau-1.3/res/showme/enabled/ScatterSingle.png';iK.$0['TQRC_SHOWME_1_TEXTTABLE']='tableau-1.3/res/showme/enabled/TextTable.png';iK.$0['TQRC_SHOWME_1_SPOTTABLE']='tableau-1.3/res/showme/enabled/SpotTable.png';iK.$0['TQRC_SHOWME_1_MAPS']='tableau-1.3/res/showme/enabled/Maps.png';iK.$0['TQRC_SHOWME_1_FILLEDMAPS']='tableau-1.3/res/showme/enabled/FilledMaps.png';iK.$0['TQRC_SHOWME_1_PIES']='tableau-1.3/res/showme/enabled/Pies.png';iK.$0['TQRC_SHOWME_1_DUALLINE']='tableau-1.3/res/showme/enabled/DualAxis.png';iK.$0['TQRC_SHOWME_1_BULLET']='tableau-1.3/res/showme/enabled/Bullet.png';iK.$0['TQRC_SHOWME_1_TREEMAP']='tableau-1.3/res/showme/enabled/Treemap.png';iK.$0['TQRC_SHOWME_1_BUBBLE']='tableau-1.3/res/showme/enabled/Bubble.png';iK.$0['TQRC_SHOWME_1_BOXPLOT']='tableau-1.3/res/showme/enabled/Boxplot.png';iK.$0['TQRC_SHOWME_1_BARSTACKED_2X']='tableau-1.3/res/showme/enabled/BarStacked@2x.png';iK.$0['TQRC_SHOWME_1_BARSIDEBY_2X']='tableau-1.3/res/showme/enabled/BarSideBySide@2x.png';iK.$0['TQRC_SHOWME_1_BARHORIZONTAL_2X']='tableau-1.3/res/showme/enabled/BarHorizontal@2x.png';iK.$0['TQRC_SHOWME_1_BARLINE_2X']='tableau-1.3/res/showme/enabled/BarLine@2x.png';iK.$0['TQRC_SHOWME_1_CIRCLE_2X']='tableau-1.3/res/showme/enabled/Circle@2x.png';iK.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/enabled/CircleSideBySide@2x.png';iK.$0['TQRC_SHOWME_1_GANTT_2X']='tableau-1.3/res/showme/enabled/Gantt@2x.png';iK.$0['TQRC_SHOWME_1_HEATMAP_2X']='tableau-1.3/res/showme/enabled/HeatMap@2x.png';iK.$0['TQRC_SHOWME_1_HISTOGRAM_2X']='tableau-1.3/res/showme/enabled/Histogram@2x.png';iK.$0['TQRC_SHOWME_1_LINEDIM_2X']='tableau-1.3/res/showme/enabled/LineDimension@2x.png';iK.$0['TQRC_SHOWME_1_LINEMEAS_2X']='tableau-1.3/res/showme/enabled/LineMeasure@2x.png';iK.$0['TQRC_SHOWME_1_AREAMEAS_2X']='tableau-1.3/res/showme/enabled/FilledLineContinuous@2x.png';iK.$0['TQRC_SHOWME_1_AREADIM_2X']='tableau-1.3/res/showme/enabled/FilledLineDiscrete@2x.png';iK.$0['TQRC_SHOWME_1_SCATSING_2X']='tableau-1.3/res/showme/enabled/ScatterSingle@2x.png';iK.$0['TQRC_SHOWME_1_TEXTTABLE_2X']='tableau-1.3/res/showme/enabled/TextTable@2x.png';iK.$0['TQRC_SHOWME_1_SPOTTABLE_2X']='tableau-1.3/res/showme/enabled/SpotTable@2x.png';iK.$0['TQRC_SHOWME_1_MAPS_2X']='tableau-1.3/res/showme/enabled/Maps@2x.png';iK.$0['TQRC_SHOWME_1_FILLEDMAPS_2X']='tableau-1.3/res/showme/enabled/FilledMaps@2x.png';iK.$0['TQRC_SHOWME_1_PIES_2X']='tableau-1.3/res/showme/enabled/Pies@2x.png';iK.$0['TQRC_SHOWME_1_DUALLINE_2X']='tableau-1.3/res/showme/enabled/DualAxis@2x.png';iK.$0['TQRC_SHOWME_1_BULLET_2X']='tableau-1.3/res/showme/enabled/Bullet@2x.png';iK.$0['TQRC_SHOWME_1_TREEMAP_2X']='tableau-1.3/res/showme/enabled/Treemap@2x.png';iK.$0['TQRC_SHOWME_1_BUBBLE_2X']='tableau-1.3/res/showme/enabled/Bubble@2x.png';iK.$0['TQRC_SHOWME_1_BOXPLOT_2X']='tableau-1.3/res/showme/enabled/Boxplot@2x.png';iK.$0['TQRC_SHOWME_0_BARSTACKED']='tableau-1.3/res/showme/disabled/BarStacked.png';iK.$0['TQRC_SHOWME_0_BARSIDEBY']='tableau-1.3/res/showme/disabled/BarSideBySide.png';iK.$0['TQRC_SHOWME_0_BARHORIZONTAL']='tableau-1.3/res/showme/disabled/BarHorizontal.png';iK.$0['TQRC_SHOWME_0_BARLINE']='tableau-1.3/res/showme/disabled/BarLine.png';iK.$0['TQRC_SHOWME_0_CIRCLE']='tableau-1.3/res/showme/disabled/Circle.png';iK.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/disabled/CircleSideBySide.png';iK.$0['TQRC_SHOWME_0_GANTT']='tableau-1.3/res/showme/disabled/Gantt.png';iK.$0['TQRC_SHOWME_0_HEATMAP']='tableau-1.3/res/showme/disabled/HeatMap.png';iK.$0['TQRC_SHOWME_0_HISTOGRAM']='tableau-1.3/res/showme/disabled/Histogram.png';iK.$0['TQRC_SHOWME_0_LINEDIM']='tableau-1.3/res/showme/disabled/LineDimension.png';iK.$0['TQRC_SHOWME_0_LINEMEAS']='tableau-1.3/res/showme/disabled/LineMeasure.png';iK.$0['TQRC_SHOWME_0_AREAMEAS']='tableau-1.3/res/showme/disabled/FilledLineContinuous.png';iK.$0['TQRC_SHOWME_0_AREADIM']='tableau-1.3/res/showme/disabled/FilledLineDiscrete.png';iK.$0['TQRC_SHOWME_0_SCATSING']='tableau-1.3/res/showme/disabled/ScatterSingle.png';iK.$0['TQRC_SHOWME_0_TEXTTABLE']='tableau-1.3/res/showme/disabled/TextTable.png';iK.$0['TQRC_SHOWME_0_SPOTTABLE']='tableau-1.3/res/showme/disabled/SpotTable.png';iK.$0['TQRC_SHOWME_0_MAPS']='tableau-1.3/res/showme/disabled/Maps.png';iK.$0['TQRC_SHOWME_0_FILLEDMAPS']='tableau-1.3/res/showme/disabled/FilledMaps.png';iK.$0['TQRC_SHOWME_0_PIES']='tableau-1.3/res/showme/disabled/Pies.png';iK.$0['TQRC_SHOWME_0_DUALLINE']='tableau-1.3/res/showme/disabled/DualAxis.png';iK.$0['TQRC_SHOWME_0_BULLET']='tableau-1.3/res/showme/disabled/Bullet.png';iK.$0['TQRC_SHOWME_0_TREEMAP']='tableau-1.3/res/showme/disabled/Treemap.png';iK.$0['TQRC_SHOWME_0_BUBBLE']='tableau-1.3/res/showme/disabled/Bubble.png';iK.$0['TQRC_SHOWME_0_BOXPLOT']='tableau-1.3/res/showme/disabled/Boxplot.png';iK.$0['TQRC_SHOWME_0_BARSTACKED_2X']='tableau-1.3/res/showme/disabled/BarStacked@2x.png';iK.$0['TQRC_SHOWME_0_BARSIDEBY_2X']='tableau-1.3/res/showme/disabled/BarSideBySide@2x.png';iK.$0['TQRC_SHOWME_0_BARHORIZONTAL_2X']='tableau-1.3/res/showme/disabled/BarHorizontal@2x.png';iK.$0['TQRC_SHOWME_0_BARLINE_2X']='tableau-1.3/res/showme/disabled/BarLine@2x.png';iK.$0['TQRC_SHOWME_0_CIRCLE_2X']='tableau-1.3/res/showme/disabled/Circle@2x.png';iK.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/disabled/CircleSideBySide@2x.png';iK.$0['TQRC_SHOWME_0_GANTT_2X']='tableau-1.3/res/showme/disabled/Gantt@2x.png';iK.$0['TQRC_SHOWME_0_HEATMAP_2X']='tableau-1.3/res/showme/disabled/HeatMap@2x.png';iK.$0['TQRC_SHOWME_0_HISTOGRAM_2X']='tableau-1.3/res/showme/disabled/Histogram@2x.png';iK.$0['TQRC_SHOWME_0_LINEDIM_2X']='tableau-1.3/res/showme/disabled/LineDimension@2x.png';iK.$0['TQRC_SHOWME_0_LINEMEAS_2X']='tableau-1.3/res/showme/disabled/LineMeasure@2x.png';iK.$0['TQRC_SHOWME_0_AREAMEAS_2X']='tableau-1.3/res/showme/disabled/FilledLineContinuous@2x.png';iK.$0['TQRC_SHOWME_0_AREADIM_2X']='tableau-1.3/res/showme/disabled/FilledLineDiscrete@2x.png';iK.$0['TQRC_SHOWME_0_SCATSING_2X']='tableau-1.3/res/showme/disabled/ScatterSingle@2x.png';iK.$0['TQRC_SHOWME_0_TEXTTABLE_2X']='tableau-1.3/res/showme/disabled/TextTable@2x.png';iK.$0['TQRC_SHOWME_0_SPOTTABLE_2X']='tableau-1.3/res/showme/disabled/SpotTable@2x.png';iK.$0['TQRC_SHOWME_0_MAPS_2X']='tableau-1.3/res/showme/disabled/Maps@2x.png';iK.$0['TQRC_SHOWME_0_FILLEDMAPS_2X']='tableau-1.3/res/showme/disabled/FilledMaps@2x.png';iK.$0['TQRC_SHOWME_0_PIES_2X']='tableau-1.3/res/showme/disabled/Pies@2x.png';iK.$0['TQRC_SHOWME_0_DUALLINE_2X']='tableau-1.3/res/showme/disabled/DualAxis@2x.png';iK.$0['TQRC_SHOWME_0_BULLET_2X']='tableau-1.3/res/showme/disabled/Bullet@2x.png';iK.$0['TQRC_SHOWME_0_TREEMAP_2X']='tableau-1.3/res/showme/disabled/Treemap@2x.png';iK.$0['TQRC_SHOWME_0_BUBBLE_2X']='tableau-1.3/res/showme/disabled/Bubble@2x.png';iK.$0['TQRC_SHOWME_0_BOXPLOT_2X']='tableau-1.3/res/showme/disabled/Boxplot@2x.png';iK.$0['TQRC_TREE_MINUS']='tableau-1.3/res/others/TreeMinus.png';iK.$0['TQRC_TREE_MINUS_2X']='tableau-1.3/res/others/TreeMinus@2x.png';iK.$0['TQRC_TREE_PLUS']='tableau-1.3/res/others/TreePlus.png';iK.$0['TQRC_TREE_PLUS_2X']='tableau-1.3/res/others/TreePlus@2x.png';iK.$0['TQRC_ANALYTICSPANE_DROP_TABLE']='tableau-1.3/res/analyticspane/drop/table.png';iK.$0['TQRC_ANALYTICSPANE_DROP_PANE']='tableau-1.3/res/analyticspane/drop/pane.png';iK.$0['TQRC_ANALYTICSPANE_DROP_CELL']='tableau-1.3/res/analyticspane/drop/cell.png';iK.$0['TQRC_ANALYTICSPANE_DROP_LINEAR']='tableau-1.3/res/analyticspane/drop/trend-linear.png';iK.$0['TQRC_ANALYTICSPANE_DROP_POLY']='tableau-1.3/res/analyticspane/drop/trend-polynomial.png';iK.$0['TQRC_ANALYTICSPANE_DROP_POWER']='tableau-1.3/res/analyticspane/drop/trend-power.png';iK.$0['TQRC_ANALYTICSPANE_DROP_LOG']='tableau-1.3/res/analyticspane/drop/trend-logarithmic.png';iK.$0['TQRC_ANALYTICSPANE_DROP_EXP']='tableau-1.3/res/analyticspane/drop/trend-exponential.png';iK.$0['TQRC_ANALYTICSPANE_DROP_SUBTOTAL']='tableau-1.3/res/analyticspane/drop/sub-total.png';iK.$0['TQRC_ANALYTICSPANE_DROP_COLUMN']='tableau-1.3/res/analyticspane/drop/column-total.png';iK.$0['TQRC_ANALYTICSPANE_DROP_ROW']='tableau-1.3/res/analyticspane/drop/row-total.png';iK.$0['TQRC_ANALYTICSPANE_DROP_FORECAST']='tableau-1.3/res/analyticspane/drop/forecast.png';iK.$0['TQRC_ANALYTICSPANE_DROP_CLUSTER']='tableau-1.3/res/analyticspane/drop/cluster.png';iK.$0['TQRC_ANALYTICSPANE_DROP_OUTLIER']='tableau-1.3/res/analyticspane/drop/outliers.png';iK.$0['TQRC_ANALYTICSPANE_REFLINE']='tableau-1.3/res/analyticspane/refline.png';iK.$0['TQRC_ANALYTICSPANE_REFBAND']='tableau-1.3/res/analyticspane/refband.png';iK.$0['TQRC_ANALYTICSPANE_DISTBAND']='tableau-1.3/res/analyticspane/distband.png';iK.$0['TQRC_ANALYTICSPANE_BOXPLOT']='tableau-1.3/res/analyticspane/boxplot.png';iK.$0['TQRC_ANALYTICSPANE_TOTAL']='tableau-1.3/res/analyticspane/total.png';iK.$0['TQRC_ANALYTICSPANE_TRENDLINE']='tableau-1.3/res/analyticspane/trendline.png';iK.$0['TQRC_ANALYTICSPANE_95ANDMEDIAN']='tableau-1.3/res/analyticspane/95andmedian.png';iK.$0['TQRC_ANALYTICSPANE_FORECAST']='tableau-1.3/res/analyticspane/forecast.png';iK.$0['TQRC_ANALYTICSPANE_CLUSTER']='tableau-1.3/res/analyticspane/cluster.png';iK.$0['TQRC_ANALYTICSPANE_OUTLIER']='tableau-1.3/res/analyticspane/outliers.png'})();(function(){jB.$0={}})();(function(){bS.$0='granted'})();(function(){hT.$1=0})();(function(){cA.$4='get_customized_views';cA.$6='set_default_customized_view';cA.$3='destroy_customized_view';cA.$5='save_customized_view';cA.$7='update_customized_view';cA.$2=tab.Logger.getLogger(cA)})();(function(){gE.$0=null})();(function(){cS.everyTime=0;cS.hourly=60;cS.daily=1440;cS.weekly=10080;cS.onlyOnce=2147483647})();(function(){dj.$0=null})();(function(){dp.$3=null;dp.$4={};if(tab.FeatureFlags.isEnabled('TAA_HybridDialogs')){dp.$3=dp.$2();if(tab.FeatureFlags.isEnabled('BinHybridDialog')){dp.$0('@tableau/numeric-bin-dialog','numeric-bin-dialog','doc:update-numeric-bin-edit-dialog-event',null)}if(tab.FeatureFlags.isEnabled('EditAxisDialog')){dp.$0('@tableau/edit-axis-dialog','edit-axis-dialog','doc:update-edit-axis-dialog-event',null)}if(tab.FeatureFlags.isEnabled('DetailedErrorDialogWeb')){var e={customZIndex:1000,contentClassName:'detailedErrorDialog'};dp.$0('@tableau/detailed-error-dialog','detailed-error-dialog','doc:update-detailed-error-dialog-event',e)}if(tab.FeatureFlags.isEnabled('SortHybridDialogWeb')){dp.$0('@tableau/sort-dialog','sort-dialog','doc:show-sort-dialog-event',null).addDependency(dp.$1('@tableau/widgets-datagrid','widgets-datagrid'))}if(tab.FeatureFlags.isEnabled('ExtensionSelectionDialog')){dp.$0('@tableau/choose-extension-dialog','choose-extension-dialog','doc:choose-extension-dialog-event',null)}if(tab.FeatureFlags.isEnabled('BasicButtonObject')){dp.$0('@tableau/button-config-dialog','button-config-dialog','doc:update-button-config-dialog-event',null)}if(tsConfig.is_authoring){if(tab.FeatureFlags.isEnabled('RichTextEditingHybridDialogWeb')){dp.$0('@tableau/rich-text-editor-hybrid-dialog','rich-text-editor-hybrid-dialog','doc:rich-text-editor-dialog-event',null)}}}})();(function(){et.tableauFallback='Arial';et.sansSerifFallback='sans-serif';et.$5=[{item1:'thin',item2:'100'},{item1:'extra-light',item2:'200'},{item1:'extra light',item2:'200'},{item1:'light',item2:'300'},{item1:'normal',item2:'400'},{item1:'regular',item2:'400'},{item1:'book',item2:'400'},{item1:'medium',item2:'500'},{item1:'demi-bold',item2:'600'},{item1:'demibold',item2:'600'},{item1:'semi-bold',item2:'600'},{item1:'semibold',item2:'600'},{item1:'demi',item2:'600'},{item1:'bold',item2:'700'},{item1:'heavy',item2:'800'},{item1:'black',item2:'900'}];et.$3=[{item1:'compressed',item2:'extra-condensed'},{item1:'narrow',item2:'condensed'},{item1:'condensed',item2:'condensed'}];et.$4=[{item1:'italic',item2:'italic'}];et.$2={}})();(function(){ea.$1=null;ea.$0='Authoring_DataTab_FileUpload_'})();(function(){iu.fontFaces=['Arial','Courier New','Tableau Bold','Tableau Book','Tableau Light','Tableau Medium','Tableau Regular','Tableau Semibold','Times New Roman']})();(function(){jE.fakeFontName='TableauTestFont';jE.fakeFontTestText='A';jE.fakeFontDivClass='TestFontContainer';jE.$3={};jE.$4=$(document.body);jE.$2=0;jE.$1=0;iB.callAfterModelsInitialized(function(){$('<div />').addClass('TestFontContainer').css({'font-family':'TableauTestFont',visibility:'hidden','z-index':'-1',position:'absolute',top:'0',right:'0'}).text('A').appendTo(jE.$4)})})();(function(){eu.fontListStorageKey='auth-font-list';eu.fontSizes=[8,9,10,11,12,14,15,16,18,20,22,24,26,28,36,48,72]})();(function(){gs.currentPage=4294967295})();(function(){gD.$0=null})();(function(){gF.$0=null})();(function(){hO.tableauLight='Tableau Light';hO.tableauBook='Tableau Book';hO.tableauRegular='Tableau Regular';hO.tableauMedium='Tableau Medium';hO.tableauSemibold='Tableau Semibold';hO.tableauBold='Tableau Bold';hO.bentonSansLight='Benton Sans Light';hO.bentonSansBook='Benton Sans Book';hO.bentonSansBookItalic='Benton Sans Book Italic';hO.bentonSansMedium='Benton Sans Medium';hO.bentonSansSemiDemi='Benton Sans SemiDemi';hO.bentonSansSemiDemiItalic='Benton Sans SemiDemi Italic';hO.tableauFontWoffPaths=ss.mkdict(['Tableau Light',tableau.util.assetUrl('/fonts/Tableau-Light.woff'),'Tableau Book',tableau.util.assetUrl('/fonts/Tableau-Book.woff'),'Tableau Regular',tableau.util.assetUrl('/fonts/Tableau-Regular.woff'),'Tableau Medium',tableau.util.assetUrl('/fonts/Tableau-Medium.woff'),'Tableau Semibold',tableau.util.assetUrl('/fonts/Tableau-Semibold.woff'),'Tableau Bold',tableau.util.assetUrl('/fonts/Tableau-Bold.woff')]);hO.bentonSansWoffPaths=ss.mkdict(['Benton Sans Light',tableau.util.assetUrl('/fonts/BentonSans-Light.woff'),'Benton Sans Book',tableau.util.assetUrl('/fonts/BentonSans-Book.woff'),'Benton Sans Book Italic',tableau.util.assetUrl('/fonts/BentonSans-Book_Italic.woff'),'Benton Sans Medium',tableau.util.assetUrl('/fonts/BentonSans-Medium.woff'),'Benton Sans SemiDemi',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi.woff'),'Benton Sans SemiDemi Italic',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi_Italic.woff')]);var e=new dt;e.set_fontFamily('Tableau Light');e.woffLocation=hO.tableauFontWoffPaths['Tableau Light'];var ex=new dt;ex.set_fontFamily('Tableau Light');ex.set_weight('bold');ex.woffLocation=hO.tableauFontWoffPaths['Tableau Medium'];var kc=new dt;kc.set_fontFamily('Tableau Book');kc.woffLocation=hO.tableauFontWoffPaths['Tableau Book'];var kd=new dt;kd.set_fontFamily('Tableau Book');kd.set_weight('bold');kd.woffLocation=hO.tableauFontWoffPaths['Tableau Medium'];var ke=new dt;ke.set_fontFamily('Tableau Regular');ke.woffLocation=hO.tableauFontWoffPaths['Tableau Regular'];var kf=new dt;kf.set_fontFamily('Tableau Regular');kf.set_weight('bold');kf.woffLocation=hO.tableauFontWoffPaths['Tableau Semibold'];var kg=new dt;kg.set_fontFamily('Tableau Medium');kg.woffLocation=hO.tableauFontWoffPaths['Tableau Medium'];var kh=new dt;kh.set_fontFamily('Tableau Medium');kh.set_weight('bold');kh.woffLocation=hO.tableauFontWoffPaths['Tableau Bold'];var ki=new dt;ki.set_fontFamily('Tableau Semibold');ki.woffLocation=hO.tableauFontWoffPaths['Tableau Semibold'];var kj=new dt;kj.set_fontFamily('Tableau Semibold');kj.set_weight('bold');kj.woffLocation=hO.tableauFontWoffPaths['Tableau Bold'];var kk=new dt;kk.set_fontFamily('Tableau Bold');kk.woffLocation=hO.tableauFontWoffPaths['Tableau Bold'];var kl=new dt;kl.set_fontFamily('Tableau Bold');kl.set_weight('bold');kl.woffLocation=hO.tableauFontWoffPaths['Tableau Bold'];hO.tableauFontNames=[e,ex,kc,kd,ke,kf,kg,kh,ki,kj,kk,kl];var e=new dt;e.set_fontFamily('Benton Sans');e.woffLocation=hO.bentonSansWoffPaths['Benton Sans Book'];hO.bentonSansFontNames=[e];var e=new dt;e.set_fontFamily('Benton Sans Low-DPI');e.woffLocation=hO.bentonSansWoffPaths['Benton Sans SemiDemi'];hO.bentonSansLowDpiFontNames=[e];hO.effectiveBentonSans=(tab.BrowserSupport.get_isHighDpi()?hO.bentonSansFontNames:hO.bentonSansLowDpiFontNames)})();(function(){ho.$2=null;ho.defaultContentSecurityPolicy="default-src 'none'; script-src 'self'; connect-src 'self'; img-src * data:; style-src 'self' 'unsafe-inline'; font-src 'self' {0};"})();(function(){hs.shapeMapping=null;hs.reverseShapeMapping=null;hs.$1=null;hs.$0=null;hs.lineInterpolationMapping=null;hs.$1={};hs.$1['enable-pan-x']=1;hs.$1['enable-pan-y']=2;hs.$1['enable-zoom-x']=4;hs.$1['enable-zoom-y']=8;hs.$1['enable-scale-x']=16;hs.$1['enable-scale-y']=32;hs.$1['clip-to-cell-x']=64;hs.$1['clip-to-cell-y']=128;hs.$1['clip-to-cell-for-selection']=256;hs.$1['x-axis-on-top']=512;hs.$1['y-axis-on-right']=1024;hs.$1['has-cells-x']=2048;hs.$1['has-cells-y']=4096;hs.$0={};hs.$0['end']=1;hs.$0['endprimitive']=2;hs.$0['closedprimitive']=4;hs.$0['marked']=8;hs.$0['markediflabel']=16;hs.$0['debug']=128;hs.$0['user']=65536;hs.shapeMapping=ss.mkdict(['0','shapeIDCircle','1','shapeIDSquare','2','shapeIDPlus','3','shapeIDTimes','4','shapeIDAsterisk','5','shapeIDDiamond','6','shapeIDTriangle','7','shapeIDDownTriangle','8','shapeIDLeftTriangle','9','shapeIDRightTriangle','4194304','shapeIDFilledCircle','4194305','shapeIDFilledSquare','4194306','shapeIDFilledPlus','4194307','shapeIDFilledTimes','4194308','shapeIDFilledStar','4194309','shapeIDFilledDiamond','4194310','shapeIDFilledTriangle','4194311','shapeIDFilledDownTriangle','4194312','shapeIDFilledLeftTriangle','4194313','shapeIDFilledRightTriangle','-4194304','shapeIDUnscaledFilledCircle']);hs.reverseShapeMapping={};var e=_.keys(hs.shapeMapping);for(var ex=0;ex<e.length;ex++){var kc=e[ex];hs.reverseShapeMapping[hs.shapeMapping[kc]]=kc}hs.lineInterpolationMapping=ss.mkdict(['0','lim-linear','1','lim-step','2','lim-jump'])})();(function(){hv.blackColor=null;var e=(new bG(0,0,0,1)).toRgba();hv.blackColor={};hv.blackColor['colorOverrideNone']=e;hv.blackColor['colorOverrideFog']=e;hv.blackColor['colorOverrideOpaque']=e})();(function(){hy.maxDatasourceCaptionLength=254})();(function(){iS.$1=new RegExp('^https?://[^/]+(.*)$')})();(function(){ja.$e=['<span style="white-space:pre"><div class="uberSelection"style="text-align:center;"><span>&nbsp;&nbsp;</span>','<span style="font-weight:bold;">','','</span><span> ','','  </span><span>','·','  </span><span>','',' </span><span>','','</span><span>',': ','</span><span style="font-weight:bold;">','','</span><span>&nbsp;&nbsp;','</span></div></span>'];ja.$f=['<div class="uberSelection"style="text-align:center;"><span></span>','<span style="font-weight:bold;"> ','',' </span><span>','','</span><div> ']})()})();;
/*! BEGIN TableauRuntime */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabruntime');var b=function(){};b.__typeName='tab.$0';b.$0=function(C,D){var E=new Object;E.type=null;E.value=null;E.type=C;E.value=D;return E};b.isInstanceOfType=function(){return true};var c=function(C){this.$b=0;this.$9=0;this.$e=0;this.$a=new Array;this.$d=new Array;this.$7=new Array;this.$c=null;this.$8=null;this.$c=C;this.$a.push(true);this.$8={};this.$d.push(this.$8);this.$7.push([])};c.__typeName='tab.$1';var d=function(){};d.__typeName='tab.Base64HeapDecoder';d.$0=function(C){if(ss.isNullOrUndefined(d.$1)){d.$1=new Array(4);for(var D=0;D<d.$2.length;++D){d.$1[d.$2.charCodeAt(D)]=D}}if(C===61){return 0}else{return d.$1[C]}};d.decodedLength=function(C){var D=0;var E=C.length;var F=E;if(C.charCodeAt(E-2)===61){D=4;F-=2;if(C.charCodeAt(E-1)!==61){throw new ss.Exception('Received incorrectly formatted base64 string!')}}else if(C.charCodeAt(E-1)===61){F-=1;D=2}return ss.Int32.div(F*6-D,8)};d.run=function(C,D,E){var F=E.length;var G=0,H=0,I=0,J=0;var K=0;var L=d.decodedLength(E);for(var M=0;M<F;M+=4){G=d.$0(E.charCodeAt(M));H=d.$0(E.charCodeAt(M+1));I=d.$0(E.charCodeAt(M+2));J=d.$0(E.charCodeAt(M+3));D[C++]=G<<2|H>>>4;K++;if(K<L){D[C++]=(H&15)<<4|I>>>2;K++}if(K<L){D[C++]=(I&3)<<6|J&63;K++}}};global.tab.Base64HeapDecoder=d;var e=function(C,D){r.call(this,C,D)};e.__typeName='tab.DatastoreHandle';global.tab.DatastoreHandle=e;var f=function(){};f.__typeName='tab.DataStoreKey';global.tab.DataStoreKey=f;var g=function(){};g.__typeName='tab.EnumConversions';g.visualPartFromInt=function(C){if(ss.isNullOrUndefined(g.$1)){g.$1=['misc','annotations','axis-rules','top-axis','bottom-axis','left-axis','right-axis','background','borders','caption','cell-borders','decoration','drop-lines','x-labels','y-labels','legends','marks','mark-labels','mark-trails','ref-bands','ref-lines','pane-borders','scroll-bars','title','trend-lines','upper-map-layers']}return g.$1[C]};g.primitiveFromInt=function(C){if(ss.isNullOrUndefined(g.$0)){g.$0=['shape','line','bar','polar-bar','text','label','pie','area','polygon','multipolygon','square','heatmap']}return g.$0[C]};g.vizTypeFromInt=function(C){if(ss.isNullOrUndefined(g.$2)){g.$2=['standard','oo-stacked','gantt-stacked','treemap','bubble','wordle','highlight']}return g.$2[C]};global.tab.EnumConversions=g;var h=function(){};h.__typeName='tab.FallbackTextDecoder';h.decode=function(C){var D,E,F,G,H,I;var J=0;var K='';while(J<C.byteLength){D=C[J++];if(D===0){return K}if((D&128)===0){K+=String.fromCharCode(D);continue}E=C[J++]&63;if((D&224)===192){K+=String.fromCharCode((D&31)<<6|E);continue}F=C[J++]&63;if((D&240)===224){D=(D&15)<<12|E<<6|F}else{G=C[J++]&63;if((D&248)===240){D=(D&7)<<18|E<<12|F<<6|G}else{H=C[J++]&63;if((D&252)===248){D=(D&3)<<24|E<<18|F<<12|G<<6|H}else{I=C[J++]&63;D=(D&1)<<30|E<<24|F<<18|G<<12|H<<6|I}}}if(D<65536){K+=String.fromCharCode(D)}else{var L=D-65536;K+=String.fromCharCode(55296|L>>10,56320|L&1023)}}return K};global.tab.FallbackTextDecoder=h;var i=function(){};i.__typeName='tab.HuttUtils';i.getMappedArray=function(C,D,E,F){switch(C){case 32:{return new Uint8Array(D,E,F)}case 33:{return new Uint16Array(D,E,F)}case 34:{return new Uint32Array(D,E,F)}case 40:{return new Int8Array(D,E,F)}case 41:{return new Int16Array(D,E,F)}case 42:{return new Int32Array(D,E,F)}case 50:{return new Float32Array(D,E,F)}case 51:{return new Float64Array(D,E,F)}}throw new ss.Exception('Unsupported array type: '+C)};i.getMappedArrayJabba=function(C,D,E,F){var G=i.$0(C);var H=ss.Int32.div(F,i.$0(C));switch(C){case 32:{return new Uint8Array(D,E,H)}case 33:{return new Uint16Array(D,E,H)}case 34:{return new Uint32Array(D,E,H)}case 40:{return new Int8Array(D,E,H)}case 41:{return new Int16Array(D,E,H)}case 42:{return new Int32Array(D,E,H)}case 50:{return new Float32Array(D,E,H)}case 51:{return new Float64Array(D,E,H)}}throw new ss.Exception('Unsupported array type: '+C)};i.$0=function(C){var D=C;return 1<<(D&7)};global.tab.HuttUtils=i;var j=function(){};j.__typeName='tab.IRuntimeWebModule';global.tab.IRuntimeWebModule=j;var k=function(C,D){this.typeId=0;this.encoding=0;this.dataOffset=0;this.dataSize=0;this.typeId=C[D+0];this.encoding=C[D+1];this.dataOffset=C[D+2];this.dataSize=C[D+3]};k.__typeName='tab.JabbaManifest';global.tab.JabbaManifest=k;var l=function(C){this.$8=null;this.$b=null;this.$c=0;this.$9=0;this.$a=0;this.$d=[];this.unpacked=[];this.$b=C;this.$7()};l.__typeName='tab.JabbaUnpacker';global.tab.JabbaUnpacker=l;var m=function(C){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=C;this.jabba=new l(C);this.data=new p(this.jabba);this.$0()};m.__typeName='tab.JsHeapMarshaller';m.$3=function(C,D){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=C;this.jabba=null;var E=new Int32Array(this.heap,D,10);this.data=new p.$ctor1(E,this.heap);this.$0()};m.unmarshall$1=function(C,D){var E=new m.$3(C,D);var F=new c(E);return F.$0()};m.unmarshall=function(C){var D=new m(C);var E=new c(D);return E.$0()};m.unmarshallHex=function(C){if(!ss.keyExists(m.$1,C)){m.$1[C]=m.unmarshall(m.$0(C))}var D={};_.extend(D,m.$1[C]);return D};m.unmarshallBase64=function(C){var D=d.decodedLength(C);var E=new Uint8Array(D);d.run(0,E,C);return m.unmarshall(E.buffer)};m.$0=function(C){var D=new Uint8Array(ss.Int32.div(C.length,2));var E=0;var F=0;while(E<C.length){D[F++]=m.$2[C.charCodeAt(E++)]*16|m.$2[C.charCodeAt(E++)]}return D.buffer};global.tab.JsHeapMarshaller=m;var n=function(C){this.$6=0;this.$5=null;this.$6=0;this.$5=C};n.__typeName='tab.LinearFloatGeometryDecoder';global.tab.LinearFloatGeometryDecoder=n;var o=function(){};o.__typeName='tab.LocalEmscripten';global.tab.LocalEmscripten=o;var p=function(C){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;var D=C.unpacked.length-5;this.stringBuffer=C.unpacked[D];this.stringLengths=C.unpacked[D+1];this.opCodes=C.unpacked[D+2];this.intBuffer=C.unpacked[D+3];this.doubleBuffer=C.unpacked[D+4]};p.__typeName='tab.MarshalledVectors';p.$ctor1=function(C,D){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;this.stringBuffer=new Uint8Array(D,C[0],C[1]);this.stringLengths=new Uint32Array(D,C[2],C[3]);this.opCodes=new Uint8Array(D,C[4],C[5]);this.intBuffer=new Int32Array(D,C[6],C[7]);this.doubleBuffer=new Float64Array(D,C[8],C[9])};global.tab.MarshalledVectors=p;var q=function(C,D){r.call(this,C,D)};q.__typeName='tab.MarshallerHandle';global.tab.MarshallerHandle=q;var r=function(C,D){this.handleValue=0;this.$0=null;this.$1=false;this.handleValue=C;this.$0=D};r.__typeName='tab.OpaqueHandle';global.tab.OpaqueHandle=r;var s=function(C,D){this.$0=null;if(!ss.isNullOrUndefined(C.StartIndex)){var E=C.StartIndex.length;var F=C.PaneCol;var G=C.PanePage;var H=C.PaneRow;var I=D.ColumnCount;var J=D.RowCount;var K=C.StartIndex;var L=C.EndIndex;this.$0=new Array(I*J);for(var M=0;M<this.$0.length;++M){this.$0[M]=new Array(2*D.PageCount);for(var N=0;N<this.$0[M].length;++N){this.$0[M][N]=0}}for(var O=0;O<E;++O){var P=F[O]+H[O]*I;var Q=G[O];this.$0[P][Q*2]=K[O];this.$0[P][Q*2+1]=L[O]}}};s.__typeName='tab.PaneDataStoreTable';global.tab.PaneDataStoreTable=s;var t=function(C,D){this.$5=0;this.$0=0;this.$3=0;this.$1=null;this.$4=null;this.$2=null;this.$5=C;this.$0=D};t.__typeName='tab.PaneMarksInfo';t.$ctor1=function(C,D,E,F,G,H){this.$5=0;this.$0=0;this.$3=0;this.$1=null;this.$4=null;this.$2=null;this.$5=D.getStartIndex(E,F);this.$0=D.getEndIndex(E,F);this.$1=D.getPageIndices(E);this.$4=C.PaneKey[E];this.$2={};this.$2['columnIndex'.toString()]=H;this.$2['rowIndex'.toString()]=G;this.$3=E};global.tab.PaneMarksInfo=t;var u=function(C){this.$3='';this.$2=null;this.$5=null;this.$4=null;this.$0=[];this.$1=[];this.$6=[];this.$3=C};u.__typeName='tab.RuntimeData';u.$0=function(C){if(tab.MiscUtil.isNullOrEmpty$2(C)){return[]}var D=[];for(var E=0;E<C.length;E++){var F=C[E];D.push(w.visualListFromDrawPane(F))}return Array.prototype.slice.call(D)};global.tab.RuntimeData=u;var v=function(C,D,E){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.set_VM(C);this.set_initialStore(D);this.set_finalStore(E)};v.__typeName='tab.RuntimeHandles';global.tab.RuntimeHandles=v;var w=function(){};w.__typeName='tab.RuntimeUtil';w.isRuntimeSupported=function(){if((window.navigator.userAgent.indexOf('Safari')!==-1||window.navigator.userAgent.indexOf('TableauMobile')!==-1)&&window.navigator.userAgent.indexOf('OS 11_2_')!==-1){return false}return!ss.isNullOrUndefined(window.self['WebAssembly'])};w.createRuntimeData=function(C){var D=new u(C);return D};w.getViewpoint=function(C){var D=$.Deferred();var E=new e(C,null);y.proxy.marshallDatastore(E).done(function(F){D.resolve(F.Viewpoint)});return D.promise()};w.visualListFromDrawPane=function(C){var D=C;return JSON.parse(z.decode(D[1]))};w.renderNodeFromPredictionMark=function(C){var D={};var E=-695169174;var F=-696033834;switch(C.Type){case-695169174:{{var G={};G.qrgbColor=C.color;G.lineTupleIds=C.LineTupleIds;w.$0(C,G);D=G;D.type='prediction-band'}break}case-696033834:{{var H={};H.qrgbColors=C.Colors;H.qrgbColor=C.halo_color;H.renderOnTop=C.RenderOnTop;H.maxAlpha=C.MaxAlpha;w.$0(C,H);D=H;D.type='prediction-whisker'}break}default:{{}break}}return D};w.$0=function(C,D){D.useYAxis=C.UseYAxis;D.upperEnd=C.UpperEnds;D.lowerEnd=C.LowerEnds;D.oppositeAxis=C.OppositeAxes;D.widths=C.Widths;D.tupleIds=C.TupleIds};global.tab.RuntimeUtil=w;var x=function(C){this.$2=null;this.$2='http://'+C;this.$1()};x.__typeName='tab.RuntimeWebHost';global.tab.RuntimeWebHost=x;var y=function(){};y.__typeName='tab.RuntimeWebModule';global.tab.RuntimeWebModule=y;var z=function(){};z.__typeName='tab.Utf8TextDecoder';z.decode=function(C){if(z.$1){return h.decode(C)}else{return z.$0.decode(C)}};global.tab.Utf8TextDecoder=z;var A=function(){};A.__typeName='tab.VisualKeys';global.tab.VisualKeys=A;var B=function(C,D){r.call(this,C,D)};B.__typeName='tab.VMHandle';global.tab.VMHandle=B;ss.initClass(b,a,{},Object);ss.initClass(c,a,{$0:function(){var C=this.$c.data.opCodes.length;this.$e=0;while(this.$e<C){var D=this.$c.data.opCodes[this.$e];if(3===D){this.$3()}else{this.$1(D)}++this.$e}return this.$8},$2:function(C){var D=null;if(C===5){D=this.$c.data.intBuffer[this.$b++]}else if(C===4){D=this.$c.data.doubleBuffer[this.$9++]}else if(C===6){D=true}else if(C===7){D=false}var E=[];var F=this.$c.data.intBuffer[this.$b++];for(var G=0;G<F;++G){E[G]=D}return E},$3:function(){if(ss.arrayPeekBack(this.$a)){this.$d.pop()}else{this.$7.pop()}this.$a.pop()},$1:function(C){var D=null;var E='';var F=ss.arrayPeekBack(this.$a);var G=ss.arrayPeekBack(this.$d);var H=ss.arrayPeekBack(this.$7);if(F){var I=this.$c.data.intBuffer[this.$b++];if(I<0){E=-I}else{E=this.$c.stringTable[I]}}if(65===C){++this.$e;var J=this.$c.data.opCodes[this.$e];D=this.$2(J)}else if(64===C){D=this.$5()}else if(C>=32&&C<64){D=this.$6(C)}else{D=this.$4(C)}if(F){G[E]=D}else{H.push(D)}},$5:function(){var C=this.$c.data.intBuffer[this.$b++];var D=this.$c.data.intBuffer[this.$b++];var E=[];var F;if(ss.isValue(this.$c.jabba)){F=this.$c.jabba.unpacked[C]}else{F=new Uint32Array(this.$c.heap,C,D)}var G=this.$c.stringTable;for(var H=0;H<F.length;H++){var I=F[H];E.push(G[I])}return E},$6:function(C){var D=this.$c.data.intBuffer[this.$b++];var E=this.$c.data.intBuffer[this.$b++];if(ss.isValue(this.$c.jabba)){return this.$c.jabba.unpacked[D]}else{return i.getMappedArray(C,this.$c.heap,D,E)}},$4:function(C){switch(C){case 1:{this.$a.push(true);this.$d.push({});return ss.arrayPeekBack(this.$d)}case 2:{this.$a.push(false);this.$7.push([]);return ss.arrayPeekBack(this.$7)}case 4:{return this.$c.data.doubleBuffer[this.$9++]}case 5:{return this.$c.data.intBuffer[this.$b++]}case 6:{return true}case 7:{return false}case 8:{return this.$c.stringTable[this.$c.data.intBuffer[this.$b++]]}case 9:{return null}}throw new ss.Exception('Invalid OpCode: '+C.toString())}});ss.initClass(d,a,{});ss.initClass(r,a,{get_typeCode:null,dispose:function(){if(!this.$1){this.$0(this.handleValue);this.$1=true}}},null,[ss.IDisposable]);ss.initClass(e,a,{get_typeCode:function(){return 16}},r,[ss.IDisposable]);ss.initEnum(f,a,{x:1,x1:2,y:3,y1:4,tupleId:5,min:6,max:7,paneId:8,uniqueID:9,dataType:10,rangeType:11,scaleType:12,foldState:13,isReversed:14,includeZero:15,omitSpecials:16,fieldId:17,xAxisModelData:18,yAxisModelData:19,xAxisRangeData:20,yAxisRangeData:21,xAxisTable:22,yAxisTable:23,isValid:24,displayScale:25,actualZoomLevel:26,coverage:27,minResult:28,maxResult:29,zeroResult:30,minRangeResult:31,maxRangeResult:32,pixelSize:33,barLabelsOverflow:34,cellCount:35,axisSizes:36,ranges:37,uniqueRanges:38,rangeMap:39,pointExtendedRanges:40,beforeMarkExtendRanges:41,afterMarkExtendRanges:42,relevantRanges:43,refLineExtents:44,showEntireImagePaneIndex:45,showEntireImageMax:46,showEntireImageMin:47,paneCol:48,key:49,paneRow:50,pxLeft:51,pxTop:52,pxRight:53,pxBottom:54,domainLeft:55,domainTop:56,domainRight:57,domainBottom:58,mapDomainLeft:59,mapDomainTop:60,mapDomainRight:61,mapDomainBottom:62,originX:63,originY:64,xRangeMin:65,xRangeMax:66,yRangeMin:67,yRangeMax:68,rowCount:69,columnCount:70,pageCount:71,panePage:72,startIndex:73,endIndex:74,paneKey:75,isMap:76,hasPosition:77,lockedRatioOfScales:78,defaultMinX:79,defaultMaxX:80,defaultMinY:81,defaultMaxY:82,defaultXSize:83,defaultYSize:84,singleItemMapDelta:85,hasMapProvider:86,pixelsPerCRSUnitAtZoomLevel1:87,maxScaleLevel:88,intermediateLevels:89,tileSize:90,isTileSizeAdjustable:91,minShrink:92,maxStretch:93,haveAnyMarks:94,paneExtentsStaticInput:95,paneExtentsPixelPositions:96,paneExtents:97,paneCount:98,pageIntervalTable:99,noMarksColumnTemplate:100,noPanesColumnTemplate:101,paneRowCol:102,mappedRows:103,mappedCols:104,rangePaddingMin:105,boundingBoxTops:106,boundingBoxBottoms:107,boundingBoxLefts:108,boundingBoxRights:109,latitudesForNullGeometries:110,longitudesForNullGeometries:111,latitudes:112,longitudes:113,showEntireImageHasImages:114,lockedRatio:115,mapLayersModelUpdate:116,color:117,colors:118,defaultParamID:119,haloColor:120,lineTupleIds:121,lowerEnds:122,maxAlpha:123,oppositeAxes:124,renderOnTop:125,tupleIds:126,type:127,upperEnds:128,useYAxis:129,widths:130,lineInterpolation:131,fieldType:132,domainMin:133,domainMax:134,rangeMin:135,rangeMax:136,column:137,drawPanes:138,rect:139,predictionMarks:140,row:141,xNumberMap:142,yNumberMap:143,pdMarks:144,panes:145,userPaneInfo:146,mapCode:147,mapLayersModel:148,mapProvider:149,mappedImageModel:150,modelNumber:151,sourceName:152,waitForImages:153,waitTileFill:154,wrapCount:155,drawFirsts:156,drawLasts:157,inheritedSceneBackgroundColor:158,isSceneBackgroundOpaque:159,labelStore:160,mapPackage:161,perPaneExtents:162,activePages:163,annexedData:164,axisOutput:165,gridLines:166,heatmap:167,firstPassRefLines:168,refLines:169,instantRefLines:170,supportedIncrementalUpdates:171,tickPlacement:172,viewpoint:173,headerCount:174,lineColor:175,lineStyle:176,lineWidth:177,zeroLineColor:178,zeroLineStyle:179,zeroLineWidth:180,isQuantitativeTickType:181,zeroPoint:182,gridLinePlacement:183,encoding:184,maxValue:185,palette:186,steps:187,dataTable:188,flattenedColorEncodings:189,flattenedShapeEncodings:190,flattenedSizeEncodings:191,cellXProvided:192,cellYProvided:193,markId:194,cellX:195,cellY:196,xProj:197,yProj:198,currentStackValue:199,previousStackValue:200,primitiveId:201,scaledStartPoint:202,scaledEndPoint:203,prevLowerValue:204,nextLowerValue:205,lookup:206,paneIndex:207,cellIndex:208,supportedClientUpdates:209,supportedDesktopUpdates:210,axisProducerData:211,encodingData:212,extendedDomain:213,gridLineProducerData:214,markLayoutTempKeys:215,tickProducerData:216,pdMarksData:217,importData:218,refLinesData:219,refLinesTotalTableMapData:220,selectionData:221,incrementalUpdateData:222,viewParametersData:223,paneStyles:224,heatmapData:225,height:226,markFlags:227,textRunCount:228,textRunOffset:229,userPaneCol:230,userPaneRow:231,width:232,textEncodingTable:233,textRunTable:234,textStyleTable:235,xCellOffsets:236,xPixelOffsets:237,yCellOffsets:238,yPixelOffsets:239,colorEncodingKeys:240,shapeEncodingKeys:241,sizeEncodingKeys:242,measureNamesKeys:243,isDiverging:244,fixedMin:245,fixedMax:246,fixedCenter:247,divergingPalette:248,reversedPalette:249,defaultPalette:250,size:251,unscaledSize:252,hasPerMarkEncoding:253,defaultMarkColor:254,defaultShape:255,defaultSize:256,xFloat:257,yFloat:258,clipHeight:259,clipWidth:260,geometry:261,isMarkStacked:262,rho:263,rho1:264,shapeId:265,theta:266,theta1:267,trailId:268,xNext:269,xPrev:270,yNext:271,yPrev:272,alpha:273,backgroundColor:274,borderColor:275,drawBorder:276,dropLineFlags:277,hasFoldedAxis:278,hasHalos:279,handleSpecialsX:280,handleSpecialsY:281,hasEmptyOrEqualAxis:282,highlightedHaloColor:283,scaleTypeX:284,scaleTypeY:285,labelOnePerGroup:286,labelTargetPrimitiveId:287,markLabelPadding:288,markTrailAutoColor:289,markTrailColor:290,markTrailCount:291,markTrailEndEffect:292,markTrailStartEffect:293,markTrailTransparency:294,minBarHeight:295,minBarWidth:296,pageTrailMarksToTrail:297,paneFlags:298,paneHasBackground:299,primitiveType:300,selectedHaloColor:301,selectedMultiPrimHaloColor:302,showRunningOrderLabels:303,trailOverrides:304,vizType:305,wrapDomain:306,parameters:307,geometryTable:308,textCompositionInputKeys:309,textTableHelper:310,wordleRandomKeys:311,xDomains:312,xHiddenMarks:313,yDomains:314,yHiddenMarks:315,domain:316,ellipses:317,encodings:318,hasPerMarkColorEncoding:319,hasPerMarkSizeEncoding:320,markLayoutData:321,textTable:322,treemapKeys:323,showLabels:324,labelMode:325,cellSizeDefault:326,cellSizeDefaultConst:327,colorBeforeAlpha:328,markStackIndex:329,markFlagsX:330,markFlagsY:331,predictionIntervalLowerEnd:332,predictionIntervalUpperEnd:333,predictionWhiskerWidth:334,sizeGantt:335,sizeLabel:336,sizeOutputs:337,xRawInput:338,yRawInput:339,lookupColor:340,xPriorToWrap:341,packedLayout:342,hierarchyDepth:343,hierarchyTables:344,referenceLineSpecId:345,linePattern:346,lineCap:347,lineJoin:348,labelBackgroundColor:349,axisKeyPath:350,referenceLineType:351,formulaType:352,labelType:353,enableInstantRefline:354,calculationScope:355,confidencePercentage:356,constantValue:357,formattedConstantValue:358,tileCount:359,standardDevType:360,fillBelow:361,fillAbove:362,customLabel:363,zOrder:364,referenceLineStyleId:365,xDomainLookup:366,yDomainLookup:367,pageNumber:368,axisOrientation:369,value:370,labelText:371,referenceLineDetails:372,referenceLineTotalTableMap:373,xValueFormat:374,yValueFormat:375,xHeaderFolded:376,yHeaderFolded:377,xStyles:378,yStyles:379,hAligns:380,vAligns:381,pxAbove:382,pxBelow:383,axisStyles:384,textStyles:385,fillColors:386,layoutElements:387,xValues:388,yValues:389,labels:390,textRun:391,textStyle:392,index:393,labelIndex:394,perTable:395,perPane:396,perCell:397,minPageNumber:398,maxPageNumber:399,currentPage:400,layoutSize:401,tupleSelectionSet:402,tupleBrushedSelectionSet:403,hasFontSizeOverride:404,textRunString:405,textRunX:406,textRunXRemote:407,textRunY:408,textRunYRemote:409,textStyleId:410,font:411,fontSize:412,fontStyle:413,fontWeight:414,hAlign:415,strikethrough:416,textAlignment:417,textDecoration:418,textOrientation:419,textStyleColor:420,textWrapMode:421,underline:422,vAlign:423,leftMargin:424,rightMargin:425,isTextTable:426,formattedTextStyleTable:427,formattedTextRunOffset:428,formattedTextRunCount:429,formattedTextRunTable:430,textMaxWidth:431,textMaxHeight:432,textScaleFactor:433,textRangeFactor:434,textFontMin:435,textFitStyle:436,textRunPosition:437,vtlBlockIndex:438,columnFormatIndex:439,dateTimeOriginReference:440,dateTimeSpacingReference:441,dateTimeSpacingUnitsReference:442,daysLabelWidth:443,hoursLabelWidth:444,fiscalYearStart:445,labelFontIndex:446,labelHeight:447,logBaseReference:448,minSpacing:449,monthsLabelWidth:450,originReference:451,minutesLabelWidth:452,perpendicularLabels:453,quartersLabelWidth:454,secondsLabelWidth:455,spacingReference:456,targetTickSpacing:457,weeksLabelWidth:458,yearsLabelWidth:459,formatters:460,formatterIndex:461,perHeaderData:462,daysPossibleFreqs:463,hoursPossibleFreqs:464,monthsPossibleFreqs:465,minutesPossibleFreqs:466,quartersPossibleFreqs:467,secondsPossibleFreqs:468,weeksPossibleFreqs:469,yearsPossibleFreqs:470,columnFormat:471,labelFont:472,numericFormatDivisor:473,numericFormatSuffix:474,encodedTickPositionsIndex:475,spacing:476,origin:477,includeViewEdges:478,dateTimeSpacing:479,dateTimeSpacingUnit:480,dateTimeOrigin:481,encodingMin:482,encodingMax:483,perHeaderTickPlacement:484,encodedTickPositions:485,count:486});ss.initClass(g,a,{});ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initInterface(j,a,{executeVM:null,buildVM:null,loadBinaryDatastoreBase64:null,initializeRuntime:null,marshallDatastore:null,loadAndApplyDataStoreUpdaterBase64:null,localPanCommand:null,localZoomCommand:null,localZoomFactorCommand:null});ss.initClass(k,a,{});ss.initClass(l,a,{$5:function(C){var D=0;for(var E=0;E<C.length;E+=2){D+=ss.Int32.trunc(C[E])}var F=new Float32Array(D);var G=0;for(var H=0;H<C.length;H+=2){var I=ss.Int32.trunc(C[H]);var J=C[H+1];for(var K=0;K<I;K++){F[G++]=J}}return F},$6:function(C){var D=0;for(var E=0;E<C.length;E+=2){D+=ss.Int32.trunc(C[E])}var F=new Float64Array(D);var G=0;for(var H=0;H<C.length;H+=2){var I=ss.Int32.trunc(C[H]);var J=C[H+1];for(var K=0;K<I;K++){F[G++]=J}}return F},$7:function(){this.$3();this.$4();this.$8=new Uint8Array(this.$a);var C=0;var D=0;for(var E=0;E<this.$d.length;E++){var F=this.$d[E];D=C;var G=this.$2(F,C);C+=G;C+=this.$0(C,8);if(F.encoding===3){if(F.typeId===51){var H=i.getMappedArrayJabba(51,this.$8.buffer,D,G);var I=this.$6(H);this.unpacked.push(I)}else if(F.typeId===50){var J=i.getMappedArrayJabba(50,this.$8.buffer,D,G);var K=this.$5(J);this.unpacked.push(K)}}else{this.unpacked.push(i.getMappedArrayJabba(F.typeId,this.$8.buffer,D,G))}}},$0:function(C,D){return(D-C%D)%D},$2:function(C,D){var E=new Uint8Array(this.$b,this.$9+C.dataOffset,C.dataSize);if(C.encoding===0||C.encoding===3){this.$8.set(E,D)}else if(C.encoding===2){return this.$1(E,D)}else{throw new ss.Exception('Unsupported encoding: '+C.encoding)}return C.dataSize},$1:function(C,D){var E=0;var F=0;var G=0;var H=new Int32Array(this.$8.buffer,D);while(F<C.length){if(C[F]<=240){var I=C[F];E=(I>>>1^-(I&1))+E;F+=1}else if(C[F]<=248){var J=240+256*(C[F]-241)+C[F+1];E=(J>>>1^-(J&1))+E;F+=2}else if(C[F]===249){var K=2288+256*C[F+1]+C[F+2];E=(K>>>1^-(K&1))+E;F+=3}else if(C[F]===250){var L=C[F+1]*65536+C[F+2]*256+C[F+3];E=(L>>>1^-(L&1))+E;F+=4}else if(C[F]===251){var M=C[F+1]*16777216+C[F+2]*65536+C[F+3]*256+C[F+4];E=(M>>>1^-(M&1))+E;F+=5}else if(C[F]===252){var N=C[F+1]*1+C[F+2]*16777216+C[F+3]*65536+C[F+4]*256+C[F+5];E=(N>>>1^-(N&1))+E;F+=6}H[G++]=ss.Int32.trunc(E)}return G*4},$3:function(){var C=new DataView(this.$b);var D=C.getUint16(0,true);var E=C.getUint16(2,true);this.$a=C.getInt32(4,true);this.$c=C.getInt32(8,true);this.$9=C.getInt32(12,true);if(D!==43962){throw new ss.Exception('Magic number mismatch: '+D)}if(E!==1){throw new ss.Exception('Unsupported JABBA version '+E)}},$4:function(){var C=new Uint32Array(this.$b,16,this.$c*Uint32Array.BYTES_PER_ELEMENT);for(var D=0;D<this.$c;D++){this.$d.push(new k(C,D*Uint32Array.BYTES_PER_ELEMENT))}}});ss.initClass(m,a,{$0:function(){var C=this.data.stringBuffer.byteOffset;var D=this.data.stringLengths.length;for(var E=0;E<D;E++){var F=this.data.stringLengths[E];this.stringTable[E]=z.decode(new Uint8Array(this.data.stringBuffer.buffer,C,F));C+=F}}});m.$3.prototype=m.prototype;ss.initClass(n,a,{processEncodedGeometry:function(){switch(ss.Int32.trunc(this.$5[this.$6++])){case 1:{return this.$4()}case 2:{return this.$2()}case 3:{return this.$3()}default:{this.$1();return null}}},$3:function(){var C={};C.geometryType='multiPoint';var D={};C.multiPoint=D;D.pointsF=this.$0();return C},$2:function(){var C={};C.geometryType='multiLineString';var D={};var E=null;while(this.$5[this.$6]!==7&&this.$6<this.$5.length){switch(ss.Int32.trunc(this.$5[this.$6++])){case 4:{D={};D.lineList=[];C.multiLine=D;break}case 6:{E={};D.lineList.push(E);E.pointsF=this.$0();break}default:{this.$1();break}}}return C},$4:function(){var C={};C.geometryType='multiPolygon';var D=null;var E=null;var F=null;while(this.$5[this.$6]!==7&&this.$6<this.$5.length){switch(ss.Int32.trunc(this.$5[this.$6++])){case 4:{D={};C.multiPolygon=D;D.polygonList=[];break}case 5:{E={};E.lineList=[];D.polygonList.push(E);break}case 6:{F={};E.lineList.push(F);F.pointsF=this.$0();break}default:{this.$1();break}}}return C},$0:function(){var C=ss.Int32.trunc(this.$5[this.$6++]);var D=new Array(C);for(var E=0;E<C;E++){D[E]=this.$5[this.$6++]}return D},$1:function(){throw new ss.Exception('Invalid geometry data around position '+this.$6)}});ss.initClass(o,a,{executeVM:function(C){var D=$.Deferred();var E=tabBootstrap.MetricsController.createContext('RW_ExecuteVM',8,null);var F=new e(Module._ExecuteVM(C.handleValue),function(G){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(G)});E.dispose();D.resolve(F);return D.promise()},buildVM:function(C,D){var E=$.Deferred();var F=tabBootstrap.MetricsController.createContext('RW_BuildVM',8,null);var G=Module._malloc(C.length+1);Module.stringToUTF8(C,G,C.length);var H=new B(Module._BuildVM(G,D.handleValue),function(I){RuntimeHandleManager._HandleManagerReleaseVMHandle(I)});Module._free(G);F.dispose();E.resolve(H);return E.promise()},$1:function(C,D){var E=$.Deferred();var F=tabBootstrap.MetricsController.createContext('RW_LoadBinaryDatastore',8,null);var G=new e(Module._LoadBinaryDatastore(C,D),function(H){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(H)});F.dispose();E.resolve(G);return E.promise()},loadBinaryDatastoreBase64:function(C){var D=d.decodedLength(C);var E=Module._malloc(D);d.run(E,Module.HEAPU8,C);var F=this.$1(E,D);Module._free(E);return F},initializeRuntime:function(){var C=$.Deferred();var D=tabBootstrap.MetricsController.createContext('RW_InitializeRuntime',8,null);Module._InitializeRuntime();D.dispose();C.resolve();return C.promise()},marshallDatastore:function(C){var D=$.Deferred();var E=tabBootstrap.MetricsController.createContext('RW_MarshallDatastore',8,null);var F=Module._MarshallDatastore(C.handleValue);var G=m.unmarshall$1(Module.HEAPU8.buffer,F);E.dispose();D.resolve(G);return D.promise()},$0:function(C,D,E){var F=$.Deferred();var G=tabBootstrap.MetricsController.createContext('RW_LoadAndApplyDataStoreUpdater',8,null);var H=new e(Module._LoadAndApplyDataStoreUpdater(C,D,E.handleValue),function(I){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(I)});G.dispose();F.resolve(H);return F.promise()},loadAndApplyDataStoreUpdaterBase64:function(C,D){var E=d.decodedLength(C);var F=Module._malloc(E);d.run(F,Module.HEAPU8,C);var G=this.$0(F,E,D);Module._free(F);return G},localPanCommand:function(C,D,E,F,G){var H=$.Deferred();var I=tabBootstrap.MetricsController.createContext('RW_LocalPanCommand',8,null);var J=new e(Module._LocalPanCommand(C.handleValue,D.handleValue,E.handleValue,F,G),function(K){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(K)});I.dispose();H.resolve(J);return H.promise()},localZoomCommand:function(C,D,E,F,G,H,I,J){var K=$.Deferred();var L=tabBootstrap.MetricsController.createContext('RW_LocalZoomCommand',8,null);var M=new e(Module._LocalZoomCommand(C.handleValue,D.handleValue,E.handleValue,F,G,H,I,J),function(N){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(N)});L.dispose();K.resolve(M);return K.promise()},localZoomFactorCommand:function(C,D,E,F,G,H){var I=$.Deferred();var J=tabBootstrap.MetricsController.createContext('RW_LocalZoomFactorCommand',8,null);var K=new e(Module._LocalZoomFactorCommand(C.handleValue,D.handleValue,E.handleValue,F,G,H),function(L){RuntimeHandleManager._HandleManagerReleaseDatastoreHandle(L)});J.dispose();I.resolve(K);return I.promise()}},null,[j]);ss.initClass(p,a,{});p.$ctor1.prototype=p.prototype;ss.initClass(q,a,{get_typeCode:function(){return 18}},r,[ss.IDisposable]);ss.initClass(s,a,{getStartIndex:function(C,D){return this.$0[C][D*2]},getEndIndex:function(C,D){return this.$0[C][D*2+1]},getPageIndices:function(C){return this.$0[C]}});ss.initClass(t,a,{get_startIndex:function(){return this.$5},get_endIndex:function(){return this.$0},get_pageIndices:function(){return this.$1},get_paneKey:function(){return this.$4},get_paneId:function(){return this.$2},get_paneIndex:function(){return this.$3}});t.$ctor1.prototype=t.prototype;ss.initClass(u,a,{get_finalDataStore:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$2)){if(ss.isNullOrUndefined(this.$3)||this.$3.length===0){return{}}if(this.$3.charCodeAt(0)===123){{var C=tabBootstrap.MetricsController.createContext('RTCONV'.toString(),4,null);try{this.$2=JSON.parse(this.$3)}finally{if(ss.isValue(C)){C.dispose()}}}}else if(tab.FeatureFlags.isEnabled('RuntimeWebUseHuttSerialization')){if(tab.FeatureFlags.isEnabled('RuntimeWebUseHexEncoding')){this.$2=m.unmarshallHex(this.$3)}else{this.$2=m.unmarshallBase64(this.$3)}}if(tab.ObjectCoverage.shouldTrack('runtime-datastore')){this.$2=(new tab.ObjectCoverage('runtime-datastore')).instrument(this.get_finalDataStore(),'')}}return this.$2},set_finalDataStore:function(C){this.$2=C;this.$5=null;this.$4=null;this.$0=[];this.$1=[];this.$6=[]},get_paneStoreTable:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$5)){this.$5=new s(this.get_finalDataStore().PageIntervalTable,this.get_finalDataStore().PaneCount)}return this.$5},get_labelsPaneStoreTable:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$4)){this.$4=new s(this.get_finalDataStore().AnnexedData.LabelStore.PageIntervalTable,this.get_finalDataStore().PaneCount)}return this.$4},get_drawFirsts:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$0)&&!tab.MiscUtil.isNullOrEmpty$2(this.get_finalDataStore().AnnexedData)){this.$0=u.$0(this.get_finalDataStore().AnnexedData.DrawFirsts)}return this.$0},get_drawLasts:function(){if(tab.MiscUtil.isNullOrEmpty$2(this.$1)&&!tab.MiscUtil.isNullOrEmpty$2(this.get_finalDataStore().AnnexedData)){this.$1=u.$0(this.get_finalDataStore().AnnexedData.DrawLasts)}return this.$1},get_panes:function(){if(tab.MiscUtil.isNullOrEmpty(this.$6)){if(tab.MiscUtil.isNullOrEmpty$2(this.get_finalDataStore())||tab.MiscUtil.isNullOrEmpty$2(this.get_finalDataStore().AnnexedData)||tab.MiscUtil.isNullOrEmpty(this.get_finalDataStore().AnnexedData.Panes)){return[]}var C=this.get_finalDataStore().AnnexedData.Panes;var D=[];for(var E=0;E<C.length;E++){var F=C[E];var G={};var H=[];for(var I=0;I<F.DrawPanes.length;I++){var J=F.DrawPanes[I];if(J[1].length>0){H.push(JSON.parse(z.decode(J[1])))}}G.drawPane=Array.prototype.slice.call(H);G.columnIndex=F.Column;G.rowIndex=F.Row;G.paneRect={h:F.Rect[3],w:F.Rect[2],x:F.Rect[0],y:F.Rect[1]};D.push(G)}this.$6=D}return this.$6},safeFetchMarkPanes:function(){var C=[];if(!ss.isNullOrUndefined(this.get_finalDataStore().AnnexedData.Panes)){C=this.get_finalDataStore().AnnexedData.Panes}return C}});ss.initClass(v,a,{get_VM:function(){return this.$1$1},set_VM:function(C){this.$1$1=C},get_initialStore:function(){return this.$1$2},set_initialStore:function(C){this.$1$2=C},get_finalStore:function(){return this.$1$3},set_finalStore:function(C){this.$1$3=C}});ss.initClass(w,a,{});ss.initClass(x,a,{executeVM:function(C){var D=$.Deferred();var E=this.$0('ExecuteVM',[b.$0('int',''),b.$0('int',C.handleValue)]);var F=new e(E.value,ss.mkdel(this,function(G){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',G)])}));D.resolve(F);return D.promise()},buildVM:function(C,D){var E=$.Deferred();var F=this.$0('BuildVM',[b.$0('int',''),b.$0('string',C),b.$0('int',D.handleValue)]);var G=new B(F.value,ss.mkdel(this,function(H){this.$0('HandleManagerReleaseVMHandle',[b.$0('void',''),b.$0('int',H)])}));E.resolve(G);return E.promise()},loadBinaryDatastoreBase64:function(C){var D=$.Deferred();var E=this.$0('LoadBinaryDatastore',[b.$0('int',''),b.$0('base64',C)]);var F=new e(E.value,ss.mkdel(this,function(G){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',G)])}));D.resolve(F);return D.promise()},initializeRuntime:function(){var C=$.Deferred();var D=this.$0('InitializeRuntime',[b.$0('void','')]);C.resolve();return C.promise()},marshallDatastore:function(C){var D=$.Deferred();var E=this.$0('MarshallDatastore',[b.$0('hex',''),b.$0('int',C.handleValue)]);var F=m.unmarshallHex(E.value);D.resolve(F);return D.promise()},loadAndApplyDataStoreUpdaterBase64:function(C,D){var E=$.Deferred();var F=this.$0('LoadAndApplyDataStoreUpdater',[b.$0('int',''),b.$0('base64',C),b.$0('int',D.handleValue)]);var G=new e(F.value,ss.mkdel(this,function(H){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',H)])}));E.resolve(G);return E.promise()},localPanCommand:function(C,D,E,F,G){var H=$.Deferred();var I=this.$0('LocalPanCommand',[b.$0('int',''),b.$0('int',C.handleValue),b.$0('int',D.handleValue),b.$0('int',E.handleValue),b.$0('double',F),b.$0('double',G)]);var J=new e(I.value,ss.mkdel(this,function(K){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',K)])}));H.resolve(J);return H.promise()},localZoomCommand:function(C,D,E,F,G,H,I,J){var K=$.Deferred();var L=this.$0('LocalZoomCommand',[b.$0('int',''),b.$0('int',C.handleValue),b.$0('int',D.handleValue),b.$0('int',E.handleValue),b.$0('int',F),b.$0('int',G),b.$0('int',H),b.$0('int',I),b.$0('bool',J)]);var M=new e(L.value,ss.mkdel(this,function(N){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',N)])}));K.resolve(M);return K.promise()},localZoomFactorCommand:function(C,D,E,F,G,H){var I=$.Deferred();var J=this.$0('LocalZoomFactorCommand',[b.$0('int',''),b.$0('int',C.handleValue),b.$0('int',D.handleValue),b.$0('int',E.handleValue),b.$0('int',F),b.$0('int',G),b.$0('double',H)]);var K=new e(J.value,ss.mkdel(this,function(L){this.$0('HandleManagerReleaseDatastoreHandle',[b.$0('void',''),b.$0('int',L)])}));I.resolve(K);return I.promise()},$0:function(C,D){var E=new XMLHttpRequest;E.open('POST',this.$2+'/callMethod/'+C,false);E.setRequestHeader('Accept','text/javascript');E.setRequestHeader('Content-Type','application/x-www-form-urlencoded');var F=[];for(var G=0;G<D.length;G++){var H=D[G];F.push(H)}E.send(JSON.stringify(F));return JSON.parse(E.responseText)},$1:function(){var C=new XMLHttpRequest;C.open('POST',this.$2+'/restart',false);C.setRequestHeader('Accept','text/javascript');C.setRequestHeader('Content-Type','application/x-www-form-urlencoded');C.send(JSON.stringify('restart'))}},null,[j]);ss.initClass(y,a,{});ss.initClass(z,a,{});ss.initClass(A,a,{});ss.initClass(B,a,{get_typeCode:function(){return 17}},r,[ss.IDisposable]);(function(){d.$2='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';d.$1=null})();(function(){g.$1=null;g.$0=null;g.$2=null})();(function(){z.$0=null;z.$1=!(typeof(TextDecoder)!=='undefined');if(!z.$1){z.$0=new TextDecoder}})();(function(){m.$2=new Uint8Array(256);m.$1={};for(var C=0;C<10;C++){m.$2[48+C]=C}for(var D=10;D<16;D++){m.$2[97+(D-10)]=D}for(var E=10;E<16;E++){m.$2[65+(E-10)]=E}})();(function(){y.proxy=null;var C=tab.FeatureParamsLookup.getString(51);if(!ss.isNullOrUndefined(C)){y.proxy=new x(C)}else{y.proxy=new o}})();(function(){A.tupleId='tuple_id';A.groupId='group_id';A.trailId='trail_id';A.primitiveId='primitive_id';A.paneIndex='pane_index';A.paneCol='pane_col';A.paneRow='pane_row';A.panePage='pane_page';A.rangeMin='range_min';A.rangeMax='range_max';A.domainMin='domain_min';A.domainMax='domain_max';A.xDomains='x_domains_lookup';A.yDomains='y_domains_lookup';A.lookup='lookup';A.xNumberMap='x_numbermap';A.yNumberMap='y_numbermap';A.dataType='dataType';A.fieldType='fieldType';A.cellX='cell_x';A.cellY='cell_y';A.markFirst='mark_first';A.markLast='mark_last';A.x='x';A.y='y';A.x1='x1';A.y1='y1';A.width='width';A.height='height';A.size='size';A.sizeLabel='size_label';A.hasPerMarkSizeEncoding='has_per_mark_size_encoding';A.rho='rho';A.rho1='rho1';A.theta='theta';A.theta1='theta1';A.xPrev='x_prev';A.yPrev='y_prev';A.xNext='x_next';A.yNext='y_next';A.color='color';A.hasPerMarkColorEncoding='has_per_mark_color_encoding';A.alpha='alpha';A.haloColor='halo_color';A.haloAlpha='halo_alpha';A.hasHalos='has_halos';A.shapeId='shape_id';A.clipWidth='clip_width';A.clipHeight='clip_height';A.userPaneCol='user_pane_col';A.userPaneRow='user_pane_row';A.userPaneIndex='user_pane_index';A.xCellOffsets='x_cell_offsets';A.yCellOffsets='y_cell_offsets';A.xPixelOffsets='x_pixel_offsets';A.yPixelOffsets='y_pixel_offsets';A.userPaneInfo='user_pane_info';A.minBarHeight='min_bar_height';A.minBarWidth='min_bar_width';A.drawBorder='draw_border';A.borderColor='border_color';A.selectedHaloColor='selected_halo_color';A.selectedMultiPrimHaloColor='selected_multi_prim_halo_color';A.highlightedHaloColor='highlighted_halo_color';A.backgroundColor='background_color';A.wrapDomain='wrap_domain';A.hasFoldedAxis='has_folded_axis';A.markFlags='mark_flags';A.paneFlags='pane_flags';A.handleSpecialsX='handle_specials_x';A.handleSpecialsY='handle_specials_y';A.scaleTypeX='scale_type_x';A.scaleTypeY='scale_type_y';A.hasEmptyOrEqualAxis='has_empty_or_equal_axis';A.dropLineFlags='drop_line_flags';A.lineInterpolation='line_interp';A.markStackIndex='tc_stack_index';A.isMarkStacked='is_mark_stacked';A.currStackedVal='tc_curr_stack_value';A.prevStackedVal='tc_prev_stack_value';A.scaledStartPoint='scaled_start_point';A.scaledEndPoint='scaled_end_point';A.exclPrevLowerStackedVal='tc_prev_excl_stack_value';A.exclNextLowerStackedVal='tc_next_excl_stack_value';A.isMarkTotal='is_mark_total';A.xProj='x_proj';A.yProj='y_proj';A.paneHasBackground='pane_has_background';A.panePxLeft='pane_px_left';A.panePxRight='pane_px_right';A.panePxTop='pane_px_top';A.panePxBottom='pane_px_bottom';A.textRunOffset='text_run_offset';A.textRunCount='text_run_count';A.formattedTextRunOffset='formatted_text_run_offset';A.formattedTextRunCount='formatted_text_run_count';A.geometry='geometry';A.geometryTable='geoTable';A.pageTrailMarksToTrail='page_trail_marks_to_trail';A.markTrailCount='mark_trail_count';A.markTrailAutoColor='mark_trail_auto_color';A.markTrailColor='mark_trail_color';A.markTrailTransparency='mark_trail_transparency';A.markTrailStartEffect='mark_trail_start_effect';A.markTrailEndEffect='mark_trail_end_effect';A.isTextTable='is_text_table';A.textMaxWidth='text_max_width';A.textMaxHeight='text_max_height';A.textScaleFactor='text_scale_factor';A.textRangeFactor='text_range_factor';A.textFontMin='text_font_min';A.textFitStyle='text_fit_style';A.textRunPosition='text_run_position';A.textCompositionOutput='text_composition_output';A.textRunTable='TextRunTable';A.formattedTextRunTable='FormattedTextRunTable';A.textRun='text_run';A.textRunX='text_run_x';A.textRunY='text_run_y';A.textRunXRemote='text_run_x_remote';A.textRunYRemote='text_run_y_remote';A.textStyleID='text_style_id';A.hasFontSizeOverride='has_font_size_override';A.textStyleTable='TextStyleTable';A.formattedTextStyleTable='FormattedTextStyleTable';A.font='font';A.fontSize='font_size';A.textStyleColor='text_style_color';A.fontStyle='font_style';A.fontWeight='font_weight';A.textDecoration='text_decoration';A.textOrientation='text_orientation';A.textAlignment='text_alignment';A.underline='underline';A.strikethrough='strikethrough';A.ascent='ascent';A.leading='leading';A.fontHeight='font_height';A.hAlign='hAlign';A.vAlign='vAlign';A.textWrapMode='text_wrap_mode';A.labelTargetPrimitiveId='label_target_primitive_id';A.labelOnePerGroup='label_one_per_group';A.showLabels='ShowLabels';A.showRunningOrderLabels='ShowRunningOrderLabels';A.labelMode='LabelMode';A.predictionIntervalUpperEnd='prediction_interval_upper_end';A.predictionIntervalLowerEnd='prediction_interval_lower_end';A.predictionIntervalUpperEndMeasure='prediction_interval_upper_end_measure';A.predictionIntervalLowerEndMeasure='prediction_interval_lower_end_measure';A.predictionWhiskerWidth='prediction_whisker_width';A.colors='Colors';A.column='Column';A.encodingDomains='EncodingDomains';A.defaultParamID='DefaultParamID';A.domain='Domain';A.domainExtents='DomainExtents';A.domainOrigin='DomainOrigin';A.drawFirsts='DrawFirsts';A.drawLasts='DrawLasts';A.drawPanes='DrawPanes';A.encodings='Encodings';A.endIndex='EndIndex';A.geometries='Geometries';A.left='Left';A.lineTupleIds='LineTupleIds';A.lowerEnds='LowerEnds';A.mapDomainExtents='MapDomainExtents';A.markType='MarkType';A.maxAlpha='MaxAlpha';A.oppositeAxes='OppositeAxes';A.pageIndexes='PageIndexes';A.paneId='PaneId';A.paneKey='PaneKey';A.panes='Panes';A.part='Part';A.pixelExtents='PixelExtents';A.presModel='PresModel';A.rect='Rect';A.renderNodes='RenderNodes';A.renderOnTop='RenderOnTop';A.row='Row';A.startIndex='StartIndex';A.textAttributes='TextAttributes';A.textTable='TextTable';A.textTableHelper='TextTableHelper';A.textEncodingTable='TextEncodingTable';A.top='Top';A.trailOverrides='TrailOverrides';A.tupleIds='TupleIds';A.type='Type';A.upperEnds='UpperEnds';A.useYAxis='UseYAxis';A.vizType='VizType';A.widths='Widths';A.extendedDomain='ExtendedDomain';A.markLayoutTempKeys='MarkLayoutTempKeys';A.partition='Partition';A.pdMarks='PDMarks';A.axisEncodings='AxisEncodings';A.inheritedSceneBackgroundColor='SceneBGColor';A.isSceneBackgroundOpaque='IsSceneBGOpaque';A.labelStore='LabelStore';A.primitiveType='PrimitiveType';A.mapPackage='MapPackage';A.mappedImageModel='MappedImageModel';A.modelNumber='ModelNumber';A.waitForImages='WaitForImages';A.waitTileFill='WaitTileFill';A.wrapCount='WrapCount';A.mapCode='MapCode';A.sourceName='SourceName';A.mapProvider='MapProvider';A.mapLayersModel='MapLayersModel';A.markLabelPadding='mark_label_padding'})()})();;
/*! BEGIN SpiffUI */
var IScroll=function(n,t,i){function u(n,i){this.wrapper=typeof n=="string"?t.querySelector(n):n;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeIndicator:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var u in i)this.options[u]=i[u];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"";this.options.useTransition=r.hasTransition&&this.options.useTransition;this.options.useTransform=r.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;this.options.tap===!0&&(this.options.tap="tap");this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}function f(n,i,r){var u=t.createElement("div"),f=t.createElement("div");return r===!0&&(u.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator",n=="h"?(r===!0&&(u.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),u.className="iScrollHorizontalScrollbar"):(r===!0&&(u.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),u.className="iScrollVerticalScrollbar"),i||(u.style.pointerEvents="none"),u.appendChild(f),u}function e(i,u){this.wrapper=typeof u.el=="string"?t.querySelector(u.el):u.el;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=i;this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,speedRatioX:0,speedRatioY:0};for(var f in u)this.options[f]=u[f];this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(n,"touchend",this)),this.options.disablePointer||(n.PointerEvent?(r.addEvent(this.indicator,"pointerdown",this),r.addEvent(n,"pointerup",this)):n.MSPointerEvent&&(r.addEvent(this.indicator,"MSPointerDown",this),r.addEvent(n,"MSPointerUp",this))),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(n,"mouseup",this)))}var o=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)},r=function(){function u(n){return e===!1?!1:e===""?n:e+n.charAt(0).toUpperCase()+n.substr(1)}var r={},f=t.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],i,n=0,r=t.length;n<r;n++)if(i=t[n]+"ransform",i in f)return t[n].substr(0,t[n].length-1);return!1}(),o;return r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(n,t){for(var i in t)n[i]=t[i]},r.addEvent=function(n,t,i,r){n.addEventListener(t,i,!!r)},r.removeEvent=function(n,t,i,r){n.removeEventListener(t,i,!!r)},r.momentum=function(n,t,r,u,f){var s=n-t,o=i.abs(s)/r,e,h,c=.0006;return e=n+o*o/(2*c)*(s<0?-1:1),h=o/c,e<u?(e=f?u-f/2.5*(o/8):u,s=i.abs(e-n),h=s/o):e>0&&(e=f?f/2.5*(o/8):0,s=i.abs(n)+e,h=s/o),{destination:i.round(e),duration:h}},o=u("transform"),r.extend(r,{hasTransform:o!==!1,hasPerspective:u("perspective")in f,hasTouch:"ontouchstart"in n,hasPointer:navigator.msPointerEnabled,hasTransition:u("transition")in f}),r.isAndroidBrowser=/Android/.test(n.navigator.appVersion)&&/Version\/\d/.test(n.navigator.appVersion),r.extend(r.style={},{transform:o,transitionTimingFunction:u("transitionTimingFunction"),transitionDuration:u("transitionDuration"),transformOrigin:u("transformOrigin")}),r.hasClass=function(n,t){var i=new RegExp("(^|\\s)"+t+"(\\s|$)");return i.test(n.className)},r.addClass=function(n,t){if(!r.hasClass(n,t)){var i=n.className.split(" ");i.push(t);n.className=i.join(" ")}},r.removeClass=function(n,t){if(r.hasClass(n,t)){var i=new RegExp("(^|\\s)"+t+"(\\s|$)","g");n.className=n.className.replace(i," ")}},r.offset=function(n){for(var t=-n.offsetLeft,i=-n.offsetTop;n=n.offsetParent;)t-=n.offsetLeft,i-=n.offsetTop;return{left:t,top:i}},r.preventDefaultException=function(n,t){for(var i in t)if(t[i].test(n[i]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(n){return n*(2-n)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(n){return i.sqrt(1- --n*n)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(n){var t=4;return(n=n-1)*n*((t+1)*n+t)+1}},bounce:{style:"",fn:function(n){return(n/=1)<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}},elastic:{style:"",fn:function(n){var t=.22;return n===0?0:n==1?1:.4*i.pow(2,-10*n)*i.sin((n-t/4)*2*i.PI/t)+1}}}),r.tap=function(n,i){var r=t.createEvent("Event");r.initEvent(i,!0,!0);r.pageX=n.pageX;r.pageY=n.pageY;n.target.dispatchEvent(r)},r.click=function(n){var i=n.target,r;i.tagName!="SELECT"&&i.tagName!="INPUT"&&i.tagName!="TEXTAREA"&&(r=t.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,i.screenX,i.screenY,i.clientX,i.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._constructed=!0,i.dispatchEvent(r))},r}();return u.prototype={version:"5.0.6",_init:function(){this._initEvents();(this.options.scrollbars||this.options.indicators)&&this._initIndicators();this.options.mouseWheel&&this._initWheel();this.options.snap&&this._initSnap();this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0);this._execEvent("destroy")},_transitionEnd:function(n){n.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(n){if((r.eventType[n.type]==1||n.button===0)&&this.enabled&&(!this.initiated||r.eventType[n.type]===this.initiated)){!this.options.preventDefault||r.isAndroidBrowser||r.preventDefaultException(n.target,this.options.preventDefaultException)||n.preventDefault();var u=n.touches?n.touches[0]:n,t;this.initiated=r.eventType[n.type];this.moved=!1;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.isAnimating=!1;this.startTime=r.getTime();this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(i.round(t.x),i.round(t.y)),this._execEvent("scrollEnd"),this.isInTransition=!1);this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=u.pageX;this.pointY=u.pageY;this._execEvent("beforeScrollStart")}},_move:function(n){if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&n.preventDefault();var o=n.touches?n.touches[0]:n,t=o.pageX-this.pointX,u=o.pageY-this.pointY,c=r.getTime(),f,e,s,h;if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=t,this.distY+=u,s=i.abs(this.distX),h=i.abs(this.distY),!(c-this.endTime>300)||!(s<10)||!(h<10)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=s>h+this.options.directionLockThreshold?"h":h>=s+this.options.directionLockThreshold?"v":"n"),this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")n.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}u=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")n.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}t=0}t=this.hasHorizontalScroll?t:0;u=this.hasVerticalScroll?u:0;f=this.x+t;e=this.y+u;(f>0||f<this.maxScrollX)&&(f=this.options.bounce?this.x+t/3:f>0?0:this.maxScrollX);(e>0||e<this.maxScrollY)&&(e=this.options.bounce?this.y+u/3:e>0?0:this.maxScrollY);this.directionX=t>0?-1:t<0?1:0;this.directionY=u>0?-1:u<0?1:0;this.moved||this._execEvent("scrollStart");this.moved=!0;this._translate(f,e);c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y);this._execEvent("scroll")}}},_end:function(n){var f;if(this.enabled&&r.eventType[n.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(n.target,this.options.preventDefaultException)&&n.preventDefault();var v=n.changedTouches?n.changedTouches[0]:n,o,s,e=r.getTime()-this.startTime,t=i.round(this.x),u=i.round(this.y),l=i.abs(t-this.startX),a=i.abs(u-this.startY),h=0,c="";if(this.scrollTo(t,u),this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(!this.moved){this.options.tap&&r.tap(n,this.options.tap);this.options.click&&r.click(n);return}if(this._events.flick&&e<200&&l<100&&a<100){this._execEvent("flick");return}if(this.options.momentum&&e<300&&(o=this.hasHorizontalScroll?r.momentum(this.x,this.startX,e,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:t,duration:0},s=this.hasVerticalScroll?r.momentum(this.y,this.startY,e,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:u,duration:0},t=o.destination,u=s.destination,h=i.max(o.duration,s.duration),this.isInTransition=1),this.options.snap&&(f=this._nearestSnap(t,u),this.currentPage=f,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(t-f.x),1e3),i.min(i.abs(u-f.y),1e3)),300),t=f.x,u=f.y,this.directionX=0,this.directionY=0,c=this.options.bounceEasing),t!=this.x||u!=this.y){(t>0||t<this.maxScrollX||u>0||u<this.maxScrollY)&&(c=r.ease.quadratic);this.scrollTo(t,u,h,c);return}this._execEvent("scrollEnd")}}},_resize:function(){var n=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){n.refresh()},this.options.resizePolling)},resetPosition:function(n){var t=this.x,i=this.y;return(n=n||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),t==this.x&&i==this.y)?!1:(this.scrollTo(t,i,n,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var n=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth);this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight);this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=r.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(n,t){this._events[n]||(this._events[n]=[]);this._events[n].push(t)},_execEvent:function(n){if(this._events[n]){var t=0,i=this._events[n].length;if(i)for(;t<i;t++)this._events[n][t].call(this)}},scrollBy:function(n,t,i,r){n=this.x+n;t=this.y+t;i=i||0;this.scrollTo(n,t,i,r)},scrollTo:function(n,t,i,u){u=u||r.ease.circular;!i||this.options.useTransition&&u.style?(this._transitionTimingFunction(u.style),this._transitionTime(i),this._translate(n,t)):this._animate(n,t,i,u.fn);this._execEvent("scroll")},scrollToElement:function(n,t,u,f,e){if(n=n.nodeType?n:this.scroller.querySelector(n),n){var o=r.offset(n);o.left-=this.wrapperOffset.left;o.top-=this.wrapperOffset.top;u===!0&&(u=i.round(n.offsetWidth/2-this.wrapper.offsetWidth/2));f===!0&&(f=i.round(n.offsetHeight/2-this.wrapper.offsetHeight/2));o.left-=u||0;o.top-=f||0;o.left=o.left>0?0:o.left<this.maxScrollX?this.maxScrollX:o.left;o.top=o.top>0?0:o.top<this.maxScrollY?this.maxScrollY:o.top;t=t===undefined||t===null||t==="auto"?i.max(i.abs(this.x-o.left),i.abs(this.y-o.top)):t;this.scrollTo(o.left,o.top,t,e)}},_transitionTime:function(n){if(n=n||0,this.scrollerStyle[r.style.transitionDuration]=n+"ms",this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(n)},_transitionTimingFunction:function(n){if(this.scrollerStyle[r.style.transitionTimingFunction]=n,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(n)},_translate:function(n,t){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.translateZ:(n=i.round(n),t=i.round(t),this.scrollerStyle.left=n+"px",this.scrollerStyle.top=t+"px"),this.x=n,this.y=t,this.indicators)for(var u=this.indicators.length;u--;)this.indicators[u].updatePosition()},_initEvents:function(t){var i=t?r.removeEvent:r.addEvent,u=this.options.bindToWrapper?this.wrapper:n;i(n,"orientationchange",this);i(n,"resize",this);this.options.click&&i(this.wrapper,"click",this,!0);this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(u,"mousemove",this),i(u,"mousecancel",this),i(u,"mouseup",this));r.hasPointer&&!this.options.disablePointer&&(n.PointerEvent?(i(this.wrapper,"pointerdown",this),i(u,"pointermove",this),i(u,"pointercancel",this),i(u,"pointerup",this)):n.MSPointerEvent&&(i(this.wrapper,"MSPointerDown",this),i(u,"MSPointerMove",this),i(u,"MSPointerCancel",this),i(u,"MSPointerUp",this)));r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(u,"touchmove",this),i(u,"touchcancel",this),i(u,"touchend",this));i(this.scroller,"transitionend",this);i(this.scroller,"webkitTransitionEnd",this);i(this.scroller,"oTransitionEnd",this);i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t=n.getComputedStyle(this.scroller,null),i,u;return this.options.useTransform?(t=t[r.style.transform].split(")")[0].split(", "),i=+(t[12]||t[4]),u=+(t[13]||t[5])):(i=+t.left.replace(/[^-\d]/g,""),u=+t.top.replace(/[^-\d]/g,"")),{x:i,y:u}},_initIndicators:function(){var i=this.options.interactiveScrollbars,o=typeof this.options.scrollbars!="object",u=typeof this.options.scrollbars!="string",n=[],t,r;for(this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:f("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenX:!1},this.wrapper.appendChild(t.el),n.push(t)),this.options.scrollX&&(t={el:f("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:u,resize:this.options.resizeIndicator,listenY:!1},this.wrapper.appendChild(t.el),n.push(t))),this.options.indicators&&(n=n.concat(this.options.indicators)),r=n.length;r--;)this.indicators[r]=new e(this,n[r]);this.on("refresh",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].refresh()});this.on("destroy",function(){if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].destroy();delete this.indicators})},_initWheel:function(){r.addEvent(this.wrapper,"mousewheel",this);r.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){r.removeEvent(this.wrapper,"mousewheel",this);r.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(n){if(this.enabled){var f,t,r,u,e=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){e._execEvent("scrollEnd")},400),"wheelDeltaX"in n)f=n.wheelDeltaX/120,t=n.wheelDeltaY/120;else if("wheelDelta"in n)f=t=n.wheelDelta/120,n.shiftKey?t=0:f=0;else if("detail"in n)f=t=-n.detail/3,n.shiftKey?t=0:f=0;else return;if(f*=this.options.mouseWheelSpeed,t*=this.options.mouseWheelSpeed,this.hasVerticalScroll||(f=t,t=0),this.options.snap){r=this.currentPage.pageX;u=this.currentPage.pageY;f>0?r--:f<0&&r++;t>0?u--:t<0&&u++;this.goToPage(r,u);return}r=this.x+i.round(this.hasHorizontalScroll?f*this.options.invertWheelDirection:0);u=this.y+i.round(this.hasVerticalScroll?t*this.options.invertWheelDirection:0);r>0?r=0:r<this.maxScrollX&&(r=this.maxScrollX);u>0?u=0:u<this.maxScrollY&&(u=this.maxScrollY);(r!==this.x||u!==this.y)&&n.preventDefault();this.scrollTo(r,u,0)}},_initSnap:function(){this.currentPage={};typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap));this.on("refresh",function(){var n=0,f,e=0,h,o,s,r=0,u,c=this.options.snapStepX||this.wrapperWidth,l=this.options.snapStepY||this.wrapperHeight,t;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(o=i.round(c/2),s=i.round(l/2);r>-this.scrollerWidth;){for(this.pages[n]=[],f=0,u=0;u>-this.scrollerHeight;)this.pages[n][f]={x:i.max(r,this.maxScrollX),y:i.max(u,this.maxScrollY),width:c,height:l,cx:r-o,cy:u-s},u-=l,f++;r-=c;n++}else for(t=this.options.snap,f=t.length,h=-1;n<f;n++)(n===0||t[n].offsetLeft<=t[n-1].offsetLeft)&&(e=0,h++),this.pages[e]||(this.pages[e]=[]),r=i.max(-t[n].offsetLeft,this.maxScrollX),u=i.max(-t[n].offsetTop,this.maxScrollY),o=r-i.round(t[n].offsetWidth/2),s=u-i.round(t[n].offsetHeight/2),this.pages[e][h]={x:r,y:u,width:t[n].offsetWidth,height:t[n].offsetHeight,cx:o,cy:s},r>this.maxScrollX&&e++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}});this.on("flick",function(){var n=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,n)})},_nearestSnap:function(n,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,f=this.pages.length,u=0;if(i.abs(n-this.absStartX)<this.snapThresholdX&&i.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);r<f;r++)if(n>=this.pages[r][0].cx){n=this.pages[r][0].x;break}for(f=this.pages[r].length;u<f;u++)if(t>=this.pages[0][u].cy){t=this.pages[0][u].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),n=this.pages[r][0].x),u==this.currentPage.pageY&&(u+=this.directionY,u<0?u=0:u>=this.pages[0].length&&(u=this.pages[0].length-1),t=this.pages[0][u].y),{x:n,y:t,pageX:r,pageY:u}},goToPage:function(n,t,r,u){u=u||this.options.bounceEasing;n>=this.pages.length?n=this.pages.length-1:n<0&&(n=0);t>=this.pages[n].length?t=this.pages[n].length-1:t<0&&(t=0);var f=this.pages[n][t].x,e=this.pages[n][t].y;r=r===undefined?this.options.snapSpeed||i.max(i.max(i.min(i.abs(f-this.x),1e3),i.min(i.abs(e-this.y),1e3)),300):r;this.currentPage={x:f,y:e,pageX:n,pageY:t};this.scrollTo(f,e,r,u)},next:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i++;i>=this.pages.length&&this.hasVerticalScroll&&(i=0,r++);this.goToPage(i,r,n,t)},prev:function(n,t){var i=this.currentPage.pageX,r=this.currentPage.pageY;i--;i<0&&this.hasVerticalScroll&&(i=0,r--);this.goToPage(i,r,n,t)},_initKeys:function(){var i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},t;if(typeof this.options.keyBindings=="object")for(t in this.options.keyBindings)typeof this.options.keyBindings[t]=="string"&&(this.options.keyBindings[t]=this.options.keyBindings[t].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(t in i)this.options.keyBindings[t]=this.options.keyBindings[t]||i[t];r.addEvent(n,"keydown",this);this.on("destroy",function(){r.removeEvent(n,"keydown",this)})},_key:function(n){if(this.enabled){var t=this.options.snap,u=t?this.currentPage.pageX:this.x,f=t?this.currentPage.pageY:this.y,o=r.getTime(),s=this.keyTime||0,e;this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1);this.keyAcceleration=o-s<200?i.min(this.keyAcceleration+.25,50):0;switch(n.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?u+=t?1:this.wrapperWidth:f+=t?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?u-=t?1:this.wrapperWidth:f-=t?1:this.wrapperHeight;break;case this.options.keyBindings.end:u=t?this.pages.length-1:this.maxScrollX;f=t?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:u=0;f=0;break;case this.options.keyBindings.left:u+=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=t?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:u-=t?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=t?1:5+this.keyAcceleration>>0;break;default:return}if(t){this.goToPage(u,f);return}u>0?(u=0,this.keyAcceleration=0):u<this.maxScrollX&&(u=this.maxScrollX,this.keyAcceleration=0);f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0);this.scrollTo(u,f,0);this.keyTime=o}},_animate:function(n,t,i,u){function c(){var a=r.getTime(),y,p,v;if(a>=l){f.isAnimating=!1;f._translate(n,t);f.resetPosition(f.options.bounceTime)||f._execEvent("scrollEnd");return}a=(a-h)/i;v=u(a);y=(n-e)*v+e;p=(t-s)*v+s;f._translate(y,p);f.isAnimating&&o(c)}var f=this,e=this.x,s=this.y,h=r.getTime(),l=h+i;this.isAnimating=!0;c()},handleEvent:function(n){if(n.type!="MSPointerDown"&&n.type!="MSPointerMove"&&n.type!="MSPointerCancel"&&n.type!="MSPointerUp"&&n.type!="pointerdown"&&n.type!="pointermove"&&n.type!="pointercancel"&&n.type!="pointerup"||n.pointerType!="mouse"&&n.pointerType!=4)switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(n);break;case"DOMMouseScroll":case"mousewheel":this._wheel(n);break;case"keydown":this._key(n);break;case"click":n._constructed||(n.preventDefault(),n.stopPropagation())}}},e.prototype={handleEvent:function(n){switch(n.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(n);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(n);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(n)}},destroy:function(){this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,"MSPointerDown",this),r.removeEvent(this.indicator,"pointerdown",this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),r.removeEvent(n,"touchend",this),r.removeEvent(n,"MSPointerUp",this),r.removeEvent(n,"pointerup",this),r.removeEvent(n,"mouseup",this));this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault();t.stopPropagation();this.transitionTime(0);this.initiated=!0;this.moved=!1;this.lastPointX=i.pageX;this.lastPointY=i.pageY;this.startTime=r.getTime();this.options.disableTouch||r.addEvent(n,"touchmove",this);this.options.disablePointer||(n.PointerEvent?r.addEvent(n,"pointermove",this):n.MSPointerEvent&&r.addEvent(n,"MSPointerMove",this));this.options.disableMouse||r.addEvent(n,"mousemove",this);this.scroller._execEvent("beforeScrollStart")},_move:function(n){var t=n.touches?n.touches[0]:n,i,u,f,e,o=r.getTime();this.moved||this.scroller._execEvent("scrollStart");this.moved=!0;i=t.pageX-this.lastPointX;this.lastPointX=t.pageX;u=t.pageY-this.lastPointY;this.lastPointY=t.pageY;f=this.x+i;e=this.y+u;this._pos(f,e);n.preventDefault();n.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),r.removeEvent(n,"touchmove",this),r.removeEvent(n,"MSPointerMove",this),r.removeEvent(n,"pointermove",this),r.removeEvent(n,"mousemove",this),this.scroller.options.snap){var u=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-u.x),1e3),i.min(i.abs(this.scroller.y-u.y),1e3)),300);(this.scroller.x!=u.x||this.scroller.y!=u.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=u,this.scroller.scrollTo(u.x,u.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(n){n=n||0;this.indicatorStyle[r.style.transitionDuration]=n+"ms"},transitionTimingFunction:function(n){this.indicatorStyle[r.style.transitionTimingFunction]=n},refresh:function(){this.transitionTime(0);this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var n=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX);this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY);this.updatePosition()},updatePosition:function(){var n=i.round(this.sizeRatioX*this.scroller.x)||0,t=i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(n<0?n=0:n>this.maxPosX&&(n=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY));this.x=n;this.y=t;this.scroller.options.useTransform?this.indicatorStyle[r.style.transform]="translate("+n+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=n+"px",this.indicatorStyle.top=t+"px")},_pos:function(n,t){n<0?n=0:n>this.maxPosX&&(n=this.maxPosX);t<0?t=0:t>this.maxPosY&&(t=this.maxPosY);n=this.options.listenX?i.round(n/this.sizeRatioX):this.scroller.x;t=this.options.listenY?i.round(t/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(n,t)}},u.ease=r.ease,u}(window,document,Math);
/** @license React v16.2.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(q,k){"object"===typeof exports&&"undefined"!==typeof module?module.exports=k():"function"===typeof define&&define.amd?define(k):q.React=k()})(this,function(){function q(a){for(var b=arguments.length-1,c="Minified React error #"+a+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant\x3d"+a,d=0;d<b;d++)c+="\x26args[]\x3d"+encodeURIComponent(arguments[d+1]);b=Error(c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");b.name="Invariant Violation";b.framesToPop=1;throw b}function k(a){return function(){return a}}function p(a,b,c){this.props=a;this.context=b;this.refs=w;this.updater=c||x}function y(a,b,c){this.props=a;this.context=b;this.refs=w;this.updater=c||x}function z(){}function A(a,b,c){this.props=a;this.context=b;this.refs=w;this.updater=c||x}function G(a,b,c){var d,f={},l=null,e=null;if(null!=b)for(d in void 0!==b.ref&&(e=b.ref),void 0!==b.key&&(l=""+b.key),b)H.call(b,d)&&!I.hasOwnProperty(d)&&(f[d]=b[d]);var g=arguments.length-2;if(1===g)f.children=c;else if(1<g){for(var h=Array(g),n=0;n<g;n++)h[n]=arguments[n+2];f.children=h}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===f[d]&&(f[d]=g[d]);return{$$typeof:r,type:a,key:l,ref:e,props:f,_owner:B.current}}function C(a){return"object"===typeof a&&null!==a&&a.$$typeof===r}function O(a){var b={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}function J(a,b,c,d){if(u.length){var f=u.pop();f.result=a;f.keyPrefix=b;f.func=c;f.context=d;f.count=0;return f}return{result:a,keyPrefix:b,func:c,context:d,count:0}}function K(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>u.length&&u.push(a)}function t(a,b,c,d){var f=typeof a;if("undefined"===f||"boolean"===f)a=null;var l=!1;if(null===a)l=!0;else switch(f){case"string":case"number":l=!0;break;case"object":switch(a.$$typeof){case r:case P:case Q:case R:l=!0}}if(l)return c(d,a,""===b?"."+D(a,0):b),1;l=0;b=""===b?".":b+":";if(Array.isArray(a))for(var e=0;e<a.length;e++){f=a[e];var g=b+D(f,e);l+=t(f,g,c,d)}else if(null===a||"undefined"===typeof a?g=null:(g=L&&a[L]||a["@@iterator"],g="function"===typeof g?g:null),"function"===typeof g)for(a=g.call(a),e=0;!(f=a.next()).done;)f=f.value,g=b+D(f,e++),l+=t(f,g,c,d);else"object"===f&&(c=""+a,q("31","[object Object]"===c?"object with keys {"+Object.keys(a).join(", ")+"}":c,""));return l}function D(a,b){return"object"===typeof a&&null!==a&&null!=a.key?O(a.key):b.toString(36)}function S(a,b,c){a.func.call(a.context,b,a.count++)}function T(a,b,c){var d=a.result,f=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?E(a,d,c,F.thatReturnsArgument):null!=a&&(C(a)&&(b=f+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(M,"$\x26/")+"/")+c,a={$$typeof:r,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}),d.push(a))}function E(a,b,c,d,f){var e="";null!=c&&(e=(""+c).replace(M,"$\x26/")+"/");b=J(b,e,d,f);null==a||t(a,"",T,b);K(b)}var N=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,v=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(d){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var d,f=1;f<arguments.length;f++){var e=Object(arguments[f]);for(var h in e)U.call(e,h)&&(c[h]=e[h]);if(N){d=N(e);for(var g=0;g<d.length;g++)V.call(e,d[g])&&(c[d[g]]=e[d[g]])}}return c},h="function"===typeof Symbol&&Symbol["for"],r=h?Symbol["for"]("react.element"):60103,P=h?Symbol["for"]("react.call"):60104,Q=h?Symbol["for"]("react.return"):60105,R=h?Symbol["for"]("react.portal"):60106;h=h?Symbol["for"]("react.fragment"):60107;var L="function"===typeof Symbol&&Symbol.iterator,w={},e=function(){};e.thatReturns=k;e.thatReturnsFalse=k(!1);e.thatReturnsTrue=k(!0);e.thatReturnsNull=k(null);e.thatReturnsThis=function(){return this};e.thatReturnsArgument=function(a){return a};var F=e,x={isMounted:function(a){return!1},enqueueForceUpdate:function(a,b,c){},enqueueReplaceState:function(a,b,c,d){},enqueueSetState:function(a,b,c,d){}};p.prototype.isReactComponent={};p.prototype.setState=function(a,b){"object"!==typeof a&&"function"!==typeof a&&null!=a?q("85"):void 0;this.updater.enqueueSetState(this,a,b,"setState")};p.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")};z.prototype=p.prototype;e=y.prototype=new z;e.constructor=y;v(e,p.prototype);e.isPureReactComponent=!0;e=A.prototype=new z;e.constructor=A;v(e,p.prototype);e.unstable_isAsyncReactComponent=!0;e.render=function(){return this.props.children};var B={current:null},H=Object.prototype.hasOwnProperty,I={key:!0,ref:!0,__self:!0,__source:!0},M=/\/+/g,u=[];h={Children:{map:function(a,b,c){if(null==a)return a;var d=[];E(a,d,null,b,c);return d},forEach:function(a,b,c){if(null==a)return a;b=J(null,null,b,c);null==a||t(a,"",S,b);K(b)},count:function(a,b){return null==a?0:t(a,"",F.thatReturnsNull,null)},toArray:function(a){var b=[];E(a,b,null,F.thatReturnsArgument);return b},only:function(a){C(a)?void 0:q("143");return a}},Component:p,PureComponent:y,unstable_AsyncComponent:A,Fragment:h,createElement:G,cloneElement:function(a,b,c){var d=v({},a.props),e=a.key,h=a.ref,k=a._owner;if(null!=b){void 0!==b.ref&&(h=b.ref,k=B.current);void 0!==b.key&&(e=""+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(m in b)H.call(b,m)&&!I.hasOwnProperty(m)&&(d[m]=void 0===b[m]&&void 0!==g?g[m]:b[m])}var m=arguments.length-2;if(1===m)d.children=c;else if(1<m){g=Array(m);for(var n=0;n<m;n++)g[n]=arguments[n+2];d.children=g}return{$$typeof:r,type:a.type,key:e,ref:h,props:d,_owner:k}},createFactory:function(a){var b=G.bind(null,a);b.type=a;return b},isValidElement:C,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:B,assign:v}};h=(e=Object.freeze({default:h}))&&h||e;return h["default"]?h["default"]:h});
/** @license React v16.2.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
'use strict';(function(na,l){"object"===typeof exports&&"undefined"!==typeof module?module.exports=l(require("react")):"function"===typeof define&&define.amd?define(["react"],l):na.ReactDOM=l(na.React)})(this,function(na){function l(a){for(var b=arguments.length-1,c="Minified React error #"+a+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant\x3d"+a,d=0;d<b;d++)c+="\x26args[]\x3d"+encodeURIComponent(arguments[d+1]);b=Error(c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");b.name="Invariant Violation";b.framesToPop=1;throw b}function va(a,b){return(a&b)===b}function Xc(a,b){if(Yc.hasOwnProperty(a)||2<a.length&&("o"===a[0]||"O"===a[0])&&("n"===a[1]||"N"===a[1]))return!1;if(null===b)return!0;switch(typeof b){case"boolean":return Yc.hasOwnProperty(a)?a=!0:(b=Ub(a))?a=b.hasBooleanValue||b.hasStringBooleanValue||b.hasOverloadedBooleanValue:(a=a.toLowerCase().slice(0,5),a="data-"===a||"aria-"===a),a;case"undefined":case"number":case"string":case"object":return!0;default:return!1}}function Ub(a){return ib.hasOwnProperty(a)?ib[a]:null}function Zc(){if(jb)for(var a in ba){var b=ba[a],c=jb.indexOf(a);-1<c?void 0:l("96",a);if(!oa[c]){b.extractEvents?void 0:l("97",a);oa[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;Vb.hasOwnProperty(h)?l("99",h):void 0;Vb[h]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&$c(k[e],g,h);e=!0}else f.registrationName?($c(f.registrationName,g,h),e=!0):e=!1;e?void 0:l("98",d,a)}}}}function $c(a,b,c){ca[a]?l("100",a):void 0;ca[a]=b;kb[a]=b.eventTypes[c].dependencies}function ad(a){jb?l("101"):void 0;jb=Array.prototype.slice.call(a);Zc()}function bd(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];ba.hasOwnProperty(c)&&ba[c]===d||(ba[c]?l("102",c):void 0,ba[c]=d,b=!0)}b&&Zc()}function lb(a){return function(){return a}}function cd(a,b,c,d){b=a.type||"unknown-event";a.currentTarget=dd(d);y.invokeGuardedCallbackAndCatchFirstError(b,c,void 0,a);a.currentTarget=null}function wa(a,b){null==b?l("30"):void 0;if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}function da(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}function Wb(a,b){var c=a.stateNode;if(!c)return null;var d=Xb(c);if(!d)return null;c=d[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(d=!d.disabled)||(a=a.type,d=!("button"===a||"input"===a||"select"===a||"textarea"===a));a=!d;break a;default:a=!1}if(a)return null;c&&"function"!==typeof c?l("231",b,typeof c):void 0;return c}function ed(a,b,c,d){for(var e,f=0;f<oa.length;f++){var g=oa[f];g&&(g=g.extractEvents(a,b,c,d))&&(e=wa(e,g))}return e}function Yb(a){a&&(pa=wa(pa,a))}function Zb(a){var b=pa;pa=null;b&&(a?da(b,$e):da(b,af),pa?l("95"):void 0,y.rethrowCaughtError())}function W(a){if(a[O])return a[O];for(var b=[];!a[O];)if(b.push(a),a.parentNode)a=a.parentNode;else return null;var c=void 0,d=a[O];if(5===d.tag||6===d.tag)return d;for(;a&&(d=a[O]);a=b.pop())c=d;return c}function xa(a){if(5===a.tag||6===a.tag)return a.stateNode;l("33")}function fd(a){return a[ea]||null}function T(a){do a=a["return"];while(a&&5!==a.tag);return a?a:null}function gd(a,b,c){for(var d=[];a;)d.push(a),a=T(a);for(a=d.length;0<a--;)b(d[a],"captured",c);for(a=0;a<d.length;a++)b(d[a],"bubbled",c)}function hd(a,b,c){if(b=Wb(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=wa(c._dispatchListeners,b),c._dispatchInstances=wa(c._dispatchInstances,a)}function bf(a){a&&a.dispatchConfig.phasedRegistrationNames&&gd(a._targetInst,hd,a)}function cf(a){if(a&&a.dispatchConfig.phasedRegistrationNames){var b=a._targetInst;b=b?T(b):null;gd(b,hd,a)}}function $b(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Wb(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=wa(c._dispatchListeners,b),c._dispatchInstances=wa(c._dispatchInstances,a))}function df(a){a&&a.dispatchConfig.registrationName&&$b(a._targetInst,null,a)}function ya(a){da(a,bf)}function id(a,b,c,d){if(c&&d)a:{var e=c;for(var f=d,g=0,h=e;h;h=T(h))g++;h=0;for(var k=f;k;k=T(k))h++;for(;0<g-h;)e=T(e),g--;for(;0<h-g;)f=T(f),h--;for(;g--;){if(e===f||e===f.alternate)break a;e=T(e);f=T(f)}e=null}else e=null;f=e;for(e=[];c&&c!==f;){g=c.alternate;if(null!==g&&g===f)break;e.push(c);c=T(c)}for(c=[];d&&d!==f;){g=d.alternate;if(null!==g&&g===f)break;c.push(d);d=T(d)}for(d=0;d<e.length;d++)$b(e[d],"bubbled",a);for(a=c.length;0<a--;)$b(c[a],"captured",b)}function jd(){!ac&&P.canUseDOM&&(ac="textContent"in document.documentElement?"textContent":"innerText");return ac}function kd(){if(H._fallbackText)return H._fallbackText;var a,b=H._startText,c=b.length,d,e=ld(),f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);H._fallbackText=e.slice(a,1<d?1-d:void 0);return H._fallbackText}function ld(){return"value"in H._root?H._root.value:H._root[jd()]}function n(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?G.thatReturnsTrue:G.thatReturnsFalse;this.isPropagationStopped=G.thatReturnsFalse;return this}function ef(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function ff(a){a instanceof this?void 0:l("223");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function md(a){a.eventPool=[];a.getPooled=ef;a.release=ff}function nd(a,b,c,d){return n.call(this,a,b,c,d)}function od(a,b,c,d){return n.call(this,a,b,c,d)}function gf(){var a=window.opera;return"object"===typeof a&&"function"===typeof a.version&&12>=parseInt(a.version(),10)}function pd(a,b){switch(a){case"topKeyUp":return-1!==hf.indexOf(b.keyCode);case"topKeyDown":return 229!==b.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function qd(a){a=a.detail;return"object"===typeof a&&"data"in a?a.data:null}function jf(a,b){switch(a){case"topCompositionEnd":return qd(b);case"topKeyPress":if(32!==b.which)return null;rd=!0;return sd;case"topTextInput":return a=b.data,a===sd&&rd?null:a;default:return null}}function kf(a,b){if(za)return"topCompositionEnd"===a||!bc&&pd(a,b)?(a=kd(),H._root=null,H._startText=null,H._fallbackText=null,za=!1,a):null;switch(a){case"topPaste":return null;case"topKeyPress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case"topCompositionEnd":return td?null:b.data;default:return null}}function ud(a){if(a=vd(a)){mb&&"function"===typeof mb.restoreControlledState?void 0:l("194");var b=Xb(a.stateNode);mb.restoreControlledState(a.stateNode,a.type,b)}}function wd(a){Ga?fa?fa.push(a):fa=[a]:Ga=a}function xd(){if(Ga){var a=Ga,b=fa;fa=Ga=null;ud(a);if(b)for(a=0;a<b.length;a++)ud(b[a])}}function cc(a,b){if(dc)return ec(a,b);dc=!0;try{return ec(a,b)}finally{dc=!1,xd()}}function yd(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!lf[a.type]:"textarea"===b?!0:!1}function fc(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function gc(a,b){if(!P.canUseDOM||b&&!("addEventListener"in document))return!1;b="on"+a;var c=b in document;c||(c=document.createElement("div"),c.setAttribute(b,"return;"),c="function"===typeof c[b]);!c&&zd&&"wheel"===a&&(c=document.implementation.hasFeature("Events.wheel","3.0"));return c}function Ad(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function mf(a){var b=Ad(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"function"===typeof c.get&&"function"===typeof c.set)return Object.defineProperty(a,b,{enumerable:c.enumerable,configurable:!0,get:function(){return c.get.call(this)},set:function(a){d=""+a;c.set.call(this,a)}}),{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null;delete a[b]}}}function nb(a){a._valueTracker||(a._valueTracker=mf(a))}function Bd(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d="";a&&(d=Ad(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Cd(a,b,c){a=n.getPooled(Dd.change,a,b,c);a.type="change";wd(c);ya(a);return a}function nf(a){Yb(a);Zb(!1)}function ob(a){var b=xa(a);if(Bd(b))return a}function of(a,b){if("topChange"===a)return b}function Ed(){Ha&&(Ha.detachEvent("onpropertychange",Fd),Oa=Ha=null)}function Fd(a){"value"===a.propertyName&&ob(Oa)&&(a=Cd(Oa,a,fc(a)),cc(nf,a))}function pf(a,b,c){"topFocus"===a?(Ed(),Ha=b,Oa=c,Ha.attachEvent("onpropertychange",Fd)):"topBlur"===a&&Ed()}function qf(a,b){if("topSelectionChange"===a||"topKeyUp"===a||"topKeyDown"===a)return ob(Oa)}function rf(a,b){if("topClick"===a)return ob(b)}function sf(a,b){if("topInput"===a||"topChange"===a)return ob(b)}function Aa(a,b,c,d){return n.call(this,a,b,c,d)}function tf(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=uf[a])?!!b[a]:!1}function hc(a){return tf}function qa(a,b,c,d){return n.call(this,a,b,c,d)}function Pa(a){a=a.type;return"string"===typeof a?a:"function"===typeof a?a.displayName||a.name:null}function Qa(a){var b=a;if(a.alternate)for(;b["return"];)b=b["return"];else{if(0!==(b.effectTag&2))return 1;for(;b["return"];)if(b=b["return"],0!==(b.effectTag&2))return 1}return 3===b.tag?2:3}function vf(a){return(a=a._reactInternalFiber)?2===Qa(a):!1}function Gd(a){2!==Qa(a)?l("188"):void 0}function Hd(a){var b=a.alternate;if(!b)return b=Qa(a),3===b?l("188"):void 0,1===b?null:a;for(var c=a,d=b;;){var e=c["return"],f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return Gd(e),a;if(g===d)return Gd(e),b;g=g.sibling}l("188")}if(c["return"]!==d["return"])c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}g?void 0:l("189")}}c.alternate!==d?l("190"):void 0}3!==c.tag?l("188"):void 0;return c.stateNode.current===c?a:b}function wf(a){a=Hd(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child["return"]=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b["return"]||b["return"]===a)return null;b=b["return"]}b.sibling["return"]=b["return"];b=b.sibling}}return null}function xf(a){a=Hd(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child&&4!==b.tag)b.child["return"]=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b["return"]||b["return"]===a)return null;b=b["return"]}b.sibling["return"]=b["return"];b=b.sibling}}return null}function yf(a){var b=a.targetInst;do{if(!b){a.ancestors.push(b);break}var c;for(c=b;c["return"];)c=c["return"];c=3!==c.tag?null:c.stateNode.containerInfo;if(!c)break;a.ancestors.push(b);b=W(c)}while(b);for(c=0;c<a.ancestors.length;c++)b=a.ancestors[c],pb(a.topLevelType,b,a.nativeEvent,fc(a.nativeEvent))}function ic(a){Ra=!!a}function r(a,b,c){return c?Id.listen(c,b,jc.bind(null,a)):null}function ha(a,b,c){return c?Id.capture(c,b,jc.bind(null,a)):null}function jc(a,b){if(Ra){var c=fc(b);c=W(c);null===c||"number"!==typeof c.tag||2===Qa(c)||(c=null);if(qb.length){var d=qb.pop();d.topLevelType=a;d.nativeEvent=b;d.targetInst=c;a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{cc(yf,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>qb.length&&qb.push(a)}}}function rb(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;c["ms"+a]="MS"+b;c["O"+a]="o"+b.toLowerCase();return c}function sb(a){if(kc[a])return kc[a];if(!U[a])return a;var b=U[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Jd)return kc[a]=b[c];return""}function Kd(a){Object.prototype.hasOwnProperty.call(a,tb)||(a[tb]=zf++,Ld[a[tb]]={});return Ld[a[tb]]}function Md(a,b){return a===b?0!==a||0!==b||1/a===1/b:a!==a&&b!==b}function Nd(a,b){return a&&b?a===b?!0:Od(a)?!1:Od(b)?Nd(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function Pd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Qd(a,b){var c=Pd(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Pd(c)}}function lc(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===a.contentEditable)}function Rd(a,b){if(mc||null==X||X!==nc())return null;var c=X;"selectionStart"in c&&lc(c)?c={start:c.selectionStart,end:c.selectionEnd}:window.getSelection?(c=window.getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}):c=void 0;return Sa&&oc(Sa,c)?null:(Sa=c,a=n.getPooled(Sd.select,pc,a,b),a.type="select",a.target=X,ya(a),a)}function Td(a,b,c,d){return n.call(this,a,b,c,d)}function Ud(a,b,c,d){return n.call(this,a,b,c,d)}function Vd(a,b,c,d){return n.call(this,a,b,c,d)}function ub(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;return 32<=a||13===a?a:0}function Wd(a,b,c,d){return n.call(this,a,b,c,d)}function Xd(a,b,c,d){return n.call(this,a,b,c,d)}function Yd(a,b,c,d){return n.call(this,a,b,c,d)}function Zd(a,b,c,d){return n.call(this,a,b,c,d)}function $d(a,b,c,d){return n.call(this,a,b,c,d)}function I(a,b){0>ra||(a.current=vb[ra],vb[ra]=null,ra--)}function M(a,b,c){ra++;vb[ra]=a.current;a.current=b}function Ta(a){return Ua(a)?wb:ia.current}function Va(a,b){var c=a.type.contextTypes;if(!c)return ja;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function Ua(a){return 2===a.tag&&null!=a.type.childContextTypes}function ae(a){Ua(a)&&(I(J,a),I(ia,a))}function be(a,b,c){null!=ia.cursor?l("168"):void 0;M(ia,b,a);M(J,c,a)}function ce(a,b){var c=a.stateNode,d=a.type.childContextTypes;if("function"!==typeof c.getChildContext)return b;c=c.getChildContext();for(var e in c)e in d?void 0:l("108",Pa(a)||"Unknown",e);return C({},b,c)}function xb(a){if(!Ua(a))return!1;var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||ja;wb=ia.current;M(ia,b,a);M(J,J.current,a);return!0}function de(a,b){var c=a.stateNode;c?void 0:l("169");if(b){var d=ce(a,wb);c.__reactInternalMemoizedMergedChildContext=d;I(J,a);I(ia,a);M(ia,d,a)}else I(J,a);M(J,b,a)}function Q(a,b,c){this.tag=a;this.key=b;this.stateNode=this.type=null;this.sibling=this.child=this["return"]=null;this.index=0;this.memoizedState=this.updateQueue=this.memoizedProps=this.pendingProps=this.ref=null;this.internalContextTag=c;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.expirationTime=0;this.alternate=null}function yb(a,b,c){var d=a.alternate;null===d?(d=new Q(a.tag,a.key,a.internalContextTag),d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.effectTag=0,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null);d.expirationTime=c;d.pendingProps=b;d.child=a.child;d.memoizedProps=a.memoizedProps;d.memoizedState=a.memoizedState;d.updateQueue=a.updateQueue;d.sibling=a.sibling;d.index=a.index;d.ref=a.ref;return d}function qc(a,b,c){var d=void 0,e=a.type,f=a.key;"function"===typeof e?(d=e.prototype&&e.prototype.isReactComponent?new Q(2,f,b):new Q(0,f,b),d.type=e,d.pendingProps=a.props):"string"===typeof e?(d=new Q(5,f,b),d.type=e,d.pendingProps=a.props):"object"===typeof e&&null!==e&&"number"===typeof e.tag?(d=e,d.pendingProps=a.props):l("130",null==e?e:typeof e,"");d.expirationTime=c;return d}function zb(a,b,c,d){b=new Q(10,d,b);b.pendingProps=a;b.expirationTime=c;return b}function rc(a,b,c){b=new Q(6,null,b);b.pendingProps=a;b.expirationTime=c;return b}function sc(a,b,c){b=new Q(7,a.key,b);b.type=a.handler;b.pendingProps=a;b.expirationTime=c;return b}function tc(a,b,c){a=new Q(9,null,b);a.expirationTime=c;return a}function uc(a,b,c){b=new Q(4,a.key,b);b.pendingProps=a.children||[];b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function ee(a){return function(b){try{return a(b)}catch(c){}}}function Af(a){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);vc=ee(function(a){return b.onCommitFiberRoot(c,a)});wc=ee(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}function fe(a){"function"===typeof vc&&vc(a)}function ge(a){"function"===typeof wc&&wc(a)}function he(a){return{baseState:a,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1}}function Ab(a,b){null===a.last?a.first=a.last=b:(a.last.next=b,a.last=b);if(0===a.expirationTime||a.expirationTime>b.expirationTime)a.expirationTime=b.expirationTime}function Bb(a,b){var c=a.alternate,d=a.updateQueue;null===d&&(d=a.updateQueue=he(null));null!==c?(a=c.updateQueue,null===a&&(a=c.updateQueue=he(null))):a=null;a=a!==d?a:null;null===a?Ab(d,b):null===d.last||null===a.last?(Ab(d,b),Ab(a,b)):(Ab(d,b),a.last=b)}function ie(a,b,c,d){a=a.partialState;return"function"===typeof a?a.call(b,c,d):a}function xc(a,b,c,d,e,f){null!==a&&a.updateQueue===c&&(c=b.updateQueue={baseState:c.baseState,expirationTime:c.expirationTime,first:c.first,last:c.last,isInitialized:c.isInitialized,callbackList:null,hasForceUpdate:!1});c.expirationTime=0;c.isInitialized?a=c.baseState:(a=c.baseState=b.memoizedState,c.isInitialized=!0);for(var g=!0,h=c.first,k=!1;null!==h;){var l=h.expirationTime;if(l>f){var D=c.expirationTime;if(0===D||D>l)c.expirationTime=l;k||(k=!0,c.baseState=a)}else{k||(c.first=h.next,null===c.first&&(c.last=null));if(h.isReplace)a=ie(h,d,a,e),g=!0;else if(l=ie(h,d,a,e))a=g?C({},a,l):C(a,l),g=!1;h.isForced&&(c.hasForceUpdate=!0);null!==h.callback&&(l=c.callbackList,null===l&&(l=c.callbackList=[]),l.push(h))}h=h.next}null!==c.callbackList?b.effectTag|=32:null!==c.first||c.hasForceUpdate||(b.updateQueue=null);k||(c.baseState=a);return a}function je(a,b){var c=a.callbackList;if(null!==c)for(a.callbackList=null,a=0;a<c.length;a++){var d=c[a],e=d.callback;d.callback=null;"function"!==typeof e?l("191",e):void 0;e.call(b)}}function Wa(a){if(null===a||"undefined"===typeof a)return null;a=ke&&a[ke]||a["@@iterator"];return"function"===typeof a?a:null}function Xa(a,b){var c=b.ref;if(null!==c&&"function"!==typeof c){if(b._owner){b=b._owner;var d=void 0;b&&(2!==b.tag?l("110"):void 0,d=b.stateNode);d?void 0:l("147",c);var e=""+c;if(null!==a&&null!==a.ref&&a.ref._stringRef===e)return a.ref;a=function(a){var b=d.refs===ja?d.refs={}:d.refs;null===a?delete b[e]:b[e]=a};a._stringRef=e;return a}"string"!==typeof c?l("148"):void 0;b._owner?void 0:l("149",c)}return c}function Cb(a,b){"textarea"!==a.type&&l("31","[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,"")}function le(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){a=yb(a,b,c);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=rc(c,a.internalContextTag,d),b["return"]=a,b;b=e(b,c,d);b["return"]=a;return b}function k(a,b,c,d){if(null!==b&&b.type===c.type)return d=e(b,c.props,d),d.ref=Xa(b,c),d["return"]=a,d;d=qc(c,a.internalContextTag,d);d.ref=Xa(b,c);d["return"]=a;return d}function m(a,b,c,d){if(null===b||7!==b.tag)return b=sc(c,a.internalContextTag,d),b["return"]=a,b;b=e(b,c,d);b["return"]=a;return b}function D(a,b,c,d){if(null===b||9!==b.tag)return b=tc(c,a.internalContextTag,d),b.type=c.value,b["return"]=a,b;b=e(b,null,d);b.type=c.value;b["return"]=a;return b}function A(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=uc(c,a.internalContextTag,d),b["return"]=a,b;b=e(b,c.children||[],d);b["return"]=a;return b}function v(a,b,c,d,g){if(null===b||10!==b.tag)return b=zb(c,a.internalContextTag,d,g),b["return"]=a,b;b=e(b,c,d);b["return"]=a;return b}function K(a,b,c){if("string"===typeof b||"number"===typeof b)return b=rc(""+b,a.internalContextTag,c),b["return"]=a,b;if("object"===typeof b&&null!==b){switch(b.$$typeof){case Db:if(b.type===sa)return b=zb(b.props.children,a.internalContextTag,c,b.key),b["return"]=a,b;c=qc(b,a.internalContextTag,c);c.ref=Xa(null,b);c["return"]=a;return c;case Eb:return b=sc(b,a.internalContextTag,c),b["return"]=a,b;case Fb:return c=tc(b,a.internalContextTag,c),c.type=b.value,c["return"]=a,c;case Ya:return b=uc(b,a.internalContextTag,c),b["return"]=a,b}if(Gb(b)||Wa(b))return b=zb(b,a.internalContextTag,c,null),b["return"]=a,b;Cb(a,b)}return null}function L(a,b,c,d){var e=null!==b?b.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:h(a,b,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case Db:return c.key===e?c.type===sa?v(a,b,c.props.children,d,e):k(a,b,c,d):null;case Eb:return c.key===e?m(a,b,c,d):null;case Fb:return null===e?D(a,b,c,d):null;case Ya:return c.key===e?A(a,b,c,d):null}if(Gb(c)||Wa(c))return null!==e?null:v(a,b,c,d,null);Cb(a,c)}return null}function R(a,b,c,d,e){if("string"===typeof d||"number"===typeof d)return a=a.get(c)||null,h(b,a,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case Db:return a=a.get(null===d.key?c:d.key)||null,d.type===sa?v(b,a,d.props.children,e,d.key):k(b,a,d,e);case Eb:return a=a.get(null===d.key?c:d.key)||null,m(b,a,d,e);case Fb:return a=a.get(c)||null,D(b,a,d,e);case Ya:return a=a.get(null===d.key?c:d.key)||null,A(b,a,d,e)}if(Gb(d)||Wa(d))return a=a.get(c)||null,v(b,a,d,e,null);Cb(b,d)}return null}function n(e,g,h,z){for(var t=null,q=null,p=g,x=g=0,k=null;null!==p&&x<h.length;x++){p.index>x?(k=p,p=null):k=p.sibling;var l=L(e,p,h[x],z);if(null===l){null===p&&(p=k);break}a&&p&&null===l.alternate&&b(e,p);g=f(l,g,x);null===q?t=l:q.sibling=l;q=l;p=k}if(x===h.length)return c(e,p),t;if(null===p){for(;x<h.length;x++)if(p=K(e,h[x],z))g=f(p,g,x),null===q?t=p:q.sibling=p,q=p;return t}for(p=d(e,p);x<h.length;x++)if(k=R(p,e,x,h[x],z)){if(a&&null!==k.alternate)p["delete"](null===k.key?x:k.key);g=f(k,g,x);null===q?t=k:q.sibling=k;q=k}a&&p.forEach(function(a){return b(e,a)});return t}function r(e,g,h,z){var t=Wa(h);"function"!==typeof t?l("150"):void 0;h=t.call(h);null==h?l("151"):void 0;for(var q=t=null,p=g,x=g=0,k=null,m=h.next();null!==p&&!m.done;x++,m=h.next()){p.index>x?(k=p,p=null):k=p.sibling;var La=L(e,p,m.value,z);if(null===La){p||(p=k);break}a&&p&&null===La.alternate&&b(e,p);g=f(La,g,x);null===q?t=La:q.sibling=La;q=La;p=k}if(m.done)return c(e,p),t;if(null===p){for(;!m.done;x++,m=h.next())m=K(e,m.value,z),null!==m&&(g=f(m,g,x),null===q?t=m:q.sibling=m,q=m);return t}for(p=d(e,p);!m.done;x++,m=h.next())if(m=R(p,e,x,m.value,z),null!==m){if(a&&null!==m.alternate)p["delete"](null===m.key?x:m.key);g=f(m,g,x);null===q?t=m:q.sibling=m;q=m}a&&p.forEach(function(a){return b(e,a)});return t}return function(a,d,f,h){"object"===typeof f&&null!==f&&f.type===sa&&null===f.key&&(f=f.props.children);var k="object"===typeof f&&null!==f;if(k)switch(f.$$typeof){case Db:a:{var q=f.key;for(k=d;null!==k;){if(k.key===q)if(10===k.tag?f.type===sa:k.type===f.type){c(a,k.sibling);d=e(k,f.type===sa?f.props.children:f.props,h);d.ref=Xa(k,f);d["return"]=a;a=d;break a}else{c(a,k);break}else b(a,k);k=k.sibling}f.type===sa?(d=zb(f.props.children,a.internalContextTag,h,f.key),d["return"]=a,a=d):(h=qc(f,a.internalContextTag,h),h.ref=Xa(d,f),h["return"]=a,a=h)}return g(a);case Eb:a:{for(k=f.key;null!==d;){if(d.key===k)if(7===d.tag){c(a,d.sibling);d=e(d,f,h);d["return"]=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=sc(f,a.internalContextTag,h);d["return"]=a;a=d}return g(a);case Fb:a:{if(null!==d)if(9===d.tag){c(a,d.sibling);d=e(d,null,h);d.type=f.value;d["return"]=a;a=d;break a}else c(a,d);d=tc(f,a.internalContextTag,h);d.type=f.value;d["return"]=a;a=d}return g(a);case Ya:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],h);d["return"]=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=uc(f,a.internalContextTag,h);d["return"]=a;a=d}return g(a)}if("string"===typeof f||"number"===typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f,h)):(c(a,d),d=rc(f,a.internalContextTag,h)),d["return"]=a,a=d,g(a);if(Gb(f))return n(a,d,f,h);if(Wa(f))return r(a,d,f,h);k&&Cb(a,f);if("undefined"===typeof f)switch(a.tag){case 2:case 1:h=a.type,l("152",h.displayName||h.name||"Component")}return c(a,d)}}function Bf(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ya,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function Cf(a){if(me.hasOwnProperty(a))return!0;if(ne.hasOwnProperty(a))return!1;if(Df.test(a))return me[a]=!0;ne[a]=!0;return!1}function zc(a,b,c){var d=Ub(b);if(d&&Xc(b,c)){var e=d.mutationMethod;e?e(a,c):null==c||d.hasBooleanValue&&!c||d.hasNumericValue&&isNaN(c)||d.hasPositiveNumericValue&&1>c||d.hasOverloadedBooleanValue&&!1===c?oe(a,b):d.mustUseProperty?a[d.propertyName]=c:(b=d.attributeName,(e=d.attributeNamespace)?a.setAttributeNS(e,b,""+c):d.hasBooleanValue||d.hasOverloadedBooleanValue&&!0===c?a.setAttribute(b,""):a.setAttribute(b,""+c))}else Ac(a,b,Xc(b,c)?c:null)}function Ac(a,b,c){Cf(b)&&(null==c?a.removeAttribute(b):a.setAttribute(b,""+c))}function oe(a,b){var c=Ub(b);c?(b=c.mutationMethod)?b(a,void 0):c.mustUseProperty?a[c.propertyName]=c.hasBooleanValue?!1:"":a.removeAttribute(c.attributeName):a.removeAttribute(b)}function Bc(a,b){var c=b.value,d=b.checked;return C({type:void 0,step:void 0,min:void 0,max:void 0},b,{defaultChecked:void 0,defaultValue:void 0,value:null!=c?c:a._wrapperState.initialValue,checked:null!=d?d:a._wrapperState.initialChecked})}function pe(a,b){var c=b.defaultValue;a._wrapperState={initialChecked:null!=b.checked?b.checked:b.defaultChecked,initialValue:null!=b.value?b.value:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function qe(a,b){b=b.checked;null!=b&&zc(a,"checked",b)}function Cc(a,b){qe(a,b);var c=b.value;if(null!=c)if(0===c&&""===a.value)a.value="0";else if("number"===b.type){if(b=parseFloat(a.value)||0,c!=b||c==b&&a.value!=c)a.value=""+c}else a.value!==""+c&&(a.value=""+c);else null==b.value&&null!=b.defaultValue&&a.defaultValue!==""+b.defaultValue&&(a.defaultValue=""+b.defaultValue),null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function re(a,b){switch(b.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":a.value="";a.value=a.defaultValue;break;default:a.value=a.value}b=a.name;""!==b&&(a.name="");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!a.defaultChecked;""!==b&&(a.name=b)}function Ef(a){var b="";na.Children.forEach(a,function(a){null==a||"string"!==typeof a&&"number"!==typeof a||(b+=a)});return b}function Dc(a,b){a=C({children:void 0},b);if(b=Ef(b.children))a.children=b;return a}function ka(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=""+c;b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function se(a,b){var c=b.value;a._wrapperState={initialValue:null!=c?c:b.defaultValue,wasMultiple:!!b.multiple}}function Ec(a,b){null!=b.dangerouslySetInnerHTML?l("91"):void 0;return C({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function te(a,b){var c=b.value;null==c&&(c=b.defaultValue,b=b.children,null!=b&&(null!=c?l("92"):void 0,Array.isArray(b)&&(1>=b.length?void 0:l("93"),b=b[0]),c=""+b),null==c&&(c=""));a._wrapperState={initialValue:""+c}}function ue(a,b){var c=b.value;null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&(a.defaultValue=c));null!=b.defaultValue&&(a.defaultValue=b.defaultValue)}function ve(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fc(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?ve(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function we(a,b,c){a=a.style;for(var d in b)if(b.hasOwnProperty(d)){c=0===d.indexOf("--");var e=d;var f=b[d];e=null==f||"boolean"===typeof f||""===f?"":c||"number"!==typeof f||0===f||Za.hasOwnProperty(e)&&Za[e]?(""+f).trim():f+"px";"float"===d&&(d="cssFloat");c?a.setProperty(d,e):a[d]=e}}function Gc(a,b,c){b&&(Ff[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?l("137",a,c()):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?l("60"):void 0,"object"===typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML?void 0:l("61")),null!=b.style&&"object"!==typeof b.style?l("62",c()):void 0)}function Hc(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Y(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=Kd(a);b=kb[b];for(var d=0;d<b.length;d++){var e=b[d];c.hasOwnProperty(e)&&c[e]||("topScroll"===e?ha("topScroll","scroll",a):"topFocus"===e||"topBlur"===e?(ha("topFocus","focus",a),ha("topBlur","blur",a),c.topBlur=!0,c.topFocus=!0):"topCancel"===e?(gc("cancel",!0)&&ha("topCancel","cancel",a),c.topCancel=!0):"topClose"===e?(gc("close",!0)&&ha("topClose","close",a),c.topClose=!0):xe.hasOwnProperty(e)&&r(e,xe[e],a),c[e]=!0)}}function ye(a,b,c,d){c=9===c.nodeType?c:c.ownerDocument;"http://www.w3.org/1999/xhtml"===d&&(d=ve(a));"http://www.w3.org/1999/xhtml"===d?"script"===a?(a=c.createElement("div"),a.innerHTML="\x3cscript\x3e\x3c/script\x3e",a=a.removeChild(a.firstChild)):a="string"===typeof b.is?c.createElement(a,{is:b.is}):c.createElement(a):a=c.createElementNS(d,a);return a}function ze(a,b){return(9===b.nodeType?b:b.ownerDocument).createTextNode(a)}function Ae(a,b,c,d){var e=Hc(b,c);switch(b){case"iframe":case"object":r("topLoad","load",a);var f=c;break;case"video":case"audio":for(f in Z)Z.hasOwnProperty(f)&&r(f,Z[f],a);f=c;break;case"source":r("topError","error",a);f=c;break;case"img":case"image":r("topError","error",a);r("topLoad","load",a);f=c;break;case"form":r("topReset","reset",a);r("topSubmit","submit",a);f=c;break;case"details":r("topToggle","toggle",a);f=c;break;case"input":pe(a,c);f=Bc(a,c);r("topInvalid","invalid",a);Y(d,"onChange");break;case"option":f=Dc(a,c);break;case"select":se(a,c);f=C({},c,{value:void 0});r("topInvalid","invalid",a);Y(d,"onChange");break;case"textarea":te(a,c);f=Ec(a,c);r("topInvalid","invalid",a);Y(d,"onChange");break;default:f=c}Gc(b,f,$a);var g=f,h;for(h in g)if(g.hasOwnProperty(h)){var k=g[h];"style"===h?we(a,k,$a):"dangerouslySetInnerHTML"===h?(k=k?k.__html:void 0,null!=k&&Be(a,k)):"children"===h?"string"===typeof k?("textarea"!==b||""!==k)&&Ic(a,k):"number"===typeof k&&Ic(a,""+k):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(ca.hasOwnProperty(h)?null!=k&&Y(d,h):e?Ac(a,h,k):null!=k&&zc(a,h,k))}switch(b){case"input":nb(a);re(a,c);break;case"textarea":nb(a);c=a.textContent;c===a._wrapperState.initialValue&&(a.value=c);break;case"option":null!=c.value&&a.setAttribute("value",c.value);break;case"select":a.multiple=!!c.multiple;b=c.value;null!=b?ka(a,!!c.multiple,b,!1):null!=c.defaultValue&&ka(a,!!c.multiple,c.defaultValue,!0);break;default:"function"===typeof f.onClick&&(a.onclick=G)}}function Ce(a,b,c,d,e){var f=null;switch(b){case"input":c=Bc(a,c);d=Bc(a,d);f=[];break;case"option":c=Dc(a,c);d=Dc(a,d);f=[];break;case"select":c=C({},c,{value:void 0});d=C({},d,{value:void 0});f=[];break;case"textarea":c=Ec(a,c);d=Ec(a,d);f=[];break;default:"function"!==typeof c.onClick&&"function"===typeof d.onClick&&(a.onclick=G)}Gc(b,d,$a);var g,h;a=null;for(g in c)if(!d.hasOwnProperty(g)&&c.hasOwnProperty(g)&&null!=c[g])if("style"===g)for(h in b=c[g],b)b.hasOwnProperty(h)&&(a||(a={}),a[h]="");else"dangerouslySetInnerHTML"!==g&&"children"!==g&&"suppressContentEditableWarning"!==g&&"suppressHydrationWarning"!==g&&"autoFocus"!==g&&(ca.hasOwnProperty(g)?f||(f=[]):(f=f||[]).push(g,null));for(g in d){var k=d[g];b=null!=c?c[g]:void 0;if(d.hasOwnProperty(g)&&k!==b&&(null!=k||null!=b))if("style"===g)if(b){for(h in b)!b.hasOwnProperty(h)||k&&k.hasOwnProperty(h)||(a||(a={}),a[h]="");for(h in k)k.hasOwnProperty(h)&&b[h]!==k[h]&&(a||(a={}),a[h]=k[h])}else a||(f||(f=[]),f.push(g,a)),a=k;else"dangerouslySetInnerHTML"===g?(k=k?k.__html:void 0,b=b?b.__html:void 0,null!=k&&b!==k&&(f=f||[]).push(g,""+k)):"children"===g?b===k||"string"!==typeof k&&"number"!==typeof k||(f=f||[]).push(g,""+k):"suppressContentEditableWarning"!==g&&"suppressHydrationWarning"!==g&&(ca.hasOwnProperty(g)?(null!=k&&Y(e,g),f||b===k||(f=[])):(f=f||[]).push(g,k))}a&&(f=f||[]).push("style",a);return f}function De(a,b,c,d,e){"input"===c&&"radio"===e.type&&null!=e.name&&qe(a,e);Hc(c,d);d=Hc(c,e);for(var f=0;f<b.length;f+=2){var g=b[f],h=b[f+1];"style"===g?we(a,h,$a):"dangerouslySetInnerHTML"===g?Be(a,h):"children"===g?Ic(a,h):d?null!=h?Ac(a,g,h):a.removeAttribute(g):null!=h?zc(a,g,h):oe(a,g)}switch(c){case"input":Cc(a,e);break;case"textarea":ue(a,e);break;case"select":a._wrapperState.initialValue=void 0,b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,c=e.value,null!=c?ka(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?ka(a,!!e.multiple,e.defaultValue,!0):ka(a,!!e.multiple,e.multiple?[]:"",!1))}}function Ee(a,b,c,d,e){switch(b){case"iframe":case"object":r("topLoad","load",a);break;case"video":case"audio":for(var f in Z)Z.hasOwnProperty(f)&&r(f,Z[f],a);break;case"source":r("topError","error",a);break;case"img":case"image":r("topError","error",a);r("topLoad","load",a);break;case"form":r("topReset","reset",a);r("topSubmit","submit",a);break;case"details":r("topToggle","toggle",a);break;case"input":pe(a,c);r("topInvalid","invalid",a);Y(e,"onChange");break;case"select":se(a,c);r("topInvalid","invalid",a);Y(e,"onChange");break;case"textarea":te(a,c),r("topInvalid","invalid",a),Y(e,"onChange")}Gc(b,c,$a);d=null;for(var g in c)c.hasOwnProperty(g)&&(f=c[g],"children"===g?"string"===typeof f?a.textContent!==f&&(d=["children",f]):"number"===typeof f&&a.textContent!==""+f&&(d=["children",""+f]):ca.hasOwnProperty(g)&&null!=f&&Y(e,g));switch(b){case"input":nb(a);re(a,c);break;case"textarea":nb(a);b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(a.onclick=G)}return d}function Fe(a,b){return a.nodeValue!==b}function Jc(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Gf(a){a=a?9===a.nodeType?a.documentElement:a.firstChild:null;return!(!a||1!==a.nodeType||!a.hasAttribute("data-reactroot"))}function Hb(a,b,c,d,e){Jc(c)?void 0:l("200");var f=c._reactRootContainer;if(f)E.updateContainer(b,f,a,e);else{d=d||Gf(c);if(!d)for(f=void 0;f=c.lastChild;)c.removeChild(f);var g=E.createContainer(c,d);f=c._reactRootContainer=g;E.unbatchedUpdates(function(){E.updateContainer(b,g,a,e)})}return E.getPublicRootInstance(f)}function Ge(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;Jc(b)?void 0:l("200");return Bf(a,b,null,c)}function He(a,b){this._reactRootContainer=E.createContainer(a,b)}na?void 0:l("227");var Yc={children:!0,dangerouslySetInnerHTML:!0,defaultValue:!0,defaultChecked:!0,innerHTML:!0,suppressContentEditableWarning:!0,suppressHydrationWarning:!0,style:!0},Ie={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,HAS_STRING_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var b=Ie,c=a.Properties||{},d=a.DOMAttributeNamespaces||{},e=a.DOMAttributeNames||{};a=a.DOMMutationMethods||{};for(var f in c){ib.hasOwnProperty(f)?l("48",f):void 0;var g=f.toLowerCase(),h=c[f];g={attributeName:g,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:va(h,b.MUST_USE_PROPERTY),hasBooleanValue:va(h,b.HAS_BOOLEAN_VALUE),hasNumericValue:va(h,b.HAS_NUMERIC_VALUE),hasPositiveNumericValue:va(h,b.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:va(h,b.HAS_OVERLOADED_BOOLEAN_VALUE),hasStringBooleanValue:va(h,b.HAS_STRING_BOOLEAN_VALUE)};1>=g.hasBooleanValue+g.hasNumericValue+g.hasOverloadedBooleanValue?void 0:l("50",f);e.hasOwnProperty(f)&&(g.attributeName=e[f]);d.hasOwnProperty(f)&&(g.attributeNamespace=d[f]);a.hasOwnProperty(f)&&(g.mutationMethod=a[f]);ib[f]=g}}},ib={},aa=Ie,Ib=aa.MUST_USE_PROPERTY,w=aa.HAS_BOOLEAN_VALUE,Je=aa.HAS_NUMERIC_VALUE,Jb=aa.HAS_POSITIVE_NUMERIC_VALUE,Ke=aa.HAS_OVERLOADED_BOOLEAN_VALUE,Kb=aa.HAS_STRING_BOOLEAN_VALUE,Hf={Properties:{allowFullScreen:w,async:w,autoFocus:w,autoPlay:w,capture:Ke,checked:Ib|w,cols:Jb,contentEditable:Kb,controls:w,"default":w,defer:w,disabled:w,download:Ke,draggable:Kb,formNoValidate:w,hidden:w,loop:w,multiple:Ib|w,muted:Ib|w,noValidate:w,open:w,playsInline:w,readOnly:w,required:w,reversed:w,rows:Jb,rowSpan:Je,scoped:w,seamless:w,selected:Ib|w,size:Jb,start:Je,span:Jb,spellCheck:Kb,style:0,tabIndex:0,itemScope:w,acceptCharset:0,className:0,htmlFor:0,httpEquiv:0,value:Kb},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMMutationMethods:{value:function(a,b){if(null==b)return a.removeAttribute("value");"number"!==a.type||!1===a.hasAttribute("value")?a.setAttribute("value",""+b):a.validity&&!a.validity.badInput&&a.ownerDocument.activeElement!==a&&a.setAttribute("value",""+b)}}},Kc=aa.HAS_STRING_BOOLEAN_VALUE,Lc={Properties:{autoReverse:Kc,externalResourcesRequired:Kc,preserveAlpha:Kc},DOMAttributeNames:{autoReverse:"autoReverse",externalResourcesRequired:"externalResourcesRequired",preserveAlpha:"preserveAlpha"},DOMAttributeNamespaces:{xlinkActuate:"http://www.w3.org/1999/xlink",xlinkArcrole:"http://www.w3.org/1999/xlink",xlinkHref:"http://www.w3.org/1999/xlink",xlinkRole:"http://www.w3.org/1999/xlink",xlinkShow:"http://www.w3.org/1999/xlink",xlinkTitle:"http://www.w3.org/1999/xlink",xlinkType:"http://www.w3.org/1999/xlink",xmlBase:"http://www.w3.org/XML/1998/namespace",xmlLang:"http://www.w3.org/XML/1998/namespace",xmlSpace:"http://www.w3.org/XML/1998/namespace"}},If=/[\-\:]([a-z])/g,Jf=function(a){return a[1].toUpperCase()};"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode x-height xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xmlns:xlink xml:lang xml:space".split(" ").forEach(function(a){var b=a.replace(If,Jf);Lc.Properties[b]=0;Lc.DOMAttributeNames[b]=a});aa.injectDOMPropertyConfig(Hf);aa.injectDOMPropertyConfig(Lc);var y={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,injection:{injectErrorUtils:function(a){"function"!==typeof a.invokeGuardedCallback?l("197"):void 0;Le=a.invokeGuardedCallback}},invokeGuardedCallback:function(a,b,c,d,e,f,g,h,k){Le.apply(y,arguments)},invokeGuardedCallbackAndCatchFirstError:function(a,b,c,d,e,f,g,h,k){y.invokeGuardedCallback.apply(this,arguments);if(y.hasCaughtError()){var l=y.clearCaughtError();y._hasRethrowError||(y._hasRethrowError=!0,y._rethrowError=l)}},rethrowCaughtError:function(){return Kf.apply(y,arguments)},hasCaughtError:function(){return y._hasCaughtError},clearCaughtError:function(){if(y._hasCaughtError){var a=y._caughtError;y._caughtError=null;y._hasCaughtError=!1;return a}l("198")}},Le=function(a,b,c,d,e,f,g,h,k){y._hasCaughtError=!1;y._caughtError=null;var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(D){y._caughtError=D,y._hasCaughtError=!0}},Kf=function(){if(y._hasRethrowError){var a=y._rethrowError;y._rethrowError=null;y._hasRethrowError=!1;throw a}},jb=null,ba={},oa=[],Vb={},ca={},kb={},Lf=Object.freeze({plugins:oa,eventNameDispatchConfigs:Vb,registrationNameModules:ca,registrationNameDependencies:kb,possibleRegistrationNames:null,injectEventPluginOrder:ad,injectEventPluginsByName:bd}),ta=function(){};ta.thatReturns=lb;ta.thatReturnsFalse=lb(!1);ta.thatReturnsTrue=lb(!0);ta.thatReturnsNull=lb(null);ta.thatReturnsThis=function(){return this};ta.thatReturnsArgument=function(a){return a};var G=ta,Xb=null,vd=null,dd=null,pa=null,Me=function(a,b){if(a){var c=a._dispatchListeners,d=a._dispatchInstances;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)cd(a,b,c[e],d[e]);else c&&cd(a,b,c,d);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}},$e=function(a){return Me(a,!0)},af=function(a){return Me(a,!1)},Mc={injectEventPluginOrder:ad,injectEventPluginsByName:bd},Mf=Object.freeze({injection:Mc,getListener:Wb,extractEvents:ed,enqueueEvents:Yb,processEventQueue:Zb}),Ne=Math.random().toString(36).slice(2),O="__reactInternalInstance$"+Ne,ea="__reactEventHandlers$"+Ne,Oe=Object.freeze({precacheFiberNode:function(a,b){b[O]=a},getClosestInstanceFromNode:W,getInstanceFromNode:function(a){a=a[O];return!a||5!==a.tag&&6!==a.tag?null:a},getNodeFromInstance:xa,getFiberCurrentPropsFromNode:fd,updateFiberProps:function(a,b){a[ea]=b}}),Nf=Object.freeze({accumulateTwoPhaseDispatches:ya,accumulateTwoPhaseDispatchesSkipTarget:function(a){da(a,cf)},accumulateEnterLeaveDispatches:id,accumulateDirectDispatches:function(a){da(a,df)}}),Lb=!("undefined"===typeof window||!window.document||!window.document.createElement),P={canUseDOM:Lb,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:Lb&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:Lb&&!!window.screen,isInWorker:!Lb},ac=null,H={_root:null,_startText:null,_fallbackText:null},C=na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.assign,Pe="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),Of={type:null,target:null,currentTarget:G.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=G.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=G.thatReturnsTrue)},persist:function(){this.isPersistent=G.thatReturnsTrue},isPersistent:G.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface,b;for(b in a)this[b]=null;for(a=0;a<Pe.length;a++)this[Pe[a]]=null}});n.Interface=Of;n.augmentClass=function(a,b){var c=function(){};c.prototype=this.prototype;c=new c;C(c,a.prototype);a.prototype=c;a.prototype.constructor=a;a.Interface=C({},this.Interface,b);a.augmentClass=this.augmentClass;md(a)};md(n);n.augmentClass(nd,{data:null});n.augmentClass(od,{data:null});var hf=[9,13,27,32],bc=P.canUseDOM&&"CompositionEvent"in window,ab=null;P.canUseDOM&&"documentMode"in document&&(ab=document.documentMode);var Pf=P.canUseDOM&&"TextEvent"in window&&!ab&&!gf(),td=P.canUseDOM&&(!bc||ab&&8<ab&&11>=ab),sd=String.fromCharCode(32),V={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},rd=!1,za=!1,Qf={eventTypes:V,extractEvents:function(a,b,c,d){var e;if(bc)b:{switch(a){case"topCompositionStart":var f=V.compositionStart;break b;case"topCompositionEnd":f=V.compositionEnd;break b;case"topCompositionUpdate":f=V.compositionUpdate;break b}f=void 0}else za?pd(a,c)&&(f=V.compositionEnd):"topKeyDown"===a&&229===c.keyCode&&(f=V.compositionStart);f?(td&&(za||f!==V.compositionStart?f===V.compositionEnd&&za&&(e=kd()):(H._root=d,H._startText=ld(),za=!0)),f=nd.getPooled(f,b,c,d),e?f.data=e:(e=qd(c),null!==e&&(f.data=e)),ya(f),e=f):e=null;(a=Pf?jf(a,c):kf(a,c))?(b=od.getPooled(V.beforeInput,b,c,d),b.data=a,ya(b)):b=null;return[e,b]}},mb=null,Ga=null,fa=null,Qe={injectFiberControlledHostComponent:function(a){mb=a}},Rf=Object.freeze({injection:Qe,enqueueStateRestore:wd,restoreStateIfNeeded:xd}),ec=function(a,b){return a(b)},dc=!1,lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},zd;P.canUseDOM&&(zd=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var Dd={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}},Ha=null,Oa=null,Nc=!1;P.canUseDOM&&(Nc=gc("input")&&(!document.documentMode||9<document.documentMode));var Sf={eventTypes:Dd,_isInputEventSupported:Nc,extractEvents:function(a,b,c,d){var e=b?xa(b):window,f=e.nodeName&&e.nodeName.toLowerCase();if("select"===f||"input"===f&&"file"===e.type)var g=of;else if(yd(e))if(Nc)g=sf;else{g=qf;var h=pf}else f=e.nodeName,!f||"input"!==f.toLowerCase()||"checkbox"!==e.type&&"radio"!==e.type||(g=rf);if(g&&(g=g(a,b)))return Cd(g,c,d);h&&h(a,e,b);"topBlur"===a&&null!=b&&(a=b._wrapperState||e._wrapperState)&&a.controlled&&"number"===e.type&&(a=""+e.value,e.getAttribute("value")!==a&&e.setAttribute("value",a))}};n.augmentClass(Aa,{view:null,detail:null});var uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};Aa.augmentClass(qa,{screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:hc,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)}});var Oc={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Tf={eventTypes:Oc,extractEvents:function(a,b,c,d){if("topMouseOver"===a&&(c.relatedTarget||c.fromElement)||"topMouseOut"!==a&&"topMouseOver"!==a)return null;var e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;"topMouseOut"===a?(a=b,b=(b=c.relatedTarget||c.toElement)?W(b):null):a=null;if(a===b)return null;var f=null==a?e:xa(a);e=null==b?e:xa(b);var g=qa.getPooled(Oc.mouseLeave,a,c,d);g.type="mouseleave";g.target=f;g.relatedTarget=e;c=qa.getPooled(Oc.mouseEnter,b,c,d);c.type="mouseenter";c.target=e;c.relatedTarget=f;id(g,c,a,b);return[g,c]}},bb=na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Id={listen:function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}};if(a.attachEvent)return a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}},capture:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!0),{remove:function(){a.removeEventListener(b,c,!0)}}):{remove:G}},registerDefault:function(){}},qb=[],Ra=!0,pb=void 0,Uf=Object.freeze({get _enabled(){return Ra},get _handleTopLevel(){return pb},setHandleTopLevel:function(a){pb=a},setEnabled:ic,isEnabled:function(){return Ra},trapBubbledEvent:r,trapCapturedEvent:ha,dispatchEvent:jc}),U={animationend:rb("Animation","AnimationEnd"),animationiteration:rb("Animation","AnimationIteration"),animationstart:rb("Animation","AnimationStart"),transitionend:rb("Transition","TransitionEnd")},kc={},Jd={};P.canUseDOM&&(Jd=document.createElement("div").style,"AnimationEvent"in window||(delete U.animationend.animation,delete U.animationiteration.animation,delete U.animationstart.animation),"TransitionEvent"in window||delete U.transitionend.transition);var xe={topAbort:"abort",topAnimationEnd:sb("animationend")||"animationend",topAnimationIteration:sb("animationiteration")||"animationiteration",topAnimationStart:sb("animationstart")||"animationstart",topBlur:"blur",topCancel:"cancel",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoad:"load",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:sb("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},Ld={},zf=0,tb="_reactListenersID"+(""+Math.random()).slice(2),nc=function(a){a=a||("undefined"!==typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}},Vf=Object.prototype.hasOwnProperty,oc=function(a,b){if(Md(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Vf.call(b,c[d])||!Md(a[c[d]],b[c[d]]))return!1;return!0},Od=function(a){var b=(a?a.ownerDocument||a:document).defaultView||window;return!!(a&&("function"===typeof b.Node?a instanceof b.Node:"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName))&&3==a.nodeType},Wf=P.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Sd={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},X=null,pc=null,Sa=null,mc=!1,Xf={eventTypes:Sd,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument,f;if(!(f=!e)){a:{e=Kd(e);f=kb.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;e=b?xa(b):window;switch(a){case"topFocus":if(yd(e)||"true"===e.contentEditable)X=e,pc=b,Sa=null;break;case"topBlur":Sa=pc=X=null;break;case"topMouseDown":mc=!0;break;case"topContextMenu":case"topMouseUp":return mc=!1,Rd(c,d);case"topSelectionChange":if(Wf)break;case"topKeyDown":case"topKeyUp":return Rd(c,d)}return null}};n.augmentClass(Td,{animationName:null,elapsedTime:null,pseudoElement:null});n.augmentClass(Ud,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}});Aa.augmentClass(Vd,{relatedTarget:null});var Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};Aa.augmentClass(Wd,{key:function(a){if(a.key){var b=Yf[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=ub(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?Zf[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:hc,charCode:function(a){return"keypress"===a.type?ub(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?ub(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}});qa.augmentClass(Xd,{dataTransfer:null});Aa.augmentClass(Yd,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:hc});n.augmentClass(Zd,{propertyName:null,elapsedTime:null,pseudoElement:null});qa.augmentClass($d,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null});var Re={},Se={};"abort animationEnd animationIteration animationStart blur cancel canPlay canPlayThrough click close contextMenu copy cut doubleClick drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error focus input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing progress rateChange reset scroll seeked seeking stalled submit suspend timeUpdate toggle touchCancel touchEnd touchMove touchStart transitionEnd volumeChange waiting wheel".split(" ").forEach(function(a){var b=a[0].toUpperCase()+a.slice(1),c="on"+b;b="top"+b;c={phasedRegistrationNames:{bubbled:c,captured:c+"Capture"},dependencies:[b]};Re[a]=c;Se[b]=c});var $f={eventTypes:Re,extractEvents:function(a,b,c,d){var e=Se[a];if(!e)return null;switch(a){case"topKeyPress":if(0===ub(c))return null;case"topKeyDown":case"topKeyUp":a=Wd;break;case"topBlur":case"topFocus":a=Vd;break;case"topClick":if(2===c.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=qa;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=Xd;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=Yd;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=Td;break;case"topTransitionEnd":a=Zd;break;case"topScroll":a=Aa;break;case"topWheel":a=$d;break;case"topCopy":case"topCut":case"topPaste":a=Ud;break;default:a=n}b=a.getPooled(e,b,c,d);ya(b);return b}};pb=function(a,b,c,d){a=ed(a,b,c,d);Yb(a);Zb(!1)};Mc.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));(function(a){Xb=a.getFiberCurrentPropsFromNode;vd=a.getInstanceFromNode;dd=a.getNodeFromInstance})(Oe);Mc.injectEventPluginsByName({SimpleEventPlugin:$f,EnterLeaveEventPlugin:Tf,ChangeEventPlugin:Sf,SelectEventPlugin:Xf,BeforeInputEventPlugin:Qf});var ja={},vb=[],ra=-1;new Set;var ia={current:ja},J={current:!1},wb=ja,vc=null,wc=null,ag=function(a,b,c,d){function e(a,b){b.updater=f;a.stateNode=b;b._reactInternalFiber=a}var f={isMounted:vf,enqueueSetState:function(c,d,e){c=c._reactInternalFiber;e=void 0===e?null:e;var f=b(c);Bb(c,{expirationTime:f,partialState:d,callback:e,isReplace:!1,isForced:!1,nextCallback:null,next:null});a(c,f)},enqueueReplaceState:function(c,d,e){c=c._reactInternalFiber;e=void 0===e?null:e;var f=b(c);Bb(c,{expirationTime:f,partialState:d,callback:e,isReplace:!0,isForced:!1,nextCallback:null,next:null});a(c,f)},enqueueForceUpdate:function(c,d){c=c._reactInternalFiber;d=void 0===d?null:d;var e=b(c);Bb(c,{expirationTime:e,partialState:null,callback:d,isReplace:!1,isForced:!0,nextCallback:null,next:null});a(c,e)}};return{adoptClassInstance:e,constructClassInstance:function(a,b){var c=a.type,d=Ta(a),f=2===a.tag&&null!=a.type.contextTypes,g=f?Va(a,d):ja;b=new c(b,g);e(a,b);f&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=d,a.__reactInternalMemoizedMaskedChildContext=g);return b},mountClassInstance:function(a,b){var c=a.alternate,d=a.stateNode,e=d.state||null,h=a.pendingProps;h?void 0:l("158");var g=Ta(a);d.props=h;d.state=a.memoizedState=e;d.refs=ja;d.context=Va(a,g);null!=a.type&&null!=a.type.prototype&&!0===a.type.prototype.unstable_isAsyncReactComponent&&(a.internalContextTag|=1);"function"===typeof d.componentWillMount&&(e=d.state,d.componentWillMount(),e!==d.state&&f.enqueueReplaceState(d,d.state,null),e=a.updateQueue,null!==e&&(d.state=xc(c,a,e,d,h,b)));"function"===typeof d.componentDidMount&&(a.effectTag|=4)},updateClassInstance:function(a,b,e){var g=b.stateNode;g.props=b.memoizedProps;g.state=b.memoizedState;var h=b.memoizedProps,k=b.pendingProps;k||(k=h,null==k?l("159"):void 0);var v=g.context,K=Ta(b);K=Va(b,K);"function"!==typeof g.componentWillReceiveProps||h===k&&v===K||(v=g.state,g.componentWillReceiveProps(k,K),g.state!==v&&f.enqueueReplaceState(g,g.state,null));v=b.memoizedState;e=null!==b.updateQueue?xc(a,b,b.updateQueue,g,k,e):v;if(!(h!==k||v!==e||J.current||null!==b.updateQueue&&b.updateQueue.hasForceUpdate))return"function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&v===a.memoizedState||(b.effectTag|=4),!1;var L=k;if(null===h||null!==b.updateQueue&&b.updateQueue.hasForceUpdate)L=!0;else{var R=b.stateNode,n=b.type;L="function"===typeof R.shouldComponentUpdate?R.shouldComponentUpdate(L,e,K):n.prototype&&n.prototype.isPureReactComponent?!oc(h,L)||!oc(v,e):!0}L?("function"===typeof g.componentWillUpdate&&g.componentWillUpdate(k,e,K),"function"===typeof g.componentDidUpdate&&(b.effectTag|=4)):("function"!==typeof g.componentDidUpdate||h===a.memoizedProps&&v===a.memoizedState||(b.effectTag|=4),c(b,k),d(b,e));g.props=k;g.state=e;g.context=K;return L}}},cb="function"===typeof Symbol&&Symbol["for"],Db=cb?Symbol["for"]("react.element"):60103,Eb=cb?Symbol["for"]("react.call"):60104,Fb=cb?Symbol["for"]("react.return"):60105,Ya=cb?Symbol["for"]("react.portal"):60106,sa=cb?Symbol["for"]("react.fragment"):60107,ke="function"===typeof Symbol&&Symbol.iterator,Gb=Array.isArray,db=le(!0),Mb=le(!1),bg=function(a,b,c,d,e){function f(a,b,c){var d=b.expirationTime;b.child=null===a?Mb(b,null,c,d):db(b,a.child,c,d)}function g(a,b){var c=b.ref;null===c||a&&a.ref===c||(b.effectTag|=128)}function h(a,b,c,d){g(a,b);if(!c)return d&&de(b,!1),m(a,b);c=b.stateNode;bb.current=b;var e=c.render();b.effectTag|=1;f(a,b,e);b.memoizedState=c.state;b.memoizedProps=c.props;d&&de(b,!0);return b.child}function k(a){var b=a.stateNode;b.pendingContext?be(a,b.pendingContext,b.pendingContext!==b.context):b.context&&be(a,b.context,!1);R(a,b.containerInfo)}function m(a,b){null!==a&&b.child!==a.child?l("153"):void 0;if(null!==b.child){a=b.child;var c=yb(a,a.pendingProps,a.expirationTime);b.child=c;for(c["return"]=b;null!==a.sibling;)a=a.sibling,c=c.sibling=yb(a,a.pendingProps,a.expirationTime),c["return"]=b;c.sibling=null}return b.child}function D(a,b){switch(b.tag){case 3:k(b);break;case 2:xb(b);break;case 4:R(b,b.stateNode.containerInfo)}return null}var A=a.shouldSetTextContent,v=a.useSyncScheduling,n=a.shouldDeprioritizeSubtree,L=b.pushHostContext,R=b.pushHostContainer,r=c.enterHydrationState,w=c.resetHydrationState,y=c.tryToClaimNextHydratableInstance;a=ag(d,e,function(a,b){a.memoizedProps=b},function(a,b){a.memoizedState=b});var x=a.adoptClassInstance,t=a.constructClassInstance,z=a.mountClassInstance,yc=a.updateClassInstance;return{beginWork:function(a,b,c){if(0===b.expirationTime||b.expirationTime>c)return D(a,b);switch(b.tag){case 0:null!==a?l("155"):void 0;var d=b.type,e=b.pendingProps,q=Ta(b);q=Va(b,q);d=d(e,q);b.effectTag|=1;"object"===typeof d&&null!==d&&"function"===typeof d.render?(b.tag=2,e=xb(b),x(b,d),z(b,c),b=h(a,b,!0,e)):(b.tag=1,f(a,b,d),b.memoizedProps=e,b=b.child);return b;case 1:a:{e=b.type;c=b.pendingProps;d=b.memoizedProps;if(J.current)null===c&&(c=d);else if(null===c||d===c){b=m(a,b);break a}d=Ta(b);d=Va(b,d);e=e(c,d);b.effectTag|=1;f(a,b,e);b.memoizedProps=c;b=b.child}return b;case 2:return e=xb(b),d=void 0,null===a?b.stateNode?l("153"):(t(b,b.pendingProps),z(b,c),d=!0):d=yc(a,b,c),h(a,b,d,e);case 3:return k(b),e=b.updateQueue,null!==e?(d=b.memoizedState,e=xc(a,b,e,null,null,c),d===e?(w(),b=m(a,b)):(d=e.element,q=b.stateNode,(null===a||null===a.child)&&q.hydrate&&r(b)?(b.effectTag|=2,b.child=Mb(b,null,d,c)):(w(),f(a,b,d)),b.memoizedState=e,b=b.child)):(w(),b=m(a,b)),b;case 5:L(b);null===a&&y(b);e=b.type;var p=b.memoizedProps;d=b.pendingProps;null===d&&(d=p,null===d?l("154"):void 0);q=null!==a?a.memoizedProps:null;J.current||null!==d&&p!==d?(p=d.children,A(e,d)?p=null:q&&A(e,q)&&(b.effectTag|=16),g(a,b),2147483647!==c&&!v&&n(e,d)?(b.expirationTime=2147483647,b=null):(f(a,b,p),b.memoizedProps=d,b=b.child)):b=m(a,b);return b;case 6:return null===a&&y(b),a=b.pendingProps,null===a&&(a=b.memoizedProps),b.memoizedProps=a,null;case 8:b.tag=7;case 7:e=b.pendingProps;if(J.current)null===e&&(e=a&&a.memoizedProps,null===e?l("154"):void 0);else if(null===e||b.memoizedProps===e)e=b.memoizedProps;d=e.children;b.stateNode=null===a?Mb(b,b.stateNode,d,c):db(b,b.stateNode,d,c);b.memoizedProps=e;return b.stateNode;case 9:return null;case 4:a:{R(b,b.stateNode.containerInfo);e=b.pendingProps;if(J.current)null===e&&(e=a&&a.memoizedProps,null==e?l("154"):void 0);else if(null===e||b.memoizedProps===e){b=m(a,b);break a}null===a?b.child=db(b,null,e,c):f(a,b,e);b.memoizedProps=e;b=b.child}return b;case 10:a:{c=b.pendingProps;if(J.current)null===c&&(c=b.memoizedProps);else if(null===c||b.memoizedProps===c){b=m(a,b);break a}f(a,b,c);b.memoizedProps=c;b=b.child}return b;default:l("156")}},beginFailedWork:function(a,b,c){switch(b.tag){case 2:xb(b);break;case 3:k(b);break;default:l("157")}b.effectTag|=64;null===a?b.child=null:b.child!==a.child&&(b.child=a.child);if(0===b.expirationTime||b.expirationTime>c)return D(a,b);b.firstEffect=null;b.lastEffect=null;b.child=null===a?Mb(b,null,null,c):db(b,a.child,null,c);2===b.tag&&(a=b.stateNode,b.memoizedProps=a.props,b.memoizedState=a.state);return b.child}}},cg=function(a,b,c){function d(a){a.effectTag|=4}var e=a.createInstance,f=a.createTextInstance,g=a.appendInitialChild,h=a.finalizeInitialChildren,k=a.prepareUpdate,m=a.persistence,D=b.getRootHostContainer,A=b.popHostContext,v=b.getHostContext,n=b.popHostContainer,L=c.prepareToHydrateHostInstance,R=c.prepareToHydrateHostTextInstance,r=c.popHydrationState,w=void 0,y=void 0,x=void 0;a.mutation?(w=function(a){},y=function(a,b,c,e,f,g,h){(b.updateQueue=c)&&d(b)},x=function(a,b,c,e){c!==e&&d(b)}):m?l("235"):l("236");return{completeWork:function(a,b,c){var t=b.pendingProps;if(null===t)t=b.memoizedProps;else if(2147483647!==b.expirationTime||2147483647===c)b.pendingProps=null;switch(b.tag){case 1:return null;case 2:return ae(b),null;case 3:n(b);I(J,b);I(ia,b);t=b.stateNode;t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null);if(null===a||null===a.child)r(b),b.effectTag&=-3;w(b);return null;case 5:A(b);c=D();var z=b.type;if(null!==a&&null!=b.stateNode){var m=a.memoizedProps,K=b.stateNode,yc=v();K=k(K,z,m,t,c,yc);y(a,b,K,z,m,t,c);a.ref!==b.ref&&(b.effectTag|=128)}else{if(!t)return null===b.stateNode?l("166"):void 0,null;a=v();if(r(b))L(b,c,a)&&d(b);else{a=e(z,t,c,a,b);a:for(m=b.child;null!==m;){if(5===m.tag||6===m.tag)g(a,m.stateNode);else if(4!==m.tag&&null!==m.child){m.child["return"]=m;m=m.child;continue}if(m===b)break;for(;null===m.sibling;){if(null===m["return"]||m["return"]===b)break a;m=m["return"]}m.sibling["return"]=m["return"];m=m.sibling}h(a,z,t,c)&&d(b);b.stateNode=a}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(a&&null!=b.stateNode)x(a,b,a.memoizedProps,t);else{if("string"!==typeof t)return null===b.stateNode?l("166"):void 0,null;a=D();c=v();r(b)?R(b)&&d(b):b.stateNode=f(t,a,c,b)}return null;case 7:(t=b.memoizedProps)?void 0:l("165");b.tag=8;z=[];a:for((m=b.stateNode)&&(m["return"]=b);null!==m;){if(5===m.tag||6===m.tag||4===m.tag)l("247");else if(9===m.tag)z.push(m.type);else if(null!==m.child){m.child["return"]=m;m=m.child;continue}for(;null===m.sibling;){if(null===m["return"]||m["return"]===b)break a;m=m["return"]}m.sibling["return"]=m["return"];m=m.sibling}m=t.handler;t=m(t.props,z);b.child=db(b,null!==a?a.child:null,t,c);return b.child;case 8:return b.tag=7,null;case 9:return null;case 10:return null;case 4:return n(b),w(b),null;case 0:l("167");default:l("156")}}}},dg=function(a,b){function c(a){var c=a.ref;if(null!==c)try{c(null)}catch(z){b(a,z)}}function d(a){"function"===typeof ge&&ge(a);switch(a.tag){case 2:c(a);var d=a.stateNode;if("function"===typeof d.componentWillUnmount)try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(z){b(a,z)}break;case 5:c(a);break;case 7:e(a.stateNode);break;case 4:k&&g(a)}}function e(a){for(var b=a;;)if(d(b),null===b.child||k&&4===b.tag){if(b===a)break;for(;null===b.sibling;){if(null===b["return"]||b["return"]===a)return;b=b["return"]}b.sibling["return"]=b["return"];b=b.sibling}else b.child["return"]=b,b=b.child}function f(a){return 5===a.tag||3===a.tag||4===a.tag}function g(a){for(var b=a,c=!1,f=void 0,g=void 0;;){if(!c){c=b["return"];a:for(;;){null===c?l("160"):void 0;switch(c.tag){case 5:f=c.stateNode;g=!1;break a;case 3:f=c.stateNode.containerInfo;g=!0;break a;case 4:f=c.stateNode.containerInfo;g=!0;break a}c=c["return"]}c=!0}if(5===b.tag||6===b.tag)e(b),g?y(f,b.stateNode):w(f,b.stateNode);else if(4===b.tag?f=b.stateNode.containerInfo:d(b),null!==b.child){b.child["return"]=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b["return"]||b["return"]===a)return;b=b["return"];4===b.tag&&(c=!1)}b.sibling["return"]=b["return"];b=b.sibling}}var h=a.getPublicInstance,k=a.mutation;a=a.persistence;k||(a?l("235"):l("236"));var m=k.commitMount,D=k.commitUpdate,A=k.resetTextContent,v=k.commitTextUpdate,n=k.appendChild,L=k.appendChildToContainer,R=k.insertBefore,r=k.insertInContainerBefore,w=k.removeChild,y=k.removeChildFromContainer;return{commitResetTextContent:function(a){A(a.stateNode)},commitPlacement:function(a){a:{for(var b=a["return"];null!==b;){if(f(b)){var c=b;break a}b=b["return"]}l("160");c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode;d=!1;break;case 3:b=c.stateNode.containerInfo;d=!0;break;case 4:b=c.stateNode.containerInfo;d=!0;break;default:l("161")}c.effectTag&16&&(A(b),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c["return"]||f(c["return"])){c=null;break a}c=c["return"]}c.sibling["return"]=c["return"];for(c=c.sibling;5!==c.tag&&6!==c.tag;){if(c.effectTag&2)continue b;if(null===c.child||4===c.tag)continue b;else c.child["return"]=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)c?d?r(b,e.stateNode,c):R(b,e.stateNode,c):d?L(b,e.stateNode):n(b,e.stateNode);else if(4!==e.tag&&null!==e.child){e.child["return"]=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e["return"]||e["return"]===a)return;e=e["return"]}e.sibling["return"]=e["return"];e=e.sibling}},commitDeletion:function(a){g(a);a["return"]=null;a.child=null;a.alternate&&(a.alternate.child=null,a.alternate["return"]=null)},commitWork:function(a,b){switch(b.tag){case 2:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&D(c,f,e,a,d,b)}break;case 6:null===b.stateNode?l("162"):void 0;c=b.memoizedProps;v(b.stateNode,null!==a?a.memoizedProps:c,c);break;case 3:break;default:l("163")}},commitLifeCycles:function(a,b){switch(b.tag){case 2:var c=b.stateNode;if(b.effectTag&4)if(null===a)c.props=b.memoizedProps,c.state=b.memoizedState,c.componentDidMount();else{var d=a.memoizedProps;a=a.memoizedState;c.props=b.memoizedProps;c.state=b.memoizedState;c.componentDidUpdate(d,a)}b=b.updateQueue;null!==b&&je(b,c);break;case 3:c=b.updateQueue;null!==c&&je(c,null!==b.child?b.child.stateNode:null);break;case 5:c=b.stateNode;null===a&&b.effectTag&4&&m(c,b.type,b.memoizedProps,b);break;case 6:break;case 4:break;default:l("163")}},commitAttachRef:function(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:b(h(c));break;default:b(c)}}},commitDetachRef:function(a){a=a.ref;null!==a&&a(null)}}},la={},eg=function(a){function b(a){a===la?l("174"):void 0;return a}var c=a.getChildHostContext,d=a.getRootHostContext,e={current:la},f={current:la},g={current:la};return{getHostContext:function(){return b(e.current)},getRootHostContainer:function(){return b(g.current)},popHostContainer:function(a){I(e,a);I(f,a);I(g,a)},popHostContext:function(a){f.current===a&&(I(e,a),I(f,a))},pushHostContainer:function(a,b){M(g,b,a);b=d(b);M(f,a,a);M(e,b,a)},pushHostContext:function(a){var d=b(g.current),h=b(e.current);d=c(h,a.type,d);h!==d&&(M(f,a,a),M(e,d,a))},resetHostContainer:function(){e.current=la;g.current=la}}},fg=function(a){function b(a,b){var c=new Q(5,null,0);c.type="DELETED";c.stateNode=b;c["return"]=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function c(a,b){switch(a.tag){case 5:return b=f(b,a.type,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;case 6:return b=g(b,a.pendingProps),null!==b?(a.stateNode=b,!0):!1;default:return!1}}function d(a){for(a=a["return"];null!==a&&5!==a.tag&&3!==a.tag;)a=a["return"];A=a}var e=a.shouldSetTextContent;a=a.hydration;if(!a)return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){l("175")},prepareToHydrateHostTextInstance:function(){l("176")},popHydrationState:function(a){return!1}};var f=a.canHydrateInstance,g=a.canHydrateTextInstance,h=a.getNextHydratableSibling,k=a.getFirstHydratableChild,m=a.hydrateInstance,D=a.hydrateTextInstance,A=null,v=null,n=!1;return{enterHydrationState:function(a){v=k(a.stateNode.containerInfo);A=a;return n=!0},resetHydrationState:function(){v=A=null;n=!1},tryToClaimNextHydratableInstance:function(a){if(n){var d=v;if(d){if(!c(a,d)){d=h(d);if(!d||!c(a,d)){a.effectTag|=2;n=!1;A=a;return}b(A,v)}A=a;v=k(d)}else a.effectTag|=2,n=!1,A=a}},prepareToHydrateHostInstance:function(a,b,c){b=m(a.stateNode,a.type,a.memoizedProps,b,c,a);a.updateQueue=b;return null!==b?!0:!1},prepareToHydrateHostTextInstance:function(a){return D(a.stateNode,a.memoizedProps,a)},popHydrationState:function(a){if(a!==A)return!1;if(!n)return d(a),n=!0,!1;var c=a.type;if(5!==a.tag||"head"!==c&&"body"!==c&&!e(c,a.memoizedProps))for(c=v;c;)b(a,c),c=h(c);d(a);v=A?h(a.stateNode):null;return!0}}},gg=function(a){function b(a){X=Ba=!0;var b=a.stateNode;b.current===a?l("177"):void 0;b.isReadyForCommit=!1;bb.current=null;if(1<a.effectTag)if(null!==a.lastEffect){a.lastEffect.nextEffect=a;var c=a.firstEffect}else c=a;else c=a.firstEffect;za();for(u=c;null!==u;){var d=!1,e=void 0;try{for(;null!==u;){var f=u.effectTag;f&16&&aa(u);if(f&128){var g=u.alternate;null!==g&&va(g)}switch(f&-242){case 2:V(u);u.effectTag&=-3;break;case 6:V(u);u.effectTag&=-3;ca(u.alternate,u);break;case 4:ca(u.alternate,u);break;case 8:ka=!0,na(u),ka=!1}u=u.nextEffect}}catch(Qc){d=!0,e=Qc}d&&(null===u?l("178"):void 0,h(u,e),null!==u&&(u=u.nextEffect))}Aa();b.current=a;for(u=c;null!==u;){c=!1;d=void 0;try{for(;null!==u;){var k=u.effectTag;k&36&&sa(u.alternate,u);k&128&&ta(u);if(k&64)switch(e=u,f=void 0,null!==S&&(f=S.get(e),S["delete"](e),null==f&&null!==e.alternate&&(e=e.alternate,f=S.get(e),S["delete"](e))),null==f?l("184"):void 0,e.tag){case 2:e.stateNode.componentDidCatch(f.error,{componentStack:f.componentStack});break;case 3:null===ma&&(ma=f.error);break;default:l("157")}var Ma=u.nextEffect;u.nextEffect=null;u=Ma}}catch(Qc){c=!0,d=Qc}c&&(null===u?l("178"):void 0,h(u,d),null!==u&&(u=u.nextEffect))}Ba=X=!1;"function"===typeof fe&&fe(a.stateNode);ua&&(ua.forEach(w),ua=null);null!==ma&&(a=ma,ma=null,G(a));b=b.current.expirationTime;0===b&&(Ia=S=null);return b}function c(a){for(;;){var b=Y(a.alternate,a,F),c=a["return"],d=a.sibling;var e=a;if(2147483647===F||2147483647!==e.expirationTime){if(2!==e.tag&&3!==e.tag)var f=0;else f=e.updateQueue,f=null===f?0:f.expirationTime;for(var g=e.child;null!==g;)0!==g.expirationTime&&(0===f||f>g.expirationTime)&&(f=g.expirationTime),g=g.sibling;e.expirationTime=f}if(null!==b)return b;null!==c&&(null===c.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a));if(null!==d)return d;if(null!==c)a=c;else{a.stateNode.isReadyForCommit=!0;break}}return null}function d(a){var b=Q(a.alternate,a,F);null===b&&(b=c(a));bb.current=null;return b}function e(a){var b=T(a.alternate,a,F);null===b&&(b=c(a));bb.current=null;return b}function f(a){if(null!==S){if(!(0===F||F>a))if(F<=ha)for(;null!==B;)B=k(B)?e(B):d(B);else for(;null!==B&&!z();)B=k(B)?e(B):d(B)}else if(!(0===F||F>a))if(F<=ha)for(;null!==B;)B=d(B);else for(;null!==B&&!z();)B=d(B)}function g(a,b){Ba?l("243"):void 0;Ba=!0;a.isReadyForCommit=!1;if(a!==Ja||b!==F||null===B){for(;-1<ra;)vb[ra]=null,ra--;wb=ja;ia.current=ja;J.current=!1;P();Ja=a;F=b;B=yb(Ja.current,null,b)}var c=!1,d=null;try{f(b)}catch(Pc){c=!0,d=Pc}for(;c;){if(U){ma=d;break}var g=B;if(null===g)U=!0;else{var k=h(g,d);null===k?l("183"):void 0;if(!U){try{c=k;d=b;for(k=c;null!==g;){switch(g.tag){case 2:ae(g);break;case 5:O(g);break;case 3:I(g);break;case 4:I(g)}if(g===k||g.alternate===k)break;g=g["return"]}B=e(c);f(d)}catch(Pc){c=!0;d=Pc;continue}break}}}b=ma;U=Ba=!1;ma=null;null!==b&&G(b);return a.isReadyForCommit?a.current.alternate:null}function h(a,b){var c=bb.current=null,d=!1,e=!1,f=null;if(3===a.tag)c=a,m(a)&&(U=!0);else for(var g=a["return"];null!==g&&null===c;){2===g.tag?"function"===typeof g.stateNode.componentDidCatch&&(d=!0,f=Pa(g),c=g,e=!0):3===g.tag&&(c=g);if(m(g)){if(ka||null!==ua&&(ua.has(g)||null!==g.alternate&&ua.has(g.alternate)))return null;c=null;e=!1}g=g["return"]}if(null!==c){null===Ia&&(Ia=new Set);Ia.add(c);var h="";g=a;do{a:switch(g.tag){case 0:case 1:case 2:case 5:var k=g._debugOwner,l=g._debugSource;var Ma=Pa(g);var p=null;k&&(p=Pa(k));k=l;Ma="\n    in "+(Ma||"Unknown")+(k?" (at "+k.fileName.replace(/^.*[\\\/]/,"")+":"+k.lineNumber+")":p?" (created by "+p+")":"");break a;default:Ma=""}h+=Ma;g=g["return"]}while(g);g=h;a=Pa(a);null===S&&(S=new Map);b={componentName:a,componentStack:g,error:b,errorBoundary:d?c.stateNode:null,errorBoundaryFound:d,errorBoundaryName:f,willRetry:e};S.set(c,b);try{var n=b.error;n&&n.suppressReactErrorLogging||console.error(n)}catch(Rc){Rc&&Rc.suppressReactErrorLogging||console.error(Rc)}X?(null===ua&&(ua=new Set),ua.add(c)):w(c);return c}null===ma&&(ma=b);return null}function k(a){return null!==S&&(S.has(a)||null!==a.alternate&&S.has(a.alternate))}function m(a){return null!==Ia&&(Ia.has(a)||null!==a.alternate&&Ia.has(a.alternate))}function n(){return 20*(((y()+100)/20|0)+1)}function A(a){return 0!==Ca?Ca:Ba?X?1:F:!ya||a.internalContextTag&1?n():1}function v(a,b){return r(a,b,!1)}function r(a,b,c){for(;null!==a;){if(0===a.expirationTime||a.expirationTime>b)a.expirationTime=b;null!==a.alternate&&(0===a.alternate.expirationTime||a.alternate.expirationTime>b)&&(a.alternate.expirationTime=b);if(null===a["return"])if(3===a.tag){c=a.stateNode;!Ba&&c===Ja&&b<F&&(B=Ja=null,F=0);var d=c,e=b;fa>Ga&&l("185");if(null===d.nextScheduledRoot)d.remainingExpirationTime=e,null===N?(Ka=N=d,d.nextScheduledRoot=d):(N=N.nextScheduledRoot=d,N.nextScheduledRoot=Ka);else{var f=d.remainingExpirationTime;if(0===f||e<f)d.remainingExpirationTime=e}Na||(Da?ea&&(Ea=d,Fa=1,t(Ea,Fa)):1===e?x(1,null):C(e));!Ba&&c===Ja&&b<F&&(B=Ja=null,F=0)}else break;a=a["return"]}}function w(a){r(a,1,!0)}function y(){return ha=((ba()-qa)/10|0)+2}function C(a){if(0!==Z){if(a>Z)return;xa(la)}var b=ba()-qa;Z=a;la=wa(H,{timeout:10*(a-2)-b})}function E(){var a=0,b=null;if(null!==N)for(var c=N,d=Ka;null!==d;){var e=d.remainingExpirationTime;if(0===e){null===c||null===N?l("244"):void 0;if(d===d.nextScheduledRoot){Ka=N=d.nextScheduledRoot=null;break}else if(d===Ka)Ka=e=d.nextScheduledRoot,N.nextScheduledRoot=e,d.nextScheduledRoot=null;else if(d===N){N=c;N.nextScheduledRoot=Ka;d.nextScheduledRoot=null;break}else c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null;d=c.nextScheduledRoot}else{if(0===a||e<a)a=e,b=d;if(d===N)break;c=d;d=d.nextScheduledRoot}}c=Ea;null!==c&&c===b?fa++:fa=0;Ea=b;Fa=a}function H(a){x(0,a)}function x(a,b){W=b;for(E();null!==Ea&&0!==Fa&&(0===a||Fa<=a)&&!oa;)t(Ea,Fa),E();null!==W&&(Z=0,la=-1);0!==Fa&&C(Fa);W=null;oa=!1;fa=0;if(da)throw a=pa,pa=null,da=!1,a}function t(a,c){Na?l("245"):void 0;Na=!0;if(c<=y()){var d=a.finishedWork;null!==d?(a.finishedWork=null,a.remainingExpirationTime=b(d)):(a.finishedWork=null,d=g(a,c),null!==d&&(a.remainingExpirationTime=b(d)))}else d=a.finishedWork,null!==d?(a.finishedWork=null,a.remainingExpirationTime=b(d)):(a.finishedWork=null,d=g(a,c),null!==d&&(z()?a.finishedWork=d:a.remainingExpirationTime=b(d)));Na=!1}function z(){return null===W||W.timeRemaining()>Ha?!1:oa=!0}function G(a){null===Ea?l("246"):void 0;Ea.remainingExpirationTime=0;da||(da=!0,pa=a)}var q=eg(a),p=fg(a),I=q.popHostContainer,O=q.popHostContext,P=q.resetHostContainer,M=bg(a,q,p,v,A),Q=M.beginWork,T=M.beginFailedWork,Y=cg(a,q,p).completeWork;q=dg(a,h);var aa=q.commitResetTextContent,V=q.commitPlacement,na=q.commitDeletion,ca=q.commitWork,sa=q.commitLifeCycles,ta=q.commitAttachRef,va=q.commitDetachRef,ba=a.now,wa=a.scheduleDeferredCallback,xa=a.cancelDeferredCallback,ya=a.useSyncScheduling,za=a.prepareForCommit,Aa=a.resetAfterCommit,qa=ba(),ha=2,Ca=0,Ba=!1,B=null,Ja=null,F=0,u=null,S=null,Ia=null,ua=null,ma=null,U=!1,X=!1,ka=!1,Ka=null,N=null,Z=0,la=-1,Na=!1,Ea=null,Fa=0,oa=!1,da=!1,pa=null,W=null,Da=!1,ea=!1,Ga=1E3,fa=0,Ha=1;return{computeAsyncExpiration:n,computeExpirationForFiber:A,scheduleWork:v,batchedUpdates:function(a,b){var c=Da;Da=!0;try{return a(b)}finally{(Da=c)||Na||x(1,null)}},unbatchedUpdates:function(a){if(Da&&!ea){ea=!0;try{return a()}finally{ea=!1}}return a()},flushSync:function(a){var b=Da;Da=!0;try{a:{var c=Ca;Ca=1;try{var d=a();break a}finally{Ca=c}d=void 0}return d}finally{Da=b,Na?l("187"):void 0,x(1,null)}},deferredUpdates:function(a){var b=Ca;Ca=n();try{return a()}finally{Ca=b}}}},Te=function(a){function b(a){a=wf(a);return null===a?null:a.stateNode}var c=a.getPublicInstance;a=gg(a);var d=a.computeAsyncExpiration,e=a.computeExpirationForFiber,f=a.scheduleWork;return{createContainer:function(a,b){var c=new Q(3,null,0);a={current:c,containerInfo:a,pendingChildren:null,remainingExpirationTime:0,isReadyForCommit:!1,finishedWork:null,context:null,pendingContext:null,hydrate:b,nextScheduledRoot:null};return c.stateNode=a},updateContainer:function(a,b,c,m){var g=b.current;if(c){c=c._reactInternalFiber;var h;b:{2===Qa(c)&&2===c.tag?void 0:l("170");for(h=c;3!==h.tag;){if(Ua(h)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}(h=h["return"])?void 0:l("171")}h=h.stateNode.context}c=Ua(c)?ce(c,h):h}else c=ja;null===b.context?b.context=c:b.pendingContext=c;b=m;b=void 0===b?null:b;m=null!=a&&null!=a.type&&null!=a.type.prototype&&!0===a.type.prototype.unstable_isAsyncReactComponent?d():e(g);Bb(g,{expirationTime:m,partialState:{element:a},callback:b,isReplace:!1,isForced:!1,nextCallback:null,next:null});f(g,m)},batchedUpdates:a.batchedUpdates,unbatchedUpdates:a.unbatchedUpdates,deferredUpdates:a.deferredUpdates,flushSync:a.flushSync,getPublicRootInstance:function(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return c(a.child.stateNode);default:return a.child.stateNode}},findHostInstance:b,findHostInstanceWithNoPortals:function(a){a=xf(a);return null===a?null:a.stateNode},injectIntoDevTools:function(a){var c=a.findFiberByHostInstance;return Af(C({},a,{findHostInstanceByFiber:function(a){return b(a)},findFiberByHostInstance:function(a){return c?c(a):null}}))}}},Ue=Object.freeze({default:Te}),Sc=Ue&&Te||Ue,hg=Sc["default"]?Sc["default"]:Sc,Ve="object"===typeof performance&&"function"===typeof performance.now,Nb=void 0;Nb=Ve?function(){return performance.now()}:function(){return Date.now()};var Ob=void 0,Pb=void 0;if(P.canUseDOM)if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var Qb=null,Rb=!1,eb=-1,fb=!1,gb=0,Sb=33,hb=33;var Tc=Ve?{didTimeout:!1,timeRemaining:function(){var a=gb-performance.now();return 0<a?a:0}}:{didTimeout:!1,timeRemaining:function(){var a=gb-Date.now();return 0<a?a:0}};var We="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(a){if(a.source===window&&a.data===We){Rb=!1;a=Nb();if(0>=gb-a)if(-1!==eb&&eb<=a)Tc.didTimeout=!0;else{fb||(fb=!0,requestAnimationFrame(Xe));return}else Tc.didTimeout=!1;eb=-1;a=Qb;Qb=null;null!==a&&a(Tc)}},!1);var Xe=function(a){fb=!1;var b=a-gb+hb;b<hb&&Sb<hb?(8>b&&(b=8),hb=b<Sb?Sb:b):Sb=b;gb=a+hb;Rb||(Rb=!0,window.postMessage(We,"*"))};Ob=function(a,b){Qb=a;null!=b&&"number"===typeof b.timeout&&(eb=Nb()+b.timeout);fb||(fb=!0,requestAnimationFrame(Xe));return 0};Pb=function(){Qb=null;Rb=!1;eb=-1}}else Ob=window.requestIdleCallback,Pb=window.cancelIdleCallback;else Ob=function(a){return setTimeout(function(){a({timeRemaining:function(){return Infinity}})})},Pb=function(a){clearTimeout(a)};var Df=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ne={},me={},Tb=void 0,Be=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{Tb=Tb||document.createElement("div");Tb.innerHTML="\x3csvg\x3e"+b+"\x3c/svg\x3e";for(b=Tb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),Ic=function(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b},Za={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ig=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(a){ig.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Za[b]=Za[a]})});var Ff=C({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),$a=G.thatReturns(""),Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},jg=Object.freeze({createElement:ye,createTextNode:ze,setInitialProperties:Ae,diffProperties:Ce,updateProperties:De,diffHydratedProperties:Ee,diffHydratedText:Fe,warnForUnmatchedText:function(a,b){},warnForDeletedHydratableElement:function(a,b){},warnForDeletedHydratableText:function(a,b){},warnForInsertedHydratedElement:function(a,b,c){},warnForInsertedHydratedText:function(a,b){},restoreControlledState:function(a,b,c){switch(b){case"input":Cc(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name\x3d"+JSON.stringify(""+b)+'][type\x3d"radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=fd(d);e?void 0:l("90");Bd(d);Cc(d,e)}}}break;case"textarea":ue(a,c);break;case"select":b=c.value,null!=b&&ka(a,!!c.multiple,b,!1)}}});Qe.injectFiberControlledHostComponent(jg);var Uc=null,Vc=null,E=hg({getRootHostContext:function(a){var b=a.nodeType;switch(b){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Fc(null,"");break;default:b=8===b?a.parentNode:a,a=b.namespaceURI||null,b=b.tagName,a=Fc(a,b)}return a},getChildHostContext:function(a,b){return Fc(a,b)},getPublicInstance:function(a){return a},prepareForCommit:function(){Uc=Ra;var a=nc();if(lc(a)){if("selectionStart"in a)var b={start:a.selectionStart,end:a.selectionEnd};else a:{var c=window.getSelection&&window.getSelection();if(c&&0!==c.rangeCount){b=c.anchorNode;var d=c.anchorOffset,e=c.focusNode;c=c.focusOffset;try{b.nodeType,e.nodeType}catch(K){b=null;break a}var f=0,g=-1,h=-1,k=0,l=0,n=a,r=null;b:for(;;){for(var v;;){n!==b||0!==d&&3!==n.nodeType||(g=f+d);n!==e||0!==c&&3!==n.nodeType||(h=f+c);3===n.nodeType&&(f+=n.nodeValue.length);if(null===(v=n.firstChild))break;r=n;n=v}for(;;){if(n===a)break b;r===b&&++k===d&&(g=f);r===e&&++l===c&&(h=f);if(null!==(v=n.nextSibling))break;n=r;r=n.parentNode}n=v}b=-1===g||-1===h?null:{start:g,end:h}}else b=null}b=b||{start:0,end:0}}else b=null;Vc={focusedElem:a,selectionRange:b};ic(!1)},resetAfterCommit:function(){var a=Vc,b=nc(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&Nd(document.documentElement,c)){if(lc(c))if(b=d.start,a=d.end,void 0===a&&(a=b),"selectionStart"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(window.getSelection){b=window.getSelection();var e=c[jd()].length;a=Math.min(d.start,e);d=void 0===d.end?a:Math.min(d.end,e);!b.extend&&a>d&&(e=d,d=a,a=e);e=Qd(c,a);var f=Qd(c,d);if(e&&f&&(1!==b.rangeCount||b.anchorNode!==e.node||b.anchorOffset!==e.offset||b.focusNode!==f.node||b.focusOffset!==f.offset)){var g=document.createRange();g.setStart(e.node,e.offset);b.removeAllRanges();a>d?(b.addRange(g),b.extend(f.node,f.offset)):(g.setEnd(f.node,f.offset),b.addRange(g))}}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});try{c.focus()}catch(h){}for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}Vc=null;ic(Uc);Uc=null},createInstance:function(a,b,c,d,e){a=ye(a,b,c,d);a[O]=e;a[ea]=b;return a},appendInitialChild:function(a,b){a.appendChild(b)},finalizeInitialChildren:function(a,b,c,d){Ae(a,b,c,d);a:{switch(b){case"button":case"input":case"select":case"textarea":a=!!c.autoFocus;break a}a=!1}return a},prepareUpdate:function(a,b,c,d,e,f){return Ce(a,b,c,d,e)},shouldSetTextContent:function(a,b){return"textarea"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&"string"===typeof b.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(a,b){return!!b.hidden},createTextInstance:function(a,b,c,d){a=ze(a,b);a[O]=d;return a},now:Nb,mutation:{commitMount:function(a,b,c,d){a.focus()},commitUpdate:function(a,b,c,d,e,f){a[ea]=e;De(a,b,c,d,e)},resetTextContent:function(a){a.textContent=""},commitTextUpdate:function(a,b,c){a.nodeValue=c},appendChild:function(a,b){a.appendChild(b)},appendChildToContainer:function(a,b){8===a.nodeType?a.parentNode.insertBefore(b,a):a.appendChild(b)},insertBefore:function(a,b,c){a.insertBefore(b,c)},insertInContainerBefore:function(a,b,c){8===a.nodeType?a.parentNode.insertBefore(b,c):a.insertBefore(b,c)},removeChild:function(a,b){a.removeChild(b)},removeChildFromContainer:function(a,b){8===a.nodeType?a.parentNode.removeChild(b):a.removeChild(b)}},hydration:{canHydrateInstance:function(a,b,c){return 1!==a.nodeType||b.toLowerCase()!==a.nodeName.toLowerCase()?null:a},canHydrateTextInstance:function(a,b){return""===b||3!==a.nodeType?null:a},getNextHydratableSibling:function(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a},getFirstHydratableChild:function(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a},hydrateInstance:function(a,b,c,d,e,f){a[O]=f;a[ea]=c;return Ee(a,b,c,e,d)},hydrateTextInstance:function(a,b,c){a[O]=c;return Fe(a,b)},didNotMatchHydratedContainerTextInstance:function(a,b,c){},didNotMatchHydratedTextInstance:function(a,b,c,d,e){},didNotHydrateContainerInstance:function(a,b){},didNotHydrateInstance:function(a,b,c,d){},didNotFindHydratableContainerInstance:function(a,b,c){},didNotFindHydratableContainerTextInstance:function(a,b){},didNotFindHydratableInstance:function(a,b,c,d,e){},didNotFindHydratableTextInstance:function(a,b,c,d){}},scheduleDeferredCallback:Ob,cancelDeferredCallback:Pb,useSyncScheduling:!0});ec=E.batchedUpdates;He.prototype.render=function(a,b){E.updateContainer(a,this._reactRootContainer,null,b)};He.prototype.unmount=function(a){E.updateContainer(null,this._reactRootContainer,null,a)};var Ye={createPortal:Ge,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;if(b)return E.findHostInstance(b);"function"===typeof a.render?l("188"):l("213",Object.keys(a))},hydrate:function(a,b,c){return Hb(null,a,b,!0,c)},render:function(a,b,c){return Hb(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){null==a||void 0===a._reactInternalFiber?l("38"):void 0;return Hb(a,b,c,!1,d)},unmountComponentAtNode:function(a){Jc(a)?void 0:l("40");return a._reactRootContainer?(E.unbatchedUpdates(function(){Hb(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:Ge,unstable_batchedUpdates:cc,unstable_deferredUpdates:E.deferredUpdates,flushSync:E.flushSync,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:Mf,EventPluginRegistry:Lf,EventPropagators:Nf,ReactControlledComponent:Rf,ReactDOMComponentTree:Oe,ReactDOMEventListener:Uf}};E.injectIntoDevTools({findFiberByHostInstance:W,bundleType:0,version:"16.2.0",rendererPackageName:"react-dom"});var Ze=Object.freeze({default:Ye}),Wc=Ze&&Ye||Ze;return Wc["default"]?Wc["default"]:Wc});;!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.SharedWidgets=t(require("react"),require("react-dom")):e.SharedWidgets=t(e.React,e.ReactDOM)}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=38)}([function(t,n){t.exports=e},function(e,t,n){"use strict";function o(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&(n[o[i]]=e[o[i]]);return n}function r(e,t,n,o){var i,r=arguments.length,s=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,n,s):i(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s}function s(e,t){return function(n,o){t(n,o,e)}}function a(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,o){return new(n||(n=Promise))(function(i,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((o=o.apply(e,t||[])).next())})}function d(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,r&&(s=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){l.label=n[1];break}if(6===n[0]&&l.label<s[1]){l.label=s[1],s=n;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(n);break}s[2]&&l.ops.pop(),l.trys.pop();continue}n=t.call(e,l)}catch(e){n=[6,e],r=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,r,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}function c(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function u(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),s=[];try{for(;(void 0===t||t-->0)&&!(o=r.next()).done;)s.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){function o(e){c[e]&&(d[e]=function(t){return new Promise(function(n,o){u.push([e,t,n,o])>1||i(e,t)})})}function i(e,t){try{r(c[e](t))}catch(e){l(u[0][3],e)}}function r(e){e.value instanceof g?Promise.resolve(e.value.v).then(s,a):l(u[0][2],e)}function s(e){i("next",e)}function a(e){i("throw",e)}function l(e,t){e(t),u.shift(),u.length&&i(u[0][0],u[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,c=n.apply(e,t||[]),u=[];return d={},o("next"),o("throw"),o("return"),d[Symbol.asyncIterator]=function(){return this},d}function I(e){function t(t,i){e[t]&&(n[t]=function(n){return(o=!o)?{value:g(e[t](n)),done:"return"===t}:i?i(n):n})}var n,o;return n={},t("next"),t("throw",function(e){throw e}),t("return"),n[Symbol.iterator]=function(){return this},n}function m(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof u?u(e):e[Symbol.iterator]()}function b(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=o,n.d(t,"__assign",function(){return v}),t.__rest=i,t.__decorate=r,t.__param=s,t.__metadata=a,t.__awaiter=l,t.__generator=d,t.__exportStar=c,t.__values=u,t.__read=p,t.__spread=h,t.__await=g,t.__asyncGenerator=y,t.__asyncDelegator=I,t.__asyncValues=m,t.__makeTemplateObject=b;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0
THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},v=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}},function(e,t,n){"use strict";function o(e,t){return e?t:void 0}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("-")}function r(e){return e&&/^[a-z0-9]$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.conditional=o,t.testId=i,t.isAlphabeticChar=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=["#000000","#1B1B1B","#333333","#555555","#666666","#898989","#FFFFFF","#F5F5F5","#E6E6E6","#D4D4D4","#C0C0C0","#B4B4B4"],r=["#F28E2B","#F9A655","#FFBE7D","#B07AA1","#C290B4","#D4A6C8","#B6992D","#D3B348","#F1CE63","#D37295","#E799B3","#FABFD2","#59A14F","#72B966","#8CD17D","#E15759","#F17B79","#FF9D9A","#499894","#69AAA5","#86BCB6","#9D7660","#BA9582","#D7B5A6","#4E79A7","#75A1C7","#A0CBE8","#79706E","#998F8C","#BAB0AC","#606B76","#818B91","#A7ACAD","#76B7B2","#FF9DA7","#EDC948"],s=["#EFEBE8","#F5F1F0","#F9F8F7","#F0EAE8","#F5F0EF","#FAF5F4","#F5EDDC","#FAF4E7","#FEFAF1","#E9EBE0","#F0F1E8","#F7F7F0","#EBEBEB","#F2F2F2","#F9F9F9","#DFE7E8","#E9F0F1","#F2F9F9","#F3EBF3","#F7F1F6","#FBF7FB","#E2E6F0","#E9EDF5","#F0F3FA","#E6ECF0","#EEF1F3","#F2F6F7","#DDEBF0","#E7F1F5","#F0F7FA","#DFEDEB","#E9F3F2","#F3FAF9","#E8EDDA","#EFF3E3","#F7FAF0","#F5EAD7","#F6EEE3","#FAF5F0","#F9E9E0","#F9EEE8","#F9F3EF"],a={XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},l={PrimaryDark:"rgba(0, 0, 0, 0.9)",Primary:"rgba(0, 0, 0, 0.8)",PrimaryMedium:"rgba(0, 0, 0, 0.7)",PrimaryLight:"rgba(0, 0, 0, 0.6)",Secondary:"rgba(0, 0, 0, 0.56)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgba(255, 255, 255, 1)",InvertedSecondary:"rgba(255, 255, 255, .56)",InvertedDisabled:"rgba(255, 255, 255, .35)"},d={Grey250:"rgb(250, 250, 250)",Grey245:"rgb(245, 245, 245)",Grey235:"rgb(235, 235, 235)",Grey230:"rgb(230, 230, 230)",Grey225:"rgb(225, 225, 225)",Grey212:"rgb(212, 212, 212)",Grey203:"rgb(203, 203, 203)",Grey180:"rgb(180, 180, 180)",Grey180Disabled:"rgba(180, 180, 180, 0.35)",Grey102:"rgb(102, 102, 102)",Grey51:"rgb(51, 51, 51)",Grey51Disabled:"rgba(51, 51, 51, 0.2)"},c={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",WhiteTransparentLine:"rgba(255, 255, 255, 0.5)",WhiteTransparentLineHover:"rgba(255, 255, 255, 0.8)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",AttentionDarkDisabled:"rgba(201, 58, 71, 0.35)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.35)",Shaded:"rgba(0, 0, 0, 0.07)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",OpaqueGlass:d.Grey245,Focus:"rgb(52, 152, 219)",L1:d.Grey250,L2:d.Grey245,L2_5:d.Grey235,L3:d.Grey230,L4:d.Grey225,L5:d.Grey212,L6:d.Grey203,L7:d.Grey180,L8:d.Grey102,L9:d.Grey51,L9Disabled:d.Grey51Disabled,F1:d.Grey250,F2:d.Grey245,F2_5:d.Grey235,F3:d.Grey230,F4:d.Grey225,F5:d.Grey212,F6:d.Grey203,F7:d.Grey180,F7Disabled:d.Grey180Disabled,F8:d.Grey102,F9:d.Grey51},u={Colors:c,Shadow:{High:"0px 4px 10px 0 rgba(0,0,0,0.1),0px 2px 10px 0px rgba(0,0,0,0.1)",Medium:"2px 2px 10px -2px rgba(0,0,0,.22)",Low:"rgba(51, 51, 51, 0.1) 1px 2px 1px 0"},Spacing:{SmallSpace:3,DefaultSpace:6,MediumSpace:12,LargeSpace:18,ExtraLargeSpace:24},Sizing:{BaseUnit:6,RowHeight:24,ButtonMinWidth:90,BorderWidth:1,ButtonBorderWidth:2,BorderRadius:1,SelectionBorderWidth:3,ListRowHeight:20},Typography:{FontFamily:"Benton Sans, Arial, Helvetica, sans-serif",Sizing:a,Color:l},Opacity:{OpaqueGlass:.33,ClearGlass:.01},ColorPickerPresets:{Dark:i.concat(r),Light:i.concat(s)}};t.TabStyles=u;var p=function(e){u.Colors=o.__assign({},u.Colors,e.Colors),u.Opacity=o.__assign({},u.Opacity,e.Opacity),u.Shadow=o.__assign({},u.Shadow,e.Shadow),u.Sizing=o.__assign({},u.Sizing,e.Sizing),u.Spacing=o.__assign({},u.Spacing,e.Spacing),e.Typography&&(u.Typography.FontFamily=e.Typography.FontFamily?e.Typography.FontFamily:u.Typography.FontFamily,u.Typography.Color=o.__assign({},u.Typography.Color,e.Typography.Color),u.Typography.Sizing=o.__assign({},u.Typography.Sizing,e.Typography.Sizing))};t.overrideTabStyles=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(11),a={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"};t.BlockStyle=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return r.createElement("div",o.__assign({},this.props,{style:o.__assign({},a,this.props.style)}))},t}(i.Component);t.Block=l;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return r.createElement("div",o.__assign({},this.props,{style:o.__assign({},a,{display:"inline-block"},this.props.style)}))},t}(i.Component);t.InlineBlock=d;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return r.createElement("img",o.__assign({},this.props,{role:this.props.role||"presentation",style:o.__assign({},s.PreventUserSelect,this.props.style)}))},t}(i.Component);t.Img=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(41),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.componentDidMount=function(){r.WidgetManager.registerWidget(this)},t.prototype.componentWillUnmount=function(){r.WidgetManager.unregisterWidget(this)},t}(i.Component);t.DynamicThemeComponent=s},function(e,t,n){"use strict";function o(e,t){var n=t.props,o=n.disabled,i=n.interactiveStyles;return i?r.__assign({},e,t.state.hover&&!o&&i.hover,t.state.focus&&!o&&i.focus,t.state.active&&!o&&i.active,o&&i.disabled):e}function i(e,t){var n=o(t.props.style,e),i=e.props.pointerDown,d={pointerDown:l.mergeEventHandlers(i,function(){e.interactiveIsMounted&&(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0),e.removePointerUpListener||c(e))})},u=t.props,p=u.onMouseOver,h=u.onMouseOut,g=u.onKeyDown,y=u.onKeyUp,I=u.onFocus,m=u.onBlur,b={onMouseOver:l.mergeEventHandlers(p,function(){e.interactiveIsMounted&&(e.setState({hover:!0}),e.props.handleHover&&e.props.handleHover(!0))}),onMouseOut:l.mergeEventHandlers(h,function(){e.interactiveIsMounted&&(e.setState({hover:!1}),e.props.handleHover&&e.props.handleHover(!1))}),onKeyDown:l.mergeEventHandlers(g,function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0)))}),onKeyUp:l.mergeEventHandlers(y,function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1)))}),onFocus:l.mergeEventHandlers(I,function(){e.interactiveIsMounted&&(e.setState({focus:!0}),e.props.handleFocus&&e.props.handleFocus(!0))}),onBlur:l.mergeEventHandlers(m,function(){e.interactiveIsMounted&&(e.setState({focus:!1}),e.props.handleFocus&&e.props.handleFocus(!1))})},f=r.__assign({style:n,disabled:e.props.disabled},b),v=r.__assign({},e.props,d);return s.createElement(a.PointerEventWrapper,v,s.cloneElement(t,f))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=n(0),a=n(20),l=n(21),d=n(70),c=function(e){var t=function(){e.interactiveIsMounted&&(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1),e.removePointerUpListener(),e.removePointerUpListener=void 0)};e.removePointerUpListener=d.GlobalPointerUpListener.subscribe(t)},u=function(e){function t(t){var n=e.call(this,t)||this;return n.state=r.__assign({},n.state,{hover:!1,active:!1,focus:!1}),n.interactiveIsMounted=!0,n}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},t.prototype.render=function(){return i(this,s.Children.only(this.props.children))},t}(s.Component);t.InteractiveDomWrapper=u;var p=function(e){var t=l.convertToStatefulComponentClass(e);return n=function(e){function n(t){var n=e.call(this,t)||this;return n.state=r.__assign({},n.state,{hover:!1,active:!1,focus:!1}),n.interactiveIsMounted=!0,n}return r.__extends(n,e),n.prototype.callComponentClassWillUnmount=function(){var e=t.prototype.componentWillUnmount;e&&e.apply(this)},n.prototype.componentWillUnmount=function(){this.callComponentClassWillUnmount(),this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},n.prototype.render=function(){return i(this,e.prototype.render.call(this))},n}(t),n.displayName="InteractiveDom("+l.getComponentName(e)+")",n;var n};t.InteractiveDomHoC=p;var h=p;t.InteractiveDomHoCDecorator=h},function(e,n){e.exports=t},function(e,t,n){"use strict";function o(e,t,n){return e?d:n?l:t?c:d}function i(e,t,n){return t?e?d:n?c:d:"transparent"}function r(e){return"data:image/svg+xml;base64,"+btoa(e)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),a=s.TabStyles.Colors,l=a.Focus,d=a.L8,c=a.L9;t.encodeSvg=r,t.CloseButtonIcon={height:14,width:14,enabled:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg==",active:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg=="},t.CheckBoxIcon={height:16,width:16,padding:1,icon:function(e,t,n,r){return'<svg xmlns="http://www.w3.org/2000/svg" opacity="'+(e?.35:1)+'" width="16" height="16">\n      <path fill="#fff" d="M2 2h12v12H2z"/>\n      <path fill="'+o(e,n,r)+'" d="M14 2v12H2V2h12m0-1H2c-.5 0-1 .4-1 1v12c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V2c0-.6-.4-1-1-1z"/>\n      <path fill="'+i(e,t,n)+'" d="M7.2 12.3c-.2 0-.4-.1-.5-.2l-3-3L4.8 8l2.3 2.3 4-6.7 1.3.8L7.9 12c-.2.2-.4.3-.7.3z"/>\n    </svg>'}},t.OutlineDropdownArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNmMwLjEtMC4yLDAtMC4zLTAuMi0wLjNINkM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjI1O2ZpbGw6IzMzMzMzMzsiIGQ9Ik01LjgsNy4zbDMuNSw0LjZjMC4xLDAuMSwwLjIsMC4xLDAuMywwbDMuNi00LjZDMTMuMyw3LjEsMTMuMiw3LDEzLDdINg0KCUM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4="},t.OutlineDropdownArrowDarkBackgroundIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjU7ZmlsbDojRkZGRkZGOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNmMwLjEtMC4yLDAtMC4zLTAuMi0wLjNINkM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjgsNy4zbDMuNSw0LjZjMC4xLDAuMSwwLjIsMC4xLDAuMywwbDMuNi00LjZDMTMuMyw3LjEsMTMuMiw3LDEzLDdINg0KCUM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4="},t.LineAndTextDropdownArrowIcon={height:20,width:20,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9ImZpbGw6IzY2NjY2NjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9ImZpbGw6IzMzMzMzMzsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMaW5lX2Fycm93X2Ryb3Bkb3duX2Fycm93X2Rpc2FibGVkIg0KCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCINCgkgdmlld0JveD0iMCAwIDIwIDIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMCAyMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggaWQ9IlRyaWFuZ2xlIiBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzMzMzMzMzsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg=="},t.LineAndTextDropdownArrowDarkBackgroundIcon={height:20,width:20,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9Im9wYWNpdHk6MC41O2ZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMaW5lX2Fycm93X2Ryb3Bkb3duX2Fycm93X2Rpc2FibGVkIg0KCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCINCgkgdmlld0JveD0iMCAwIDIwIDIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMCAyMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggaWQ9IlRyaWFuZ2xlIiBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg=="},t.MenuItemArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOCAgQzcuMSw1LjcsNyw1LjgsNyw2djdDNywxMy4yLDcuMSwxMy4zLDcuMywxMy4yeiIvPgo8L3N2Zz4="},t.MenuItemCheckIcon={width:10,height:10,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDEwIDEwIj48cGF0aCBkPSJNNC4yIDkuM0M0IDkuMyAzLjggOS4yIDMuNyA5LjFsLTMtM0wxLjggNWwyLjMgMi4zIDQtNi43IDEuMyAwLjhMNC45IDlDNC43IDkuMiA0LjUgOS4zIDQuMiA5LjNMNC4yIDkuM3oiIGZpbGw9IiMzMzMiLz48L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDEwIDEwIj48cGF0aCBkPSJNNC4yIDkuM0M0IDkuMyAzLjggOS4yIDMuNyA5LjFsLTMtM0wxLjggNWwyLjMgMi4zIDQtNi43IDEuMyAwLjhMNC45IDlDNC43IDkuMiA0LjUgOS4zIDQuMiA5LjNMNC4yIDkuM3oiIGZpbGw9IiM2NjYiLz48L3N2Zz4NCg==",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDEwIDEwIj48cGF0aCBkPSJNNC4yIDkuM0M0IDkuMyAzLjggOS4yIDMuNyA5LjFsLTMtM0wxLjggNWwyLjMgMi4zIDQtNi43IDEuMyAwLjhMNC45IDlDNC43IDkuMiA0LjUgOS4zIDQuMiA5LjNMNC4yIDkuM3oiIGZpbGw9IiMzMzMiIGZpbGwtb3BhY2l0eT0iMC4zNSIvPjwvc3ZnPg==",checkedItemPaddingLeft:2*s.TabStyles.Spacing.DefaultSpace+10},t.RadioButtonIcon={height:16,width:16,padding:1,icon:function(e,t,n,r){return'<svg xmlns="http://www.w3.org/2000/svg" opacity="'+(e?.35:1)+'" width="16" height="16">\n      <circle fill="#fff" cx="8" cy="8" r="6"/>\n      <path fill="'+o(e,n,r)+'" d="M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6m0-1C4.1 1 1 4.1 1 8s3.1 7 7 7 7-3.1 7-7-3.1-7-7-7z"/>\n      <circle fill="'+i(e,t,n)+'" cx="8" cy="8" r="3"/>\n    </svg>'}},t.StepperRightIcon={height:22,width:18,active:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMjJweCIgdmlld0JveD0iMCAwIDE4IDIyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAyMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojMzQzMzMzOyIgZD0iTTcsMTMuOVY3LjJDNyw3LDcuMiw3LDcuMyw3bDQuNCwzLjRjMC4xLDAuMSwwLjEsMC4yLDAsMC4zTDcuMywxNEM3LjIsMTQsNywxNCw3LDEzLjl6Ii8+Cjwvc3ZnPgo=",enabled:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMjJweCIgdmlld0JveD0iMCAwIDE4IDIyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAyMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojNjc2ODY3OyIgZD0iTTcsMTMuOVY3LjJDNyw3LDcuMiw3LDcuMyw3bDQuNCwzLjRjMC4xLDAuMSwwLjEsMC4yLDAsMC4zTDcuMywxNEM3LjIsMTQsNywxNCw3LDEzLjl6Ii8+Cjwvc3ZnPgo=",disabled:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMjJweCIgdmlld0JveD0iMCAwIDE4IDIyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAyMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzM0MzMzMzsiIGQ9Ik03LDEzLjlWNy4yQzcsNyw3LjIsNyw3LjMsN2w0LjQsMy40YzAuMSwwLjEsMC4xLDAuMiwwLDAuM0w3LjMsMTRDNy4yLDE0LDcsMTQsNywxMy45egoJIi8+Cjwvc3ZnPgo="},t.StepperLeftIcon={height:22,width:18,active:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMjJweCIgdmlld0JveD0iMCAwIDE4IDIyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAyMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojMzQzMzMzOyIgZD0iTTEwLjcsMTRsLTQuNC0zLjNjLTAuMS0wLjEtMC4xLTAuMiwwLTAuM0wxMC43LDdDMTAuOCw3LDExLDcsMTEsNy4ydjYuN0MxMSwxNCwxMC44LDE0LDEwLjcsMTR6Ii8+Cjwvc3ZnPgo=",enabled:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMjJweCIgdmlld0JveD0iMCAwIDE4IDIyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAyMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojNjY2NzY2OyIgZD0iTTEwLjcsMTRsLTQuNC0zLjNjLTAuMS0wLjEtMC4xLTAuMiwwLTAuM0wxMC43LDdDMTAuOCw3LDExLDcsMTEsNy4ydjYuN0MxMSwxNCwxMC44LDE0LDEwLjcsMTR6Ii8+Cjwvc3ZnPgo=",disabled:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMjJweCIgdmlld0JveD0iMCAwIDE4IDIyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAyMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzM0MzMzMzsiIGQ9Ik0xMC43LDE0bC00LjQtMy4zYy0wLjEtMC4xLTAuMS0wLjIsMC0wLjNMMTAuNyw3QzEwLjgsNywxMSw3LDExLDcuMnY2LjcKCUMxMSwxNCwxMC44LDE0LDEwLjcsMTR6Ii8+Cjwvc3ZnPgo="},t.StepperUpIcon={height:11,width:18,active:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMTFweCIgdmlld0JveD0iMCAwIDE4IDExIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAxMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojMzQzMzMzOyIgZD0iTTYsNy43bDIuOC0zLjdDOC45LDQsOS4xLDQsOS4xLDQuMUwxMiw3LjdDMTIsNy44LDEyLDgsMTEuOCw4SDYuMkM2LDgsNiw3LjgsNiw3Ljd6Ii8+Cjwvc3ZnPgo=",enabled:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMTFweCIgdmlld0JveD0iMCAwIDE4IDExIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAxMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojNjY2NzY2OyIgZD0iTTYsNy43bDIuOC0zLjdDOC45LDQsOS4xLDQsOS4xLDQuMUwxMiw3LjdDMTIsNy44LDEyLDgsMTEuOCw4SDYuMkM2LDgsNiw3LjgsNiw3Ljd6Ii8+Cjwvc3ZnPgo=",disabled:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMTFweCIgdmlld0JveD0iMCAwIDE4IDExIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAxMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzM0MzMzMzsiIGQ9Ik02LDcuN0w4LjgsNGMwLjEsMCwwLjMsMCwwLjMsMC4xTDEyLDcuN0MxMiw3LjgsMTIsOCwxMS44LDhINi4yQzYsOCw2LDcuOCw2LDcuN3oiLz4KPC9zdmc+Cg=="},t.StepperDownIcon={height:11,width:18,active:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMTFweCIgdmlld0JveD0iMCAwIDE4IDExIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAxMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojMzQzMzMzOyIgZD0iTTEyLDMuM0w5LjEsN0M5LjEsNyw4LjksNyw4LjksN0w2LDMuM0M2LDMuMiw2LDMsNi4yLDNoNS43QzEyLDMsMTIsMy4yLDEyLDMuM3oiLz4KPC9zdmc+Cg==",enabled:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMTFweCIgdmlld0JveD0iMCAwIDE4IDExIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAxMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojNjY2NzY2OyIgZD0iTTEyLDMuM0w5LjEsN0M5LjEsNyw4LjksNyw4LjksN0w2LDMuM0M2LDMuMiw2LDMsNi4yLDNoNS43QzEyLDMsMTIsMy4yLDEyLDMuM3oiLz4KPC9zdmc+Cg==",disabled:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMjIuMC4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgd2lkdGg9IjE4cHgiIGhlaWdodD0iMTFweCIgdmlld0JveD0iMCAwIDE4IDExIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxOCAxMTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzM0MzMzMzsiIGQ9Ik0xMiwzLjNMOS4xLDdIOC45TDYsMy4zQzYsMy4yLDYsMyw2LjIsM2g1LjdDMTIsMywxMiwzLjIsMTIsMy4zeiIvPgo8L3N2Zz4K"},t.TextFieldClearIcon={height:12,width:12,clear:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiM2NjY2NjY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4=",clearActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzMzMzMzM7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4="},t.DarkThemeTextFieldClearIcon={height:12,width:12,clear:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6I2ZmZmZmZjtvcGFjaXR5OjAuNX0NCjwvc3R5bGU+DQo8Zz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOC45LDIuOUwzLDguOWMtMC4yLDAuMi0wLjYsMC4yLTAuOCwwbDAsMEMyLDguNywyLDguMywyLjIsOC4xbDUuOS01LjlDOC4zLDIsOC43LDIsOC45LDIuMmwwLDAgICBDOS4xLDIuNCw5LjEsMi43LDguOSwyLjl6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTMsMi4ybDUuOSw1LjljMC4yLDAuMiwwLjIsMC42LDAsMC44bDAsMGMtMC4yLDAuMi0wLjYsMC4yLTAuOCwwTDIuMiwzQzIsMi44LDIsMi40LDIuMiwyLjJsMCwwICAgQzIuNSwyLDIuOCwyLDMsMi4yeiIvPg0KPC9nPg0KPC9zdmc+",clearActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6I2ZmZmZmZn0NCjwvc3R5bGU+DQo8Zz4NCgk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNOC45LDIuOUwzLDguOWMtMC4yLDAuMi0wLjYsMC4yLTAuOCwwbDAsMEMyLDguNywyLDguMywyLjIsOC4xbDUuOS01LjlDOC4zLDIsOC43LDIsOC45LDIuMmwwLDAgICBDOS4xLDIuNCw5LjEsMi43LDguOSwyLjl6Ii8+DQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTMsMi4ybDUuOSw1LjljMC4yLDAuMiwwLjIsMC42LDAsMC44bDAsMGMtMC4yLDAuMi0wLjYsMC4yLTAuOCwwTDIuMiwzQzIsMi44LDIsMi40LDIuMiwyLjJsMCwwICAgQzIuNSwyLDIuOCwyLDMsMi4yeiIvPg0KPC9nPg0KPC9zdmc+"},t.SearchIcon={height:12,width:12,search:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNy41LDBDNS4wMTUsMCwzLDIuMDE1LDMsNC41UzUuMDE1LDksNy41LDlTMTIsNi45ODUsMTIsNC41ICAgUzkuOTg1LDAsNy41LDB6IE03LjUsOEM1LjU2Nyw4LDQsNi40MzMsNCw0LjVTNS41NjcsMSw3LjUsMVMxMSwyLjU2NywxMSw0LjVTOS40MzMsOCw3LjUsOHoiLz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNS4wMjYsNy44NThsLTMuOTYsMy45NmMtMC4yNDMsMC4yNDMtMC42NDEsMC4yNDMtMC44ODQsMGwwLDAgICBjLTAuMjQzLTAuMjQzLTAuMjQzLTAuNjQxLDAtMC44ODRsMy45Ni0zLjk2YzAuMjQzLTAuMjQzLDAuNjQxLTAuMjQzLDAuODg0LDBsMCwwQzUuMjY5LDcuMjE3LDUuMjY5LDcuNjE1LDUuMDI2LDcuODU4eiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPg==",searchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy41LDBDNSwwLDMsMiwzLDQuNVM1LDksNy41LDlTMTIsNywxMiw0LjVTMTAsMCw3LjUsMHogTTcuNSw4QzUuNiw4LDQsNi40LDQsNC41UzUuNiwxLDcuNSwxICAgUzExLDIuNiwxMSw0LjVTOS40LDgsNy41LDh6Ii8+Cgk8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUsNy45bC00LDRjLTAuMiwwLjItMC42LDAuMi0wLjksMGwwLDBjLTAuMi0wLjItMC4yLTAuNiwwLTAuOWw0LTRDNC40LDYuNyw0LjgsNi43LDUsN2wwLDAgICBDNS4zLDcuMiw1LjMsNy42LDUsNy45eiIvPgo8L2c+Cjwvc3ZnPg=="},t.DarkThemeSearchIcon={height:12,width:12,search:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I2ZmZmZmZjtvcGFjaXR5OjAuNSIgZD0iTTcuNSwwQzUuMDE1LDAsMywyLjAxNSwzLDQuNVM1LjAxNSw5LDcuNSw5UzEyLDYuOTg1LDEyLDQuNSAgIFM5Ljk4NSwwLDcuNSwweiBNNy41LDhDNS41NjcsOCw0LDYuNDMzLDQsNC41UzUuNTY3LDEsNy41LDFTMTEsMi41NjcsMTEsNC41UzkuNDMzLDgsNy41LDh6Ii8+DQoJPHBhdGggc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I2ZmZmZmZjtvcGFjaXR5OjAuNSIgZD0iTTUuMDI2LDcuODU4bC0zLjk2LDMuOTZjLTAuMjQzLDAuMjQzLTAuNjQxLDAuMjQzLTAuODg0LDBsMCwwICAgYy0wLjI0My0wLjI0My0wLjI0My0wLjY0MSwwLTAuODg0bDMuOTYtMy45NmMwLjI0My0wLjI0MywwLjY0MS0wLjI0MywwLjg4NCwwbDAsMEM1LjI2OSw3LjIxNyw1LjI2OSw3LjYxNSw1LjAyNiw3Ljg1OHoiLz4NCjwvZz4NCjwvc3ZnPg==",searchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPHBhdGggc3R5bGU9ImZpbGw6I2ZmZmZmZjsiIGQ9Ik03LjUsMEM1LDAsMywyLDMsNC41UzUsOSw3LjUsOVMxMiw3LDEyLDQuNVMxMCwwLDcuNSwweiBNNy41LDhDNS42LDgsNCw2LjQsNCw0LjVTNS42LDEsNy41LDEgICBTMTEsMi42LDExLDQuNVM5LjQsOCw3LjUsOHoiLz4NCgk8cGF0aCBzdHlsZT0iZmlsbDojZmZmZmZmOyIgZD0iTTUsNy45bC00LDRjLTAuMiwwLjItMC42LDAuMi0wLjksMGwwLDBjLTAuMi0wLjItMC4yLTAuNiwwLTAuOWw0LTRDNC40LDYuNyw0LjgsNi43LDUsN2wwLDAgICBDNS4zLDcuMiw1LjMsNy42LDUsNy45eiIvPg0KPC9nPg0KPC9zdmc+"},t.ActivitySpinnerIcon={underlaySize:65,size:50,edgeBrowserImage:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCIgc3R5bGU9ImN1cnNvcjp3YWl0O292ZXJmbG93OmhpZGRlbjstd2Via2l0LWFuaW1hdGlvbjpzdmctc3Bpbm5lci1hbmltYXRpb24gMXMgbGluZWFyIGluZmluaXRlO2FuaW1hdGlvbjpzdmctc3Bpbm5lci1hbmltYXRpb24gMXMgbGluZWFyIGluZmluaXRlO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyOyI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj5ALXdlYmtpdC1rZXlmcmFtZXMgc3ZnLXNwaW5uZXItYW5pbWF0aW9uezEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7fX1Aa2V5ZnJhbWVzIHN2Zy1zcGlubmVyLWFuaW1hdGlvbnsxMDAle3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt9fTwvc3R5bGU+PGc+PHBhdGggZD0iTTQyLjcsNy4zTDQwLDEwYzMuOCwzLjgsNi4yLDkuMSw2LjIsMTVjMCwxMS43LTkuNSwyMS4xLTIxLjEsMjEuMUMxMy4zLDQ2LjEsMy45LDM2LjcsMy45LDI1SDBjMCwxMy44LDExLjIsMjUsMjUsMjVjMTMuOCwwLDI1LTExLjIsMjUtMjVDNTAsMTguMSw0Ny4yLDExLjksNDIuNyw3LjN6IiBzdHlsZT0iZmlsbDojNjE2NTcwOyIvPjwvZz48L3N2Zz4=",animation:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHN0eWxlPSJjdXJzb3I6d2FpdDtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC1hbmltYXRpb246c3ZnLXNwaW5uZXItYW5pbWF0aW9uIDFzIGxpbmVhciBpbmZpbml0ZTthbmltYXRpb246c3ZnLXNwaW5uZXItYW5pbWF0aW9uIDFzIGxpbmVhciBpbmZpbml0ZTt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjsiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QC13ZWJraXQta2V5ZnJhbWVzIHN2Zy1zcGlubmVyLWFuaW1hdGlvbnsxMDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO319QGtleWZyYW1lcyBzdmctc3Bpbm5lci1hbmltYXRpb257MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7fX08L3N0eWxlPjxnPjxwYXRoIGQ9Ik00Mi43LDcuM0w0MCwxMGMzLjgsMy44LDYuMiw5LjEsNi4yLDE1YzAsMTEuNy05LjUsMjEuMS0yMS4xLDIxLjFDMTMuMyw0Ni4xLDMuOSwzNi43LDMuOSwyNUgwYzAsMTMuOCwxMS4yLDI1LDI1LDI1YzEzLjgsMCwyNS0xMS4yLDI1LTI1QzUwLDE4LjEsNDcuMiwxMS45LDQyLjcsNy4zeiIgc3R5bGU9ImZpbGw6IzYxNjU3MDsiLz48L2c+PGc+PGRlZnM+PHBhdGggaWQ9InN2Zy1zcGlubmVyLWNpcmNsZSIgZD0iTTI1LDUwQzExLjIsNTAsMCwzOC44LDAsMjVDMCwxMS4yLDExLjIsMCwyNSwwYzEzLjgsMCwyNSwxMS4yLDI1LDI1QzUwLDM4LjgsMzguOCw1MCwyNSw1MHogTTI1LDMuOUMxMy4zLDMuOSwzLjksMTMuMywzLjksMjVjMCwxMS43LDkuNSwyMS4xLDIxLjEsMjEuMVM0Ni4xLDM2LjcsNDYuMSwyNUM0Ni4xLDEzLjMsMzYuNywzLjksMjUsMy45eiIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9InN2Zy1zcGlubmVyLWNsaXBwYXRoIj48dXNlIHhsaW5rOmhyZWY9IiNzdmctc3Bpbm5lci1jaXJjbGUiIHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIvPjwvY2xpcFBhdGg+PGxpbmVhckdyYWRpZW50IGlkPSJzdmctc3Bpbm5lci1ncmFkaWVudCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIwIiB5MT0iMTIuNDk5OCIgeDI9IjUwIiB5Mj0iMTIuNDk5OCI+PHN0b3Agb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojNjE2NTcwO3N0b3Atb3BhY2l0eTowIi8+PHN0b3Agb2Zmc2V0PSIwLjE1IiBzdHlsZT0ic3RvcC1jb2xvcjojNjE2NTcwO3N0b3Atb3BhY2l0eTowLjA0Ii8+PHN0b3Agb2Zmc2V0PSIwLjMiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzA7c3RvcC1vcGFjaXR5OjAuMTYiLz48c3RvcCBvZmZzZXQ9IjAuNDUiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzA7c3RvcC1vcGFjaXR5OjAuMzYiLz48c3RvcCBvZmZzZXQ9IjAuNjEiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzA7c3RvcC1vcGFjaXR5OjAuNjQiLz48c3RvcCBvZmZzZXQ9IjAuNzYiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzAiLz48L2xpbmVhckdyYWRpZW50Pjxwb2x5Z29uIHBvaW50cz0iMjUsMjUgMCwyNSAwLDAgNTAsMCIgc3R5bGU9ImNsaXAtcGF0aDp1cmwoI3N2Zy1zcGlubmVyLWNsaXBwYXRoKTtmaWxsOnVybCgjc3ZnLXNwaW5uZXItZ3JhZGllbnQpOyIvPjwvZz48L3N2Zz4="},t.SliderHandleIcon={height:20,width:20,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBjeD0iMTAiIGN5PSIxMCIgcj0iNy41Ii8+DQo8cGF0aCBpZD0iQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTEwLDNjMy44LDAsNywzLjIsNyw3cy0zLjIsNy03LDdzLTctMy4yLTctN1M2LjIsMywxMCwzIE0xMCwyYy00LjQsMC04LDMuNi04LDgNCglzMy42LDgsOCw4czgtMy42LDgtOFMxNC40LDIsMTAsMkwxMCwyeiIvPg0KPC9zdmc+",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmQiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBjeD0iMTAiIGN5PSIxMCIgcj0iNy41Ii8+DQo8cGF0aCBpZD0iQ2lyY2xlXzJfIiBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTEwLDNjMy44LDAsNywzLjIsNyw3cy0zLjIsNy03LDdzLTctMy4yLTctN1M2LjIsMywxMCwzIE0xMCwyYy00LjQsMC04LDMuNi04LDgNCglzMy42LDgsOCw4czgtMy42LDgtOFMxNC40LDIsMTAsMkwxMCwyeiIvPg0KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNFQkVCRUI7IiBjeD0iMTAiIGN5PSIxMCIgcj0iNy41Ii8+DQo8cGF0aCBpZD0iQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojQjRCNEI0OyIgZD0iTTEwLDNjMy44LDAsNywzLjIsNyw3cy0zLjIsNy03LDdzLTctMy4yLTctN1M2LjIsMywxMCwzIE0xMCwyYy00LjQsMC04LDMuNi04LDgNCglzMy42LDgsOCw4czgtMy42LDgtOFMxNC40LDIsMTAsMkwxMCwyeiIvPg0KPC9zdmc+DQo="},t.SliderLeftHandleIcon={height:20,width:20,artworkOffsetFromRightSide:4,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMZWZ0SGFsZkNpcmNsZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmQiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBkPSJNMTEuMiwyLjVjLTQuMywwLTcuNywzLjMtNy43LDcuNXMzLjUsNy41LDcuOCw3LjVoNC4zdi0xNUgxMS4yeiIvPg0KPHBhdGggaWQ9IkxlZnRIYWxmQ2lyY2xlXzJfIiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTE1LDN2MTRoLTMuNkM3LjMsMTcsNCwxMy45LDQsMTBzMy4zLTcsNy40LTdIMTUgTTE2LDJoLTQuNg0KCUM2LjcsMiwzLDUuNiwzLDEwczMuNyw4LDguNCw4SDE2VjJMMTYsMnoiLz4NCjwvc3ZnPg0K",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMZWZ0SGFsZkNpcmNsZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBkPSJNMTEuMiwyLjVjLTQuMywwLTcuNywzLjMtNy43LDcuNXMzLjUsNy41LDcuOCw3LjVoNC4zdi0xNUgxMS4yeiIvPg0KPHBhdGggaWQ9IkxlZnRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTE1LDN2MTRoLTMuNkM3LjMsMTcsNCwxMy45LDQsMTBzMy4zLTcsNy40LTdIMTUgTTE2LDJoLTQuNg0KCUM2LjcsMiwzLDUuNiwzLDEwczMuNyw4LDguNCw4SDE2VjJMMTYsMnoiLz4NCjwvc3ZnPg0K",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMZWZ0SGFsZkNpcmNsZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNFQkVCRUI7IiBkPSJNMTEuMiwyLjVjLTQuMywwLTcuNywzLjMtNy43LDcuNXMzLjUsNy41LDcuOCw3LjVoNC4zdi0xNUgxMS4yeiIvPg0KPGcgaWQ9IkxlZnRIYWxmQ2lyY2xlXzJfIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojQjRCNEI0OyIgZD0iTTE1LDN2MTRoLTMuNkM3LjMsMTcsNCwxMy45LDQsMTBzMy4zLTcsNy40LTdIMTUgTTE2LDJoLTQuNkM2LjcsMiwzLDUuNiwzLDEwczMuNyw4LDguNCw4SDE2VjINCgkJTDE2LDJ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg=="},t.SliderRightHandleIcon={height:20,width:20,artworkOffsetFromLeftSide:2,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJSaWdodEhhbGZDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iV2hpdGVGaWxsZWRCYWNrZ3JvdW5kXzFfIiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTcuOCwyLjZjNC4zLDAsNy44LDMuMyw3LjgsNy40cy0zLjUsNy40LTcuOCw3LjRIMy41VjIuNkg3Ljh6Ii8+DQo8cGF0aCBpZD0iUmlnaHRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTQsM2gzLjZjNC4xLDAsNy40LDMuMSw3LjQsN3MtMy4zLDctNy40LDdINFYzIE0zLDJ2MTZoNC42DQoJYzQuNiwwLDguNC0zLjYsOC40LThzLTMuNy04LTguNC04SDNMMywyeiIvPg0KPC9zdmc+DQo=",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJSaWdodEhhbGZDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iV2hpdGVGaWxsZWRCYWNrZ3JvdW5kXzFfIiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTcuOCwyLjZjNC4zLDAsNy44LDMuMyw3LjgsNy40cy0zLjUsNy40LTcuOCw3LjRIMy41VjIuNkg3Ljh6Ii8+DQo8cGF0aCBpZD0iUmlnaHRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTQsM2gzLjZjNC4xLDAsNy40LDMuMSw3LjQsN3MtMy4zLDctNy40LDdINFYzIE0zLDJ2MTZoNC42DQoJYzQuNiwwLDguNC0zLjYsOC40LThzLTMuNy04LTguNC04SDNMMywyeiIvPg0KPC9zdmc+DQo=",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJSaWdodEhhbGZDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iV2hpdGVGaWxsZWRCYWNrZ3JvdW5kXzFfIiBzdHlsZT0iZmlsbDojRUJFQkVCOyIgZD0iTTcuOCwyLjZjNC4zLDAsNy44LDMuMyw3LjgsNy40cy0zLjUsNy40LTcuOCw3LjRIMy41VjIuNkg3Ljh6Ii8+DQo8cGF0aCBpZD0iUmlnaHRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojQjRCNEI0OyIgZD0iTTQsM2gzLjZjNC4xLDAsNy40LDMuMSw3LjQsN3MtMy4zLDctNy40LDdINFYzIE0zLDJ2MTZoNC42DQoJYzQuNiwwLDguNC0zLjYsOC40LThzLTMuNy04LTguNC04SDNMMywyeiIvPg0KPC9zdmc+"},t.ExpandoIcon={height:13,width:13,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXJkX3g1Rl9FeHBhbmRfeDVGX1Jlc3QiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiDQoJIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTNweCIgaGVpZ2h0PSIxM3B4IiB2aWV3Qm94PSIwIDAgMTMgMTMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEzIDEzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iQ2hldnJvbl8xXyIgc3R5bGU9ImZpbGw6IzY2NjY2NjsiIGQ9Ik0yLjgsOS4ybDMuNy0zLjZsMy43LDMuNmMwLjIsMC4yLDAuNiwwLjIsMC44LDBzMC4yLTAuNywwLTAuOEw2LjUsMy44TDIsOC40DQoJQzEuOCw4LjYsMS44LDguOSwyLDkuMkMyLjIsOS40LDIuNiw5LjQsMi44LDkuMnoiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXJkX3g1Rl9FeHBhbmRfeDVGX1NlbGVjdGVkIg0KCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEzcHgiIGhlaWdodD0iMTNweCINCgkgdmlld0JveD0iMCAwIDEzIDEzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMyAxMzsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggaWQ9IkNoZXZyb25fMV8iIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMi44LDkuMmwzLjctMy42bDMuNywzLjZjMC4yLDAuMiwwLjYsMC4yLDAuOCwwczAuMi0wLjcsMC0wLjhMNi41LDMuOEwyLDguNA0KCUMxLjgsOC42LDEuOCw4LjksMiw5LjJDMi4yLDkuNCwyLjYsOS40LDIuOCw5LjJ6Ii8+DQo8L3N2Zz4="},t.BannerCloseIcons={height:14,width:14,info:{enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDbG9zZV94NUZfV2hpdGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0IDE0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iWF8zXyIgc3R5bGU9ImZpbGw6IzBGNDQ1RTsiIGQ9Ik03LjcsN2w0LjctNC43YzAuMi0wLjIsMC4yLTAuNSwwLTAuN3MtMC41LTAuMi0wLjcsMEw3LDYuM0wyLjMsMS42DQoJYy0wLjItMC4yLTAuNS0wLjItMC43LDBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwDQoJczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+DQo8L3N2Zz4="},warning:{enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDbG9zZV94NUZfV2hpdGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0IDE0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iWF8zXyIgc3R5bGU9ImZpbGw6I0M2NEMzMDsiIGQ9Ik03LjcsN2w0LjctNC43YzAuMi0wLjIsMC4yLTAuNSwwLTAuN3MtMC41LTAuMi0wLjcsMEw3LDYuM0wyLjMsMS42DQoJYy0wLjItMC4yLTAuNS0wLjItMC43LDBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwDQoJczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+DQo8L3N2Zz4="},error:{enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDbG9zZV94NUZfV2hpdGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0IDE0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iWF8zXyIgc3R5bGU9ImZpbGw6IzlCMkYzQzsiIGQ9Ik03LjcsN2w0LjctNC43YzAuMi0wLjIsMC4yLTAuNSwwLTAuN3MtMC41LTAuMi0wLjcsMEw3LDYuM0wyLjMsMS42DQoJYy0wLjItMC4yLTAuNS0wLjItMC43LDBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwDQoJczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+DQo8L3N2Zz4NCg=="},success:{enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDbG9zZV94NUZfV2hpdGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE0IDE0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iWF8zXyIgc3R5bGU9ImZpbGw6IzAwM0YzMzsiIGQ9Ik03LjcsN2w0LjctNC43YzAuMi0wLjIsMC4yLTAuNSwwLTAuN3MtMC41LTAuMi0wLjcsMEw3LDYuM0wyLjMsMS42DQoJYy0wLjItMC4yLTAuNS0wLjItMC43LDBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwDQoJczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+DQo8L3N2Zz4="}}},function(e,t,n){"use strict";function o(){return"tab-shared-widget-"+l++}function i(e){window.setTimeout(function(){e&&window.document.body.contains(e)&&e.focus()})}function r(){var e=document.createElement("div");e.className="scrollbarMeasurement",a.__assign(e.style,{width:"100px",height:"100px",overflowY:"scroll",position:"absolute",visibility:"hidden",border:"none"}),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function s(e){return e.clientWidth<e.scrollWidth}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),l=0;t.generateId=o,t.timeoutFocus=i,t.detectScrollbarWidth=r,t.isElementOverflownX=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),s=n(0),a=n(7),l=n(44),d=n(13),c=n(29),u=n(40),p=n(22),h=100;!function(e){e[e.top=0]="top",e[e.centerY=1]="centerY",e[e.bottom=2]="bottom"}(o||(o={})),t.VerticalOriginOption=o;var g;!function(e){e[e.left=0]="left",e[e.centerX=1]="centerX",e[e.right=2]="right"}(g||(g={})),t.HorizontalOriginOption=g;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onResize=l(function(){return t.setPlacement()},h),t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this.addScrollingRootBehavior(),window.addEventListener("resize",this.onResize)},t.prototype.componentWillUnmount=function(){this.removeScrollingRootBehavior(),window.removeEventListener("resize",this.onResize)},t.prototype.componentDidUpdate=function(e){this.resetScrollingRootBehaviorIfNeeded(e),this.setPlacement()},t.prototype.addScrollingRootBehavior=function(){this.setOnScroll(),this.setScrollingRoot(),this.onScroll&&(this.scrollingRoot.addEventListener("scroll",this.onScroll),this.scrollingRoot.addEventListener("wheel",this.onScroll))},t.prototype.removeScrollingRootBehavior=function(){this.onScroll&&(this.scrollingRoot.removeEventListener("scroll",this.onScroll),this.scrollingRoot.removeEventListener("wheel",this.onScroll))},t.prototype.resetScrollingRootBehaviorIfNeeded=function(e){e.handleScrollOnScrollingRoot===this.props.handleScrollOnScrollingRoot&&e.shouldAutoPositionOnScrollingRootScroll===this.props.shouldAutoPositionOnScrollingRootScroll||(this.removeScrollingRootBehavior(),this.addScrollingRootBehavior())},t.prototype.setOnScroll=function(){var e=this;if(this.props.shouldAutoPositionOnScrollingRootScroll||this.props.handleScrollOnScrollingRoot){var t=function(){e.props.shouldAutoPositionOnScrollingRootScroll&&e.setPlacement(),e.props.handleScrollOnScrollingRoot&&e.props.handleScrollOnScrollingRoot()};this.onScroll=l(t,50)}else this.onScroll=null},t.prototype.setScrollingRoot=function(){if(this.scrollingRoot=this.props.scrollingRootId?document.getElementById(this.props.scrollingRootId):u.ScrollingRootConfig.getDefaultRootContainer(),!this.scrollingRoot)throw Error("Could not find scrolling root with the id scrollingRootId.")},t.prototype.getAnchorPosition=function(){var e=this.props.anchorEl?this.props.anchorEl:a.findDOMNode(this),t=e.getBoundingClientRect(),n=e.offsetWidth,o=e.offsetHeight,i={top:t.top,left:t.left};return i.right=t.right||i.left+n,i.bottom=t.bottom||i.top+o,i.centerX=i.left+(i.right-i.left)/2,i.centerY=i.top+(i.bottom-i.top)/2,i},t.prototype.getStackedElCurrentShapeInPositionCoords=function(){var e=this.getStackedEl();return{top:0,centerY:e.offsetHeight/2,bottom:e.offsetHeight,left:0,centerX:e.offsetWidth/2,right:e.offsetWidth}},t.prototype.getContainerRect=function(){var e=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):c.StackingRootConfig.getDefaultRootContainer();if(!e)throw Error("Could not find stacking root.");return e.getBoundingClientRect()},t.prototype.setPlacement=function(){if(this.stackingWrapper&&this.stackingWrapper.getMountPoint()){var e=this.getStackedElAdjustedPosition(),t=this.getStackedEl();t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.position="absolute"}},t.prototype.getStackedEl=function(){return this.stackingWrapper.getMountPoint().firstChild},t.prototype.getStackedElAdjustedPosition=function(){var e=this.getDefaultStackedElViewportPosition();this.props.allowAutoPosition&&(e=this.getAutoPositionIfNeeded(e));var t=this.getAdjustStackedElPositionForContainer(e);return t=this.getAdjustedStackedElPositionFromProps(t)},t.prototype.getDefaultStackedElViewportPosition=function(){return this.getStackedElViewportPosition(this.props.anchorOrigin,this.props.stackedOrigin)},t.prototype.getAdjustStackedElPositionForContainer=function(e){var t=this.getContainerRect();return{top:e.top-t.top,left:e.left-t.left}},t.prototype.getAdjustedStackedElPositionFromProps=function(e){return{top:e.top+(this.props.topFromOverlaidPosition||0),left:e.left+(this.props.leftFromOverlaidPosition||0)}},t.prototype.getStackedElViewportPosition=function(e,t){var n=this.getAnchorPosition(),i=this.getStackedElCurrentShapeInPositionCoords(),r=o[e.vertical],s=g[e.horizontal],a=o[t.vertical],l=g[t.horizontal],d=n[r],c=n[s];return{top:d-i[a],left:c-i[l]}},t.prototype.getAutoPositionIfNeeded=function(e){var t=this.getStackedElCurrentShapeInPositionCoords(),n=this.getOppositeOriginPosition(),o=p.getLayoutViewportSize(),i=e.top<0||e.top+t.bottom>o.height,r=e.left<0||e.left+t.right>o.width;return i&&(n.top+t.bottom<=o.height?e.top=Math.max(0,n.top):t.bottom<=o.height&&(e.top=Math.max(0,o.height-t.bottom))),r&&(n.left+t.right<=o.width?e.left=Math.max(0,n.left):t.right<=o.width&&(e.left=Math.max(0,o.width-t.right))),e},t.prototype.getOppositeOriginPosition=function(){var e=this.getOppositeOriginsOptions(this.props.anchorOrigin),t=this.getOppositeOriginsOptions(this.props.stackedOrigin);return this.getStackedElViewportPosition(e,t)},t.prototype.getOppositeOriginsOptions=function(e){return{horizontal:this.getOppositeHorizontalOption(e.horizontal),vertical:this.getOppositeVerticalOption(e.vertical)}},t.prototype.getOppositeVerticalOption=function(e){return e===o.centerY?o.centerY:e===o.top?o.bottom:o.top},t.prototype.getOppositeHorizontalOption=function(e){return e===g.centerX?g.centerX:e===g.left?g.right:g.left},t.prototype.setStackingWrapper=function(e){this.stackingWrapper=e,this.setPlacement()},t.prototype.render=function(){var e=this,t=this.props.stackingRootId?this.props.stackingRootId+"-":"";return t=this.props.scrollingRootId?""+t+this.props.scrollingRootId+"-":t,s.createElement("div",{style:{display:"none"}},s.createElement(d.StackingComponentWrapper,{stackingRootId:this.props.stackingRootId,ref:function(t){return e.setStackingWrapper(t)},zIndex:this.props.zIndex,wrapperTestId:t+"Overlay"},this.props.children))},t.defaultProps={anchorOrigin:{vertical:o.top,horizontal:g.left},stackedOrigin:{vertical:o.top,horizontal:g.left}},t}(r.Component);t.Overlay=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreventUserSelect={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(6),a=n(31),l=n(3),d="shared-widgets-text-input";try{a.SingletonStyleSheet.addRawSelector("."+d+":focus",{"background-color":l.TabStyles.Colors.Transparent}),a.SingletonStyleSheet.addRawSelector("."+d+"::-ms-clear",{display:"none"})}catch(e){}var c=function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value},e.Text=new e("text"),e.Password=new e("password"),e}();t.TextInputType=c;var u={input:{width:"100%",boxSizing:"border-box",WebkitAppearance:"none"}},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputRef=function(e){t.props.inputRef&&t.props.inputRef(e)},t.handleInputChange=function(e){t.props.disabled||t.props.handleChange(e.target.value)},t.handleInputFocus=function(e){if(t.props.shouldSelectTextOnFocus&&!t.shouldIgnoreFocusEvent(e)){var n=e.target;window.setTimeout(function(){try{n.value&&n.setSelectionRange(0,n.value.length)}catch(e){n.select()}})}},t}return o.__extends(t,e),t.prototype.shouldIgnoreFocusEvent=function(e){var t=e.target,n=e.relatedTarget;return!!(t.lastFocusEventMs&&e.timeStamp<t.lastFocusEventMs+100)||(t.lastFocusEventMs=e.timeStamp,n&&(n.lastFocusEventMs=e.timeStamp),!1)},t.prototype.render=function(){var e=this,t=this.props.type?this.props.type.toString():"text",n={className:d,type:t,style:o.__assign({},u.input,this.props.style),value:this.props.text||"","data-tb-test-id":this.props.testId+"-TextInput",onChange:this.handleInputChange,onKeyDown:function(t){!e.props.disabled&&e.props.onKeyDown&&e.props.onKeyDown(t)},onKeyUp:function(t){e.props.disabled||!e.props.handleEnter&&!e.props.handleEscape||("Enter"===t.key&&e.props.handleEnter&&e.props.handleEnter(),"Escape"===t.key&&e.props.handleEscape&&e.props.handleEscape())},onFocus:this.handleInputFocus,disabled:this.props.disabled,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,"aria-label":this.props.ariaLabel,"aria-placeholder":this.props.__INTERNAL__ariaPlaceholder,onBlur:this.props.handleBlur,ref:this.handleInputRef};return r.createElement("input",n)},t.defaultProps={shouldSelectTextOnFocus:!0},t=o.__decorate([s.InteractiveDomHoCDecorator],t)}(i.Component);t.TextFieldInputWidget=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),s=n(29),a=n(2),l=n(21),d=n(79),c=function(e){function t(t){var n=e.call(this,t)||this;if(n.stackingRoot=n.props.stackingRootId?document.getElementById(n.props.stackingRootId):s.StackingRootConfig.getDefaultRootContainer(),!n.stackingRoot)throw Error("Could not find stacking root.");return n.warnIfRootIsNotPositioned(),n.createMountPoint(),n}return o.__extends(t,e),t.prototype.warnIfRootIsNotPositioned=function(){if(this.stackingRoot!==document.body){var e=window.getComputedStyle(this.stackingRoot).position;if("relative"!==e&&"absolute"!==e)throw Error("Root Container does not have relative or absolute positioning.  Since some shared widgets absolutely\n      position relative to the container this may interfere with positioning")}},t.prototype.componentDidMount=function(){this.stackingRoot.appendChild(this.mountPoint)},t.prototype.componentWillUnmount=function(){this.stackingRoot.removeChild(this.mountPoint)},t.prototype.getMountPoint=function(){return this.mountPoint},t.prototype.createMountPoint=function(){this.mountPoint||(this.mountPoint=document.createElement("div"),this.mountPoint.style.zIndex=""+this.props.zIndex,this.mountPoint.style.position="absolute",this.mountPoint.style.top="0",this.mountPoint.style.left="0",this.mountPoint.setAttribute("data-tb-test-id",a.testId(this.props.wrapperTestId,"Root")))},t.prototype.render=function(){return r.createPortal(d.PortalEventTrap(i.Children.only(this.props.children)),this.mountPoint)},t}(i.Component);t.StackingComponentWrapper=c,t.StackingComponentHOC=function(e){var t=l.convertToStatefulComponentClass(e),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.createElement(c,this.props,e.prototype.render.call(this))},t}(t);return n.displayName="StackingComponentHOC("+l.getComponentName(e)+")",n}},function(e,t,n){"use strict";function o(e){return{top:e.top+e.height/2,left:e.left+e.width/2}}function i(e,t){return{top:e.top-t.top,left:e.left-t.left}}function r(e,t){return{width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)}}function s(e,t){var n=o(t);return{top:n.top-e.height/2,left:n.left-e.width/2}}function a(e,t){var n=t.top+t.height,o=t.left+t.width;return{top:Math.max(t.top,Math.min(e.top,n-e.height)),left:Math.max(t.left,Math.min(e.left,o-e.width))}}function l(e,t){return{top:e.top,left:e.left,bottom:e.top+t.height,right:e.left+t.width,width:t.width,height:t.height}}function d(e,t){return t.left>=e.left&&t.left<=e.left+e.width&&t.top>=e.top&&t.top<=e.top+e.height}function c(e,t){return l({left:e.left+t,top:e.top},{width:e.width-t,height:e.height})}function u(e,t){return l({left:isNaN(t)?NaN:e.left,top:e.top},{width:e.width+t,height:e.height})}Object.defineProperty(t,"__esModule",{value:!0}),t.computeCenter=o,t.subtractPositions=i,t.getMaxWidthAndHeight=r,t.computePositionToCenterAreaInBounds=s,t.computePositionToContainBounds=a,t.makeClientRect=l,t.doesRectangleContainPoint=d,t.addClientRectLeft=c,t.addClientRectRight=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(8),s=n(2),a=n(4),l=n(3),d=n(12);t.TextInputType=d.TextInputType;var c=n(50),u=n(25),p=n(16),h=n(32),g=l.TabStyles.Colors,y=l.TabStyles.Sizing,I=l.TabStyles.Spacing,m=l.TabStyles.Typography,b=function(e){return{input:{base:{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:e.onDarkBackground?g.WhiteTransparentLine:g.L6,borderStyle:"solid",height:y.RowHeight,paddingLeft:I.DefaultSpace,paddingRight:r.TextFieldClearIcon.width+2*I.DefaultSpace,outline:"none",backgroundColor:g.Transparent,fontSize:m.Sizing.Default,fontFamily:m.FontFamily,color:e.onDarkBackground?m.Color.InvertedPrimary:m.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderColor:e.onDarkBackground?g.WhiteTransparentLineHover:g.L8},active:{borderColor:e.onDarkBackground?g.WhiteTransparentLineHover:g.L8},focus:{borderColor:e.onDarkBackground?g.WhiteTransparentLineHover:g.L8},disabled:{borderColor:e.onDarkBackground?g.WhiteDisabled:g.L9Disabled,color:e.onDarkBackground?m.Color.InvertedDisabled:m.Color.Disabled}},noClearIconButton:{paddingRight:I.DefaultSpace}},errorInput:{borderColor:g.AttentionLight},errorLabel:{fontSize:m.Sizing.Tiny,fontFamily:m.FontFamily,fontWeight:"normal",color:g.AttentionLight,lineHeight:"normal"},errorContainer:{paddingTop:I.SmallSpace},placeholder:{base:o.__assign({fontSize:m.Sizing.Default,fontFamily:m.FontFamily,fontWeight:"normal",color:e.onDarkBackground?m.Color.InvertedSecondary:m.Color.Secondary,position:"absolute",left:I.DefaultSpace+y.BorderWidth,textAlign:"start",lineHeight:y.RowHeight+"px",maxWidth:"calc(100% - "+2*I.DefaultSpace+"px)"},p.TextEllipsis),disabled:{color:e.onDarkBackground?m.Color.InvertedDisabled:m.Color.Disabled}}}};t.getTextOutlineStyles=b;var f=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClearHover=function(e){n.props.disabled||n.setState({clearHover:e})},n.state=o.__assign({},n.state,{clearHover:!1}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.text||this.setState({clearHover:!1})},t.prototype.getInputStyle=function(){var e=b({onDarkBackground:this.props.onDarkBackground});return o.__assign({},e.input.base,s.conditional(!this.props.handleClearText,e.input.noClearIconButton),s.conditional(this.state.clearHover,e.input.interactive.hover),s.conditional(this.props.hasError,e.errorInput),this.props.inputStyle)},t.prototype.render=function(){var e=this,t=b({onDarkBackground:this.props.onDarkBackground}),n=o.__assign({},t.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,t.placeholder.disabled)),r={style:n,"data-tb-test-id":s.testId(this.props.testId,"Placeholder")},l=this.props.hasError?null:t.input.interactive,u={type:this.props.type,style:this.getInputStyle(),interactiveStyles:l,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,disabled:this.props.disabled,handleActive:function(t){return e.handleInputActive(t)},handleFocus:function(t){return e.handleInputFocus(t)},handleBlur:this.props.handleBlur,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.placeholder,inputRef:this.props.inputRef,shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus},p={pointerClick:this.props.handleClearText,handleHover:this.handleClearHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled},g=this.props.handleClearText?i.createElement(c.TextFieldWithClearIcon,{handleClearText:this.props.handleClearText,textFieldInputProps:u,textFieldClearButtonProps:p}):i.createElement(d.TextFieldInputWidget,o.__assign({},u));return i.createElement(a.Block,{style:this.props.containerStyle},i.createElement(a.Block,{},this.isPlaceholderShowing()?i.createElement("label",r,this.props.placeholder):null,g),this.props.displayErrorTextSection?i.createElement(a.Block,{style:t.errorContainer},i.createElement("label",{style:t.errorLabel,"data-tb-test-id":s.testId(this.props.testId,"ErrorLabel")},this.props.hasError?this.props.errorText:h.Unicode.NonBreakingSpace)):null)},t}(u.TextFieldBase);t.OutlineTextFieldWidget=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};t.TextEllipsis=o},function(e,t,n){"use strict";function o(){if("undefined"==typeof Localize)throw Error("The messages.<locale>.js file has not been loaded");return Localize}Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleData={get:function(){return o().localeData}};var i=function(e,t){return o().msg.formatMessage(e,t)};t.Messages={close:function(){return i("@tableau__widgets/close")},closeDialog:function(){return i("@tableau__widgets/closeDialog")},customColor:function(){return i("@tableau__widgets/customColor")},waitIndicatorLabel:function(){return i("@tableau__widgets/waitIndicatorLabel")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(3),r=n(8),s={w:Math.ceil(r.SliderHandleIcon.width/2),h:Math.ceil(r.SliderHandleIcon.height/2)},a={w:40,h:40},l={w:a.w/2,h:a.h/2};t.getSliderTrackStyles=function(){var e={Track:{position:"absolute",left:s.w,right:s.w,backgroundColor:i.TabStyles.Colors.F3,height:4,top:18},RangeIndicatorBar:{position:"absolute",top:0,bottom:0,backgroundColor:i.TabStyles.Colors.F7},DataBar:{position:"absolute",top:0,bottom:0,backgroundColor:i.TabStyles.Colors.L8}};return o.__assign({},e,{RangeIndicatorBarDarkened:o.__assign({},e.RangeIndicatorBar,{backgroundColor:i.TabStyles.Colors.L8}),DataBarDarkened:o.__assign({},e.DataBar,{backgroundColor:i.TabStyles.Colors.L9})})},t.getSliderTickBarStyles=function(){return{Bar:{position:"absolute",left:s.w,right:s.w+1,height:4,top:3},Tick:{position:"absolute",borderLeft:"solid 1px "+i.TabStyles.Colors.F6,height:4,width:0}}},t.getSliderHandleStyles=function(){var e={PositioningContainer:{position:"absolute"},PressIndicationBar:{position:"absolute",borderLeft:"solid 2px "+i.TabStyles.Colors.F9,marginLeft:-1,width:0,height:16,top:-3},HandleInteractiveArea:{position:"absolute",touchAction:"none",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,boxSizing:"content-box",paddingTop:l.h-s.h,paddingBottom:l.h-s.h,paddingLeft:l.w-s.w,paddingRight:l.w-s.w,marginLeft:-1*l.w,WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},HandleIcon:{position:"absolute",touchAction:"none",cursor:"pointer",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,marginLeft:-1*s.w,marginTop:l.h-s.h,outline:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTapHighlightColor:"transparent"}};return o.__assign({},e,{HandleInteractiveAreaLeft:o.__assign({},e.HandleInteractiveArea,{paddingLeft:e.HandleInteractiveArea.paddingLeft-5,paddingRight:e.HandleInteractiveArea.paddingRight+5}),HandleInteractiveAreaRight:o.__assign({},e.HandleInteractiveArea,{paddingLeft:e.HandleInteractiveArea.paddingLeft+6,paddingRight:e.HandleInteractiveArea.paddingRight-4}),HandleIconLeft:o.__assign({},e.HandleIcon,{marginLeft:e.HandleIcon.marginLeft-5}),HandleIconRight:o.__assign({},e.HandleIcon,{marginLeft:e.HandleIcon.marginLeft+6}),DisabledHandleMixin:{touchAction:void 0},DisabledHandleInnerFocusAreaMixin:o.__assign({},e.HandleIcon,{touchAction:void 0,cursor:void 0})})},t.getSliderHandleContainerStyles=function(){return{Container:{position:"absolute",top:0,bottom:0,left:0,right:0,marginLeft:s.w+1,marginRight:s.w},InnerHandleMouseCursorArea:{position:"absolute",cursor:"pointer",height:r.SliderHandleIcon.height,top:l.h-s.h}}},t.getSliderStyles=function(){return{OuterContainer:{paddingLeft:14,paddingRight:14,WebkitTapHighlightColor:"transparent",TapHighlightColor:"transparent"},TrackAndHandleContainer:{position:"relative",height:40}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.suppressionClassName=void 0,e}();t.ClickBustingConfig=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),s=n(43),a=n(21),l=function(e){function t(t){var n=e.call(this,t)||this;return n.pointerEventAdapter=s.PointerEventAdapterManager.adapterFactory(),n}return o.__extends(t,e),t.prototype.componentDidMount=function(){if(this.pointerEventAdapter.didMount){var e=r.findDOMNode(this);this.pointerEventAdapter.didMount(e,this.props)}},t.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},t.prototype.render=function(){var e=this.pointerEventAdapter.getHtmlAttributes(this.props),t=i.Children.only(this.props.children),n={};return Object.keys(e).forEach(function(o){n[o]=a.mergeEventHandlers(e[o],t.props[o])}),i.cloneElement(t,n,t.props.children)},t}(i.PureComponent);t.PointerEventWrapper=l;var d=function(e){var t=a.convertToStatefulComponentClass(e),n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return i.createElement(l,this.props,e.prototype.render.call(this))},t}(t);return n.displayName="PointerEventHoC("+a.getComponentName(e)+")",n};t.PointerEventHoC=d;var c=d;t.PointerEventHoCDecorator=c},function(e,t,n){"use strict";function o(e){return!e.prototype.render}function i(e){if(o(e)){var t=e;return n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(n,e),n.prototype.render=function(){return t(this.props)},n}(l.Component),n.displayName=s(t),n}return e;var n}function r(e,t){return e&&t&&function(n){e(n),t(n)}||e||t}function s(e){return e.displayName||e.name||"AnonymousComponent"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),l=n(0);t.convertToStatefulComponentClass=i,t.mergeEventHandlers=r,t.getComponentName=s},function(e,t,n){"use strict";function o(e){return e.getBoundingClientRect()}function i(){var e=document.documentElement.getBoundingClientRect();return{top:-e.top,left:-e.left}}function r(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}function s(){var e=a(),t={left:e.offsetLeft,top:e.offsetTop},n={width:e.width,height:e.height};return l.makeClientRect(t,n)}function a(){return"visualViewport"in window?window.visualViewport:new d}Object.defineProperty(t,"__esModule",{value:!0});var l=n(14);t.getElementPositionRelativeToLayoutViewport=o,t.getLayoutViewportPositionRelativeToPage=i,t.getLayoutViewportSize=r,t.getVisualViewportRectRelativeToLayoutViewport=s;var d=function(){function e(){}return Object.defineProperty(e.prototype,"offsetLeft",{get:function(){var e=i();return window.pageXOffset-e.left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetTop",{get:function(){var e=i();return window.pageYOffset-e.top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageLeft",{get:function(){return window.pageXOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageTop",{get:function(){return window.pageYOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return window.innerWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return window.innerHeight},enumerable:!0,configurable:!0}),e}();t.getVisualViewport=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(6),s=n(5),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isKeyboardPressed=!1,t.handleActive=function(e){t.props.handleActive&&t.props.handleActive(e)},t.handleFocus=function(e){t.props.handleFocus&&t.props.handleFocus(e)},t.handleHover=function(e){t.props.handleHover&&t.props.handleHover(e)},t.handleClick=function(e){t.props.disabled||t.props.handleClick(e)},t.handleKeyUp=function(e){t.props.disabled||t.props.disableTabAccessibility||(!t.isKeyboardPressed||" "!==e.key&&"Enter"!==e.key?t.props.handleKeyUp&&t.props.handleKeyUp(e):(t.props.handleClick(e),t.isKeyboardPressed=!1))},t.handleKeyDown=function(e){t.props.disabled||t.props.disableTabAccessibility||(" "!==e.key&&"Enter"!==e.key||(t.isKeyboardPressed=!0,e.preventDefault()),t.props.handleKeyDown&&t.props.handleKeyDown(e))},t.handleBlur=function(){t.isKeyboardPressed=!1,t.props.handleBlur&&t.props.handleBlur()},t}return o.__extends(t,e),t.prototype.render=function(){return i.createElement(r.InteractiveDomWrapper,{disabled:this.props.disabled,handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover,interactiveStyles:this.props.interactiveStyle,pointerClick:this.handleClick},i.createElement("div",{"aria-disabled":this.props.disabled,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,role:"button",style:this.props.style,tabIndex:this.props.disabled||this.props.disableTabAccessibility?-1:0,title:this.props.title,"data-tb-test-id":this.props.testId},this.props.label,this.props.children))},t}(s.DynamicThemeComponent);t.ButtonBase=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(2),s=n(3),a=n(6),l=n(5),d=s.TabStyles.Typography,c=function(){return{base:{fontSize:d.Sizing.Default,fontFamily:d.FontFamily,fontWeight:"normal",color:d.Color.Primary,lineHeight:"normal",cursor:"default"},disabled:{color:d.Color.Disabled}}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=c(),t=o.__assign({},e.base,this.props.style,r.conditional(this.props.disabled,e.disabled));return i.createElement("label",{style:t,"data-tb-test-id":this.props.testId+"-Label"},this.props.children)},t=o.__decorate([a.InteractiveDomHoCDecorator],t)}(l.DynamicThemeComponent);t.InputLabelWidget=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(5),r=function(e){function t(t){var n=e.call(this,t)||this;return n.handleInputActive=function(e){n.props.disabled||n.setState({inputActive:e})},n.handleInputFocus=function(e){n.props.disabled||n.setState({inputFocus:e})},n.handleBlur=function(){n.props.disabled||n.props.handleBlur&&n.props.handleBlur()},n.handleInputHover=function(e){n.props.disabled||n.setState({inputHover:e})},n.state=o.__assign({},n.state,{inputFocus:!1,inputActive:!1,inputHover:!1}),n}return o.__extends(t,e),t.prototype.isInputActiveOrHasFocus=function(){return this.state.inputActive||this.state.inputFocus},t.prototype.isPlaceholderShowing=function(){return!this.props.text},t.defaultProps={shouldSelectTextOnFocus:!0},t}(i.DynamicThemeComponent);t.TextFieldBase=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),s=n(7),a=n(44),l=n(87),d=n(3),c=n(2),u=n(93),p=n(5),h=n(14),g=n(94),y=n(10),I=n(95),m=n(96),b=n(22);!function(e){e[e.Centered=0]="Centered",e[e.Maximized=1]="Maximized",e[e.Draggable=2]="Draggable",e[e.Anchored=3]="Anchored"}(o||(o={})),t.DialogPositioningBehavior=o;var f;!function(e){e[e.NormalWithTitleBar=0]="NormalWithTitleBar",e[e.NormalWithoutTitleBar=1]="NormalWithoutTitleBar",e[e.Uber=2]="Uber",e[e.LightweightTitleBar=3]="LightweightTitleBar"}(f||(f={})),t.DialogType=f;t.SharedWidgetsDialogLabel="SharedWidgetsDialogLabel";var v=500,M=100,C=0,L=function(){return{Dialog:{borderWidth:d.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:d.TabStyles.Colors.L5,borderRadius:d.TabStyles.Sizing.BorderRadius,backgroundColor:d.TabStyles.Colors.White,cursor:"default",boxShadow:d.TabStyles.Shadow.Medium,display:"flex",flexDirection:"column"}}},w=function(e){function t(t){var n=e.call(this,t)||this;return n.throttledHandleAdjustPositionOnResize=a(function(){return n.handleAdjustPositionOnResize()},M),n.handleAdjustPositionOnResize=function(){n.props.shouldAdjustPositionOnWindowResize&&(n.sizingWrapper&&n.sizingWrapper.updateSize(),n.repositionDialog())},n.handleFloaterWidgetRef=function(e){n.floaterWidget=e},n.handleOverlayRef=function(e){n.overlay=e},n.handleSizingWrapperRef=function(e){n.sizingWrapper=e},n.getDialogFloaterClientRect=function(){return n.floaterWidget?n.floaterWidget.getFloaterClientRect():null},n.dragBoundedDialogFloaterPosition=function(e){n.state.hasBeenDragged||n.setState({hasBeenDragged:!0}),n.floaterWidget&&n.floaterWidget.setPosition(n.getBoundedFloaterPos(e))},n.handleOrientationChange=function(){if(n.resizeAndRepositionTimeoutId)return clearTimeout(n.resizeAndRepositionTimeoutId),void(n.resizeAndRepositionTimeoutId=window.setTimeout(n.resizeAndRepositionCallback,v));n.hideDialogAndThen(function(e){n.forceRepaintHack(),n.resizeAndRepositionCallback=function(){n.resizeAndRepositionTimeoutId=null,n.resizeAndRepositionCallback=null,n.sizingWrapper.updateSize(),e&&e(),n.repositionDialog()},n.resizeAndRepositionTimeoutId=window.setTimeout(n.resizeAndRepositionCallback,v)})},n.handleGlassEscape=function(){n.props.onCloseRequest()},n.instanceId=C++,n.state={hasBeenDragged:!1},n}return i.__extends(t,e),t.prototype.addResizeEventListener=function(){window.addEventListener("resize",this.throttledHandleAdjustPositionOnResize)},t.prototype.removeResizeEventListener=function(){window.removeEventListener("resize",this.throttledHandleAdjustPositionOnResize)},t.prototype.repositionDialog=function(){switch(this.props.positioningBehavior){case o.Centered:case o.Maximized:this.floaterWidget.centerInVisualViewport();break;case o.Draggable:this.state.hasBeenDragged?this.repositionDraggedDialog():this.floaterWidget.centerInVisualViewport();break;case o.Anchored:this.overlay&&this.overlay.setPlacement();break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},t.prototype.saveDraggedDialogPositionBeforeHide=function(){this.dragPositionBeforeHide=this.getDialogFloaterClientRect()},t.prototype.repositionDraggedDialog=function(){var e;this.dragPositionBeforeHide?(e=this.dragPositionBeforeHide,this.dragPositionBeforeHide=void 0):e=this.getDialogFloaterClientRect(),this.floaterWidget.setPosition(this.getBoundedFloaterPos(e))},t.prototype.hideDialogAndThen=function(e){var t;switch(this.props.positioningBehavior){case o.Centered:case o.Maximized:this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case o.Draggable:this.saveDraggedDialogPositionBeforeHide(),this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case o.Anchored:var n=s.findDOMNode(this.sizingWrapper),i=n.style.display;n.style.display="none",t=function(){n.style.display=i};break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}e(t)},t.prototype.forceRepaintHack=function(){var e=s.findDOMNode(this),t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t},t.prototype.getBoundedFloaterPos=function(e){var t=this.floaterWidget.getFloaterClientRect(),n={top:e.top,left:e.left,width:t.width,height:t.height},o=b.getVisualViewport(),i={top:0,left:0,width:o.width,height:o.height};return h.computePositionToContainBounds(n,i)},t.prototype.getPositionedDialogElem=function(e){switch(this.props.positioningBehavior){case o.Centered:case o.Draggable:case o.Maximized:var t=c.testId(this.props.testId,"Dialog");return r.createElement(u.FloaterWidget,{testId:t,stackingRootId:this.props.stackingRootId,ref:this.handleFloaterWidgetRef,zIndex:this.props.zIndex,shouldRecenterOnUpdate:!!this.props.shouldRecenterOnUpdate&&!this.state.hasBeenDragged,wrapperTestId:c.testId(t,"Floater")},e);case o.Anchored:return r.createElement(y.Overlay,{anchorEl:this.props.anchorEl,anchorOrigin:this.props.anchorOrigin||{vertical:y.VerticalOriginOption.bottom,horizontal:y.HorizontalOriginOption.left},stackedOrigin:this.props.stackedOrigin||{vertical:y.VerticalOriginOption.top,horizontal:y.HorizontalOriginOption.left},stackingRootId:this.props.stackingRootId,allowAutoPosition:!0,zIndex:this.props.zIndex,leftFromOverlaidPosition:this.props.dialogStyle?this.props.dialogStyle.left:void 0,topFromOverlaidPosition:this.props.dialogStyle?this.props.dialogStyle.top:void 0,ref:this.handleOverlayRef},e);default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},t.prototype.getGlassElem=function(){var e=c.testId(this.props.testId,"Dialog");return r.createElement(g.GlassWidget,{testId:e,handleClick:this.props.handleGlassClick,isTransparent:this.props.isGlassTransparent,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,handleEscape:this.handleGlassEscape,wrapperTestId:c.testId(e,"Glass")})},t.prototype.componentDidMount=function(){m.OrientationChange.addListener(this.handleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.addResizeEventListener()},t.prototype.componentDidUpdate=function(e){this.props.shouldAdjustPositionOnWindowResize!==e.shouldAdjustPositionOnWindowResize&&(this.props.shouldAdjustPositionOnWindowResize?this.addResizeEventListener():this.removeResizeEventListener())},t.prototype.componentWillUnmount=function(){m.OrientationChange.removeListener(this.handleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.removeResizeEventListener()},t.prototype.render=function(){var e=i.__assign({},this.props,{getDraggableDialogClientRect:this.getDialogFloaterClientRect,setDraggableDialogPosition:this.dragBoundedDialogFloaterPosition,instanceId:this.instanceId,testId:c.testId(this.props.testId,"Dialog")}),t={isMaximized:this.props.positioningBehavior===o.Maximized,horizontalMargins:40,verticalMargins:40,style:i.__assign({},L().Dialog,this.props.dialogStyle,{width:this.props.dialogWidth}),ref:this.handleSizingWrapperRef,testId:c.conditional(this.props.positioningBehavior===o.Anchored,c.testId(this.props.testId,"Dialog"))},n=r.createElement(I.ViewportConstrainedDomWrapper,t,r.createElement(l.DialogContent,e));return r.createElement("div",{style:{display:"none"}},c.conditional(this.props.isModal,this.getGlassElem()),this.getPositionedDialogElem(n))},t}(p.DynamicThemeComponent);t.DialogWidget=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),s=n(2),a=n(53),l=n(5),d=n(3),c=n(10),u=n(54),p=n(9),h=n(55),g=n(4),y={vertical:c.VerticalOriginOption.bottom,horizontal:c.HorizontalOriginOption.left},I=d.TabStyles.Spacing,m=d.TabStyles.Sizing,b=d.TabStyles.Colors,f=d.TabStyles.Shadow,v=function(){return{backgroundColor:"white",borderWidth:m.BorderWidth,borderRadius:m.BorderRadius,borderColor:b.L6,borderStyle:"solid",boxShadow:f.Low}},M=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSearchEscape=function(){n.state.searchString?n.setState({searchString:""}):n.onRequestClose()},n.handleSearchChanged=function(e){n.setState({searchString:e})},n.handleSearchEnter=function(){n.listWidgetInstance&&n.listWidgetInstance.selectActive()},n.getFilteredMenuItems=function(){return n.state.searchString?n.props.menuItemInfos.filter(function(e){return e.isDivider||e.keyboardAccessibleValue&&e.keyboardAccessibleValue.toUpperCase().indexOf(n.state.searchString.toUpperCase())>=0}).filter(function(e,t,n){return!(e.isDivider&&t>0&&n[t-1].isDivider)}).filter(function(e,t,n){return!(e.isDivider&&(0===t||t===n.length-1))}):n.props.menuItemInfos},n.onRequestClose=function(){n.props.requestCloseAll()},n.handleKeyDown=function(e){switch(e.key){case"ArrowUp":case"ArrowDown":if(!("search"===n.state.focusLocation&&n.getFilteredMenuItems().length>0))return;n.setState({focusLocation:"list"});break;case"Tab":"search"===n.state.focusLocation?n.getFilteredMenuItems().length>0&&n.setState({focusLocation:"list"}):n.props.__UNSUPPORTED__showSearchField&&n.setState({focusLocation:"search"});break;default:return}e.preventDefault(),e.stopPropagation()},n.setSearchDomNode=function(e){n.searchDomNode=e},n.handleListRef=function(e){n.listWidgetInstance=e},n.setFlyoutDomNode=function(e){n.flyoutDomNode=r.findDOMNode(e)},n.handleFocus=function(e){var t=e.target,o=n.getListDomNode(),i=n.state.focusLocation;n.searchDomNode&&n.searchDomNode.contains(t)?i="search":o&&o.contains(t)&&(i="list"),n.state.focusLocation!==i&&n.setState({focusLocation:i})},n.state={searchString:"",focusLocation:n.props.__UNSUPPORTED__showSearchField?"search":"list"},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.flyoutDomNode&&(this.pointerDownOutsideFlyoutListenerUnsubscribe=u.GlobalPointerDownOutsideListener.subscribe(this.flyoutDomNode,this.onRequestClose)),this.props.toggleEl&&(this.pointerDownOutsideToggleElListenerUnsubscribe=u.GlobalPointerDownOutsideListener.subscribe(this.props.toggleEl,this.onRequestClose)),this.syncFocus()},t.prototype.componentDidUpdate=function(){this.syncFocus()},t.prototype.componentWillUnmount=function(){this.pointerDownOutsideFlyoutListenerUnsubscribe&&this.pointerDownOutsideFlyoutListenerUnsubscribe(),this.pointerDownOutsideToggleElListenerUnsubscribe&&this.pointerDownOutsideToggleElListenerUnsubscribe(),this.props.toggleEl&&this.props.shouldReturnFocusToToggleEl&&p.timeoutFocus(this.props.toggleEl)},t.prototype.syncFocus=function(){if("list"===this.state.focusLocation){var e=this.getListDomNode();e&&e.focus()}else"search"===this.state.focusLocation&&this.searchDomNode&&this.searchDomNode.focus()},t.prototype.getListDomNode=function(){return r.findDOMNode(this.listWidgetInstance)},t.prototype.renderSearchField=function(){return i.createElement(h.SearchFieldWidget,{testId:"flyout-search",handleChange:this.handleSearchChanged,handleCancelSearch:this.handleSearchChanged,handleEscape:this.handleSearchEscape,handleEnter:this.handleSearchEnter,placeholder:this.props.__UNSUPPORTED__searchDefaultText,text:this.state.searchString,containerStyle:{margin:I.SmallSpace,marginBottom:I.DefaultSpace},shouldSelectTextOnFocus:!1,inputRef:this.setSearchDomNode})},t.prototype.render=function(){var e=o.__assign({},v(),this.props.menuStyle);return i.createElement(c.Overlay,{anchorEl:this.props.anchorEl,stackingRootId:this.props.stackingRootId,anchorOrigin:this.props.anchorOrigin||y,stackedOrigin:this.props.stackedOrigin,allowAutoPosition:this.props.allowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,handleScrollOnScrollingRoot:this.props.handleScrollOnScrollingRoot,scrollingRootId:this.props.scrollingRootId,zIndex:this.props.zIndex,leftFromOverlaidPosition:this.props.leftFromOverlaidPosition,topFromOverlaidPosition:this.props.topFromOverlaidPosition},i.createElement(g.Block,{style:e,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,ref:this.setFlyoutDomNode},s.conditional(this.props.__UNSUPPORTED__showSearchField,this.renderSearchField()),i.createElement(a.ListMenuWidget,{onMouseEnter:this.props.onMouseEnter,menuItemInfos:this.getFilteredMenuItems(),onSelect:this.props.onSelect,requestCloseAll:this.onRequestClose,id:this.props.id,ref:this.handleListRef,__INTERNAL__isListbox:this.props.__INTERNAL__isListbox,__INTERNAL__focusIndex:this.props.__INTERNAL__focusIndex,maxHeight:this.props.maxHeight,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,testId:this.props.testId,onLeftArrowKeyDown:this.props.onLeftArrowKeyDown,onEscapeKeyUp:this.props.onEscapeKeyUp,subMenuAllowAutoPosition:this.props.allowAutoPosition,scrollingRootId:this.props.scrollingRootId,subMenuShouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,focusDisabled:"search"===this.state.focusLocation,letterSearchDisabled:this.props.__UNSUPPORTED__showSearchField})))},t.defaultProps={shouldReturnFocusToToggleEl:!0},t}(l.DynamicThemeComponent);t.GenericFlyoutListMenuWidget=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(2),s=n(120),a=n(123),l=n(124),d=n(64),c=n(18);t.SINGLE_HANDLE_SINGLE_VALUE="SINGLE_HANDLE_SINGLE_VALUE",t.SINGLE_HANDLE_RANGE_TO_MIN="SINGLE_HANDLE_RANGE_TO_MIN",t.SINGLE_HANDLE_RANGE_TO_MAX="SINGLE_HANDLE_RANGE_TO_MAX",t.TWO_HANDLES_RANGE_BETWEEN="TWO_HANDLES_RANGE_BETWEEN";var u=function(e){function n(n){var o=e.call(this,n)||this;return o.hasSingleValue=function(e){return"number"==typeof o.props.value},o.determineTickCount=function(){return o.props.continuous?0:Math.floor(o.props.max)-Math.ceil(o.props.min)+1},o.determineTrackIndicatorAndDataBarPositions=function(e,n){switch(o.props.handleCountAndRangeType||t.SINGLE_HANDLE_SINGLE_VALUE){case t.SINGLE_HANDLE_RANGE_TO_MIN:return{indicatorBarPosition:{start:0,end:e}};case t.SINGLE_HANDLE_RANGE_TO_MAX:return{indicatorBarPosition:{start:e,end:1}};case t.TWO_HANDLES_RANGE_BETWEEN:var i=void 0;if(o.props.trackDataBarRange){var r=o.sliderValueLogic.calculateSliderPositionAsProportion(o.props.trackDataBarRange.from),s=o.sliderValueLogic.calculateSliderPositionAsProportion(o.props.trackDataBarRange.to);i={start:Math.max(e,r),end:Math.min(n,s)}}return{indicatorBarPosition:{start:e,end:n},dataBarPosition:i};default:return{}}},o.fireOnChangeForSingleValue=function(e,t){o.props.onChange&&(o.hasSingleValue(o.props.value)?t!==o.props.value&&o.props.onChange(t):e===s.FIRST_HANDLE&&t!==o.props.value.from?o.props.onChange({from:Math.min(t,o.props.value.to),to:o.props.value.to}):e===s.SECOND_HANDLE&&t!==o.props.value.to&&o.props.onChange({from:o.props.value.from,to:Math.max(t,o.props.value.from)}))},o.fireOnChangeForTwoValues=function(e,t){!o.props.onChange||o.hasSingleValue(o.props.value)||e>t||o.props.onChange({from:e,to:t})},o.onHandleDragStart=function(e,t){o.setState({areHandlesBeingDragged:!0});var n=o.sliderValueLogic.calculateNewSliderValueFromProportion(t);o.fireOnChangeForSingleValue(e,n)},o.onHandleDragMove=function(e,t){var n=o.sliderValueLogic.calculateNewSliderValueFromProportion(t);o.fireOnChangeForSingleValue(e,n)},o.onHandleDragEnd=function(){o.setState({areHandlesBeingDragged:!1})},o.onBothHandleDragStart=function(){o.setState({areHandlesBeingDragged:!0})},o.onBothHandleDragMove=function(e,t){var n=o.sliderValueLogic.calculateNewSliderValueFromProportion(e),i=o.sliderValueLogic.calculateNewSliderValueFromProportion(t);o.fireOnChangeForTwoValues(n,i)},o.onBothHandleDragEnd=function(){o.setState({areHandlesBeingDragged:!1})},o.onHandleKeyDown=function(e,t){var n;n=o.hasSingleValue(o.props.value)?o.props.value:e===s.FIRST_HANDLE?o.props.value.from:o.props.value.to;var i=o.sliderValueLogic.calculateNewSliderValueForKey(t,n);void 0!==i&&o.fireOnChangeForSingleValue(e,i)},o.state={areHandlesBeingDragged:!1},o.sliderValueLogic=new d.SliderValueLogic(n.min,n.max,!n.continuous),o}return o.__extends(n,e),n.prototype.componentWillReceiveProps=function(e){this.props.continuous===e.continuous&&this.props.min===e.min&&this.props.max===e.max||(this.sliderValueLogic=new d.SliderValueLogic(e.min,e.max,!e.continuous))},n.prototype.render=function(){var e=this.props.handleCountAndRangeType===t.TWO_HANDLES_RANGE_BETWEEN,n=this.hasSingleValue(this.props.value);if(e&&n||!e&&!n)return null;var d=r.testId(this.props.testId,"Slider"),u=c.getSliderStyles(),p=void 0,h=void 0;this.hasSingleValue(this.props.value)?p=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value):(p=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.from),h=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.to));var g=this.determineTickCount(),y=this.determineTrackIndicatorAndDataBarPositions(p,h),I=y.indicatorBarPosition,m=y.dataBarPosition;return i.createElement("div",{style:o.__assign({},u.OuterContainer,this.props.style||{}),"data-tb-test-id":d},i.createElement("div",{style:u.TrackAndHandleContainer},g>1&&i.createElement(a.SliderTickBarWidget,{testId:this.props.testId,tickCount:g}),i.createElement(l.SliderTrackWidget,{rangeIndicatorBarPosition:I,dataBarPosition:m,handleIsBeingDragged:this.state.areHandlesBeingDragged,testId:this.props.testId}),i.createElement(s.SliderHandleContainer,{onHandleDragStart:this.onHandleDragStart,onHandleDragMove:this.onHandleDragMove,onHandleDragEnd:this.onHandleDragEnd,onHandleKeyDown:this.onHandleKeyDown,onBothHandleDragStart:this.onBothHandleDragStart,onBothHandleDragMove:this.onBothHandleDragMove,onBothHandleDragEnd:this.onBothHandleDragEnd,handles:{firstHandlePosition:p,secondHandlePosition:h},disabled:this.props.disabled,testId:this.props.testId})))},n}(i.Component);t.SliderWidget=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.setDefaultRootContainerId=function(t){e.defaultStackingRootId=t},e.getDefaultRootContainer=function(){var t=e.defaultStackingRootId?document.getElementById(e.defaultStackingRootId):document.body;if(!t)throw Error("Could not find stacking root.");return t},e}();t.StackingRootConfig=o},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.idCounter=1,this.classNameLookup={},this.rawSelectorLookup={},"undefined"!=typeof document&&this.initializeStyleSheet(e)}return e.prototype.addRawSelector=function(e,t){var n=this.toRuleBody(t);if(e in this.rawSelectorLookup)throw new Error(e+" has already been defined.");this.rawSelectorLookup[e]=!0,this.addRule(e+" {"+n+"}")},e.prototype.addClass=function(e,t){var n=this.toRuleBody(e),o=this.classNameLookup[n];if(o){if(t&&t!==o)throw new Error("Attempting to define css rule using class name '"+t+"', but a class with the given\n           rule body already exists under class name '"+o+"'. Rule body: "+n+".");return o}return t||(t="shared-widgets_"+this.idCounter++),this.classNameLookup[n]=t,this.addRule("."+t+" {"+n+"}"),t},e.prototype.addAnimation=function(e,t){var n=e.options,o=JSON.stringify(e),i=this.classNameLookup[o];if(i){if(t&&t!==i)throw new Error("Attempting to define css animation using class name '"+t+"', but a css rule with that\n           definition already exists under class name '"+i+"'. Definition: "+e);return i}var r=this.addKeyframes(e.keyframes),s=this.addClass({"animation-duration":n.durationMs/1e3+"s","animation-timing-function":n.timingFunction,"animation-iteration-count":""+(n.count===1/0?"infinite":n.count),"animation-direction":n.direction,"animation-name":r},t);return this.classNameLookup[o]=s,s},e.prototype.dispose=function(){var e=this.styleSheet.ownerNode;e.parentElement.removeChild(e)},e.prototype.addKeyframes=function(e){var t=this,n=e.fromCSSLines,o=e.toCSSLines,i=e.tweenFrames,r="shared-widgets_"+this.idCounter++,s=[{percent:0,cssLines:n},{percent:100,cssLines:o}].concat(i),a=s.map(function(e){return e?e.percent+"% { "+t.toRuleBody(e.cssLines)+" }":""});return this.addRule("@keyframes "+r+" { "+a.join(" ")+"}"),r},e.prototype.toRuleBody=function(e){return Object.keys(e).map(function(t){if(t.toLowerCase()!==t)throw new Error("The CSS prop '"+t+"' should be written kebab-case, not camelCase");return t+": "+e[t]+";"}).join("")},e.prototype.addRule=function(e){try{this.styleSheet.insertRule(e,this.styleSheet.cssRules.length)}catch(t){throw new Error(t+". Stylesheet injection of "+e+" failed.  This browser may not support the given CSS rule or selector")}},e.prototype.initializeStyleSheet=function(e){var t="tableau-widgets-appendedCustomStyle-"+e,n=document.createElement("style");n.setAttribute("type","text/css"),n.id=t,n.appendChild(document.createTextNode("")),document.head.appendChild(n),this.styleSheet=document.getElementById(t).sheet},e}();t.StyleSheet=o;var i=new o("singleton");t.SingletonStyleSheet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={NonBreakingSpace:" "};t.Unicode=o},function(e,t,n){"use strict";function o(e){return"number"==typeof e.clientX}function i(e){return!!e.touches}function r(e){if(o(e))return{x:e.clientX,y:e.clientY};if(i(e))return{x:e.touches[0].clientX,y:e.touches[0].clientY};throw Error("Could not identify event as either MouseEvent or TouchEvent")}Object.defineProperty(t,"__esModule",{value:!0}),t.isMouseEvent=o,t.isTouchEvent=i,t.getClientPosition=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),s=n(45),a=n(23),l=n(5),d=n(2);!function(e){e[e.Attention=0]="Attention",e[e.Grey=1]="Grey",e[e.Go=2]="Go",e[e.Outline=3]="Outline",e[e.LightOutline=4]="LightOutline",e[e.OutlineGo=5]="OutlineGo",e[e.OutlineAttention=6]="OutlineAttention",e[e.Text=7]="Text",e[e.DarkText=8]="DarkText",e[e.DarkBoldText=9]="DarkBoldText"}(o||(o={})),t.ButtonType=o;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=s.getButtonStyle(this.props.buttonType),t={disabled:this.props.disabled,handleClick:this.props.handleClick,interactiveStyle:e.interactive,label:this.props.label,style:i.__assign({},e.base,this.props.style),testId:d.testId(this.props.testId,"Button"),title:this.props.title};return r.createElement(a.ButtonBase,t,this.props.children)},t}(l.DynamicThemeComponent);t.ButtonWidget=c},function(e,t,n){"use strict";function o(e){throw new Error("Unexpected object: "+e)}function i(e){return"Left"===e||"Right"===e}function r(e){return!i(e)}function s(e){switch(e){case"Top":return"Right";case"Right":return"Bottom";case"Bottom":return"Left";case"Left":return"Top";default:return o(e)}}function a(e){switch(e){case"Top":return"Left";case"Left":return"Bottom";case"Bottom":return"Right";case"Right":return"Top";default:return o(e)}}function l(e,t){var n=d(e),o=d(t);return n.containsRectangle(o)}function d(e){var t=e.left,n=e.right,o=e.top,i=e.bottom;return new y(t,n,o,i)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(1);t.assertNever=o,t.NumberOfSides=4,t.isHorizontalSide=i,t.isVerticalSide=r,t.getNextSideClockwise=s,t.getNextSideCounterClockwise=a;var u=function(){function e(e,t){if(this.min=e,this.max=t,t<e)throw new Error("max less than min")}return e.prototype.equals=function(e){return this.containsInterval(e)&&e.containsInterval(this)},e}();t.Interval=u;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.__extends(t,e),t.prototype.containsNumber=function(e){return this.min<=e&&e<=this.max},t.prototype.containsInterval=function(e){return this.min<=e.min&&e.max<=this.max},t}(u);t.ClosedInterval=p;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.__extends(t,e),t.prototype.containsNumber=function(e){return this.min<e&&e<this.max},t.prototype.containsInterval=function(e){var t=e.containsNumber(e.min)?this.min<e.min:this.min<=e.min,n=e.containsNumber(e.max)?e.max<this.max:e.max<=this.max;return t&&n},t}(u);t.OpenInterval=h;var g=function(){function e(){}return e.prototype.containsPoint=function(e,t){return this.xInterval.containsNumber(e)&&this.yInterval.containsNumber(t)},e.prototype.containsRectangle=function(e){return this.xInterval.containsInterval(e.xInterval)&&this.yInterval.containsInterval(e.yInterval)},e.prototype.equals=function(e){return this.containsRectangle(e)&&e.containsRectangle(this)},e}();t.Rectangle=g;var y=function(e){function t(t,n,o,i){var r=e.call(this)||this;return r.xInterval=new p(t,n),r.yInterval=new p(o,i),r}return c.__extends(t,e),t}(g);t.ClosedRectangle=y,t.containsClientRect=l},function(e,t,n){"use strict";function o(e){return{container:{},button:{base:l.__assign({borderWidth:S.BorderWidth,borderRadius:S.BorderRadius,borderColor:e.primaryLineColors.normal,borderStyle:"solid",backgroundColor:D.Transparent,height:S.RowHeight,paddingLeft:T.DefaultSpace,paddingRight:T.LargeSpace+T.DefaultSpace,outline:"none",fontSize:x.Sizing.Default,fontFamily:x.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,cursor:"default"},y.TextEllipsis,I.PreventUserSelect),interactive:{hover:{borderColor:e.primaryLineColors.hover},active:{borderColor:e.primaryLineColors.active},focus:{borderColor:e.primaryLineColors.focus},disabled:{borderColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{lineHeight:e.innerRowHeight+"px"},iconContainer:{position:"absolute",right:0,height:e.innerRowHeight,borderWidth:S.BorderWidth,borderColor:e.secondaryLineColors.normal,borderStyle:"none none none solid"},icon:{marginTop:(e.innerRowHeight-v.OutlineDropdownArrowIcon.height)/2}}}function i(e){return{container:{},button:{base:l.__assign({borderTop:"none",borderRight:"none",borderLeft:"none",borderBottomWidth:S.BorderWidth,borderBottomColor:e.primaryLineColors.normal,borderBottomStyle:"solid",backgroundColor:D.Transparent,height:S.RowHeight,paddingRight:T.LargeSpace+T.DefaultSpace,outline:"none",fontSize:x.Sizing.Default,fontFamily:x.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,cursor:"default"},y.TextEllipsis,I.PreventUserSelect),interactive:{hover:{borderBottomColor:e.primaryLineColors.hover},active:{borderBottomColor:e.primaryLineColors.active},focus:{borderBottomColor:e.primaryLineColors.focus},disabled:{borderBottomColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{top:S.BorderWidth,lineHeight:e.innerRowHeight+"px"},iconContainer:{position:"absolute",right:-4,border:"none"},icon:{marginTop:(e.innerRowHeight-v.LineAndTextDropdownArrowIcon.height)/2},label:{display:"block",boxSizing:"border-box",position:"relative",fontSize:x.Sizing.Tiny,fontFamily:x.FontFamily,fontWeight:"normal",color:e.secondaryTextColors.normal,lineHeight:"19px"}}}function r(e){return{container:{display:"inline-block",width:"auto"},button:{base:l.__assign({border:"none",backgroundColor:D.Transparent,height:S.RowHeight,outline:"none",fontSize:x.Sizing.Default,fontFamily:x.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,cursor:"default",lineHeight:S.RowHeight+"px",display:"inline-block",paddingRight:v.LineAndTextDropdownArrowIcon.width},I.PreventUserSelect),interactive:{active:{color:e.primaryTextColors.active},disabled:{color:e.primaryTextColors.disabled}}},value:{lineHeight:"inherit"},iconContainer:{position:"absolute"},icon:{marginTop:(S.RowHeight-v.LineAndTextDropdownArrowIcon.height)/2}}}function s(e,t){var n=N();switch(e){case a.Outline:return t?n.OutlineDropdownDarkBackgroundStyle:n.OutlineDropdownStyle;case a.Line:return t?n.LineDropdownDarkBackgroundStyle:n.LineDropdownStyle;case a.Text:return t?n.TextDropdownDarkBackgroundStyle:n.TextDropdownStyle;default:throw new Error("DropdownWidget attempted to render invalid DropdownType: "+e)}}Object.defineProperty(t,"__esModule",{value:!0});var a,l=n(1),d=n(0),c=n(0),u=n(7),p=n(2),h=n(52),g=n(2),y=n(16),I=n(11),m=n(3),b=n(6),f=n(4),v=n(8),M=n(27),C=n(10),L=n(5),w=n(9),S=m.TabStyles.Sizing,D=m.TabStyles.Colors,T=m.TabStyles.Spacing,x=m.TabStyles.Typography;!function(e){e[e.Outline=0]="Outline",e[e.Line=1]="Line",e[e.Text=2]="Text"}(a||(a={})),t.DropdownType=a;var N=function(){var e=S.RowHeight-2*S.BorderWidth,t={normal:D.L6,hover:D.L8,active:D.L9,focus:D.L8,disabled:D.L9Disabled},n={normal:D.L3,hover:D.L3,active:D.L3,focus:D.L3,disabled:D.L3},s={normal:x.Color.Primary,disabled:x.Color.Disabled,active:D.Black},a={normal:x.Color.Secondary,disabled:x.Color.Disabled,active:D.Black},l={normal:D.WhiteTransparentLine,hover:D.WhiteTransparentLineHover,active:D.White,focus:D.WhiteTransparentLineHover,disabled:D.WhiteDisabled},d={normal:D.WhiteTransparentLine,hover:D.WhiteTransparentLine,active:D.WhiteTransparentLine,focus:D.WhiteTransparentLine,disabled:D.WhiteTransparentLine},c={normal:x.Color.InvertedPrimary,disabled:x.Color.InvertedDisabled,active:D.White},u={normal:x.Color.InvertedSecondary,disabled:x.Color.InvertedDisabled,active:D.White},p={innerRowHeight:e,primaryLineColors:t,secondaryLineColors:n,primaryTextColors:s,secondaryTextColors:a},h={innerRowHeight:e,primaryLineColors:l,secondaryLineColors:d,primaryTextColors:c,secondaryTextColors:u};return{OutlineDropdownStyle:o(p),OutlineDropdownDarkBackgroundStyle:o(h),LineDropdownStyle:i(p),LineDropdownDarkBackgroundStyle:i(h),TextDropdownStyle:r(p),TextDropdownDarkBackgroundStyle:r(h)}};t.getDropdownStylesByType=s;var B=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l.__extends(t,e),t.prototype.componentDidUpdate=function(){this.props.dropdownOpen&&this.state.active&&this.setState({active:!1})},t.prototype.getDropdownIconSet=function(){switch(this.props.dropdownType){default:case a.Outline:return this.props.onDarkBackground?v.OutlineDropdownArrowDarkBackgroundIcon:v.OutlineDropdownArrowIcon;case a.Line:case a.Text:return this.props.onDarkBackground?v.LineAndTextDropdownArrowDarkBackgroundIcon:v.LineAndTextDropdownArrowIcon}},t.prototype.getDropdownIcon=function(){var e=this.getDropdownIconSet();return this.props.disabled?e.disabled:this.state.active||this.props.dropdownOpen||this.props.dropdownType===a.Text&&this.state.hover?e.active:e.enabled},t.prototype.render=function(){var e=s(this.props.dropdownType,this.props.onDarkBackground),t=l.__assign({},e.button.base,g.conditional(this.props.dropdownOpen,e.button.interactive.active)),n={disabled:this.props.disabled,style:t,onKeyDown:this.props.onKeyDown,tabIndex:this.props.disabled?-1:0,role:"combobox","aria-owns":this.props.dropdownId,"aria-haspopup":"listbox","aria-expanded":this.props.dropdownOpen,"aria-labelledby":this.props.labelledById,"data-tb-test-id":this.props.testId,title:this.props.title},o={style:e.value,title:g.conditional("string"==typeof this.props.children,this.props.children)};return c.createElement(f.Block,n,c.createElement("span",o,this.props.children),c.createElement(f.InlineBlock,{style:e.iconContainer},c.createElement(f.Img,{style:e.icon,src:this.getDropdownIcon()})))},t=l.__decorate([b.InteractiveDomHoCDecorator],t)}(d.Component);t.DropdownButtonWidget=B;var E=function(e){function t(t){var n=e.call(this,t)||this;if(n.labelId=w.generateId(),n.dropdownId=w.generateId(),n.toggleMenu=function(){n.props.disabled||n.setState(function(e,t){var n=!e.isOpen;return n?t.onOpen&&t.onOpen():t.onClose&&t.onClose(),{isOpen:n}})},n.handleSelect=function(e){n.props.onSelect(e,n.state.isOpen),n.onRequestClose()},n.handleKeyDown=function(e){if(!n.state.isOpen){var t=n.getIndexOfSelectedItem();if(g.isAlphabeticChar(e.key)){var o=h.findIndex(n.enabledItems,function(t){return!!t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.key.toUpperCase()},t+1,n);o>-1&&n.props.onSelect(n.enabledItems[o].value,n.state.isOpen)}else{var i=null;switch(e.key){case" ":case"Enter":n.toggleMenu();break;case"ArrowUp":i=t>0?n.enabledItems[t-1].value:n.enabledItems[n.enabledItems.length-1].value;break;case"ArrowDown":i=t<n.enabledItems.length-1?n.enabledItems[t+1].value:n.enabledItems[0].value;break;case"Home":i=n.enabledItems[0].value;break;case"End":i=n.enabledItems[n.enabledItems.length-1].value;break;default:return}i&&n.props.onSelect(i,n.state.isOpen),e.preventDefault(),e.stopPropagation()}}},n.onRequestClose=function(){n.toggleMenu()},n.setButtonElement=function(e){n.buttonEl=u.findDOMNode(e)},t.menuItemInfos.filter(function(e){return!!e.menuItemInfos}).length>0)throw Error("Dropdowns may not contain submenus");return n.setEnabledItems(n.props),n.state={isOpen:!1},n}return l.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.setEnabledItems(e)},t.prototype.getMenuWidth=function(){var e=void 0;if(this.props.flyoutStyle){var t=this.props.flyoutStyle.width;if("auto"===t)return t;e=parseInt(t,10)}else this.props.containerStyle&&(e=parseInt(this.props.containerStyle.width,10));if(this.buttonEl){var n=this.buttonEl.getBoundingClientRect().width;e=Math.max(n,e||0)}return e},t.prototype.getIndexOfSelectedItem=function(){var e=this;return h.findIndex(this.enabledItems,function(t){return t.value===e.props.selectedValue},0,this)},t.prototype.setEnabledItems=function(e){e.menuItemInfos?this.enabledItems=e.menuItemInfos.filter(function(e){return!e.isDivider&&!e.disabled&&!e.isUnselectable}):this.enabledItems=[]},t.prototype.getButtonDisplayValue=function(){var e=this.getIndexOfSelectedItem();return e>-1?this.enabledItems[e].textForDropdownButton||"":this.props.placeholder||""},t.prototype.render=function(){var e=this,t=s(this.props.dropdownType,this.props.onDarkBackground),n=this.props.dropdownType===a.Line&&!!this.props.label,o=l.__assign({},this.props.containerStyle,t.container),i=this.getMenuWidth(),r=l.__assign({},this.props.flyoutStyle,{width:i}),d=this.state.isOpen&&this.props.selectedValue?h.findIndex(this.props.menuItemInfos,function(t){return t.value===e.props.selectedValue}):0;return c.createElement(f.Block,{style:o,"data-tb-test-id":p.testId(this.props.testId,"Dropdown")},g.conditional(n,c.createElement("label",{style:t.label,id:this.labelId},this.props.label)),c.createElement(f.Block,{},c.createElement(B,{disabled:this.props.disabled,dropdownId:this.dropdownId,dropdownOpen:this.state.isOpen,dropdownType:this.props.dropdownType,onDarkBackground:this.props.onDarkBackground,interactiveStyles:t.button.interactive,onKeyDown:this.handleKeyDown,pointerClick:this.toggleMenu,labelledById:g.conditional(n,this.labelId),ref:this.setButtonElement,testId:p.testId(this.props.testId,"DropdownButton"),title:this.props.title},this.getButtonDisplayValue())),g.conditional(this.state.isOpen,c.createElement(M.GenericFlyoutListMenuWidget,{toggleEl:this.buttonEl,anchorEl:this.buttonEl,stackingRootId:this.props.stackingRootId,shouldReturnFocusToToggleEl:this.props.shouldReturnFocusOnClose,anchorOrigin:{vertical:C.VerticalOriginOption.bottom,horizontal:C.HorizontalOriginOption.left},allowAutoPosition:!0,scrollingRootId:this.props.scrollingRootId,handleScrollOnScrollingRoot:this.toggleMenu,onSelect:this.handleSelect,id:this.dropdownId,__INTERNAL__focusIndex:d,__INTERNAL__isListbox:!0,maxHeight:this.props.maxHeight,menuStyle:r,menuItemInfos:this.props.menuItemInfos,requestCloseAll:this.onRequestClose,zIndex:this.props.zIndex,testId:this.props.testId,__UNSUPPORTED__showSearchField:this.props.__UNSUPPORTED__showSearchField,__UNSUPPORTED__searchDefaultText:this.props.__UNSUPPORTED__searchDefaultText})))},t.defaultProps={shouldReturnFocusOnClose:!0},t}(L.DynamicThemeComponent);t.GenericDropdownWidget=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(4),s=n(2),a=n(0),l=n(6),d=n(3),c={border:"1px solid white"},u=function(e){return{base:{width:e.size,height:e.size,backgroundColor:e.color.toLowerCase(),boxSizing:"border-box"},interactive:{hover:o.__assign({},c,{cursor:e.disabled?"normal":"pointer"}),active:c}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.handleHover=function(e){n.setState({hover:e})},n.handleActive=function(e){n.setState({active:e})},n.handleClick=function(){n.props.disabled||n.props.handleClick(n.props.color.toLowerCase())},n.state={hover:!1,active:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e=u(this.props),t={interactiveStyles:e.interactive,handleHover:this.handleHover,handleActive:this.handleActive,pointerClick:this.handleClick,disabled:this.props.disabled};return a.createElement(l.InteractiveDomWrapper,t,a.createElement("div",{style:o.__assign({},e.base,s.conditional(this.props.selected,c)),"aria-selected":this.props.selected,"data-tb-test-id":s.testId(this.props.testId,"ColorSwatch",this.props.color.toLowerCase())},s.conditional(!this.props.disabled,a.createElement("div",{style:this.getInnerBorderStyle()}))))},t.prototype.getInnerBorderStyle=function(){return{borderWidth:1,borderStyle:"solid",borderColor:(this.props.selected||this.state.hover||this.state.active)&&d.TabStyles.Colors?d.TabStyles.Colors.F9:"transparent",width:"100%",height:"100%",boxSizing:"border-box"}},t}(i.Component);t.ColorSwatchWidget=p;var h;!function(e){e[e.Dark=0]="Dark",e[e.Light=1]="Light"}(h||(h={})),t.ColorGridPreset=h;var g=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSwatchClicked=function(e){n.props.disabled||n.props.handleSwatchClicked(e.toLowerCase())},n.preset=n.props.colorsPreset||h.Dark,n}return o.__extends(t,e),t.prototype.render=function(){return this.props.colorsPreset&&this.props.colorsPreset!==this.preset&&(this.preset=this.props.colorsPreset),a.createElement(r.Block,{"data-tb-test-id":s.testId(this.props.testId,"ColorGrid"),tabIndex:0},a.createElement(l.InteractiveDomWrapper,{interactiveStyles:{focus:{outline:"none"}}},this.buildColorSwatchGrid()))},t.prototype.getColorPreset=function(){return this.preset===h.Light?d.TabStyles.ColorPickerPresets.Light:d.TabStyles.ColorPickerPresets.Dark},t.prototype.buildColorSwatchGrid=function(){for(var e=[],n=this.getColorPreset(),o=[],i=[],r=0,s=0;s<n.length;s++){var l=n[s].toLowerCase(),c={color:l,handleClick:this.handleSwatchClicked,key:"swatch-"+l,size:15,selected:this.props.selectedColor===l,disabled:this.props.disabled,testId:this.props.testId};i.push(a.createElement(p,c)),r+=1;var u=1===r&&e.length<2||3===r&&e.length>=2;(r===t.colorsPerColumn||u)&&(o.push(a.createElement("div",{style:{border:"1px solid "+d.TabStyles.Colors.L6},key:"group-"+s},i)),u&&o.push(a.createElement("div",{style:{width:15,height:t.dividerHeightPx},key:"divider-"+s})),r===t.colorsPerColumn&&(e.push(a.createElement("div",{key:"column-"+s,style:{float:"left",marginTop:0,marginRight:0,marginBottom:0,marginLeft:e.length?t.groupSpacingPx:0}},o)),o=[],r=0),i=[])}return a.createElement("div",{style:{display:"flex"},tabIndex:0},e)},t.colorsPerColumn=6,t.groupSpacingPx=4,t.dividerHeightPx=5,t}(i.Component);t.ColorGridWidget=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(39);t.setConfig=o.setConfig;var i=n(3);t.TabStyles=i.TabStyles;var r=n(42);t.assign=r.assign;var s=n(2);t.conditional=s.conditional,t.testId=s.testId,t.isAlphabeticChar=s.isAlphabeticChar;var a=n(9);t.detectScrollbarWidth=a.detectScrollbarWidth,t.timeoutFocus=a.timeoutFocus;var l=n(6);t.InteractiveDomHoC=l.InteractiveDomHoC,t.InteractiveDomHoCDecorator=l.InteractiveDomHoCDecorator,t.InteractiveDomWrapper=l.InteractiveDomWrapper;var d=n(10);t.VerticalOriginOption=d.VerticalOriginOption,t.HorizontalOriginOption=d.HorizontalOriginOption,t.Overlay=d.Overlay;var c=n(43);t.PointerEventAdapterManager=c.PointerEventAdapterManager;var u=n(20);t.PointerEventWrapper=u.PointerEventWrapper,t.PointerEventHoC=u.PointerEventHoC,t.PointerEventHoCDecorator=u.PointerEventHoCDecorator;var p=n(21);t.mergeEventHandlers=p.mergeEventHandlers,t.convertToStatefulComponentClass=p.convertToStatefulComponentClass,t.getComponentName=p.getComponentName;var h=n(13);t.StackingComponentHOC=h.StackingComponentHOC,t.StackingComponentWrapper=h.StackingComponentWrapper;var g=n(80);t.HostedStackedElementContainer=g.HostedStackedElementContainer;var y=n(31);t.SingletonStyleSheet=y.SingletonStyleSheet,t.StyleSheet=y.StyleSheet;var I=n(32);t.Unicode=I.Unicode;var m=n(33);t.isMouseEvent=m.isMouseEvent,t.isTouchEvent=m.isTouchEvent,t.getClientPosition=m.getClientPosition;var b=n(34);t.ButtonType=b.ButtonType,t.ButtonWidget=b.ButtonWidget;var f=n(81);t.AutoResetButton=f.AutoResetButton;var v=n(82);t.ChromeTooltipWidget=v.ChromeTooltipWidget;var M=n(48);t.CheckBoxWidget=M.CheckBoxWidget;var C=n(84);t.CheckBoxWithLabelGroupWidget=C.CheckBoxWithLabelGroupWidget;var L=n(49);t.CheckBoxWithLabelWidget=L.CheckBoxWithLabelWidget;var w=n(85);t.DateTimeInputWidget=w.DateTimeInputWidget,t.DateTimeInputType=w.DateTimeInputType;var S=n(26);t.DialogPositioningBehavior=S.DialogPositioningBehavior,t.DialogType=S.DialogType,t.DialogWidget=S.DialogWidget;var D=n(97);t.DialogFooterButtonsWidget=D.DialogFooterButtonsWidget;var T=n(98);t.DiscreteProgressBarWidget_UNFINISHED=T.DiscreteProgressBarWidget_UNFINISHED;var x=n(4);t.Block=x.Block,t.InlineBlock=x.InlineBlock,t.Img=x.Img;var N=n(100);t.DropdownWidget=N.DropdownWidget;var B=n(36);t.DropdownType=B.DropdownType,t.GenericDropdownWidget=B.GenericDropdownWidget;var E=n(5);t.DynamicThemeComponent=E.DynamicThemeComponent;var H=n(103);t.ExpandoDirection=H.ExpandoDirection,t.ExpandoWidget=H.ExpandoWidget;var j=n(104);t.FlyoutListMenuWidget=j.FlyoutListMenuWidget;var k=n(27);t.GenericFlyoutListMenuWidget=k.GenericFlyoutListMenuWidget;var P=n(58);t.IconButtonWidget=P.IconButtonWidget;var A=n(24);t.InputLabelWidget=A.InputLabelWidget;var z=n(105);t.LineTextFieldWidget=z.LineTextFieldWidget;var W=n(57);t.TextMenuDisplayFormatter=W.TextMenuDisplayFormatter;var O=n(15);t.OutlineTextFieldWidget=O.OutlineTextFieldWidget;var R=n(106);t.RadioLayoutType=R.RadioLayoutType,t.RadioButtonWithLabelGroupWidget=R.RadioButtonWithLabelGroupWidget;var _=n(109);t.RichTextEditOutlineWidget_UNFINISHED=_.RichTextEditOutlineWidget_UNFINISHED;var Z=n(59);t.RichTextEditWidget_UNFINISHED=Z.RichTextEditWidget_UNFINISHED;var F=n(55);t.SearchFieldWidget=F.SearchFieldWidget;var G=n(60);t.StepperType=G.StepperType,t.StepperWidget=G.StepperWidget;var U=n(112);t.IntegerStepperWidget=U.IntegerStepperWidget;var V=n(12);t.TextInputType=V.TextInputType,t.TextFieldInputWidget=V.TextFieldInputWidget;var J=n(113);t.ToggleTextWidget=J.ToggleTextWidget,t.SelectedToggle=J.SelectedToggle;var Y=n(37);t.ColorGridWidget=Y.ColorGridWidget,t.ColorGridPreset=Y.ColorGridPreset;var Q=n(115);t.ColorPickerWidget=Q.ColorPickerWidget;var X=n(118);t.ActivitySpinnerWidget=X.ActivitySpinnerWidget;var K=n(119);t.ContinuousSliderWidget=K.ContinuousSliderWidget;var q=n(125);t.DiscreteSliderWidget=q.DiscreteSliderWidget;var $=n(126);t.OpenEndedRangeSliderWidget=$.OpenEndedRangeSliderWidget;var ee=n(127);t.RangeSliderWidget=ee.RangeSliderWidget;var te=n(128);t.BannerType=te.BannerType,t.BannerWidget=te.BannerWidget;var ne=n(130);t.TabsAlignment=ne.TabsAlignment,t.TabsWidget=ne.TabsWidget},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(19),r=n(40),s=n(29),a=n(69),l=n(41),d=function(e){e.styleMediaQueries&&a.StyleMediaQueryManager.setMediaStyleQueries(e.styleMediaQueries)},c=function(e){e.styles&&(o.overrideTabStyles(e.styles),l.WidgetManager.rerenderWidgets())},u=function(e){e.defaultStackingRootId&&s.StackingRootConfig.setDefaultRootContainerId(e.defaultStackingRootId)},p=function(e){e.defaultScrollingRootId&&r.ScrollingRootConfig.setDefaultRootContainerId(e.defaultScrollingRootId)},h=function(e){e.suppressClickBustingClassName&&(i.ClickBustingConfig.suppressionClassName=e.suppressClickBustingClassName)},g=function(e){c(e),u(e),p(e),d(e),h(e)};t.setConfig=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.setDefaultRootContainerId=function(t){e.defaultScrollingRootId=t},e.getDefaultRootContainer=function(){var t=e.defaultScrollingRootId?document.getElementById(e.defaultScrollingRootId):document.body;if(!t)throw Error("Could not find scrolling root with the id scrollingRootId.");return t},e}();t.ScrollingRootConfig=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.registerWidget=function(t){e.widgets.push(t)},e.unregisterWidget=function(t){e.widgets=e.widgets.filter(function(e){return e!==t})},e.rerenderWidgets=function(){for(var t=0;t<e.widgets.length;t++)e.widgets[t].forceUpdate()},e.widgets=[],e}();t.WidgetManager=o},function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("assign cannot be called with null or undefined");return Object(e)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.unshift({}),a.apply(null,e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=Object.assign||function(e,t){for(var n,i,a=o(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var d in n)r.call(n,d)&&(a[d]=n[d]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var c=0;c<i.length;c++)s.call(n,i[c])&&(a[i[c]]=n[i[c]])}}return a};t.assign=a,t.shallowMerge=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.getHtmlAttributes=function(e){return{onDoubleClick:e.pointerDoubleClick?function(t){e.disabled||e.pointerDoubleClick(t)}:void 0,onMouseDown:e.pointerDown?function(t){e.disabled||e.pointerDown(t)}:void 0,onMouseUp:e.pointerUp?function(t){e.disabled||e.pointerUp(t)}:void 0,onClick:e.pointerClick?function(t){e.disabled||e.pointerClick(t)}:void 0}},e}(),i=function(){function e(){}return e.adapterFactory=function(){return new o},e}();t.PointerEventAdapterManager=i},function(e,t,n){function o(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError(s);return r(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),i(e,t,{leading:o,maxWait:t,trailing:a})}var i=n(71),r=n(30),s="Expected a function";e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(34),r=n(11),s=n(3),a=s.TabStyles.Colors,l=s.TabStyles.Sizing,d=s.TabStyles.Typography,c=function(){return l.RowHeight},u=function(){return{backgroundColor:a.F7Disabled,borderColor:a.Transparent,color:d.Color.Disabled}},p=function(){return o.__assign({fontSize:d.Sizing.Default,fontFamily:d.FontFamily,fontWeight:"normal",color:d.Color.Primary,cursor:"default",display:"inline-block",paddingLeft:c(),paddingRight:c(),paddingTop:0,paddingBottom:0,position:"relative",textAlign:"center",borderStyle:"solid",borderWidth:l.BorderWidth,borderRadius:l.BorderRadius,height:l.RowHeight,lineHeight:l.RowHeight-2*l.BorderWidth+"px",minWidth:l.ButtonMinWidth,boxSizing:"border-box",outline:"none",whiteSpace:"nowrap"},r.PreventUserSelect)},h=function(){return{base:o.__assign({},p(),{backgroundColor:a.AttentionLight,borderColor:a.AttentionLight,color:d.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:a.AttentionLight,borderColor:a.L8,color:d.Color.InvertedPrimary},focus:{backgroundColor:a.AttentionLight,borderColor:a.L8,color:d.Color.InvertedPrimary},active:{backgroundColor:a.AttentionDark,borderColor:a.AttentionDark,color:d.Color.InvertedPrimary},disabled:u()}}},g=function(){return{base:o.__assign({},p(),{backgroundColor:a.F5,borderColor:a.L5,color:d.Color.Primary}),interactive:{hover:{backgroundColor:a.F5,borderColor:a.L8,color:d.Color.Primary},focus:{backgroundColor:a.F5,borderColor:a.L8,color:d.Color.Primary},active:{backgroundColor:a.F8,borderColor:a.L8,color:d.Color.InvertedPrimary},disabled:u()}}},y=function(){return{base:o.__assign({},p(),{backgroundColor:a.GoLight,borderColor:a.GoLight,color:d.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:a.GoLight,borderColor:a.L8,color:d.Color.InvertedPrimary},focus:{backgroundColor:a.GoLight,borderColor:a.L8,color:d.Color.InvertedPrimary},active:{backgroundColor:a.GoDark,borderColor:a.GoDark,color:d.Color.InvertedPrimary},disabled:u()}}},I=function(){return{base:o.__assign({},p(),{backgroundColor:a.White,borderColor:a.L6,color:d.Color.PrimaryMedium}),interactive:{hover:{backgroundColor:a.White,borderColor:a.L8,color:d.Color.Primary},focus:{backgroundColor:a.White,borderColor:a.L8,color:d.Color.PrimaryMedium},active:{backgroundColor:a.F2,borderColor:a.L9,color:d.Color.Primary},disabled:o.__assign({},u(),{backgroundColor:a.White,borderColor:a.L9Disabled,color:d.Color.Disabled})}}},m=function(){return{base:o.__assign({},p(),{backgroundColor:a.Transparent,borderColor:a.L6,color:d.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:a.Transparent,borderColor:a.White,color:d.Color.InvertedPrimary},focus:{backgroundColor:a.Transparent,borderColor:a.White,color:d.Color.InvertedPrimary},active:{backgroundColor:a.WhiteTransparent,borderColor:a.White,color:d.Color.InvertedPrimary},disabled:o.__assign({},u(),{borderColor:a.WhiteDisabled,backgroundColor:a.Transparent,color:d.Color.InvertedDisabled})}}},b=function(){return{base:o.__assign({},p(),{backgroundColor:a.White,borderColor:a.GoLight,color:d.Color.PrimaryDark,borderWidth:l.ButtonBorderWidth,lineHeight:l.RowHeight-2*l.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:a.White,borderColor:a.GoDark,color:a.Black},focus:{backgroundColor:a.White,borderColor:a.L8,color:a.Black},active:{backgroundColor:a.F2,borderColor:a.GoDark,color:a.Black},disabled:o.__assign({},u(),{backgroundColor:a.White,borderColor:a.GoDarkDisabled,color:d.Color.Disabled})}}},f=function(){return{base:o.__assign({},p(),{backgroundColor:a.White,borderColor:a.AttentionLight,color:d.Color.PrimaryDark,borderWidth:l.ButtonBorderWidth,lineHeight:l.RowHeight-2*l.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:a.White,borderColor:a.AttentionDark,color:a.Black},focus:{backgroundColor:a.White,borderColor:a.L8,color:a.Black},active:{backgroundColor:a.F2,borderColor:a.AttentionDark,color:a.Black},disabled:o.__assign({},u(),{backgroundColor:a.White,borderColor:a.AttentionDarkDisabled,color:d.Color.Disabled})}}},v=function(){return{base:o.__assign({},p(),{fontWeight:"bold",backgroundColor:a.Transparent,borderColor:a.Transparent,color:a.GoLight}),interactive:{hover:{backgroundColor:a.F2,borderColor:a.F2,color:a.GoLight},focus:{backgroundColor:a.F2,borderColor:a.F2,color:a.GoLight},active:{backgroundColor:a.F2,borderColor:a.F2,color:a.GoDark},disabled:o.__assign({},u(),{backgroundColor:a.Transparent,borderColor:a.Transparent,color:a.GoDarkDisabled})}}},M=function(){return{base:o.__assign({},p(),{backgroundColor:a.Transparent,borderColor:a.Transparent,color:d.Color.Primary}),interactive:{hover:{backgroundColor:a.F2,borderColor:a.F2,color:d.Color.Primary},focus:{backgroundColor:a.F2,borderColor:a.F2,color:d.Color.Primary},active:{backgroundColor:a.F2_5,borderColor:a.F2_5,color:a.Black},disabled:o.__assign({},u(),{backgroundColor:a.Transparent,borderColor:a.Transparent,color:d.Color.Disabled})}}},C=function(){return{base:o.__assign({},p(),{fontWeight:"bold",backgroundColor:a.Transparent,borderColor:a.Transparent,color:d.Color.Primary}),interactive:{hover:{backgroundColor:a.F2,borderColor:a.F2,color:d.Color.Primary},focus:{backgroundColor:a.F2,borderColor:a.F2,color:d.Color.Primary},active:{backgroundColor:a.F2_5,borderColor:a.F2_5,color:a.Black},disabled:o.__assign({},u(),{backgroundColor:a.Transparent,borderColor:a.Transparent,color:d.Color.Disabled})}}},L=function(e){var t;switch(e){case i.ButtonType.Attention:t=h();break;case i.ButtonType.Grey:t=g();break;case i.ButtonType.Go:t=y();break;case i.ButtonType.Outline:t=I();break;case i.ButtonType.LightOutline:t=m();break;case i.ButtonType.OutlineGo:t=b();break;case i.ButtonType.OutlineAttention:t=f();break;case i.ButtonType.Text:t=v();break;case i.ButtonType.DarkText:t=M();break;case i.ButtonType.DarkBoldText:t=C();break;default:throw new Error("Attempted to retrieve style for unsupported ButtonType: "+e)}return t};t.getButtonStyle=L},function(e,t,n){"use strict";function o(e){return s.createElement("div",{style:l},s.createElement("div",{style:i(e.width)},e.content))}function i(e){return r.__assign({},d,{width:e})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=n(0),a=n(3);t.Padding=8,t.BorderWidth=a.TabStyles.Sizing.BorderWidth,t.OuterMaxWidth=250,t.OuterMaxHeight=250,t.InnerMaxWidth=t.OuterMaxWidth-2*(t.Padding+t.BorderWidth),t.InnerMaxHeight=t.OuterMaxHeight-2*(t.Padding+t.BorderWidth);var l={flexGrow:0,padding:t.Padding,borderWidth:t.BorderWidth,borderStyle:"solid",borderColor:a.TabStyles.Colors?a.TabStyles.Colors.L5:null,borderRadius:a.TabStyles.Sizing?a.TabStyles.Sizing.BorderRadius:null,boxShadow:"2px 3px 12px 1px rgba(0, 0, 0, 0.22)",backgroundColor:a.TabStyles.Colors?a.TabStyles.Colors.White:null},d={maxWidth:t.InnerMaxWidth,maxHeight:t.InnerMaxHeight,overflowY:"auto"};t.ChromeTooltipBox=o},function(e,t,n){"use strict";function o(e){var t=e.direction,n=e.style,o=s(t).map(function(e){return e.x+","+e.y}).join(" ");return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:n,height:i(t),width:r(t)},a.createElement("polyline",{points:o,fill:u,stroke:c,strokeWidth:p}))}function i(e){return"Left"===e||"Right"===e?t.Height:t.Width}function r(e){return"Left"===e||"Right"===e?t.Width:t.Height}function s(e){switch(e){case"Up":return[{x:0,y:t.Width},{x:t.Height/2,y:0},{x:t.Height,y:t.Width}];case"Down":return[{x:0,y:0},{x:t.Height/2,y:t.Width},{x:t.Height,y:0}];case"Left":return[{x:t.Width,y:0},{x:0,y:t.Height/2},{x:t.Width,y:t.Height}];case"Right":return[{x:0,y:0},{x:t.Width,y:t.Height/2},{x:0,y:t.Height}];default:return d.assertNever(e)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),l=n(3),d=n(35);t.Height=12,t.Width=6;var c=l.TabStyles.Colors.L5,u=l.TabStyles.Colors.White,p=l.TabStyles.Sizing.BorderWidth;t.ChromeTooltipArrow=o},function(e,t,n){"use strict";function o(e,t){return d.encodeSvg(d.CheckBoxIcon.icon(e.disabled,e.checked,e.hover||t.hover,t.focus))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),s=n(2),a=n(4),l=n(6),d=n(8),c=n(5),u=n(3),p=function(){return{baseDiv:{marginLeft:u.TabStyles.Spacing.DefaultSpace-d.CheckBoxIcon.padding,marginRight:u.TabStyles.Spacing.DefaultSpace-d.CheckBoxIcon.padding,verticalAlign:"middle",height:d.CheckBoxIcon.height,width:d.CheckBoxIcon.width,minWidth:d.CheckBoxIcon.width,flexShrink:0},noLeftMargin:{marginLeft:-d.CheckBoxIcon.padding},checkbox:{opacity:0,height:d.CheckBoxIcon.height,width:d.CheckBoxIcon.width,margin:0,cursor:"default",verticalAlign:"top"},fakeCheckBox:{height:d.CheckBoxIcon.height,width:d.CheckBoxIcon.width,position:"absolute",verticalAlign:"top"}}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleFormChange=function(e){t.props.disabled||t.props.handleChange(e.target.checked)},t.handleActive=function(e){t.setState({active:e})},t.handleFocus=function(e){t.setState({focus:!t.state.active&&e})},t.handleHover=function(e){t.setState({hover:e})},t}return i.__extends(t,e),t.prototype.render=function(){var e=o(this.props,this.state),t=p(),n=i.__assign({},t.baseDiv,s.conditional(this.props.removeLeftMargin,t.noLeftMargin));return r.createElement(l.InteractiveDomWrapper,{handleHover:this.handleHover,handleFocus:this.handleFocus,handleActive:this.handleActive},r.createElement(a.InlineBlock,{style:n},r.createElement(a.Img,{style:t.fakeCheckBox,src:e}),r.createElement("input",{style:t.checkbox,type:"checkbox",name:this.props.name,onChange:this.handleFormChange,checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-CheckBox",id:this.props.id})))},t}(c.DynamicThemeComponent);t.CheckBoxWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(48),s=n(4),a=n(19),l=n(5),d=n(6),c=n(24),u=n(3),p=function(){return{label:{display:"flex",alignItems:"flex-start",marginTop:u.TabStyles.Spacing.SmallSpace},text:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",paddingTop:"1px"}}},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=p();return i.createElement(s.Block,{className:a.ClickBustingConfig.suppressionClassName,style:this.props.containerStyle,role:"checkbox","aria-checked":this.props.checked},i.createElement(c.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:e.label},i.createElement(r.CheckBoxWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,removeLeftMargin:this.props.removeLeftMargin,testId:this.props.testId}),i.createElement(s.InlineBlock,{"aria-label":this.props.label,style:e.text},this.props.label)))},t=o.__decorate([d.InteractiveDomHoCDecorator],t)}(l.DynamicThemeComponent);t.CheckBoxWithLabelWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),s=n(12),a=n(86),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wasClearTextFired=!1,t.handleInputRef=function(e){t.props.textFieldInputProps.inputRef&&t.props.textFieldInputProps.inputRef(e),t.inputElement=e},t.handleClearTextWrapper=function(){t.props.textFieldInputProps.disabled||(t.wasClearTextFired=!0,t.props.handleClearText(),t.inputElement.focus(),window.setTimeout(function(){t.resetWasClearTextFired()},50))},t.handleBlur=function(){window.setTimeout(function(){if(t.wasClearTextFired||t.isTextFieldClearButtonActiveElement())return void t.resetWasClearTextFired();t.props.textFieldInputProps.handleBlur&&t.props.textFieldInputProps.handleBlur()},0)},t.handleTextFieldClearButtonRef=function(e){t.textFieldClearButton=e},t}return o.__extends(t,e),t.prototype.isTextFieldClearButtonActiveElement=function(){return!!this.textFieldClearButton&&document.activeElement===r.findDOMNode(this.textFieldClearButton)},t.prototype.resetWasClearTextFired=function(){this.wasClearTextFired=!1},t.prototype.render=function(){var e={inputRef:this.handleInputRef,handleBlur:this.handleBlur},t=o.__assign({},this.props.textFieldInputProps,e),n={ref:this.handleTextFieldClearButtonRef,pointerClick:this.handleClearTextWrapper},r=o.__assign({},this.props.textFieldClearButtonProps,n),l=this.props.textFieldInputProps.text&&!this.props.textFieldInputProps.disabled?i.createElement(a.TextFieldClearButton,o.__assign({},r)):void 0;return i.createElement("span",{style:{lineHeight:"normal",position:"relative"}},i.createElement(s.TextFieldInputWidget,o.__assign({},t)),l)},t}(i.Component);t.TextFieldWithClearIcon=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.listenersAdded=!1,this.elementRef=e,this.onPointerMove=t,this.onPointerUp=n}return e.prototype.addListeners=function(){this.listenersAdded||(window.addEventListener("touchend",this.onPointerUp,!0),window.addEventListener("mouseup",this.onPointerUp,!0),window.addEventListener("touchmove",this.onPointerMove,!0),window.addEventListener("mousemove",this.onPointerMove,!0),this.elementRef.setCapture&&this.elementRef.setCapture(),this.listenersAdded=!0)},e.prototype.removeListeners=function(){this.listenersAdded&&(window.removeEventListener("touchend",this.onPointerUp,!0),window.removeEventListener("mouseup",this.onPointerUp,!0),window.removeEventListener("touchmove",this.onPointerMove,!0),window.removeEventListener("mousemove",this.onPointerMove,!0),this.elementRef.releaseCapture&&this.elementRef.releaseCapture(),this.listenersAdded=!1)},e}();t.GlobalPointerEventCapturer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,n,o){void 0===n&&(n=0);for(var i=n;i<e.length+n;i++){var r=i%e.length;if(t.call(o,e[r],r))return r}return-1};t.findIndex=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(7),r=n(0),s=n(4),a=n(2),l=n(52),d=n(3),c=n(101),u=n(5),p=n(102),h=d.TabStyles.Colors,g=d.TabStyles.Spacing,y=d.TabStyles.Typography,I=function(){return{backgroundColor:h.White,padding:g.DefaultSpace,outline:"none",fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Primary}},m=function(e){return!e.isDivider&&!e.disabled&&!e.isUnselectable},b=function(e){function t(t){var n=e.call(this,t)||this;return n.stopPropagation=function(e){e.stopPropagation()},n.handleKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){if(a.isAlphabeticChar(e.key)&&!n.props.letterSearchDisabled){var t=n.findNextMenuItemStartingWithLetter(e.key);return t>-1&&n.setActiveItemState(function(){return t},!0),e.stopPropagation(),void e.preventDefault()}var o=n.props.menuItemInfos.length;switch(e.key){case"ArrowUp":n.setActiveItemState(function(){return n.findNextEnabledItemIndex(n.state.activeItemIndex,-1)},!0);break;case"ArrowDown":n.setActiveItemState(function(){return n.findNextEnabledItemIndex(n.state.activeItemIndex,1)},!0);break;case"ArrowLeft":n.props.onLeftArrowKeyDown&&n.props.onLeftArrowKeyDown();break;case"Home":n.setActiveItemState(function(){return n.findNextEnabledItemIndex(-1,1)},!0);break;case"End":n.setActiveItemState(function(){return n.findNextEnabledItemIndex(o,-1)},!0);break;case"Space":break;default:return}e.preventDefault(),e.stopPropagation()}},n.handleKeyUp=function(e){switch(e.key){case"Escape":n.props.onEscapeKeyUp?n.props.onEscapeKeyUp():n.props.requestCloseAll();break;default:return}e.preventDefault(),e.stopPropagation()},n.handleItemHover=function(e){var t=n.state.activeItemIndex,o=t===n.displayedSubmenuItemIndex,i=e-t==1;o&&i?(clearTimeout(n.submenuTimeoutId),n.submenuTimeoutId=window.setTimeout(function(){return n.setActiveItemState(function(){return e},!1)},250)):n.setActiveItemState(function(){return e},!1)},n.handleItemSelect=function(e){n.props.onSelect(e)},n.handleSubmenuShown=function(e){n.displayedSubmenuItemIndex=e},n.state={activeItemIndex:n.props.__INTERNAL__focusIndex||0,keyboardFocused:!0},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.domNode=i.findDOMNode(this),this.addStopPropogationListeners()},t.prototype.componentWillReceiveProps=function(e){if(this.props.menuItemInfos!==e.menuItemInfos){var t=void 0;this.state.activeItemIndex>-1&&this.state.activeItemIndex<this.props.menuItemInfos.length&&(t=this.props.menuItemInfos[this.state.activeItemIndex].keyboardAccessibleValue);var n=Math.max(0,l.findIndex(e.menuItemInfos,function(e){return m(e)&&e.keyboardAccessibleValue===t},0,this));this.state.activeItemIndex!==n&&this.setState({activeItemIndex:n})}},t.prototype.componentWillUnmount=function(){this.removeStopPropogationListeners()},t.prototype.selectActive=function(){if(this.state.activeItemIndex<0||this.state.activeItemIndex>=this.props.menuItemInfos.length)return void console.warn("Tried to select a invalid index: "+this.state.activeItemIndex);var e=this.props.menuItemInfos[this.state.activeItemIndex];m(e)&&this.props.onSelect(e.value)},t.prototype.addStopPropogationListeners=function(){this.domNode.addEventListener("scroll",this.stopPropagation),this.domNode.addEventListener("wheel",this.stopPropagation)},t.prototype.removeStopPropogationListeners=function(){this.domNode.removeEventListener("scroll",this.stopPropagation),this.domNode.removeEventListener("wheel",this.stopPropagation)},t.prototype.findNextEnabledItemIndex=function(e,t){for(var n=this.props.menuItemInfos.length,o=e+t;o!==e;o+=t)if(o>=n?o=0:o<0&&(o=n-1),m(this.props.menuItemInfos[o]))return o;return e},t.prototype.findNextMenuItemStartingWithLetter=function(e){return l.findIndex(this.props.menuItemInfos,function(t){return m(t)&&t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.charAt(0).toUpperCase()},this.state.activeItemIndex+1,this)},t.prototype.setActiveItemState=function(e,t){var n=this;clearTimeout(this.submenuTimeoutId),this.setState(function(n,o){return{activeItemIndex:e(),keyboardFocused:t}},function(){n.displayedSubmenuItemIndex=void 0,n.state.keyboardFocused||n.props.letterSearchDisabled||n.domNode.focus()})},t.prototype.anythingChecked=function(){for(var e=0;e<this.props.menuItemInfos.length;e++)if(this.props.menuItemInfos[e].checked)return!0;return!1},t.prototype.buildMenuFromMenuItemInfos=function(){var e,t=this,n=this.anythingChecked();return this.props.menuItemInfos.map(function(o,i){if(o.isDivider)e=r.createElement(p.DividerWidget,{key:i});else{if(!o.value)throw new Error("Each non-divider menu item requires a value");e=r.createElement(c.MenuItemWidget,{value:o.value,key:i,itemIndex:i,isHighlighted:!o.disabled&&!o.isUnselectable&&t.state.activeItemIndex===i,onHover:o.disabled||o.isUnselectable?null:t.handleItemHover,onSelect:t.handleItemSelect,onSubmenuShown:t.handleSubmenuShown,keyboardFocused:t.state.keyboardFocused&&!t.props.focusDisabled,checked:o.checked,anythingChecked:n,role:a.conditional(t.props.__INTERNAL__isListbox,"option"),disabled:o.disabled,isUnselectable:o.isUnselectable,menuItemInfos:o.menuItemInfos,subMenuStyle:o.subMenuStyle,subMenuMaxHeight:o.subMenuMaxHeight,subMenuAllowAutoPosition:t.props.subMenuAllowAutoPosition,subMenuShouldAutoPositionOnScrollingRootScroll:t.props.subMenuShouldAutoPositionOnScrollingRootScroll,stackingRootId:t.props.stackingRootId,scrollingRootId:t.props.scrollingRootId,requestCloseAll:t.props.requestCloseAll,displayFormatterBoundWithData:o.displayFormatterBoundWithData,zIndex:t.props.zIndex,testId:t.props.testId})}return e})},t.subMenuMarginTop=function(){var e=I();return-(parseFloat(e.paddingTop||e.padding||0)+parseFloat(e.borderWidthTop||e.borderTop||e.borderWidth||e.border||0))},t.prototype.render=function(){var e=o.__assign({},I(),this.props.menuStyle,a.conditional(!!this.props.maxHeight,{maxHeight:this.props.maxHeight,overflowY:"auto"}));return r.createElement(s.Block,{id:this.props.id,style:e,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseEnter:this.props.onMouseEnter,tabIndex:-1,role:this.props.__INTERNAL__isListbox?"listbox":"menu","data-tb-test-id":this.props.testId+"-ListMenu"},this.buildMenuFromMenuItemInfos())},t}(u.DynamicThemeComponent);t.ListMenuWidget=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribeOrUnsubscribeDocument=function(t,n){n?(t.addEventListener("mousedown",this.handleClickAway.bind(this),!0),t.addEventListener("touchstart",this.handleClickAway.bind(this),!0)):(t.removeEventListener("mousedown",this.handleClickAway.bind(this),!0),t.removeEventListener("touchstart",this.handleClickAway.bind(this),!0));for(var o=t.getElementsByTagName("iframe"),i=0;i<o.length;i++)e.trySubscribeOrUnscribeDocument(o[i].contentDocument,n)},e.trySubscribeOrUnscribeDocument=function(t,n){try{e.subscribeOrUnsubscribeDocument(t,n)}catch(e){}},e.subscribe=function(t,n){return!this.callback&&n&&(this.callback=n),0===this.domNodes.length&&e.trySubscribeOrUnscribeDocument(document,!0),this.domNodes.push(t),function(){e.unsubscribe(t)}},e.unsubscribe=function(t){this.domNodes=this.domNodes.filter(function(e){return e!==t}),0===this.domNodes.length&&(this.callback=null,e.trySubscribeOrUnscribeDocument(document,!1))},e.handleClickAway=function(e){if(this.callback){for(var t=e.target,n=0,o=this.domNodes;n<o.length;n++){if(o[n].contains(t))return}this.callback()}},e.domNodes=[],e}();t.GlobalPointerDownOutsideListener=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(2),s=n(4),a=n(8),l=n(3),d=n(15),c=n(25),u=n(12);t.TextInputType=u.TextInputType;var p=n(50),h=l.TabStyles.Sizing,g=l.TabStyles.Spacing,y=function(){return{iconPadding:{paddingRight:a.SearchIcon.width+2*g.DefaultSpace},icon:{position:"absolute",right:0,paddingRight:g.DefaultSpace,paddingLeft:g.DefaultSpace,marginTop:(h.RowHeight-a.SearchIcon.height)/2},outlineContainer:{width:"100%"}}},I=function(e){function t(t){var n=e.call(this,t)||this;return n.handleCancelHover=function(e){n.props.disabled||n.setState({cancelHover:e})},n.state=o.__assign({},n.state,{cancelHover:!1}),n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){e.text||this.setState({cancelHover:!1})},t.prototype.getIcon=function(){return!this.props.disabled&&(this.state.cancelHover||this.state.inputActive||this.state.inputFocus||this.state.inputHover)?this.props.onDarkBackground?a.DarkThemeSearchIcon.searchActive:a.SearchIcon.searchActive:this.props.onDarkBackground?a.DarkThemeSearchIcon.search:a.SearchIcon.search},t.prototype.getInputStyle=function(){var e=d.getTextOutlineStyles({onDarkBackground:this.props.onDarkBackground}),t=y();return o.__assign({},e.input.base,t.iconPadding,r.conditional(this.state.cancelHover,e.input.interactive.hover),this.props.inputStyle)},t.prototype.render=function(){var e=y(),t=d.getTextOutlineStyles({onDarkBackground:this.props.onDarkBackground}),n=o.__assign({},t.placeholder.base,this.props.placeholderStyle,r.conditional(this.props.disabled,t.placeholder.disabled),{maxWidth:"calc(100% - "+e.iconPadding.paddingRight+"px)"}),a=this.isPlaceholderShowing(),l=this.getInputStyle(),c={type:this.props.type,style:l,interactiveStyles:t.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,disabled:this.props.disabled,handleActive:this.handleInputActive,handleFocus:this.handleInputFocus,handleHover:this.handleInputHover,handleBlur:this.props.handleBlur,inputRef:this.props.inputRef,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.placeholder,shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus},u={pointerClick:this.props.handleCancelSearch,handleHover:this.handleCancelHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled,onDarkBackground:this.props.onDarkBackground};return i.createElement(s.Block,{style:this.props.containerStyle},r.conditional(!this.props.text,i.createElement(s.Img,{src:this.getIcon(),style:e.icon,"data-tb-test-id":this.props.testId+"-SearchIcon"})),r.conditional(a,i.createElement("label",{style:n,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder)),i.createElement(p.TextFieldWithClearIcon,{handleClearText:this.props.handleCancelSearch,textFieldInputProps:c,textFieldClearButtonProps:u}))},t}(c.TextFieldBase);t.SearchFieldWidget=I},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(57),i=function(e){var t=[];return e.forEach(function(e){t.push({menuItemInfos:e.menuItemInfos?i(e.menuItemInfos):void 0,displayFormatterBoundWithData:o.TextMenuDisplayFormatter(e.displayValue),keyboardAccessibleValue:e.displayValue,textForDropdownButton:e.displayValue,value:e.value,disabled:e.disabled,isDivider:e.isDivider,subMenuStyle:e.subMenuStyle,isUnselectable:!1,checked:e.checked,subMenuMaxHeight:e.subMenuMaxHeight})}),t};t.convertMenuItemInfoToGeneric=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(2),s=n(9),a=n(4),l=n(16),d=n(11),c=n(3),u=n(8),p=c.TabStyles.Sizing,h=c.TabStyles.Colors,g=c.TabStyles.Spacing,y=c.TabStyles.Typography,I=function(){return{MenuItem:o.__assign({height:p.ListRowHeight,paddingLeft:g.DefaultSpace,paddingRight:g.DefaultSpace,lineHeight:p.ListRowHeight+"px",cursor:"default",position:"relative"},l.TextEllipsis,d.PreventUserSelect),Highlighted:{backgroundColor:h.F2_5},Active:{backgroundColor:h.F3},AnythingChecked:{paddingLeft:u.MenuItemCheckIcon.checkedItemPaddingLeft},WithSubMenu:{paddingRight:u.MenuItemArrowIcon.width},Disabled:{color:y.Color.Disabled},ArrowIcon:{position:"absolute",right:0}}},m=function(e){return function(t){function n(n){var o=t.call(this,n)||this;return o.handleRef=function(e){o.renderedTextFormatter=e},o.handleMouseOver=function(t){o.setState({title:s.isElementOverflownX(o.renderedTextFormatter)?e:void 0})},o.state={title:void 0},o}return o.__extends(n,t),n.prototype.getSubMenuIcon=function(){if(this.props.hasSubMenu){var e=I(),t=this.props.disabled?u.MenuItemArrowIcon.disabled:u.MenuItemArrowIcon.enabled;return i.createElement(a.Img,{style:e.ArrowIcon,src:t,"aria-hidden":!0})}return null},n.prototype.getCheckedStyles=function(){var e=u.MenuItemCheckIcon.enabled;return this.props.disabled?e=u.MenuItemCheckIcon.disabled:(this.props.active||this.props.isHighlighted)&&(e=u.MenuItemCheckIcon.active),{backgroundImage:"url('"+e+"')",backgroundRepeat:"no-repeat",backgroundPosition:g.DefaultSpace+"px center"}},n.prototype.render=function(){var t=I(),n=o.__assign({},t.MenuItem,r.conditional(this.props.hasSubMenu,t.WithSubMenu),r.conditional(this.props.isHighlighted,t.Highlighted),r.conditional(this.props.active,t.Active),r.conditional(this.props.disabled,t.Disabled),r.conditional(this.props.anythingChecked,t.AnythingChecked),r.conditional(this.props.checked,this.getCheckedStyles())),s={style:n,title:this.state.title,ref:this.handleRef,onMouseOver:this.handleMouseOver,"data-tb-test-id":r.testId(this.props.testId,"TextMenuItem")};return i.createElement("div",o.__assign({},s),e,this.getSubMenuIcon())},n}(i.Component)};t.TextMenuDisplayFormatter=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(23),a=n(4),l=n(3),d=n(2),c=l.TabStyles.Colors,u=function(){return{base:{alignItems:"center",display:"flex",justifyContent:"center"},interactive:{hover:{backgroundColor:c.F3},focus:{backgroundColor:c.F3},active:{backgroundColor:c.F5},disabled:{opacity:.35}}}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.handleActive=function(e){n.setState({active:e})},n.handleFocus=function(e){n.setState({focus:e})},n.handleHover=function(e){n.setState({hover:e})},n.handleClick=function(e){n.props.handleClick(e)},n.state={hover:!1,active:!1,focus:!1},n}return o.__extends(t,e),t.prototype.getIcon=function(){return this.props.disabled?this.props.disabledIcon?this.props.disabledIcon:this.props.activeIcon:this.state.active?this.props.activeIcon:this.state.hover?this.props.hoverIcon?this.props.hoverIcon:this.props.activeIcon:this.state.focus?this.props.focusIcon?this.props.focusIcon:this.props.activeIcon:this.props.defaultIcon},t.prototype.render=function(){var e={disabled:this.props.disabled,handleClick:this.handleClick,handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover,interactiveStyle:o.__assign({},u().interactive,this.props.interactiveStyle),style:o.__assign({},u().base,this.props.style),testId:d.testId(this.props.testId,"IconButton"),title:this.props.title},t={src:this.getIcon(),draggable:!1};return r.createElement(s.ButtonBase,e,r.createElement(a.Img,t))},t}(i.Component);t.IconButtonWidget=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),s=n(4),a=n(0),l=n(6),d=function(){return{userSelect:"text",WebkitUserSelect:"text"}},c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){t.props.disabled||"Enter"!==e.key||e.shiftKey||t.props.handleEnter&&(t.props.handleEnter(),e.preventDefault(),e.stopPropagation())},t.changeObserver=new MutationObserver(function(){return t.handleChange()}),t.handleKeyUp=function(){return t.handleChange()},t.callInputRef=function(e){t.props.handleInputRef(r.findDOMNode(e))},t}return o.__extends(t,e),t.prototype.handleChange=function(){this.props.disabled||this.props.handleChange&&this.props.handleChange()},t.prototype.componentDidMount=function(){var e=r.findDOMNode(this);e&&this.changeObserver.observe(e,{childList:!0,characterData:!0})},t.prototype.componentWillUnmount=function(){this.changeObserver.disconnect()},t.prototype.render=function(){var e={className:"shared-widgets-content-editable-div","data-tb-test-id":this.props.testId+"-TextInput",style:o.__assign({},d(),this.props.style),contentEditable:!0,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,ref:this.callInputRef};return a.createElement(s.Block,e)},t=o.__decorate([l.InteractiveDomHoCDecorator],t)}(i.Component);t.RichTextEditWidget_UNFINISHED=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),s=n(4),a=n(15),l=n(110),d=n(8),c=n(3),u=n(2),p=n(25),h=n(12),g=n(111);!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(o||(o={})),t.StepperType=o;var y=c.TabStyles.Spacing,I=c.TabStyles.Sizing,m=c.TabStyles.Typography,b=function(){return{verticalIconPadding:{paddingRight:d.StepperDownIcon.width+y.DefaultSpace},horizontalIconPadding:{paddingRight:d.StepperRightIcon.width+d.StepperLeftIcon.width+y.DefaultSpace+2*I.BorderWidth},label:{fontSize:m.Sizing.Default,fontFamily:m.FontFamily,fontWeight:"normal",color:m.Color.Primary,lineHeight:I.RowHeight+"px",paddingRight:y.DefaultSpace}}},f=function(e){function t(t){var n=e.call(this,t)||this;return n.handleIncrementWrapper=function(){n.props.disabled||n.props.isIncrementDisabled||n.props.handleIncrement()},n.handleDecrementWrapper=function(){n.props.disabled||n.props.isDecrementDisabled||n.props.handleDecrement()},n.handleChangeWrapper=function(e){n.props.disabled||n.props.readOnly||n.props.handleNumberVerification&&!n.props.handleNumberVerification(e)||n.props.handleChange(e)},n.handleStepperHover=function(e){n.props.disabled||n.setState({stepperHover:e})},n.handleKeyDown=function(e){n.props.disabled||("ArrowUp"===e.key?n.handleIncrementWrapper():"ArrowDown"===e.key&&n.handleDecrementWrapper())},n.state=i.__assign({},n.state,{stepperHover:!1}),n}return i.__extends(t,e),t.prototype.getInputStyle=function(){var e=this.props.stepperLayoutType===o.Vertical,t=a.getTextOutlineStyles({}),n=b(),r=e?n.verticalIconPadding.paddingRight:n.horizontalIconPadding.paddingRight,s=y.DefaultSpace;return i.__assign({},t.input.base,u.conditional(this.state.stepperHover,t.input.interactive.hover),this.props.inputStyle,e?n.verticalIconPadding:n.horizontalIconPadding,{minWidth:27+s+r+"px"})},t.prototype.getPlaceholderStyle=function(){var e=this.props.stepperLayoutType===o.Vertical,t=a.getTextOutlineStyles({}),n=b(),r=e?n.verticalIconPadding.paddingRight:n.horizontalIconPadding.paddingRight;return i.__assign({},t.placeholder.base,this.props.placeholderStyle,u.conditional(this.props.disabled,t.placeholder.disabled),{maxWidth:"calc(100% - "+(y.DefaultSpace+r)+"px)"})},t.prototype.render=function(){var e={style:this.props.containerStyle},t=b(),n=void 0!==this.props.stepperLabel,d=this.isPlaceholderShowing(),c=this.props.stepperLayoutType===o.Vertical,p=c?g.VerticalStepperArrowGroup:l.HorizontalStepperArrowGroup,y=a.getTextOutlineStyles({}),I=this.getInputStyle(),m=this.getPlaceholderStyle(),f=i.__assign({},t.label,this.props.labelStyle),v={style:I,interactiveStyles:y.input.interactive,text:String(this.props.text),testId:u.testId(this.props.testId,"StepperWidget"),handleChange:this.handleChangeWrapper,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:this.handleInputActive,handleFocus:this.handleInputFocus,handleHover:this.handleInputHover,handleBlur:this.props.handleBlur,readOnly:this.props.readOnly,maxLength:this.props.maxLength,onKeyDown:this.handleKeyDown,inputRef:this.props.inputRef,name:this.props.name},M={testId:u.testId(this.props.testId,"StepperWidget"),isIncrementDisabled:this.props.isIncrementDisabled,isDecrementDisabled:this.props.isDecrementDisabled,disabled:this.props.disabled,inputStyle:this.props.inputStyle,handleIncrement:this.handleIncrementWrapper,handleDecrement:this.handleDecrementWrapper,handleHover:this.handleStepperHover},C={style:f,"data-tb-test-id":u.testId(this.props.testId,"OptionalLabel")},L={style:m,"data-tb-test-id":u.testId(this.props.testId,"Placeholder")};return r.createElement(s.Block,e,u.conditional(n,r.createElement(s.InlineBlock,{},r.createElement("label",C,this.props.stepperLabel))),r.createElement(s.InlineBlock,{},u.conditional(d,r.createElement("label",L,this.props.placeholder)),r.createElement(h.TextFieldInputWidget,v),r.createElement(p,M)))},t}(p.TextFieldBase);t.StepperWidget=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(23),a=n(4),l=n(2),d=function(e){function t(t){var n=e.call(this,t)||this;return n.handleActive=function(e){n.setState({active:e})},n.state={active:!1},n}return o.__extends(t,e),t.prototype.getIcon=function(){return this.props.disabled?this.props.disabledIcon?this.props.disabledIcon:this.props.activeIcon:this.state.active?this.props.activeIcon:this.props.defaultIcon},t.prototype.render=function(){var e={disabled:this.props.disabled,handleActive:this.handleActive,handleClick:this.props.handleClick,disableTabAccessibility:!0,testId:l.testId(this.props.testId,"InternalIconButton")},t={src:this.getIcon(),draggable:!1,style:this.props.iconStyle};return r.createElement(s.ButtonBase,e,r.createElement(a.Img,t))},t}(i.Component);t.InternalIconButton=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleIncrementWrapper=function(){t.props.disabled||t.props.handleIncrement()},t.handleDecrementWrapper=function(){t.props.disabled||t.props.handleDecrement()},t.handleHoverWrapper=function(e){t.props.disabled||t.props.handleHover(e)},t}return o.__extends(t,e),t}(i.Component);t.StepperArrowGroup=r},function(e,t,n){"use strict";function o(){return null!==navigator&&/Edge\//.test(navigator.userAgent)}Object.defineProperty(t,"__esModule",{value:!0}),t.isMSEdgeBrowser=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(65),i=function(){function e(e,t,n){this.min=n?Math.ceil(e):e,this.max=n?Math.floor(t):t,this.roundToIntegers=n}return e.prototype.calculateSliderPositionAsProportion=function(e){if(this.min>this.max)return NaN;var t=this.roundToIntegers?Math.round(e):e,n=(t-this.min)/(this.max-this.min);return o.clamp(n,0,1)},e.prototype.calculateNewSliderValueFromProportion=function(e){if(this.min>this.max)return NaN;if(e<0)return this.min;if(e>1)return this.max;var t=this.roundToIntegers?Math.round(e*(this.max-this.min))+this.min:e*(this.max-this.min)+this.min;return o.clamp(t,this.min,this.max)},e.prototype.calculateNewSliderValueForKey=function(e,t){var n=this.roundToIntegers?Math.round(t):t,i=(this.max-this.min)/100,r=(this.max-this.min)/10,s=this.roundToIntegers?1:i,a=this.roundToIntegers?Math.max(Math.round(r),1):r,l=n;switch(e){case"ArrowLeft":case"ArrowDown":l=n-s;break;case"ArrowUp":case"ArrowRight":l=n+s;break;case"PageDown":l=n-a;break;case"PageUp":l=n+a;break;case"Home":l=this.min;break;case"End":l=this.max;break;default:return}return o.clamp(l,this.min,this.max)},e.KeysRelevantForManipulatingSlider={ArrowLeft:!0,ArrowRight:!0,ArrowUp:!0,ArrowDown:!0,PageUp:!0,PageDown:!0,Home:!0,End:!0},e}();t.SliderValueLogic=i},function(e,t,n){"use strict";function o(e,t,n){return n<t?NaN:Math.min(Math.max(e,t),n)}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(14);t.FIRST_HANDLE="FIRST_HANDLE",t.SECOND_HANDLE="SECOND_HANDLE",t.BOTH_HANDLES="BOTH_HANDLES";!function(e){function n(e,n){var i={left:e.x,top:e.y},r=o.doesRectangleContainPoint(n,i);return{handle:t.FIRST_HANDLE,directlyOnIcon:r}}function i(e,n,i){var r={left:e.x,top:e.y};return o.doesRectangleContainPoint(n,r)?{handle:t.FIRST_HANDLE,directlyOnIcon:!0}:o.doesRectangleContainPoint(i,r)?{handle:t.SECOND_HANDLE,directlyOnIcon:!0}:e.x>=n.right&&e.x<=i.left?{handle:t.BOTH_HANDLES,directlyOnIcon:!1}:e.x<=n.right?{handle:t.FIRST_HANDLE,directlyOnIcon:!1}:{handle:t.SECOND_HANDLE,directlyOnIcon:!1}}function r(e,n){var i={left:e.x,top:e.y};if(o.doesRectangleContainPoint(n,i))return{handle:t.FIRST_HANDLE,directlyOnIcon:!0}}function s(e,n,i){var r={left:e.x,top:e.y},s=o.doesRectangleContainPoint(n,r),a=o.doesRectangleContainPoint(i,r);if(s&&a){return{handle:Math.abs(r.left-n.left)<Math.abs(r.left-i.right)?t.FIRST_HANDLE:t.SECOND_HANDLE,directlyOnIcon:!0}}return s?{handle:t.FIRST_HANDLE,directlyOnIcon:!0}:a?{handle:t.SECOND_HANDLE,directlyOnIcon:!0}:void 0}e.determineWhichHandleShouldBeDraggedForMouseAndOneHandle=n,e.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles=i,e.determineWhichHandleShouldBeDraggedForTouchAndOneHandle=r,e.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles=s}(t.SliderHandleContainerDragHandleLogic||(t.SliderHandleContainerDragHandleLogic={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(3),r=n(16),s=n(11),a=i.TabStyles.Spacing,l=i.TabStyles.Colors,d=i.TabStyles.Typography.Color;t.ActiveTabVisibility={visibility:"visible"},t.InactiveTabVisibility={visibility:"hidden"},t.NonAnchorTabPanelStyles={position:"absolute",width:"100%",left:"0",top:"0"},t.TabPanelContainerStyles={position:"relative",margin:a.LargeSpace},t.TabBarStyles=o.__assign({display:"flex",backgroundColor:l.F2,fontFamily:i.TabStyles.Typography.FontFamily,fontSize:i.TabStyles.Typography.Sizing.Default},s.PreventUserSelect),t.GetSingleTabStyles=function(e){var t={display:"inline-block",outline:"none"};return e&&(t.flex=e+"%",t.overflow="hidden"),t},t.TabLabelContainerStyles={display:"flex",height:"39px",alignItems:"center",justifyContent:"center",paddingRight:"24px",paddingLeft:"24px"},t.DefaultTabLabelStyles=o.__assign({color:d.PrimaryLight},r.TextEllipsis),t.BaseTabIndicatorStyles={backgroundColor:"transparent",height:"3px"},t.FocusedTabIndicatorStyles={backgroundColor:l.Focus},t.HoveredTabIndicatorStyles={backgroundColor:l.L5},t.ActiveTabIndicatorStyles={backgroundColor:l.L8},t.PressedTabIndicatorStyles={backgroundColor:l.L9}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.tabsWidget=e,this.handleKeyDown=this.handleKeyDown.bind(this)}return e.prototype.tabIndexFromKeyDown=function(e,t){var n=this.tabsWidget.props.tabs.length;switch(t){case"ArrowRight":return(e+1)%n;case"ArrowLeft":return(n+e-1)%n;case"Home":return 0;case"End":return n-1;default:return-1}},e.preventDefaultAndStopPropagation=function(e){e.preventDefault(),e.stopPropagation()},e}();t.BaseTabActivator=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(39),i=function(){function e(){}return e.setMediaStyleQueries=function(t){e.mediaQueryLists={};for(var n=0;n<t.length;n++){var o=t[n],i=e.registerMediaQuery(o),r=e.getMediaQueryListListener(o);r(i),i.addListener(r)}},e.registerMediaQuery=function(t){var n=t.mediaQuery;return n in e.mediaQueryLists||(e.mediaQueryLists[n]=window.matchMedia(n)),e.mediaQueryLists[n]},e.getMediaQueryListListener=function(e){return function(t){t.matches?o.setConfig({styles:e.matchingStyle}):o.setConfig({styles:e.nonMatchingStyle})}},e}();t.StyleMediaQueryManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribeOrUnsubscribeWindows=function(t,n,o){n?(t.addEventListener("mouseup",o,!0),t.addEventListener("touchend",o,!0)):(t.removeEventListener("mouseup",o,!0),t.removeEventListener("touchend",o,!0));for(var i=t.document.getElementsByTagName("iframe"),r=0;r<i.length;r++)e.trySubscribeOrUnscribeWindows(i[r].contentWindow,n,o)},e.trySubscribeOrUnscribeWindows=function(t,n,o){try{e.subscribeOrUnsubscribeWindows(t,n,o)}catch(e){}},e.subscribe=function(t){return e.trySubscribeOrUnscribeWindows(window,!0,t),function(){e.trySubscribeOrUnscribeWindows(window,!1,t)}},e}();t.GlobalPointerUpListener=o},function(e,t,n){function o(e,t,n){function o(t){var n=b,o=f;return b=f=void 0,w=t,M=e.apply(o,n)}function c(e){return w=e,C=setTimeout(h,t),S?o(e):M}function u(e){var n=e-L,o=e-w,i=t-n;return D?d(i,v-o):i}function p(e){var n=e-L,o=e-w;return void 0===L||n>=t||n<0||D&&o>=v}function h(){var e=r();if(p(e))return g(e);C=setTimeout(h,u(e))}function g(e){return C=void 0,T&&b?o(e):(b=f=void 0,M)}function y(){void 0!==C&&clearTimeout(C),w=0,b=L=f=C=void 0}function I(){return void 0===C?M:g(r())}function m(){var e=r(),n=p(e);if(b=arguments,f=this,L=e,n){if(void 0===C)return c(L);if(D)return C=setTimeout(h,t),o(L)}return void 0===C&&(C=setTimeout(h,t)),M}var b,f,v,M,C,L,w=0,S=!1,D=!1,T=!0;if("function"!=typeof e)throw new TypeError(a);return t=s(t)||0,i(n)&&(S=!!n.leading,D="maxWait"in n,v=D?l(s(n.maxWait)||0,t):v,T="trailing"in n?!!n.trailing:T),m.cancel=y,m.flush=I,m}var i=n(30),r=n(72),s=n(76),a="Expected a function",l=Math.max,d=Math.min;e.exports=o},function(e,t,n){var o=n(73),i=function(){return o.Date.now()};e.exports=i},function(e,t,n){var o=n(74),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(75))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function o(e){if("number"==typeof e)return e;if(r(e))return s;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=d.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):l.test(e)?s:+e}var i=n(30),r=n(77),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=o},function(e,t,n){function o(e){return"symbol"==typeof e||i(e)&&a.call(e)==r}var i=n(78),r="[object Symbol]",s=Object.prototype,a=s.toString;e.exports=o},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){"use strict";function o(e){return i.createElement("div",{onClick:r,onContextMenu:r,onDoubleClick:r,onDrag:r,onDragEnd:r,onDragEnter:r,onDragExit:r,onDragLeave:r,onDragOver:r,onDragStart:r,onDrop:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:r,onMouseOver:r,onMouseOut:r,onMouseUp:r,onKeyDown:r,onKeyPress:r,onKeyUp:r,onBlur:r,onChange:r,onInput:r,onInvalid:r,onSubmit:r},e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=function(e){return e.stopPropagation()};t.PortalEventTrap=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=function(){function e(){var e=this;this.internalEncapsulatedIsShown=!1,this.render=function(t){if(e.internalEncapsulatedIsShown)throw new Error("Cannot render the element; it is already shown");e.anchor=document.createElement("div"),o.render(t,e.anchor),e.internalEncapsulatedIsShown=!0},this.remove=function(){e.internalEncapsulatedIsShown&&(o.unmountComponentAtNode(e.anchor),e.anchor=null),e.internalEncapsulatedIsShown=!1},this.isShown=function(){return e.internalEncapsulatedIsShown}}return e}();t.HostedStackedElementContainer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(45),s=n(23),a=n(5),l=n(3),d=n(2),c=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClick=function(e){n.state.isClicked||(n.setState({isClicked:!0}),window.setTimeout(n.handleReset,n.getDelayOrDefault()),n.props.handleClick(e))},n.handleReset=function(){n.setState({isClicked:!1}),n.props.handleReset()},n.state={isClicked:!1},n}return o.__extends(t,e),t.prototype.getDelayOrDefault=function(){return this.props.delay?this.props.delay:5e3},t.prototype.render=function(){var e=r.getButtonStyle(this.props.buttonType),t={backgroundColor:l.TabStyles.Colors.L8,borderColor:l.TabStyles.Colors.L8,color:l.TabStyles.Colors.White};this.state.isClicked&&(e.base=o.__assign({},e.base,t),e.interactive.disabled=o.__assign({},e.interactive.disabled,t));var n={disabled:this.props.disabled||this.state.isClicked,handleClick:this.handleClick,interactiveStyle:e.interactive,label:this.state.isClicked?this.props.delayLabel:this.props.label,style:o.__assign({},e.base,this.props.style),testId:d.testId(this.props.testId,"Button"),title:this.props.title};return i.createElement(s.ButtonBase,n,this.props.children)},t}(a.DynamicThemeComponent);t.AutoResetButton=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(35),s=n(83),a=n(46),l=n(47),d=n(38),c=1;t.DefaultOffset=a.BorderWidth+a.Padding+l.Height/2;var u="Right",p={position:"relative",display:"inline-block"},h=function(e){function n(n){var i=e.call(this,n)||this;return i.setContent=function(e){i.canceled||i.setState(function(t){return t.content?t:o.__assign({},t,{content:e})})},i.open=function(){i.props.getContent().then(i.setContent)},i.close=function(){i.setState({content:null,positioned:!1})},i.handleClick=function(e){i.state.content?i.close():i.open(),e.preventDefault()},i.handleMouseEnter=function(e){i.state.content||(i.canceled=!1,i.open())},i.handleMouseLeave=function(e){var t=e.clientX,n=e.clientY;if(i.state.content||(i.canceled=!0),i.tooltipElement){var o=i.tooltipElement.getBoundingClientRect(),s=o.left,a=o.right,l=o.top,d=o.bottom;switch(i.state.side){case"Top":d+=c;break;case"Bottom":l-=c;break;case"Left":a+=c;break;case"Right":s-=c;break;default:r.assertNever(i.state.side)}new r.ClosedRectangle(s,a,l,d).containsPoint(t,n)||i.close()}},i.updateTargetRef=function(e){i.targetElement=e},i.updateTooltipRef=function(e){i.tooltipElement=e},i.state={content:null,positioned:!1,side:n.defaultSide||u,offset:t.DefaultOffset},i}return o.__extends(n,e),n.prototype.componentDidUpdate=function(){if(this.state.content&&!this.state.positioned){if(!this.targetElement||!this.tooltipElement)throw new Error("reference to target or tooltip isn't set!");var e=(this.props.boundaryElement||document.body).getBoundingClientRect(),t=this.targetElement.getBoundingClientRect();if(!r.containsClientRect(e,t))throw new Error("boundary element doesn't contain target element!");for(var o=this.tooltipElement.getBoundingClientRect(),i=o.width,s=o.height,a=this.props.defaultSide||u,l=this.state.offset,d=0,c=n.computeTooltipRectangle(t,i,s,a,l);d<r.NumberOfSides&&!r.containsClientRect(e,c);)d++,a=r.getNextSideClockwise(a),c=n.computeTooltipRectangle(t,i,s,a,l);this.setState({positioned:!0,side:a})}},n.prototype.componentWillMount=function(){this.canceled=!1},n.prototype.componentWillUnmount=function(){this.canceled=!0},n.prototype.render=function(){return i.createElement(d.PointerEventWrapper,{pointerClick:this.handleClick},i.createElement("div",{ref:this.updateTargetRef,style:p,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.props.children,this.renderTooltip()))},n.prototype.renderTooltip=function(){return this.state.content&&this.targetElement?i.createElement(s.ChromeTooltipDisplay,{content:this.state.content,width:this.props.width,targetElement:this.targetElement,handleRef:this.updateTooltipRef,close:this.close,positioned:this.state.positioned,side:this.state.side,offset:this.state.offset,zIndex:this.props.zIndex}):null},n.computeTooltipRectangle=function(e,t,n,o,i){var s,a;return r.isHorizontalSide(o)?(s=e.top+e.height/2-i,a="Left"===o?e.left-t:e.right):(a=e.left+e.width/2-i,s="Top"===o?e.top-n:e.bottom),{top:s,bottom:s+n,left:a,right:a+t,width:t,height:n}},n}(i.Component);t.ChromeTooltipWidget=h},function(e,t,n){"use strict";function o(e){return p.createElement(h.Overlay,{anchorEl:e.targetElement,zIndex:e.zIndex,anchorOrigin:i(e.side),stackedOrigin:r(e.side),topFromOverlaidPosition:s(e.side,e.offset),leftFromOverlaidPosition:a(e.side,e.offset)},p.createElement("div",{ref:e.handleRef,onMouseLeave:e.close},p.createElement("div",{style:l(e.positioned,e.side)},p.createElement(y.ChromeTooltipBox,{content:e.content,width:e.width}),p.createElement(I.ChromeTooltipArrow,{direction:c(e.side),style:u(e.side,e.offset)}))))}function i(e){switch(e){case"Top":return{horizontal:h.HorizontalOriginOption.centerX,vertical:h.VerticalOriginOption.top};case"Bottom":return{horizontal:h.HorizontalOriginOption.centerX,vertical:h.VerticalOriginOption.bottom};case"Left":return{horizontal:h.HorizontalOriginOption.left,vertical:h.VerticalOriginOption.centerY};case"Right":return{horizontal:h.HorizontalOriginOption.right,vertical:h.VerticalOriginOption.centerY};default:return g.assertNever(e)}}function r(e){switch(e){case"Top":return{horizontal:h.HorizontalOriginOption.left,vertical:h.VerticalOriginOption.bottom};case"Bottom":return{horizontal:h.HorizontalOriginOption.left,vertical:h.VerticalOriginOption.top};case"Left":return{horizontal:h.HorizontalOriginOption.right,vertical:h.VerticalOriginOption.top};case"Right":return{horizontal:h.HorizontalOriginOption.left,vertical:h.VerticalOriginOption.top};default:return g.assertNever(e)}}function s(e,t){return g.isHorizontalSide(e)?-1*t:0}function a(e,t){return g.isVerticalSide(e)?-1*t:0}function l(e,t){return{visibility:e?"visible":"hidden",display:"flex",flexDirection:d(t),flexWrap:"nowrap",justifyContent:"flex-start",alignItems:"center"}}function d(e){switch(e){case"Top":return"column";case"Bottom":return"column-reverse";case"Left":return"row";case"Right":return"row-reverse";default:return g.assertNever(e)}}function c(e){switch(e){case"Top":return"Down";case"Bottom":return"Up";case"Left":return"Right";case"Right":return"Left";default:return g.assertNever(e)}}function u(e,t){var n=t-I.Height/2,o={alignSelf:"flex-start"};switch(e){case"Top":o.marginTop=-1.2,o.marginLeft=n;break;case"Bottom":o.marginBottom=-1.2,o.marginLeft=n;break;case"Left":o.marginLeft=-1.2,o.marginTop=n;break;case"Right":o.marginRight=-1.2,o.marginTop=n;break;default:g.assertNever(e)}return o}Object.defineProperty(t,"__esModule",{value:!0});var p=n(0),h=n(10),g=n(35),y=n(46),I=n(47);t.ChromeTooltipDisplay=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(49),s=n(4),a=n(5),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getContainerStyleOfIndex=function(e){return{}},t.prototype.render=function(){var e=this;return i.createElement(s.Block,{role:"group"},this.props.checkBoxWithLabelPropsList.map(function(t,n){var s=o.__assign({},t.containerStyle,e.getContainerStyleOfIndex(n)),a=o.__assign({},t,{containerStyle:s,key:n});return i.createElement(r.CheckBoxWithLabelWidget,a)}))},t}(a.DynamicThemeComponent);t.CheckBoxWithLabelGroupWidget=l},function(e,t,n){"use strict";function o(e){var t=2-e.toString().length+1;return Array(+(t>0&&t)).join("0")+e}function i(e,t){if(!e)return null;if("string"==typeof e||e instanceof String)return e.toString();if(e instanceof Date){if(e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()),isNaN(e.getDate()))return null;if(t===p.Date)return e.getFullYear()+"-"+o(e.getMonth()+1)+"-"+o(e.getDate());if(t===p.Time)return o(e.getHours())+":"+o(e.getMinutes());if(t===p.DateTime)return e.getFullYear()+"-"+o(e.getMonth()+1)+"-"+o(e.getDate())+"T"+o(e.getHours())+":"+o(e.getMinutes())}return null}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=n(0),a=n(4),l=n(5),d=n(15),c=n(2),u=n(12),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.Date=new t("date"),t.DateTime=new t("datetime-local"),t.Time=new t("time"),t}(u.TextInputType);t.DateTimeInputType=p;var h=function(e){function t(t){var n=e.call(this,t)||this;return n.handleChangeWrapper=function(e){var t=n.dateFromString(e);t&&null!==t&&!isNaN(t.getTime())&&n.props.handleChange(t)},n.handleKeyDown=function(e){n.props.disabled},n.state={inputFocus:!1,inputActive:!1,inputHover:!1},n}return r.__extends(t,e),t.prototype.getInputStyle=function(){var e=d.getTextOutlineStyles({});return r.__assign({},e.input.base,{paddingRight:0},this.props.inputStyle)},t.prototype.dateFromString=function(e){switch(this.props.type){case p.Date:e+="T00:00";break;case p.Time:e=(new Date).toISOString().substr(0,10)+"T"+e}return e+="+0000",new Date(e)},t.prototype.render=function(){var e={style:this.props.containerStyle},t=d.getTextOutlineStyles({}),n=this.getInputStyle(),o={style:n,inputRef:this.props.inputRef,interactiveStyles:t.input.interactive,text:i(this.props.value,this.props.type),testId:c.testId(this.props.testId,"DateTimeWidget"),type:this.props.type,handleChange:this.handleChangeWrapper,handleEnter:this.props.handleEnter,shouldSelectTextOnFocus:!1,disabled:this.props.disabled,readOnly:this.props.readOnly,onKeyDown:this.handleKeyDown,name:this.props.name};return s.createElement(a.Block,e,s.createElement(u.TextFieldInputWidget,o))},t}(l.DynamicThemeComponent);t.DateTimeInputWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(4),a=n(3),l=n(6),d=n(2),c=n(8),u=a.TabStyles.Spacing,p=function(){return{position:"absolute",right:0,top:0,bottom:0,margin:"auto",paddingRight:u.DefaultSpace,paddingLeft:u.DefaultSpace,paddingTop:3}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.handlePointerClick=function(e){e.stopPropagation(),n.props.pointerClick&&n.props.pointerClick(e)},n.handleHover=function(e){n.setState({hover:e}),n.props.handleHover&&n.props.handleHover(e)},n.handleActive=function(e){n.setState({active:e}),n.props.handleActive&&n.props.handleActive(e)},n.handleFocus=function(e){n.setState({focus:e}),n.props.handleFocus&&n.props.handleFocus(e)},n.state={active:!1,hover:!1,focus:!1},n}return o.__extends(t,e),t.prototype.getIcon=function(e,t){return!e.disabled&&(e.active||t.active||t.focus||t.hover)?this.props.onDarkBackground?c.DarkThemeTextFieldClearIcon.clearActive:c.TextFieldClearIcon.clearActive:this.props.onDarkBackground?c.DarkThemeTextFieldClearIcon.clear:c.TextFieldClearIcon.clear},t.prototype.render=function(){var e={pointerClick:this.handlePointerClick,handleActive:this.handleActive,handleFocus:this.handleFocus,handleHover:this.handleHover},t=o.__assign({},this.props,e);return r.createElement(l.InteractiveDomWrapper,t,r.createElement(s.Img,{style:p(),tabIndex:-1,src:this.getIcon(this.props,this.state),"data-tb-test-id":d.testId(this.props.testId,"ClearIcon")}))},t}(i.Component);t.TextFieldClearButton=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(7),a=n(88),l=n(2),d=n(89),c=n(90),u=n(91),p=n(26),h=n(4),g=n(9),y=function(){return{DialogContent:{outline:"none",display:"flex",flexDirection:"column",overflow:"hidden"}}},I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleDialogHeaderRef=function(e){t.dialogHeader=s.findDOMNode(e)},t.handleDialogKeyUp=function(e){"Escape"===e.key&&t.props.onCloseRequest()},t.handleDialogKeyDown=function(e){if("Tab"===e.key){var n=a(t.dialog),o=n.length>0?n[0]:null,i=n.length>0?n[n.length-1]:null;e.target!==i||e.shiftKey?e.target===o&&e.shiftKey&&(e.preventDefault(),i.focus()):(e.preventDefault(),o.focus())}},t}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.elementToReturnFocus=document.activeElement,this.dialog=s.findDOMNode(this),this.props.disableAutoFocus||this.initializeFocusOnMount(),this.setFocusEventListener(),document.addEventListener("focus",this.focusEventListener,!0),this.dialog.offsetHeight>this.dialog.parentElement.clientHeight&&(this.dialog.style.height=this.dialog.parentElement.clientHeight+"px")},t.prototype.initializeFocusOnMount=function(){var e=a(this.dialog);if(0===e.length)throw Error("Something within the dialog must be focusable as to dismiss it");var t=0;if(this.dialogHeader)for(var n=0;n<e.length;n++)if(!this.dialogHeader.contains(e[n])){t=n;break}var o=e[t];g.timeoutFocus(o)},t.prototype.setFocusEventListener=function(){var e=this;this.focusEventListener=function(t){if(!e.props.isModal){var n=t.target;e.dialog.contains(n)||(e.elementToReturnFocus=n)}}},t.prototype.componentWillUnmount=function(){document.removeEventListener("focus",this.focusEventListener,!0),this.props.shouldReturnFocusOnClose&&this.returnFocusToElement()},t.prototype.returnFocusToElement=function(){g.timeoutFocus(this.elementToReturnFocus)},t.prototype.render=function(){var e=y(),t=o.__assign({},this.props,{ref:this.handleDialogHeaderRef});return r.createElement(h.Block,{"data-tb-test-id":l.testId(this.props.testId,"Content"),tabIndex:-1,style:o.__assign({},e.DialogContent,this.props.dialogContentStyle),onKeyDown:this.handleDialogKeyDown,onKeyUp:this.handleDialogKeyUp,role:"dialog","aria-labelledby":l.conditional(!!this.props.title,p.SharedWidgetsDialogLabel+String(this.props.instanceId))},l.conditional(this.props.type!==p.DialogType.Uber,r.createElement(u.DialogHeader,t)),r.createElement(d.DialogBody,this.props),l.conditional(this.props.showFooter,r.createElement(c.DialogFooter,this.props)))},t}(i.Component);t.DialogContent=I},function(e,t){function n(){var e=[];return function t(n){if(n===document.documentElement)return!1;for(var o=0,i=e.length;o<i;o++)if(e[o][0]===n)return e[o][1];var r=!1,s=window.getComputedStyle(n);return"hidden"===s.visibility||"none"===s.display?r=!0:n.parentNode&&(r=t(n.parentNode)),e.push([n,r]),r}}e.exports=function(e){for(var t,o,i=[],r=[],s=n(),a=e.querySelectorAll("input, select, a[href], textarea, button, [tabindex]"),l=0,d=a.length;l<d;l++)t=a[l],(o=t.tabIndex)<0||"INPUT"===t.tagName&&"hidden"===t.type||t.disabled||s(t)||(0===o?i.push(t):r.push({tabIndex:o,node:t}));var c=r.sort(function(e,t){return e.tabIndex-t.tabIndex}).map(function(e){return e.node});return Array.prototype.push.apply(c,i),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(2),a=n(26),l=n(4),d=n(3),c=function(){return{Body:{outline:"none",overflow:"auto"}}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getPaddingStyle=function(){var e={paddingTop:0,paddingRight:d.TabStyles.Spacing.LargeSpace,paddingBottom:d.TabStyles.Spacing.LargeSpace,paddingLeft:d.TabStyles.Spacing.LargeSpace};switch(this.props.type){case a.DialogType.NormalWithTitleBar:e.paddingTop=d.TabStyles.Spacing.LargeSpace;break;case a.DialogType.LightweightTitleBar:e.paddingLeft=d.TabStyles.Spacing.ExtraLargeSpace-d.TabStyles.Sizing.BorderWidth,e.paddingRight=e.paddingLeft;break;case a.DialogType.Uber:e.paddingTop=d.TabStyles.Spacing.MediumSpace}return this.props.showFooter&&(e.paddingBottom=0),e},t.prototype.render=function(){var e=c(),t=o.__assign({},e.Body,this.getPaddingStyle(),this.props.dialogBodyStyle);return r.createElement(l.Block,{"data-tb-test-id":s.testId(this.props.testId,"Body"),style:t,id:s.testId(this.props.testId,"Body-Id")},this.props.children)},t}(i.Component);t.DialogBody=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(2),r=n(4),s=n(3),a=8*s.TabStyles.Sizing.BaseUnit,l=function(){return{Footer:{paddingLeft:s.TabStyles.Spacing.LargeSpace,paddingRight:s.TabStyles.Spacing.LargeSpace,paddingTop:0,paddingBottom:0,height:a,flexShrink:0},FooterContent:{height:"100%"}}},d=function(e){var t=l();return o.createElement(r.Block,{"data-tb-test-id":i.testId(e.testId,"Footer"),style:t.Footer},i.conditional(!!e.footerContent,o.createElement(r.Block,{style:t.FooterContent},e.footerContent)))};t.DialogFooter=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(7),a=n(92),l=n(2),d=n(26),c=n(4),u=n(20),p=n(3),h=n(16),g=n(33),y=n(17),I=n(11),m=n(51),b=function(){return{DraggableHeader:{cursor:"move"},Header:o.__assign({},I.PreventUserSelect,{fontFamily:p.TabStyles.Typography.FontFamily,flexShrink:0,minHeight:5*p.TabStyles.Sizing.BaseUnit}),TitleBar:o.__assign({fontSize:p.TabStyles.Typography.Sizing.Default,color:p.TabStyles.Colors.F8,backgroundColor:p.TabStyles.Colors.F2,height:"100%",minHeight:"inherit",paddingRight:p.TabStyles.Spacing.LargeSpace,paddingLeft:p.TabStyles.Spacing.LargeSpace,display:"flex",alignItems:"center",lineHeight:"normal"},h.TextEllipsis),TitleBarWithCloseButton:{paddingRight:0},LightweightTitleBar:{fontSize:20,height:"100%",minHeight:"inherit",paddingTop:20,paddingLeft:p.TabStyles.Spacing.ExtraLargeSpace-p.TabStyles.Sizing.BorderWidth,paddingRight:p.TabStyles.Spacing.ExtraLargeSpace-p.TabStyles.Sizing.BorderWidth,paddingBottom:p.TabStyles.Spacing.DefaultSpace,display:"flex",alignItems:"center",lineHeight:"normal"},LighweightTitleBarCloseButton:{top:10,right:10,position:"absolute"},Title:o.__assign({flexGrow:1},h.TextEllipsis)}},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleStart=function(e){if(!t.isEventWithinCloseButton(e)&&t.props.positioningBehavior===d.DialogPositioningBehavior.Draggable){e.preventDefault();var n=g.getClientPosition(e),o=t.props.getDraggableDialogClientRect();t.startXPosition=n.x-o.left,t.startYPosition=n.y-o.top,t.addMouseEventListeners()}},t.handleMove=function(e){e.preventDefault();var n=g.getClientPosition(e);t.props.setDraggableDialogPosition({top:n.y-t.startYPosition,left:n.x-t.startXPosition})},t.handleStop=function(e){t.removeMouseEventListeners()},t.handleCloseButtonRef=function(e){t.closeButton=s.findDOMNode(e)},t.handleRef=function(e){t.globalPointerEventCapturer&&t.removeMouseEventListeners(),e&&(t.globalPointerEventCapturer=new m.GlobalPointerEventCapturer(s.findDOMNode(e),t.handleMove,t.handleStop))},t}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){this.removeMouseEventListeners()},t.prototype.addMouseEventListeners=function(){this.globalPointerEventCapturer.addListeners()},t.prototype.removeMouseEventListeners=function(){this.globalPointerEventCapturer.removeListeners()},t.prototype.isEventWithinCloseButton=function(e){var t=e.target;return!!this.closeButton&&this.closeButton.contains(t)},t.prototype.render=function(){var e=b(),t=o.__assign({},e.Header,l.conditional(this.props.positioningBehavior===d.DialogPositioningBehavior.Draggable,e.DraggableHeader)),n=!1,i={},s={};this.props.type===d.DialogType.NormalWithTitleBar?(n=!0,i=o.__assign({},e.TitleBar,l.conditional(this.props.showCloseButton,e.TitleBarWithCloseButton))):this.props.type===d.DialogType.LightweightTitleBar&&(n=!0,i=o.__assign({},e.LightweightTitleBar),s=o.__assign({},e.LighweightTitleBarCloseButton));var p={testId:this.props.testId,tooltip:y.Messages.closeDialog(),requestClose:this.props.onCloseRequest,ref:this.handleCloseButtonRef};return r.createElement(u.PointerEventWrapper,{pointerDown:this.handleStart},r.createElement(c.Block,{ref:this.handleRef,"data-tb-test-id":l.testId(this.props.testId,"Header"),style:t},l.conditional(n,r.createElement(c.Block,{"data-tb-test-id":l.testId(this.props.testId,"TitleBar"),style:i},l.conditional(!!this.props.title,r.createElement(c.Block,{style:e.Title,id:d.SharedWidgetsDialogLabel+String(this.props.instanceId)},this.props.title)),l.conditional(this.props.showCloseButton,r.createElement(c.InlineBlock,{style:s},r.createElement(a.CloseButtonWidget,p)))))))},t}(i.Component);t.DialogHeader=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(3),s=n(6),a=n(2),l=n(4),d=n(8),c=n(5),u=n(17),p=function(){return{containerBase:{width:5*r.TabStyles.Sizing.BaseUnit,height:5*r.TabStyles.Sizing.BaseUnit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"auto",outline:"none",flexShrink:0},imageContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:3*r.TabStyles.Sizing.BaseUnit,height:3*r.TabStyles.Sizing.BaseUnit}}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.handleHover=function(e){n.setState({hover:e})},n.handleFocus=function(e){n.setState({focus:e})},n.handleActive=function(e){n.setState({active:e})},n.handleKeyDown=function(e){"Enter"!==e.key&&" "!==e.key||n.props.requestClose()},n.state={hover:!1,active:!1,focus:!1},n}return o.__extends(t,e),t.prototype.render=function(){var e,t,n=p();return this.state.hover||this.state.focus||this.state.active?(e=d.CloseButtonIcon.active,t=o.__assign({},n.imageContainer,{backgroundColor:r.TabStyles.Colors.F3})):(e=d.CloseButtonIcon.enabled,t=n.imageContainer),i.createElement(s.InteractiveDomWrapper,{pointerClick:this.props.requestClose,handleHover:this.handleHover,handleActive:this.handleActive,handleFocus:this.handleFocus},i.createElement(l.Block,{style:n.containerBase,tabIndex:0,onKeyDown:this.handleKeyDown,role:"button",title:this.props.tooltip||u.Messages.close(),"data-tb-test-id":a.testId(this.props.testId,"CloseButton")},i.createElement(l.Block,{style:t},i.createElement(l.Img,{src:e,draggable:!1,style:{width:d.CloseButtonIcon.width,height:d.CloseButtonIcon.height}}))))},t}(c.DynamicThemeComponent);t.CloseButtonWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),s=n(0),a=n(4),l=n(2),d=n(14),c=n(13),u=n(22),p={Floater:{position:"absolute",outline:0,pointerEvents:"auto"}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.floaterRefHandler=function(e){t.floater=r.findDOMNode(e),t.props.handleFloaterRef&&t.props.handleFloaterRef(e)},t}return o.__extends(t,e),t.prototype.getCenteredFloaterRectInLayoutCoords=function(){var e=u.getVisualViewportRectRelativeToLayoutViewport(),t={width:this.floater.offsetWidth,height:this.floater.offsetHeight},n=d.computePositionToCenterAreaInBounds(t,e);return d.makeClientRect(n,t)},t.prototype.getMinimumPageRectInLayoutCoords=function(){var e=u.getElementPositionRelativeToLayoutViewport(document.documentElement),t=u.getLayoutViewportSize(),n=u.getVisualViewportRectRelativeToLayoutViewport(),o={width:n.right-e.left,height:n.bottom-e.top},i=d.getMaxWidthAndHeight(t,o);return d.makeClientRect(e,i)},t.prototype.centerInVisualViewport=function(){var e=this.getCenteredFloaterRectInLayoutCoords(),t=this.getMinimumPageRectInLayoutCoords(),n=d.computePositionToContainBounds(e,t);this.setPosition(n)},t.prototype.getFloaterClientRect=function(){return this.floater.getBoundingClientRect()},t.prototype.setPosition=function(e){var t=this.floater.offsetParent||document.documentElement,n=u.getElementPositionRelativeToLayoutViewport(t),o=d.subtractPositions(e,n);this.floater.style.top=o.top+"px",this.floater.style.left=o.left+"px"},t.prototype.componentDidMount=function(){this.centerInVisualViewport()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.shouldRecenterOnUpdate&&(this.clearDeferredCentering(),this.centerTimeoutHandle=window.setTimeout(function(){t.centerInVisualViewport()},0))},t.prototype.clearDeferredCentering=function(){this.centerTimeoutHandle&&(clearTimeout(this.centerTimeoutHandle),this.centerTimeoutHandle=null)},t.prototype.componentWillUnmount=function(){this.clearDeferredCentering()},t.prototype.render=function(){var e={"data-tb-test-id":l.testId(this.props.testId,"Floater"),style:o.__assign({},p.Floater,this.props.customFloaterStyle),ref:this.floaterRefHandler};return s.createElement(a.Block,e,this.props.children)},t}(i.Component);t.FloaterWidgetDefault=h;var g=c.StackingComponentHOC(h);t.FloaterWidget=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(4),s=n(2),a=n(3),l=n(6),d=n(5),c=n(13),u=function(){return{Glass:{position:"fixed",top:0,left:0,bottom:0,right:0,padding:0,margin:0,pointerEvents:"auto"},Clear:{backgroundColor:a.TabStyles.Colors.White,opacity:a.TabStyles.Opacity.ClearGlass},Opaque:{backgroundColor:a.TabStyles.Colors.OpaqueGlass,opacity:a.TabStyles.Opacity.OpaqueGlass}}},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleKeyDown=function(e){"Tab"===e.key&&e.shiftKey&&(e.preventDefault(),e.stopPropagation())},t.handleKeyUp=function(e){t.props.handleEscape&&"Escape"===e.key&&(t.props.handleEscape(),e.preventDefault(),e.stopPropagation())},t}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=u(),n=o.__assign({},t.Glass,this.props.isTransparent?t.Clear:t.Opaque);return i.createElement(l.InteractiveDomWrapper,{pointerClick:function(t){t.preventDefault(),e.props.handleClick&&e.props.handleClick()}},i.createElement(r.Block,{style:n,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:0,"data-tb-test-id":s.testId(this.props.testId,"Glass")}))},t}(d.DynamicThemeComponent);t.GlassWidgetBase=p;var h=c.StackingComponentHOC(p);t.GlassWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(2),a=n(22),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state=n.getStateForCurrentViewport(),n}return o.__extends(t,e),t.prototype.getStateForCurrentViewport=function(){var e=a.getVisualViewport();return{visualViewportSize:{width:e.width,height:e.height},layoutViewportSize:a.getLayoutViewportSize()}},t.prototype.getMaxSize=function(){var e={width:this.state.visualViewportSize.width,height:this.state.visualViewportSize.height};return this.props.style&&this.props.style.minWidth||(e.width=Math.max(e.width,this.state.layoutViewportSize.width)),this.props.style&&this.props.style.minHeight||(e.height=Math.max(e.height,this.state.layoutViewportSize.height)),this.props.horizontalMargins&&(e.width-=this.props.horizontalMargins),this.props.verticalMargins&&(e.height-=this.props.verticalMargins),e},t.prototype.updateSize=function(){this.setState(this.getStateForCurrentViewport())},t.prototype.render=function(){var e=this.getMaxSize(),t={style:o.__assign({maxWidth:e.width,maxHeight:e.height},this.props.style,s.conditional(this.props.isMaximized,{width:e.width,height:e.height})),"data-tb-test-id":this.props.testId};return r.createElement("div",t,this.props.children)},t}(i.Component);t.ViewportConstrainedDomWrapper=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PendingOrientationChangeTimeoutMs=250;t.PendingResizeTimeoutMs=200;var o=function(){function e(){}return e.init=function(){window.addEventListener("orientationchange",e.handleOrientationChange),window.addEventListener("resize",e.handleResize)},e.handleOrientationChange=function(){null!==e.latestPendingResizeTimestamp&&Date.now()-e.latestPendingResizeTimestamp<=200?e.fireOrientationChange():e.latestPendingOrientationChangeTimestamp=Date.now()},e.handleResize=function(){null!==e.latestPendingOrientationChangeTimestamp&&Date.now()-e.latestPendingOrientationChangeTimestamp<=250?e.fireOrientationChange():e.latestPendingResizeTimestamp=Date.now()},e.fireOrientationChange=function(){e.latestPendingOrientationChangeTimestamp=null,e.latestPendingResizeTimestamp=null,e.listeners.forEach(function(e){e()})},e.addListener=function(t){t&&e.listeners.push(t)},e.removeListener=function(t){e.listeners=e.listeners.filter(function(e){return e!==t})},e.latestPendingOrientationChangeTimestamp=null,e.latestPendingResizeTimestamp=null,e.listeners=[],e}();t.OrientationChange=o,o.init()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(34),r=n(2),s=n(4),a=n(3),l=function(){return{ButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:"100%"},FooterButton:{paddingLeft:a.TabStyles.Spacing.MediumSpace}}},d=function(e){var t=l();return o.createElement(s.Block,{"data-tb-test-id":r.testId(e.testId,"Confirm-Cancel-Footer"),style:t.ButtonsContainer},e.buttons.map(function(e,n){return o.createElement(s.InlineBlock,{style:r.conditional(0!==n,t.FooterButton),key:n},o.createElement(i.ButtonWidget,e))}))};t.DialogFooterButtonsWidget=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(99),s=n(5),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this.props.currentStep/this.props.totalSteps;return i.createElement(r.ProgressBarContainer,{width:this.props.width},i.createElement(r.ProgressCompleteBar,{fractionComplete:e},1===e?null:i.createElement(r.ProgressBarAnimation,{containerWidth:this.props.width*e})))},t}(s.DynamicThemeComponent);t.DiscreteProgressBarWidget_UNFINISHED=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(31),s=n(3),a=n(4),l=function(){return{backgroundColor:s.TabStyles.Colors.F3,borderRadius:s.TabStyles.Sizing.BorderRadius,height:s.TabStyles.Sizing.BaseUnit}},d=function(e){var t=o.__assign({},l(),{width:e.width});return i.createElement(a.Block,{style:t},e.children)};t.ProgressBarContainer=d;var c=function(){return{backgroundColor:s.TabStyles.Colors.GoLight,position:"absolute",top:0,left:0,height:"100%"}},u=function(e){var t=o.__assign({},c(),{width:100*e.fractionComplete+"%"});return i.createElement(a.Block,{style:t},e.children)};t.ProgressCompleteBar=u;var p=function(){return s.TabStyles.Sizing.BaseUnit},h=function(){return{position:"absolute",top:0,width:p(),height:"100%",backgroundColor:s.TabStyles.Colors.GoDark}},g=function(e){var t=e.containerWidth,n=r.SingletonStyleSheet.addAnimation({keyframes:{fromCSSLines:{transform:"translate3d(0px, 0px, 0px)"},toCSSLines:{transform:"translate3d("+(t-p())+"px, 0px, 0px)"}},options:{count:1/0,durationMs:1e3,direction:"alternate",timingFunction:"ease-in-out"}});return i.createElement(a.Block,{style:h(),className:n})};t.ProgressBarAnimation=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(36),s=n(56),a=function(e){var t=o.__assign({},e,{menuItemInfos:s.convertMenuItemInfoToGeneric(e.menuItemInfos)});return i.createElement(r.GenericDropdownWidget,t)};t.DropdownWidget=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),s=n(2),a=n(10),l=n(6),d=n(5),c=n(27),u=n(53),p=n(9),h=150,g=function(e){function t(t){var n=e.call(this,t)||this;return n.handleKeyDown=function(e){switch(e.key){case" ":case"Enter":n.onSelect();break;case"ArrowRight":n.hasSubMenu&&n.onSelect();break;default:return}e.preventDefault(),e.stopPropagation()},n.onSelect=function(){n.props.disabled||n.props.isUnselectable||(clearTimeout(n.subMenuTimeoutId),n.hasSubMenu?n.setState({menuItemActive:!0}):n.props.onSelect(n.props.value))},n.onHover=function(e){if(!e)return void clearTimeout(n.subMenuTimeoutId);n.props.onHover&&n.props.onHover(n.props.itemIndex),n.hasSubMenu&&(n.subMenuTimeoutId=window.setTimeout(function(){return n.setState({menuItemActive:!0})},h))},n.onActive=function(e){n.hasSubMenu||n.setState({menuItemActive:e})},n.setDomNode=function(e){n.domNode=e},n.requestClose=function(){n.setState({menuItemActive:!1})},n.handleSubmenuMouseEnter=function(){n.props.onHover(n.props.itemIndex)},n.hasSubMenu=!!n.props.menuItemInfos,n.state={menuItemActive:!1},n}return o.__extends(t,e),t.prototype.componentDidMount=function(){this.updateFocus()},t.prototype.componentWillReceiveProps=function(e){this.hasSubMenu=!!e.menuItemInfos},t.prototype.componentDidUpdate=function(e,t){e.isHighlighted&&!this.props.isHighlighted&&this.state.menuItemActive&&this.setState({menuItemActive:!1}),this.updateFocus()},t.prototype.updateFocus=function(){if(this.props.isHighlighted&&!this.state.menuItemActive&&this.props.keyboardFocused){var e=r.findDOMNode(this);p.timeoutFocus(e)}},t.prototype.getDisplayElement=function(){var e={disabled:this.props.disabled,active:this.state.menuItemActive&&this.props.isHighlighted,isHighlighted:this.props.isHighlighted,checked:this.props.checked,anythingChecked:this.props.anythingChecked,hasSubMenu:this.hasSubMenu,testId:this.props.testId};return i.createElement(this.props.displayFormatterBoundWithData,e)},t.prototype.shouldShowOverlay=function(){return this.state.menuItemActive&&this.props.isHighlighted&&!this.props.disabled&&!this.props.isUnselectable&&this.hasSubMenu},t.prototype.render=function(){var e=this.shouldShowOverlay(),t=this.getDisplayElement(),n=o.__assign({},this.props.subMenuStyle,s.conditional(this.hasSubMenu,{marginTop:u.ListMenuWidget.subMenuMarginTop()}));return e&&this.props.onSubmenuShown(this.props.itemIndex),i.createElement(l.InteractiveDomWrapper,{pointerClick:this.onSelect,handleHover:this.onHover,handleActive:this.onActive,disabled:this.props.disabled},i.createElement("div",{style:{outline:"none"},onKeyDown:this.handleKeyDown,tabIndex:this.props.disabled?null:-1,ref:this.setDomNode,role:this.props.role||(void 0===this.props.checked?"menuitem":"menuitemcheckbox"),"aria-checked":this.props.checked,"aria-haspopup":this.hasSubMenu,"aria-disabled":this.props.disabled,"data-tb-test-id":this.props.testId+"-"+this.props.value+"-MenuItem"},t,s.conditional(e,i.createElement(c.GenericFlyoutListMenuWidget,{anchorEl:this.domNode,stackingRootId:this.props.stackingRootId,scrollingRootId:this.props.scrollingRootId,anchorOrigin:{vertical:a.VerticalOriginOption.top,horizontal:a.HorizontalOriginOption.right},stackedOrigin:{vertical:a.VerticalOriginOption.top,horizontal:a.HorizontalOriginOption.left},allowAutoPosition:this.props.subMenuAllowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.subMenuShouldAutoPositionOnScrollingRootScroll,zIndex:this.props.zIndex,onSelect:this.props.onSelect,menuItemInfos:this.props.menuItemInfos,maxHeight:this.props.subMenuMaxHeight,menuStyle:n,onLeftArrowKeyDown:this.requestClose,onEscapeKeyUp:this.requestClose,onMouseEnter:this.handleSubmenuMouseEnter,requestCloseAll:this.props.requestCloseAll,testId:this.props.testId+"-"+this.props.value}))))},t}(d.DynamicThemeComponent);t.MenuItemWidget=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),r=i.TabStyles.Sizing,s=i.TabStyles.Colors,a=function(){return{marginTop:r.ListRowHeight/2,marginBottom:r.ListRowHeight/2,marginRight:0,marginLeft:0,border:"none",borderTop:r.BorderWidth+"px solid "+s.L3}},l=function(e){return o.createElement("hr",{style:a(),role:"separator","aria-orientation":"horizontal"})};t.DividerWidget=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),s=n(2),a=n(4),l=n(5),d=n(3),c=n(6),u=n(8),p=n(42),h=d.TabStyles.Spacing;!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(o||(o={})),t.ExpandoDirection=o;var g=function(e){function t(t){var n=e.call(this,t)||this;return n.expandoBaseTestId="Expando",n.mapExpandoDirectionToFlexDirection={0:"column-reverse",1:"column",2:"row-reverse",3:"row"},n.handleClick=function(e){n.handleExpandOrCollapse()},n.handleKeyUp=function(e){" "!==e.key&&"Enter"!==e.key||n.handleExpandOrCollapse()},n.handleHover=function(e){n.setState({hoveringOnExpandoButton:e})},n.getExpandoIconDirection=function(){if(n.props.isExpanded)switch(n.props.direction){case o.Up:return o.Down;case o.Down:return o.Up;case o.Left:return o.Right;case o.Right:return o.Left}return n.props.direction},n.getExpandoIconTransform=function(){var e=n.getExpandoIconDirection();switch(e){case o.Up:return"rotate(0deg)";case o.Right:return"rotate(90deg)";case o.Down:return"rotate(180deg)";case o.Left:return"rotate(270deg)"}throw Error("Unknown direction '"+e+"'")},n.state={hoveringOnExpandoButton:!1},n}return i.__extends(t,e),t.prototype.shouldShowLabel=function(){return this.props.label&&this.props.label.length>0},t.prototype.handleExpandOrCollapse=function(){this.props.isExpanded?this.props.onCollapse():this.props.onExpand()},t.prototype.updateHeightOrWidth=function(){this.isVertical()?this.props.isExpanded?this.contentRef.style.height=this.contentRef.scrollHeight+"px":this.contentRef.style.height="0px":this.props.isExpanded?this.contentRef.style.width=this.contentRef.scrollWidth+"px":this.contentRef.style.width="0px"},t.prototype.isVertical=function(){return this.props.direction===o.Up||this.props.direction===o.Down},t.prototype.componentDidUpdate=function(){this.updateHeightOrWidth()},t.prototype.componentDidMount=function(){this.updateHeightOrWidth()},t.prototype.render=function(){var e=this,t={display:"flex",flexDirection:this.mapExpandoDirectionToFlexDirection[this.props.direction],alignItems:"flex-start"},n={style:t,"data-tb-test-id":s.testId(this.props.testId,this.expandoBaseTestId)},o={handleHover:this.handleHover,pointerClick:this.handleClick,key:"expandoInteractiveDom"},i={display:"flex",alignItems:"center",cursor:"default"},l={onKeyUp:this.handleKeyUp,style:i,tabIndex:0,"aria-expanded":this.props.isExpanded,role:"button","data-tb-test-id":s.testId(this.props.testId,this.expandoBaseTestId,"Button")},d=this.getExpandoIconTransform(),g={height:u.ExpandoIcon.height,width:u.ExpandoIcon.width,transform:d,margin:"auto",marginLeft:0,marginRight:this.props.label?h.DefaultSpace:0},y=this.state.hoveringOnExpandoButton?u.ExpandoIcon.active:u.ExpandoIcon.enabled,I={style:g,src:y,"data-tb-test-id":s.testId(this.props.testId,this.expandoBaseTestId,"Icon"),key:"expandoIcon"},m={"data-tb-test-id":s.testId(this.props.testId,this.expandoBaseTestId,"Label"),key:"expandoLabel"},b=p.shallowMerge(a.BlockStyle,{overflow:"hidden",transition:this.isVertical()?"height 0.2s ease-out":"width 0.2s ease-out"}),f={style:b,"data-tb-test-id":s.testId(this.props.testId,this.expandoBaseTestId,"Content"),ref:function(t){return e.contentRef=t},key:"expandoContent"},v=this.shouldShowLabel();return r.createElement(a.Block,n,r.createElement(c.InteractiveDomWrapper,o,r.createElement(a.Block,l,r.createElement(a.Img,I),s.conditional(v,r.createElement(a.InlineBlock,m,this.props.label)))),r.createElement("div",f,this.props.children))},t}(l.DynamicThemeComponent);t.ExpandoWidget=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(56),s=n(27),a=function(e){var t=o.__assign({},e,{menuItemInfos:r.convertMenuItemInfoToGeneric(e.menuItemInfos)});return i.createElement(s.GenericFlyoutListMenuWidget,t)};t.FlyoutListMenuWidget=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(2),s=n(4),a=n(3),l=n(25),d=n(12);t.TextInputType=d.TextInputType;var c=n(32),u=a.TabStyles.Colors,p=a.TabStyles.Sizing,h=a.TabStyles.Spacing,g=a.TabStyles.Typography,y=function(e){return{baseInput:{base:{border:"none",borderRadius:0,borderBottomWidth:p.BorderWidth,borderBottomColor:e.onDarkBackground?u.WhiteTransparentLine:u.L6,borderBottomStyle:"solid",height:p.RowHeight,outline:"none",backgroundColor:u.Transparent,fontSize:g.Sizing.Default,fontFamily:g.FontFamily,fontWeight:"normal",color:e.onDarkBackground?g.Color.InvertedPrimary:g.Color.Primary,position:"relative",paddingBottom:0,marginBottom:h.DefaultSpace,lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderBottomColor:e.onDarkBackground?u.WhiteTransparentLineHover:u.L8},active:{borderBottomColor:e.onDarkBackground?u.WhiteTransparentLineHover:u.GoLight},focus:{borderBottomColor:e.onDarkBackground?u.WhiteTransparentLineHover:u.GoLight},disabled:{borderBottomColor:e.onDarkBackground?u.WhiteDisabled:u.L9Disabled,color:e.onDarkBackground?g.Color.InvertedDisabled:g.Color.Disabled}}},errorInput:{borderBottomColor:u.AttentionLight},placeholder:{base:{fontSize:g.Sizing.Default,fontFamily:g.FontFamily,fontWeight:"normal",color:e.onDarkBackground?g.Color.InvertedSecondary:g.Color.Secondary,position:"absolute",textAlign:"start",lineHeight:p.RowHeight+"px",bottom:h.DefaultSpace},disabled:{color:e.onDarkBackground?g.Color.InvertedDisabled:g.Color.Disabled}},errorLabel:{fontSize:g.Sizing.Tiny,fontFamily:g.FontFamily,fontWeight:"normal",color:u.AttentionLight,lineHeight:"normal"},floatingLabel:{fontSize:g.Sizing.Tiny,fontFamily:g.FontFamily,fontWeight:"normal",color:e.onDarkBackground?g.Color.InvertedSecondary:g.Color.Secondary,lineHeight:"19px"}}},I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=this,t=y({onDarkBackground:this.props.onDarkBackground}),n=o.__assign({},t.placeholder.base,this.props.placeholderStyle,r.conditional(this.props.disabled,t.placeholder.disabled)),a=o.__assign({},t.floatingLabel,this.props.floatingLabelStyle),l=this.isPlaceholderShowing();this.props.floatingLabel&&(l=l&&(this.props.disabled||!this.isInputActiveOrHasFocus()));var u=!this.props.hideErrorDiv&&!!this.props.errorText,p=o.__assign({},t.baseInput.base,r.conditional(u,t.errorInput),this.props.inputStyle),h={type:this.props.type,style:p,interactiveStyles:r.conditional(!u,t.baseInput.interactive),text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(t){return e.handleInputActive(t)},handleFocus:function(t){return e.handleInputFocus(t)},handleBlur:this.props.handleBlur,inputRef:this.props.inputRef,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.floatingLabel,__INTERNAL__ariaPlaceholder:this.props.placeholder,shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus};return i.createElement(s.Block,{style:this.props.containerStyle},r.conditional(Boolean(this.props.floatingLabel),i.createElement(s.Block,{},i.createElement("label",{style:a,"data-tb-test-id":this.props.testId+"-FloatingLabel"},l?c.Unicode.NonBreakingSpace:this.props.floatingLabel))),i.createElement(s.Block,{},r.conditional(l,i.createElement("label",{style:n,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder||this.props.floatingLabel)),i.createElement(d.TextFieldInputWidget,h)),r.conditional(!this.props.hideErrorDiv,i.createElement(s.Block,{},i.createElement("div",{style:t.errorLabel,"data-tb-test-id":this.props.testId+"-ErrorLabel"},this.props.errorText?this.props.errorText:c.Unicode.NonBreakingSpace))))},t}(l.TextFieldBase);t.LineTextFieldWidget=I},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),s=n(0),a=n(4),l=n(3),d=n(107);!function(e){e[e.Veritical=0]="Veritical",e[e.Horizontal=1]="Horizontal"}(o||(o={})),t.RadioLayoutType=o;var c=function(e){function t(n){var o=e.call(this,n)||this;return o.groupId=t.groupIdIncrementor++,o}return i.__extends(t,e),t.prototype.getContainerStyleOfIndex=function(e){return e!==this.props.buttonList.length-1&&this.props.layout===o.Horizontal?{paddingRight:l.TabStyles.Spacing.ExtraLargeSpace}:{}},t.prototype.getContainerStyle=function(){var e={};return this.props.layout===o.Horizontal&&(e.display="flex",e.flexWrap="wrap",this.props.justifyHorizontalItems&&(e.justifyContent="space-between")),e},t.prototype.render=function(){var e=this,t=this.props.buttonList.map(function(t,n){var o=e.getContainerStyleOfIndex(n);return s.createElement(d.RadioButtonWithLabelWidget,{index:n,groupName:e.props.name||"RadioButtonWithLabelGroup"+e.groupId.toString(),value:t.value,testId:t.testId,checked:n===e.props.checkedIndex,disabled:t.disabled,handleChange:e.props.handleChange,label:t.label,containerStyle:o,removeLeftMargin:e.props.removeLeftMargin,key:n})});return s.createElement(a.Block,{role:"radiogroup","aria-label":this.props.ariaLabel,style:this.getContainerStyle(),"data-tb-test-id":"RadioButtonWithLabelGroupWidget-"+this.props.testId},t)},t.groupIdIncrementor=0,t}(r.Component);t.RadioButtonWithLabelGroupWidget=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(108),s=n(4),a=n(19),l=n(6),d=n(24),c=n(3),u=n(5),p=function(){return{label:{display:"flex",alignItems:"flex-start",marginTop:c.TabStyles.Spacing.SmallSpace},text:{width:"100%",paddingTop:"1px"}}},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e=p();return i.createElement(s.Block,{className:a.ClickBustingConfig.suppressionClassName,role:"radio","aria-checked":this.props.checked},i.createElement(d.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:o.__assign({},e.label,this.props.containerStyle)},i.createElement(r.RadioButtonWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId,groupName:this.props.groupName,removeLeftMargin:this.props.removeLeftMargin,value:this.props.value,index:this.props.index}),i.createElement(s.InlineBlock,{"aria-label":this.props.label,style:e.text},this.props.label)))},t=o.__decorate([l.InteractiveDomHoCDecorator],t)}(u.DynamicThemeComponent);t.RadioButtonWithLabelWidget=h},function(e,t,n){"use strict";function o(e,t){return d.encodeSvg(d.RadioButtonIcon.icon(e.disabled,e.checked,e.hover||t.hover,t.focus))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),s=n(2),a=n(4),l=n(6),d=n(8),c=n(3),u=n(5),p=function(){return{baseDiv:{marginLeft:c.TabStyles.Spacing.DefaultSpace-d.RadioButtonIcon.padding,marginRight:c.TabStyles.Spacing.DefaultSpace-d.RadioButtonIcon.padding,height:d.RadioButtonIcon.height,width:d.RadioButtonIcon.width,minWidth:d.RadioButtonIcon.width,flexShrink:0},noLeftMargin:{marginLeft:-d.RadioButtonIcon.padding},radioButton:{opacity:0,height:d.RadioButtonIcon.height,width:d.RadioButtonIcon.width,margin:0,cursor:"default",verticalAlign:"top"},fakeRadioButton:{height:d.RadioButtonIcon.height,width:d.RadioButtonIcon.width,position:"absolute",verticalAlign:"top"}}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleFormChange=function(e){t.props.disabled||t.props.checked||t.props.handleChange(t.props.value,t.props.index)},t.handleActive=function(e){t.setState({active:e})},t.handleFocus=function(e){t.setState({focus:!t.state.active&&e})},t.handleHover=function(e){t.setState({hover:e})},t}return i.__extends(t,e),t.prototype.render=function(){var e=o(this.props,this.state),t=p(),n=i.__assign({},t.baseDiv,s.conditional(this.props.removeLeftMargin,t.noLeftMargin));return r.createElement(l.InteractiveDomWrapper,{handleHover:this.handleHover,handleFocus:this.handleFocus,handleActive:this.handleActive},r.createElement(a.InlineBlock,{style:n},r.createElement(a.Img,{style:t.fakeRadioButton,src:e}),r.createElement("input",{style:t.radioButton,type:"radio",name:this.props.groupName,onChange:this.handleFormChange,checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-RadioButton",id:this.props.id})))},t}(u.DynamicThemeComponent);t.RadioButtonWidget=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),s=n(0),a=n(4),l=n(2),d=n(6),c=n(3),u=n(59),p=c.TabStyles.Colors,h=c.TabStyles.Sizing,g=c.TabStyles.Spacing,y=c.TabStyles.Typography,I=function(){var e=5*h.ListRowHeight+2*h.BorderWidth;return{container:{background:p.White},input:{base:{borderWidth:h.BorderWidth,borderRadius:h.BorderRadius,borderColor:p.L6,borderStyle:"solid",paddingLeft:g.DefaultSpace,paddingRight:g.DefaultSpace,outline:"none",backgroundColor:p.Transparent,fontSize:y.Sizing.Default,fontFamily:y.FontFamily,color:y.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:h.ListRowHeight+"px",minHeight:h.RowHeight,maxHeight:e,overflowY:"auto",overflowX:"hidden",wordWrap:"break-word"},interactive:{hover:{borderColor:p.L8},active:{borderColor:p.L8},focus:{borderColor:p.L8},disabled:{borderColor:p.L9Disabled,color:y.Color.Disabled}}},placeholder:{position:"absolute",fontWeight:"normal",fontSize:y.Sizing.Default,fontFamily:y.FontFamily,color:y.Color.Disabled,top:g.SmallSpace,left:g.DefaultSpace,textAlign:"start",lineHeight:h.ListRowHeight+"px"}}};t.getRichTextEditOutlineStyles=I;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleInputRef=function(e){t.textInputRef=r.findDOMNode(e),t.props.handleInputRef(e)},t.shouldShowPlaceholder=function(){return!t.state.focus&&(!t.textInputRef||0===t.textInputRef.innerText.length)},t}return o.__extends(t,e),t.prototype.render=function(){var e=I(),t=this.shouldShowPlaceholder(),n={style:o.__assign({},e.container,this.props.containerStyle)},i={style:e.placeholder,"data-tb-test-id":l.testId(this.props.testId,"Placeholder")},r={style:e.input.base,interactiveStyles:e.input.interactive,testId:this.props.testId,handleInputRef:this.handleInputRef,disabled:this.props.disabled,handleEnter:this.props.handleEnter,handleChange:this.props.handleChange};return s.createElement(a.Block,n,l.conditional(t,s.createElement("label",i,this.props.placeholder)),s.createElement(u.RichTextEditWidget_UNFINISHED,r))},t=o.__decorate([d.InteractiveDomHoCDecorator],t)}(i.Component);t.RichTextEditOutlineWidget_UNFINISHED=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(4),s=n(61),a=n(6),l=n(62),d=n(8),c=n(3),u=n(2),p=c.TabStyles.Colors,h=c.TabStyles.Sizing,g=function(){return{iconContainer:{position:"absolute",top:h.BorderWidth,borderWidth:h.BorderWidth,borderRadius:0,borderColor:p.L6,borderStyle:"solid",borderTop:"none",borderRight:"none",borderLeft:"none",borderBottom:"none",outline:"none",backgroundColor:p.Transparent},arrowLayout:{position:"static"},incrementStyle:{right:h.BorderWidth},decrementStyle:{borderLeft:"solid",borderRight:"solid",right:h.BorderWidth+d.StepperRightIcon.width}}},y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getIncrementIconStyle=function(){var e=g();return o.__assign({},e.incrementStyle,e.iconContainer,this.props.inputStyle)},t.prototype.getDecrementIconStyle=function(){var e=g();return o.__assign({},e.decrementStyle,e.iconContainer,this.props.inputStyle)},t.prototype.render=function(){var e={style:g().arrowLayout},t={activeIcon:d.StepperLeftIcon.active,defaultIcon:d.StepperLeftIcon.enabled,disabled:this.props.disabled||this.props.isDecrementDisabled,disabledIcon:d.StepperLeftIcon.disabled,handleClick:this.handleDecrementWrapper,iconStyle:this.getDecrementIconStyle(),testId:u.testId(this.props.testId,"HorizontalStepperArrowGroup","DecrementIcon")},n={activeIcon:d.StepperRightIcon.active,defaultIcon:d.StepperRightIcon.enabled,disabled:this.props.disabled||this.props.isIncrementDisabled,disabledIcon:d.StepperRightIcon.disabled,handleClick:this.handleIncrementWrapper,iconStyle:this.getIncrementIconStyle(),testId:u.testId(this.props.testId,"HorizontalStepperArrowGroup","IncrementIcon")};return i.createElement(r.Block,e,i.createElement(s.InternalIconButton,t),i.createElement(s.InternalIconButton,n))},t=o.__decorate([a.InteractiveDomHoCDecorator],t)}(l.StepperArrowGroup);t.HorizontalStepperArrowGroup=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(4),s=n(61),a=n(6),l=n(62),d=n(8),c=n(3),u=n(2),p=c.TabStyles.Colors,h=c.TabStyles.Sizing,g=function(){return{arrowLayout:{borderLeft:h.BorderWidth+"px solid "+p.L6,borderRight:h.BorderWidth+"px solid transparent",bottom:0,boxSizing:"border-box",margin:h.BorderWidth,position:"absolute",right:0,top:0,width:18},icon:{backgroundColor:"transparent",left:"calc(50% + "+h.BorderWidth+"px )",position:"absolute",transform:"translateX(-50%)"},incrementStyle:{top:h.BorderWidth},decrementStyle:{bottom:h.BorderWidth}}},y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.getIncrementIconStyle=function(){var e=g();return o.__assign({},e.incrementStyle,e.icon,this.props.inputStyle)},t.prototype.getDecrementIconStyle=function(){var e=g();return o.__assign({},e.decrementStyle,e.icon,this.props.inputStyle)},t.prototype.render=function(){var e={style:g().arrowLayout},t={activeIcon:d.StepperUpIcon.active,defaultIcon:d.StepperUpIcon.enabled,disabled:this.props.disabled||this.props.isIncrementDisabled,disabledIcon:d.StepperUpIcon.disabled,handleClick:this.handleIncrementWrapper,iconStyle:this.getIncrementIconStyle(),testId:u.testId(this.props.testId,"VerticalStepperArrowGroup","IncrementIcon")},n={activeIcon:d.StepperDownIcon.active,defaultIcon:d.StepperDownIcon.enabled,disabled:this.props.disabled||this.props.isDecrementDisabled,disabledIcon:d.StepperDownIcon.disabled,handleClick:this.handleDecrementWrapper,iconStyle:this.getDecrementIconStyle(),testId:u.testId(this.props.testId,"VerticalStepperArrowGroup","DecrementIcon")};return i.createElement(r.Block,e,i.createElement(s.InternalIconButton,t),i.createElement(s.InternalIconButton,n))},t=o.__decorate([a.InteractiveDomHoCDecorator],t)}(l.StepperArrowGroup);t.VerticalStepperArrowGroup=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(60),a=n(2),l=function(e){function t(t){var n=e.call(this,t)||this;if(n.NUMBER_REGEXP=/^(\d*)$/,n.buildIntegerStepperState=function(e){return{value:e,isIncrementDisabled:null===e||e===n.props.max,isDecrementDisabled:null===e||e===n.props.min}},n.updateValue=function(e){n.props.valueUpdated(e),n.setState(n.buildIntegerStepperState(e))},n.handleBlur=function(){null===n.state.value&&n.updateValue(n.props.start)},n.handleChange=function(e){if(n.NUMBER_REGEXP.exec(e)){var t=""===e?null:Number(e);(null===t||t>=n.props.min&&t<=n.props.max)&&n.updateValue(t)}},n.handleIncrement=function(){n.updateValue(n.state.value+1)},n.handleDecrement=function(){n.updateValue(n.state.value-1)},t.min<0||t.max<0||t.start<0)throw Error("Passed integers must be positive");if(t.min>t.max)throw Error("'min' must be less than 'max'");if(t.start<t.min||t.start>t.max)throw Error("'start' is outside the valid range: "+t.min+" - "+t.max);return n.state=n.buildIntegerStepperState(t.start),n}return o.__extends(t,e),t.prototype.render=function(){var e={disabled:this.props.disabled,stepperLayoutType:this.props.stepperLayoutType,stepperLabel:this.props.stepperLabel,handleIncrement:this.handleIncrement,handleDecrement:this.handleDecrement,handleChange:this.handleChange,handleBlur:this.handleBlur,isDecrementDisabled:this.state.isDecrementDisabled,isIncrementDisabled:this.state.isIncrementDisabled,labelStyle:this.props.labelStyle,text:null===this.state.value?"":String(this.state.value),testId:a.testId(this.props.testId,"IntegerStepper")};return r.createElement(s.StepperWidget,e)},t}(i.Component);t.IntegerStepperWidget=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),s=n(5),a=n(11),l=n(3),d=n(114);!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(o||(o={})),t.SelectedToggle=o;var c="0 0 0 1px "+l.TabStyles.Colors.Focus+" inset",u=function(){return{container:{display:"flex"},toggleBase:i.__assign({flexBasis:"100%",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:l.TabStyles.Spacing.MediumSpace,paddingRight:l.TabStyles.Spacing.MediumSpace,borderWidth:l.TabStyles.Sizing.BorderWidth,borderStyle:"solid",lineHeight:l.TabStyles.Sizing.RowHeight-2*l.TabStyles.Sizing.BorderWidth+"px"},a.PreventUserSelect),selectedToggle:{backgroundColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary,borderColor:l.TabStyles.Colors.F8},unselectedToggle:{backgroundColor:l.TabStyles.Colors.F1,color:l.TabStyles.Typography.Color.Primary,borderColor:l.TabStyles.Colors.L6},hoverSelectedToggle:{borderColor:l.TabStyles.Colors.L9},hoverUnselectedToggle:{borderColor:l.TabStyles.Colors.L9},focusSelectedToggle:{boxShadow:c},focusUnselectedToggle:{boxShadow:c},activeSelectedToggle:{backgroundColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary,borderColor:l.TabStyles.Colors.L9},activeUnselectedToggle:{backgroundColor:l.TabStyles.Colors.F8,color:l.TabStyles.Typography.Color.InvertedPrimary,borderColor:l.TabStyles.Colors.L9},inactiveToggle:{backgroundColor:l.TabStyles.Colors.F1,color:l.TabStyles.Typography.Color.Primary,borderColor:l.TabStyles.Colors.L6},firstToggle:{borderTopLeftRadius:l.TabStyles.Sizing.BorderRadius,borderBottomLeftRadius:l.TabStyles.Sizing.BorderRadius},lastToggle:{borderTopRightRadius:l.TabStyles.Sizing.BorderRadius,borderBottomRightRadius:l.TabStyles.Sizing.BorderRadius}}},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){1===e?t.props.handleRightToggleSelected():t.props.handleLeftToggleSelected()},t}return i.__extends(t,e),t.prototype.render=function(){var e=u();return e.container=i.__assign({},e.container,this.props.containerStyle),r.createElement(d.SwitcherTextBase,{checkedIndex:this.props.selectedToggle===o.Right?1:0,toggleTexts:[this.props.leftToggleText,this.props.rightToggleText],handleChange:this.handleChange,style:e,testId:this.props.testId,name:this.props.name,ariaLabel:this.props.ariaLabel})},t}(s.DynamicThemeComponent);t.ToggleTextWidget=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(2),a=n(4),l=n(19),d=n(2),c=n(24),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.checked||t.props.handleChange(t.props.idx)},t.handleActive=function(e){t.props.handleActive(e?t.props.idx:-1)},t}return o.__extends(t,e),t.prototype.render=function(){return r.createElement(c.InputLabelWidget,{style:this.props.style,testId:this.props.testId,interactiveStyles:{hover:this.props.hoverStyle,focus:this.props.focusStyle},handleActive:this.handleActive},r.createElement("input",{style:{opacity:0,position:"absolute"},onChange:this.handleChange,type:"radio",checked:this.props.checked,name:this.props.groupName,"data-tb-test-id":d.testId(this.props.testId,"input")}),this.props.children)},t}(i.Component),p=function(e){function t(n){var o=e.call(this,n)||this;return o.handleActive=function(e){l.ClickBustingConfig.suppressionClassName&&l.ClickBustingConfig.suppressionClassName.length||o.setState({activerSwitcherIdx:e})},o.groupId=t.groupIdIncrementor++,o.state={activerSwitcherIdx:-1},o}return o.__extends(t,e),t.prototype.getToggleStyling=function(e){var t=this.state.activerSwitcherIdx>=0,n=0===e,i=e===this.props.toggleTexts.length-1,r=this.state.activerSwitcherIdx!==e,a=this.props.checkedIndex===e;return o.__assign({},this.props.style.toggleBase,s.conditional(n,this.props.style.firstToggle),s.conditional(i,this.props.style.lastToggle),t?r?this.props.style.inactiveToggle:a?this.props.style.activeSelectedToggle:this.props.style.activeUnselectedToggle:a?this.props.style.selectedToggle:this.props.style.unselectedToggle)},t.prototype.render=function(){var e=this,t="SwitcherTextGroup"+String(this.groupId),n=this.props.toggleTexts.map(function(n,o){var i=e.getToggleStyling(o),s=e.props.checkedIndex===o?e.props.style.hoverSelectedToggle:e.props.style.hoverUnselectedToggle,a=e.props.checkedIndex===o?e.props.style.focusSelectedToggle:e.props.style.focusUnselectedToggle;return r.createElement(u,{groupName:e.props.name||t,handleChange:e.props.handleChange,checked:e.props.checkedIndex===o,testId:d.testId(e.props.testId,n),idx:o,style:i,hoverStyle:s,focusStyle:a,key:o,handleActive:e.handleActive},n)});return r.createElement(a.Block,{style:this.props.style.container,className:l.ClickBustingConfig.suppressionClassName,role:"radiogroup","aria-label":this.props.ariaLabel},n)},t.groupIdIncrementor=0,t}(i.Component);t.SwitcherTextBase=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(7),s=n(37),a=n(2),l=n(0),d=n(36),c=n(3),u=n(54),p=n(116),h=n(10),g=function(e){var t=c.TabStyles.Sizing.RowHeight,n=.5*t;return{display:"inline-block",width:e.colorLabelWidth||40,height:n,boxSizing:"border-box",backgroundColor:(e.color||"").toLowerCase(),marginTop:(t-(n+2*c.TabStyles.Sizing.BorderWidth))/2}},y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e={dropdownType:d.DropdownType.Outline,dropdownId:null,pointerClick:this.props.handleClick,onKeyDown:this.props.onKeyDown,dropdownOpen:this.props.isPickerOpen,disabled:this.props.disabled,interactiveStyles:d.getDropdownStylesByType(d.DropdownType.Outline).button.interactive,testId:a.testId(this.props.testId,"ColorPickerButton"),title:this.props.title};return l.createElement(d.DropdownButtonWidget,e,l.createElement("div",{style:g(this.props)}))},t}(i.Component);t.ColorPickerButton=y;var I=function(e){function t(t){var n=e.call(this,t)||this;return n.setColorPickerButton=function(e){n.buttonElement=r.findDOMNode(e)},n.unsubscribeOutsideClickListeners=function(){n.outsideClickListenersUnsubscribe.forEach(function(e){return e()}),n.outsideClickListenersUnsubscribe=[]},n.onColorSelected=function(e){n.togglePicker(),n.props.handleColorSelected(e.toLowerCase())},n.togglePicker=function(){n.props.disabled||n.setState({isPickerVisible:!n.state.isPickerVisible})},n.togglePickerOnKeyEvent=function(e){n.togglePicker(),e.preventDefault(),e.stopPropagation()},n.handleKeyDown=function(e){" "!==e.key&&"Enter"!==e.key||n.togglePickerOnKeyEvent(e)},n.handleGridKeyUp=function(e){"Escape"===e.key&&n.state.isPickerVisible&&n.togglePickerOnKeyEvent(e)},n.state={isPickerVisible:!1,customColorText:""},n.outsideClickListenersUnsubscribe=[],n.colorGrid=null,n}return o.__extends(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this;this.state.isPickerVisible&&!t.isPickerVisible&&this.colorGrid?(this.outsideClickListenersUnsubscribe=[this.colorGrid.parentElement,r.findDOMNode(this)].map(function(e){return u.GlobalPointerDownOutsideListener.subscribe(e,n.togglePicker)}),this.colorGrid.focus(),this.state.customColorWidgetWidth!==this.colorGrid.clientWidth&&this.setState({customColorWidgetWidth:this.colorGrid.clientWidth})):!this.state.isPickerVisible&&t.isPickerVisible&&this.unsubscribeOutsideClickListeners()},t.prototype.componentWillUnmount=function(){this.unsubscribeOutsideClickListeners()},t.prototype.render=function(){var e={handleClick:this.togglePicker,color:this.props.selectedColor,disabled:this.props.disabled,isPickerOpen:this.state.isPickerVisible,colorLabelWidth:this.props.colorLabelWidth,onKeyDown:this.handleKeyDown,testId:this.props.testId,title:this.props.title,ref:this.setColorPickerButton};return l.createElement("div",{style:{display:"inline-block"},"data-tb-test-id":a.testId(this.props.testId,"ColorPicker")},l.createElement(y,e),a.conditional(this.state.isPickerVisible,this.buildColorGridWidget()))},t.prototype.buildColorGridWidget=function(){var e=this,t={handleSwatchClicked:this.onColorSelected,selectedColor:(this.props.selectedColor||"").toLowerCase(),colorsPreset:this.props.colorsPreset,testId:"colorgrid",ref:function(t){return e.colorGrid=r.findDOMNode(t)}},n={onColorSelected:this.onColorSelected,color:this.getCustomColorInput(),testId:this.props.testId,width:this.state.customColorWidgetWidth||100},o={anchorEl:this.buttonElement,zIndex:this.props.dropdownZIndex,anchorOrigin:{vertical:h.VerticalOriginOption.bottom,horizontal:h.HorizontalOriginOption.left},allowAutoPosition:!0},i={style:{backgroundColor:c.TabStyles.Colors.White,zIndex:this.props.dropdownZIndex,position:"absolute",padding:c.TabStyles.Spacing.LargeSpace,borderWidth:c.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:c.TabStyles.Colors.L5,borderRadius:c.TabStyles.Sizing.BorderRadius},onKeyUp:this.handleGridKeyUp,"data-tb-test-id":a.testId(this.props.testId,"ColorGridWrapper")};return l.createElement(h.Overlay,o,l.createElement("div",i,l.createElement(s.ColorGridWidget,t),a.conditional(this.props.showCustomColorInput,l.createElement("div",{},l.createElement("hr",{style:{marginTop:c.TabStyles.Spacing.LargeSpace}}),l.createElement(p.CustomColorInput,n)))))},t.prototype.getCustomColorInput=function(){var e=this.props.colorsPreset===s.ColorGridPreset.Light?c.TabStyles.ColorPickerPresets.Light:c.TabStyles.ColorPickerPresets.Dark;return this.isSelectedColorCustom(e)?this.props.selectedColor:""},t.prototype.isSelectedColorCustom=function(e){if(!this.props.selectedColor)return!1;for(var t=0,n=e;t<n.length;t++){if(n[t].toLowerCase()===this.props.selectedColor.toLowerCase())return!1}return!0},t.defaultProps={shouldReturnFocusOnClose:!0},t}(i.Component);t.ColorPickerWidget=I},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(117),s=n(2),a=n(0),l=n(3),d=n(17),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e={display:"flex",flexDirection:"column",textAlign:"center",width:this.props.width,fontFamily:l.TabStyles.Typography.FontFamily,fontSize:"small"},t={onColorSelected:this.props.onColorSelected,testId:this.props.testId,selectedColor:this.props.color,containerWidth:this.props.width};return a.createElement("div",{style:e,"data-tb-test-id":s.testId(this.props.testId,"CustomColorInput")},d.Messages.customColor(),a.createElement(r.HexColorInput,t))},t}(i.Component);t.CustomColorInput=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(15),s=n(2),a=n(0),l=n(3),d=n(37),c=function(e){function t(t){var n=e.call(this,t)||this;return n.hexColorRegExp=/^#?[0-9A-Fa-f]{6}$/,n.onHandleClearText=function(){n.setState({hexColorText:"#"})},n.onHexColorInput=function(e){n.setState({hexColorText:e})},n.onColorInputEnter=function(){n.isAHexColor(n.state.hexColorText)&&n.props.onColorSelected(n.prependHash(n.state.hexColorText))},n.handleSwatchClicked=function(e){n.isAHexColor(n.state.hexColorText)&&n.props.onColorSelected(n.prependHash(e.toLowerCase()))},n.isAHexColor=function(e){return n.hexColorRegExp.test(e)},n.removeHash=function(e){return null!==e&&"#"===e.charAt(0)&&(e=e.slice(1)),e},n.prependHash=function(e){return null!==e&&"#"!==e.charAt(0)&&(e="#"+e),e},n.state={hexColorText:n.shouldDisplayCustomColor()?n.removeHash(t.selectedColor.toUpperCase()):"#"},n}return o.__extends(t,e),t.prototype.render=function(){var e={handleEnter:this.onColorInputEnter,handleChange:this.onHexColorInput,handleClearText:this.onHandleClearText,placeholder:"#",text:this.state.hexColorText||"#",hasError:"#"!==this.state.hexColorText&&!this.isAHexColor(this.state.hexColorText),containerStyle:{display:"inline-flex",paddingLeft:l.TabStyles.Spacing.DefaultSpace,flexGrow:1,width:"100%"},testId:this.props.testId},t={height:l.TabStyles.Sizing.RowHeight,width:l.TabStyles.Sizing.RowHeight,minHeight:l.TabStyles.Sizing.RowHeight,minWidth:l.TabStyles.Sizing.RowHeight,borderWidth:l.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:l.TabStyles.Colors.L6,boxSizing:"border-box",marginRight:6},n={color:this.getCustomColor()||"transparent",handleClick:this.handleSwatchClicked,size:l.TabStyles.Sizing.RowHeight-2*l.TabStyles.Sizing.BorderWidth,selected:this.shouldSwatchBeSelected(),disabled:!this.getCustomColor(),testId:this.props.testId};return a.createElement("div",{style:{display:"flex",flexGrow:1,paddingTop:l.TabStyles.Spacing.DefaultSpace},"data-tb-test-id":s.testId(this.props.testId,"HexInput")},a.createElement("div",{style:t},a.createElement(d.ColorSwatchWidget,n)),a.createElement(r.OutlineTextFieldWidget,e))},t.prototype.getCustomColor=function(){return"#"!==this.state.hexColorText&&this.isAHexColor(this.state.hexColorText)?this.prependHash(this.state.hexColorText):null},t.prototype.shouldDisplayCustomColor=function(){return 0!==this.props.selectedColor.length},t.prototype.shouldSwatchBeSelected=function(){return this.shouldDisplayCustomColor()&&this.prependHash(this.state.hexColorText.toLowerCase())===this.props.selectedColor},t}(i.Component);t.HexColorInput=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(4),a=n(8),l=n(2),d=n(63),c=n(17),u=function(){return{underlay:{background:"rgba(255,255,255,.6)",borderRadius:10,textAlign:"center",width:a.ActivitySpinnerIcon.underlaySize,height:a.ActivitySpinnerIcon.underlaySize},spinnerWithUnderlay:{width:a.ActivitySpinnerIcon.size,height:"100%"},spinner:{width:a.ActivitySpinnerIcon.size,height:a.ActivitySpinnerIcon.size}}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){return this.props.shouldShowUnderlay?r.createElement(s.InlineBlock,{style:u().underlay,"data-tb-test-id":"spinner-underlay"},this.getSpinnerElement()):this.getSpinnerElement()},t.prototype.getSpinnerElement=function(){var e=u();return d.isMSEdgeBrowser()?r.createElement("iframe",{frameBorder:"0",scrolling:"no",src:a.ActivitySpinnerIcon.edgeBrowserImage,type:"image/svg+xml",style:this.props.shouldShowUnderlay?e.spinnerWithUnderlay:e.spinner,"data-tb-test-id":l.testId(this.props.testId,"Spinner"),role:"img","aria-label":c.Messages.waitIndicatorLabel()}):r.createElement("object",{data:a.ActivitySpinnerIcon.animation,type:"image/svg+xml",style:this.props.shouldShowUnderlay?e.spinnerWithUnderlay:e.spinner,"data-tb-test-id":l.testId(this.props.testId,"Spinner"),role:"img","aria-label":c.Messages.waitIndicatorLabel()})},t}(i.Component);t.ActivitySpinnerWidget=p},function(e,t,n){"use strict";function o(e){return r.createElement(s.SliderWidget,i.__assign({},e,{handleCountAndRangeType:s.SINGLE_HANDLE_SINGLE_VALUE,continuous:!0}))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),s=n(28);t.ContinuousSliderWidget=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(63),s=n(20),a=n(33),l=n(51),d=n(2),c=n(18),u=n(121),p=n(64),h=n(66),g=n(122),y=n(66);t.FIRST_HANDLE=y.FIRST_HANDLE,t.SECOND_HANDLE=y.SECOND_HANDLE;var I=function(e){function t(t){var n=e.call(this,t)||this;return n.getHandleCount=function(){return void 0===n.props.handles.secondHandlePosition?1:2},n.isSingleHandleBeingDragged=function(e){return e===h.FIRST_HANDLE||e===h.SECOND_HANDLE},n.determineSingleHandleDragOffsetIfNeeded=function(e,t,o){if(t){var i;return e===h.FIRST_HANDLE?i=n.props.handles.firstHandlePosition:e===h.SECOND_HANDLE&&(i=n.props.handles.secondHandlePosition),i?i-o:void 0}},n.determineWhichHandleShouldBeDraggedForEvent=function(e,t){return e?1===n.getHandleCount()?h.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForTouchAndOneHandle(t,n.firstHandleWidgetRef.getBoundingClientRectForInteractiveArea()):h.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles(t,n.firstHandleWidgetRef.getBoundingClientRectForInteractiveArea(),n.secondHandleWidgetRef.getBoundingClientRectForInteractiveArea()):1===n.getHandleCount()?h.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForMouseAndOneHandle(t,n.firstHandleWidgetRef.getBoundingClientRectForIcon()):h.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles(t,n.firstHandleWidgetRef.getBoundingClientRectForIcon(),n.secondHandleWidgetRef.getBoundingClientRectForIcon())},n.fireHandleDragStartEvents=function(e,t,o){n.isSingleHandleBeingDragged(e)?n.props.onHandleDragStart&&!isNaN(t)&&n.props.onHandleDragStart(e,t+(o||0)):n.props.onBothHandleDragStart&&n.props.onBothHandleDragStart()},n.fireHandleDragMoveEvents=function(e,t){n.isSingleHandleBeingDragged(n.state.handleBeingDragged)?n.props.onHandleDragMove&&!isNaN(e)&&n.props.onHandleDragMove(n.state.handleBeingDragged,e):!n.props.onBothHandleDragMove||void 0===t||isNaN(e)||isNaN(t)||n.props.onBothHandleDragMove(e,t)},n.fireHandleDragEndEvents=function(e){var t=n.isSingleHandleBeingDragged(e);t&&n.props.onHandleDragEnd?n.props.onHandleDragEnd(e):!t&&n.props.onBothHandleDragEnd&&n.props.onBothHandleDragEnd()},n.setKeyboardFocusOnHandle=function(e){var t=n.state.handleBeingDragged===h.SECOND_HANDLE?n.secondHandleWidgetRef:n.firstHandleWidgetRef;t&&t.focus()},n.dragStart=function(e,t,o,i){if(n.containerElementRef){var r=g.SliderHandleContainerCoordinateLogic.convertClientCoordinateIntoProportionOfContainer(t.x,n.containerElementRef.getBoundingClientRect());n.globalPointerEventCapturer&&n.globalPointerEventCapturer.addListeners();var s=n.determineSingleHandleDragOffsetIfNeeded(e,o,r);n.setState({handleBeingTouched:i?e:void 0,handleBeingDragged:e,dragOriginInClientCoordinates:t,handlePositionsAtDragStart:n.props.handles,singleHandleDragOffsetAsProportion:s}),n.fireHandleDragStartEvents(e,r,s),n.setKeyboardFocusOnHandle(e)}},n.dragMove=function(e){if(n.containerElementRef){var t=n.isSingleHandleBeingDragged(n.state.handleBeingDragged);if(t&&n.props.onHandleDragMove){var o=n.state.handleBeingDragged===h.FIRST_HANDLE?n.state.handlePositionsAtDragStart.firstHandlePosition:n.state.handlePositionsAtDragStart.secondHandlePosition,i=g.SliderHandleContainerCoordinateLogic.calculateProportionalPositionWhenDraggingSingleHandle(n.state.dragOriginInClientCoordinates.x,o,e.x,n.containerElementRef.getBoundingClientRect());n.fireHandleDragMoveEvents(i)}else if(!t&&n.props.onBothHandleDragMove){var r=g.SliderHandleContainerCoordinateLogic.calculateProportionalPositionsWhenDraggingBothHandles(n.state.dragOriginInClientCoordinates.x,n.state.handlePositionsAtDragStart.firstHandlePosition,n.state.handlePositionsAtDragStart.secondHandlePosition,e.x,n.containerElementRef.getBoundingClientRect());n.fireHandleDragMoveEvents(r.firstHandlePosition,r.secondHandlePosition)}}},n.dragEnd=function(){if(n.state.handleBeingDragged){n.globalPointerEventCapturer&&n.globalPointerEventCapturer.removeListeners();var e=n.state.handleBeingDragged;n.setState({handleBeingTouched:void 0,handleBeingDragged:void 0,dragOriginInClientCoordinates:void 0,handlePositionsAtDragStart:void 0}),n.fireHandleDragEndEvents(e)}},n.setContainerRef=function(e){n.containerElementRef=e,n.globalPointerEventCapturer=new l.GlobalPointerEventCapturer(n.containerElementRef,n.onPointerMove,n.onPointerUp)},n.setFirstHandleWidgetRef=function(e){n.firstHandleWidgetRef=e},n.setSecondHandleWidgetRef=function(e){n.secondHandleWidgetRef=e},n.onPointerDown=function(e){if(!n.props.disabled&&n.firstHandleWidgetRef&&(2!==n.getHandleCount()||n.secondHandleWidgetRef)){var t=e,o=a.getClientPosition(t),i=n.determineWhichHandleShouldBeDraggedForEvent(a.isTouchEvent(t),o);i&&(e.preventDefault(),e.stopPropagation(),n.dragStart(i.handle,o,i.directlyOnIcon,a.isTouchEvent(t)))}},n.onPointerMove=function(e){!n.props.disabled&&n.containerElementRef&&(e.preventDefault(),e.stopPropagation(),n.dragMove(a.getClientPosition(e)))},n.onPointerUp=function(e){n.dragEnd(),n.props.disabled||(e.preventDefault(),e.stopPropagation())},n.onFirstHandleKeyDown=function(e){n.props.disabled||n.props.onHandleKeyDown&&p.SliderValueLogic.KeysRelevantForManipulatingSlider[e.key]&&(n.props.onHandleKeyDown(h.FIRST_HANDLE,e.key),e.preventDefault(),e.stopPropagation())},n.onSecondHandleKeyDown=function(e){n.props.disabled||n.props.onHandleKeyDown&&p.SliderValueLogic.KeysRelevantForManipulatingSlider[e.key]&&(n.props.onHandleKeyDown(h.SECOND_HANDLE,e.key),e.preventDefault(),e.stopPropagation())},n.renderFirstHandle=function(){if(isNaN(n.props.handles.firstHandlePosition))return null;var e=n.state.handleBeingDragged===h.FIRST_HANDLE||n.state.handleBeingDragged===h.BOTH_HANDLES,t=n.state.handleBeingTouched===h.FIRST_HANDLE||n.state.handleBeingTouched===h.BOTH_HANDLES,o=1===n.getHandleCount()?u.NORMAL_HANDLE_ICON:u.LEFT_HANDLE_ICON;return i.createElement(u.SliderHandleWidget,{ref:n.setFirstHandleWidgetRef,disabled:n.props.disabled,position:n.props.handles.firstHandlePosition,icon:o,isBeingDragged:e,onKeyDown:n.onFirstHandleKeyDown,testId:n.props.testId,isBeingTouched:t})},n.renderSecondHandle=function(){if(1===n.getHandleCount()||!n.props.handles.secondHandlePosition||isNaN(n.props.handles.secondHandlePosition))return null;var e=n.state.handleBeingDragged===h.SECOND_HANDLE||n.state.handleBeingDragged===h.BOTH_HANDLES,t=n.state.handleBeingTouched===h.SECOND_HANDLE||n.state.handleBeingTouched===h.BOTH_HANDLES;return i.createElement(u.SliderHandleWidget,{ref:n.setSecondHandleWidgetRef,disabled:n.props.disabled,icon:u.RIGHT_HANDLE_ICON,position:n.props.handles.secondHandlePosition,isBeingDragged:e,onKeyDown:n.onSecondHandleKeyDown,testId:n.props.testId,isBeingTouched:t})},n.state={},n}return o.__extends(t,e),t.prototype.componentWillUnmount=function(){this.globalPointerEventCapturer&&this.globalPointerEventCapturer.removeListeners()},t.prototype.renderInnerHandleMouseCursorArea=function(e){if(this.props.disabled||isNaN(this.props.handles.firstHandlePosition)||1===this.getHandleCount()||!this.props.handles.secondHandlePosition||isNaN(this.props.handles.secondHandlePosition))return null;var t=100*this.props.handles.firstHandlePosition,n=100-100*this.props.handles.secondHandlePosition;return i.createElement("span",{style:o.__assign({},e,{left:t+"%",right:n+"%"})})},t.prototype.render=function(){var e=d.testId(this.props.testId,"SliderHandleContainer"),t=c.getSliderHandleContainerStyles(),n=t.Container;return r.isMSEdgeBrowser()&&(n.touchAction="none"),i.createElement(s.PointerEventWrapper,{pointerDown:this.onPointerDown,disabled:this.props.disabled},i.createElement("div",{style:n,onTouchStart:this.onPointerDown,ref:this.setContainerRef,"data-tb-test-id":e},this.renderFirstHandle(),this.renderSecondHandle(),this.renderInnerHandleMouseCursorArea(t.InnerHandleMouseCursorArea)))},t}(i.Component);t.SliderHandleContainer=I},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(6),s=n(8),a=n(2),l=n(14),d=n(18);t.NORMAL_HANDLE_ICON="NORMAL_HANDLE_ICON",t.LEFT_HANDLE_ICON="LEFT_HANDLE_ICON",t.RIGHT_HANDLE_ICON="RIGHT_HANDLE_ICON";var c=function(e){function n(n){var i=e.call(this,n)||this;return i.chooseIconAndStylesForRender=function(){var e=d.getSliderHandleStyles(),n=void 0,r=void 0,a=void 0;switch(i.props.icon){case t.LEFT_HANDLE_ICON:n=s.SliderLeftHandleIcon,r=e.HandleInteractiveAreaLeft,a=e.HandleIconLeft;break;case t.RIGHT_HANDLE_ICON:n=s.SliderRightHandleIcon,r=e.HandleInteractiveAreaRight,a=e.HandleIconRight;break;default:n=s.SliderHandleIcon,r=e.HandleInteractiveArea,a=e.HandleIcon}i.props.disabled&&(r=o.__assign({},r,e.DisabledHandleMixin),a=o.__assign({},a,e.DisabledHandleInnerFocusAreaMixin));var l=i.props.disabled?n.disabled:i.state.isHovered||i.props.isBeingDragged||i.state.isFocused?n.active:n.enabled;return{positioningContainerStyle:e.PositioningContainer,pressIndicationBarStyle:e.PressIndicationBar,interactiveAreaStyle:r,imgStyle:a,iconImageDataUrl:l}},i.setImgRef=function(e){i.imgRef=e},i.setInteractiveAreaRef=function(e){i.interactiveAreaRef=e},i.onFocus=function(e){i.props.disabled||i.setState({isFocused:e})},i.onHover=function(e){i.props.disabled||i.setState({isHovered:e})},i.state={isHovered:!1,isFocused:!1},i}return o.__extends(n,e),n.prototype.focus=function(){this.imgRef&&this.imgRef.focus()},n.prototype.getBoundingClientRectForIcon=function(){if(this.imgRef){var e=this.imgRef.getBoundingClientRect();return this.props.icon===t.LEFT_HANDLE_ICON?l.addClientRectRight(e,-1*s.SliderLeftHandleIcon.artworkOffsetFromRightSide):this.props.icon===t.RIGHT_HANDLE_ICON?l.addClientRectLeft(e,s.SliderRightHandleIcon.artworkOffsetFromLeftSide):e}},n.prototype.getBoundingClientRectForInteractiveArea=function(){if(this.interactiveAreaRef)return this.interactiveAreaRef.getBoundingClientRect()},n.prototype.render=function(){var e=a.testId(this.props.testId,"SliderHandle"),t=100*this.props.position,n=this.chooseIconAndStylesForRender(),s=n.positioningContainerStyle,l=n.pressIndicationBarStyle,d=n.interactiveAreaStyle,c=n.imgStyle,u=n.iconImageDataUrl,p=this.props.isBeingDragged&&this.props.isBeingTouched;return i.createElement(r.InteractiveDomWrapper,{handleHover:this.onHover,handleFocus:this.onFocus},i.createElement("span",{style:o.__assign({},s,{left:t+"%"}),"data-tb-test-id":e},p&&i.createElement("span",{style:l,"data-tb-test-id":e+"-touch-drag-indicator"}),i.createElement("span",{style:d,ref:this.setInteractiveAreaRef}),i.createElement("img",{style:c,src:u,tabIndex:this.props.disabled?void 0:0,onKeyDown:this.props.onKeyDown,ref:this.setImgRef,"data-tb-test-id":a.testId(this.props.testId,"SliderHandleIconArea")})))},n}(i.Component);t.SliderHandleWidget=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(65);!function(e){function t(e,t){var n=e-t.left,i=n/Math.max(1,t.width);return o.clamp(i,0,1)}function n(e,t,n,i){var r=n-e,s=r/i.width,a=t+s;return o.clamp(a,0,1)}function i(e,t,n,o,i){var r=o-e,s=r/i.width,a=t+s,l=n+s,d=n-t;return a<0?{firstHandlePosition:0,secondHandlePosition:d}:l>1?{firstHandlePosition:1-d,secondHandlePosition:1}:{firstHandlePosition:a,secondHandlePosition:l}}e.convertClientCoordinateIntoProportionOfContainer=t,e.calculateProportionalPositionWhenDraggingSingleHandle=n,e.calculateProportionalPositionsWhenDraggingBothHandles=i}(t.SliderHandleContainerCoordinateLogic||(t.SliderHandleContainerCoordinateLogic={}))},function(e,t,n){"use strict";function o(e){var t=[];if(1===e)t.push(.5);else if(e>1)for(var n=e-1,o=0;o<e;o++)t.push(o/n);return t}function i(e){var t=o(e.tickCount),n=t.map(function(e){return 100*e}),i=l.getSliderTickBarStyles();return s.createElement("div",{style:i.Bar,"data-tb-test-id":a.testId(e.testId,"SliderTickBar")},n.map(function(e,t){return s.createElement("span",{key:t,style:r.__assign({},i.Tick,{left:e+"%"})})}))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),s=n(0),a=n(2),l=n(18);t.calculateTickProportionalPositions=o,t.SliderTickBarWidget=i},function(e,t,n){"use strict";function o(e){var t,n=a.getSliderTrackStyles();if(e.rangeIndicatorBarPosition){var o=100*e.rangeIndicatorBarPosition.start,l=100*(1-e.rangeIndicatorBarPosition.end),d=e.handleIsBeingDragged?n.RangeIndicatorBarDarkened:n.RangeIndicatorBar;t=r.createElement("div",{style:i.__assign({},d,{left:o+"%",right:l+"%"})})}var c;if(e.dataBarPosition){var o=100*e.dataBarPosition.start,l=100*(1-e.dataBarPosition.end),d=e.handleIsBeingDragged?n.DataBarDarkened:n.DataBar;c=r.createElement("div",{style:i.__assign({},d,{left:o+"%",right:l+"%"})})}return r.createElement("div",{style:n.Track,"data-tb-test-id":s.testId(e.testId,"SliderTrack")},t,c)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),s=n(2),a=n(18);t.SliderTrackWidget=o},function(e,t,n){"use strict";function o(e){return r.createElement(s.SliderWidget,i.__assign({},e,{handleCountAndRangeType:s.SINGLE_HANDLE_SINGLE_VALUE,continuous:!1}))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0),s=n(28);t.DiscreteSliderWidget=o},function(e,t,n){"use strict";function o(e){var t=e.value,n=e.max,o=e.min,s=e.testId,a=e.onChange,l=e.disabled,d=e.style;return i.createElement(r.SliderWidget,{value:t,max:n,min:o,testId:s,onChange:a,disabled:l,style:d,continuous:!0,handleCountAndRangeType:"MIN"===e.openTo?r.SINGLE_HANDLE_RANGE_TO_MIN:r.SINGLE_HANDLE_RANGE_TO_MAX})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(28);t.OpenEndedRangeSliderWidget=o},function(e,t,n){"use strict";function o(e){var t=e.value,n=e.max,o=e.min,s=e.testId,a=e.onChange,l=e.disabled,d=e.style,c=e.trackDataBarRange;return i.createElement(r.SliderWidget,{value:t,max:n,min:o,testId:s,onChange:a,disabled:l,style:d,trackDataBarRange:c,continuous:!0,handleCountAndRangeType:r.TWO_HANDLES_RANGE_BETWEEN})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n(28);t.RangeSliderWidget=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),s=n(0),a=n(2),l=n(13),d=n(3),c=n(58),u=n(129),p=n(8),h=n(17);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Success=2]="Success",e[e.Info=3]="Info"}(o||(o={})),t.BannerType=o;var g=function(e){switch(e){case o.Error:return{textColor:"rgb(155,47,60)",backgroundColor:"rgb(249,202,207)",enabledIcon:p.BannerCloseIcons.error.enabled};case o.Warning:return{textColor:"rgb(198,76,48)",backgroundColor:"rgb(255,214,187)",enabledIcon:p.BannerCloseIcons.error.enabled};case o.Info:return{textColor:"rgb(15,68,94)",backgroundColor:"rgb(219,233,238)",enabledIcon:p.BannerCloseIcons.info.enabled};case o.Success:return{textColor:"rgb(0,63,51)",backgroundColor:"rgb(172,229,200)",enabledIcon:p.BannerCloseIcons.success.enabled};default:throw new Error("Invalid banner type: ${this.props.bannerType}")}},y=function(e){var t=g(e),n=d.TabStyles.Typography.Sizing.XXLarge+"px";return{label:{lineHeight:n,height:n,marginRight:d.TabStyles.Spacing.MediumSpace},outerDiv:{position:"fixed",left:"50%",transform:"translateX(-50%)",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",maxWidth:"800px",paddingLeft:d.TabStyles.Spacing.ExtraLargeSpace,paddingRight:d.TabStyles.Spacing.MediumSpace,height:"36px",backgroundColor:t.backgroundColor,color:t.textColor,fontFamily:d.TabStyles.Typography.FontFamily,fontSize:d.TabStyles.Typography.Sizing.Default},actionLink:{padding:"0px",marginRight:d.TabStyles.Spacing.MediumSpace,lineHeight:n,height:n,color:t.textColor,fontWeight:"bold",cursor:"pointer"},closeButton:{height:p.BannerCloseIcons.height,width:p.BannerCloseIcons.width,cursor:"pointer"},closeButtonInteractive:{hover:{backgroundColor:t.backgroundColor},focus:{backgroundColor:t.backgroundColor},active:{backgroundColor:t.backgroundColor}},closeButtonIconEnabled:t.enabledIcon,closeButtonIconActive:p.CloseButtonIcon.active}},I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){return s.createElement(l.StackingComponentWrapper,{wrapperTestId:this.props.testId,zIndex:this.props.zIndex},s.createElement(m,this.props))},t}(r.Component);t.BannerWidget=I;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.render=function(){var e=this,t=y(this.props.bannerType),n=i.__assign({top:this.props.topLeftYPx},t.outerDiv,a.conditional(this.props.topLeftXPx>0,{left:this.props.topLeftXPx,transform:"none"})),o=this.interactiveLink(t),r={testId:"banner-close",handleClick:function(){e.props.onCloseRequest()},activeIcon:t.closeButtonIconActive,defaultIcon:t.closeButtonIconEnabled,style:t.closeButton,interactiveStyle:t.closeButtonInteractive,title:h.Messages.close()};return s.createElement("div",{style:n},s.createElement("div",{style:t.label},this.props.message),o,s.createElement(c.IconButtonWidget,r))},t.prototype.interactiveLink=function(e){if(null===this.props.actionMessage||0===this.props.actionMessage.length)return null;var t={style:e.actionLink,message:this.props.actionMessage,onClick:this.props.onAction};return s.createElement(u.InteractiveLinkWidget,t)},t}(r.Component);t.BannerWidgetContent=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(0),s=n(6),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.render=function(){var e={pointerClick:this.props.onClick,interactiveStyles:{hover:{textDecoration:"underline"}}};return r.createElement(s.InteractiveDomWrapper,e,r.createElement("a",{style:this.props.style},this.props.message))},t}(i.PureComponent);t.InteractiveLinkWidget=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(1),r=n(0),s=n(67),a=n(131),l=n(132),d=n(135);!function(e){e[e.left=0]="left",e[e.justified=1]="justified"}(o=t.TabsAlignment||(t.TabsAlignment={}));var c=function(e){function t(t){var n=e.call(this,t)||this;if(n.setActiveIndex=function(e){n.setState({activeIndex:e,focusedIndex:e})},n.setFocusedIndex=function(e){n.setState({focusedIndex:e})},0===t.tabs.length)throw Error("Invalid 'tabs' count: one or more are required");return n.state={activeIndex:n.props.defaultActiveIndex,focusedIndex:-1},n.activator=l.TabActivatorFactory.CreateInstance(n),n}return i.__extends(t,e),t.prototype.createTabId=function(e){return this.props.testId+"-tab"+(e+1)},t.prototype.createTabPanelId=function(e){return this.props.testId+"-tabpanel"+(e+1)},t.prototype.renderTabBar=function(){var e=this;return this.props.tabs.map(function(t,n){var s={key:n,index:n,label:t.label,isActive:e.isTabActive(n),isFocused:e.isTabFocused(n),onClick:e.setActiveIndex,onKeyDown:e.activator.handleKeyDown,onFocus:e.setFocusedIndex,onBlur:function(){return e.setFocusedIndex(-1)},id:e.createTabId(n),ariaControls:e.createTabPanelId(n),title:t.title};return void 0!==e.props.tabsAlignment&&e.props.tabsAlignment!==o.justified||(s.flexPercent=100/e.props.tabs.length),r.createElement(a.Tab,i.__assign({},s))})},t.prototype.isTabActive=function(e){return e===this.state.activeIndex},t.prototype.isTabFocused=function(e){return e===this.state.focusedIndex},t.prototype.isAnchorTabActive=function(){return this.isTabActive(this.props.anchorTabIndex)},t.prototype.renderAnchorTabPanelForConsistentDialogHeight=function(){var e=this.props.anchorTabIndex,t={containerStyle:this.isAnchorTabActive()?s.ActiveTabVisibility:s.InactiveTabVisibility,content:this.props.tabs[e].panelContent,id:this.createTabPanelId(e),ariaLabeledBy:this.createTabId(e)};return r.createElement(d.TabPanel,i.__assign({},t))},t.prototype.renderActiveTabPanelIfDifferentThanAnchorTab=function(){if(this.isAnchorTabActive())return null;var e=this.state.activeIndex,t={containerStyle:s.NonAnchorTabPanelStyles,content:this.props.tabs[e].panelContent,id:this.createTabPanelId(e),ariaLabeledBy:this.createTabId(e)};return r.createElement(d.TabPanel,i.__assign({},t))},t.prototype.render=function(){var e={style:s.TabBarStyles,role:"tablist","aria-label":this.props.ariaLabel,"data-tb-test-id":this.props.testId+"-tab-items"},t={style:s.TabPanelContainerStyles,"data-tb-test-id":this.props.testId+"-tab-panel-container"};return r.createElement("div",null,r.createElement("div",i.__assign({},e),this.renderTabBar()),r.createElement("div",i.__assign({},t),this.renderAnchorTabPanelForConsistentDialogHeight(),this.renderActiveTabPanelIfDifferentThanAnchorTab()))},t}(r.PureComponent);t.TabsWidget=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),r=n(67),s=n(2),a=n(9),l=function(e){function t(t){var n=e.call(this,t)||this;return n.applyFocus=!1,n.handleMouseEnter=function(){var e=n.renderedTab.children[0].firstChild,t=n.props.title||a.isElementOverflownX(e)?n.props.label:void 0;n.setState({mouseInteraction:"hovered",title:t})},n.handleMouseDown=function(){n.setState({mouseInteraction:"pressed"})},n.handleMouseLeave=function(){n.setState({mouseInteraction:"none"})},n.handleClick=function(){n.setState({mouseInteraction:"none"}),n.props.onClick(n.props.index)},n.handleKeyDown=function(e){n.props.onKeyDown(n.props.index,e)},n.handleFocus=function(){n.props.onFocus(n.props.index)},n.handleRef=function(e){n.renderedTab=e},n.state={mouseInteraction:"none"},n}return o.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.applyFocus=e.isFocused&&!this.props.isFocused},t.prototype.componentDidUpdate=function(){this.applyFocus&&(this.renderedTab.focus(),this.applyFocus=!1)},t.prototype.determineTabIndicatorStyles=function(){return o.__assign({},r.BaseTabIndicatorStyles,s.conditional(this.isHovered(),r.HoveredTabIndicatorStyles),s.conditional(this.props.isActive,r.ActiveTabIndicatorStyles),s.conditional(this.props.isFocused,r.FocusedTabIndicatorStyles),s.conditional(this.isPressed(),r.PressedTabIndicatorStyles))},t.prototype.isHovered=function(){return"hovered"===this.state.mouseInteraction},t.prototype.isPressed=function(){return"pressed"===this.state.mouseInteraction},t.prototype.render=function(){var e=o.__assign({},r.DefaultTabLabelStyles,s.conditional(this.props.isActive&&!!this.props.flexPercent,{fontWeight:"bold"})),t=this.determineTabIndicatorStyles(),n={style:r.GetSingleTabStyles(this.props.flexPercent),onMouseEnter:this.handleMouseEnter,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick,onTouchEnd:this.handleClick,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.props.onBlur,tabIndex:this.props.isActive||this.props.isFocused?0:-1,ref:this.handleRef,role:"tab",title:this.props.title||this.state.title,id:this.props.id,"aria-controls":this.props.ariaControls,"aria-selected":this.props.isActive};return i.createElement("div",o.__assign({},n),i.createElement("div",{style:r.TabLabelContainerStyles},i.createElement("div",{style:e},this.props.label)),i.createElement("div",{style:t}))},t}(i.PureComponent);t.Tab=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(133),i=n(134),r=function(){function e(){}return e.CreateInstance=function(e){return"manual"===e.props.activationMode?new i.ManualTabActivator(e):new o.AutomaticTabActivator(e)},e}();t.TabActivatorFactory=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(68),r=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.handleKeyDown=function(e,t){var n=this.tabIndexFromKeyDown(e,t.key);-1!==n&&(this.tabsWidget.setActiveIndex(n),i.BaseTabActivator.preventDefaultAndStopPropagation(t))},t}(i.BaseTabActivator);t.AutomaticTabActivator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(68),r=function(e){function t(t){return e.call(this,t)||this}return o.__extends(t,e),t.prototype.handleKeyDown=function(e,t){var n=this.tabIndexFromKeyDown(e,t.key);if(-1!==n)return this.tabsWidget.setFocusedIndex(n),void i.BaseTabActivator.preventDefaultAndStopPropagation(t);var o=this.tabIndexToActivate(t.key);-1!==o&&(this.tabsWidget.setActiveIndex(o),i.BaseTabActivator.preventDefaultAndStopPropagation(t))},t.prototype.tabIndexToActivate=function(e){switch(e){case"Enter":case" ":return this.tabsWidget.state.focusedIndex;default:return-1}},t}(i.BaseTabActivator);t.ManualTabActivator=r},function(e,t,n){"use strict";function o(e){var t={style:e.containerStyle,role:"tabpanel",id:e.id,"aria-labelledby":e.ariaLabeledBy};return r.createElement("div",i.__assign({},t),e.content)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0);t.TabPanel=o}])});!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("@tableau/widgets")):"function"==typeof define&&define.amd?define(["react","@tableau/widgets"],t):"object"==typeof exports?exports.Cancel=t(require("react"),require("@tableau/widgets")):e.Cancel=t(e.React,e.SharedWidgets)}("undefined"!=typeof self?self:this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.WaitingComponent=r.WaitingComponent},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(3),s=n(8),a=n(9),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return r(t,e),t.prototype.render=function(){var e=this.props.title,t=this.props.message,n=void 0===this.props.showSpinner||this.props.showSpinner,r=void 0===this.props.showButton||this.props.showButton,c=void 0===this.props.buttonType?s.ButtonType.Text:this.props.buttonType,u=this.props.buttonLabel||a.Messages.cancel(),l={fontSize:"24px"};return o.createElement("div",{className:i.cancelContainer},e?this.renderItem(o.createElement(s.InputLabelWidget,{testId:"title",style:l},e)):null,n?this.renderItem(o.createElement(s.ActivitySpinnerWidget,{testId:"cancelSpinner"})):null,t?this.renderItem(o.createElement(s.InputLabelWidget,{testId:"message"},t)):null,r?this.renderItem(o.createElement(s.ButtonWidget,{handleClick:this.props.onButtonClick,testId:"cancelButton",buttonType:c,label:u,disabled:this.props.disableButton})):null)},t.prototype.renderItem=function(e){return o.createElement("div",null,e)},t}(o.PureComponent);t.WaitingComponent=c},function(t,n){t.exports=e},function(e,t,n){var r=n(4);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0};o.transform=void 0;n(6)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(5)(void 0),t.push([e.i,".WaitingComponent__cancelContainer__3MKgw {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n.WaitingComponent__cancelContainer__3MKgw > div {\n  margin: 6px 0px;\n}\n",""]),t.locals={cancelContainer:"WaitingComponent__cancelContainer__3MKgw"}},function(e,t){function n(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var i=r(o);return[n].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=h[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(l(r.parts[i],t))}else{for(var s=[],i=0;i<r.parts.length;i++)s.push(l(r.parts[i],t));h[r.id]={id:r.id,refs:1,parts:s}}}}function o(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],a=i[1],c=i[2],u=i[3],l={css:a,media:c,sourceMap:u};r[s]?r[s].parts.push(l):n.push(r[s]={id:s,parts:[l]})}return n}function i(e,t){var n=b(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=g[g.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=b(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function s(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function a(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),i(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),i(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function l(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var u=y++;n=m||(m=a(t)),r=f.bind(null,n,u,!1),o=f.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),r=d.bind(null,n,t),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=p.bind(null,n),o=function(){s(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function f(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function p(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=w(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}var h={},v=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),b=function(e){var t={};return function(n){if(void 0===t[n]){var r=e.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[n]=r}return t[n]}}(function(e){return document.querySelector(e)}),m=null,y=0,g=[],w=n(7);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=v()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=o(e,t);return r(n,t),function(e){for(var i=[],s=0;s<n.length;s++){var a=n[s],c=h[a.id];c.refs--,i.push(c)}if(e){r(o(e,t),t)}for(var s=0;s<i.length;s++){var c=i[s];if(0===c.refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete h[c.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o))return e;var i;return i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(){if("undefined"==typeof Localize)throw Error("The messages.<locale>.js file has not been loaded");return Localize}Object.defineProperty(t,"__esModule",{value:!0}),t.LocaleData={get:function(){return r().localeData}};var o=function(e,t){return r().msg.formatMessage(e,t)};t.Messages={cancel:function(){return o("@tableau__cancel/cancel")}}}])});(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffui');var b=function(ef,eg){dq.call(this,ef,eg)};b.__typeName='spiff.$0';b.$1=function(){var ef=new ck;ef.iScrollOptions={preventDefaultException:ss.mkdict(['tagName',new RegExp('^(INPUT|TEXTAREA|BUTTON|SELECT|A)$')]),disableMouse:true,interactiveScrollbars:true,mouseWheel:true};ef.ref='iscroll-component';return ef};b.$0=function(ef){var eg=b.$1();eg.augmentedScrollX=ef.augmentedScrollX;eg.augmentedScrollY=ef.augmentedScrollY;eg.extraCssClass=ef.extraCssClass;eg.iScrollOptions.scrollX=ef.scrollX;eg.iScrollOptions.scrollY=ef.scrollY;eg.scrollStopCallback=ef.onScrollStop;eg.scrollCallback=ef.onScroll;eg.alwaysShowScrollbarsIfScrollable=ef.alwaysShowScrollbarsIfScrollable;eg.startingY=ss.Nullable$1.neg(ef.startingY);eg.customStyle=ef.customStyle;if(ef.scrollbars){eg.iScrollOptions.scrollbars='custom'}return eg};var c=function(ef){this.$1=null;this.$1=ef};c.__typeName='spiff.$1';var d=function(){this.$1=null;this.$0=null;dL.call(this,$("<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"));this.$1=this.getElementBySelector('.tabTabLabels');this.$0=this.getElementBySelector('.tabTabContentArea')};d.__typeName='spiff.$10';var e=function(){dL.call(this,$("<span class='tabTabLabel' />"))};e.__typeName='spiff.$11';var f=function(ef){this.$0=null;this.$0=ef};f.__typeName='spiff.$12';var g=function(ef){this.$0=null;this.$0=ef};g.__typeName='spiff.$13';var h=function(ef,eg){this.$2=null;this.$0=true;this.$1=true;IScroll.call(this,ef,eg.iScrollOptions);this.$2=ef;this.$0=eg.augmentedScrollX;this.$1=eg.augmentedScrollY};h.__typeName='spiff.$2';var i=function(){};i.__typeName='spiff.$3';i.$0=function(ef,eg,eh){var ei=new cW(ef,eg,eh);ei.source=i.$3[ei.type];ei.inputType=i.$1(ei.type);return ei};i.$1=function(ef){var eg=6;if(ss.keyExists(i.$9,ef)){eg=0}else if(ss.keyExists(i.$6,ef)){eg=1}else if(ss.keyExists(i.$5,ef)){eg=2}else if(ss.keyExists(i.$7,ef)){eg=3}else if(ss.keyExists(i.$4,ef)){eg=5}else if(ss.keyExists(i.$8,ef)){eg=4}return eg};i.$2=function(){i.$9['touchstart']=2;i.$6['touchmove']=2;i.$5['touchend']=2;i.$4['touchcancel']=2;if(tsConfig.is_mobile){if(!tab.BrowserSupport.get_isTouch()){i.$9['mousedown']=1;i.$6['mousemove']=1;i.$5['mouseup']=1;i.$7['mouseout']=1}}else{i.$9['mousedown']=1;i.$6['mousemove']=1;i.$5['mouseup']=1;i.$7['mouseout']=1;i.$8['scroll']=1;i.$5['contextmenu']=1}$.extend(i.$3,i.$9,i.$6,i.$5,i.$7,i.$8,i.$4)};var j=function(){};j.__typeName='spiff.$4';var k=function(){};k.__typeName='spiff.$5';k.$2=function(ef,eg){if(ef===9){k.$3[0]=eg}else if(ef===27){k.$3[1]=eg}else if(ef>=33&&ef<=40){k.$3[ef-31]=eg}};k.$0=function(){k.$3=new Array(10)};k.$1=function(){for(var ef=0;ef<k.$3.length;ef++){if(k.$3[ef]){return true}}return false};var l=function(){this.$9=null;this.$6=null;this.$4=null;this.$5=null;this.$0=null;this.$8=null;this.$1=false;this.$2=false;this.$3=false;dL.call(this,$("\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"))};l.__typeName='spiff.$6';var m=function(ef,eg){this.$7=new l;this.$7.$6=this.$7.getElementBySelector('.tabMenuItemName');this.$7.$6.text(ef);if(!eg){this.$7.domRoot.addClass('tabDisabled').attr('aria-disabled','true')}};m.__typeName='spiff.$7';var n=function(){this.$3=null;this.$2=null;this.$4=null;dL.call(this,$("<div class='tab-editable-text-view'><div><div class='view-mode'><span class = 'text-span'/></div><input class='edit-mode' type='text'/></div></div>"));this.$3=this.getElementBySelector('.view-mode');this.$2=this.getElementBySelector('.edit-mode');this.$4=this.$3.find('.text-span')};n.__typeName='spiff.$8';var o=function(){this.$0=null;dL.call(this,$("<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement')};o.__typeName='spiff.$9';var p=function(){};p.__typeName='spiff.AnchorTarget';global.spiff.AnchorTarget=p;var q=function(){};q.__typeName='spiff.AriaAttrName';global.spiff.AriaAttrName=q;var r=function(){};r.__typeName='spiff.AriaRole';global.spiff.AriaRole=r;var s=function(ef){de.call(this,ef)};s.__typeName='spiff.ArrowDropdownButtonComponent';global.spiff.ArrowDropdownButtonComponent=s;var t=function(ef){var eg=function(){this.$2$1=null;this.$2$2=ss.getDefaultValue(ef);x.call(this)};ss.registerGenericClassInstance(eg,t,[ef],{add_propsUpdated:function(eh){this.$2$1=ss.delegateCombine(this.$2$1,eh)},remove_propsUpdated:function(eh){this.$2$1=ss.delegateRemove(this.$2$1,eh)},get_props:function(){return this.$2$2},set_props:function(eh){this.$2$2=eh},updateProps$1:function(eh){this.set_props(eh);this.raiseActionEvent(this.$2$1)},updateProps:function(){this.raiseActionEvent(this.$2$1)}},function(){return x},function(){return[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cf,[ef])]});return eg};t.__typeName='spiff.BaseComponentViewModel$1';ss.initGenericClass(t,a,1);global.spiff.BaseComponentViewModel$1=t;var u=function(ef){var eg=function(eh,ei){ss.makeGenericType(w,[ef]).call(this,eh,ei)};ss.registerGenericClassInstance(eg,u,[ef],{positionMenu:function(eh,ei,ej){var ek=Math.min(document.documentElement.clientWidth,tab.WindowHelper.get_windowSelf().innerWidth)-10;ej.domRoot.css('max-width',ek+'px');var el=(tsConfig.is_mobile?tab.WindowHelper.get_windowSelf().innerWidth:document.documentElement.clientWidth);var em=$(window).scrollLeft()+5;var en=em+el-10;var eo=ej.domRoot.outerHeight(false);var ep=Math.min(ej.domRoot.outerWidth(false),ek);var eq=eo-ej.domRoot.height();var er=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset$1(ei.relativeDom));var es=ei.relativeDom.outerWidth(false);var et=ei.relativeDom.outerHeight(false);if(ss.isValue(ei.cursorPosition)){er=tab.PointUtil.fromPosition(ei.cursorPosition);es=0;et=0}var eu,ev;var ew=eh.getVisibleRoom(er);var ex=null;if(!ei.preferUp&&ew.roomBelow>=eo+et){ev=er.y+et}else if(ew.roomAbove>eo){ev=er.y-eo}else if(ew.roomBelow-et>=ew.roomAbove){ev=er.y+et;ex=ew.roomBelow-et-eq-5}else{ev=er.y-ew.roomAbove+5;ex=ew.roomAbove-eq-5}if(ei.preferLeft){eu=er.x+es-ep}else{eu=er.x}eu=Math.max(eu,em);if(eu+ep>en){eu=en-ep}eu=Math.max(5,eu);ev-=bE.centeringContainerOffset();var ey={};ey['top']=ev+'px';ey['left']=eu+'px';ey['max-height']=(ss.isValue(ex)?(ex+'px'):'');ej.domRoot.css(ey)}},function(){return ss.makeGenericType(w,[ef])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ef])]});eg.$0=5;return eg};u.__typeName='spiff.BaseMenuView$1';ss.initGenericClass(u,a,1);global.spiff.BaseMenuView$1=u;var v=function(ef){var eg=function(){this.$1=null;this.$2$1=null;x.call(this)};ss.registerGenericClassInstance(eg,v,[ef],{add_propsUpdated:function(eh){this.$2$1=ss.delegateCombine(this.$2$1,eh)},remove_propsUpdated:function(eh){this.$2$1=ss.delegateRemove(this.$2$1,eh)},get_props:function(){if(ss.isNullOrUndefined(this.$1)){this.$0()}return this.$1},set_props:function(eh){this.$1=eh},incrementProps:function(){var eh=this.createUpdatedProps();var ei=$.extend(false,new Object,this.get_props(),eh);this.set_props(ei);if(ss.isNullOrUndefined(eh)){}else{this.raiseActionEvent(this.$2$1)}},addChildViewModel:function(eh){var ei=ss.mkdel(this,this.incrementProps);eh.add_propsUpdated(ei);return new tab.CallOnDispose(function(){eh.remove_propsUpdated(ei)})},$0:function(){this.set_props(this.createInitialProps());this.incrementProps()},createInitialProps:function(){return new Object},createUpdatedProps:function(){return null}},function(){return x},function(){return[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cf,[ef])]});return eg};v.__typeName='spiff.BaseReactViewModel$1';ss.initGenericClass(v,a,1);global.spiff.BaseReactViewModel$1=v;var w=function(ef){var eg=function(eh,ei){this.$3=null;this.$4=ss.getDefaultValue(ef);ed.call(this,ei.domRoot);tab.Param.verifyValue(eh,'viewModel');tab.Param.verifyValue(ei,'t');this.$3=ei;this.$4=eh;this.$4.add_disposed(ss.mkdel(this,this.$2));this.$4.add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))};ss.registerGenericClassInstance(eg,w,[ef],{get_template:function(){return this.$3},get_rootElement:function(){return this.element},get_viewModel:function(){return this.$4},dispose:function(){this.$4.remove_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged));this.$4.remove_disposed(ss.mkdel(this,this.$2));this.$3.dispose();ed.prototype.dispose.call(this)},onViewModelPropertyChanged:function(eh,ei){},$2:function(eh){this.dispose()}},function(){return ed},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ef])]});return eg};w.__typeName='spiff.BaseView$1';ss.initGenericClass(w,a,1);global.spiff.BaseView$1=w;var x=function(){this.disposables=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null};x.__typeName='spiff.BaseViewModel';global.spiff.BaseViewModel=x;var y=function(ef){this.$7='hover';this.$6='focus';this.$5='disabled';this.$4=null;this.$8=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;ed.call(this,ef);this.$2()};y.__typeName='spiff.Button';global.spiff.Button=y;var z=function(ef){var eg=function(eh){React.Component.call(this,eh)};ss.registerGenericClassInstance(eg,z,[ef],{get_className:function(){var eh=['tab-UnifiedButton'];if(ss.isValue(this.props.customClassName)){eh.push(this.props.customClassName)}if(this.props.border){eh.push('bordered')}if(this.props.disabled){eh.push('disabled')}return eh.join(' ')},customContentBefore:function(){return(!ss.staticEquals(this.props.getCustomContentBefore,null)?this.props.getCustomContentBefore():null)},customContentAfter:function(){return(!ss.staticEquals(this.props.getCustomContentAfter,null)?this.props.getCustomContentAfter():null)},render:function(){var eh={className:this.get_className(),style:this.props.buttonStyle,title:(ss.isNullOrUndefined(this.props.tooltip)?this.props.label:this.props.tooltip),onKeyDown:ss.mkdel(this,function(ei){var ej=ei.keyCode;if(ej===32||ej===13){this.$1(cW.create(ei,ReactDOM.findDOMNode(this),null));ei.preventDefault();ei.stopPropagation()}}),'data-test-id':this.props.testId,role:'button'};if(ss.isValue(this.props.tabIndex)){eh.tabIndex=ss.unbox(this.props.tabIndex)}if(ss.isValue(this.props.additionalRoles)&&this.props.additionalRoles.length>0){eh.role+=' '+this.props.additionalRoles.join(' ')}return bu.div({tap:ss.mkdel(this,this.$1),doubleTap:ss.mkdel(this,this.$0)},eh,[this.customContentBefore(),bk.span({className:'tab-Text',style:this.props.labelStyle,key:'textContent'},this.props.label),this.customContentAfter()])},$1:function(eh){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(eh)}},$0:function(eh){if(!this.props.disabled&&!ss.staticEquals(this.props.onDoubleTap,null)){this.props.onDoubleTap(eh)}}},function(){return React.Component},function(){return[]});return eg};z.__typeName='spiff.ButtonBaseComponent$1';ss.initGenericClass(z,a,1);global.spiff.ButtonBaseComponent$1=z;var A=function(ef){ss.makeGenericType(z,[Object]).call(this,ef)};A.__typeName='spiff.ButtonComponent';A.create=function(ef,eg,eh){return React.createElement(A,{customClassName:'tabStyledTextButton tabMediumStyledTextButton '+ef,label:eg,onTap:eh})};global.spiff.ButtonComponent=A;var B=function(){};B.__typeName='spiff.ButtonSize';global.spiff.ButtonSize=B;var C=function(ef,eg){ss.makeGenericType(dj,[ct,Object,Object]).call(this,ct.newCheckbox(ef.label,ef.isSelected),ef,eg);this.get_widget().set_disabled(ef.disabled)};C.__typeName='spiff.CheckboxComponent';global.spiff.CheckboxComponent=C;var D=function(ef,eg,eh,ei){this.$a=null;this.$b=null;this.$3$1=null;dN.call(this,ef,eg,eh,null,false);this.$a=ef;this.add_propertyChanged(ss.mkdel(this,this.$9));this.$b=new y(this.$a.get_searchBoxClear());this.$b.onClick(ss.mkdel(this,this.$8));this.$b.set_hoverTooltipText(ei);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_propertyChanged(ss.mkdel(this,this.$9));this.$b.dispose()})));this.$7()};D.__typeName='spiff.ClearableTextInputView';D.newClearableTextInputView=function(ef,eg,eh){var ei=new E;return new D(ei,ef,eg,eh)};global.spiff.ClearableTextInputView=D;var E=function(){this.$0=null;this.$1=null;this.$2=null;dL.call(this,$("<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement');this.$1=this.getElementBySelector('.tabTextInputViewInputElementContainer');this.$2=this.getElementBySelector('.tabClearableTextBoxClearButton')};E.__typeName='spiff.ClearableTextInputViewTemplate';global.spiff.ClearableTextInputViewTemplate=E;var F=function(){};F.__typeName='spiff.ClickBuster';F.add_clickBustDetected=function(ef){F.$1$1=ss.delegateCombine(F.$1$1,ef)};F.remove_clickBustDetected=function(ef){F.$1$1=ss.delegateRemove(F.$1$1,ef)};F.preventGhostClick=function(ef,eg,eh){if(!tab.BrowserSupport.get_isTouch()||!tab.BrowserSupport.get_addEventListener()){return}if(ss.isNullOrUndefined(F.$3)){F.$3=[];document.addEventListener('click',F.$0,true)}var ei=$(eh).closest('.'+F.suppressClickBustingClass).length>0;if(!ei){F.$3.push({item1:ef,item2:eg});window.setTimeout(F.$1,600)}};F.$1=function(){ss.removeAt(F.$3,0)};F.$0=function(ef){var eg=ef;var eh=eg.pageX;var ei=eg.pageY;for(var ej=0;ej<F.$3.length;ej++){var ek=F.$3[ej];if(Math.abs(ek.item1-eh)<25&&Math.abs(ek.item2-ei)<25){ef.stopPropagation();ef.preventDefault();if(ss.isValue(F.$1$1)){F.$1$1(ef)}}}};global.spiff.ClickBuster=F;var G=function(){this.$b=new tab.DisposableHolder;this.$e=0;this.$f=0;this.$g=null;this.$c='clickHandler'+G.$2++;this.$d=null;this.$a=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};G.__typeName='spiff.ClickHandler';G.targetAndClick=function(ef,eg){return(new G).setTarget(ef).onClick(eg)};G.targetAndRightClick=function(ef,eg){return(new G).setTarget(ef).onRightClick(eg)};G.targetAndPress=function(ef,eg){return(new G).setTarget(ef).onPress(eg)};global.spiff.ClickHandler=G;var H=function(){React.Component.call(this);var ef=new O;ef.isSelecting=false;this.state=ef};H.__typeName='spiff.ComboBoxComponent';H.createCustomIconElements=function(ef){if(ss.isNullOrEmptyString(ef)){return null}return[bk.div({className:'tab-Icon '+ef})]};global.spiff.ComboBoxComponent=H;var I=function(ef){cO.call(this);this.itemClass='tabMenuItemComboDropdownTheme tab-ctrl-formatted-text';this.menuClass='tabMenuComboDropdownTheme tab-ctrl-formatted-widget '+ef};I.__typeName='spiff.ComboBoxDropdownMenuTheme';global.spiff.ComboBoxDropdownMenuTheme=I;var J=function(ef,eg,eh,ei,ej){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.set_iconClass(ef);this.set_name(eg);this.set_data(eh);this.set_description(ei);this.set_title(ej)};J.__typeName='spiff.ComboBoxItem';global.spiff.ComboBoxItem=J;var K=function(){cO.call(this);this.itemClass='tabMenuItemComboTheme';this.menuClass='tabMenuComboTheme'};K.__typeName='spiff.ComboBoxMenuTheme';global.spiff.ComboBoxMenuTheme=K;var L=function(){};L.__typeName='spiff.ComboBoxMenuThemeChoice';global.spiff.ComboBoxMenuThemeChoice=L;var M=function(){this.styleClass=null;this.buttonStyleClass=null;this.selectedText=null;this.selectedIconClass=null;this.hasTooltip=false;this.enabled=false;Object.call(this)};M.__typeName='spiff.ComboBoxProps';global.spiff.ComboBoxProps=M;var N=function(){};N.__typeName='spiff.ComboBoxSizing';global.spiff.ComboBoxSizing=N;var O=function(){this.isSelecting=false};O.__typeName='spiff.ComboBoxState';global.spiff.ComboBoxState=O;var P=function(){this.icon=null;this.name=null;this.button=null;dL.call(this,$("<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"));this.icon=this.getElementBySelector('.tabComboBoxIcon');this.name=this.getElementBySelector('.tabComboBoxName');this.button=this.getElementBySelector('.tabComboBoxButtonHolder')};P.__typeName='spiff.ComboBoxTemplate';global.spiff.ComboBoxTemplate=P;var Q=function(){};Q.__typeName='spiff.ComboBoxTheme';global.spiff.ComboBoxTheme=Q;var R=function(ef,eg){this.clickHandler=null;this.$d=null;this.$c=null;ss.makeGenericType(w,[S]).call(this,ef,eg);this.$d=ef;this.$c=eg;this.$d.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));this.$d.add_itemsChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_itemsChanged(ss.mkdel(this,this.$7))})));this.$d.add_enabledChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_enabledChanged(ss.mkdel(this,this.$5))})));this.$d.add_isSelectionInvalidChanged(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_isSelectionInvalidChanged(ss.mkdel(this,this.$6))})));this.clickHandler=dI.targetAndClick(this.$c.domRoot[0],ss.mkdel(this,this.$9));this.clickHandler.set_stopPropagationOnEvent(false);this.disposables.add$1(this.clickHandler);this.$c.domRoot.keydown(ss.mkdel(this,this.$a));this.$c.domRoot.addClass(R.classesForTheme[this.$d.get_theme()]);this.$d.add_menuHidden(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_menuHidden(ss.mkdel(this,this.$8))})));this.$b(this.$d.get_selectedItem());this.$5();this.$6()};R.__typeName='spiff.ComboBoxView';global.spiff.ComboBoxView=R;var S=function(){this.$j=[];this.$m=null;this.$f=null;this.$p=0;this.$l=0;this.$o=0;this.$n=true;this.$g=true;this.$i=false;this.$k='';this.$e=null;this.$h=true;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=false;this.menuItems=null;this.selectedMenuItem=null;this.generateProps=false;this.$3$8=false;this.$3$9=null;ss.makeGenericType(v,[M]).call(this);this.set_showDropdownIcon(false);this.generateProps=false};S.__typeName='spiff.ComboBoxViewModel';S.newUnificationComboBoxViewModel=function(){var ef=new S;ef.set_theme(2);ef.set_menuTheme(2);return ef};S.newLineAndArrowComboBoxViewModel=function(){var ef=new S;ef.set_theme(3);ef.set_menuTheme(2);return ef};S.newReactLineAndArrowComboBoxViewModel=function(){var ef=new S;ef.set_theme(3);ef.set_menuTheme(2);ef.generateProps=true;return ef};global.spiff.ComboBoxViewModel=S;var T=function(ef){this.compositeSearchWidgetTemplate=null;this.$8=null;this.initialSearchTextInfo=null;this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;ed.call(this,ef.get_domRootElement());this.compositeSearchWidgetTemplate=ef;this.compositeSearchWidgetTemplate.get_clearButton().add_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().add_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().add_propertyChanged(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.compositeSearchWidgetTemplate.get_clearButton().remove_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().remove_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().remove_propertyChanged(ss.mkdel(this,this.$3));this.compositeSearchWidgetTemplate.disposeTemplate()})));this.disposables.add$1(bA.bindWithDispose(this.get_textInputView().get_inputElement(),'mousedown',ss.mkdel(this,this.$4)));this.disposables.add$1(bA.bindWithDispose(this.get_textInputView().get_inputElement(),'touchstart',ss.mkdel(this,this.$4)));this.get_textInputView().get_inputElement().attr('autocomplete','off');this.get_textInputView().get_inputElement().attr('autocorrect','off');this.get_textInputView().get_inputElement().attr('autocapitalize','off');this.get_textInputView().get_inputElement().attr('spellcheck','false')};T.__typeName='spiff.CompositeSearchWidget';global.spiff.CompositeSearchWidget=T;var U=function(){this.initialSearchText='';this.initialSearchTextDomClassName=''};U.__typeName='spiff.CompositeSearchWidgetInitialSearchTextInfo';global.spiff.CompositeSearchWidgetInitialSearchTextInfo=U;var V=function(){this.searchTextInputView=null;this.$1=null;this.$0=null;dL.call(this,$("<div class='tabCompositeSearchWidget'><div>"));this.searchTextInputView=dN.newTextInputView('','',null,false);this.get_textInputView().addToDom(this.domRoot);this.$1=cs.newNativeButton();this.$1.addClass('tabCompositeSearchWidget-SearchButton');this.get_searchButton().addToDom(this.domRoot);this.get_searchButton().element.attr('title',tab.Strings.MapsSearchViewInitialText);this.$0=cs.newNativeButton();this.$0.addClass('tabCompositeSearchWidget-ClearButton');this.$0.element.attr('title',tab.Strings.MapsSearchViewClearInputTooltip);this.get_clearButton().get_labelElement().css('display','none');this.$0.addToDom(this.domRoot)};V.__typeName='spiff.CompositeSearchWidgetTemplate';global.spiff.CompositeSearchWidgetTemplate=V;var W=function(ef,eg){this.$3=null;de.$ctor1.call(this,ef,eg);this.$3={tap:ss.mkdel(this,function(eh){this.$1();this.$0(eh)})}};W.__typeName='spiff.CustomButtonComponent';W.create=function(ef){return React.createElement(W,ef)};global.spiff.CustomButtonComponent=W;var X=function(ef,eg,eh,ei,ej){this.$0=null;J.call(this,eg,eh,ei,ej,null);this.$0=ef};X.__typeName='spiff.CustomComboBoxItem';global.spiff.CustomComboBoxItem=X;var Y=function(ef,eg){this.$0=null;if(ss.isValue(ef)){this.$0='url('+tableau.util.assetUrl(ef,true)+'), '+eg}else{this.$0=eg}};Y.__typeName='spiff.CustomCursor';Y.copyFromElement=function(ef){var eg=(ss.isValue(ef)?ef.css('cursor'):'');return new Y(null,eg)};global.spiff.CustomCursor=Y;var Z=function(){this.contentWindow=null;this.verticalScrollbar=null;this.verticalScrollbarIndicator=null;this.horizontalScrollbar=null;this.horizontalScrollbarIndicator=null;cl.call(this,"<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot;this.contentWindow=this.getElementBySelector('.tabScrollerContentWindow');this.verticalScrollbar=this.getElementBySelector('.tabVerticalScrollbar');this.verticalScrollbarIndicator=this.getElementBySelector('.tabVerticalScrollbar .tabScrollbarIndicator');this.horizontalScrollbar=this.getElementBySelector('.tabHorizontalScrollbar');this.horizontalScrollbarIndicator=this.getElementBySelector('.tabHorizontalScrollbar .tabScrollbarIndicator')};Z.__typeName='spiff.CustomIScrollTemplate';global.spiff.CustomIScrollTemplate=Z;var ba=function(ef){cm.call(this,ef,new Z);this.$9();this.$a();if(ef.get_hasScrollBars()){this.addScroller();this.setUpEvents();this.$b()}};ba.__typeName='spiff.CustomIScrollView';ba.$0=function(ef,eg,eh){return Math.max(ss.round(ef*eg/Math.max(eh,1)),8)};global.spiff.CustomIScrollView=ba;var bb=function(){this.$0=null;cG.call(this)};bb.__typeName='spiff.CustomMenuItem';bb.newCustomMenuItem=function(ef){var eg=new bb;eg.set_domRoot(ef);return eg};global.spiff.CustomMenuItem=bb;var bc=function(){cl.call(this,"<div class='tabScroller'><span class='tabScrollerContent'/></div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot};bc.__typeName='spiff.DefaultIScrollTemplate';global.spiff.DefaultIScrollTemplate=bc;var bd=function(ef){this.$a=null;this.$9=null;cm.call(this,ef,new bc);this.addScroller();this.setUpEvents()};bd.__typeName='spiff.DefaultIScrollView';global.spiff.DefaultIScrollView=bd;var be=function(){this.canAccept=null;this.onFeedbackType=null;this.onDragOver=null;this.onDragExit=null;this.onAcceptDrop=null;this.onGetDropTarget=null;this.onGetDropCursor=null};be.__typeName='spiff.DelegateDropTarget';global.spiff.DelegateDropTarget=be;var bf=function(ef,eg){this.$g=null;this.$u=null;this.$p=null;this.$s=null;this.$e=null;this.$f=null;this.$i=false;this.$v=false;this.$r=true;this.$l=null;this.$o=null;this.$j=false;this.$t=false;this.$m=0;this.$n=0;this.$h=false;this.$k=false;this.$q=false;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.showTitleTooltip=false;ed.call(this,$("\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n"));this.set_titleUnescaped(ef);this.set_body(eg);this.$f=cs.newNativeButton();this.$f.add_click(ss.mkdel(this,this.$7));this.element.find('.tab-dialogCloseButton').append(this.$f.element);this.$f.tabIndex(-2);this.$g=this.element;this.$u=this.element.find('.tab-dialogTitleBar');this.$p=this.element.find('.tab-dialogResizer');this.$s=this.element.find('.tab-dialogSpinnerContainer');this.$s.hide();var eh=$('#loadingSpinner');if(eh.length===1){this.$s.append(eh.html())}this.set_resizeable(false);this.$g.attr('tabindex','-1');bI.add_firstTouch(ss.mkdel(this,this.$4));bI.add_lastTouch(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bI.remove_firstTouch(ss.mkdel(this,this.$4))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bI.remove_lastTouch(ss.mkdel(this,this.$5))})));bm.attachDropTarget(this.$g,bf.$3)};bf.__typeName='spiff.Dialog';global.spiff.Dialog=bf;var bg=function(ef){this.$g=null;this.$j=0;this.$k=0;this.$h=false;this.$i=0;bG.call(this,ef,'discrete',true)};bg.__typeName='spiff.Discrete';global.spiff.Discrete=bg;var bh=function(){J.call(this,null,null,null,null,null)};bh.__typeName='spiff.DividerComboBoxItem';global.spiff.DividerComboBoxItem=bh;var bi=function(ef,eg,eh,ei){this.$z=false;this.$A=0;this.$y=null;this.template=null;bf.call(this,ef,eg);this.template=new dL(eg);this.$z=eh;this.$A=ei;this.$w()};bi.__typeName='spiff.DockableSideDialog';global.spiff.DockableSideDialog=bi;var bj=function(){};bj.__typeName='spiff.DocumentBodySizeUsage';global.spiff.DocumentBodySizeUsage=bj;var bk=function(){};bk.__typeName='spiff.DOMElements';bk.$0=function(ef){return React.createFactory(ef)};bk.$1=function(ef){return React.createFactory(ef)};global.spiff.DOMElements=bk;var bl=function(ef){this.$a=false;this.$c=null;this.$b=null;this.$9=false;bG.call(this,ef,'drag',true)};bl.__typeName='spiff.Drag';global.spiff.Drag=bl;var bm=function(){};bm.__typeName='spiff.DragDropManager';bm.add_dragStarted=function(ef){bm.$1$1=ss.delegateCombine(bm.$1$1,ef)};bm.remove_dragStarted=function(ef){bm.$1$1=ss.delegateRemove(bm.$1$1,ef)};bm.add_dragMoved=function(ef){bm.$1$2=ss.delegateCombine(bm.$1$2,ef)};bm.remove_dragMoved=function(ef){bm.$1$2=ss.delegateRemove(bm.$1$2,ef)};bm.add_dragEnded=function(ef){bm.$1$3=ss.delegateCombine(bm.$1$3,ef)};bm.remove_dragEnded=function(ef){bm.$1$3=ss.delegateRemove(bm.$1$3,ef)};bm.add_currentTargetChanged=function(ef){bm.$1$4=ss.delegateCombine(bm.$1$4,ef)};bm.remove_currentTargetChanged=function(ef){bm.$1$4=ss.delegateRemove(bm.$1$4,ef)};bm.get_isDragging=function(){return ss.isValue(bm.get_currentDrag())};bm.$g=function(){return tab.Logger.lazyGetLogger(bm)};bm.get_lastDragEvent=function(){return bm.$z};bm.get_currentTarget=function(){return bm.$p};bm.set_currentTarget=function(ef){var eg=!ss.referenceEquals(bm.$p,ef);bm.$p=ef;if(eg&&!ss.staticEquals(bm.$1$4,null)){bm.$1$4(bm.$p)}};bm.get_currentDrag=function(){return bm.$1$5};bm.set_currentDrag=function(ef){bm.$1$5=ef};bm.init=function(){bm.$s=new dJ.$ctor1(document.body,bm.$v)};bm.$0=function(ef,eg){var eh=ef.get(0);var ei=eh.getAttribute('class');if(ss.isNullOrEmptyString(ei)){eh.setAttribute('class',eg);return}var ej=ei.split(' ');if(ss.indexOf(ej,eg)===-1){eh.setAttribute('class',ej.concat([eg]).join(' '))}};bm.$b=function(ef,eg){var eh=ef.get(0);var ei=eh.getAttribute('class');if(ss.isNullOrEmptyString(ei)){return}var ej=ei.split(' ');var ek=ss.indexOf(ej,eg);if(ek>=0){ej.splice(ek,1);eh.setAttribute('class',ej.join(' '))}};bm.attachDropTarget=function(ef,eg){ef.attr('data-tab-drop-target','1');bm.$0(ef,'tabDropTarget');ef.data('tabDropTarget',eg)};bm.detachDropTarget=function(ef){ef.removeAttr('data-tab-drop-target');ef.removeData('tabDropTarget');bm.$b(ef,'tabDropTarget')};bm.isDropTarget=function(ef){return ss.isValue(ef.attr('data-tab-drop-target'))};bm.attachDragSource=function(ef,eg){ef.attr('data-tab-drag-source','1');ef.data('tabDragSource',eg)};bm.removeDragSource=function(ef){ef.removeData('tabDragSource');ef.removeAttr('data-tab-drag-source')};bm.isDragSource=function(ef){return ss.isValue(ef.attr('data-tab-drag-source'))};bm.$2=function(){bm.$t=new bo;bm.$t.show();if(bm.get_currentDrag().get_hasPayload()&&bm.get_currentDrag().get_dragType()==='dragmove'){bm.setDragCursor(Y.copyFromElement(bm.$w))}bm.$u=new dJ.$ctor1(bm.$t.element.get(0),bm.$v);bm.$r=new tab.DisposableHolder;bm.$r.add$1(bm.$t);bm.$r.add$1(bm.$u);bm.$r.add$1(bA.bindWithDispose($(document.body),'keydown',bm.$9));bm.$r.add$1(bA.bindWithDispose($(document.body),'keyup',bm.$a))};bm.$3=function(){bm.$r=tab.MiscUtil.dispose$1(bm.$r)};bm.startDrag=function(ef,eg,eh){if(ss.isNullOrUndefined(ef)||ss.isNullOrUndefined(eg)||!ef.get_hasPayload()){return}if(ss.isValue(eh)){bm.$w=eh}bm.$z=eg;bm.cancelDrag(null);bm.set_currentDrag(ef);bm.$c(bm.get_currentDrag().get_dragAvatar());bm.$f();bm.$o=tab.WindowHelper.requestAnimationFrame(bm.$f);bm.$2();bm.$d(eg);if(ss.isValue(bm.$1$1)){bm.$1$1(bm.get_currentDrag())}};bm.cancelDrag=function(ef){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}if(ss.isNullOrUndefined(ef)||ss.referenceEquals(ef,bm.get_currentDrag())){bm.get_currentDrag().cancelDrag();bm.$6(null,true,false,function(){return $.Deferred().resolve(false).promise()})}};bm.drop=function(ef,eg,eh){bm.get_currentDrag().isCopyDrag=ss.isValue(eg)&&eg;bm.get_currentDrag().set_isShiftDrag(ss.isValue(eh)&&eh);bm.$6(ef,false,bm.get_currentDrag().isCopyDrag,function(){if(ss.isValue(ef)){return ef.acceptDrop(bm.get_currentDrag()).always(function(ei){})}else{bm.get_currentDrag().dropToNowhereAction();return $.Deferred().resolve(true).promise()}})};bm.firstTouch=function(ef){var eg=$(ef.target).closest('[data-tab-drag-source]');if(ss.isNullOrUndefined(eg)||eg.length===0){bm.$x=null;bm.$w=null;return}bm.$x=eg.data('tabDragSource');bm.$w=eg};bm.dragEnd=function(ef){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}switch(bm.get_currentDrag().get_dragType()){case'dragmove':{bm.$6(null,false,false,function(){bm.get_currentDrag().endDragAt(ef);return $.Deferred().resolve(true).promise()});break}case'dragmovedrop':case'dragdrop':{bm.drop(bm.get_currentTarget(),ef.get_isCtrlKey(),ef.shiftKey);break}}};bm.dragMove=function(ef){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}bA.stopEvent(ef);bm.$z=ef;bm.get_currentDrag().isCopyDrag=ef.get_isCtrlKey();bm.get_currentDrag().set_isShiftDrag(ef.shiftKey);tab.WindowHelper.clearSelection();var eg=tab.DateUtil.get_nowAsTime();if(eg-bm.$y>75){if(ss.isValue(bm.$o)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bm.$o))}bm.$f()}bm.$d(ef);if(ss.isValue(bm.$1$2)){bm.$1$2(bm.get_currentDrag())}};bm.$9=function(ef){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}bA.stopEvent(ef);switch(ef.which){case 16:{bm.get_lastDragEvent().shiftKey=true;bm.dragMove(bm.get_lastDragEvent());break}}};bm.$a=function(ef){if(ss.isNullOrUndefined(bm.get_currentDrag())){return}bA.stopEvent(ef);switch(ef.which){case 16:{bm.get_lastDragEvent().shiftKey=false;bm.dragMove(bm.get_lastDragEvent());break}case 27:{bm.cancelDrag(bm.get_currentDrag());break}}};bm.$d=function(ef){switch(bm.get_currentDrag().get_dragType()){case'dragmove':{bm.get_currentDrag().moveTo(ef);break}case'dragdrop':{bm.$e(ef);break}case'dragmovedrop':{bm.get_currentDrag().moveTo(ef);bm.$e(ef);break}default:{break}}};bm.$e=function(ef){var eg=bm.findDropTarget(ef);if(ss.isValue(bm.get_currentTarget())){if(!ss.referenceEquals(bm.get_currentTarget(),eg)){bm.get_currentTarget().dragExit(bm.get_currentDrag())}else if(bm.get_currentTarget().get_feedbackType()==='dropfeedbackuponentry'){return}}if(ss.isValue(eg)){var eh=eg.dragOver(bm.get_currentDrag());while(ss.isValue(eh)&&!ss.referenceEquals(eh,eg)){eg=eh;eh=eg.dragOver(bm.get_currentDrag())}eg=eh}if(ss.isValue(eg)){bm.setDragCursor(eg.getDropCursor(bm.get_currentDrag()))}else{bm.setDragCursor(bm.get_currentDrag().get_defaultDropCursor())}bm.set_currentTarget(eg)};bm.setDragCursor=function(ef){ef.setCursor(bm.$t.element)};bm.dragStart=function(ef){if(bm.get_isDragging()){return}var eg=bm.$x;if(ss.isNullOrUndefined(eg)){var eh=$(ef.target).closest('[data-tab-drag-source]');eg=eh.data('tabDragSource')}if(ss.isNullOrUndefined(eg)){return}var ei=eg.startDrag(ef);if(ss.isNullOrUndefined(ei)){return}bm.startDrag(ei,ef,null)};bm.$6=function(ef,eg,eh,ei){bm.$c(null);bm.$3();if(ss.isValue(bm.$o)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bm.$o));bm.$o=null}ei().always(function(ej){if(ss.isValue(bm.$1$3)){bm.$1$3({drag:bm.get_currentDrag(),target:ef,dropAccepted:ej,canceled:eg,isCopyDrop:eh})}bm.set_currentDrag(null);bm.set_currentTarget(null)})};bm.$c=function(ef){if(ss.isValue(bm.$q)){bm.$q.get_rootElement().detach();var eg=bm.$q;eg.dispose();bm.$q=null}bm.$q=ef;if(ss.isValue(bm.$q)){bm.$q.get_rootElement().addClass('dragAvatar').css('position','absolute').css('pointer-events','none');bm.$q.addToDom($('body'))}};bm.$f=function(){if(ss.isNullOrUndefined(bm.$q)){return}var ef=function(eh,ei,ej){if(ei<ss.Int32.div(ej,2)){return 0}else if(ei>eh-ss.Int32.div(ej,2)){return eh-ej}else{return ei-ss.Int32.div(ej,2)}};var eg=tab.DomUtil.get_documentBody();tab.DomUtil.setElementPosition(bm.$q.get_rootElement(),ef(eg.scrollWidth,bm.$z.pageX,tab.DoubleUtil.roundToInt(bm.$q.get_rootElement().outerWidth())),ef(eg.scrollHeight,bm.$z.pageY,tab.DoubleUtil.roundToInt(bm.$q.get_rootElement().outerHeight())));bm.$y=tab.DateUtil.get_nowAsTime();bm.$o=tab.WindowHelper.requestAnimationFrame(bm.$f)};bm.$7=function(ef){bm.$4();var eg=ef.clientX;var eh=ef.clientY;if(tab.BrowserSupport.get_useAlternateHitStrategy()){if(ss.isValue(ef.touches)&&ef.touches.length>0&&ss.isValue(ef.touches[0].screenX)){eg=ef.touches[0].screenX;eh=ef.touches[0].screenY}else{eg=ef.originalEvent['screenX'];eh=ef.originalEvent['screenY']}}var ei=$(document.elementFromPoint(eg,eh));bm.$5();return ei};bm.$4=function(){for(var ef=0;ef<bm.$A.length;ef++){var eg=bm.$A[ef];eg.disableHitTests()}};bm.$5=function(){for(var ef=0;ef<bm.$A.length;ef++){var eg=bm.$A[ef];eg.enableHitTests()}};bm.findDropTarget=function(ef){if(!bm.get_isDragging()){return null}var eg=bm.get_currentDrag();var eh=bm.$8(ef);for(var ei=0;ei<eh.length;ei++){var ej=eh[ei];var ek=ej.data('tabDropTarget');if(bm.$1(ek,eg)){return ek.getDropTarget(ej)}}return null};bm.$8=function(ef){var eg=[];var eh=bm.$7(ef).closest('[data-tab-drop-target]');if(eh.length>0){eg.push(eh);eh.parents('[data-tab-drop-target]').each(function(ei,ej){eg.push($(ej))})}return eg};bm.$1=function(ef,eg){return ss.isValue(ef)&&ss.isValue(eg)&&ss.isValue(ef.dragOver(eg))};bm.registerDragGlass=function(ef){bm.$A.push(ef)};bm.unregisterDragGlass=function(ef){ss.remove(bm.$A,ef)};global.spiff.DragDropManager=bm;var bn=function(ef,eg){this.isCopyDrag=false;this.draggedObject=null;this.$0=null;this.$1=false;this.$1$1=null;this.draggedObject=ef;this.$0=eg;this.isCopyDrag=false;this.$1=false};bn.__typeName='spiff.DragInstance';global.spiff.DragInstance=bn;var bo=function(ef){bH.call(this,ef,false);bm.registerDragGlass(this)};bo.__typeName='spiff.DragSafeGlass';global.spiff.DragSafeGlass=bo;var bp=function(ef){this.$0=null;this.$0=ef.element.clone(false).addClass('dragAvatar')};bp.__typeName='spiff.DragSortListItemDragAvatar';global.spiff.DragSortListItemDragAvatar=bp;var bq=function(){React.Component.call(this);this.state={isSelecting:false}};bq.__typeName='spiff.DropdownComponent';global.spiff.DropdownComponent=bq;var br=function(ef,eg){ss.makeGenericType(dj,[bs,Object,Object]).call(this,br.$0(ef),ef,eg)};br.__typeName='spiff.EditableTextLabelComponent';br.$0=function(ef){var eg=bs.newEditableTextView(ef.initialContent,ef.placeHolderText,ef.editOnDoubleClick);if(!tab.MiscUtil.isNullOrEmpty$3(ef.tooltip)){eg.get_inputElement().attr('title',ef.tooltip);eg.get_textElement().find('.text-span').get(0).title=ef.tooltip}eg.showHover=ss.isNullOrUndefined(ef.showHover)||ef.showHover;eg.showTooltip=ef.showTooltip;eg.add_committed(function(){ef.onCommit(eg.get_text())});if(!ss.isNullOrEmptyString(ef.styleOverrideClass)){tab.StyleUtil.appendCSSRuleToStyleSheet$1(ef.styleOverrideClass+'-override-style','.'+ef.styleOverrideClass+' .tab-editable-text-view > div',ef.styleOverride)}return eg};global.spiff.EditableTextLabelComponent=br;var bs=function(ef,eg,eh,ei){this.$9=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;this.showHover=false;this.showTooltip=false;dN.call(this,ef,eg,eh,null,false);this.$9=ef;this.updateTextElement(eg);var ej=new y(this.get_textElement());if(ei){this.disposables.add$1(dI.targetAndDoubleClick(ej.element.get(0),ss.mkdel(this,function(el){this.edit()})))}else{ej.add_click(ss.mkdel(this,this.edit));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ej.remove_click(ss.mkdel(this,this.edit));ej.dispose()})))}this.get_textElement().show();this.get_inputElement().hide();this.get_inputElement().blur(ss.mkdel(this,function(el){this.commit()}));this.add_enterKeyPressed(ss.mkdel(this,function(){this.commit()}));this.add_propertyChanged(ss.mkdel(this,function(){this.updateTextElement(this.get_text())}));if(!tsConfig.is_mobile){var ek=new bO(this,null,ss.mkdel(this,function(el){if(this.showHover){this.element.addClass('hover');this.$8(true)}}),ss.mkdel(this,function(el){if(this.showHover){this.element.removeClass('hover');this.$8(false)}}));this.disposables.add$1(ek)}this.set_isEditing(false);this.showHover=true};bs.__typeName='spiff.EditableTextView';bs.newEditableTextView=function(ef,eg,eh){var ei=new n;return new bs(ei,ef,eg,eh)};global.spiff.EditableTextView=bs;var bt=function(){this.$1=null;this.$0=null;this.$1=null;this.$0=ss.mkdel(this,function(ef){this.$1=ef})};bt.__typeName='spiff.EnsureElementVisibleHelper';bt.create=function(){return new bt};global.spiff.EnsureElementVisibleHelper=bt;var bu=function(ef){this.$2=null;this.$1=null;this.$3=null;React.Component.call(this,ef,null);this.$2=dK.createEmpty()};bu.__typeName='spiff.EventForwarder';bu.$0=function(ef,eg,eh,ei){var ej=new bv;ej.tagName=ef;ej.htmlAttributes=eh;ej.spec=eg;ej.key=eh.key;var ek=ej;if(ss.isValue(eh.ref)){ek.ref=eh.ref;delete eh['ref']}if(ss.isValue(ei)&&ei.length===1){return React.createElement(bu,ek,ei[0])}return React.createElement(bu,ek,ei)};bu.div=function(ef,eg,eh){return bu.$0('div',ef,eg,eh)};bu.span=function(ef,eg,eh){return bu.$0('span',ef,eg,eh)};bu.$1=function(ef,eg){return!_.every(Object.keys(eg),function(eh){return ss.contains(Object.keys(ef),eh)})};global.spiff.EventForwarder=bu;var bv=function(){this.tagName=null;this.htmlAttributes=null;this.spec=null};bv.__typeName='spiff.EventForwarderProps';global.spiff.EventForwarderProps=bv;var bw=function(){};bw.__typeName='spiff.EventHandleSpecExtensions';bw.isHandling=function(ef,eg){var eh=ef;return ss.isValue(eh[eg])};bw.isUsingHover=function(ef){return bw.isHandling(ef,'hover')||bw.isHandling(ef,'moving')};bw.setHandler=function(ef,eg,eh){ef[eg]=eh};bw.removeHandler=function(ef,eg){ef[eg]=null};bw.usingPressDrag=function(ef){return bw.isHandling(ef,'pressDragStart')||bw.isHandling(ef,'pressDragMove')||bw.isHandling(ef,'pressDragEnd')||bw.isHandling(ef,'doublePressDragStart')||bw.isHandling(ef,'doublePressDragMove')||bw.isHandling(ef,'doublePressDragEnd')};global.spiff.EventHandleSpecExtensions=bw;var bx=function(){};bx.__typeName='spiff.EventInputType';global.spiff.EventInputType=bx;var by=function(ef){this.$1=null;this.$0=null;this.$6=null;this.$3=null;this.$5=false;this.$4=null;this.$2=false;this.$1=new bl(ef);this.$0=new bg(ef);this.$6=new da(ef);if(bw.isUsingHover(ef)){this.$3=new bM(ef)}};by.__typeName='spiff.EventRecognizer';by.$0=function(){return by.$2};by.$1=function(ef){if(by.$2!==ef){by.$2=ef}};global.spiff.EventRecognizer=by;var bz=function(){};bz.__typeName='spiff.EventSource';global.spiff.EventSource=bz;var bA=function(){};bA.__typeName='spiff.EventUtil';bA.bindWithDispose=function(ef,eg,eh){var ei=ss.formatString('{0}.{1}',eg,++bA.$0);ef.on(ei,eh);return new tab.CallOnDispose(function(){ef.off(ei)})};bA.addEventListenerWithDispose=function(ef,eg,eh,ei){ef.addEventListener(eg.toString(),eh,ei);return new tab.CallOnDispose(function(){ef.removeEventListener(eg.toString(),eh,ei)})};bA.isCtrlKey=function(ef){if(ss.isNullOrUndefined(ef)){return false}return(tab.BrowserSupport.get_isMac()?ef.metaKey:ef.ctrlKey)};bA.getDragFileList=function(ef){if(ss.isNullOrUndefined(ef)||ss.isNullOrUndefined(ef.dataTransfer)||ss.isNullOrUndefined(ef.dataTransfer.files)||ef.dataTransfer.files.length===0){return null}return ef.dataTransfer.files};bA.stopEvent=function(ef){ef.stopPropagation();ef.preventDefault()};global.spiff.EventUtil=bA;var bB=function(ef){cU.call(this,ef)};bB.__typeName='spiff.ExclusiveMultiSelectGroupSelection';bB.buildExclusiveMultiSelectGroupSelection=function(ef){return function(eg,eh){var ei=new bB(eg.length);var ej=eg.length;for(var ek=0;ek<ej;++ek){if(eh(eg[ek])){ei.get_selectedIndexes()[ek]=true}}ei.validateAllSelectedState();return ei}};global.spiff.ExclusiveMultiSelectGroupSelection=bB;var bC=function(ef){dA.call(this,ef)};bC.__typeName='spiff.ExclusiveSingleSelectGroupSelection';bC.buildExclusiveSingleSelectGroupSelection=function(ef){return function(eg,eh){var ei=new bC(eg.length);var ej=eg.length;for(var ek=0;ek<ej;++ek){if(eh(eg[ek])){ei.get_selectedIndexes()[ek]=true}}ei.validateAllSelectedState();return ei}};global.spiff.ExclusiveSingleSelectGroupSelection=bC;var bD=function(){{bD.$0('focus',bD.$3);bD.$0('blur',bD.$1);bD.$0('keydown',bD.$4);bD.$0('keyup',bD.$4);bI.add_firstTouch(bD.$2);if(!ss.referenceEquals(window.self,window.top)){bD.$a=1}}};bD.__typeName='spiff.FocusManager';bD.shutdown=function(){if(ss.isNullOrUndefined(bD.$9)){return}bD.$6('focus',bD.$3);bD.$6('blur',bD.$1);bD.$6('keydown',bD.$4);bD.$6('keyup',bD.$4);bI.remove_firstTouch(bD.$2);bD.$9=null};bD.initialize=function(){if(ss.isNullOrUndefined(bD.$9)){bD.$9=new bD}};bD.$0=function(ef,eg){document.addEventListener(ef,eg,true)};bD.$6=function(ef,eg){document.removeEventListener(ef,eg,true)};bD.updateFocusIndicatorVisibility=function(){$(document.activeElement).toggleClass('tab-showFocusIndicator',bD.$a===1)};bD.$3=function(ef){if(ss.referenceEquals(document.activeElement,document.body)){return}if(document.hasFocus()&&ss.referenceEquals(document.activeElement,ef.target)&&k.$1()){bD.$a=1}bD.updateFocusIndicatorVisibility()};bD.$1=function(ef){window.setTimeout(function(){if(document.hasFocus()){$(ef.target).removeClass('tab-showFocusIndicator')}else{k.$0()}})};bD.$4=function(ef){var eg=ef.keyCode;k.$2(eg,ef.type==='keydown')};bD.$2=function(ef,eg){bD.$a=0};bD.wasFocusedByClick=function(){return bD.$a===0};bD.trapFocus=function(ef){ef.off(bD.$7).on(bD.$7,bD.$5)};bD.untrapFocus=function(ef){ef.off(bD.$7)};bD.$5=function(ef){if(ef.which===9){var eg=$(ef.currentTarget).find(':tabbable');if(ss.referenceEquals(ef.target,eg.last()[0])&&!ef.shiftKey){eg.first().focus()}else if(ss.referenceEquals(ef.target,eg.first()[0])&&ef.shiftKey){eg.last().focus()}else if(eg.length>0){return}ef.preventDefault();ef.stopPropagation()}};global.spiff.FocusManager=bD;var bE=function(){};bE.__typeName='spiff.FullscreenUtil';bE.add_fullscreenStateChanged=function(ef){bE.$1$1=ss.delegateCombine(bE.$1$1,ef)};bE.remove_fullscreenStateChanged=function(ef){bE.$1$1=ss.delegateRemove(bE.$1$1,ef)};bE.get_fullscreenChangeEventName=function(){return bE.$7.substring(2)};bE.get_fullscreenEnabled=function(){if(ss.isNullOrUndefined(bE.$6)){return false}return document[bE.$6]};bE.get_fullscreenElement=function(){if(ss.isNullOrUndefined(bE.$5)){return null}return document[bE.$5]};bE.get_inFullscreenMode=function(){return ss.isValue(bE.get_fullscreenElement())};bE.$0=function(ef,eg){for(var eh=0;eh<eg.length;eh++){var ei=eg[eh];if(ei in ef||ei.toLowerCase()in ef){return ei}}return null};bE.exitFullscreen=function(){if(ss.isNullOrUndefined(bE.$4)){return}document[bE.$4]()};bE.requestFullscreen=function(ef){if(ss.isNullOrUndefined(bE.$8)){return}ef[bE.$8]()};bE.$1=function(ef){document.documentElement.classList.toggle('fullscreen',bE.get_inFullscreenMode());window.setTimeout(function(){if(!ss.staticEquals(bE.$1$1,null)){bE.$1$1()}})};bE.$2=function(){var ef=$(document.documentElement);if(bE.get_inFullscreenMode()){bD.trapFocus(ef)}else{bD.untrapFocus(ef)}};bE.centeringContainerOffset=function(){if(!bE.get_inFullscreenMode()){return 0}var ef=$('#centeringContainer');return ef.offset().top};global.spiff.FullscreenUtil=bE;var bF=function(ef){de.call(this,ef)};bF.__typeName='spiff.GenericDropdownButtonComponent';bF.create=function(ef){return React.createElement(bF,ef)};global.spiff.GenericDropdownButtonComponent=bF;var bG=function(ef,eg,eh,ei){this.$2=null;this.$3=5;this.numTouches=1;this.type='gesture';this.isPotentialPress=false;this.isActivePress=false;this.pressTimer=null;this.doubleTapTimer=null;this.potentialPressTimer=null;if(ss.isValue(eg)){this.type=eg}if(ss.isValue(eh)){this.$3=(eh?5:0)}if(ss.isValue(ei)){this.numTouches=ei}this.$2={};this.update(ef)};bG.__typeName='spiff.Gesture';bG.$0=function(ef,eg){return ef.data('tab-'+eg)};global.spiff.Gesture=bG;var bH=function(ef,eg){this.$3=null;this.$2=null;this.$2$1=null;ed.call(this,$("<div class='tab-glass clear-glass'></div>"));this.$3=ef||document.body;if(!ss.referenceEquals(this.$3,document.body)){this.element.css('position','absolute')}var eh={};bw.setHandler(eh,'firstTouch',ss.mkdel(this,this.handleClick));if(eg){eh.doubleTap=function(ei){ei.preventDefault()};eh.pinchStart=function(ei){ei.preventDefault()}}this.$2=dI.targetAndConfig(this.element[0],eh).onClick(ss.mkdel(this,this.handleClick)).onRightClick(ss.mkdel(this,this.handleClick))};bH.__typeName='spiff.Glass';global.spiff.Glass=bH;var bI=function(){};bI.__typeName='spiff.GlobalUIEvents';bI.add_firstTouch=function(ef){bI.$1$1=ss.delegateCombine(bI.$1$1,ef)};bI.remove_firstTouch=function(ef){bI.$1$1=ss.delegateRemove(bI.$1$1,ef)};bI.add_press=function(ef){bI.$1$2=ss.delegateCombine(bI.$1$2,ef)};bI.remove_press=function(ef){bI.$1$2=ss.delegateRemove(bI.$1$2,ef)};bI.add_tap=function(ef){bI.$1$3=ss.delegateCombine(bI.$1$3,ef)};bI.remove_tap=function(ef){bI.$1$3=ss.delegateRemove(bI.$1$3,ef)};bI.add_lastTouch=function(ef){bI.$1$4=ss.delegateCombine(bI.$1$4,ef)};bI.remove_lastTouch=function(ef){bI.$1$4=ss.delegateRemove(bI.$1$4,ef)};bI.add_rightClick=function(ef){bI.$1$5=ss.delegateCombine(bI.$1$5,ef)};bI.remove_rightClick=function(ef){bI.$1$5=ss.delegateRemove(bI.$1$5,ef)};bI.add_dragEnd=function(ef){bI.$1$6=ss.delegateCombine(bI.$1$6,ef)};bI.remove_dragEnd=function(ef){bI.$1$6=ss.delegateRemove(bI.$1$6,ef)};bI.add_dismissTemporaryElements=function(ef){bI.$1$7=ss.delegateCombine(bI.$1$7,ef)};bI.remove_dismissTemporaryElements=function(ef){bI.$1$7=ss.delegateRemove(bI.$1$7,ef)};bI.fireFirstTouch=function(ef,eg){bI.$0(bI.$1$1,ef,eg)};bI.firePress=function(ef,eg){bI.$0(bI.$1$2,ef,eg)};bI.fireTap=function(ef,eg){bI.$0(bI.$1$3,ef,eg)};bI.fireLastTouch=function(ef,eg){bI.$0(bI.$1$4,ef,eg)};bI.fireRightClick=function(ef,eg){bI.$0(bI.$1$5,ef,eg)};bI.fireDragEnd=function(ef,eg){bI.$0(bI.$1$6,ef,eg)};bI.fireDismissTemporaryElements=function(){if(!ss.staticEquals(bI.$1$7,null)){bI.$1$7()}};bI.$0=function(ef,eg,eh){if(!ss.staticEquals(ef,null)){ef(eg,eh)}};global.spiff.GlobalUIEvents=bI;var bJ=function(ef){this.$2=null;this.$0=null;this.$1=null;React.Component.call(this,ef);this.state={};this.$0=ss.mkdel(this,function(eg){this.$2=eg})};bJ.__typeName='spiff.GridIScrollHandler';global.spiff.GridIScrollHandler=bJ;var bK=function(ef){this.groupSize=0;this.allSelected=false;this.$1$1=null;this.groupSize=ef;this.allSelected=false;this.set_selectedIndexes({})};bK.__typeName='spiff.GroupSelection';global.spiff.GroupSelection=bK;var bL=function(ef,eg){this.$2=false;de.$ctor1.call(this,ef,eg);this.state={value:ef.initialValue,emptyTextBox:false}};bL.__typeName='spiff.HorizontalSliderComponent';global.spiff.HorizontalSliderComponent=bL;var bM=function(ef){this.$b=0;this.$c=0;this.$a=true;this.$9=false;this.$8=null;this.$7=0;bG.call(this,ef,'hover',false);this.$7=(ss.isValue(ef.hoverDelay)?ef.hoverDelay:150)};bM.__typeName='spiff.Hover';global.spiff.Hover=bM;var bN=function(){};bN.__typeName='spiff.HoverAddClassBehavior';bN.attach=function(ef,eg,eh){eg=ss.coalesce(eg,'hover');return new bO(ef,eh,function(ei){bN.$0(ei,eg)},function(ei){bN.$1(ei,eg)})};bN.$0=function(ef,eg){$(ef.currentTarget).addClass(eg)};bN.$1=function(ef,eg){$(ef.currentTarget).removeClass(eg)};global.spiff.HoverAddClassBehavior=bN;var bO=function(ef,eg,eh,ei){this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$7=ef;this.$4=eg;this.$5=eh;this.$6=ei;this.$7.add_disposed(ss.mkdel(this,this.$2));if(ss.isValue(eg)){this.$7.element.on('mouseenter'+this.$3(),eg,ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),eg,ss.mkdel(this,this.$1))}else{this.$7.element.on('mouseenter'+this.$3(),ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ss.mkdel(this,this.$1))}};bO.__typeName='spiff.HoverBehavior';global.spiff.HoverBehavior=bO;var bP=function(){};bP.__typeName='spiff.ICompositeSearchWidgetTemplate';global.spiff.ICompositeSearchWidgetTemplate=bP;var bQ=function(){this.iconElement=null;y.call(this,$('<a>').addClass('tab-iconButton'));this.setEnabled(true)};bQ.__typeName='spiff.IconButton';global.spiff.IconButton=bQ;var bR=function(ef){React.Component.call(this,ef);this.state=this.$0()};bR.__typeName='spiff.IconButtonComponent';global.spiff.IconButtonComponent=bR;var bS=function(){this.isActive=false};bS.__typeName='spiff.IconButtonState';global.spiff.IconButtonState=bS;var bT=function(){};bT.__typeName='spiff.IContent';global.spiff.IContent=bT;var bU=function(){};bU.__typeName='spiff.IDialogContent';global.spiff.IDialogContent=bU;var bV=function(){};bV.__typeName='spiff.IDragResponder';global.spiff.IDragResponder=bV;var bW=function(){};bW.__typeName='spiff.IDragSource';global.spiff.IDragSource=bW;var bX=function(){};bX.__typeName='spiff.IDropTarget';global.spiff.IDropTarget=bX;var bY=function(){};bY.__typeName='spiff.IHasEnabledState';global.spiff.IHasEnabledState=bY;var bZ=function(){};bZ.__typeName='spiff.IListItemContentCreator';global.spiff.IListItemContentCreator=bZ;var ca=function(){};ca.__typeName='spiff.IListItemDragAvatarCreator';global.spiff.IListItemDragAvatarCreator=ca;var cb=function(){};cb.__typeName='spiff.IListViewDragFeedback';global.spiff.IListViewDragFeedback=cb;var cc=function(){};cc.__typeName='spiff.IListViewScrollHandler';global.spiff.IListViewScrollHandler=cc;var cd=function(){};cd.__typeName='spiff.IMouseCaptureEventHandler';global.spiff.IMouseCaptureEventHandler=cd;var ce=function(){};ce.__typeName='spiff.InputType';global.spiff.InputType=ce;var cf=function(ef){var eg=function(){};ss.registerGenericInterfaceInstance(eg,cf,[ef],{add_propsUpdated:null,remove_propsUpdated:null,get_props:null},function(){return[]});return eg};cf.__typeName='spiff.IPropsProvider$1';ss.initGenericInterface(cf,a,1);global.spiff.IPropsProvider$1=cf;var cg=function(){};cg.__typeName='spiff.IScrollable';global.spiff.IScrollable=cg;var ch=function(ef,eg){this.$4=null;this.$5=null;this.iScroll=null;React.Component.call(this,ef,eg);this.state={hovered:false,scrolling:false}};ch.__typeName='spiff.IScrollComponent';global.spiff.IScrollComponent=ch;var ci=function(){};ci.__typeName='spiff.IScroller';global.spiff.IScroller=ci;var cj=function(){};cj.__typeName='spiff.IScrollingControl';global.spiff.IScrollingControl=cj;var ck=function(){this.extraCssClass=null;this.iScrollOptions=null;this.refreshDelay=0;this.keepPositionOnRecreate=true;this.alwaysShowScrollbarsIfScrollable=false;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.customStyle=null;this.scrollStopCallback=null;this.scrollCallback=null};ck.__typeName='spiff.IScrollProps';global.spiff.IScrollProps=ck;var cl=function(ef){this.content=null;this.scroll=null;dL.call(this,$(ef))};cl.__typeName='spiff.IScrollTemplate';global.spiff.IScrollTemplate=cl;var cm=function(ef,eg){this.scrollEndCleanup=new tab.DisposableHolder;this.scroller=null;dl.call(this,ef,eg)};cm.__typeName='spiff.IScrollView';global.spiff.IScrollView=cm;var cn=function(){};cn.__typeName='spiff.ISelectable';global.spiff.ISelectable=cn;var co=function(){};co.__typeName='spiff.ITabControlTemplate';global.spiff.ITabControlTemplate=co;var cp=function(){};cp.__typeName='spiff.ITextInputViewTemplate';global.spiff.ITextInputViewTemplate=cp;var cq=function(){};cq.__typeName='spiff.IUberPopupContent';global.spiff.IUberPopupContent=cq;var cr=function(){};cr.__typeName='spiff.JQueryGestureExtensions';cr.fireTableauGesture=function(ef,eg,eh,ei){if(ss.isNullOrUndefined(eh)){var ej=new Object;ej.type='touchend';ej.timeStamp=tab.DateUtil.get_nowAsTime();ej.keyCode=null;ej.ctrlKey=false;ej.altKey=false;ej.metaKey=false;ej.shiftKey=false;ej.charOrCode=null;ej.clientX=0;ej.clientY=0;ej.touches=new Array;ej.targetTouches=new Array;ej.changedTouches=new Array;ej.target=ef;eh=ej}var ek;switch(eg){case'dragMove':case'dragStart':case'dragEnd':{ek='drag';break}case'hover':case'moving':case'mouseleave':{ek='hover';break}case'pinchStart':case'pinchMove':case'pinchEnd':{ek='pinch';break}default:{ek='discrete';break}}var el=cW.create(eh,ef,null);bG.$0($(ef),ek).$0(eg,el,ei||{})};global.spiff.JQueryGestureExtensions=cr;var cs=function(ef,eg){this.$b='.label';y.call(this,ef);this.$b=eg};cs.__typeName='spiff.LabelButton';cs.newAnchorButton=function(){return new cs($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label')};cs.newAnchorButton$1=function(ef,eg){var eh=new cs($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label');eh.element.attr('href',ef);eh.element.attr('target',ss.coalesce(eg,'_blank').toString());return eh};cs.newNativeButton=function(){return new cs($("<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>"),'.label')};cs.newMenuButton=function(){return new cs($("<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>"),'.label')};cs.newTextButton=function(ef,eg){var eh=new cs($("<span class='tab-text-button'><span class='label hide'></span></span>"),'.label');if(ss.isValue(ef)){eh.add_click(ef);eh.disposables.add$1(new tab.CallOnDispose(function(){eh.remove_click(ef)}))}if(ss.isValue(eg)){eh.set_label(eg)}return eh};global.spiff.LabelButton=cs;var ct=function(ef,eg){this.$e='.label';dO.call(this,ef);this.$e=eg};ct.__typeName='spiff.LabelToggleButton';ct.newCheckbox=function(ef,eg){var eh=ct.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",ef,eg);eh.element.addClass('tab-unification-check').find('.icon').append($("<span class='innerIcon'></span>").addClass('tab-img-check'));return eh};ct.newRadioButton=function(ef,eg){var eh=ct.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",ef,eg);eh.element.addClass('tab-unification-radio').find('.icon').append($("<span class='innerIcon'></span>"));return eh};ct.newNativeCheckbox=function(ef,eg){return ct.$0("<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>",ef,eg)};ct.newNativeRadioButton=function(ef,eg){var eh=ct.$0("<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>",ef,eg);eh.set_preventMouseDeselect(true);return eh};ct.newLabelToggleButton=function(ef,eg){return ct.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",ef,eg)};ct.$0=function(ef,eg,eh){var ei=new ct($(ef),'.label');ei.set_label(eg);ei.set_selected(eh);var ej=ei;var ek=ej.get_inputElement();if(ss.isValue(ek)){ek.click(function(el){el.preventDefault()})}return ej};global.spiff.LabelToggleButton=ct;var cu=function(ef){this.$4=null;this.$5=null;React.Component.call(this,ef,null);this.state=this.$0();this.$4={firstTouch:ss.mkdel(this,function(eg){this.handleEnterPress()})};this.$5=ss.coalesce(this.props.textBoxWidth,'auto')};cu.__typeName='spiff.LineEditWithButtonComponent';global.spiff.LineEditWithButtonComponent=cu;var cv=function(ef,eg){var eh=function(ei,ej){React.Component.call(this,ei,ej)};ss.registerGenericClassInstance(eh,cv,[ef,eg],{render:function(){var ei=_.map(this.props.items,ss.mkdel(this,function(ej){var ek=this.getEventHandleSpecForItem(ej);var el={className:'tabListItem',key:this.getItemKey(ej.data)};if(ss.isNullOrUndefined(ek)){return bk.div(el,this.buildItem(ej.data))}else{return bu.div(ek,el,[this.buildItem(ej.data)])}}));return bk.div({className:'tabList'},ei)},getItemKey:null,buildItem:null,getEventHandleSpecForItem:function(ei){return null}},function(){return React.Component},function(){return[]});return eh};cv.__typeName='spiff.ListComponent$2';ss.initGenericClass(cv,a,2);global.spiff.ListComponent$2=cv;var cw=function(ef,eg){this.$1$1=null;this.$1$2=null;this.set_parentListView(ef);this.set_draggableListItemView(eg)};cw.__typeName='spiff.ListItemDragSource';global.spiff.ListItemDragSource=cw;var cx=function(ef){this.$f=null;this.$g=null;dv.call(this);this.set_selectionType(ef)};cx.__typeName='spiff.ListItemGroup';global.spiff.ListItemGroup=cx;var cy=function(ef,eg){this.$g=null;this.$f=null;dO.call(this,cy.$0(ef));tab.Param.verifyValue(eg,'viewModel');tab.Param.verifyValue(eg.get_id(),'viewModel.Id');this.$g=eg;this.$g.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.set_selectionId(eg.get_id());this.set_widgetId(eg.get_id());this.$f=ef};cy.__typeName='spiff.ListItemView';cy.$0=function(ef){var eg=$('<div/>').addClass('tab-list-item');eg.append(ef);return eg};global.spiff.ListItemView=cy;var cz=function(ef,eg,eh,ei,ej){this.$2=null;this.$0=null;this.$5=false;this.$4=false;this.$1=false;this.$6=false;this.$3=false;x.call(this);this.$2=ef;if(ss.isValue(eg)){this.$0=eg}this.$5=eh;this.$4=ei;this.$3=ej};cz.__typeName='spiff.ListItemViewModel';cz.newListItem=function(ef,eg,eh,ei,ej){tab.Param.verifyString(ef,'id');return new cz(ef,eg,eh,ei,ej)};global.spiff.ListItemViewModel=cz;var cA=function(){this.itemDatas=null;this.selectionIndexes=null;this.invalidIndexes=null;this.itemIds=null};cA.__typeName='spiff.ListItemViewModelCollectionBuilder';global.spiff.ListItemViewModelCollectionBuilder=cA;var cB=function(ef,eg){this.$l=[];this.$k=null;this.$3$1=null;this.$m=null;this.$3$2=null;ss.makeGenericType(w,[cD]).call(this,ef,new cE);this.get_viewModel().add_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().add_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().add_itemMoved(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e))}));this.set_scrollHandler(new g(this.element));this.get_dom().get_listItemContainer().keypress(ss.mkdel(this,this.$9)).keydown(ss.mkdel(this,this.$9));this.$k=eg;this.$5()};cB.__typeName='spiff.ListView';cB.createListView=function(ef,eg){return new cB(ef,eg)};global.spiff.ListView=cB;var cC=function(){this.$b='dragging';this.$c='dragHover';this.$e=null;this.$f=null;this.$n=0;this.$l=0;this.$g=null;this.$h=0;this.$k=null;this.$m=0;this.$j=0;this.$i=0;this.$d=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};cC.__typeName='spiff.ListViewDragSortFeedback';global.spiff.ListViewDragSortFeedback=cC;var cD=function(ef,eg){this.$8=null;this.$6=null;this.$7=null;this.$5=null;this.$4=null;this.$9=null;this.$3=true;this.$a=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;x.call(this);this.$8={};this.$6=new cx(eg);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.update(ef)};cD.__typeName='spiff.ListViewModel';global.spiff.ListViewModel=cD;var cE=function(){this.$0=null;dL.call(this,$("<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"));this.$0=this.getElementBySelector('.tab-list-itemHolder')};cE.__typeName='spiff.ListViewTemplate';global.spiff.ListViewTemplate=cE;var cF=function(ef){this.menuItems=null;this.defaultItem=null;this.menuItems=ef;this.defaultItem=_.find(ef,function(eg){return eg.isDefault})};cF.__typeName='spiff.Menu';global.spiff.Menu=cF;var cG=function(){this.name=null;this.description=null;this.title=null;this.readId=null;this.iconClass=null;this.iconClassTwo=null;this.itemClass=null;this.checkState=0;this.enabled=false;this.isDivider=false;this.isTextInput=false;this.isDefault=false;this.subMenu=null;this.data=null;this.id=null;++cG.$0;this.id='menuItem'+cG.$0};cG.__typeName='spiff.MenuItem';cG.newDivider=function(){return(new cH).isDivider(true).enabled(false).build()};cG.newActionItem=function(ef,eg,eh,ei){return(new cH).name(ef).readId(ei).data(eg).enabled(!ss.staticEquals(eg,null)&&eh).build()};cG.newActionItemWithItemClass=function(ef,eg,eh){return(new cH).name(ef).itemClass(eh).data(eg).enabled(!ss.staticEquals(eg,null)).build()};cG.newItem=function(ef,eg,eh,ei){return(new cH).data(ef).name(eg).checkState(eh).subMenu(ei).enabled((ss.isValue(ei)?ei.menuItems.some(function(ej){return ej.enabled}):true)).build()};global.spiff.MenuItem=cG;var cH=function(){this.$0=null;this.$0=new cG};cH.__typeName='spiff.MenuItemBuilder';global.spiff.MenuItemBuilder=cH;var cI=function(){};cI.__typeName='spiff.MenuItemCheckState';global.spiff.MenuItemCheckState=cI;var cJ=function(){dL.call(this,$("<div class='tabMenuItemDivider' role='separator' />"))};cJ.__typeName='spiff.MenuItemDividerTemplate';global.spiff.MenuItemDividerTemplate=cJ;var cK=function(){this.textInput=null;dL.call(this,$("\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"));this.textInput=this.getElementBySelector('.tabMenuItemTextInput')};cK.__typeName='spiff.MenuItemTextInputTemplate';global.spiff.MenuItemTextInputTemplate=cK;var cL=function(){this.content=null;dL.call(this,$("<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"));this.content=this.getElementBySelector('.tabMenuContent')};cL.__typeName='spiff.MenuTemplate';global.spiff.MenuTemplate=cL;var cM=function(ef,eg){this.menuStack=[];this.dom=null;this.menuViewModel=null;this.glass=null;this.$b={};this.menuDisposables=new tab.DisposableHolder;ss.makeGenericType(u,[cN]).call(this,ef,eg);this.menuViewModel=ef;this.dom=eg;this.menuStack[0]=this.dom;this.menuViewModel.add_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.add_shown(ss.mkdel(this,this.shown));this.menuViewModel.add_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.add_menuItemSelectionChanged(ss.mkdel(this,this.$9));this.element.addClass(this.menuViewModel.get_theme().menuClass);this.element.on('blur',ss.mkdel(this,this.onBlur))};cM.__typeName='spiff.MenuView';cM.getMenuItem=function(ef){return ef.data('tabMenuMenuItem')};cM.getMenuItemLevel=function(ef){return ss.coalesce(ef.data('tabMenuMenuItemLevel'),1)};cM.$0=function(ef){ef.stopPropagation()};global.spiff.MenuView=cM;var cN=function(ef){this.$0=null;this.$2=null;this.$3=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=false;this.$2$9=false;this.$2$10=null;x.call(this);this.set_shouldAnimateOnClose(ef);this.set_theme(new ea);this.$0=ss.mkdel(this,function(){_.defer(ss.mkdel(this,this.dispose))});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(this.$0)})))};cN.__typeName='spiff.MenuViewModel';cN.createForMenu=function(ef,eg,eh,ei,ej){var ek=new cN(ej);ek.set_menu(ef);var el=ek;if(ss.isValue(eg)){el.add_menuItemClicked(eg);el.disposables.add$1(new tab.CallOnDispose(function(){el.remove_menuItemClicked(eg)}))}el.set_disposeOnHide(true);el.set_theme(eh||new ea);if(ss.isValue(ei)){el.add_hidden(ei);el.disposables.add$1(new tab.CallOnDispose(function(){el.remove_hidden(ei)}))}tab.ObjectRegistry.newView(cM).call(null,[el]);return el};cN.handleMenuActionItemClicked=function(ef){if($.isFunction(ef.data)){ef.data()}};global.spiff.MenuViewModel=cN;var cO=function(){this.menuClass='tabMenuBaseTheme';this.itemClass='tabMenuItemBaseTheme';this.dividerClass='tabMenuItemDividerBaseTheme';this.noIconClass='tabMenuNoIcons';this.noDescClass='tabMenuNoDesc'};cO.__typeName='spiff.MenuViewTheme';global.spiff.MenuViewTheme=cO;var cP=function(ef,eg){this.$y=null;this.template=null;bf.call(this,ef,eg.domRoot);this.template=eg;this.$w()};cP.__typeName='spiff.ModalDialog';cP.$ctor1=function(ef,eg){this.$y=null;this.template=null;bf.call(this,ef,eg);this.template=new dL(eg);this.$w()};global.spiff.ModalDialog=cP;var cQ=function(){};cQ.__typeName='spiff.MouseCapture';cQ.$6=function(){return tab.Logger.lazyGetLogger(cQ)};cQ.$7=function(){return!tsConfig.is_mobile&&tab.BrowserSupport.get_addEventListener()};cQ.$5=function(){return tab.BrowserSupport.get_isIE()&&tabBootstrap.Utility.get_isEmbedded()};cQ.setCapture=function(ef,eg,eh){tab.Param.verifyValue(ef,'element');tab.Param.verifyValue(eg,'handler');if(cQ.$7()){if(ss.isNullOrUndefined(cQ.$8)||ss.isNullOrUndefined(eh)||!eh){cQ.releaseCapture();document.addEventListener('mousemove',cQ.$2,true);document.addEventListener('mouseup',cQ.$4,true);document.addEventListener('mouseout',cQ.$3,true);cQ.$8=eg}else{}}};cQ.releaseCapture=function(){if(cQ.$7()){document.removeEventListener('mousemove',cQ.$2,true);document.removeEventListener('mouseup',cQ.$4,true);document.removeEventListener('mouseout',cQ.$3,true)}};cQ.$2=function(ef){if(ss.isValue(cQ.$8)){cQ.$8.handleCapturedMouseMove(ef)}};cQ.$4=function(ef){cQ.$1(ef)};cQ.$3=function(ef){if(cQ.$5()&&cQ.$0(ef)){cQ.$1(ef)}};cQ.$1=function(ef){cQ.releaseCapture();if(ss.isValue(cQ.$8)){cQ.$8.handleCapturedMouseComplete(ef);cQ.$8=null}};cQ.$0=function(ef){var eg=ef.toElement;return ss.isNullOrUndefined(eg)||eg.nodeName==='HTML'};global.spiff.MouseCapture=cQ;var cR=function(){};cR.__typeName='spiff.MouseEventUtil';cR.get_clickEvent=function(){return(tab.BrowserSupport.get_isTouch()?'touchstart':'click')};cR.getMouseButtonEnum=function(ef){cR.$0();var eg='none';var eh=ef['which'];if(ss.isValue(eh)){var ei=eh;if(ss.keyExists(cR.$3,ei)){eg=cR.$3[ei]}}else if(ss.isValue(ef['button'])){var ej=ef['button'];if(ss.keyExists(cR.$2,ej)){eg=cR.$2[ej]}}return eg};cR.$0=function(){if(!cR.$1){cR.$2={};cR.$2[1]='left';cR.$2[4]='middle';cR.$2[2]='right';cR.$3={};cR.$3[1]='left';cR.$3[2]='middle';cR.$3[3]='right';cR.$1=true}};global.spiff.MouseEventUtil=cR;var cS=function(ef,eg,eh,ei){cS.$ctor1.call(this,ef,eg,eh,cS.$0,ei)};cS.__typeName='spiff.MoveDragInstance';cS.$ctor1=function(ef,eg,eh,ei,ej){this.$4=null;this.$3=null;this.$2=null;bn.call(this,ef,ej);this.$4=eg;this.$3=eh;this.$2=ei};global.spiff.MoveDragInstance=cS;var cT=function(ef,eg,eh){this.$3=null;this.$2=null;this.$4=null;this.$1=null;this.$0=false;this.$1$1=null;this.$1$2=null;this.$3=ef;this.$2=eg;this.$1='useScrollSize';this.$0=eh;bm.attachDragSource(this.$3,this)};cT.__typeName='spiff.MoveDragSource';global.spiff.MoveDragSource=cT;var cU=function(ef){bK.call(this,ef)};cU.__typeName='spiff.MultiSelectGroupSelection';cU.buildMultiSelectGroupSelection$1=function(ef){return function(eg,eh){var ei=new cU(eg.length);var ej=eg.length;for(var ek=0;ek<ej;++ek){if(eh(eg[ek])){ei.get_selectedIndexes()[ek]=true}}ei.validateAllSelectedState();return ei}};cU.buildMultiSelectGroupSelection=function(ef){return function(eg,eh){var ei=new cU(eg.length);if(eh){ei.handleTapAll()}return ei}};global.spiff.MultiSelectGroupSelection=cU;var cV=function(){be.call(this);this.onFeedbackType=function(){return'dropfeedbackuponentry'};this.onDragOver=function(ef,eg){return eg};this.onAcceptDrop=function(ef){return $.Deferred().resolve(false)};this.onGetDropCursor=function(ef){return Y.noOp}};cV.__typeName='spiff.NoopDropTarget';global.spiff.NoopDropTarget=cV;var cW=function(ef,eg,eh){this.originalEvent=null;this.reactEvent=null;this.inputType=0;this.source=0;this.type=null;this.target=null;this.currentTarget=null;this.timeStamp=0;this.keyCode=0;this.ctrlKey=false;this.altKey=false;this.metaKey=false;this.shiftKey=false;this.clientX=0;this.clientY=0;this.pageX=0;this.pageY=0;this.touches=null;this.targetTouches=null;this.changedTouches=null;this.touchesById=null;this.gestureName=null;this.$0=null;this.originalEvent=ef;this.reactEvent=eh;this.type=ef.type;this.timeStamp=ef.timeStamp;this.keyCode=ef['keyCode'];this.ctrlKey=ef.ctrlKey;this.altKey=ef.altKey;this.metaKey=ef.metaKey;this.shiftKey=ef.shiftKey;this.clientX=ef['clientX'];this.clientY=ef['clientY'];if(ss.isValue(ef.touches)){this.touches=ef.touches;this.targetTouches=ef.targetTouches;this.changedTouches=ef.changedTouches;var ei=ef.target;this.target=((ei.nodeType===3)?ei.parentNode:ei);this.currentTarget=eg}else{this.targetTouches=((ef.type==='mouseup')?[]:[ef]);this.touches=this.targetTouches;this.changedTouches=[ef];this.currentTarget=ef.currentTarget;this.target=ef.target}var ej=this.touches.length;this.touchesById=new Array(ej);while(ej>0){ej-=1;var ek=this.touches[ej].identifier||0;this.touchesById[ek]=this.touches[ej]}ej=this.changedTouches.length;while(ej>0){ej-=1;var el=this.changedTouches[ej].identifier||0;this.touchesById[el]=this.changedTouches[ej]}};cW.__typeName='spiff.NormalizedEvent';cW.get_allHandledEvents=function(){return Object.keys(i.$3)};cW.create=function(ef,eg,eh){return i.$0(ef,eg,eh)};global.spiff.NormalizedEvent=cW;var cX=function(){};cX.__typeName='spiff.OnBlurBehavior';global.spiff.OnBlurBehavior=cX;var cY=function(){};cY.__typeName='spiff.OrientationHandler';cY.add_orientationChanged=function(ef){cY.$1$1=ss.delegateCombine(cY.$1$1,ef)};cY.remove_orientationChanged=function(ef){cY.$1$1=ss.delegateRemove(cY.$1$1,ef)};cY.get_isLandscape=function(){return cY.$e===90||cY.$e===-90};cY.get_isPortrait=function(){return cY.$e===0||cY.$e===180};cY.get_windowInstHelper=function(){return cY.$k};cY.init=function(){if(!tsConfig.is_mobile_device){cY.$e=0;return}cY.$j=cY.$1();cY.$k=new tab.WindowHelper(cY.$j);cY.$e=cY.$3();cY.$f=cY.$k.get_innerWidth();if(tab.BrowserSupport.get_orientationChange()){$(cY.$j).on('orientationchange'.toString(),cY.$6)}$(cY.$j).on('resize'.toString(),cY.$7);if('addEventListener'in window.self){window.addEventListener('unload',cY.$a,true)}};cY.$a=function(ef){cY.unbindEvents()};cY.unbindEvents=function(){if(ss.isNullOrUndefined(cY.$j)){return}$(cY.$j).off('orientationchange'.toString(),cY.$6);$(cY.$j).off('resize'.toString(),cY.$7)};cY.$1=function(){var ef=tab.WindowHelper.get_windowSelf();if(tabBootstrap.Utility.get_isEmbedded()){try{while(ss.isValue(ef.parent)&&!ss.referenceEquals(ef.parent,ef)){var eg=ef.parent;var eh=new tab.WindowHelper(eg);if(ss.isNullOrUndefined(eh.get_outerWidth())){break}ef=eg}}catch(ei){}}return ef};cY.$6=function(ef){cY.$h=new Date;cY.$5()};cY.$5=function(){var ef=new Date;if(ef-cY.$h>=2500||cY.$g||cY.$9()||cY.$8()){cY.$b();cY.$2()}else{cY.$0();cY.$i=window.setTimeout(cY.$5,75)}};cY.$7=function(ef){if(cY.$g||cY.$9()){cY.$b();cY.$2()}};cY.$2=function(){cY.$0();if(cY.$8()){cY.$e=cY.$3();cY.$g=false;if(ss.isValue(cY.$1$1)){cY.$1$1()}}};cY.$9=function(){var ef=cY.$k.get_innerWidth();if(cY.$f!==ef){return true}return false};cY.$8=function(){var ef=cY.$3();if(cY.$e!==ef){return true}return false};cY.$b=function(){cY.$f=cY.$k.get_innerWidth();cY.$g=true};cY.$3=function(){var ef;if(!tab.BrowserSupport.get_isAndroid()){ef=cY.$4();if(ss.isValue(ef)){return ss.unbox(ef)}}ef=((cY.$k.get_innerWidth()<cY.$k.get_innerHeight())?0:90);return ss.unbox(ef)};cY.$4=function(){try{return cY.$j.orientation}catch(ef){}return null};cY.$0=function(){cY.$i=tab.MiscUtil.clearTimeout(cY.$i)};global.spiff.OrientationHandler=cY;var cZ=function(ef,eg){var eh=function(ei){React.Component.call(this,ei)};ss.registerGenericClassInstance(eh,cZ,[ef,eg],{render:function(){var ei=_.map(this.props.items,ss.mkdel(this,function(em,en){var eo=this.getEventHandleSpecForItem(em);var ep=['tabListItem'];if(en%2===1){ep.push('tabListItemAlternate')}var eq={className:ep.join(' '),key:this.getUniqueKey(em.data)};if(ss.isNullOrUndefined(eo)){return bk.div(eq,this.buildItem(em.data))}else{return bu.div(eo,eq,[this.buildItem(em.data)])}}));var ej=new dr;ej.scrollY=true;ej.scrollbars=true;ej.onScrollStop=ss.mkdel(this,this.onScrollStop);ej.alwaysShowScrollbarsIfScrollable=this.shouldScrollbarAlwaysBeShown();ej.startingY=this.props.startingY;var ek=ej;var el=dq.createScroller(ek,ei);return bk.div({className:'tabPagableList'},el)},buildItem:null,getUniqueKey:null,onScrollStop:null,getEventHandleSpecForItem:function(ei){return null},shouldScrollbarAlwaysBeShown:function(){return false}},function(){return React.Component},function(){return[]});return eh};cZ.__typeName='spiff.PagableListComponent$2';ss.initGenericClass(cZ,a,2);global.spiff.PagableListComponent$2=cZ;var da=function(ef){this.$7=false;this.$9=null;this.$a=null;this.$8=null;this.$6=null;bG.call(this,ef,'pinch',true,2)};da.__typeName='spiff.Pinch';global.spiff.Pinch=da;var db=function(ef){cB.call(this,ef,ef.get_listItemCreator())};db.__typeName='spiff.PopupListView';global.spiff.PopupListView=db;var dc=function(ef,eg,eh){this.$b=null;cD.call(this,ef,eh);this.$b=eg};dc.__typeName='spiff.PopupListViewModel';global.spiff.PopupListViewModel=dc;var dd=function(){};dd.__typeName='spiff.PureRender';dd.mixIn=function(ef){var eg=function(eh,ei){return dd.$0(ef,eh,ei)};ef['shouldComponentUpdate']=eg};dd.$0=function(ef,eg,eh){var ei=!tab.MiscUtil.shallowEquals(ef.props,eg)||!tab.MiscUtil.shallowEquals(ef.state,eh);if(!ei){}return ei};global.spiff.PureRender=dd;var de=function(ef){React.Component.call(this,ef)};de.__typeName='spiff.PureRenderComponent';de.$ctor1=function(ef,eg){React.Component.call(this,ef,eg)};global.spiff.PureRenderComponent=de;var df=function(){};df.__typeName='spiff.ReactComponentExtensions';df.generateUniqueKeys=function(ef){return function(eg,eh){var ei={};for(var ej=0;ej<eg.length;++ej){ei[eg[ej].toString()]=0}for(var ek=0;ek<eh.length;++ek){ei[eh[ek]]=1}return _.map(eg,function(el){var em=el.toString();var en=ei[em];if(en===0){ei[em]=1;return em}var eo=null;do eo=[em,'_',++en].join('');while(ss.isValue(ei[eo]));ei[em]=en;ei[eo]=1;return eo})}};global.spiff.ReactComponentExtensions=df;var dg=function(){};dg.__typeName='spiff.ReactElement';dg.div$1=function(ef,eg){return bk.div.apply(null,[{className:ef}].concat(eg))};dg.div=function(ef,eg){var eh=(ss.isValue(ef)?ef.join(' '):null);return bk.div.apply(null,[{className:eh}].concat(eg))};dg.span$1=function(ef,eg){return bk.span.apply(null,[{className:ef}].concat(eg))};dg.span=function(ef,eg){var eh=(ss.isValue(ef)?ef.join(' '):null);return bk.span.apply(null,[{className:eh}].concat(eg))};dg.br=function(ef){return bk.br({className:ef})};global.spiff.ReactElement=dg;var dh=function(ef,eg,eh){var ei=function(ej){this.$5=ss.getDefaultValue(ef);this.$1$1=null;this.$1$2=null;this.set_rootElement($("<div class='tab-ReactView' />"));this.$4(this.get_rootElement().get(0));this.$5=ej;this.$5.add_disposed(ss.mkdel(this,this.$1));this.$5.add_propsUpdated(ss.mkdel(this,this.$0))};ss.registerGenericClassInstance(ei,dh,[ef,eg,eh],{get_viewModel:function(){return this.$5},get_rootElement:function(){return this.$1$1},set_rootElement:function(ej){this.$1$1=ej},$3:function(){return this.$1$2},$4:function(ej){this.$1$2=ej},addToDom:function(ej){ej.append(this.$3());this.$2(this.$5.get_props())},onAddedToDom:function(){},$0:function(){this.$2(this.$5.get_props())},$2:function(ej){ReactDOM.render(React.createElement(eg,ej),this.$3())},dispose:function(){ReactDOM.unmountComponentAtNode(this.$3());this.get_rootElement().remove();this.$5.remove_propsUpdated(ss.mkdel(this,this.$0));this.$5.remove_disposed(ss.mkdel(this,this.$1))},$1:function(ej){this.dispose()},addClass:function(ej){this.get_rootElement().addClass(ej)}},function(){return null},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[ef])]});ei.$0="<div class='tab-ReactView' />";tab.ObjectRegistry.registerType(ei,ei).call(null);return ei};dh.__typeName='spiff.ReactHostView$3';ss.initGenericClass(dh,a,3);global.spiff.ReactHostView$3=dh;var di=function(){};di.__typeName='spiff.ReactRefs';di.attachDragSource=function(ef){var eg=null;return function(eh){if(ss.isValue(eh)){eg=ReactDOM.findDOMNode(eh);bm.attachDragSource($(eg),ef())}else{bm.removeDragSource($(eg))}}};di.attachDropTarget=function(ef){var eg=null;return function(eh){if(ss.isValue(eh)){eg=ReactDOM.findDOMNode(eh);bm.attachDropTarget($(eg),ef())}else{bm.detachDropTarget($(eg))}}};global.spiff.ReactRefs=di;var dj=function(ef,eg,eh){var ei=function(ej,ek,el){this.$3$1=null;React.Component.call(this,ek,el);this.set_widget(ej);this.get_widget().add_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged))};ss.registerGenericClassInstance(ei,dj,[ef,eg,eh],{get_widget:function(){return this.$3$1},set_widget:function(ej){this.$3$1=ej},render:function(){return bk.div(null,'')},componentDidMount:function(){var ej=$(ReactDOM.findDOMNode(this));this.get_widget().addToDom(ej)},componentWillUnmount:function(){this.get_widget().remove_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged));this.get_widget().dispose()},componentWillReceiveProps:function(ej){this.updateWidgetState(ej)},handleWidgetPropertyChanged:null,updateWidgetState:null},function(){return React.Component},function(){return[]});return ei};dj.__typeName='spiff.ReactSpiffAdapter$3';ss.initGenericClass(dj,a,3);global.spiff.ReactSpiffAdapter$3=dj;var dk=function(ef,eg,eh){this.$5='bottomRight';cT.call(this,ef,eg,false);this.$5=eh};dk.__typeName='spiff.ResizeDragSource';global.spiff.ResizeDragSource=dk;var dl=function(ef,eg){ss.makeGenericType(w,[dm]).call(this,ef,eg)};dl.__typeName='spiff.ScrollableView';dl.createScrollableView=function(ef){if(ef.get_hasCustomIndicator()){return new ba(ef)}else{return new bd(ef)}};global.spiff.ScrollableView=dl;var dm=function(){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;x.call(this);this.$0(true)};dm.__typeName='spiff.ScrollableViewModel';dm.$ctor1=function(ef){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;x.call(this);this.$0(ef)};global.spiff.ScrollableViewModel=dm;var dn=function(ef){var eg=function(eh){this.$0=null;this.$1=0;de.call(this,eh);var ei=new be;ei.canAccept=function(ej){return ss.isInstanceOfType(ej.get_payload(),ef)};ei.onAcceptDrop=ss.mkdel(this,function(ej){window.clearInterval(this.$1);return $.Deferred().resolve(true)});ei.onDragOver=ss.mkdel(this,function(ej,ek){this.props.scrollCallback();window.clearInterval(this.$1);this.$1=window.setInterval(this.props.scrollCallback,100);return ek});ei.onDragExit=ss.mkdel(this,function(ej){window.clearInterval(this.$1)});this.$0=ei};ss.registerGenericClassInstance(eg,dn,[ef],{render:function(){return bk.div({style:this.props.cssProps,ref:this.props.dropTargetRefConnectorCallback(this.$0)})},componentWillUnmount:function(){window.clearInterval(this.$1)}},function(){return de},function(){return[]});eg.$0=100;return eg};dn.__typeName='spiff.ScrollEdgeAreaComponent$1';ss.initGenericClass(dn,a,1);global.spiff.ScrollEdgeAreaComponent$1=dn;var dp=function(){};dp.__typeName='spiff.ScrollerType';global.spiff.ScrollerType=dp;var dq=function(ef,eg){React.Component.call(this,ef,eg)};dq.__typeName='spiff.ScrollingComponent';dq.$0=function(ef){var eg=ef.forceScrollerType;if(ss.isNullOrUndefined(eg)){eg=0}return ss.unbox(eg)};dq.createScroller=function(ef,eg){var eh=dq.$0(ef);var ei=dq.$1[eh];if(eg.length===1){return React.createElement(ei,ef,eg[0])}return React.createElement(ei,ef,eg)};global.spiff.ScrollingComponent=dq;var dr=function(){this.extraCssClass=null;this.customStyle=null;this.forceScrollerType=null;this.scrollX=false;this.scrollY=false;this.scrollbars=true;this.mouseWheel=true;this.alwaysShowScrollbarsIfScrollable=false;this.onScrollStop=null;this.onScroll=null;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.onScrollingControlRefUpdated=null};dr.__typeName='spiff.ScrollingProps';global.spiff.ScrollingProps=dr;var ds=function(ef){ss.makeGenericType(z,[Object]).call(this,ef)};ds.__typeName='spiff.SelectableButtonComponent';global.spiff.SelectableButtonComponent=ds;var dt=function(ef){React.Component.call(this,ef);this.state=this.$1(this.props.selection)};dt.__typeName='spiff.SelectableButtonGroupComponent';dt.getDesiredHeight=function(ef){return $('.tab-vScrollable',ef).get(0).scrollHeight};dt.getMinimumWidth=function(ef){return $('.tab-vScrollable',ef).get(0).scrollWidth};global.spiff.SelectableButtonGroupComponent=dt;var du=function(){this.disabled=false;this.isTabbable=false;this.label=null;this.tooltip=null;this.getCustomContentBefore=null;this.getCustomContentAfter=null;this.testId=null};du.__typeName='spiff.SelectableButtonGroupItem';global.spiff.SelectableButtonGroupItem=du;var dv=function(){this.$7=null;this.$9=null;this.$a=0;this.$8='tabSelected';this.$1$1=null;this.$7=[];this.$9={}};dv.__typeName='spiff.SelectableGroup';global.spiff.SelectableGroup=dv;var dw=function(ef,eg,eh){this.$1=false;this.$2=false;this.$0=false;ss.CancelEventArgs.call(this);this.$1=ef;this.$2=eg;this.$0=eh};dw.__typeName='spiff.SelectionEventArgs';global.spiff.SelectionEventArgs=dw;var dx=function(){};dx.__typeName='spiff.SelectionMethod';global.spiff.SelectionMethod=dx;var dy=function(){this.$0=null;this.$0=dK.createEmpty()};dy.__typeName='spiff.SharedWidgetsPointerEventAdapter';global.spiff.SharedWidgetsPointerEventAdapter=dy;var dz=function(ef,eg){this.relativeDom=null;this.preferUp=false;this.preferLeft=false;this.expanded=false;this.additionalMenuClass=null;this.cursorPosition=null;this.$1$1=0;this.relativeDom=ef;this.set_minWidth((eg?tab.DoubleUtil.roundToInt(ef.outerWidth()):0))};dz.__typeName='spiff.ShowMenuOptions';global.spiff.ShowMenuOptions=dz;var dA=function(ef){bK.call(this,ef)};dA.__typeName='spiff.SingleSelectGroupSelection';dA.buildSingleSelectGroupSelection$1=function(ef){return function(eg,eh){var ei=new dA(eg.length);var ej=eg.length;if(ej===0){}for(var ek=0;ek<ej;++ek){if(eh(eg[ek])){ei.get_selectedIndexes()[ek]=true}}ei.validateAllSelectedState();return ei}};dA.buildSingleSelectGroupSelection=function(ef){return function(eg,eh){var ei=new dA(eg.length);if(eh){ei.handleTapAll()}return ei}};global.spiff.SingleSelectGroupSelection=dA;var dB=function(ef,eg){this.$0=null;this.$1=null;this.$0=ef;this.$1=eg};dB.__typeName='spiff.SpiffBrowserViewport';dB.getViewport=function(ef){if(!ss.staticEquals(dB.getSpiffBrowserViewportFunc,null)){dB.getSpiffBrowserViewportFunc(ef)}else{ef(new dB(null,null))}};global.spiff.SpiffBrowserViewport=dB;var dC=function(ef,eg){this.$5=null;this.$6=null;React.Component.call(this,ef,eg);this.$5=ss.mkdel(this,function(eh){this.$6=eh})};dC.__typeName='spiff.StatelessDropdownComponent';global.spiff.StatelessDropdownComponent=dC;var dD=function(ef){this.$j=null;this.$i=null;this.$h=false;de.call(this,ef)};dD.__typeName='spiff.StatelessHorizontalSliderComponent';dD.create=function(ef){return React.createElement(dD,ef)};global.spiff.StatelessHorizontalSliderComponent=dD;var dE=function(ef){cs.call(this,dE.$0(ef),'.tab-styled-button-middle');this.set_focusClass('tab-focus');this.set_disabledClass('tab-disabled')};dE.__typeName='spiff.StyledButton';dE.createStyledButton=function(ef,eg,eh,ei){var ej=new dE(eh);ej.set_label(eg);ej.add_click(ef);ej.disposables.add$1(new tab.CallOnDispose(function(){ej.remove_click(ef)}));if(ss.isValue(ei)){ej.tabIndex(ss.unbox(ei))}return ej};dE.$0=function(ef){return $('<span>').addClass('tab-styled-button').addClass(ef).append($('<span>').addClass('tab-styled-button-left')).append($('<span>').addClass('tab-styled-button-middle')).append($('<span>').addClass('tab-styled-button-right'))};global.spiff.StyledButton=dE;var dF=function(ef,eg){ss.makeGenericType(dj,[cs,Object,Object]).call(this,dG.createUnificationLabelButton(ef.clickHandler,ef.label,ef.buttonClass,ss.coalesce(ef.buttonStyle,0),ef.tabIndex),ef,eg);this.get_widget().set_disabled(ss.coalesce(ef.disabled,false));this.get_widget().set_hoverTooltipText(ef.tooltipText)};dF.__typeName='spiff.StyledButtonComponent';global.spiff.StyledButtonComponent=dF;var dG=function(){};dG.__typeName='spiff.StyledTextButton';dG.createUnificationLabelButton=function(ef,eg,eh,ei,ej){var ek=dG.$0(ef,eg,eh,1,ej);var el;switch(ei){case 0:{el='tabStyledTextButtonFilledGreen';break}case 1:{el='tabStyledTextButtonFilledRed';break}case 2:{el='tabStyledTextButtonFilledGrey';break}case 3:{el='tabStyledTextButtonOutline';break}default:{el='';break}}ek.addClass(el);return ek};dG.createUnificationIconTextButton=function(ef,eg,eh){var ei=new cs($("<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"),'.label');if(!ss.staticEquals(ef,null)){ei.onClick(function(ej){ef()})}if(!ss.isNullOrEmptyString(eg)){ei.set_label(eg)}if(!ss.isNullOrEmptyString(eh)){ei.addClass(eh)}return ei};dG.createActionButton=function(ef,eg,eh,ei,ej){var ek=dG.$0(ef,eg,eh,ei,ej);ek.addClass('tabStyledTextButtonAction');return ek};dG.$0=function(ef,eg,eh,ei,ej){var ek=cs.newTextButton(ef,eg);ek.addClass('tabStyledTextButton');switch(ei){case 2:{ek.addClass('tabLargeStyledTextButton');break}case 1:{ek.addClass('tabMediumStyledTextButton');break}}ek.addClass(eh);if(ss.isValue(ej)){ek.tabIndex(ss.unbox(ej))}return ek};global.spiff.StyledTextButton=dG;var dH=function(ef){this.$1=new dv;this.$5=null;this.$3={};this.$2=new tab.DisposableHolder;this.$4=null;this.$1$1=null;if(ss.isNullOrUndefined(ef)){ef=new d}this.$5=ef};dH.__typeName='spiff.TabControl';global.spiff.TabControl=dH;var dI=function(ef,eg){this.eventConfig=null;this.handler=null;this.$1=new tab.DisposableHolder;this.$2=0;this.$3=0;this.$4=true;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.eventConfig=eg||{};bw.setHandler(this.eventConfig,'firstTouch',ss.mkdel(this,this.handlePressEvent));bw.setHandler(this.eventConfig,'tap',ss.mkdel(this,this.handleClickEvent));bw.setHandler(this.eventConfig,'rightClick',ss.mkdel(this,this.handleRightClickEvent));this.handler=new dJ.$ctor1(ef,this.eventConfig)};dI.__typeName='spiff.TableauClickHandler';dI.target=function(ef){return new dI(ef,null)};dI.targetAndConfig=function(ef,eg){return new dI(ef,eg)};dI.targetAndClick=function(ef,eg){return(new dI(ef,null)).onClick(eg)};dI.targetAndPress=function(ef,eg){return(new dI(ef,null)).onPress(eg)};dI.targetAndRightClick=function(ef,eg){return(new dI(ef,null)).onRightClick(eg)};dI.targetAndDoubleClick=function(ef,eg){return(new dI(ef,null)).onDoubleClick(eg)};global.spiff.TableauClickHandler=dI;var dJ=function(){this.config=null;this.$2=null;this.$3=null};dJ.__typeName='spiff.TableauEventHandler';dJ.$ctor1=function(ef,eg){this.config=null;this.$2=null;this.$3=null;this.config=eg||{};this.config.domElem=ef;this.configureDomElem(ef);this.setupEventRecognizer(this.config);this.$0(ef)};dJ.$0=function(ef,eg){return ef[eg]};global.spiff.TableauEventHandler=dJ;var dK=function(){this.$2$1=null;dJ.call(this);this.set_eventHandlingAttributesForReact(this.$4())};dK.__typeName='spiff.TableauEventHandlerForReact';dK.createEmpty=function(){return new dK};dK.$0=function(ef){if(ss.isNullOrUndefined(dK.$1)){dK.$1={};dK.$1['touchstart']='onTouchStart';dK.$1['touchmove']='onTouchMove';dK.$1['touchend']='onTouchEnd';dK.$1['touchcancel']='onTouchCancel';dK.$1['mousedown']='onMouseDown';dK.$1['mousemove']='onMouseMove';dK.$1['mouseup']='onMouseUp';dK.$1['mouseout']='onMouseOut';dK.$1['scroll']='onScroll';dK.$1['contextmenu']='onContextMenu'}return dK.$1[ef]};global.spiff.TableauEventHandlerForReact=dK;var dL=function(ef){this.disposables=new tab.DisposableHolder;this.domRoot=null;this.domRoot=ef};dL.__typeName='spiff.Template';dL.fromHtml=function(ef){return new dL($(ef))};global.spiff.Template=dL;var dM=function(ef,eg){de.$ctor1.call(this,ef,eg)};dM.__typeName='spiff.TextDropdownButtonComponent';global.spiff.TextDropdownButtonComponent=dM;var dN=function(ef,eg,eh,ei,ej){this.$5=null;this.$6=null;this.$4=false;this.$2$1=null;this.$2$2=null;ed.call(this,ef.get_domRootElement());this.$5=ef;this.$6=eg;this.$5.get_inputElement().val(this.$6);this.$5.get_inputElement().attr('placeholder',eh);this.$5.get_inputElement().attr('title',eh);if(ss.isValue(ei)){var ek='textinput-'+this.get_instanceId();ef.get_inputElement().attr('id',ek);ef.get_inputElement().before($(ss.formatString("<label for='{0}'>{1}</label>",ek,ei)))}if(ej){ef.get_inputElement().attr('readonly','readonly')}this.$5.get_inputElement().on('compositionstart compositionupdate',ss.mkdel(this,function(el){this.$4=true})).on('compositionend',ss.mkdel(this,function(el){this.$4=false})).on('keydown',ss.mkdel(this,this.$3)).on('input',ss.mkdel(this,this.$2))};dN.__typeName='spiff.TextInputView';dN.newTextInputView=function(ef,eg,eh,ei){var ej=new o;return new dN(ej,ef,eg,eh,ei)};global.spiff.TextInputView=dN;var dO=function(ef,eg){this.$c=null;this.$d=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;y.call(this,ef);this.$d=dO.$0();this.$c=ss.coalesce(eg,'selected')};dO.__typeName='spiff.ToggleButton';dO.createButton=function(ef,eg,eh){var ei=new dO(ef,eg);ei.set_selected(eh.get_toggleValue());var ej=function(ek,el){if(el.get_propertyName()==='selected'){eh.raiseToggled()}};ei.add_propertyChanged(ej);ei.disposables.add$1(new tab.CallOnDispose(function(){ei.remove_propertyChanged(ej)}));return ei};dO.$0=function(){dO.$1++;return'toggleBtn-'+dO.$1.toString()};global.spiff.ToggleButton=dO;var dP=function(ef,eg){this.$0=false;this.$2$1=null;this.$2$2=null;x.call(this);this.$0=eg;this.set_data({});this.add_toggled(ef);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_toggled(ef)})))};dP.__typeName='spiff.ToggleButtonViewModel';global.spiff.ToggleButtonViewModel=dP;var dQ=function(){};dQ.__typeName='spiff.UberPopupHorizontalAlign';global.spiff.UberPopupHorizontalAlign=dQ;var dR=function(){};dR.__typeName='spiff.UberPopupHorizontalAttach';global.spiff.UberPopupHorizontalAttach=dR;var dS=function(){};dS.__typeName='spiff.UberPopupMode';global.spiff.UberPopupMode=dS;var dT=function(){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dT.startingGlassZIndex;this.useCaret=false};dT.__typeName='spiff.UberPopupShowOptions';dT.$ctor1=function(ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=dT.startingGlassZIndex;this.useCaret=false;this.horizontalAlign=ef;this.horizontalAttach=eg;this.theme=eh;this.preferUp=ei;this.coverRelativeElement=ej;this.limitPopupHeight=ek;this.maxPopupHeight=el;this.additionalClassNames=em;this.isToolbarFlyout=en;this.popupMode=eo;this.globalTouchWhitelist=ep;this.glassZIndex=eq;this.focusOnShown=er};global.spiff.UberPopupShowOptions=dT;var dU=function(){this.content=null;this.caret=null;this.caretBorder=null;dL.call(this,$("<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>"));this.content=this.getElementBySelector('.tabUberPopupContent');this.caret=this.getElementBySelector('.tabUberArrow');this.caretBorder=this.getElementBySelector('.tabUberArrow2');this.caret.hide();this.caretBorder.hide()};dU.__typeName='spiff.UberPopupTemplate';global.spiff.UberPopupTemplate=dU;var dV=function(){};dV.__typeName='spiff.UberPopupTheme';global.spiff.UberPopupTheme=dV;var dW=function(ef,eg){this.popupViewModel=null;this.glass=null;this.contentView=null;this.visible=false;ss.makeGenericType(w,[dX]).call(this,ef,eg);this.popupViewModel=ef;this.popupViewModel.add_shown(ss.mkdel(this,this.shown));this.popupViewModel.add_hidden(ss.mkdel(this,this.hidden));this.$6()};dW.__typeName='spiff.UberPopupView';global.spiff.UberPopupView=dW;var dX=function(ef){this.$0=null;this.$1=null;this.options=new dT;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;x.call(this);this.$1=ef;this.set_resizeContent(function(){});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))};dX.__typeName='spiff.UberPopupViewModel';dX.$ctor1=function(ef){dX.call(this,function(){return ef})};dX.createForContent=function(ef,eg,eh,ei){var ej=new dX(eg);if(!ss.staticEquals(eh,null)){ej.add_hidden(eh);ej.addDisposables(new tab.CallOnDispose(function(){ej.remove_hidden(eh)}))}ej.set_content(ef);ej.set_disposeOnHide(true);tab.ObjectRegistry.newView(dW).call(null,[ej]);if(ei){ej.disposables.add$1(new tab.CallOnDispose(function(){ef.disposeViewModel()}))}return ej};dX.createForContent$1=function(ef,eg,eh,ei){return dX.createForContent(ef,function(){return eg},eh,ei)};dX.createForContentUsingCaretStyle=function(ef,eg,eh,ei,ej){var ek=dX.createForContent(ef,function(){return eg},ei,ej);ek.set_mode(2);var el=new dT;el.popupMode=2;el.preferUp=true;el.additionalClassNames=['tabUberCaretStyle',eh];el.horizontalAttach=0;el.horizontalAlign=1;el.useCaret=true;ek.options=el;return ek};global.spiff.UberPopupViewModel=dX;var dY=function(){};dY.__typeName='spiff.UnificationClassNames';global.spiff.UnificationClassNames=dY;var dZ=function(){cO.call(this);this.menuClass='tabMenuUnificationTheme dark';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};dZ.__typeName='spiff.UnificationDarkMenuTheme';global.spiff.UnificationDarkMenuTheme=dZ;var ea=function(){cO.call(this);this.menuClass='tabMenuUnificationTheme light';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};ea.__typeName='spiff.UnificationLightMenuTheme';global.spiff.UnificationLightMenuTheme=ea;var eb=function(ef,eg){this.$b=null;React.Component.call(this,ef,eg);this.state=eb.$0(this.props.initialValue)};eb.__typeName='spiff.VerticalSpinnerComponent';eb.$0=function(ef){return{value:ef,pendingValue:ef,displayValue:ef.toString()}};global.spiff.VerticalSpinnerComponent=eb;var ec=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.label=null;this.initialValue=0;this.maxValue=null;this.minValue=null;this.maxLength=16;this.stepSize=1;this.disabled=false;this.disabledText=null;this.onValueChanged=null;this.actionDelay=0};ec.__typeName='spiff.VerticalSpinnerProps';global.spiff.VerticalSpinnerProps=ec;var ed=function(ef){this.disposables=new tab.DisposableHolder;this.$0=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.element=null;this.addedToDom=false;tab.Param.verifyValue(ef,'element');this.element=ef;ef.addClass('tab-widget');ef.data('widgetInstance',this);ed.$3++;this.$0=ed.$3};ed.__typeName='spiff.Widget';ed.enableTextSelectionOnElement=function(ef){ef.removeClass('tab-unselectable');ef.addClass(ed.selectableNodeClass);ef.off('.tab-disableSelection')};ed.disableTextSelectionOnElement=function(ef){if(tab.BrowserSupport.get_isIE()){return}if(tab.BrowserSupport.get_isMobile()){return}ef.removeClass(ed.selectableNodeClass);ef.addClass('tab-unselectable');if(tab.BrowserSupport.get_selectStart()){var eg='selectstart'+'.tab-disableSelection';ef.on(eg,function(eh){if(tab.DomUtil.isFocusableTextElement(eh.target)){return}eh.preventDefault()})}};ed.findWidget=function(ef,eg){tab.Param.verifyValue(ef,'element');var eh=ef;var ei;eg=eg||ed;do{ei=eh.data('widgetInstance');if(ss.isValue(ei)&&!ss.isAssignableFrom(eg,ss.getInstanceType(ei))){ei=null}eh=eh.parent('.tab-widget')}while(ss.isNullOrUndefined(ei)&&!eh.is('body')&&eh.length>0);return(ss.isNullOrUndefined(ei)?null:ei)};ed.getWidgets=function(ef,eg){var eh=[];eg=eg||ed;var ei;ef.each(function(ej,ek){ei=$(ek).data('widgetInstance');if(ss.isValue(ei)&&ss.isAssignableFrom(eg,ss.getInstanceType(ei))){eh.push(ei)}});return eh};global.spiff.Widget=ed;var ee=function(){};ee.__typeName='spiff.ZoomScaleUtil';ee.$3=function(){var ef=document.documentElement.clientWidth;var eg=window.innerWidth;if(!tsConfig.is_mobile_device){eg-=17}return ef/eg};ee.$2=function(){return ss.isValue(ee.$7)};ee.$0=function(ef,eg){var eh=eg;if(typeof(eh.data)!=='string'){return}var ei=tab.NonApiCommand.parse(eh.data.toString());if(ei.get_name()==='sf'){var ej=ss.getItem(ei.get_parameters(),0);ee.$5=ss.getItem(ei.get_parameters(),1);var ek=ss.getItem(ei.get_parameters(),2);var el=ss.getItem(ei.get_parameters(),3);var em=ee.$4[ej];delete ee.$4[ej];ee.$7=eh.source;if(!ss.staticEquals(em,null)){em(ee.$5,ek,el)}}};ee.$1=function(ef){var eg=(++ee.$6).toString();ee.$4[eg]=ef;var eh=new tab.NonApiCommand('sf?',[eg]);ee.$7.postMessage(eh.serialize(),'*')};ee.getScaleAsync=function(ef){if(ee.$2()){ee.$1(ef)}else if(!ss.staticEquals(ef,null)){ef(ee.$3(),0,0)}};ee.getScaleSync=function(){if(ee.$2()){ee.$1(null);return ee.$5}else{return ee.$3()}};global.spiff.ZoomScaleUtil=ee;ss.initClass(dq,a,{get_scrollingControl:null,componentDidMount:null,componentWillUnmount:null,render:null},React.Component);ss.initClass(b,a,{get_scrollingControl:function(){var ef=this.refs['iscroll-component'];if(ss.isValue(ef)&&ss.isValue(ef.iScroll)){return new c(ef.iScroll)}return null},componentDidMount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(this.get_scrollingControl())}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(null)}},render:function(){var ef=b.$0(this.props);return React.createElement(ch,ef,this.props.children)}},dq);ss.initInterface(cj,a,{get_x:null,get_y:null,get_maxScrollX:null,get_maxScrollY:null,get_canScroll:null,scrollBy:null,scrollTo:null,scrollToElement:null,destroy:null,resetPosition:null,refresh:null,handleEvent:null});ss.initClass(c,a,{get_x:function(){return this.$1.x},get_y:function(){return-this.$1.y},get_maxScrollX:function(){return this.$1.maxScrollX},get_maxScrollY:function(){return-this.$1.maxScrollY},get_canScroll:function(){return this.$1.hasHorizontalScroll||this.$1.hasVerticalScroll},scrollBy:function(ef,eg){this.$0(ss.mkdel(this,function(){this.$1.scrollBy(-ef,-eg,0,null)}))},scrollTo:function(ef,eg){this.$0(ss.mkdel(this,function(){this.$1.scrollTo(-ef,-eg,0,null)}))},scrollToElement:function(ef,eg,eh){this.$0(ss.mkdel(this,function(){this.$1.scrollToElement(ef,0,eg,eh)}))},destroy:function(){this.$1.destroy()},resetPosition:function(){this.$1.resetPosition()},refresh:function(){this.$1.refresh()},handleEvent:function(ef){this.$1.handleEvent(ef)},$0:function(ef){window.setTimeout(ss.mkdel(this,function(){this.$1.refresh();ef()}),0)}},null,[cj]);ss.initClass(dL,a,{getElementsBySelector:function(ef){return this.domRoot.find(ef)},getElementBySelector:function(ef){var eg=this.getElementsBySelector(ef);return eg},dispose:function(){this.disposables.dispose();this.domRoot.remove()},addDisposable:function(ef){if(ss.isValue(ef)){this.disposables.add$1(ef)}}},null,[ss.IDisposable]);ss.initInterface(co,a,{get_root:null,get_tabs:null,get_contentArea:null,createTabLabel:null});ss.initClass(d,a,{get_root:function(){return this.domRoot},get_tabs:function(){return this.$1},get_contentArea:function(){return this.$0},createTabLabel:function(ef,eg){return new e}},dL,[ss.IDisposable,co]);ss.initClass(e,a,{},dL,[ss.IDisposable]);ss.initInterface(cc,a,{get_scrollViewPagePosition:null,get_scrollViewSize:null,scrollToElement:null});ss.initClass(f,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0.element)},get_scrollViewSize:function(){return{w:tab.DoubleUtil.roundToInt(this.$0.element.outerWidth()),h:tab.DoubleUtil.roundToInt(this.$0.element.outerHeight())}},scrollToElement:function(ef,eg){var eh=ef.offsetTop;var ei=eh+ef.offsetHeight;var ej=this.$0.get_scrollerY();var ek=ej+tab.DoubleUtil.roundToInt(this.$0.element.height());if(eh<ej){var el=((eh<=eg)?0:eh);this.$0.scrollTo(this.$0.get_scrollerX(),el,0,null)}else if(ei>ek){this.$0.scrollTo(this.$0.get_scrollerX(),ej+ei-ek,0,null)}}},null,[cc]);ss.initClass(g,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0)},get_scrollViewSize:function(){return{w:this.$0[0].offsetWidth,h:this.$0[0].offsetHeight}},scrollToElement:function(ef,eg){var eh=ef.offsetTop;var ei=eh+ef.offsetHeight;var ej=tab.DoubleUtil.roundToInt(this.$0.scrollTop());var ek=ej+this.$0[0].offsetHeight;if(eh<ej){var el=((eh<=eg)?0:eh);this.$0.scrollTop(el)}else if(ei>ek){this.$0.scrollTop(ej+ei-ek)}}},null,[cc]);ss.initClass(h,a,{refresh:function(){IScroll.prototype.refresh.call(this);if(this.$0){var ef=$(this.$2).find('.iScrollHorizontalScrollbar');ef.toggleClass('noScroll',!this.hasHorizontalScroll)}if(this.$1){var eg=$(this.$2).find('.iScrollVerticalScrollbar');eg.toggleClass('noScroll',!this.hasVerticalScroll)}}},IScroll);ss.initClass(i,a,{});ss.initEnum(j,a,{$0:0,$1:1,$2:2});ss.initClass(k,a,{});ss.initClass(l,a,{$7:function(){return this.$9||(this.$9=this.getElementBySelector('.tabMenuItemNameArea'))}},dL,[ss.IDisposable]);ss.initClass(m,a,{$2:function(ef,eg){switch(ef){case 1:{this.$7.$4=$("<div class='tabMenuItemIcon tabMenuItemCheckIcon'/>");this.$7.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$7.$4);this.$7.$2=true;break}case 2:{this.$7.$4=$("<div class='tabMenuItemIcon tabMenuItemRadioIcon'/>");this.$7.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$7.$4);this.$7.$2=true;break}default:{if(ef===0&&!ss.isNullOrEmptyString(eg)){this.$7.$4=$(ss.formatString("<div class='tabMenuItemIcon {0}'/>",eg));this.$7.domRoot.prepend(this.$7.$4);this.$7.$2=true}break}}return this},$3:function(ef){if(ss.isNullOrEmptyString(ef)){return this}this.$7.$5=$(ss.formatString("<span class='tabMenuItemIconTwo {0}'/>",ef));this.$7.$7().append(this.$7.$5);this.$7.$3=true;return this},$1:function(ef){if(ss.isNullOrEmptyString(ef)){return this}this.$7.$0=$("<div class='tabMenuItemDesc'/>");this.$7.$0.text(ef);this.$7.$7().append(this.$7.$0);this.$7.$1=true;return this},$6:function(ef){if(ss.isNullOrEmptyString(ef)){return this}this.$7.domRoot.attr('title',ef);return this},$4:function(ef){if(ss.isNullOrUndefined(ef)){return this}this.$7.$8=$("<div class='tabMenuItemSubMenuIcon'/>");this.$7.domRoot.append(this.$7.$8);return this},$5:function(ef){for(var eg=0;eg<ef.length;eg++){var eh=ef[eg];if(ss.isValue(eh)){this.$7.domRoot.addClass(eh)}}return this},$0:function(){var ef=this.$7;this.$7=null;return ef},dispose:function(){this.$7.dispose()}},null,[ss.IDisposable]);ss.initInterface(cp,a,{get_domRootElement:null,get_inputElement:null});ss.initClass(n,a,{get_domRootElement:function(){return this.domRoot},$0:function(){return this.$3},get_inputElement:function(){return this.$2},$1:function(){return this.$4}},dL,[ss.IDisposable,cp]);ss.initClass(o,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0}},dL,[ss.IDisposable,cp]);ss.initEnum(p,a,{_blank:'_blank',_self:'_self',_top:'_top'},true);ss.initClass(q,a,{});ss.initClass(r,a,{});ss.initClass(de,a,{render:null,shouldComponentUpdate:function(ef,eg){return dd.$0(this,ef,eg)}},React.Component);de.$ctor1.prototype=de.prototype;ss.initClass(s,a,{render:function(){return bk.div({className:'tab-ArrowDropdownButton'},bk.div({className:'arrow down'}))}},de);ss.initClass(x,a,{add_disposed:function(ef){this.$1$1=ss.delegateCombine(this.$1$1,ef)},remove_disposed:function(ef){this.$1$1=ss.delegateRemove(this.$1$1,ef)},add_propertyChanged:function(ef){this.$1$2=ss.delegateCombine(this.$1$2,ef)},remove_propertyChanged:function(ef){this.$1$2=ss.delegateRemove(this.$1$2,ef)},dispose:function(){if(ss.isValue(this.$1$1)){this.$1$1(this);this.$1$1=null}this.$1$2=null;this.disposables.dispose()},notifyPropertyChanged:function(ef){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this,new tab.PropertyChangedEventArgs(ef))}},raiseEvent:function(ef,eg){if(ss.isValue(ef)){ef(this,eg||ss.EventArgs.Empty)}},raiseActionEvent$1:function(ef){return function(eg,eh){if(ss.isValue(eg)){eg(eh)}}},raiseActionEvent:function(ef){if(ss.isValue(ef)){ef()}}},null,[ss.IDisposable,tab.IViewModel]);ss.initClass(ed,a,{add_disposed:function(ef){this.$1$1=ss.delegateCombine(this.$1$1,ef)},remove_disposed:function(ef){this.$1$1=ss.delegateRemove(this.$1$1,ef)},add_propertyChanged:function(ef){this.$1$2=ss.delegateCombine(this.$1$2,ef)},remove_propertyChanged:function(ef){this.$1$2=ss.delegateRemove(this.$1$2,ef)},get_name:function(){return ss.getTypeFullName(ss.getInstanceType(this))},get_instanceId:function(){return this.$0},get_eventNamespace:function(){return ss.formatString('.{0}_{1}',this.$0,ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},get_widgetId:function(){return this.$1},set_widgetId:function(ef){if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.removeClass(this.$1)}this.$1=ef;if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.addClass(this.$1)}},get_hoverTooltipText:function(){return this.element.attr('title')},set_hoverTooltipText:function(ef){tab.DomUtil.setNativeTooltip(this.element,ef)},enableTextSelection:function(){ed.enableTextSelectionOnElement(this.element);return this},disableTextSelection:function(){ed.disableTextSelectionOnElement(this.element);return this},dispose:function(){this.disposables.dispose();this.element.removeData('widgetInstance');this.element.remove();this.onDisposed(ss.EventArgs.Empty)},toString:function(){return this.get_name()},raisePropertyChanged:function(ef){if(ss.isValue(this.$1$2)){this.$1$2(this,new tab.PropertyChangedEventArgs(ef))}},createNamespacedEventName:function(ef){return ef+this.get_eventNamespace()},stopPropogationOfInputEvents:function(){tab.DomUtil.stopPropagationOfInputEvents(this.element,this.get_eventNamespace())},handleInputEvents:function(ef){tab.DomUtil.handleInputEvents(this.element,this.get_eventNamespace(),ef)},onDisposed:function(ef){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}},addToDom:function(ef){ef.append(this.element);this.onAddedToDom()},prependToDom:function(ef){ef.prepend(this.element);this.onAddedToDom()},onAddedToDom:function(){this.addedToDom=true},addClass:function(ef){this.element.addClass(ef)}},null,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(y,a,{add_press:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_press:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},add_click:function(ef){this.$2$2=ss.delegateCombine(this.$2$2,ef)},remove_click:function(ef){this.$2$2=ss.delegateRemove(this.$2$2,ef)},add_shiftClick:function(ef){this.$2$3=ss.delegateCombine(this.$2$3,ef)},remove_shiftClick:function(ef){this.$2$3=ss.delegateRemove(this.$2$3,ef)},add_ctrlClick:function(ef){this.$2$4=ss.delegateCombine(this.$2$4,ef)},remove_ctrlClick:function(ef){this.$2$4=ss.delegateRemove(this.$2$4,ef)},add_hover:function(ef){this.$2$5=ss.delegateCombine(this.$2$5,ef)},remove_hover:function(ef){this.$2$5=ss.delegateRemove(this.$2$5,ef)},add_mouseEnter:function(ef){this.$2$6=ss.delegateCombine(this.$2$6,ef)},remove_mouseEnter:function(ef){this.$2$6=ss.delegateRemove(this.$2$6,ef)},add_mouseLeave:function(ef){this.$2$7=ss.delegateCombine(this.$2$7,ef)},remove_mouseLeave:function(ef){this.$2$7=ss.delegateRemove(this.$2$7,ef)},$9:function(ef){this.$2$8=ss.delegateCombine(this.$2$8,ef)},$a:function(ef){this.$2$8=ss.delegateRemove(this.$2$8,ef)},get_disabled:function(){return this.element.prop('disabled')},set_disabled:function(ef){this.element.prop('disabled',ef);this.element.toggleClass(this.$5,ef);if(ef){this.element.removeClass(this.$7)}},get_hoverClass:function(){return this.$7},set_hoverClass:function(ef){this.$7=ef},get_focusClass:function(){return this.$6},set_focusClass:function(ef){this.$6=ef},get_disabledClass:function(){return this.$5},set_disabledClass:function(ef){this.$5=ef},get_context:function(){return this.$4},set_context:function(ef){this.$4=ef},get_tableauClickHandler:function(){return this.$8},tabIndex:function(ef){this.element.attr('tabindex',ef.toString());return this},onClick:function(ef){var eg=ss.mkdel(this,function(){ef(this)});this.add_click(eg);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_click(eg)}))},onDoubleClick:function(ef){this.$8.onDoubleClick(ss.mkdel(this,this.handleDoubleClick));var eg=ss.mkdel(this,function(){ef(this)});this.$9(eg);return new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(eg)}))},onShiftClick:function(ef){var eg=ss.mkdel(this,function(){ef(this)});this.add_shiftClick(eg);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_shiftClick(eg)}))},onMouseEnter:function(ef){var eg=ss.mkdel(this,function(){ef(this)});this.add_mouseEnter(eg);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseEnter(eg)}))},onMouseMove:function(ef){var eg=ss.mkdel(this,function(){ef(this)});this.add_hover(eg);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hover(eg)}))},onMouseLeave:function(ef){var eg=ss.mkdel(this,function(){ef(this)});this.add_mouseLeave(eg);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseLeave(eg)}))},$2:function(){this.element.focusin(ss.mkdel(this,this.handleFocusIn)).focusout(ss.mkdel(this,this.handleFocusOut)).keypress(ss.mkdel(this,this.$3));this.disposables.add$1(bA.bindWithDispose(this.element,'mouseenter',ss.mkdel(this,this.handleMouseEnter)));var ef={};ef.hoverDelay=0;bw.setHandler(ef,'mouseleave',ss.mkdel(this,this.handleMouseLeave));bw.setHandler(ef,'hover',ss.mkdel(this,this.handleHover));this.$8=dI.targetAndConfig(this.element.get(0),ef).onClick(ss.mkdel(this,this.handleClick)).onPress(ss.mkdel(this,this.handlePress));this.disposables.add$1(this.$8)},raiseEvent:function(ef){if(ss.isValue(ef)){ef()}},$3:function(ef){if(ef.which===13){bA.stopEvent(ef);this.handleClick(null)}if(ef.which===32){bA.stopEvent(ef);this.handleClick(null)}},handleFocusOut:function(ef){this.element.removeClass(this.$6)},handleFocusIn:function(ef){this.element.addClass(this.$6)},handleHover:function(){if(!this.get_disabled()){this.element.addClass(this.$7)}this.raiseEvent(this.$2$5)},handleMouseEnter:function(ef){this.raiseEvent(this.$2$6)},handleMouseLeave:function(){this.element.removeClass(this.$7);this.raiseEvent(this.$2$7)},handleClick:function(ef){if(this.get_disabled()){return}if(ss.isValue(this.$2$3)&&ss.isValue(ef)&&ef.shiftKey){this.raiseEvent(this.$2$3)}else if(ss.isValue(this.$2$4)&&bA.isCtrlKey(ef)){this.raiseEvent(this.$2$4)}else{this.raiseEvent(this.$2$2)}},handleDoubleClick:function(ef){if(this.get_disabled()){return}this.raiseEvent(this.$2$8)},handlePress:function(){if(this.get_disabled()){return}this.raiseEvent(this.$2$1)}},ed,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(A,a,{},ss.makeGenericType(z,[Object]));ss.initEnum(B,a,{medium:1,large:2});ss.initClass(C,a,{updateWidgetState:function(ef){this.get_widget().set_label(ef.label);this.get_widget().set_disabled(ef.disabled);this.get_widget().set_selected(ef.isSelected)},handleWidgetPropertyChanged:function(ef,eg){if(eg.get_propertyName()==='selected'){if(!ss.staticEquals(this.props.onSelectedChanged,null)&&this.props.isSelected!==this.get_widget().get_selected()){this.props.onSelectedChanged(this.get_widget().get_selected())}}}},ss.makeGenericType(dj,[ct,Object,Object]));ss.initClass(dN,a,{add_enterKeyPressed:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_enterKeyPressed:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},add_escapeKeyPressed:function(ef){this.$2$2=ss.delegateCombine(this.$2$2,ef)},remove_escapeKeyPressed:function(ef){this.$2$2=ss.delegateRemove(this.$2$2,ef)},get_text:function(){return this.$6},set_text:function(ef){if(ss.referenceEquals(this.$6,ef)){return}this.get_inputElement().val(ef).trigger('input')},get_inputElement:function(){return this.$5.get_inputElement()},$2:function(ef){var eg=this.get_inputElement().val();if(!ss.referenceEquals(this.$6,eg)){this.$6=eg;this.raisePropertyChanged('text')}},$3:function(ef){if(this.$4){return}switch(ef.which){case 13:{if(!ss.staticEquals(this.$2$1,null)){bA.stopEvent(ef);this.$2$1()}break}case 27:{if(!ss.staticEquals(this.$2$2,null)){this.$2$2();ef.stopPropagation()}break}}}},ed,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(D,a,{add_clearButtonClicked:function(ef){this.$3$1=ss.delegateCombine(this.$3$1,ef)},remove_clearButtonClicked:function(ef){this.$3$1=ss.delegateRemove(this.$3$1,ef)},get_dom:function(){return this.$a},get_searchBoxClearButton:function(){return this.$b},$7:function(){if(!ss.isNullOrEmptyString(this.get_text())){this.$a.get_searchBoxClear().show();this.$a.get_inputElementContainer().addClass('clearButtonOn')}else{this.$a.get_searchBoxClear().hide();this.$a.get_inputElementContainer().removeClass('clearButtonOn')}},$9:function(ef,eg){this.$7()},$8:function(ef){this.set_text('');if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},dN,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(E,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0},get_inputElementContainer:function(){return this.$1},get_searchBoxClear:function(){return this.$2}},dL,[ss.IDisposable,cp]);ss.initClass(F,a,{});ss.initClass(G,a,{$j:function(ef){this.$1$1=ss.delegateCombine(this.$1$1,ef)},$k:function(ef){this.$1$1=ss.delegateRemove(this.$1$1,ef)},$h:function(ef){this.$1$2=ss.delegateCombine(this.$1$2,ef)},$i:function(ef){this.$1$2=ss.delegateRemove(this.$1$2,ef)},$l:function(ef){this.$1$3=ss.delegateCombine(this.$1$3,ef)},$m:function(ef){this.$1$3=ss.delegateRemove(this.$1$3,ef)},get_target:function(){return this.$g},dispose:function(){this.$8();this.$b.dispose();if(!ss.isValue(this.$g)){return}this.$g.off('.'+this.$c);this.$g=null},onPress:function(ef){this.$j(ef);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k(ef)})));return this},onClick:function(ef){this.$h(ef);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i(ef)})));return this},onRightClick:function(ef){this.$l(ef);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$m(ef)})));return this},setTarget:function(ef){this.$g=ef;ef.on(this.$0('touchstart'),ss.mkdel(this,this.$7));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ef.off(this.$0('touchstart'))})));if(tsConfig.is_mobile){if(!tab.BrowserSupport.get_isTouch()){ef.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ef.off(this.$0('mousedown')).off(this.$0('click'))})))}}else{ef.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2)).on(this.$0('contextmenu'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ef.off(this.$0('mousedown')).off(this.$0('click')).off(this.$0('contextmenu'))})))}return this},$0:function(ef){return ef+'.'+this.$c},$8:function(){if(ss.isValue(this.$g)){this.$g.off(this.$0('touchend'));this.$g.off(this.$0('touchcancel'))}if(ss.isValue(this.$d)){document.body.removeEventListener('touchmove'.toString(),this.$d,true);this.$d=null}this.$a=tab.MiscUtil.clearTimeout(this.$a)},$3:function(ef){this.$e=ef.pageX;this.$f=ef.pageY;this.$9();if(ss.isValue(this.$1$1)){this.$1$1(ef)}},$1:function(ef){var eg=(ss.isValue(ef)?ef['originalEvent']:null);if(ss.isValue(eg)&&ss.isValue(eg.touches)&&ss.isValue(eg.touches[0])){return eg.touches[0]}return null},$7:function(ef){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ef.target)){ef.preventDefault()}else{return}}var eg=this.$1(ef);var eh=0;var ei=0;if(ss.isValue(eg)){eh=ss.coalesce(eg.pageX,0);ei=ss.coalesce(eg.pageY,0)}this.$g.on(this.$0('touchend'),ss.mkdel(this,this.$5));this.$g.on(this.$0('touchcancel'),ss.mkdel(this,this.$4));this.$9();if(tab.BrowserSupport.get_addEventListener()){this.$d=ss.thisFix(ss.mkdel(this,this.$6));document.body.addEventListener('touchmove'.toString(),this.$d,true)}this.$e=eh;this.$f=ei;if(ss.isValue(this.$1$1)){this.$1$1(ef)}},$5:function(ef){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ef.target)){ef.preventDefault()}else{return}}this.$2(ef)},$9:function(){this.$a=tab.MiscUtil.clearTimeout(this.$a);this.$a=window.setTimeout(ss.mkdel(this,this.$8),300)},$6:function(ef,eg){var eh=eg;if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ef)){eg.preventDefault()}else{return}}var ei=eh.touches[0].pageX;var ej=eh.touches[0].pageY;if(Math.abs(ei-this.$e)>10||Math.abs(ej-this.$f)>10){this.$8()}},$4:function(ef){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(ef.target)){ef.preventDefault()}else{return}}this.$8()},$2:function(ef){ef.stopPropagation();this.$8();if(ef.type==='contextmenu'){ef.preventDefault();if(ss.isValue(this.$1$3)){this.$1$3(ef)}}else{if(ss.isValue(this.$1$2)){this.$1$2(ef)}if(ef.type==='touchend'){F.preventGhostClick(this.$e,this.$f,ef.target)}}}},null,[ss.IDisposable]);ss.initClass(H,a,{render:function(){var ef=$.extend(new Object,this.props);ef.onSelectionChanged=ss.mkdel(this,function(ej){this.onSelect(ej,this.props.onSelectionChanged)});var eg=React.createElement(dt,ef);var eh=new Object;eh.styleClass=this.props.styleClass;eh.isSelecting=this.state.isSelecting;eh.getDesiredHeight=dt.getDesiredHeight;eh.getMinimumWidth=dt.getMinimumWidth;eh.onSelectorToggled=ss.mkdel(this,this.$1);eh.onFocusLost=ss.mkdel(this,this.$0);eh.tabIndex=-1;eh.renderButton=ss.mkdel(this,function(){return React.createElement(dM,{styleClass:this.props.buttonStyleClass,selectionIconClass:this.props.selectedIconClass,selectionText:this.props.selectedText})});var ei=React.createElement(dC,eh,eg);return ei},onSelect:function(ef,eg){var eh=new O;eh.isSelecting=false;this.setState(eh);if(!ss.staticEquals(eg,null)){eg(ef)}},$1:function(){if(!this.props.enabled){var ef=new O;ef.isSelecting=false;this.setState(ef)}else{var eg=new O;eg.isSelecting=!this.state.isSelecting;this.setState(eg)}},$0:function(){var ef=new O;ef.isSelecting=false;this.setState(ef)}},React.Component);ss.initClass(cO,a,{});ss.initClass(I,a,{},cO);ss.initClass(J,a,{get_iconClass:function(){return this.$1$1},set_iconClass:function(ef){this.$1$1=ef},get_name:function(){return this.$1$2},set_name:function(ef){this.$1$2=ef},get_data:function(){return this.$1$3},set_data:function(ef){this.$1$3=ef},get_description:function(){return this.$1$4},set_description:function(ef){this.$1$4=ef},get_title:function(){return this.$1$5},set_title:function(ef){this.$1$5=ef},asMenuItem:function(){return(new cH).data(this).name(this.get_name()).iconClass(this.get_iconClass()).enabled(true).description(this.get_description()).title(this.get_title()).build()}});ss.initClass(K,a,{},cO);ss.initEnum(L,a,{standard:0,dropdown:1,unification:2});ss.initClass(M,a,{},Object);ss.initEnum(N,a,{standard:0,autoFit:1});ss.initClass(O,a,{});ss.initClass(P,a,{},dL,[ss.IDisposable]);ss.initEnum(Q,a,{standard:0,compact:1,unification:2,lineAndArrow:3});ss.initClass(R,a,{$8:function(){this.$c.icon.removeClass('tabComboBoxNoIconPressed');this.$c.domRoot.removeClass(R.pressedClass)},$9:function(ef){if(!this.$d.get_enabled()){return}this.$c.domRoot.addClass(R.pressedClass);if(this.$d.get_showDropdownIcon()){this.$c.icon.addClass('tabComboBoxNoIconPressed')}this.$d.comboClicked(this.$c.domRoot)},$a:function(ef){var eg=0;switch(ef.which){case 40:{eg=1;break}case 38:{eg=-1;break}default:{return}}ef.preventDefault();ef.stopPropagation();var eh=ss.indexOf(this.$d.get_items(),this.$d.get_selectedItem());if(eh<0){return}eh+=eg;if(eh>=0&&eh<this.$d.get_items().length){this.$d.set_selectedItem(this.$d.get_items()[eh])}},$b:function(ef){if(ss.isInstanceOfType(ef,X)){return}this.$c.icon.remove();if(ss.isNullOrUndefined(ef)){var eg=(ss.isValue(this.$d.get_summary())?this.$d.get_summary():'&nbsp;');this.$c.name.html(eg);return}this.$c.icon=$('<span/>').addClass('tabComboBoxIcon').addClass(ef.get_iconClass()).appendTo(this.$c.domRoot);if(!ss.isValue(ef.get_iconClass())){this.$c.domRoot.addClass(R.noIconClass)}this.$c.name.text(ef.get_name());if(!ss.isNullOrEmptyString(ef.get_title())){this.$c.domRoot.attr('title',ef.get_title())}},$7:function(){this.$b(this.$d.get_selectedItem())},$5:function(){this.$c.domRoot.toggleClass(R.disabledClass,!this.$d.get_enabled())},$6:function(){this.$c.domRoot.toggleClass('invalid',this.$d.get_isSelectionInvalid())},onAddedToDom:function(){ed.prototype.onAddedToDom.call(this);if(this.$d.get_sizing()===1){var ef=tab.ObjectRegistry.newView(cM).call(null,[this.$d.get_menu()]);var eg=$('<div>').css({visibility:'hidden',position:'absolute',left:0+'px',top:0+'px'});$(document.body).append(eg);ef.addToDom(eg);this.$c.domRoot.css({width:ef.element.width()+'px'});ef.dispose();eg.remove()}}},ss.makeGenericType(w,[S]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[S])]);ss.initInterface(bY,a,{add_enabledChanged:null,remove_enabledChanged:null,get_enabled:null,set_enabled:null});ss.initClass(S,a,{add_itemsChanged:function(ef){this.$3$1=ss.delegateCombine(this.$3$1,ef)},remove_itemsChanged:function(ef){this.$3$1=ss.delegateRemove(this.$3$1,ef)},add_selectedItemChanged:function(ef){this.$3$2=ss.delegateCombine(this.$3$2,ef)},remove_selectedItemChanged:function(ef){this.$3$2=ss.delegateRemove(this.$3$2,ef)},add_menuHidden:function(ef){this.$3$3=ss.delegateCombine(this.$3$3,ef)},remove_menuHidden:function(ef){this.$3$3=ss.delegateRemove(this.$3$3,ef)},add_enabledChanged:function(ef){this.$3$4=ss.delegateCombine(this.$3$4,ef)},remove_enabledChanged:function(ef){this.$3$4=ss.delegateRemove(this.$3$4,ef)},add_isSelectionInvalidChanged:function(ef){this.$3$5=ss.delegateCombine(this.$3$5,ef)},remove_isSelectionInvalidChanged:function(ef){this.$3$5=ss.delegateRemove(this.$3$5,ef)},get_hasTooltip:function(){return this.$h},set_hasTooltip:function(ef){this.$h=ef},get_theme:function(){return this.$p},set_theme:function(ef){this.$p=ef},get_menu:function(){if(ss.isNullOrUndefined(this.$f)){this.$5()}return this.$f},get_menuTheme:function(){return this.$l},set_menuTheme:function(ef){this.$l=ef},get_sizing:function(){return this.$o},set_sizing:function(ef){this.$o=ef},get_menuStyleClass:function(){return this.$k},set_menuStyleClass:function(ef){this.$k=ef},get_items:function(){return this.$j},get_selectedItem:function(){return this.$m},set_selectedItem:function(ef){if(ss.referenceEquals(this.$m,ef)&&!this.get_allowSetToSameValue()){return}this.$m=ef;this.$b();this.raiseActionEvent$1(J).call(this,this.$3$2,this.$m)},get_summary:function(){return this.$3$6},set_summary:function(ef){this.$3$6=ef},get_showSelectedItem:function(){return this.$n},set_showSelectedItem:function(ef){this.$n=ef},get_showDropdownIcon:function(){return this.$3$7},set_showDropdownIcon:function(ef){this.$3$7=ef},get_enabled:function(){return this.$g},set_enabled:function(ef){if(this.$g===ef){return}this.$g=ef;this.$b();this.raiseActionEvent(this.$3$4)},get_isSelectionInvalid:function(){return this.$i},set_isSelectionInvalid:function(ef){if(this.$i===ef){return}this.$i=ef;this.raiseActionEvent(this.$3$5)},get_additionalMenuClass:function(){return this.$e},set_additionalMenuClass:function(ef){this.$e=ef},get_allowSetToSameValue:function(){return this.$3$8},set_allowSetToSameValue:function(ef){this.$3$8=ef},get_selectedText:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_name():'')},get_selectedIconClass:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_iconClass():'')},$c:function(){var ef=this.get_items();for(var eg=0;eg<ef.length;eg++){var eh=ef[eg];if(!tab.MiscUtil.isNullOrEmpty$3(eh.get_iconClass())){return true}}return false},get_dropdownStyleClass:function(){return this.$3$9},set_dropdownStyleClass:function(ef){this.$3$9=ef},$d:function(){var ef='tab-unification-line-arrow-dropdown';if(!this.get_enabled()){ef+=' disabled'}if(this.$c()){ef+=' hasIcons'}return ef},dispose:function(){if(ss.isValue(this.$f)){this.$f.dispose()}x.prototype.dispose.call(this);this.$f=null},setItems:function(ef){ss.clear(this.$j);var eg=ss.getEnumerator(ef);try{while(eg.moveNext()){var eh=eg.current();this.$j.push(eh)}}finally{eg.dispose()}this.$8();this.$b()},setItemsWithInitialSelection:function(ef,eg){ss.clear(this.$j);var eh=ss.getEnumerator(ef);try{while(eh.moveNext()){var ei=eh.current();this.$j.push(ei)}}finally{eh.dispose()}this.$m=eg;this.$8();this.$b()},addItem:function(ef){this.$j.push(ef);this.$8();this.$b()},clearItems:function(){ss.clear(this.$j);this.$8();this.set_selectedItem(null);this.$b()},$a:function(){return this.$j.length>0&&(this.$g||this.get_sizing()===1)},updateCurrentMenu:function(){if(!this.$a()||!ss.isValue(this.$f)){return}this.$2();this.$f.set_menu(new cF(this.menuItems));this.$f.set_selectedItem(this.selectedMenuItem)},$5:function(){if(!this.$a()){return}this.$2();this.$f=cN.createForMenu(new cF(this.menuItems),ss.mkdel(this,this.$6),this.$3(),null,true);this.$f.set_selectedItem(this.selectedMenuItem);this.$f.set_focusedItem(this.selectedMenuItem);this.$f.add_hidden(ss.mkdel(this,this.$9))},comboClicked:function(ef){if(!this.$a()){return}this.$5();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_hidden(ss.mkdel(this,this.$9))})));var eg=new dz(ef,true);eg.additionalMenuClass='tabComboBoxMenu';var eh=eg;if(ss.isValue(this.$e)){eh.additionalMenuClass+=' '+this.$e}this.$f.show(eh)},$b:function(){if(this.generateProps){this.incrementProps()}},$2:function(){var ef=[];var eg=null;if(ss.isValue(this.$j)){for(var eh=0;eh<this.$j.length;eh++){var ei=this.$j[eh];if(this.$n||!ss.referenceEquals(ei,this.$m)){var ej=ei.asMenuItem();if(ss.referenceEquals(ei,this.$m)){eg=ej}ef.push(ej)}}}this.menuItems=ef;this.selectedMenuItem=eg},$3:function(){switch(this.$l){case 0:{return new K}case 1:{return new I(this.get_menuStyleClass())}case 2:{return new ea}default:{return new K}}},$9:function(){if(ss.isValue(this.$3$3)){this.$3$3()}},$8:function(){if(ss.isValue(this.$3$1)){this.$3$1()}},$6:function(ef){var eg=ef.data;this.set_selectedItem(eg)},$7:function(ef){this.set_selectedItem(ef.mapSelected(J).call(ef,ss.mkdel(this,function(eg){return this.get_items()[eg]}))[0])},$4:function(ef){return H.createCustomIconElements(ef.get_iconClass())},createUpdatedProps:function(){if(!this.generateProps){return null}var ef=new M;ef.items=_.map(this.get_items(),ss.mkdel(this,function(eg){var eh=new du;eh.label=eg.get_name();eh.getCustomContentBefore=ss.mkdel(this,function(){return this.$4(eg)});eh.tooltip=(!this.get_props().hasTooltip?'':null);return eh}));ef.selection=dA.buildSingleSelectGroupSelection$1(J).call(null,Array.prototype.slice.call(this.get_items()),ss.mkdel(this,function(eg){return ss.equals(eg,this.get_selectedItem())}));ef.selectedText=this.get_selectedText();ef.selectedIconClass=this.get_selectedIconClass();ef.onSelectionChanged=ss.mkdel(this,this.$7);ef.hasTooltip=this.get_hasTooltip();ef.hasAnyIcons=this.$c();ef.buttonStyleClass=this.$d();ef.styleClass=this.get_dropdownStyleClass();ef.enabled=this.get_enabled();return ef}},ss.makeGenericType(v,[M]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cf,[M]),bY]);ss.initClass(T,a,{add_inputTextChanged:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_inputTextChanged:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},add_listItemClicked:function(ef){this.$2$2=ss.delegateCombine(this.$2$2,ef)},remove_listItemClicked:function(ef){this.$2$2=ss.delegateRemove(this.$2$2,ef)},add_listItemMouseEnter:function(ef){this.$2$3=ss.delegateCombine(this.$2$3,ef)},remove_listItemMouseEnter:function(ef){this.$2$3=ss.delegateRemove(this.$2$3,ef)},add_listItemMouseMove:function(ef){this.$2$4=ss.delegateCombine(this.$2$4,ef)},remove_listItemMouseMove:function(ef){this.$2$4=ss.delegateRemove(this.$2$4,ef)},add_textInputElementClicked:function(ef){this.$2$5=ss.delegateCombine(this.$2$5,ef)},remove_textInputElementClicked:function(ef){this.$2$5=ss.delegateRemove(this.$2$5,ef)},add_textInputClearButtonClicked:function(ef){this.$2$6=ss.delegateCombine(this.$2$6,ef)},remove_textInputClearButtonClicked:function(ef){this.$2$6=ss.delegateRemove(this.$2$6,ef)},add_textInputSearchButtonClicked:function(ef){this.$2$7=ss.delegateCombine(this.$2$7,ef)},remove_textInputSearchButtonClicked:function(ef){this.$2$7=ss.delegateRemove(this.$2$7,ef)},get_template:function(){return this.compositeSearchWidgetTemplate.get_template()},get_domRoot:function(){return this.compositeSearchWidgetTemplate.get_domRootElement()},get_textInputView:function(){return this.compositeSearchWidgetTemplate.get_textInputView()},get_searchButton:function(){return this.compositeSearchWidgetTemplate.get_searchButton()},get_clearButton:function(){return this.compositeSearchWidgetTemplate.get_clearButton()},get_listViewModel:function(){return this.$2$8},set_listViewModel:function(ef){this.$2$8=ef},setPlaceholderText:function(ef){this.get_textInputView().get_inputElement().attr('placeholder',ef)},showList:function(ef,eg,eh){this.removeList();if(ef.length>0){this.set_listViewModel(new dc(ef,eg,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(ej){this.$2$3(ej)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(ej){this.$2$4(ej)}))}var ei=new db(this.get_listViewModel());ei.addClass('tabCompositeSearchWidgetList');ei.addToDom(eh||this.get_domRoot())}},showListInsideUberPopup:function(ef,eg,eh,ei,ej){if(ef.length<=0){this.removeList();return}this.set_listViewModel(new dc(ef,eg,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(en){this.$2$3(en)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(en){this.$2$4(en)}))}if(ss.isNullOrUndefined(this.$8)){this.$8=dX.createForContent$1(this.get_listViewModel(),eh,null,true);this.$8.set_resizeContent(ss.mkdel(this,this.$5));var ek=(ss.isValue(ei)?['tabCompositeSearchWidgetList',ei]:['tabCompositeSearchWidgetList']);var el=this.$8;var em=new dT;em.additionalClassNames=ek;em.globalTouchWhitelist=[this.get_textInputView().element.get(0),this.get_searchButton().element.get(0),this.get_clearButton().element.get(0)];em.horizontalAttach=1;em.limitPopupHeight=true;em.maxPopupHeight=ej;em.popupMode=1;em.theme=1;em.focusOnShown=false;el.options=em;this.$8.add_hidden(ss.mkdel(this,function(){this.$8=null;this.handleRemoveList()}));this.$8.show()}else{this.$8.set_content(this.get_listViewModel())}},$5:function(ef,eg){var eh=ef.children('.tab-list').eq(0);var ei=eh.prop('scrollHeight');if(ei<1){eg.show();ei=eh.prop('scrollHeight');eg.hide()}var ej=this.$8.get_relativeElement().outerWidth();eh.css('min-width',ej+'px').css('max-width',Math.max(ej,400)+'px');var ek=this.$8.options;if(ss.isValue(ek.maxPopupHeight)&&ei>ss.unbox(ek.maxPopupHeight)){eh.css('overflow-y','scroll')}},removeList:function(){if(ss.isValue(this.$8)){this.$8.hide(false)}else{this.handleRemoveList()}},handleRemoveList:function(){if(ss.isValue(this.get_listViewModel())){this.get_listViewModel().dispose();this.set_listViewModel(null)}},$2:function(){this.get_textInputView().get_inputElement().focus();this.get_textInputView().set_text('');if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},$6:function(){if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},setSearchText:function(ef){this.$7=true;this.get_textInputView().set_text(ef);this.$7=false},$3:function(ef,eg){if(!ss.staticEquals(this.$2$1,null)&&!this.$7){this.$2$1(this.get_textInputView().get_text())}},$4:function(ef){this.get_textInputView().get_inputElement().get(0).focus();if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}}},ed,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(U,a,{});ss.initInterface(bP,a,{get_template:null,get_domRootElement:null,get_textInputView:null,get_searchButton:null,get_clearButton:null,disposeTemplate:null});ss.initClass(V,a,{get_domRootElement:function(){return this.domRoot},get_template:function(){return this},get_textInputView:function(){return this.searchTextInputView},get_searchButton:function(){return this.$1},get_clearButton:function(){return this.$0},disposeTemplate:function(){this.dispose()}},dL,[ss.IDisposable,bP]);ss.initClass(W,a,{render:function(){var ef='tab-custom-button';var eg={role:'button'};if(!this.props.disabled){eg.onKeyDown=ss.mkdel(this,this.$2);eg.tabIndex=0}else{ef+=' disabled'}eg.className=ef;return bu.div(this.$3,eg,[this.props.buttonContent()])},$2:function(ef){switch(ef.which){case 13:case 32:{this.$1();break}default:{return}}ef.stopPropagation();ef.preventDefault()},$1:function(){if(!this.props.disabled&&!ss.staticEquals(this.props.handleClick,null)){this.props.handleClick()}},$0:function(ef){if(!this.props.disabled&&!ss.staticEquals(this.props.handleClickWithEvent,null)){this.props.handleClickWithEvent(ef)}}},de);ss.initClass(X,a,{get_domRoot:function(){return this.$0},asMenuItem:function(){return bb.newCustomMenuItem(this.get_domRoot())}},J);ss.initClass(Y,a,{setCursor:function(ef){ef.css('cursor',this.$0)}});ss.initClass(cl,a,{},dL,[ss.IDisposable]);ss.initClass(Z,a,{},cl,[ss.IDisposable]);ss.initClass(dl,a,{get_scrollbarBuffer:null,get_scrollerX:null,get_scrollerY:null,scrollTo:null,scrollToElement:null},ss.makeGenericType(w,[dm]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dm])]);ss.initClass(cm,a,{get_scrollerX:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.x)},get_scrollerY:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.y)},get_dom:function(){return this.get_template()},get_scrollableViewModel:function(){return this.get_viewModel()},get_scrollbarBuffer:null,get_verticalScrollbar:null,get_horizontalScrollbar:null,addScroller:function(){this.createScroller();this.postCreationScrollerSetup();this.get_dom().scroll.toggleClass('tabScrollerCanScrollX',this.get_scrollableViewModel().get_scrollX());this.get_dom().scroll.toggleClass('tabScrollerCanScrollY',this.get_scrollableViewModel().get_scrollY())},createScroller:null,postCreationScrollerSetup:function(){this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.scroller.destroy()})));this.scroller.on('scrollStart',ss.mkdel(this,this.$8));this.scroller.on('scrollEnd',ss.mkdel(this,this.$7));this.get_dom().scroll.addClass('tabScrollerIScroll');this.disposables.add$1(G.targetAndClick(this.get_verticalScrollbar(),function(ef){ef.stopPropagation()}));this.disposables.add$1(G.targetAndClick(this.get_horizontalScrollbar(),function(ef){ef.stopPropagation()}));this.get_dom().domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),function(ef){ef.stopPropagation()})},setUpEvents:function(){this.get_scrollableViewModel().add_contentChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_contentChanged(ss.mkdel(this,this.$5))})));this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.handleRefresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.handleRefresh))})))},onAddedToDom:function(){ed.prototype.onAddedToDom.call(this);this.addNewContent()},$5:function(){this.get_dom().content.empty();this.addNewContent()},addNewContent:null,handleRefresh:function(){if(this.get_viewModel().get_hasScrollBars()){this.scroller.refresh();this.$6()}else{this.get_verticalScrollbar().addClass('noScroll');this.get_horizontalScrollbar().addClass('noScroll')}},$6:function(){this.get_verticalScrollbar().removeClass('noScroll');if(!this.scroller.hasVerticalScroll){this.get_verticalScrollbar().addClass('noScroll')}this.get_horizontalScrollbar().removeClass('noScroll');if(!this.scroller.hasHorizontalScroll){this.get_horizontalScrollbar().addClass('noScroll')}},$8:function(){if(tsConfig.is_mobile&&(this.scroller.directionX===0||!this.scroller.hasHorizontalScroll)&&(this.scroller.directionY===0||!this.scroller.hasVerticalScroll)){return}if(tab.BrowserSupport.get_mouseCapture()){tab.DomUtil.setCapture(this.get_dom().scroll[0],true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){tab.DomUtil.releaseCapture()}))}else if(tab.BrowserSupport.get_addEventListener()&&!tsConfig.is_mobile){var ef=ss.mkdel(this,function(eh){this.sendEventToScroller(eh)});var eg=ss.mkdel(this,function(eh){var ei=eh.toElement;if(ss.isNullOrUndefined(ei)||ei.nodeName==='HTML'){if('createEvent'in document){var ej=document.createEvent('MouseEvent');ej.initEvent('mouseup',false,false);this.sendEventToScroller(ej)}}});document.addEventListener('mousemove',ef,true);document.addEventListener('mouseup',ef,true);document.addEventListener('mouseout',eg,true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){document.removeEventListener('mousemove',ef,true);document.removeEventListener('mouseup',ef,true);document.removeEventListener('mouseout',eg,true)}))}this.get_dom().scroll.addClass('tabScrolling')},sendEventToScroller:function(ef){this.scroller.handleEvent(ef);for(var eg=0;eg<this.scroller.indicators.length;eg++){var eh=this.scroller.indicators[eg];if(!ss.referenceEquals(ef.type,'mousemove'.toString())||eh.moved){eh.handleEvent(ef)}}},$7:function(){this.scrollEndCleanup.dispose();this.get_dom().scroll.removeClass('tabScrolling')},scrollTo:function(ef,eg,eh,ei){this.scroller.scrollTo(-ef,-eg,eh,ei)},scrollToElement:function(ef,eg,eh,ei){this.scroller.scrollToElement(ef,eg,eh,ei)}},dl,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dm])]);ss.initClass(ba,a,{get_scrollbarBuffer:function(){return 0},get_customDom:function(){return this.get_template()},get_verticalScrollbar:function(){return this.get_customDom().verticalScrollbar},get_horizontalScrollbar:function(){return this.get_customDom().horizontalScrollbar},$9:function(){this.get_scrollableViewModel().get_indicatorOptions().resize=false;this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.$c))})));if(!tsConfig.is_mobile){this.get_scrollableViewModel().get_indicatorOptions().interactive=true}if(this.get_scrollableViewModel().get_scrollY()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_verticalScrollbar()[0]}else if(this.get_scrollableViewModel().get_scrollX()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_horizontalScrollbar()[0]}},$a:function(){if(this.get_scrollableViewModel().isCenteredVertically){this.get_customDom().contentWindow.addClass('centeredVertically')}if(this.get_scrollableViewModel().get_hasScrollBars()){this.get_customDom().contentWindow.addClass('scrollable')}},createScroller:function(){this.scroller=new IScroll(this.get_customDom().contentWindow[0],this.get_scrollableViewModel().get_options())},$b:function(){if(tab.BrowserSupport.get_addEventListener()){var ef=ss.mkdel(this,function(eg){this.sendEventToScroller(eg)});if(!tsConfig.is_mobile){this.get_template().domRoot[0].addEventListener(tab.BrowserSupport.get_mouseWheelEvent(),ef,false);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_template().domRoot[0].removeEventListener(tab.BrowserSupport.get_mouseWheelEvent(),ef,false)})))}}},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.$c();this.handleRefresh()},$c:function(){if(this.get_scrollableViewModel().get_scrollY()){this.get_customDom().verticalScrollbarIndicator.height(ba.$0(tab.DoubleUtil.roundToInt(this.get_customDom().verticalScrollbar.height()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.height()),tab.DoubleUtil.roundToInt(this.get_customDom().content.height()))+'px')}else if(this.get_scrollableViewModel().get_scrollX()){this.get_customDom().horizontalScrollbarIndicator.width(ba.$0(tab.DoubleUtil.roundToInt(this.get_customDom().horizontalScrollbar.width()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.width()),tab.DoubleUtil.roundToInt(this.get_customDom().content.width()))+'px')}}},cm,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dm])]);ss.initClass(cG,a,{get_selectable:function(){return this.enabled&&!this.isDivider}});ss.initClass(bb,a,{get_domRoot:function(){return this.$0},set_domRoot:function(ef){this.$0=ef}},cG);ss.initClass(bc,a,{},cl,[ss.IDisposable]);ss.initClass(bd,a,{get_scrollbarSize:function(){return 9},get_scrollbarBuffer:function(){return 10},get_verticalScrollbar:function(){return this.$a},get_horizontalScrollbar:function(){return this.$9},createScroller:function(){this.scroller=new IScroll(this.get_dom().scroll[0],this.get_scrollableViewModel().get_options());if(this.get_scrollableViewModel().get_scrollY()){this.get_dom().content.css('margin-right',this.get_scrollbarBuffer()+'px')}if(this.get_scrollableViewModel().get_scrollX()){this.get_dom().content.css('margin-bottom',this.get_scrollbarBuffer()+'px')}this.$a=this.get_dom().scroll.find('.iScrollVerticalScrollbar').css('width',this.get_scrollbarSize()+'px');this.$9=this.get_dom().scroll.find('.iScrollHorizontalScrollbar').css('height',this.get_scrollbarSize()+'px')},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.handleRefresh()}},cm,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dm])]);ss.initInterface(bX,a,{get_feedbackType:null,dragOver:null,dragExit:null,acceptDrop:null,getDropTarget:null,getDropCursor:null});ss.initClass(be,a,{get_feedbackType:function(){return(!ss.staticEquals(this.onFeedbackType,null)?this.onFeedbackType():'dropfeedbackuponentry')},dragOver:function(ef){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(ef)){return null}return(!ss.staticEquals(this.onDragOver,null)?this.onDragOver(ef,this):this)},dragExit:function(ef){if(!ss.staticEquals(this.onDragExit,null)){this.onDragExit(ef)}},acceptDrop:function(ef){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(ef)){return $.Deferred().resolve(false)}return(!ss.staticEquals(this.onAcceptDrop,null)?this.onAcceptDrop(ef):$.Deferred().resolve(false))},getDropTarget:function(ef){return(!ss.staticEquals(this.onGetDropTarget,null)?this.onGetDropTarget(ef,this):this)},getDropCursor:function(ef){return(!ss.staticEquals(this.onGetDropCursor,null)?this.onGetDropCursor(ef):Y.noOp)}},null,[bX]);ss.initClass(bf,a,{add_closing:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_closing:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},add_closed:function(ef){this.$2$2=ss.delegateCombine(this.$2$2,ef)},remove_closed:function(ef){this.$2$2=ss.delegateRemove(this.$2$2,ef)},add_resizeMove:function(ef){this.$2$3=ss.delegateCombine(this.$2$3,ef)},remove_resizeMove:function(ef){this.$2$3=ss.delegateRemove(this.$2$3,ef)},add_resizeEnd:function(ef){this.$2$4=ss.delegateCombine(this.$2$4,ef)},remove_resizeEnd:function(ef){this.$2$4=ss.delegateRemove(this.$2$4,ef)},get_body:function(){return this.$e},set_body:function(ef){if(ss.referenceEquals(this.$e,ef)){return}if(ss.isValue(this.$e)){this.$e.off(this.get_eventNamespace())}this.$e=ef;this.element.find('.tab-dialogBodyContainer').html('').append(ef);this.setInitialFocus()},get_bodyHeight:function(){return tab.DoubleUtil.roundToInt(this.$g.height())},get_position:function(){return{x:this.$m,y:this.$n}},set_position:function(ef){if(this.get_maximized()){return}if(ss.isNullOrUndefined(ef)){this.positionInWindow()}else{this.$m=ef.x;this.$n=ef.y;tab.DomUtil.setElementPosition(this.$g,this.$m,this.$n,null,false);this.$g.css('position','fixed')}this.raisePropertyChanged('position')},get_isActive:function(){return this.$h},set_isActive:function(ef){if(ef!==this.$h){this.$h=ef;this.$g.toggleClass('active',ef);this.raisePropertyChanged('isActive')}},get_draggable:function(){return!this.get_maximized()&&ss.isValue(this.$l)},get_resizeable:function(){return!this.get_maximized()&&ss.isValue(this.$o)},set_resizeable:function(ef){if(this.get_maximized()){return}if(ef){if(ss.isNullOrUndefined(this.$o)){this.$o=new dk(this.$p,this.$g,'bottomRight');this.$o.add_endAction(ss.mkdel(this,this.$b));this.$o.add_moveAction(ss.mkdel(this,this.$c))}this.$g.addClass('resizeable')}else{if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$g.removeClass('resizeable')}},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(ef){this.element.css('z-index',ef.toString())},get_maximized:function(){return this.$j},set_maximized:function(ef){this.$j=ef;this.$g.toggleClass('maximized',ef)},get_startingPositionX:function(){return this.$2$5},set_startingPositionX:function(ef){this.$2$5=ef},get_startingPositionY:function(){return this.$2$6},set_startingPositionY:function(ef){this.$2$6=ef},get_titleUnescaped:function(){return this.get_titleElement().text()},set_titleUnescaped:function(ef){this.get_titleElement().text(ef);if(this.showTitleTooltip){this.get_titleElement().attr('title',this.get_titleElement().text())}},get_isShown:function(){return this.$i},get_setFocusOnShow:function(){return this.$r},set_setFocusOnShow:function(ef){this.$r=ef},get_closeButton:function(){return this.$f},get_closeButtonVisible:function(){return this.element.find('.tab-dialogCloseButton').is(':visible')},set_closeButtonVisible:function(ef){if(ef){this.element.find('.tab-dialogCloseButton').show()}else{this.element.find('.tab-dialogCloseButton').hide()}},get_stayInWindow:function(){return this.get_stayInWindow()},set_stayInWindow:function(ef){if(ef&&!this.$t){this.$2()}else if(!ef){this.$9()}this.$t=ef},get_useClosingAnimation:function(){return this.$v},set_useClosingAnimation:function(ef){this.$v=ef},get_dialogElement:function(){return this.$g},get_titleBarElement:function(){return this.$u},get_titleElement:function(){return this.element.find('.tab-dialogTitle')},get_resizerElement:function(){return this.$p},configMoveDragSource:function(ef){if(ss.isValue(this.$l)){throw new ss.Exception('dialog can only be configured once.')}this.$l=ef(this);if(ss.isValue(this.$l)){this.$l.add_endAction(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l.remove_endAction(ss.mkdel(this,this.$8));this.$l.dispose()})))}},showSpinner:function(){this.$s.show()},hideSpinner:function(){this.$s.hide()},show:function(){this.ensureAttachedAndSized();this.element.show();this.$i=true;this.moveToTop();if(this.get_setFocusOnShow()){this.setInitialFocus()}this.set_isActive(true)},close:function(ef){this.$a();if(!this.get_isShown()){if(!ss.staticEquals(ef,null)){ef()}return}var eg=new ss.CancelEventArgs;this.onClosing(eg);if(eg.cancel){return}tab.DomUtil.blur();this.$d=ef;if(this.get_useClosingAnimation()){this.element.fadeOut('fast',ss.mkdel(this,this.$3))}else{this.element.hide();this.$3()}},closeAndDispose:function(){this.close(ss.mkdel(this,this.dispose))},$3:function(){this.detach();if(!ss.staticEquals(this.$d,null)){this.$d();this.$d=null}this.onClosed(new ss.EventArgs)},onClosing:function(ef){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,ef)}},onClosed:function(ef){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,ef)}},isAttached:function(){return ss.referenceEquals(this.element.parent().get(0),document.body)},ensureAttachedAndSized:function(){if(!this.isAttached()){this.element.appendTo(document.body);this.bindToEvents()}this.positionInWindow()},bindToEvents:function(){this.element.on(this.createNamespacedEventName('keydown'),ss.mkdel(this,this.onKeyDown))},$a:function(){this.$k=false;this.$q=false},$4:function(ef,eg){if(!this.$i){return}this.$a();this.$q=true;if(ss.isValue(ef)&&!tab.DomUtil.isEqualOrAncestorOf(this.get_closeButton().element[0],ef.target)&&tab.DomUtil.isEqualOrAncestorOf(this.element[0],ef.target)){this.moveToTop();this.$k=true}},$5:function(ef,eg){if(!this.$i||!this.$q){return}if(this.$k&&tab.DomUtil.isEqualOrAncestorOf(this.element.get(0),ef.target)||ss.isNullOrUndefined(ef)){if(!this.get_isActive()){this.set_isActive(true)}}else{if($('body').children('.tab-glass').length!==0){this.$a();return}this.set_isActive(false)}},unbindEvents:function(){this.element.off(this.get_eventNamespace())},$2:function(){cY.add_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.ensureOnScreen()}))},$9:function(){cY.remove_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).off(this.createNamespacedEventName('resize'))},detach:function(){this.$i=false;this.element.hide();this.element.detach();this.unbindEvents();if(ss.referenceEquals(bf.$9,this)){bf.$9=null}},dispose:function(){if(ss.isValue(this.$f)){this.$f.remove_click(ss.mkdel(this,this.$7));this.$f.dispose();this.$f=null}if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$9();this.$i=false;this.$2$2=null;this.$2$1=null;this.unbindEvents();ed.prototype.dispose.call(this);if(ss.referenceEquals(bf.$9,this)){bf.$9=null}},setInitialFocus:function(){if(this.$i){var ef=this.element.find('.tab-dialogBodyContainer :tabbable');if(ef.length>0){ef.eq(0).focus()}else{this.$g.eq(0).focus()}}},ensureOnScreen:function(){if(!this.get_isShown()||this.get_maximized()){return}dB.getViewport(ss.mkdel(this,function(ef){if(ss.isNullOrUndefined(ef)||ss.isNullOrUndefined(ef.get_dimensions())){return}var eg=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true));var eh=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true));if(this.get_resizeable()){if(eg>ef.get_dimensions().w){var ei=tab.DoubleUtil.roundToInt(this.$g.width());this.$g.width(ef.get_dimensions().w-(eg-ei));eg=ef.get_dimensions().w}if(eh>ef.get_dimensions().h){var ej=tab.DoubleUtil.roundToInt(this.$g.height());this.$g.height(ef.get_dimensions().h-(eh-ej));eh=ef.get_dimensions().h}}var ek=null;if(this.$m+eg>ef.get_dimensions().w){ek=Math.max(0,ef.get_dimensions().w-eg)}var el=null;if(this.$n+eh>ef.get_dimensions().h){el=Math.max(0,ef.get_dimensions().h-eh)}if(ss.isValue(ek)||ss.isValue(el)){var em=ek;if(ss.isNullOrUndefined(em)){em=this.$m}ek=em;var en=el;if(ss.isNullOrUndefined(en)){en=this.$n}el=en;this.set_position({x:ss.unbox(ek),y:ss.unbox(el)})}}))},positionInWindow:function(){this.positionInWindow$1(0,0)},positionInWindow$1:function(ef,eg){if(this.get_maximized()){return}dB.getViewport(ss.mkdel(this,function(eh){var ei=0;var ej=0;var ek=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true))+ef;var el=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true))+eg;var em=tab.DoubleUtil.roundToInt($(window).width());var en=tab.DoubleUtil.roundToInt($(window).height());var eo=0;var ep=0;if(ss.isValue(eh.get_dimensions())){em=eh.get_dimensions().w;en=eh.get_dimensions().h;var eq=new tab.WindowHelper(window.self);eo=eh.get_dimensions().l-eq.get_pageXOffset();ep=eh.get_dimensions().t-eq.get_pageYOffset()}if(ss.isValue(this.get_startingPositionX())){var er=Math.min(ss.unbox(this.get_startingPositionX())+ek,em);ei=Math.max(0,er-ek)}else{ei=Math.max(0,Math.round((em-ek)/2)+eo)}if(ss.isValue(this.get_startingPositionY())){var es=Math.min(ss.unbox(this.get_startingPositionY())+el,en);ej=Math.max(0,es-el)}else{ej=Math.max(0,Math.round((en-el)/2)+ep)}this.set_position({x:ei,y:ej})}))},moveToTop:function(){if(!this.$i){return}this.set_isActive(true);if(ss.isNullOrUndefined(bf.$9)){bf.$9=this}else if(!ss.referenceEquals(bf.$9,this)){bf.$9.set_isActive(false);bf.$9=this;this.element.appendTo(document.body);tab.DomUtil.blur()}},$b:function(ef){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}this.set_isActive(true);this.$a()},$c:function(ef){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},$8:function(ef){this.set_position(tab.PointUtil.fromPosition(this.$g.position()));this.set_isActive(true);this.$a()},$7:function(){this.close(null)},onKeyDown:function(ef){if(ef.which===9){this.$6(ef);return}},$6:function(ef){var eg=this.element.find(':tabbable');var eh=eg.filter(':first');var ei=eg.filter(':last');if(ss.referenceEquals(ef.target,eh[0])&&ef.shiftKey){ei.focusDelayed(1);bA.stopEvent(ef)}else if(ss.referenceEquals(ef.target,ei[0])&&!ef.shiftKey){eh.focusDelayed(1);bA.stopEvent(ef)}}},ed,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bG,a,{$1:function(){return'tab-'+this.type},get_zoomAdjustedSlop:function(){var ef=ee.getScaleSync();return ss.round(this.$3/ef)},update:function(ef){if(ss.isValue(ef)){$.extend(this.$2,ef);$(this.$2.domElem).data(this.$1(),this)}},start:function(ef){},move:function(ef){},end:function(ef){},cancel:function(){},$0:function(ef,eg,eh){if(bw.isHandling(this.$2,ef)){var ei=eg;$.extend(ei,eh);ei.gestureName=this.type;ei.$0=ef;var ej=dJ.$0(this.$2,ef);ej(ei)}},dispose:function(){this.cancel();$(this.$2.domElem).removeData(this.$1())}},null,[ss.IDisposable]);ss.initClass(bg,a,{start:function(ef){var eg=ef.touches[0];if(ef.touches.length!==this.numTouches){this.reset();return}var eh=this.$d(ef);if(!this.$f(bI.fireFirstTouch,ef)){return}this.$0('firstTouch',ef,eh);this.$j=eg.pageX;this.$k=eg.pageY;this.$h=true;this.pressTimer=tab.MiscUtil.clearTimeout(this.pressTimer);if(!ss.isValue(this.$g)){this.$i=(new Date).getTime();this.potentialPressTimer=window.setTimeout(ss.mkdel(this,function(){this.$7(ef,eh)}),500);this.pressTimer=window.setTimeout(ss.mkdel(this,function(){this.$8(ef,eh)}),750)}},move:function(ef){if(this.$e(ef)){this.reset()}if(ef.type==='touchmove'){this.$0('touchMove',ef,this.$d(ef))}},end:function(ef){var eg=this.$d(ef);if(this.isActivePress){this.$9(ef,eg)}this.$4();if(this.$h){if(ss.isValue(this.$g)&&ss.unbox(this.$g)){this.$5(ef,eg)}else{this.$b(ef,eg)}}if(ef.type==='contextmenu'){if(!this.$f(bI.fireRightClick,ef)){return}this.$a(ef,eg)}if(ef.touches.length===0){if(!this.$f(bI.fireLastTouch,ef)){return}this.$0('lastTouch',ef,eg)}},cancel:function(){this.reset()},reset:function(){this.$4();this.$h=false;this.$g=null;this.isPotentialPress=false;this.isActivePress=false;this.doubleTapTimer=tab.MiscUtil.clearTimeout(this.doubleTapTimer)},$6:function(ef,eg,eh,ei){this.$0(ef,eg,eh);if(ss.isValue(ei)&&ei['reset']===true){this.reset()}},$5:function(ef,eg){this.doubleTapTimer=tab.MiscUtil.clearTimeout(this.doubleTapTimer);this.$6('doubleTap',ef,eg,ss.mkdict(['reset',true]))},$8:function(ef,eg){this.isPotentialPress=false;if(!this.$f(bI.firePress,ef)){return}this.$6('press',ef,eg,ss.mkdict(['reset',true]));this.isActivePress=true},$7:function(ef,eg){this.isPotentialPress=true;this.$6('potentialPress',ef,eg)},$9:function(ef,eg){this.$6('pressEnd',ef,eg);this.isActivePress=false},$4:function(){this.potentialPressTimer=tab.MiscUtil.clearTimeout(this.potentialPressTimer);this.pressTimer=tab.MiscUtil.clearTimeout(this.pressTimer);if(this.isPotentialPress){this.$6('cancelPotentialPress',{},null)}},$b:function(ef,eg){this.$g=true;if(!this.$f(bI.fireTap,ef)){return}if(bw.isHandling(this.$2,'doubleTap')){this.doubleTapTimer=window.setTimeout(ss.mkdel(this,function(){this.reset();this.$0('cancelPotentialDoubleTap',ef,eg)}),390-this.$c())}else{this.reset()}this.$0('tap',ef,eg)},$a:function(ef,eg){this.$0('rightClick',ef,eg)},$f:function(ef,eg){var eh=false;var ei=ss.mkdel(this,function(ej){this.reset();if(ej){bA.stopEvent(eg)}eh=true});ef(eg,ei);return!eh},$c:function(){var ef=(new Date).getTime()-this.$i;return ef},$e:function(ef){var eg=ef.changedTouches[0];var eh=this.get_zoomAdjustedSlop();return Math.abs(eg.pageX-this.$j)>eh||Math.abs(eg.pageY-this.$k)>eh},$d:function(ef){var eg={};eg.pageX=ef.changedTouches[0].pageX;eg.pageY=ef.changedTouches[0].pageY;eg.clientX=ef.changedTouches[0].clientX;eg.clientY=ef.changedTouches[0].clientY;eg.startX=ef.changedTouches[0].pageX;eg.startY=ef.changedTouches[0].pageY;return eg}},bG,[ss.IDisposable]);ss.initClass(bh,a,{asMenuItem:function(){return cG.newDivider()}},J);ss.initClass(bi,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}if(this.$z){this.$y=new bH;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString())}bf.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bf.prototype.bindToEvents.call(this);this.disposables.add$1(bA.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bA.bindWithDispose($(window),'keydown',ss.mkdel(this,this.onDocumentKeyDown)))},detach:function(){this.$x();bf.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bf.prototype.dispose.call(this)},$x:function(){if(this.$z&&ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bf.defaultStationaryDialogConfigurer);if(tsConfig.is_mobile){this.set_startingPositionY(100);this.set_startingPositionX(0);this.get_dialogElement().css('height','50%')}else{this.set_startingPositionX(2000);this.set_startingPositionY(this.$A);this.get_dialogElement().css('height','95%')}},onWindowResize:function(ef){this.positionInWindow()},onDocumentKeyDown:function(ef){if(ef.which===27){this.close(null);ef.preventDefault();return}}},bf,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initEnum(bj,a,{useScrollSize:'useScrollSize',useClientSize:'useClientSize'},true);ss.initClass(bk,a,{});ss.initInterface(cd,a,{handleCapturedMouseMove:null,handleCapturedMouseComplete:null});ss.initClass(bl,a,{start:function(ef){var eg=ef.touches[0];if(ss.isValue(ef.target)&&ef.target.tagName.toUpperCase()==='IMG'&&!tsConfig.is_mobile){ef.preventDefault()}if(ef.touches.length!==this.numTouches){if(this.$a){this.$0('dragEnd',ef,this.$b)}this.$7();this.$9=true;return}if(ss.isValue(this.$c)&&!tab.BrowserSupport.get_isTouch()){this.end(ef)}this.$9=false;this.$c=this.$4(eg);this.$b=this.$c;this.isPotentialPress=false;if(bw.isHandling(this.$2,'potentialPress')){this.$8()}},move:function(ef){if(this.$9){return}if(this.isPotentialPress&&ef.touches.length===this.numTouches){ef.preventDefault()}this.$b=this.$5(ef);if(this.$a){this.$0('dragMove',ef,this.$b)}else if(this.$6(ef)){this.$a=true;this.$0('dragStart',ef,this.$b);this.$0('dragMove',ef,this.$b);if(ss.isValue(this.$2.dragEnd)){cQ.setCapture(document.body,this,false)}}},end:function(ef){var eg;if(!this.$a){var eh=ef.touches.length===this.numTouches&&ss.isValue(ef.touches[0].identifier)&&this.$6(ef);if(!eh){this.$7();return}this.$c=this.$4(ef.touches[0]);this.$b=this.$c;eg=this.$5(ef);this.$9=false;this.$a=true;this.$0('dragStart',ef,eg);return}cQ.releaseCapture();eg=this.$5(ef);this.$7();if(bw.isHandling(this.$2,'dragEnd')){var ei=cW.create(ef.originalEvent,null,null);$.extend(ei,this.$b);var ej=function(){bm.cancelDrag(null)};bI.fireDragEnd(ei,ej)}this.$0('dragEnd',ef,eg)},cancel:function(){this.$9=true},$4:function(ef){return{pageX:ef.pageX,pageY:ef.pageY}},$5:function(ef){var eg=ef.changedTouches[0];if(ss.isNullOrUndefined(this.$c)){this.$c=this.$4(eg)}if(ss.isNullOrUndefined(this.$b)){this.$b=this.$c}var eh={clientX:eg.clientX,clientY:eg.clientY};eh.pageX=eg.pageX;eh.pageY=eg.pageY;eh.startX=this.$c.pageX;eh.startY=this.$c.pageY;eh.deltaX=eh.pageX-this.$c.pageX;eh.deltaY=eh.pageY-this.$c.pageY;eh.deltaXSinceLast=eh.pageX-this.$b.pageX;eh.deltaYSinceLast=eh.pageY-this.$b.pageY;eh.scale=1;return eh},$6:function(ef){var eg=ef.touches[0];if(ss.isNullOrUndefined(this.$c)){return false}var eh=this.get_zoomAdjustedSlop();return Math.abs(eg.pageX-this.$c.pageX)>eh||Math.abs(eg.pageY-this.$c.pageY)>eh},$7:function(){this.$c=null;this.$a=false;this.isPotentialPress=false;this.potentialPressTimer=tab.MiscUtil.clearTimeout(this.potentialPressTimer)},$8:function(){this.potentialPressTimer=window.setTimeout(ss.mkdel(this,function(){if(!this.$a){this.isPotentialPress=true}}),500)},handleCapturedMouseMove:function(ef){var eg=ef['offsetX'];var eh=ef['offsetY'];if(eg<0||eg>document.body.offsetWidth||eh<0||eh>document.body.offsetHeight){var ei=cW.create(ef,this.$2.domElem,null);this.move(ei)}},handleCapturedMouseComplete:function(ef){var eg=document.createEvent('MouseEvents');eg.initMouseEvent('mouseup'.toString(),false,true,window.self,null,this.$b.pageX,this.$b.pageY,this.$b.clientX,this.$b.clientY,ef.ctrlKey,ef.altKey,ef.shiftKey,ef.metaKey,null,null);document.body.dispatchEvent(eg)}},bG,[ss.IDisposable,cd]);ss.initClass(bm,a,{});ss.initClass(bn,a,{add_shiftStateChanged:function(ef){this.$1$1=ss.delegateCombine(this.$1$1,ef)},remove_shiftStateChanged:function(ef){this.$1$1=ss.delegateRemove(this.$1$1,ef)},get_payload:function(){return this.draggedObject},get_hasPayload:function(){return ss.isValue(this.draggedObject)},get_isShiftDrag:function(){return this.$1},set_isShiftDrag:function(ef){if(this.$1!==ef){this.$1=ef;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_dragAvatar:function(){return this.$0},get_dragType:function(){return'dragdrop'},get_readyToDrop:function(){return true},get_defaultDropCursor:function(){return Y.noOp},moveTo:function(ef){},endDragAt:function(ef){},cancelDrag:function(){},payloadEquals:function(ef){if(ss.referenceEquals(this.draggedObject,ef)){return true}if($.isArray(this.draggedObject)){var eg=this.draggedObject;if(eg.length===1&&ss.referenceEquals(eg[0],ef)){return true}}return false},dropToNowhereAction:function(){}});ss.initClass(bH,a,{add_click:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_click:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(ef){this.element.css('z-index',ef.toString())},get_opaque:function(){return this.element.hasClass('opaque-glass')},set_opaque:function(ef){this.element.toggleClass('clear-glass',!ef);this.element.toggleClass('opaque-glass',ef)},set_preventWebPageScroll:function(ef){if(ef){this.element.on(tab.BrowserSupport.get_mouseWheelEvent(),function(eg){eg.preventDefault()})}else{this.element.off(tab.BrowserSupport.get_mouseWheelEvent(),function(eg){eg.preventDefault()})}},show:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$3)){this.element.appendTo(this.$3)}if(this.get_opaque()){this.element.toggleClass('glass-fade-in-immediate',true)}this.element.show()},hide:function(){this.element.hide()},setColor:function(ef){this.element.css('background-color',ef)},dispose:function(){this.set_preventWebPageScroll(false);if(ss.isValue(this.$2)){this.$2.dispose();this.$2=null}ed.prototype.dispose.call(this)},handleClick:function(ef){if(ss.isValue(this.$2$1)){this.$2$1()}}},ed,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bo,a,{dispose:function(){bm.unregisterDragGlass(this);bH.prototype.dispose.call(this)},disableHitTests:function(){this.element.css('pointer-events','none')},enableHitTests:function(){this.element.css('pointer-events','auto')}},bH,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bp,a,{get_rootElement:function(){return this.$0},get_viewModel:function(){return null},dispose:function(){this.$0=null},addToDom:function(ef){ef.append(this.get_rootElement());this.onAddedToDom()},onAddedToDom:function(){}},null,[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[tab.IViewModel])]);ss.initClass(bq,a,{componentWillReceiveProps:function(ef){if(ef.resetSelector){this.setState({isSelecting:false})}},render:function(){var ef=new Object;ef.styleClass=this.props.styleClass;ef.isSelecting=this.state.isSelecting;ef.getDesiredHeight=this.props.getDesiredHeight;ef.getMinimumWidth=this.props.getMinimumWidth;ef.children=this.props.children;ef.renderButton=this.props.renderButton;ef.tabIndex=this.props.tabIndex;ef.onSelectorToggled=ss.mkdel(this,this.$1);ef.onFocusLost=ss.mkdel(this,this.$0);return React.createElement(dC,ef)},$1:function(){this.setState({isSelecting:!this.state.isSelecting})},$0:function(){this.setState({isSelecting:false})}},React.Component);ss.initClass(br,a,{handleWidgetPropertyChanged:function(ef,eg){},updateWidgetState:function(ef){if(!this.get_widget().get_isEditing()){this.get_widget().set_text(ef.initialContent);this.get_widget().updateTextElement(ef.initialContent);this.get_widget().get_inputElement().val(ef.initialContent);if(!tab.MiscUtil.isNullOrEmpty$3(ef.tooltip)){this.get_widget().get_textElement().find('.text-span').get(0).title=ef.tooltip;this.get_widget().get_inputElement().attr('title',ef.tooltip)}}}},ss.makeGenericType(dj,[bs,Object,Object]));ss.initClass(bs,a,{add_hoverStateChanged:function(ef){this.$3$1=ss.delegateCombine(this.$3$1,ef)},remove_hoverStateChanged:function(ef){this.$3$1=ss.delegateRemove(this.$3$1,ef)},add_editing:function(ef){this.$3$2=ss.delegateCombine(this.$3$2,ef)},remove_editing:function(ef){this.$3$2=ss.delegateRemove(this.$3$2,ef)},add_committed:function(ef){this.$3$3=ss.delegateCombine(this.$3$3,ef)},remove_committed:function(ef){this.$3$3=ss.delegateRemove(this.$3$3,ef)},get_textElement:function(){return this.$9.$0()},get_isEditing:function(){return this.$3$4},set_isEditing:function(ef){this.$3$4=ef},get_textDisplayWidth:function(){return Math.min(tab.DoubleUtil.roundToInt(this.$9.$1().width()),tab.DoubleUtil.roundToInt(this.$9.$0().width()))},$8:function(ef){if(ss.isValue(this.$3$1)){this.$3$1(ef)}},updateTextElement:function(ef){this.$9.$1().text(ef);var eg=this.$9.$1().get(0);eg.title=(this.showTooltip?ef:'')},edit:function(){this.get_textElement().hide();this.get_inputElement().show();this.get_inputElement().focus();tab.DomUtil.selectAllInputText(this.get_inputElement());this.set_isEditing(true);this.element.addClass('editing');if(ss.isValue(this.$3$2)){this.$3$2()}},commit:function(){if(this.get_isEditing()){this.set_isEditing(false);this.get_inputElement().hide();this.get_textElement().show();this.element.removeClass('editing');if(ss.isValue(this.$3$3)){this.$3$3()}}},$7:function(){var ef=tab.DoubleUtil.roundToInt(this.element.parent().height());this.element.height(ef);var eg=this.element.children('div');var eh=tab.DoubleUtil.roundToInt(eg.height());this.get_textElement().css('height',eh+'px');this.get_textElement().css('line-height',eh+'px');this.get_inputElement().css('height',eh+'px');this.get_inputElement().css('line-height',eh+'px')},onAddedToDom:function(){this.$7();ed.prototype.onAddedToDom.call(this)}},dN,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bt,a,{get_scrollingComponentRef:function(){return this.$0},ensureVisible:function(ef){window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1)){var eg=$(ReactDOM.findDOMNode(this.$1));var eh=$(ef);var ei=eh;var ej=0;var ek=0;while(eg.find(ei[0]).length>0){var el=ei.position();ej+=el.top;ek+=el.left;ei=ei.offsetParent()}var em=ej<0||ek<0||ej+eh.height()>eg.height()||ek+eh.width()>eg.width();if(em){this.$1.get_scrollingControl().scrollToElement(ef)}}}),0)}});ss.initClass(bu,a,{render:function(){return React.createElement(this.props.tagName,$.extend({},this.$2.get_eventHandlingAttributesForReact(),this.props.htmlAttributes),this.props.children)},componentDidMount:function(){this.$0()},componentDidUpdate:function(){this.$0()},componentWillUnmount:function(){if(ss.isValue(this.$2)){this.$2.dispose()}},$0:function(){if(ss.isValue(this.props.spec)){var ef=ReactDOM.findDOMNode(this);if(!ss.referenceEquals(this.$1,ef)||bu.$1(this.$3,this.props.spec)){this.$2.updateEventHandleSpec(ef,this.props.spec);this.$1=ef;this.$3=this.props.spec}}}},React.Component);ss.initClass(bv,a,{});ss.initClass(bw,a,{});ss.initEnum(bx,a,{start:0,move:1,end:2,out:3,scroll:4,cancel:5,unSupported:6});ss.initClass(by,a,{suppressHover:function(){this.$3.suppressHover()},unsuppressHover:function(){this.$3.unsuppressHover()},cancelHover:function(){this.$3.cancel()},handleEvent:function(ef,eg){if(this.$5&&by.$0()!=='left'){this.$5=false}if(ef.get_isScrollEvent()){this.$5=false}else if(ef.get_isOutEvent()){if(bw.isUsingHover(eg)){this.$3.out(ef)}}else if(ef.get_isStartEvent()){this.handleStartEvent(ef,eg)}else if(ef.get_isMoveEvent()){this.handleMoveEvent(ef,eg)}else{this.handleEndCancelEvent(ef,eg)}},handleStartEvent:function(ef,eg){this.$2=false;this.$4=cR.getMouseButtonEnum(ef.originalEvent);if(ef.get_isMouseEvent()){if(!ef.get_isLeftMouseEvent()){return}this.$5=true;by.$1(this.$4)}this.handleStart(ef,bw.isUsingHover(eg))},handleMoveEvent:function(ef,eg){if(bw.isUsingHover(eg)){this.$3.move(ef)}if(ef.get_isMouseEvent()){if(this.$4!=='left'||!this.$5){return}}this.$0.move(ef);this.$1.move(ef);if(ss.isValue(this.$6)){this.$6.move(ef)}},handleEndCancelEvent:function(ef,eg){by.$1('none');if(bw.isUsingHover(eg)){this.$3.end(ef)}if(ss.isValue(this.$6)){this.$6.end(ef)}this.$1.end(ef);if(ef.get_isMouseEvent()){this.$5=false;if(ef.get_isRightClickEvent()||this.$4==='right'){this.$2=true}if(tab.BrowserSupport.get_isMac()&&this.$2&&ef.type==='mouseup'||this.$2&&!ef.get_isRightClickEvent()){return}}this.$0.end(ef)},cancelAllGestures:function(){if(ss.isValue(this.$1)){this.$1.cancel()}if(ss.isValue(this.$0)){this.$0.cancel()}if(ss.isValue(this.$6)){this.$6.cancel()}if(ss.isValue(this.$3)){this.$3.cancel()}},updateAllGestures:function(ef){if(ss.isValue(this.$1)){this.$1.update(ef)}if(ss.isValue(this.$0)){this.$0.update(ef)}if(ss.isValue(this.$6)){this.$6.update(ef)}if(ss.isValue(this.$3)){this.$3.update(ef)}},setupPressDrag:function(ef){var eg=bw.usingPressDrag(ef);if(!eg){return}var eh=ss.mkdel(this,function(ek){if(bw.isHandling(ef,'press')){var el=dJ.$0(ef,'press');el(ek)}var em={};bw.setHandler(em,'dragStart',dJ.$0(ef,'pressDragStart'));bw.setHandler(em,'dragMove',dJ.$0(ef,'pressDragMove'));bw.setHandler(em,'dragEnd',dJ.$0(ef,'pressDragEnd'));bw.setHandler(em,'pinchStart',dJ.$0(ef,'doublePressDragStart'));bw.setHandler(em,'pinchMove',dJ.$0(ef,'doublePressDragMove'));bw.setHandler(em,'pinchEnd',dJ.$0(ef,'doublePressDragEnd'));this.$1.update(em);if(ss.isValue(this.$6)){this.$6.update(em)}});var ei=ss.mkdel(this,function(ek){if(bw.isHandling(ef,'lastTouch')){var el=dJ.$0(ef,'lastTouch');el(ek)}this.$1.update(ef);if(ss.isValue(this.$6)){this.$6.update(ef)}});var ej={};bw.setHandler(ej,'press',eh);bw.setHandler(ej,'lastTouch',ei);this.$0.update(ej)},handleStart:function(ef,eg){if(eg){this.$3.start(ef)}this.$0.start(ef);this.$1.start(ef);if(ss.isValue(this.$6)){this.$6.start(ef)}},dispose:function(){if(ss.isValue(this.$0)){this.$0.dispose()}if(ss.isValue(this.$1)){this.$1.dispose()}if(ss.isValue(this.$3)){this.$3.dispose()}if(ss.isValue(this.$6)){this.$6.dispose()}}},null,[ss.IDisposable]);ss.initEnum(bz,a,{mouse:1,touch:2});ss.initClass(bA,a,{});ss.initClass(bK,a,{get_theAllItemIsSelected:function(){return this.allSelected},set_theAllItemIsSelected:function(ef){if(this.groupSize>0){this.allSelected=ef;if(ef===true){this.set_selectedIndexes(null)}else{this.set_selectedIndexes({})}}},get_selectedIndexes:function(){return this.$1$1},set_selectedIndexes:function(ef){this.$1$1=ef},get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize){this.set_theAllItemIsSelected(true)}},mapSelected:function(ef){return function(eg){return this.mapSelected$1(ef).call(this,eg,true)}},mapSelected$1:function(ef){return function(eg,eh){var ei;if(this.get_theAllItemIsSelected()&&eh){ei=[];var ej=this.groupSize;for(var ek=0;ek<ej;++ek){ei.push(ek)}}else{ei=_.map(this.get_selectedIndexes(),function(el,em){return em}).sort()}return _.map(ei,function(el){return eg(el)})}},handleTap:null,handleTapAll:null,isSelected:null,clone:null});ss.initClass(cU,a,{get_selectedCount:function(){return(this.get_theAllItemIsSelected()?this.groupSize:ss.count(Object.keys(this.get_selectedIndexes())))},handleTap:function(ef){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var eg=0;eg<this.groupSize;++eg){if(eg!==ef){this.get_selectedIndexes()[eg]=true}}}else if(this.get_selectedIndexes()[ef]){delete this.get_selectedIndexes()[ef]}else{this.get_selectedIndexes()[ef]=true;this.validateAllSelectedState()}},handleTapAll:function(){this.set_theAllItemIsSelected(!this.get_theAllItemIsSelected())},clone:function(){var ef=new cU(this.groupSize);ef.allSelected=this.allSelected;ef.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ef},isSelected:function(ef){return this.get_theAllItemIsSelected()||ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),ef)}},bK);ss.initClass(bB,a,{get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},mapSelected:function(ef){return function(eg){return this.mapSelected$1(ef).call(this,eg,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},handleTap:function(ef){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);this.get_selectedIndexes()[ef]=true}else if(this.get_selectedIndexes()[ef]){delete this.get_selectedIndexes()[ef];this.validateAllSelectedState()}else{this.get_selectedIndexes()[ef]=true}},handleTapAll:function(){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var ef=0;ef<this.groupSize;++ef){this.get_selectedIndexes()[ef]=true}}else{this.set_theAllItemIsSelected(true)}},clone:function(){var ef=new bB(this.groupSize);ef.allSelected=this.allSelected;ef.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ef},isSelected:function(ef){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),ef)}},cU);ss.initClass(dA,a,{validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&(ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize||ss.count(Object.keys(this.get_selectedIndexes()))===0)){{this.set_theAllItemIsSelected(true)}}},handleTap:function(ef){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false)}if(!this.get_selectedIndexes()[ef]){if(ss.count(Object.keys(this.get_selectedIndexes()))>0){ss.clearKeys(this.get_selectedIndexes())}this.get_selectedIndexes()[ef]=true}this.validateAllSelectedState()},handleTapAll:function(){if(!this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(true)}},clone:function(){var ef=new dA(this.groupSize);ef.allSelected=this.allSelected;ef.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ef},isSelected:function(ef){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),ef)},selectNext:function(ef){var eg=0;var eh=eg;if(this.get_selectedCount()===1){eg=this.mapSelected(ss.Int32).call(this,function(ei){return ei-0})[0];eh=eg+ef}if(eh>=this.groupSize){if(eg===this.groupSize-1){eh=0}else{eh=this.groupSize-1}}this.$0(eh)},selectPrevious:function(ef){var eg=this.groupSize-1;var eh=eg;if(this.get_selectedCount()===1){eg=this.mapSelected(ss.Int32).call(this,function(ei){return ei-0})[0];eh=eg-ef}if(eh<0){if(eg===0){eh=this.groupSize-1}else{eh=0}}this.$0(eh)},selectFirst:function(){this.$0(0)},selectLast:function(){this.$0(this.groupSize-1)},$0:function(ef){ef=Math.max(0,ef);ef=Math.min(this.groupSize-1,ef);if(this.groupSize>0){this.allSelected=false;this.set_selectedIndexes({});this.get_selectedIndexes()[ef]=true}}},bK);ss.initClass(bC,a,{mapSelected:function(ef){return function(eg){return this.mapSelected$1(ef).call(this,eg,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},clone:function(){var ef=new bC(this.groupSize);ef.allSelected=this.allSelected;ef.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return ef}},dA);ss.initClass(bD,a,{});ss.initClass(bE,a,{});ss.initClass(bF,a,{render:function(){var ef=ss.coalesce(this.props.styleClass,'tab-unification-line-arrow-dropdown');var eg=null;if(this.props.isDisabled){ef=ef+' disabled'}if(this.props.disableArrowDown){eg={display:'none'}}return bk.div({className:'tab-GenericDropdownButton '+ef},bk.div({className:'tab-SelectionDisplay'},this.props.selectionDisplay()),bk.div({className:'tab-DownArrowButton',style:eg},bk.div({className:'arrow down'})))}},de);ss.initClass(bI,a,{});ss.initClass(bJ,a,{render:function(){var ef=new dr;ef.customStyle={top:this.props.marginTop};ef.extraCssClass=this.props.rootCssClass;ef.scrollX=true;ef.scrollY=true;ef.onScroll=ss.mkdel(this,function(eg){this.props.onScroll(-eg.x,-eg.y)});ef.onScrollStop=ss.mkdel(this,function(eg,eh){this.props.onScroll(-eg.x,-eg.y);if(eg.y===eh.y&&!ss.staticEquals(this.$1,null)){this.$1()}});ef.startingY=this.state.writeOnlyScrollTop;ef.onScrollingControlRefUpdated=this.$0;return dq.createScroller(ef,[this.props.children])},componentDidMount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(this)}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(null)}},callOnScrollToEnd:function(ef){this.$1=ef},setScrollPosition$1:function(ef,eg){this.setState({writeOnlyScrollTop:eg})},scrollBy$1:function(ef,eg){var eh=this.$2;this.scrollBy$2(ef,eg,eh.get_x(),eh.get_y(),eh.get_maxScrollX(),eh.get_maxScrollY())},scrollBy$2:function(ef,eg,eh,ei,ej,ek){var el=eh+ef;var em=Math.min(Math.max(el,0),ej);var en=ei+eg;var eo=Math.min(Math.max(en,0),ek);this.setScrollPosition$1(em,eo)},setScrollPosition:function(ef,eg){this.$2.scrollTo(ef,eg)},scrollBy:function(ef,eg){var eh=this.$2;this.scrollBy$2(ef,eg,eh.get_x(),eh.get_y(),eh.get_maxScrollX(),eh.get_maxScrollY())},getScrollbarWidth:function(){return 9},canScroll:function(){return this.$2.get_canScroll()},dispose:function(){this.$2.destroy()},resetPosition:function(){this.$2.resetPosition()},refresh:function(){this.$2.refresh()},handleEvent:function(ef){this.$2.handleEvent(ef)},getScrollContainer:function(){return ReactDOM.findDOMNode(this)}},React.Component,[Object]);ss.initClass(bL,a,{render:function(){return dD.create({commitValue:ss.mkdel(this,this.$0),disabled:this.props.disabled,emptyTextBox:this.state.emptyTextBox,extraCssClass:this.props.extraCssClass,maxValue:this.props.maxValue,minValue:this.props.minValue,showPercentageSign:this.props.showPercentageSign,styleClass:this.props.styleClass,tabIndex:this.props.tabIndex,value:this.state.value,displayValueChanged:ss.mkdel(this,this.$1),width:this.props.width})},$1:function(ef){if(this.props.disabled){return}if(ss.isNullOrUndefined(ef)){this.setState({value:0,emptyTextBox:true})}else{this.setState({value:ss.unbox(ef),emptyTextBox:false})}this.$2=true},$0:function(ef,eg){if(this.props.disabled){return}var eh=this.$2||ef!==this.state.value||eg;if(!ss.staticEquals(this.props.onValueChanged,null)&&eh){this.props.onValueChanged(ef);this.$2=false}}},de);ss.initClass(bM,a,{start:function(ef){this.cancel();this.$a=false},move:function(ef){var eg=ef.touches[0];if(!this.$a){return}if(!this.$6(ef)){return}var eh=this.$5(ef);if(ss.isValue(this.$8)){this.cancel()}this.$0('moving',ef,eh);this.$b=eg.pageX;this.$c=eg.pageY;this.$8=window.setTimeout(ss.mkdel(this,function(){if(!this.$9){this.$0('hover',ef,eh)}this.$4()}),this.$7)},end:function(ef){if(ef.touches.length===0){this.$a=true}},out:function(ef){var eg=ef.originalEvent['relatedTarget'];if(!ss.referenceEquals(this.$2.domElem,eg)&&!tab.DomUtil.isAncestorOf(this.$2.domElem,eg)){this.cancel();this.$0('mouseleave',ef,this.$5(ef))}},suppressHover:function(){if(!this.$9){}this.$9=true},unsuppressHover:function(){if(this.$9){}this.$9=false;this.$a=true},cancel:function(){this.$4();this.$b=0;this.$c=0;this.$a=true},$4:function(){this.$8=tab.MiscUtil.clearTimeout(this.$8)},$6:function(ef){var eg=ef.touches[0];var eh=Math.abs(eg.pageX-this.$b);var ei=Math.abs(eg.pageY-this.$c);return eh+ei>this.get_zoomAdjustedSlop()},$5:function(ef){var eg={};eg.pageX=ef.changedTouches[0].pageX;eg.pageY=ef.changedTouches[0].pageY;eg.clientX=ef.changedTouches[0].clientX;eg.clientY=ef.changedTouches[0].clientY;return eg}},bG,[ss.IDisposable]);ss.initClass(bN,a,{});ss.initClass(bO,a,{$3:function(){return ss.formatString('.{0}',ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},dispose:function(){if(ss.isNullOrUndefined(this.$7)){return}this.$7.remove_disposed(ss.mkdel(this,this.$2));if(ss.isValue(this.$4)){var ef=this.$7.element;var eg=this.$4;ef.off(this.$3(),eg)}else{this.$7.element.off(this.$3())}this.$7=null},$0:function(ef){if(ss.isValue(this.$5)){this.$5(ef)}},$1:function(ef){if(ss.isValue(this.$6)){this.$6(ef)}},$2:function(ef,eg){this.dispose()}},null,[ss.IDisposable]);ss.initClass(bQ,a,{get_buttonElement:function(){return this.element},setEnabled:function(ef){if(ef){this.get_buttonElement().removeClass('tab-disabled');this.get_buttonElement().addClass('tab-enabled')}else{this.get_buttonElement().removeClass('tab-enabled');this.get_buttonElement().addClass('tab-disabled')}return this},setIcon:function(ef){if(!ss.isValue(this.iconElement)){this.iconElement=$('<span>');this.iconElement.appendTo(this.get_buttonElement())}this.iconElement.removeClass().addClass('tab-iconButtonIcon').addClass(ef);return this}},y,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bR,a,{get_className:function(){var ef=['tab-IconBtn'];ef.push(this.props.customClassName);if(this.props.disabled){ef.push('disabled')}return ef.join(' ')},$0:function(){var ef=new bS;ef.isActive=(ss.isValue(this.state)?this.state.isActive:false);return ef},render:function(){return bu.div({tap:ss.mkdel(this,this.$1),firstTouch:ss.mkdel(this,function(ef){if(tsConfig.is_mobile){var eg=new bS;eg.isActive=true;this.setState(eg)}}),lastTouch:ss.mkdel(this,function(ef){if(tsConfig.is_mobile){var eg=new bS;eg.isActive=false;this.setState(eg)}})},{className:this.get_className(),title:this.props.title,onMouseEnter:ss.mkdel(this,function(ef){if(!tsConfig.is_mobile){var eg=new bS;eg.isActive=true;this.setState(eg)}}),onMouseLeave:ss.mkdel(this,function(ef){if(!tsConfig.is_mobile){var eg=new bS;eg.isActive=false;this.setState(eg)}})},[bk.div({className:'tab-Icon '+this.props.iconClassName+(this.state.isActive?' active':'')})])},$1:function(ef){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(ef)}}},React.Component);ss.initClass(bS,a,{});ss.initInterface(bT,a,{get_viewType:null,get_viewModel:null,disposeViewModel:null});ss.initInterface(bU,a,{add_hideDialogRequested:null,remove_hideDialogRequested:null,onDialogHidden:null},[ss.makeGenericType(cf,[Object])]);ss.initInterface(bV,a,{dragStarted:null,dragEnded:null});ss.initInterface(bW,a,{startDrag:null});ss.initInterface(bZ,a,{createListItemContent:null});ss.initInterface(ca,a,{createListItemDragAvatar:null});ss.initInterface(cb,a,{add_dragStarting:null,remove_dragStarting:null,add_dragEnded:null,remove_dragEnded:null,get_avatarCreator:null,set_avatarCreator:null,startDrag:null});ss.initEnum(ce,a,{integer:0,string:1});ss.initInterface(cg,a,{get_canScrollX:null,get_canScrollY:null,get_docSize:null,get_actualViewSize:null,set_actualViewSize:null,get_effectiveViewSize:null,get_scrollPos:null,set_scrollPos:null,setXPos:null,setYPos:null});ss.initClass(ch,a,{render:function(){var ef=['tab-iscroll-component'];if(this.state.hovered){ef.push('hover')}if(this.state.scrolling){ef.push('tabScrolling')}if(ss.isValue(this.props.extraCssClass)){ef.push(this.props.extraCssClass)}if(this.props.alwaysShowScrollbarsIfScrollable){ef.push('showIfScrollable')}var eg=ss.arrayFromEnumerable(ef).join(' ');return bk.div({ref:'iscroll-wrapper',className:eg,style:this.props.customStyle,onMouseOver:ss.mkdel(this,this.handleOnMouseOver),onMouseOut:ss.mkdel(this,this.handleOnMouseOut)},bk.div({className:'tab-iscroll-content'},this.props.children))},componentDidMount:function(){this.$5=bA.bindWithDispose($(window),'resize',ss.mkdel(this,this.$1));var ef=ReactDOM.findDOMNode(this.refs['iscroll-wrapper']);this.iScroll=new h(ef,this.props);this.iScroll.on('scrollStart',ss.mkdel(this,this.handleScrollStart));this.iScroll.on('scroll',ss.mkdel(this,this.$2));this.iScroll.on('scrollEnd',ss.mkdel(this,function(){this.handleScrollStop();this.$0()}));this.$3()},componentWillUnmount:function(){this.$5=tab.MiscUtil.dispose$1(this.$5);this.iScroll.destroy();this.iScroll=null;this.$4=tab.MiscUtil.clearTimeout(this.$4)},componentDidUpdate:function(ef){if(!ss.referenceEquals(this.props.startingY,ef.startingY)&&ss.isValue(this.props.startingY)){this.iScroll.scrollTo(this.iScroll.x,ss.unbox(this.props.startingY),0,null);this.$0()}this.$3()},handleOnMouseOver:function(ef){this.setState({hovered:true,scrolling:this.state.scrolling})},handleOnMouseOut:function(ef){this.setState({hovered:false,scrolling:this.state.scrolling})},handleScrollStart:function(){this.setState({hovered:this.state.hovered,scrolling:true})},$2:function(){if(!ss.staticEquals(this.props.scrollCallback,null)){this.props.scrollCallback(this.iScroll.getComputedPosition())}},handleScrollStop:function(){this.setState({hovered:this.state.hovered,scrolling:false})},$1:function(ef){this.$3()},$3:function(){this.$4=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.iScroll)){this.iScroll.refresh()}}),this.props.refreshDelay)},$0:function(){if(!ss.staticEquals(this.props.scrollStopCallback,null)){var ef=new Object;ef.x=this.iScroll.maxScrollX;ef.y=this.iScroll.maxScrollY;var eg=ef;this.props.scrollStopCallback(this.iScroll.getComputedPosition(),eg)}}},React.Component);ss.initInterface(ci,a,{get_canScrollX:null,get_canScrollY:null,get_scrollPos:null,get_maxScroll:null,get_visibleArea:null,scrollX:null,scrollY:null,setScrollTarget:null,refresh:null});ss.initClass(ck,a,{});ss.initInterface(cn,a,{add_selectableDisposed:null,remove_selectableDisposed:null,add_selectedChanging:null,remove_selectedChanging:null,add_selectedChanged:null,remove_selectedChanged:null,get_selectionId:null,set_selectionId:null,get_selected:null,set_selected:null,get_selectedClass:null,set_selectedClass:null});ss.initInterface(cq,a,{updateUberPopupViewModel:null},[bT]);ss.initClass(cr,a,{});ss.initClass(cs,a,{get_labelElement:function(){return this.element.find(this.$b)},get_label:function(){return this.get_labelElement().text()},set_label:function(ef){this.get_labelElement().text(ef);if(ss.isNullOrEmptyString(ef)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},setLabelContents:function(ef){if(ss.isValue(ef)){this.get_labelElement().html(ef);this.get_labelElement().removeClass('hide')}else{this.get_labelElement().html('');this.get_labelElement().addClass('hide')}}},y,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(dO,a,{add_selectableDisposed:function(ef){this.$3$1=ss.delegateCombine(this.$3$1,ef)},remove_selectableDisposed:function(ef){this.$3$1=ss.delegateRemove(this.$3$1,ef)},add_selectedChanging:function(ef){this.$3$2=ss.delegateCombine(this.$3$2,ef)},remove_selectedChanging:function(ef){this.$3$2=ss.delegateRemove(this.$3$2,ef)},add_selectedChanged:function(ef){this.$3$3=ss.delegateCombine(this.$3$3,ef)},remove_selectedChanged:function(ef){this.$3$3=ss.delegateRemove(this.$3$3,ef)},get_selectedClass:function(){return this.$c},set_selectedClass:function(ef){if(ss.referenceEquals(this.$c,ef)){return}if(this.get_selected()){this.element.toggleClass(this.$c,false);this.element.toggleClass(ef,true)}this.$c=ef},get_selectionId:function(){return this.$d},set_selectionId:function(ef){this.$d=ef},get_selected:function(){return this.element.hasClass(this.$c)},set_selected:function(ef){if(this.get_selected()===ef){return}this.element.toggleClass(this.$c,ef);this.raisePropertyChanged('selected');this.$b(this.$3$3,null)},get_preventMouseDeselect:function(){return this.$3$4},set_preventMouseDeselect:function(ef){this.$3$4=ef},handleClick:function(ef){if(this.get_disabled()){return}var eg=!this.get_selected();if(this.get_preventMouseDeselect()&&!eg){return}if(!ss.staticEquals(this.$3$2,null)){var eh=new dw(eg,ss.isValue(ef)&&ef.shiftKey,bA.isCtrlKey(ef));this.$3$2(this,eh);if(eh.cancel){return}}this.set_selected(eg);y.prototype.handleClick.call(this,ef)},$b:function(ef,eg){if(!ss.staticEquals(ef,null)){ef(this,eg)}},onDisposed:function(ef){this.$b(this.$3$1,null);ed.prototype.onDisposed.call(this,ef)}},y,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cn]);ss.initClass(ct,a,{get_labelElement:function(){return this.element.find(this.$e)},get_inputElement:function(){return this.element.find('input')},get_label:function(){return this.get_labelElement().text()},set_label:function(ef){this.get_labelElement().text(ef);if(ss.isNullOrEmptyString(ef)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},get_selected:function(){return dO.prototype.get_selected.call(this)},set_selected:function(ef){if(this.get_selected()===ef){return}var eg=this.get_inputElement();if(ss.isValue(eg)){eg.prop('checked',(ef?'checked':''))}dO.prototype.set_selected.call(this,ef)},get_disabled:function(){return y.prototype.get_disabled.call(this)},set_disabled:function(ef){var eg=this.get_inputElement();if(ss.isValue(eg)){eg.prop('disabled',ef)}y.prototype.set_disabled.call(this,ef)}},dO,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cn]);ss.initClass(cu,a,{handleBlur:function(ef){if(this.props.blurBehavior===0){this.$3()}else if(this.props.blurBehavior===1){this.handleEnterPress()}},componentWillReceiveProps:function(ef){if(!ss.referenceEquals(this.props.initialValue,ef.initialValue)){this.setState({displayedText:ef.initialValue})}},$3:function(){this.setState({displayedText:this.props.initialValue})},$0:function(){return{displayedText:(tab.MiscUtil.isNullOrEmpty$3(this.props.initialValue)?'':this.props.initialValue)}},handleInput:function(ef){if(this.props.inputFilter===0){ef=ss.replaceAllString(ef,',','');ef=ss.replaceAllString(ef,'.','');var eg={};if(ss.isNullOrEmptyString(ef)||ss.Int32.tryParse(ef,eg)){this.setState({displayedText:ef})}}else{this.setState({displayedText:ef})}},$2:function(ef){if(ef.keyCode===27){ef.preventDefault();ef.stopPropagation();this.$3()}},handleEnterPress:function(){var ef=this.$1();if(!ss.staticEquals(this.props.onCommit,null)&&!ss.referenceEquals(this.props.initialValue,ef)){this.props.onCommit(ef)}if(this.props.blurBehavior===0){this.$3()}else if(!ss.referenceEquals(this.state.displayedText,ef)){this.setState({displayedText:ef})}},$1:function(){var ef={};if(ss.Int32.tryParse(this.state.displayedText,ef)){return((ss.isValue(this.props.maxValue)&&ss.Nullable$1.gt(ef.$,this.props.maxValue))?this.props.maxValue.toString():this.state.displayedText)}else{return this.state.displayedText}},render:function(){var ef=this.$4;var eg=new Object;eg.iconClassName='confirmArrowIcon';eg.customClassName='confirmButton';var eh=bu.div(ef,{className:'confirmButtonDiv'},[React.createElement(bR,eg)]);var ei=React.createElement(SharedWidgets.TextFieldInputWidget,{text:this.state.displayedText,maxLength:9,handleChange:ss.mkdel(this,this.handleInput),handleEnter:ss.mkdel(this,this.handleEnterPress),name:'rowCount-input',style:{display:'inline-block',lineHeight:'24px',paddingBottom:'0px',paddingTop:'0px',marginBottom:'0px',marginLeft:'3px',borderStyle:'none',width:this.$5,height:'24px'}});return bk.div({className:'lineEditWithButtonComponent',onKeyDown:ss.mkdel(this,this.$2),onBlur:ss.mkdel(this,this.handleBlur)},ei,eh)}},React.Component);ss.initClass(cw,a,{get_parentListView:function(){return this.$1$1},set_parentListView:function(ef){this.$1$1=ef},get_draggableListItemView:function(){return this.$1$2},set_draggableListItemView:function(ef){this.$1$2=ef},startDrag:function(ef){if(ss.isNullOrUndefined(this.get_parentListView())||ss.isNullOrUndefined(this.get_draggableListItemView())||ss.isNullOrUndefined(this.get_parentListView().get_dragFeedback())){return null}return this.get_parentListView().get_dragFeedback().startDrag(this.get_parentListView(),this.get_draggableListItemView())}},null,[bW]);ss.initClass(dv,a,{add_selectionChanged:function(ef){this.$1$1=ss.delegateCombine(this.$1$1,ef)},remove_selectionChanged:function(ef){this.$1$1=ss.delegateRemove(this.$1$1,ef)},get_selectedClass:function(){return this.$8},set_selectedClass:function(ef){this.$8=ef},get_selectionType:function(){return this.$a},set_selectionType:function(ef){this.$a=ef},get_items:function(){return this.$7},get_selectedItems:function(){var ef=[];var eg=ss.getEnumerator(Object.keys(this.$9));try{while(eg.moveNext()){var eh=eg.current();ef.push(this.$9[eh])}}finally{eg.dispose()}return ef},get_selectedItem:function(){if(this.get_numberOfSelectedItems()===0){return null}var ef=Object.keys(this.$9)[0];return this.$9[ef]},get_numberOfSelectedItems:function(){return ss.getKeyCount(this.$9)},addItem:function(ef){ef.set_selectedClass(this.$8);this.$7.push(ef);if(ef.get_selected()){this.$6(ef,false,false)}this.$0(ef)},containsItem:function(ef){return ss.contains(this.get_items(),ef)},dispose:function(){ss.clearKeys(this.$9);this.get_items().forEach(ss.mkdel(this,this.$5));ss.clear(this.get_items())},onItemDisposed:function(ef,eg){var eh=ef;this.$5(eh);if(this.isItemSelected$1(eh)){delete this.$9[eh.get_selectionId()]}ss.remove(this.$7,eh)},$0:function(ef){ef.add_selectableDisposed(ss.mkdel(this,this.onItemDisposed));ef.add_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));ef.add_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},$5:function(ef){ef.remove_selectableDisposed(ss.mkdel(this,this.onItemDisposed));ef.remove_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));ef.remove_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},selectAll:function(){this.selectItems(this.get_items(),false)},isItemSelected$1:function(ef){return ss.isValue(ef)&&ss.keyExists(this.$9,ef.get_selectionId())},isItemSelected:function(ef){return ss.keyExists(this.$9,ef)},selectItem:function(ef){this.$6(ef,false,true)},selectSingleItem:function(ef){this.$6(ef,true,true)},$6:function(ef,eg,eh){var ei=false;if(eg||this.get_selectionType()===0){ei=this.$1(ef)}ei=this.$2(ef)||ei;if(eh&&ei){this.$4()}},selectItems:function(ef,eg){switch(this.get_selectionType()){case 0:{var eh=((ss.isValue(ef)&&ef.length>0)?ef[0]:null);this.selectItem(eh);break}case 1:case 2:{var ei=false;if(eg){ei=this.$1(null)}if(ss.isValue(ef)){for(var ej=0,ek=ef.length;ej<ek;ej++){ei=this.$2(ef[ej])||ei}}if(ei){this.$4()}break}}},$2:function(ef){if(ss.isNullOrUndefined(ef)){return false}if(ss.isNullOrUndefined(ef.get_selectionId())){return false}if(this.isItemSelected$1(ef)){return false}if(!this.containsItem(ef)){return false}this.$9[ef.get_selectionId()]=ef;ef.set_selected(true);return true},clearSelection:function(ef){if(this.$1(ef)){this.$4()}},$1:function(ef){var eg=ss.getKeyCount(this.$9);var eh=ss.getEnumerator(Object.keys(this.$9));try{while(eh.moveNext()){var ei=eh.current();if(ss.isValue(ef)&&ss.referenceEquals(ei,ef.get_selectionId())){continue}this.$3(this.$9[ei])}}finally{eh.dispose()}return eg>0&&ss.getKeyCount(this.$9)!==eg},unselectItem:function(ef){if(!this.isItemSelected$1(ef)){return}this.$3(ef);this.$4()},$3:function(ef){delete this.$9[ef.get_selectionId()];ef.set_selected(false)},handleSelectionChanging:function(ef,eg){var eh=ef;if(eg.get_selecting()){this.selectItem(eh)}else if(this.get_selectionType()!==0){this.unselectItem(eh)}else if(ss.referenceEquals(this.get_selectedItem(),eh)){eg.cancel=true}},handleSelectionChanged:function(ef,eg){var eh=ef;var ei=this.isItemSelected$1(eh);if(eh.get_selected()&&!ei){this.$2(eh)}else if(!eh.get_selected()&&ei){this.$3(eh)}},$4:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[ss.IDisposable]);ss.initClass(cx,a,{$e:function(ef){this.$d(ss.indexOf(this.get_items(),ef))},$d:function(ef){if(ef<0||ef>=this.get_items().length){return}this.$f=ef;this.$g=null},$b:function(){this.$f=null;this.$g=null},addItem:function(ef){dv.prototype.addItem.call(this,ef);if(ef.get_selected()&&ss.isNullOrUndefined(this.$f)&&this.get_selectionType()===0){this.$e(ef)}},onItemDisposed:function(ef,eg){this.$b();dv.prototype.onItemDisposed.call(this,ef,eg)},dispose:function(){this.$b();dv.prototype.dispose.call(this)},selectItem:function(ef){this.selectItemAtIndex(ss.indexOf(this.get_items(),ef))},selectSingleItem:function(ef){var eg=ss.indexOf(this.get_items(),ef);if(eg<0){return}dv.prototype.selectSingleItem.call(this,ef);this.$d(eg)},selectItemAtIndex:function(ef){dv.prototype.selectItem.call(this,this.get_items()[ef]);this.$d(ef)},selectItems:function(ef,eg){this.$c(ef,eg);this.$g=null},$c:function(ef,eg){dv.prototype.selectItems.call(this,ef,eg)},clearSelection:function(ef){dv.prototype.clearSelection.call(this,ef);this.$b()},selectItemForKey:function(ef,eg){if(this.get_selectionType()===2){return null}if(!ss.isValue(this.$f)){return null}var eh=ef===38;var ei=ef===40;if(eh||ei){if(!this.get_items()[ss.unbox(this.$f)].get_selected()){this.selectItem(this.get_items()[ss.unbox(this.$f)])}var ej=ss.unbox(this.$f)+(eh?-1:1);if(ej<0||ej>=this.get_items().length){return null}if(this.get_selectionType()===1&&eg){var ek=this.$g;if(ss.isValue(this.$g)){var el=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var em=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));if(ej>=el&&ej<=em){this.unselectItem(this.get_items()[ss.unbox(this.$f)])}}else{ek=this.$f}this.selectItem(this.get_items()[ej]);this.$g=ek}else{this.selectSingleItem(this.get_items()[ej]);this.$g=null}this.$f=ej;return this.get_items()[ej]}return null},handleSelectionChanging:function(ef,eg){var eh=ef;var ei=ss.indexOf(this.get_items(),eh);if(ei<0){return}if(this.get_selectionType()===0){dv.prototype.handleSelectionChanging.call(this,ef,eg);return}var ej=this.$f;var ek=this.$g;this.$d(ei);if(this.get_selectionType()===2||eg.get_ctrlKey()){if(eg.get_selecting()){this.selectItem(eh)}else{this.unselectItem(eh)}return}if(eg.get_shiftKey()&&(ss.isValue(ej)||ss.isValue(ek))){this.$g=ss.coalesce(ek,ej);var el=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var em=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));var en=[];for(var eo=el;eo<=em;eo++){en.push(this.get_items()[eo])}this.$c(en,true);eg.cancel=true;return}this.selectSingleItem(eh);if(ss.referenceEquals(this.get_selectedItem(),eh)){eg.cancel=true}},handleSelectionChanged:function(ef,eg){dv.prototype.handleSelectionChanged.call(this,ef,eg);this.$e(ef)}},dv,[ss.IDisposable]);ss.initClass(cy,a,{get_viewModel:function(){return this.$g},get_selected:function(){return(this.addedToDom?dO.prototype.get_selected.call(this):this.$g.get_selected())},set_selected:function(ef){dO.prototype.set_selected.call(this,ef);this.get_viewModel().set_selected(ef)},get_isInvalid:function(){return this.$g.get_isInvalid()},set_isInvalid:function(ef){this.$f.toggleClass('invalid',ef);this.get_viewModel().set_isInvalid(ef)},get_isBold:function(){return this.$g.get_isBold()},set_isBold:function(ef){this.$f.toggleClass('bold',ef);this.get_viewModel().set_isBold(ef)},get_disabled:function(){return y.prototype.get_disabled.call(this)},set_disabled:function(ef){this.$f.toggleClass(this.get_disabledClass(),ef);y.prototype.set_disabled.call(this,ef)},init:function(){this.set_selected(this.$g.get_selected())},$e:function(ef,eg){switch(eg.get_propertyName()){case'selected':{this.set_selected(this.get_viewModel().get_selected());break}case'invalid':{this.set_isInvalid(this.get_viewModel().get_isInvalid());break}case'bold':{this.set_isBold(this.get_viewModel().get_isBold());break}case'spotlighted':{this.element.toggleClass('tab-list-item-spotlighted',this.get_viewModel().get_spotlighted());break}}}},dO,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cn]);ss.initClass(cz,a,{get_id:function(){return this.$2},get_data:function(){return this.$0},get_selected:function(){return this.$5},set_selected:function(ef){if(this.$5===ef){return}this.$5=ef;this.notifyPropertyChanged('selected')},get_isInvalid:function(){return this.$4},set_isInvalid:function(ef){if(this.$4===ef){return}this.$4=ef;this.notifyPropertyChanged('invalid')},get_isBold:function(){return this.$3},set_isBold:function(ef){if(this.$3===ef){return}this.$3=ef;this.notifyPropertyChanged('bold')},get_draggable:function(){return this.$1},set_draggable:function(ef){if(this.$1===ef){return}this.$1=ef;this.notifyPropertyChanged('draggable')},get_spotlighted:function(){return this.$6},set_spotlighted:function(ef){if(this.$6===ef){return}this.$6=ef;this.notifyPropertyChanged('spotlighted')}},x,[ss.IDisposable,tab.IViewModel]);ss.initClass(cA,a,{create:function(){this.$0();var ef=[];for(var eg=0,eh=this.itemDatas.length;eg<eh;eg++){var ei=this.itemIds[eg];var ej=(ss.isValue(this.selectionIndexes)?ss.contains(this.selectionIndexes,eg):false);var ek=(ss.isValue(this.invalidIndexes)?ss.contains(this.invalidIndexes,eg):false);var el=this.itemDatas[eg];var em=new cz(ei,el,ej,ek,false);em.set_draggable(eh>1);var en=em;ef.push(en)}return ef},$0:function(){tab.Param.verifyValue(this.itemDatas,'ItemDatas');tab.Param.verifyValue(this.itemIds,'ItemIds')}});ss.initClass(cB,a,{get_dragFeedback:function(){return this.$3$1},set_dragFeedback:function(ef){this.$3$1=ef},add_listItemsUpdated:function(ef){this.$3$2=ss.delegateCombine(this.$3$2,ef)},remove_listItemsUpdated:function(ef){this.$3$2=ss.delegateRemove(this.$3$2,ef)},get_dom:function(){return this.get_template()},get_domRoot:function(){return this.get_dom().domRoot},get_itemViews:function(){return this.$l},$j:function(){return((this.$l.length>0)?this.$l[0].element[0].offsetTop:0)},get_scrollerPosition:function(){return this.get_scrollHandler().get_scrollViewPagePosition()},get_scrollerSize:function(){return this.get_scrollHandler().get_scrollViewSize()},get_scrollHandler:function(){return this.$m},set_scrollHandler:function(ef){this.$m=ef||new g(this.element)},useScrollableView:function(ef){this.set_scrollHandler(new f(ef))},$5:function(){for(var ef=0;ef<this.get_viewModel().get_collection().length;ef++){var eg={$:this.get_viewModel().get_collection()[ef]};if(ss.isValue(eg.$)){var eh=this.$k.createListItemContent(eg.$);var ei=new cy(eh,eg.$);ei.init();ei.onDoubleClick(ss.mkdel(this,this.$8));ei.set_disabled(!this.get_viewModel().get_enabled());ei.set_isInvalid(eg.$.get_isInvalid());ei.set_isBold(eg.$.get_isBold());ei.onMouseEnter(ss.mkdel({itemViewModel:eg,$this:this},function(ej){this.$this.$a(this.itemViewModel.$)}));ei.onMouseMove(ss.mkdel({itemViewModel:eg,$this:this},function(ej){this.$this.$b(this.itemViewModel.$)}));this.$i(ei);this.$l.push(ei);this.get_viewModel().addItemToGroup(ei);ei.addToDom(this.get_dom().get_listItemContainer());eg.$.add_propertyChanged(ss.mkdel(this,this.$f))}}this.$g(this.$3$2)},$c:function(ef){if(!ss.isValue(ef)){return}this.$h(this.$l[ss.unbox(ef)])},$d:function(ef){if(ss.isValue(ef)){this.$h(this.$l[ss.unbox(ef)])}},$8:function(ef){this.get_viewModel().selectionSubmitted()},$a:function(ef){this.get_viewModel().handleListItemMouseEnter(ef)},$b:function(ef){this.get_viewModel().handleListItemMouseMove(ef)},$9:function(ef){var eg=this.get_viewModel().get_listItemGroup().selectItemForKey(ef.which,ef.shiftKey);if(ss.isValue(eg)){bA.stopEvent(ef);this.$h(eg)}},onViewModelPropertyChanged:function(ef,eg){if(eg.get_propertyName()==='collection'){this.$6();this.get_dom().get_listItemContainer().empty();this.$5()}else if(eg.get_propertyName()==='enabled'){this.$l.forEach(ss.mkdel(this,function(eh){eh.set_disabled(!this.get_viewModel().get_enabled());this.$i(eh)}))}ss.makeGenericType(w,[cD]).prototype.onViewModelPropertyChanged.call(this,ef,eg)},$f:function(ef,eg){if(eg.get_propertyName()==='draggable'){var eh=this.$7(ef);this.$i(eh)}},$i:function(ef){if(ef.get_viewModel().get_draggable()&&!ef.get_disabled()){ef.element.addClass('tabDraggable');bm.attachDragSource(ef.element,new cw(this,ef))}else{ef.element.removeClass('tabDraggable');bm.removeDragSource(ef.element)}},tabIndex:function(ef){this.get_dom().get_listItemContainer().attr('tabindex',ef.toString());return this},showItemAtIndex:function(ef){this.$h(this.get_itemViews()[ef])},$h:function(ef){if(ss.isNullOrUndefined(ef)){return}var eg=ef.element[0];this.$m.scrollToElement(eg,this.$j())},$e:function(ef,eg){if(ef===eg||ef<0||ef>=this.get_itemViews().length||eg<0||eg>=this.get_itemViews().length){return}var eh=this.get_itemViews()[ef];eh.element.hide();if(eg<ef){eh.element.insertBefore(this.get_itemViews()[eg].element)}else{eh.element.insertAfter(this.get_itemViews()[eg].element)}eh.element.fadeIn();ss.removeAt(this.get_itemViews(),ef);ss.insert(this.get_itemViews(),eg,eh)},dispose:function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e));this.$6();ss.makeGenericType(w,[cD]).prototype.dispose.call(this)},$6:function(){this.$l.forEach(ss.mkdel(this,function(ef){ef.get_viewModel().remove_propertyChanged(ss.mkdel(this,this.$f));ef.dispose()}));ss.clear(this.$l)},$g:function(ef){if(ss.isValue(ef)){ef()}},$7:function(ef){for(var eg=0,eh=this.$l.length;eg<eh;eg++){if(ss.referenceEquals(this.$l[eg].get_selectionId(),ef.get_id())){return this.$l[eg]}}return null}},ss.makeGenericType(w,[cD]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cD])]);ss.initClass(cC,a,{add_dragStarting:function(ef){this.$1$1=ss.delegateCombine(this.$1$1,ef)},remove_dragStarting:function(ef){this.$1$1=ss.delegateRemove(this.$1$1,ef)},add_dragEnded:function(ef){this.$1$2=ss.delegateCombine(this.$1$2,ef)},remove_dragEnded:function(ef){this.$1$2=ss.delegateRemove(this.$1$2,ef)},get_dragClassName:function(){return this.$b},set_dragClassName:function(ef){this.$b=ef},get_dragHoverClassName:function(){return this.$c},set_dragHoverClassName:function(ef){this.$c=ef},get_avatarCreator:function(){return this.$1$3},set_avatarCreator:function(ef){this.$1$3=ef},dispose:function(){bm.remove_dragStarted(ss.mkdel(this,this.$8));bm.remove_dragEnded(ss.mkdel(this,this.$7));this.$9();this.$0()},startDrag:function(ef,eg){if(ss.isNullOrUndefined(ef)||ss.isNullOrUndefined(ef.get_itemViews())){return null}var eh=ss.indexOf(ef.get_itemViews(),eg);if(eh<0){return null}this.$5(ef,eh);this.$6(tab.DoubleUtil.roundToInt(this.$e.outerWidth()));this.$e.toggleClass(this.get_dragClassName(),true);this.$a();if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$f)}bm.add_dragStarted(ss.mkdel(this,this.$8));bm.add_dragEnded(ss.mkdel(this,this.$7));var ei=this.$1(ef.get_itemViews()[eh]);return new cS(this.$e,ss.mkdel(this,this.$3),ss.mkdel(this,this.$4),ei)},$5:function(ef,eg){this.$k=ef;this.$m=this.$k.get_itemViews().length;this.$j=this.$k.get_scrollerPosition().y;this.$i=this.$j+this.$k.get_scrollerSize().h;this.$n=eg;this.$l=eg;var eh=ef.get_itemViews()[eg];this.$f=eh.get_viewModel();this.$e=eh.element},$6:function(ef){this.$g=this.$2(ef).appendTo($('body')).hide();this.$h=ss.Int32.div(tab.DoubleUtil.roundToInt(this.$g.outerHeight()),2)},$2:function(ef){return $("<div class='tab-list-item-insertion-pointer'>").width(ef)},$1:function(ef){if(ss.isValue(this.get_avatarCreator())){return this.get_avatarCreator().createListItemDragAvatar(ef.get_viewModel())}return new bp(ef)},$8:function(ef){bm.remove_dragStarted(ss.mkdel(this,this.$8));bm.setDragCursor(new Y(null,'move'));bm.setDragCursor(new Y(null,'-webkit-grabbing'));bm.setDragCursor(new Y(null,'-moz-grabbing'));bm.setDragCursor(new Y(null,'grabbing'))},$7:function(ef){bm.remove_dragEnded(ss.mkdel(this,this.$7));this.$0();this.$9()},$3:function(ef){if(ss.isNullOrUndefined(this.$e)){return}this.$0();var eg=this.$k.get_itemViews()[this.$l].element;var eh=tab.DomUtil.getElementPosition(eg);var ei=this.$l>0&&(ef.pageY<this.$j||ef.pageY<eh.y);var ej=this.$l<this.$m-1&&(ef.pageY>this.$i||ef.pageY>eh.y+eg.outerHeight());if(!ei&&!ej){return}var ek=(ei?-1:1);this.$l+=ek;this.$k.showItemAtIndex(this.$l);this.$a();this.$d=window.setTimeout(ss.mkdel(this,function(){this.$3(bm.get_lastDragEvent())}),10)},$a:function(){if(this.$l===this.$n){this.$g.hide();this.$e.toggleClass(this.get_dragHoverClassName(),true);return}this.$e.toggleClass(this.get_dragHoverClassName(),false);var ef=this.$k.get_itemViews()[this.$l].element;var eg=tab.DomUtil.getElementPosition(ef);if(this.$l>this.$n){eg.y+=tab.DoubleUtil.roundToInt(ef.outerHeight())}tab.DomUtil.setElementPosition(this.$g,eg.x,eg.y-this.$h,null,false);this.$g.show()},$4:function(ef){this.$0();this.$9();if(this.$n!==this.$l){this.$k.get_viewModel().moveItem(this.$n,this.$l)}if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this.$f,this.$n!==this.$l)}},$9:function(){if(ss.isValue(this.$g)){this.$g.remove();this.$g=null}if(ss.isValue(this.$e)){this.$e.removeClass(this.get_dragHoverClassName());this.$e.removeClass(this.get_dragClassName());this.$e=null}},$0:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d)}},null,[cb,ss.IDisposable]);ss.initClass(cD,a,{add_propsUpdated:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_propsUpdated:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},add_selectionChanged:function(ef){this.$2$2=ss.delegateCombine(this.$2$2,ef)},remove_selectionChanged:function(ef){this.$2$2=ss.delegateRemove(this.$2$2,ef)},add_submitSelection:function(ef){this.$2$3=ss.delegateCombine(this.$2$3,ef)},remove_submitSelection:function(ef){this.$2$3=ss.delegateRemove(this.$2$3,ef)},add_listItemMouseEnter:function(ef){this.$2$4=ss.delegateCombine(this.$2$4,ef)},remove_listItemMouseEnter:function(ef){this.$2$4=ss.delegateRemove(this.$2$4,ef)},add_listItemMouseMove:function(ef){this.$2$5=ss.delegateCombine(this.$2$5,ef)},remove_listItemMouseMove:function(ef){this.$2$5=ss.delegateRemove(this.$2$5,ef)},add_selectionModelUpdated:function(ef){this.$2$6=ss.delegateCombine(this.$2$6,ef)},remove_selectionModelUpdated:function(ef){this.$2$6=ss.delegateRemove(this.$2$6,ef)},add_spotlightedItemChanged:function(ef){this.$2$7=ss.delegateCombine(this.$2$7,ef)},remove_spotlightedItemChanged:function(ef){this.$2$7=ss.delegateRemove(this.$2$7,ef)},add_itemMoved:function(ef){this.$2$8=ss.delegateCombine(this.$2$8,ef)},remove_itemMoved:function(ef){this.$2$8=ss.delegateRemove(this.$2$8,ef)},get_originalCollection:function(){return this.$7},get_collection:function(){return this.$5},get_filter:function(){return this.$4},set_filter:function(ef){this.$4=ef;this.$0()},get_sort:function(){return this.$9},set_sort:function(ef){this.$9=ef;this.$0()},$2:function(){return!ss.staticEquals(this.$4,null)||!ss.staticEquals(this.$9,null)},get_props:function(){return this.$8},get_selectionType:function(){return this.$6.get_selectionType()},get_listItemGroup:function(){return this.$6},get_firstSelectedItem:function(){var ef=this.$1(1);return((ef.length>0)?ef[0]:null)},get_selectedItems:function(){return this.$1(this.$6.get_numberOfSelectedItems())},get_enabled:function(){return this.$3},set_enabled:function(ef){if(this.$3===ef){return}this.$3=ef;this.notifyPropertyChanged('enabled')},dispose:function(){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.$6.dispose();ss.clear(this.$7);ss.clear(this.$5);x.prototype.dispose.call(this)},selectionSubmitted:function(){this.raiseActionEvent(this.$2$3)},handleListItemMouseEnter:function(ef){this.raiseActionEvent$1(cz).call(this,this.$2$4,ef)},handleListItemMouseMove:function(ef){this.raiseActionEvent$1(cz).call(this,this.$2$5,ef)},update:function(ef){this.$7=ss.arrayClone(ef);this.$0();this.$8.items=_.map(this.get_collection(),function(eg){return{data:eg.get_data()}});this.raiseActionEvent(this.$2$1)},addItemToGroup:function(ef){this.$6.addItem(ef)},$0:function(){if(this.$2()){this.$5=(ss.isValue(this.$4)?this.$7.filter(this.$4):ss.arrayClone(this.$7));if(ss.isValue(this.$9)){this.$5.sort(this.$9)}}else{this.$5=this.$7}this.notifyPropertyChanged('collection')},onSelectionChanged:function(){this.raiseActionEvent(this.$2$2)},$1:function(ef){var eg=[];var eh=this.$6.get_numberOfSelectedItems();if(eh===1){eg.push(this.$6.get_selectedItem().get_viewModel());return eg}var ei=Math.min(eh,ef);for(var ej=0,ek=this.get_collection().length;ej<ek&&eg.length<ei;ej++){if(this.$6.isItemSelected(this.get_collection()[ej].get_id())){eg.push(this.get_collection()[ej])}}return eg},setSelectedItems:function(ef){if(this.get_collection().length===0){return}this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.get_listItemGroup().clearSelection(null);var eg=null;for(var eh=0,ei=ef.length;eh<ei;eh++){var ej=ef[eh];eg=Math.min(ss.coalesce(eg,ej),ej);this.get_collection()[ej].set_selected(true);if(this.get_listItemGroup().get_selectionType()===0){break}}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ss.coalesce(eg,0));this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},setInvalidItems:function(ef){for(var eg=0,eh=this.get_collection().length;eg<eh;++eg){this.get_collection()[eg].set_isInvalid(ss.contains(ef,eg))}},selectItemById:function(ef){for(var eg=0,eh=this.get_collection().length;eg<eh;eg++){var ei=this.get_collection()[eg];if(ss.referenceEquals(ei.get_id(),ef)){this.selectItemAtIndex(eg);break}}},selectItemAtIndex:function(ef){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));var eg=this.get_collection()[ef];var eh=!eg.get_selected();if(this.$6.get_selectionType()===0){this.clearSelection()}eg.set_selected(true);if(eh){this.raiseActionEvent(this.$2$2)}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ef);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},clearSpotlighting:function(){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}this.$a=null;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},spotlightItemAtIndex:function(ef){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}var eg=this.get_collection()[ef];if(ss.isNullOrUndefined(eg)){return}eg.set_spotlighted(true);this.$a=ef;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},clearSelection:function(){this.$6.clearSelection(null)},moveItem:function(ef,eg){if(ef===eg){return}var eh=this.get_collection()[ef];ss.removeAt(this.get_collection(),ef);ss.insert(this.get_collection(),eg,eh);if(!ss.staticEquals(this.$2$8,null)){this.$2$8(ef,eg)}}},x,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cf,[Object])]);ss.initClass(cE,a,{get_domRootElement:function(){return this.domRoot},get_listItemContainer:function(){return this.$0}},dL,[ss.IDisposable]);ss.initClass(cF,a,{});ss.initClass(cH,a,{checkState:function(ef){this.$0.checkState=ef;return this},data:function(ef){this.$0.data=ef;return this},description:function(ef){this.$0.description=ef;return this},enabled:function(ef){this.$0.enabled=ef;return this},isDivider:function(ef){this.$0.isDivider=ef;return this},isTextInput:function(ef){this.$0.isTextInput=ef;return this},iconClass:function(ef){this.$0.iconClass=ef;return this},iconClassTwo:function(ef){this.$0.iconClassTwo=ef;return this},itemClass:function(ef){this.$0.itemClass=ef;return this},name:function(ef){this.$0.name=ef;return this},readId:function(ef){this.$0.readId=ef;return this},subMenu:function(ef){this.$0.subMenu=ef;return this},title:function(ef){this.$0.title=ef;return this},build:function(){var ef=this.$0;this.$0=null;return ef}});ss.initEnum(cI,a,{none:0,check:1,radio:2});ss.initClass(cJ,a,{},dL,[ss.IDisposable]);ss.initClass(cK,a,{},dL,[ss.IDisposable]);ss.initClass(cL,a,{},dL,[ss.IDisposable]);ss.initClass(cM,a,{$a:function(){var ef=this.dom.domRoot;for(var eg=0;eg<this.menuStack.length;eg++){var eh=this.menuStack[eg];ef=ef.add(eh.domRoot)}return ef},dispose:function(){this.menuViewModel.remove_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.remove_shown(ss.mkdel(this,this.shown));this.menuViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.remove_menuItemSelectionChanged(ss.mkdel(this,this.$9));var ef=ss.mkdel(this,function(){this.menuDisposables.dispose();for(var eg=0;eg<this.menuStack.length;eg++){var eh=this.menuStack[eg];eh.dispose()}ss.clear(this.menuStack);this.removeGlass();ss.makeGenericType(w,[cN]).prototype.dispose.call(this)});this.$5(ef)},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},getElementForMenuItem:function(ef){return(ss.isValue(ef)?this.$b[ef.id]:null)},getMenuElementForMenuItem:function(ef){var eg=this.getElementForMenuItem(ef);if(ss.isNullOrUndefined(eg)){return null}var eh=this.menuStack[cM.getMenuItemLevel(eg)-1];if(ss.isNullOrUndefined(eh)){return null}else{return eh.domRoot}},updateMenu:function(){this.dom.content.children().remove();this.$b={};this.menuDisposables.dispose();this.menuDisposables=new tab.DisposableHolder;this.buildMenu(this.dom,this.menuViewModel.get_menu())},hidden:function(){var ef=ss.mkdel(this,function(){this.dom.domRoot.detach();this.removeGlass()});this.$5(ef)},shown:function(ef){if(ef.get_minWidth()!==0){var eg=tab.DoubleUtil.roundToInt(this.dom.domRoot.outerWidth(true))-tab.DoubleUtil.roundToInt(this.dom.domRoot.width());this.dom.domRoot.css('min-width',ef.get_minWidth()-eg+'px')}var eh=989;if(ef.relativeDom.length>0){var ei=tab.DomUtil.getComputedZIndex(ef.relativeDom[0]);if(ei>=eh){eh=Math.max(1000,ei+1)}}this.removeGlass();var ej=new bH;ej.set_zIndex(eh-1);this.glass=ej;this.glass.add_click(ss.mkdel(this,this.glassClicked));this.glass.show();this.dom.domRoot.css('z-index',eh);if(ss.isValue(ef.additionalMenuClass)){this.dom.domRoot.addClass(ef.additionalMenuClass)}dB.getViewport(ss.mkdel(this,function(el){this.dom.domRoot.appendTo($('body'));this.positionMenu(el,ef,this.dom);this.dom.domRoot.css('visibility','visible');this.onAddedToDom();this.dom.domRoot.show();this.onSized()}));this.disposables.add$1(bA.bindWithDispose($(window),'resize',ss.mkdel(this,function(el){this.menuViewModel.hide()})));var ek=ss.mkdel(this,function(el){this.menuViewModel.hide()});tab.WindowHelper.addListener(window.self,'popstate',ek);this.disposables.add$1(new tab.CallOnDispose(function(){tab.WindowHelper.removeListener(window.self,'popstate',ek)}));bI.add_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bI.remove_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements))})))},onSized:function(){},$9:function(ef,eg){var eh=this.$b[ef.id];if(ss.isValue(eh)&&eh.is(':visible')){eh.toggleClass('tabMenuSelectedItem',eg);if(eg){this.scrollToMenuItem(eh)}}},scrollToMenuItem:function(ef){ef.offsetParent().scrollTop(tab.DoubleUtil.roundToInt(ef.position().top))},glassClicked:function(){this.menuViewModel.hide()},onDismissTemporaryElements:function(){this.menuViewModel.hide()},showSubmenu:null,activateSubmenu:function(ef,eg){var eh=eg.data('tabMenuMenuItemLevel');if(ss.isValue(eh)&&eh<this.menuStack.length){return}var ei=new cL;ei.domRoot.addClass(this.menuViewModel.get_theme().menuClass);ei.domRoot.attr('data-sub-menu-depth',this.menuStack.length.toString());this.menuStack.push(ei);this.buildMenu(ei,ef.subMenu);this.showSubmenu(ef,eg,ei);ei.domRoot.focus();ei.domRoot.on('blur',ss.mkdel(this,this.onBlur))},buildMenu:function(ef,eg){var eh=false;var ei=false;var ej=false;var ek=[];var el=dI.targetAndClick(ef.domRoot.get(0),ss.mkdel(this,this.$8));this.menuDisposables.add$1(el);for(var em=0;em<eg.menuItems.length;em++){var en=eg.menuItems[em];var eo;if(en.isDivider){eo=(new cJ).domRoot.addClass(this.menuViewModel.get_theme().dividerClass)}else{if(en.isTextInput){var ep=this.$6(en);eo=ep.domRoot}else if(ss.isInstanceOfType(en,bb)){eo=en.get_domRoot()}else{var eq=(new m(en.name,en.enabled)).$2(en.checkState,en.iconClass).$3(en.iconClassTwo).$1(en.description).$6(en.title).$4(en.subMenu).$5([this.menuViewModel.get_theme().itemClass,en.itemClass]).$0();eh=eh||eq.$2;ei=ei||eq.$3;ej=ej||eq.$1;eq.domRoot.data('tabMenuMenuItem',en);eq.domRoot.data('tabMenuMenuItemLevel',this.menuStack.length);eo=eq.domRoot}eo.addClass('tabMenuMenuItem');if(en.isDefault){eo.addClass('tabMenuDefaultItem')}}ek.push(eo);this.$b[en.id]=eo}ef.content.append(ek);if(!eh){ef.domRoot.addClass(this.menuViewModel.get_theme().noIconClass)}if(ei){ef.domRoot.addClass('tabMenuHasIconTwo')}if(!ej){ef.domRoot.addClass(this.menuViewModel.get_theme().noDescClass)}if(ss.isValue(this.menuViewModel.get_selectedItem())){this.$9(this.menuViewModel.get_selectedItem(),true)}},$8:function(ef){var eg=$(ef.target).closest('.tabMenuMenuItem');var eh=eg.data('tabMenuMenuItem');if(ss.isNullOrUndefined(eh)){return}else if(ss.isValue(eh.subMenu)){this.activateSubmenu(eh,eg)}else{this.menuViewModel.clickMenuItem(eh)}},onBlur:function(ef){window.setTimeout(ss.mkdel(this,function(){var eg=this.$a();if(eg.index(document.activeElement)<0&&eg.find(document.activeElement).length===0){this.get_viewModel().hide()}}))},$7:function(ef){ef.stopPropagation();switch(ef.which){case 13:{var eg=ef.data['callback'];if($.isFunction(eg)){eg($(ef.target).val())}break}case 9:{ef.preventDefault();ef.target.blur();this.menuViewModel.iterateFocus((ef.shiftKey?-1:1),null);break}}},$6:function(ef){var eg=new cK;eg.textInput.keydown(ss.mkdict(['callback',ef.data]),ss.mkdel(this,this.$7)).keypress(cM.$0).focus(ss.mkdel(this,function(eh){this.get_viewModel().set_focusedItem(ef)})).attr('placeholder',ef.description);if(!ss.isNullOrEmptyString(ef.itemClass)){eg.domRoot.addClass(ef.itemClass)}this.disposables.add$1(new tab.CallOnDispose(function(){eg.textInput.off()}));return eg},$5:function(ef){if($.fx.off||!this.menuViewModel.get_shouldAnimateOnClose()){ef()}else{this.$a().fadeOut(50,ef)}}},ss.makeGenericType(u,[cN]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cN])]);ss.initClass(cN,a,{add_shown:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_shown:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},add_hidden:function(ef){this.$2$2=ss.delegateCombine(this.$2$2,ef)},remove_hidden:function(ef){this.$2$2=ss.delegateRemove(this.$2$2,ef)},add_menuChanged:function(ef){this.$2$3=ss.delegateCombine(this.$2$3,ef)},remove_menuChanged:function(ef){this.$2$3=ss.delegateRemove(this.$2$3,ef)},add_menuItemClicked:function(ef){this.$2$4=ss.delegateCombine(this.$2$4,ef)},remove_menuItemClicked:function(ef){this.$2$4=ss.delegateRemove(this.$2$4,ef)},add_menuItemSelectionChanged:function(ef){this.$2$5=ss.delegateCombine(this.$2$5,ef)},remove_menuItemSelectionChanged:function(ef){this.$2$5=ss.delegateRemove(this.$2$5,ef)},add_menuItemFocusChanged:function(ef){this.$2$6=ss.delegateCombine(this.$2$6,ef)},remove_menuItemFocusChanged:function(ef){this.$2$6=ss.delegateRemove(this.$2$6,ef)},get_visible:function(){return this.$2$7},set_visible:function(ef){this.$2$7=ef},get_isExpanded:function(){return this.$2$8},set_isExpanded:function(ef){this.$2$8=ef},get_shouldAnimateOnClose:function(){return this.$2$9},set_shouldAnimateOnClose:function(ef){this.$2$9=ef},set_disposeOnHide:function(ef){this.remove_hidden(this.$0);if(ef){this.add_hidden(this.$0)}},get_menu:function(){return this.$2},set_menu:function(ef){if(_.isEqual(this.$2,ef)){return}this.$2=ef;if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_theme:function(){return this.$2$10},set_theme:function(ef){this.$2$10=ef},get_selectedItem:function(){return this.$3},set_selectedItem:function(ef){if(ss.isValue(this.$3)){if(ss.isValue(this.$2$5)){this.$2$5(this.$3,false)}}if(ss.isNullOrUndefined(ef)){this.$3=null;return}this.$3=ef;if(!ss.staticEquals(this.$2$5,null)){this.$2$5(this.$3,true)}},get_focusedItem:function(){return this.$1},set_focusedItem:function(ef){if(ss.referenceEquals(this.$1,ef)){return}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$1,false)}if(ss.isNullOrUndefined(ef)||!ef.enabled){this.$1=null;return}this.$1=ef;if(!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$1,true)}},show:function(ef){this.set_isExpanded(ef.expanded);if(this.get_visible()){return}this.set_visible(true);if(!ss.staticEquals(this.$2$1,null)){this.$2$1(ef)}},dispose:function(){this.hide();x.prototype.dispose.call(this)},hide:function(){if(this.get_visible()===false){return}this.set_visible(false);this.raiseActionEvent(this.$2$2)},clickMenuItem:function(ef){if(!ef.enabled){return}this.hide();if(!ss.staticEquals(this.$2$4,null)){this.$2$4(ef)}},iterateFocus:function(ef,eg){var eh=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(eh)){return}var ei=eg;if(ss.isNullOrUndefined(ei)){ei=ss.indexOf(eh.menuItems,this.get_focusedItem())}var ej=ei;var ek=ej;do{ek+=ef;if(ek>=eh.menuItems.length){ek=0}else if(ek<0){ek=eh.menuItems.length-1}}while(!eh.menuItems[ek].get_selectable()&&ek!==ej);if(ek!==ej){this.set_focusedItem(eh.menuItems[ek])}},focusByNamePrefix:function(ef){ef=ef.toLowerCase();var eg=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(eg)){return}var eh=ss.indexOf(eg.menuItems,this.get_focusedItem())+1;if(eh>=eg.menuItems.length){eh=0}var ei=eh;do{if(eg.menuItems[ei].enabled&&!eg.menuItems[ei].isDivider){if(ss.isValue(eg.menuItems[ei].name)&&ss.startsWithString(eg.menuItems[ei].name.toLowerCase(),ef)){this.set_focusedItem(eg.menuItems[ei]);return}}++ei;if(ei>=eg.menuItems.length){ei=0}}while(ei!==eh)},findMenuForMenuItem:function(ef){if(ss.isNullOrUndefined(ef)){return null}var eg=null;eg=function(eh){if(ss.contains(eh.menuItems,ef)){return eh}for(var ei=0;ei<eh.menuItems.length;ei++){var ej=eh.menuItems[ei];if(ss.isValue(ej.subMenu)){var ek=eg(ej.subMenu);if(ss.isValue(ek)){return ek}}}return null};return eg(this.get_menu())},findItemContainingSubMenu:function(ef){if(ss.isNullOrUndefined(ef)||ss.referenceEquals(this.get_menu(),ef)){return null}var eg=null;eg=function(eh){var ei=null;for(var ej=0;ej<eh.menuItems.length;ej++){var ek=eh.menuItems[ej];if(ss.isValue(ek.subMenu)){ei=(ss.referenceEquals(ek.subMenu,ef)?ek:eg(ek.subMenu));if(ss.isValue(ei)){break}}}return ei};return eg(this.get_menu())}},x,[ss.IDisposable,tab.IViewModel]);ss.initClass(cP,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}this.$y=new bH;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString());bf.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bf.prototype.bindToEvents.call(this);this.disposables.add$1(bA.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bA.bindWithDispose($(window),'keyup',ss.mkdel(this,this.onDocumentKeyUp)))},detach:function(){this.$x();bf.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bf.prototype.dispose.call(this)},$x:function(){if(ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bf.defaultStationaryDialogConfigurer)},onWindowResize:function(ef){this.positionInWindow()},onDocumentKeyUp:function(ef){if(ef.which===27){this.close(null);ef.preventDefault();ef.stopPropagation();return}}},bf,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);cP.$ctor1.prototype=cP.prototype;ss.initClass(cQ,a,{});ss.initClass(cR,a,{});ss.initClass(cS,a,{get_dragType:function(){return'dragmove'},moveTo:function(ef){if(ss.isValue(this.$4)){this.$4(ef)}},endDragAt:function(ef){if(ss.isValue(this.$3)){this.$3(ef)}},cancelDrag:function(){if(ss.isValue(this.$2)){this.$2()}}},bn);cS.$ctor1.prototype=cS.prototype;ss.initClass(cT,a,{add_moveAction:function(ef){this.$1$1=ss.delegateCombine(this.$1$1,ef)},remove_moveAction:function(ef){this.$1$1=ss.delegateRemove(this.$1$1,ef)},add_endAction:function(ef){this.$1$2=ss.delegateCombine(this.$1$2,ef)},remove_endAction:function(ef){this.$1$2=ss.delegateRemove(this.$1$2,ef)},get_offset:function(){return this.$4},set_offset:function(ef){this.$4=ef},get_elementToDrag:function(){return this.$3},get_elementToChange:function(){return this.$2},get_documentBodySize:function(){return this.$1},set_documentBodySize:function(ef){this.$1=ef},dispose:function(){bm.removeDragSource(this.$3)},calculateOffset:function(ef){var eg=this.$2.position();return{x:ef.pageX-tab.DoubleUtil.roundToInt(eg.left),y:ef.pageY-tab.DoubleUtil.roundToInt(eg.top)}},startDrag:function(ef){this.$4=this.calculateOffset(ef);this.$3.addClass('dragging');if(this.$0){this.$2.addClass('dragging')}return new cS(this.$3,ss.mkdel(this,this.dragMove),ss.mkdel(this,this.dragEnd),null)},dragMove:function(ef){this.performMove(ef);if(ss.isValue(this.$1$1)){this.$1$1(ef)}},performMove:function(ef){var eg=ef.pageX-this.$4.x;var eh=ef.pageY-this.$4.y;var ei=((this.$1==='useClientSize')?document.body.clientWidth:document.body.scrollWidth);var ej=((this.$1==='useClientSize')?document.body.clientHeight:document.body.scrollHeight);eg=Math.max(0,Math.min(ei-tab.DoubleUtil.roundToInt(this.$2.outerWidth()),eg));eh=Math.max(0,Math.min(ej-tab.DoubleUtil.roundToInt(this.$2.outerHeight()),eh));tab.DomUtil.setElementPosition(this.$2,eg,eh)},dragEnd:function(ef){this.performMove(ef);this.$3.removeClass('dragging');if(this.$0){this.$2.removeClass('dragging')}if(ss.isValue(this.$1$2)){this.$1$2(ef)}}},null,[ss.IDisposable,bW]);ss.initClass(cV,a,{},be,[bX]);ss.initClass(cW,a,{get_isMouseEvent:function(){return this.source===1},get_isTouchEvent:function(){return this.source===2},get_isStartEvent:function(){return this.inputType===0},get_isMoveEvent:function(){return this.inputType===1},get_isOutEvent:function(){return this.inputType===3},get_isEndEvent:function(){return this.inputType===2},get_isScrollEvent:function(){return this.inputType===4},get_isRightClickEvent:function(){return this.type==='contextmenu'&&this.source===1},get_isLeftMouseEvent:function(){if(this.get_isMouseEvent()){var ef=cR.getMouseButtonEnum(this.originalEvent);if(ef==='left'){if(tab.BrowserSupport.get_isMac()&&this.ctrlKey){return false}return true}}return false},get_isCtrlKey:function(){return(tab.BrowserSupport.get_isMac()?this.metaKey:this.ctrlKey)},get_gestureInfo:function(){return this},get_allTouchesShareCurrentTarget:function(){var ef=this.touches[0].target;var eg=this.touches[1].target;if(!ss.isInstanceOfType(ef,Element)||!ss.isInstanceOfType(eg,Element)){return false}var eh=document.body;var ei=this.currentTarget;var ej=false;while(!ej&&ss.isValue(ef)&&ss.isValue(eg)){ej=true;if(!ss.referenceEquals(ef,ei)&&!ss.referenceEquals(ef,eh)&&ss.isInstanceOfType(ef,Element)){ef=ef.parentNode;ej=false}if(!ss.referenceEquals(eg,ei)&&!ss.referenceEquals(eg,eh)&&ss.isInstanceOfType(eg,Element)){eg=eg.parentNode;ej=false}if(ss.referenceEquals(ef,eg)){ej=true}}return ss.referenceEquals(ef,eg)},getSelectAction:function(){var ef='simple';var eg=this.get_isCtrlKey();if(this.shiftKey){ef='range'}if(eg){ef='toggle'}return ef},preventDefault:function(){if(typeof(this.originalEvent['preventDefault'])==='function'){this.originalEvent.preventDefault()}},stopPropagation:function(){if(typeof(this.originalEvent['stopPropagation'])==='function'){this.originalEvent.stopPropagation()}if(ss.isValue(this.reactEvent)){this.reactEvent.stopPropagation()}}});ss.initEnum(cX,a,{reset:0,commit:1,none:2});ss.initClass(cY,a,{});ss.initClass(da,a,{start:function(ef){if(ef.touches.length<this.numTouches){return}if(this.$7){return}this.$9=ef.touches[0];this.$a=ef.touches[1];this.$8=this.$5();this.$6=this.$8;var eg=this.$4();this.$0('pinchStart',ef,eg);this.$7=true},move:function(ef){if(!this.$7){return}if(ef.touches.length<2){this.end(ef);return}this.$9=ef.touches[0];this.$a=ef.touches[1];this.$6=this.$4();this.$0('pinchMove',ef,this.$6)},end:function(ef){if(ef.touches.length>this.numTouches){return}if(this.$7){this.$7=false;var eg=this.$4();this.$0('pinchEnd',ef,eg)}},$5:function(){var ef=this.$9;var eg=this.$a;var eh=eg.pageX-ef.pageX;var ei=eg.pageY-ef.pageY;var ej=Math.sqrt(eh*eh+ei*ei);var ek=ss.Int32.div(eh,2)+ef.pageX;var el=ss.Int32.div(ei,2)+ef.pageY;var em={pageX:ek,pageY:el,distance:ej};return em},$4:function(){var ef=this.$9;var eg=this.$a;var eh=eg.pageX-ef.pageX;var ei=eg.pageY-ef.pageY;var ej=Math.sqrt(eh*eh+ei*ei);var ek=ss.Int32.div(eh,2)+ef.pageX;var el=ss.Int32.div(ei,2)+ef.pageY;var em={pageX:ek,pageY:el,scale:ej/this.$8.distance,deltaX:ek-this.$8.pageX,deltaY:el-this.$8.pageY,startX:this.$8.pageX,startY:this.$8.pageY,deltaXSinceLast:ek-this.$6.pageX,deltaYSinceLast:el-this.$6.pageY};return em}},bG,[ss.IDisposable]);ss.initClass(db,a,{},cB,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cD])]);ss.initClass(dc,a,{get_viewType:function(){return db},get_viewModel:function(){return this},get_listItemCreator:function(){return this.$b},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(ef){}},cD,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cf,[Object]),bT,cq]);ss.initClass(dd,a,{});ss.initClass(df,a,{});ss.initClass(dg,a,{});ss.initClass(di,a,{});ss.initClass(dk,a,{calculateOffset:function(ef){var eg=tab.PointUtil.fromPosition(this.get_elementToChange().position());var eh={x:0,y:0};switch(this.$5){case'bottomRight':{eh.x=eg.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-ef.pageX;eh.y=eg.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-ef.pageY;break}case'topLeft':{eh.x=ef.pageX-eg.x;eh.y=ef.pageY-eg.y;break}case'left':{eh.x=ef.pageX-eg.x;break}case'right':{eh.x=eg.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-ef.pageX;break}case'top':{eh.y=ef.pageY-eg.y;break}case'bottom':{eh.y=eg.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-ef.pageY;break}}return eh},performMove:function(ef){var eg=tab.PointUtil.fromPosition(this.get_elementToChange().position());var eh=tab.DoubleUtil.roundToInt(this.get_elementToChange().width());var ei=tab.DoubleUtil.roundToInt(this.get_elementToChange().height());var ej=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientWidth:tab.DomUtil.get_documentBody().scrollWidth);var ek=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientHeight:tab.DomUtil.get_documentBody().scrollHeight);switch(this.$5){case'bottomRight':{this.get_elementToChange().width(Math.min(ef.pageX+this.get_offset().x,ej)-eg.x);this.get_elementToChange().height(Math.min(ef.pageY+this.get_offset().y,ek)-eg.y);break}case'topLeft':{this.get_elementToChange().width(eh+(eg.x-Math.max(ef.pageX-this.get_offset().x,0)));this.get_elementToChange().height(ei+(eg.y-Math.max(ef.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),eg.x+eh-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),eg.y+ei-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'left':{this.get_elementToChange().width(eh+(eg.x-Math.max(ef.pageX-this.get_offset().x,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),eg.x+eh-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),eg.y);break}case'right':{this.get_elementToChange().width(Math.min(ef.pageX+this.get_offset().x,ej)-eg.x);break}case'top':{this.get_elementToChange().height(ei+(eg.y-Math.max(ef.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),eg.x,eg.y+ei-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'bottom':{this.get_elementToChange().height(Math.min(ef.pageY+this.get_offset().y,ek)-eg.y);break}}}},cT,[ss.IDisposable,bW]);ss.initClass(dm,a,{add_contentChanged:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_contentChanged:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},add_refresh:function(ef){this.$2$2=ss.delegateCombine(this.$2$2,ef)},remove_refresh:function(ef){this.$2$2=ss.delegateRemove(this.$2$2,ef)},get_content:function(){return this.$3},set_content:function(ef){this.$3=ef;this.raiseActionEvent(this.$2$1)},get_options:function(){return this.$4},get_scrollX:function(){return(ss.isValue(this.$4.scrollX)?this.$4.scrollX:false)},set_scrollX:function(ef){this.$4.scrollX=ef;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenX=ef}},get_scrollY:function(){return(ss.isValue(this.$4.scrollY)?this.$4.scrollY:false)},set_scrollY:function(ef){this.$4.scrollY=ef;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenY=ef}},get_hasScrollBars:function(){return this.get_scrollY()||this.get_scrollX()},get_hasCustomIndicator:function(){return ss.isValue(this.$4.indicators)},set_hasCustomIndicator:function(ef){if(ef){if(ss.isNullOrUndefined(this.$4.indicators)){this.get_options().indicators=new Object;this.get_options().indicators.listenX=this.get_scrollX();this.get_options().indicators.listenY=this.get_scrollY()}}else{this.get_options().indicators=null}},get_indicatorOptions:function(){return this.get_options().indicators},$0:function(ef){this.$4={};this.set_hasCustomIndicator(ef);if(tsConfig.is_mobile){this.$1()}else{this.$2()}},$2:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom';this.$4.interactiveScrollbars=true}this.$4.mouseWheel=true;this.$4.disableMouse=true},$1:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom'}},triggerRefresh:function(){this.raiseActionEvent(this.$2$2)}},x,[ss.IDisposable,tab.IViewModel]);dm.$ctor1.prototype=dm.prototype;ss.initEnum(dp,a,{iScroll:0});ss.initClass(dr,a,{});ss.initClass(ds,a,{get_className:function(){var ef=[ss.makeGenericType(z,[Object]).prototype.get_className.call(this)];ef.push('selectable');if(this.props.isSelected){ef.push('selected');if(this.props.isButtonTextMarkedAsExcluded){ef.push('excluded')}}else{ef.push('unselected');ef.push('tab-DesignTint')}return ef.join(' ')}},ss.makeGenericType(z,[Object]));ss.initClass(dt,a,{$7:function(){return this.state.currentSelection},$6:function(){return this.props.showApplyAndCancelButtons&&!ss.referenceEquals(this.state.currentSelection,this.state.currentlyAppliedSelection)},$1:function(ef){var eg=ef;if(ss.isValue(eg)){eg=eg.clone()}return{currentlyAppliedSelection:ef,currentSelection:eg}},componentWillReceiveProps:function(ef){if(!ss.referenceEquals(ef.selection,this.state.currentlyAppliedSelection)){this.setState(this.$1(ef.selection))}},$0:function(){if(ss.referenceEquals(this.$7(),this.state.currentlyAppliedSelection)){return}this.setState(this.$1(this.$7()));if(!ss.staticEquals(this.props.onSelectionChanged,null)){this.props.onSelectionChanged(this.$7())}},$5:function(){this.setState(this.$1(this.state.currentlyAppliedSelection))},render:function(){var ef=this.props.allOption&&this.$7().groupSize>0;var eg;eg=df.generateUniqueKeys(String).call(null,_.map(this.props.items,function(ej){return ej.label}),[(ef?'__ALL__':null)]);var eh=(!ss.isNullOrEmptyString(this.props.className)?('tab-vScrollable '+this.props.className):'tab-vScrollable');if(this.props.showApplyAndCancelButtons){eh+=' apply-cancel'}var ei='tab-SelectableButtonGroup'+(this.props.hasAnyIcons?' hasIcons':'');return bk.div({className:ei},bk.div({className:eh,role:'listbox'},(ef?ss.mkdel(this,function(){return React.createElement(ds,{border:this.props.borders,label:this.props.allItem.label,tooltip:this.props.allItem.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().get_theAllItemIsSelected(),isButtonTextMarkedAsExcluded:false,onTap:ss.mkdel(this,function(ej){this.$3()}),key:'__ALL__',getCustomContentBefore:this.props.allItem.getCustomContentBefore,getCustomContentAfter:this.props.allItem.getCustomContentAfter,additionalRoles:['option']})})():null),_.map(this.props.items,ss.mkdel(this,function(ej,ek){return React.createElement(ds,{border:this.props.borders,disabled:ej.disabled,label:ej.label,tooltip:ej.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().isSelected(ek),isButtonTextMarkedAsExcluded:this.props.isSelectionExclusive,onTap:ss.mkdel(this,function(el){this.$4(ek)}),key:eg[ek],testId:ej.testId,getCustomContentBefore:ej.getCustomContentBefore,getCustomContentAfter:ej.getCustomContentAfter,tabIndex:(ej.isTabbable?0:null),additionalRoles:['option']})}))),(this.props.showApplyAndCancelButtons?ss.mkdel(this,function(){return bk.div({className:'tab-ApplyCancelPanel'},React.createElement(A,{label:this.props.applyButtonLabel,customClassName:'apply',border:false,onTap:ss.mkdel(this,function(ej){this.$0()}),disabled:!this.$6()}),React.createElement(A,{label:this.props.cancelButtonLabel,customClassName:'cancel',border:false,onTap:ss.mkdel(this,function(ej){this.$5()}),disabled:!this.$6()}))})():null))},$3:function(){this.$7().handleTapAll();this.$2()},$4:function(ef){this.$7().handleTap(ef);this.$2()},$2:function(){if(this.props.showApplyAndCancelButtons){this.setState(this.state)}else{this.$0()}}},React.Component);ss.initClass(du,a,{});ss.initClass(dw,a,{get_selecting:function(){return this.$1},get_shiftKey:function(){return this.$2},get_ctrlKey:function(){return this.$0}},ss.CancelEventArgs);ss.initEnum(dx,a,{single:0,multiGrouped:1,multiToggle:2});ss.initClass(dy,a,{didMount:function(ef,eg){var eh={};if(!ss.staticEquals(eg.pointerClick,null)){eh.tap=function(ei){eg.pointerClick(ei.reactEvent)}}if(!ss.staticEquals(eg.pointerDown,null)){eh.firstTouch=function(ei){eg.pointerDown(ei.reactEvent)}}if(!ss.staticEquals(eg.pointerUp,null)){eh.lastTouch=function(ei){eg.pointerUp(ei.reactEvent)}}this.$0.updateEventHandleSpec(ef,eh)},getHtmlAttributes:function(ef){return this.$0.get_eventHandlingAttributesForReact()},willUnmount:function(){this.$0.dispose()}},null,[Object]);ss.initClass(dz,a,{get_minWidth:function(){return this.$1$1},set_minWidth:function(ef){this.$1$1=ef}});ss.initClass(dB,a,{get_dimensions:function(){return this.$0},get_getVisibleRoomFunc:function(){return this.$1},getVisibleRoom:function(ef){if(!ss.staticEquals(this.get_getVisibleRoomFunc(),null)){return this.get_getVisibleRoomFunc()(ef)}var eg=2147483647;return{roomAbove:2147483647,roomBelow:2147483647,roomLeft:2147483647,roomRight:2147483647}}});ss.initClass(dC,a,{componentDidMount:function(){bI.add_firstTouch(ss.mkdel(this,this.$2));bI.add_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).on('resize'.toString(),ss.mkdel(this,this.$0))},componentWillUnmount:function(){bI.remove_firstTouch(ss.mkdel(this,this.$2));bI.remove_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).off('resize'.toString(),ss.mkdel(this,this.$0))},componentDidUpdate:function(){if(this.props.isSelecting){dB.getViewport(ss.mkdel(this,this.$4))}},$2:function(ef,eg){if(ss.isValue(this.$6)&&this.$6.contains(ef.target)){return}this.props.onFocusLost()},$1:function(){this.props.onFocusLost()},$0:function(ef){if(this.props.isSelecting){dB.getViewport(ss.mkdel(this,this.$4))}},$4:function(ef){var eg=ReactDOM.findDOMNode(this.refs['selector']);var eh=ReactDOM.findDOMNode(this.refs['relative']);if(ss.isNullOrUndefined(eg)||ss.isNullOrUndefined(eh)){return}var ei=$(eg);var ej=this.props.getDesiredHeight(ei);var ek=$(eh);var el=tab.PointUtil.fromPosition(ek.offset());var em=ef.getVisibleRoom(el);var en=ek.innerHeight();var eo=em.roomBelow-en-3;var ep=em.roomAbove-3;var eq=eo>=Math.min(ej,ep);var er=(eq?eo:ep);ej=Math.min(ej,ss.Int32.trunc(er));var es=(eq?'auto':(en+'px'));var et=(eq?(en+'px'):'auto');ei.css('bottom',es);ei.css('top',et);ei.height(ej);if(!ss.staticEquals(this.props.getMinimumWidth,null)){var eu=this.props.getMinimumWidth(ei);if(eu>em.roomRight){var ev=eu-em.roomRight+13;ei.css('left',-1*ev+'px')}ei.css('min-width',eu)}},$3:function(ef){if(!ss.staticEquals(this.props.onKeyDown,null)){this.props.onKeyDown(ef)}},render:function(){var ef='tab-Dropdown';if(!ss.isNullOrUndefined(this.props.styleClass)){ef+=' '+this.props.styleClass}return bk.div({className:ef,role:'combobox',onKeyDown:ss.mkdel(this,this.$3),'aria-expanded':this.props.isSelecting,ref:this.$5},bu.div({tap:ss.mkdel(this,function(eg){this.props.onSelectorToggled()})},{className:'tab-DropdownButton',role:'button',tabIndex:ss.coalesce(this.props.tabIndex,0),ref:'relative'},[this.props.renderButton()]),(this.props.isSelecting?this.renderSelector():null))},renderSelector:function(){return[bk.div({className:'tab-SelectorContainerOuter',key:'selector-container-outer',ref:'selector'},bk.div({className:'tab-SelectorContainer',key:'selector-container'},this.props.children))]}},React.Component);ss.initClass(dD,a,{$f:function(){if(ss.isNullOrUndefined(this.$i)){return null}var ef=this.$i.value;if(ss.isNullOrEmptyString(ef)){return null}var eg=parseInt(tableau.format.convertFullwidthNumberToAscii(ef));return this.$c(eg)},$g:function(){if(ss.isNullOrUndefined(this.$j)){return 0}var ef=parseInt(this.$j.value);return this.$c(ef)},componentWillMount:function(){this.$0()},componentWillUnmount:function(){this.$a()},$0:function(){this.$b();bI.add_dragEnd(ss.mkdel(this,this.$3))},$a:function(){bI.remove_dragEnd(ss.mkdel(this,this.$3))},$b:function(){this.$h=false},$3:function(ef,eg){if(this.$h){this.$2(this.$g(),false);this.$b()}},render:function(){var ef=bk.input({type:'range',value:this.props.value.toString(),min:this.props.minValue,max:this.props.maxValue,className:'tabHorizontalSlider',style:{width:this.props.width},disabled:this.props.disabled,onInput:ss.mkdel(this,this.$4),onChange:ss.mkdel(this,this.$4),onMouseUp:ss.mkdel(this,this.$6),onMouseDown:ss.mkdel(this,this.$5),ref:ss.mkdel(this,this.$e),key:'sliderInput'});var eg={type:'text',value:(this.props.emptyTextBox?'':this.props.value.toString()),className:'tabHorizontalSliderPercentageText',disabled:this.props.disabled,onInput:ss.mkdel(this,this.$8),onChange:ss.mkdel(this,this.$8),onKeyUp:ss.mkdel(this,this.$9),onBlur:ss.mkdel(this,this.$7),ref:ss.mkdel(this,this.$d),key:'sliderBox'};if(ss.isValue(this.props.tabIndex)){eg.tabIndex=ss.unbox(this.props.tabIndex)}var eh=bk.input(eg);var ei=[];ei.push(eh);if(this.props.showPercentageSign){ei.push(bk.div({className:'tabHorizontalSliderPercentageSign',key:'percentageSign'},'%'))}return bk.div({className:this.props.styleClass+(this.props.disabled?' disabled':'')+(ss.isNullOrUndefined(this.props.extraCssClass)?'':(' '+this.props.extraCssClass))},bk.div({className:'unification-slider-control tabHorizontalSliderContainer'},ef),ei)},$7:function(ef){this.$2(ss.coalesce(this.$f(),0),false)},$9:function(ef){if(ef.which===13){this.$2(ss.coalesce(this.$f(),0),true)}},$8:function(ef){this.$1(this.$f())},$6:function(ef){if(this.$h){this.$2(this.$g(),false)}else{this.$1(this.$g())}},$5:function(ef){this.$h=true},$4:function(ef){this.$1(this.$g())},$1:function(ef){if(this.props.disabled){return}this.props.displayValueChanged(ef)},$2:function(ef,eg){if(this.props.disabled){return}this.props.commitValue(ef,eg)},$e:function(ef){this.$j=null;if(ss.isValue(ef)){this.$j=ef}},$d:function(ef){this.$i=null;if(ss.isValue(ef)){this.$i=ef}},$c:function(ef){if(_.isNaN(ef)||ef<this.props.minValue){return this.props.minValue}else if(ef>this.props.maxValue){return this.props.maxValue}return ef}},de);ss.initClass(dE,a,{},cs,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(dF,a,{updateWidgetState:function(ef){this.get_widget().set_label(ef.label);this.get_widget().set_disabled(ss.coalesce(ef.disabled,false));this.get_widget().set_hoverTooltipText(ef.tooltipText)},handleWidgetPropertyChanged:function(ef,eg){}},ss.makeGenericType(dj,[cs,Object,Object]));ss.initClass(dG,a,{});ss.initClass(dH,a,{add_tabChanged:function(ef){this.$1$1=ss.delegateCombine(this.$1$1,ef)},remove_tabChanged:function(ef){this.$1$1=ss.delegateRemove(this.$1$1,ef)},get_domRoot:function(){return this.$5.get_root()},get_tabs:function(){return this.$5.get_tabs()},get_contentArea:function(){return this.$5.get_contentArea()},get_activeTabId:function(){return this.$4},set_activeTabId:function(ef){if(!ss.referenceEquals(this.$4,ef)){this.$4=ef;if(ss.isValue(this.$1$1)){this.$1$1()}}},addTab:function(ef,eg,eh,ei){if(ss.keyExists(this.$3,ef)){return}var ej=this.$5.createTabLabel(ef,eg);ej.domRoot.addClass('tabTabLabelId-'+ef);var ek=new dO(ej.domRoot);var el=ss.mkdel(this,function(em,en){if(en.get_propertyName()==='selected'&&ek.get_selected()){this.$0(eh.get_rootElement(),ef)}});ek.add_propertyChanged(el);this.$2.add$1(new tab.CallOnDispose(function(){ek.remove_propertyChanged(el)}));this.$2.add$1(ek);this.$1.addItem(ek);this.$3[ef]=ek;this.$5.get_tabs().append(ej.domRoot);eh.addToDom(this.$5.get_contentArea());if(ei){this.selectTab(ef)}else{ek.set_disabled(true)}},selectTab:function(ef){if(!ss.keyExists(this.$3,ef)){return}this.$1.selectItem(this.$3[ef])},enableTab:function(ef,eg){if(!ss.keyExists(this.$3,ef)){return}this.$3[ef].set_disabled(!eg);this.selectTab(this.get_activeTabId())},dispose:function(){this.$2.dispose();this.$1.dispose()},$0:function(ef,eg){this.$5.get_contentArea().children().hide();ef.show();this.set_activeTabId(eg)}},null,[ss.IDisposable]);ss.initClass(dI,a,{$9:function(ef){this.$1$1=ss.delegateCombine(this.$1$1,ef)},$a:function(ef){this.$1$1=ss.delegateRemove(this.$1$1,ef)},$5:function(ef){this.$1$2=ss.delegateCombine(this.$1$2,ef)},$6:function(ef){this.$1$2=ss.delegateRemove(this.$1$2,ef)},$7:function(ef){this.$1$3=ss.delegateCombine(this.$1$3,ef)},$8:function(ef){this.$1$3=ss.delegateRemove(this.$1$3,ef)},$b:function(ef){this.$1$4=ss.delegateCombine(this.$1$4,ef)},$c:function(ef){this.$1$4=ss.delegateRemove(this.$1$4,ef)},get_stopPropagationOnEvent:function(){return this.$4},set_stopPropagationOnEvent:function(ef){this.$4=ef},dispose:function(){if(ss.isValue(this.handler)){this.handler.dispose();this.handler=null}this.$1.dispose()},onPress:function(ef){this.$9(ef);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(ef)})));return this},onClick:function(ef){this.$5(ef);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6(ef)})));return this},onDoubleClick:function(ef){this.$7(ef);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8(ef)})));this.$0('doubleTap',ss.mkdel(this,this.handleDoubleClickEvent));return this},onRightClick:function(ef){this.$b(ef);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c(ef)})));return this},$0:function(ef,eg){if(!bw.isHandling(this.eventConfig,ef)){var eh={};bw.setHandler(eh,ef,eg);this.handler.update(eh);$.extend(this.eventConfig,eh)}},raiseEvent:function(ef,eg,eh){if(ss.isValue(eg)){if(eh){ef.stopPropagation()}eg(ef)}},handlePressEvent:function(ef){this.$2=ef.pageX;this.$3=ef.pageY;this.raiseEvent(ef,this.$1$1,false)},handleClickEvent:function(ef){this.raiseEvent(ef,this.$1$2,this.$4);if(ef.type==='touchend'){F.preventGhostClick(this.$2,this.$3,ef.target)}},handleDoubleClickEvent:function(ef){this.raiseEvent(ef,this.$1$3,this.$4)},handleRightClickEvent:function(ef){ef.preventDefault();this.raiseEvent(ef,this.$1$4,this.$4)}},null,[ss.IDisposable]);ss.initClass(dJ,a,{get_domElement:function(){return this.config.domElem},setupEventRecognizer:function(ef){this.$2=new by(ef);this.$2.setupPressDrag(ef)},suppressHover:function(){if(bw.isUsingHover(this.config)){this.$2.suppressHover()}},unsuppressHover:function(){if(bw.isUsingHover(this.config)){this.$2.unsuppressHover()}},cancelHover:function(){if(bw.isUsingHover(this.config)){this.$2.cancelHover()}},getHandledEvents:function(){var ef=[];var eg=this.config;var eh=ss.getEnumerator(Object.keys(eg));try{while(eh.moveNext()){var ei=eh.current();if(ss.isValue(eg[ei])&&ss.referenceEquals(ss.getInstanceType(eg[ei]),Function)){ef.push(ei)}}}finally{eh.dispose()}return ef},update:function(ef){$.extend(this.config,ef);this.$2.updateAllGestures(this.config);this.$2.setupPressDrag(this.config)},destroy:function(){this.dispose()},dispose:function(){if(ss.isValue(this.$3)){var ef=ss.getEnumerator(cW.get_allHandledEvents());try{while(ef.moveNext()){var eg=ef.current();this.$3.domElement.removeEventListener(eg.toString(),this.$3.eventHandler)}}finally{ef.dispose()}}if(ss.isValue(this['debugger'])){this['debugger']['destroy']()}this.$2.dispose()},configureDomElem:function(ef){if(!ss.equalsT(ef.tagName.toLowerCase(),'input')&&(ss.isNullOrUndefined(ef.style['user-select'])||ss.staticEquals(ef.style['user-select'],''))&&(ss.isNullOrUndefined(ef.style['-webkit-user-select'])||ss.staticEquals(ef.style['-webkit-user-select'],''))){ef.style['-webkit-user-select']='none'}ef.style['-webkit-touch-callout']='none';ef.style['-webkit-tap-highlight-color']='transparent';ef.style['-ms-touch-action']='none'},$1:function(ef){if(ef.touches.length>1&&!ef.get_allTouchesShareCurrentTarget()){this.$2.cancelAllGestures();return true}return false},handler:function(ef){var eg=!tsConfig.is_mobile&&ef.get_isTouchEvent();var eh=tab.DomUtil.handleTouchEvents(ef.target);if(eg&&!eh){return}else if(eg&&eh){if(ss.keyExists(ef.originalEvent,'preventDefault')){ef.originalEvent.preventDefault()}}if(this.$1(ef)){return}this.$2.handleEvent(ef,this.config)},$0:function(ef){var eg=ss.mkdel(this,function(ej){var ek=cW.create(ej,this.config.domElem,null);this.handler(ek)});this.$3={domElement:ef,eventHandler:eg};var eh=ss.getEnumerator(cW.get_allHandledEvents());try{while(eh.moveNext()){var ei=eh.current();ef.addEventListener(ei.toString(),eg,false)}}finally{eh.dispose()}}},null,[ss.IDisposable]);dJ.$ctor1.prototype=dJ.prototype;ss.initClass(dK,a,{get_eventHandlingAttributesForReact:function(){return this.$2$1},set_eventHandlingAttributesForReact:function(ef){this.$2$1=ef},updateEventHandleSpec:function(ef,eg){this.config=eg||{};this.config.domElem=ef;this.configureDomElem(ef);this.setupEventRecognizer(this.config)},$4:function(){var ef={};var eg=ss.mkdel(this,function(ek){var el=cW.create(ek.nativeEvent,this.config.domElem,ek);this.handler(el)});var eh=ss.getEnumerator(cW.get_allHandledEvents());try{while(eh.moveNext()){var ei=eh.current();var ej=dK.$0(ei);if(ss.isValue(ej)){ef[ej]=eg}else{}}}finally{eh.dispose()}return ef}},dJ,[ss.IDisposable]);ss.initClass(dM,a,{render:function(){var ef='tab-SelectionText'+(this.props.isSelectionTextMarkedAsExcluded?' excluded':'');var eg=ss.coalesce(this.props.styleClass,'tab-unification-outline-dropdown');return React.createElement(bF,{styleClass:'tab-TextDropdownButton '+eg,selectionDisplay:ss.mkdel(this,function(){return[(!ss.isNullOrEmptyString(this.props.selectionIconClass)?ss.mkdel(this,function(){return bk.span({className:'tab-Icon '+this.props.selectionIconClass,key:'icon'})})():null),bk.span({className:ef,key:'text'},this.props.selectionText)]})})}},de);ss.initClass(dP,a,{add_toggled:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_toggled:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},get_toggleValue:function(){return this.$0},set_toggleValue:function(ef){if(ef!==this.get_toggleValue()){this.raiseToggled()}this.$0=ef},get_data:function(){return this.$2$2},set_data:function(ef){this.$2$2=ef},raiseToggled:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},x,[ss.IDisposable,tab.IViewModel]);ss.initEnum(dQ,a,{left:0,center:1,right:2});ss.initEnum(dR,a,{left:0,right:1});ss.initEnum(dS,a,{blockAndAutoHide:0,doNotBlockAndAutoHide:1,doNotBlockAndStayOpen:2});ss.initClass(dT,a,{isPopupHeightLimited:function(){return this.limitPopupHeight||ss.isValue(this.maxPopupHeight)}});dT.$ctor1.prototype=dT.prototype;ss.initClass(dU,a,{get_caretHeight:function(){if(!ss.isValue(dU.$1)){dU.$1=tab.DoubleUtil.roundToInt(this.caret.outerHeight())}return ss.unbox(dU.$1)}},dL,[ss.IDisposable]);ss.initEnum(dV,a,{standard:0,minimalist:1});ss.initClass(dW,a,{get_uberPopupShadowHeight:null,get_uberPopupMinimalistShadowHeight:function(){return 0},get_width:function(){return this.element.outerWidth(false)},get_height:function(){return this.element.outerHeight(false)},get_dom:function(){return this.get_template()},$6:function(){this.element.attr('tabindex','-1').on('keydown',ss.mkdel(this,function(ef){if(ef.which===27&&!(ef.metaKey||ef.shiftKey||ef.ctrlKey||ef.altKey)){this.get_viewModel().hide(false);ef.preventDefault();ef.stopPropagation()}}));if(this.get_viewModel().options.popupMode===0){this.get_viewModel().add_shown(ss.mkdel(this,function(){bD.trapFocus(this.element)}))}},dispose:function(){this.disposeContent();this.popupViewModel.remove_shown(ss.mkdel(this,this.shown));this.popupViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.disposeGlass();this.$a();ss.makeGenericType(w,[dX]).prototype.dispose.call(this)},disposeContent:function(){if(ss.isValue(this.contentView)){this.contentView.dispose()}},updateMode:function(){if(!this.visible){return}switch(this.popupViewModel.get_mode()){case 0:{this.$a();this.showGlass();break}case 1:{this.hideGlass();this.$5();break}case 2:{this.$a();this.hideGlass();break}}},onViewModelPropertyChanged:function(ef,eg){if(eg.get_propertyName()==='mode'){this.updateMode()}else if(eg.get_propertyName()==='size'){this.positionPopup()}else if(eg.get_propertyName()==='content'){this.updateContent()}},shown:function(){var ef=this.get_viewModel().options;this.updateContent();this.visible=true;this.updateMode();if(ef.theme===1){this.element.addClass('tabUberPopupMinimal')}if(ef.useCaret){this.get_dom().domRoot.addClass('tabUberCaretStyle')}this.element.css('left','0px').css('top','0px');this.element.appendTo('body');this.contentView.addToDom(this.get_template().content);if(ss.isValue(ef.additionalClassNames)){ef.additionalClassNames.forEach(ss.mkdel(this,function(eg){this.element.addClass(eg)}))}if(this.popupViewModel.options.isToolbarFlyout&&tsConfig.is_mobile){this.element.show();this.positionPopup()}else{this.element.hide();this.positionPopup();this.element.show();if(this.get_viewModel().options.focusOnShown){window.setTimeout(ss.mkdel(this,function(){if(!$.contains(this.element[0],document.activeElement)){this.element.focus()}}))}}},hidden:function(){this.visible=false;this.hideGlass();this.element.hide();this.element.detach()},showGlass:function(){if(ss.isNullOrUndefined(this.glass)){this.glass=new bH;this.glass.set_zIndex(this.popupViewModel.options.glassZIndex);this.glass.add_click(ss.mkdel(this,this.glassClicked))}this.glass.show()},hideGlass:function(){if(ss.isValue(this.glass)){this.glass.hide()}},disposeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},glassClicked:function(){this.element.fadeOut(50,ss.mkdel(this,function(){this.popupViewModel.hide(true)}))},$5:function(){bI.add_firstTouch(ss.mkdel(this,this.$8));bI.add_dismissTemporaryElements(ss.mkdel(this,this.$7))},$a:function(){bI.remove_firstTouch(ss.mkdel(this,this.$8));bI.remove_dismissTemporaryElements(ss.mkdel(this,this.$7))},$8:function(ef,eg){if(this.get_template().domRoot.get(0).contains(ef.target)){return}if(ss.isValue(this.popupViewModel.options.globalTouchWhitelist)){for(var eh=0;eh<this.popupViewModel.options.globalTouchWhitelist.length;eh++){var ei=this.popupViewModel.options.globalTouchWhitelist[eh];if(ei.contains(ef.target)){return}}}this.popupViewModel.hide(false)},$7:function(){this.popupViewModel.hide(false)},positionPopup:function(){if(ss.isNullOrUndefined(this.get_viewModel().get_relativeElement())||this.get_viewModel().get_relativeElement().length<1){return}this.get_viewModel().get_resizeContent()(this.get_template().content,this.element);this.element.css('z-index',this.popupViewModel.options.glassZIndex+1);var ef=this.get_viewModel().options;if(!ef.isPopupHeightLimited()){this.element.css('max-height','100%')}this.positionPopupHorizontally();if(ef.isToolbarFlyout){this.$9()}else{this.positionPopupVertically()}this.get_dom().caret.toggle(ef.useCaret);this.get_dom().caretBorder.toggle(ef.useCaret)},positionPopupHorizontally:function(){var ef=this.get_viewModel().options;var eg=this.get_viewModel().get_relativeElement();var eh=$(eg.prop('ownerDocument'));var ei=this.get_width();var ej=tab.DomUtil.getPageOffset$1(eg).left;if(ef.horizontalAlign===1){ej+=eg.outerWidth(false)/2;ej-=ei/2}else if(ef.horizontalAlign===2){ej+=eg.outerWidth(false);ej-=ei}var ek=ej+ei-eh.width();if(ek>0){ej-=ek}if(ef.horizontalAttach===0){this.element.css('right','');this.element.css('left',Math.max(ej,0)+'px')}else{var el=$('body').outerWidth(true);var em=el-(ej+ei);em-=Math.max(0,em+ei-el);this.element.css('left','');this.element.css('right',em+'px')}if(ef.isToolbarFlyout){this.element.css('min-width',tab.DoubleUtil.roundToInt(eg.outerWidth(false)))}},$9:function(){var ef=this.get_viewModel().options;var eg=this.get_viewModel().get_relativeElement();var eh=$('body');var ei=tab.DomUtil.getPageOffset$1(eg).top;if(ef.preferUp){ei+=1;ei+=(ef.coverRelativeElement?eg.outerHeight(false):0);var ej=eh.outerHeight(true);this.element.css('top','');this.element.css('bottom',ss.Int32.trunc(ej-ei)+'px')}else{ei-=1;ei+=(ef.coverRelativeElement?0:eg.outerHeight(false));this.element.css('bottom','');this.element.css('top',ss.Int32.trunc(ei)+'px')}},positionPopupVertically:function(){var ef=this.get_viewModel().options;var eg=this.get_viewModel().get_relativeElement();var eh=tab.DomUtil.getPageOffset$1(eg);var ei=tab.DomUtil.roomAroundPosition(eh);var ej=eg.outerHeight(false);var ek=((ef.theme===1)?this.get_uberPopupMinimalistShadowHeight():this.get_uberPopupShadowHeight());if(ef.isPopupHeightLimited()){this.$b(ei,ek,ej)}var el=this.get_height();var em=ei.roomBelow>=el+ej+ek;var en=ei.roomAbove>el+ek;var eo=this.popupViewModel.options.useCaret;if(eo){en=ei.roomAbove>el+this.get_dom().get_caretHeight()+4+ek}var ep=eh.top+ej;var eq=eh.top-el;var er;if(ef.preferUp&&en){er=eq}else if(em&&!eo){er=ep}else if(en){er=eq}else if(ei.roomBelow>=ei.roomAbove&&!eo){er=eh.top-(el-ei.roomBelow+ek)}else{er=eh.top-ei.roomAbove+ek}if(eo){er-=this.get_dom().get_caretHeight()+4}this.element.css('top',er+'px')},$b:function(ef,eg,eh){var ei=this.get_viewModel().options;var ej=null;if(ei.limitPopupHeight){ej=Math.max(ef.roomAbove,ef.roomBelow-eh)-eg}if(ss.isValue(ei.maxPopupHeight)){var ek=ej;if(ss.isNullOrUndefined(ek)){ek=Number.MAX_VALUE}var el=ek;ej=Math.min(el,ss.unbox(ei.maxPopupHeight))}if(ss.isValue(ej)){this.element.css('max-height',ej+'px')}},updateContent:function(){this.disposeContent();var ef=this.get_template().content;ef.children().detach();this.contentView=this.get_viewModel().createContentView();if(this.visible){this.contentView.addToDom(ef)}}},ss.makeGenericType(w,[dX]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dX])]);ss.initClass(dX,a,{add_shown:function(ef){this.$2$1=ss.delegateCombine(this.$2$1,ef)},remove_shown:function(ef){this.$2$1=ss.delegateRemove(this.$2$1,ef)},add_hidden:function(ef){this.$2$2=ss.delegateCombine(this.$2$2,ef)},remove_hidden:function(ef){this.$2$2=ss.delegateRemove(this.$2$2,ef)},add_commit:function(ef){this.$2$3=ss.delegateCombine(this.$2$3,ef)},remove_commit:function(ef){this.$2$3=ss.delegateRemove(this.$2$3,ef)},get_mode:function(){return this.options.popupMode},set_mode:function(ef){if(this.options.popupMode===ef){return}this.options.popupMode=ef;this.notifyPropertyChanged('mode')},get_content:function(){return this.$0},set_content:function(ef){this.$0=ef;if(ss.isValue(this.$0)){this.$0.updateUberPopupViewModel(this)}this.notifyPropertyChanged('content');this.notifyPropertyChanged('size')},set_disposeOnHide:function(ef){this.remove_hidden(ss.mkdel(this,this.dispose));if(ef){this.add_hidden(ss.mkdel(this,this.dispose))}},get_relativeElement:function(){return this.$1()},set_relativeElement:function(ef){this.$1=function(){return ef}},get_resizeContent:function(){return this.$2$4},set_resizeContent:function(ef){this.$2$4=ef},createContentView:function(){return tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.get_content().get_viewType(),[this.get_content().get_viewModel()])},updatePosition:function(){this.notifyPropertyChanged('size')},show:function(){if(ss.isNullOrUndefined(this.$2$1)){return}this.$2$1()},hide:function(ef){if(ef&&ss.isValue(this.$2$3)){this.$2$3()}this.raiseActionEvent(this.$2$2)},addDisposables:function(ef){this.disposables.add$1(ef)}},x,[ss.IDisposable,tab.IViewModel]);dX.$ctor1.prototype=dX.prototype;ss.initClass(dY,a,{});ss.initClass(dZ,a,{},cO);ss.initClass(ea,a,{},cO);ss.initClass(eb,a,{render:function(){var ef=this.state.displayValue;if(this.props.disabled&&ss.isValue(this.props.disabledText)){ef=this.props.disabledText}var eg=bk.input({type:'text',value:ef,onChange:ss.mkdel(this,this.$8),onBlur:ss.mkdel(this,this.$0),disabled:this.props.disabled,maxLength:this.props.maxLength,onKeyDown:ss.mkdel(this,this.$5),onKeyUp:ss.mkdel(this,this.$6)});var eh=bk.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-vertical'},bu.div({tap:ss.mkdel(this,function(ej){this.$7()})},{className:'tab-unification-spinner-btn'},[bk.span({className:'tab-img-triangle-up'})]),bu.div({tap:ss.mkdel(this,function(ej){this.$2()})},{className:'tab-unification-spinner-btn'},[bk.span({className:'tab-img-triangle-down'})]));var ei=bk.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},eg,eh);if(ss.isValue(this.props.label)){ei=bk.div(null,bk.span({className:'tab-unification-spinner-label'+(this.props.disabled?' disabled':'')},this.props.label),ei)}ei=bk.div({className:ss.coalesce(this.props.styleClass,'tab-outline-spinner')},ei);if(ss.isValue(this.props.extraCssClass)){ei=bk.div({className:this.props.extraCssClass},ei)}return ei},componentWillReceiveProps:function(ef){this.setState(eb.$0(ef.initialValue))},componentWillUnmount:function(){this.$1()},$8:function(ef){this.$1();var eg=ef.target;this.setState({value:this.state.value,pendingValue:this.state.pendingValue,displayValue:eg.value})},$0:function(ef){this.$1();var eg={};if(!ss.Int32.tryParse(this.state.displayValue,eg)){eg.$=this.state.value}this.$a(eg.$)},$5:function(ef){switch(ef.keyCode){case 38:{this.$1();this.$9(this.state.pendingValue+this.props.stepSize);break}case 40:{this.$1();this.$9(this.state.pendingValue-this.props.stepSize);break}case 13:{this.$0(null);break}}},$6:function(ef){switch(ef.keyCode){case 38:case 40:{this.$3(this.state.pendingValue);break}}},$7:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue+this.props.stepSize)},$2:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue-this.props.stepSize)},$3:function(ef){this.$1();if(this.props.actionDelay===0){this.$a(ef)}else{this.$9(ef);this.$b=window.setTimeout(ss.mkdel(this,function(){this.$a(this.state.pendingValue)}),this.props.actionDelay)}},$1:function(){this.$b=tab.MiscUtil.clearTimeout(this.$b)},$a:function(ef){ef=this.$4(ef);var eg=ef!==this.state.value;this.setState(eb.$0(ef));if(eg&&!ss.staticEquals(this.props.onValueChanged,null)){this.props.onValueChanged(ef)}},$4:function(ef){if(ss.isValue(this.props.minValue)){ef=Math.max(ef,ss.unbox(this.props.minValue))}if(ss.isValue(this.props.maxValue)){ef=Math.min(ef,ss.unbox(this.props.maxValue))}return ef},$9:function(ef){ef=this.$4(ef);this.setState({value:this.state.value,pendingValue:ef,displayValue:ef.toString()})}},React.Component);ss.initClass(ec,a,{});ss.initClass(ee,a,{});(function(){bk.a=bk.$0('a');bk.abbr=bk.$0('abbr');bk.address=bk.$0('address');bk.area=bk.$0('area');bk.article=bk.$0('article');bk.aside=bk.$0('aside');bk.audio=bk.$0('audio');bk.b=bk.$0('b');bk.base=bk.$0('base');bk.bdi=bk.$0('bdi');bk.bdo=bk.$0('bdo');bk.big=bk.$0('big');bk.blockquote=bk.$0('blockquote');bk.body=bk.$0('body');bk.br=bk.$0('br');bk.button=bk.$0('button');bk.canvas=bk.$0('canvas');bk.caption=bk.$0('caption');bk.cite=bk.$0('cite');bk.code=bk.$0('code');bk.col=bk.$0('col');bk.colgroup=bk.$0('colgroup');bk.data=bk.$0('data');bk.datalist=bk.$0('datalist');bk.dd=bk.$0('dd');bk.del=bk.$0('del');bk.details=bk.$0('details');bk.dfn=bk.$0('dfn');bk.dialog=bk.$0('dialog');bk.div=bk.$0('div');bk.dl=bk.$0('dl');bk.dt=bk.$0('dt');bk.em=bk.$0('em');bk.embed=bk.$0('embed');bk.fieldset=bk.$0('fieldset');bk.figcaption=bk.$0('figcaption');bk.figure=bk.$0('figure');bk.footer=bk.$0('footer');bk.form=bk.$0('form');bk.h1=bk.$0('h1');bk.h2=bk.$0('h2');bk.h3=bk.$0('h3');bk.h4=bk.$0('h4');bk.h5=bk.$0('h5');bk.h6=bk.$0('h6');bk.head=bk.$0('head');bk.header=bk.$0('header');bk.hgroup=bk.$0('hgroup');bk.hr=bk.$0('hr');bk.html=bk.$0('html');bk.i=bk.$0('i');bk.iframe=bk.$0('iframe');bk.img=bk.$0('img');bk.input=bk.$0('input');bk.ins=bk.$0('ins');bk.kbd=bk.$0('kbd');bk.keygen=bk.$0('keygen');bk.label=bk.$0('label');bk.legend=bk.$0('legend');bk.li=bk.$0('li');bk.link=bk.$0('link');bk.main=bk.$0('main');bk.map=bk.$0('map');bk.mark=bk.$0('mark');bk.menu=bk.$0('menu');bk.menuitem=bk.$0('menuitem');bk.meta=bk.$0('meta');bk.meter=bk.$0('meter');bk.nav=bk.$0('nav');bk.noscript=bk.$0('noscript');bk.object=bk.$0('object');bk.ol=bk.$0('ol');bk.optgroup=bk.$0('optgroup');bk.option=bk.$0('option');bk.output=bk.$0('output');bk.p=bk.$0('p');bk.param=bk.$0('param');bk.picture=bk.$0('picture');bk.pre=bk.$0('pre');bk.progress=bk.$0('progress');bk.q=bk.$0('q');bk.rp=bk.$0('rp');bk.rt=bk.$0('rt');bk.ruby=bk.$0('ruby');bk.s=bk.$0('s');bk.samp=bk.$0('samp');bk.script=bk.$0('script');bk.section=bk.$0('section');bk.select=bk.$0('select');bk.small=bk.$0('small');bk.source=bk.$0('source');bk.span=bk.$0('span');bk.strong=bk.$0('strong');bk.style=bk.$0('style');bk.sub=bk.$0('sub');bk.summary=bk.$0('summary');bk.sup=bk.$0('sup');bk.table=bk.$0('table');bk.tbody=bk.$0('tbody');bk.td=bk.$0('td');bk.textarea=bk.$0('textarea');bk.tfoot=bk.$0('tfoot');bk.th=bk.$0('th');bk.thead=bk.$0('thead');bk.time=bk.$0('time');bk.title=bk.$0('title');bk.tr=bk.$0('tr');bk.track=bk.$0('track');bk.u=bk.$0('u');bk.ul=bk.$0('ul');bk.var=bk.$0('var');bk.video=bk.$0('video');bk.wbr=bk.$0('wbr');bk.circle=bk.$1('circle');bk.clipPath=bk.$1('clipPath');bk.defs=bk.$1('defs');bk.ellipse=bk.$1('ellipse');bk.g=bk.$1('g');bk.image=bk.$1('image');bk.line=bk.$1('line');bk.linearGradient=bk.$1('linearGradient');bk.mask=bk.$1('mask');bk.path=bk.$1('path');bk.pattern=bk.$1('pattern');bk.polygon=bk.$1('polygon');bk.polyline=bk.$1('polyline');bk.radialGradient=bk.$1('radialGradient');bk.rect=bk.$1('rect');bk.stop=bk.$1('stop');bk.svg=bk.$1('svg');bk.text=bk.$1('text');bk.tspan=bk.$1('tspan')})();(function(){bA.$0=0})();(function(){dq.$1=null;dq.$1={};dq.$1[0]=b})();(function(){e.$0="<span class='tabTabLabel' />"})();(function(){d.$0="<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"})();(function(){cR.$2=null;cR.$3=null;cR.$1=false})();(function(){i.$3={};i.$9={};i.$6={};i.$5={};i.$7={};i.$8={};i.$4={};i.$2()})();(function(){cW.$0=0})();(function(){k.$3=new Array(10)})();(function(){l.$0="\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"})();(function(){n.$0="<div class='tab-editable-text-view'><div><div class='view-mode'><span class = 'text-span'/></div><input class='edit-mode' type='text'/></div></div>"})();(function(){o.$0="<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"})();(function(){bI.$1$1=null;bI.$1$2=null;bI.$1$3=null;bI.$1$4=null;bI.$1$5=null;bI.$1$6=null;bI.$1$7=null})();(function(){bD.$8='tab-showFocusIndicator';bD.$7='keydown.'+ss.getTypeName(bD);bD.$a=2;bD.$9=null})();(function(){bE.$6=null;bE.$5=null;bE.$4=null;bE.$8=null;bE.$7=null;bE.$3='#centeringContainer';bE.$1$1=null;bE.$6=bE.$0(document,['fullscreenEnabled','webkitFullscreenEnabled','msFullscreenEnabled','mozFullScreenEnabled']);bE.$5=bE.$0(document,['fullscreenElement','webkitFullscreenElement','msFullscreenElement','mozFullScreenElement']);bE.$4=bE.$0(document,['exitFullscreen','webkitExitFullscreen','msExitFullscreen','mozCancelFullScreen']);bE.$8=bE.$0(document.documentElement,['requestFullscreen','webkitRequestFullscreen','msRequestFullscreen','mozRequestFullScreen']);bE.$7=bE.$0(document,['onfullscreenchange','onwebkitfullscreenchange','onMSFullscreenChange','onmozfullscreenchange']);if(ss.isValue(bE.$7)&&bE.get_fullscreenEnabled()){document.addEventListener(bE.get_fullscreenChangeEventName().toString(),bE.$1)}bE.add_fullscreenStateChanged(bE.$2)})();(function(){ed.$2='widgetInstance';ed.$1='tab-widget';ed.$0='.tab-disableSelection';ed.$3=0;ed.selectableNodeClass=null;if(tab.FeatureParamsLookup.getBool(33)===true){$(document.head).append('<style type="text/css">.tab-DesignTint { background-color: #F1F1FC; }</style>')}ed.selectableNodeClass='tab-selectable'})();(function(){F.suppressClickBustingClass='suppressClickBusting';F.$2=25;F.$3=null;F.$1$1=null})();(function(){cQ.$8=null})();(function(){Y.noOp=new Y('cursors/dragnop-black.cur','auto');Y.delete$1=new Y('cursors/dragdel-black.cur','auto');Y.copy=new Y('cursors/dragcopy-black.cur','auto');Y.move=new Y('cursors/dragmove-black.cur','auto')})();(function(){ee.$4={};ee.$7=null;ee.$6=1;ee.$5=1;window.addEventListener('message',ss.thisFix(ee.$0),false)})();(function(){bM.hoverTime=150;bM.fastHoverTime=120})();(function(){bG.defaultSlop=5;bG.doubleTapTime=390;bG.potentialPressTime=500;bG.pressTime=750;bG.$1='tab-'})();(function(){bH.glassClass='tab-glass';bH.$1="<div class='tab-glass clear-glass'></div>";bH.$0='clear-glass';bH.$2='opaque-glass'})();(function(){bm.$h='data-tab-drag-source';bm.$j='[data-tab-drag-source]';bm.$i='tabDragSource';bm.$k='data-tab-drop-target';bm.$l='tabDropTarget';bm.$n='[data-tab-drop-target]';bm.$m='tabDropTarget';bm.$p=null;bm.$q=null;bm.$x=null;bm.$w=null;bm.$z=null;bm.$y=0;bm.$o=null;bm.$v=null;bm.$s=null;bm.$t=null;bm.$A=[];bm.$u=null;bm.$r=null;bm.$1$1=null;bm.$1$2=null;bm.$1$3=null;bm.$1$4=null;bm.$1$5=null;bm.$v={};bm.$v.dragStart=bm.dragStart;bm.$v.dragMove=bm.dragMove;bm.$v.dragEnd=bm.dragEnd;bm.$v.pressEnd=bm.dragEnd;bm.$v.firstTouch=bm.firstTouch})();(function(){by.$2='none'})();(function(){dK.$1=null})();(function(){dO.defaultSelectedClassName='selected';dO.selectedProperty='selected';dO.toggleClassProperty='selectedClass';dO.$1=0})();(function(){ct.$2="<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>";ct.$4="<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>";ct.$5="<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>";ct.$3="<span class='innerIcon'></span>";ct.$6='.label';ct.$1='hide';ct.$7='tab-unification-check';ct.$8='tab-img-check';ct.$9='tab-unification-radio'})();(function(){dN.textPropertyName='text'})();(function(){E.$0="<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"})();(function(){G.$1=10;G.$0=300;G.$2=0})();(function(){dt.$0='__ALL__'})();(function(){dB.getSpiffBrowserViewportFunc=null})();(function(){dC.$2='selector';dC.$0='relative';dC.$1=3;dC.$3=13})();(function(){cG.$0=0})();(function(){P.$0="<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"})();(function(){cL.$0="<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"})();(function(){cJ.$0="<div class='tabMenuItemDivider' role='separator' />"})();(function(){cK.$0="\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"})();(function(){cM.defaultMenuItem='tabMenuDefaultItem';cM.classMenuItem='tabMenuMenuItem';cM.keyMenuItem='tabMenuMenuItem';cM.menuFadeDurationMs=50;cM.$4='tabMenuMenuItemLevel';cM.$2='tabMenuHasIconTwo';cM.$1=989;cM.$3=1000})();(function(){S.$0='hasIcons'})();(function(){R.iconPressedClass='tabComboBoxNoIconPressed';R.invalidClass='invalid';R.noIconClass='tabComboBoxNoIcon';R.pressedClass='pressed';R.disabledClass='disabled';R.classesForTheme=ss.mkdict([0,'tabComboStdTheme',1,'tabComboCompactTheme',2,'tabComboStdTheme tabUnification',3,'tabComboStdTheme tab-unification-line-arrow-dropdown'])})();(function(){cy.listItemSpotlightedClassName='tab-list-item-spotlighted';cy.boldClass='bold';cy.invalidClass='invalid'})();(function(){cz.selectedProperty='selected';cz.invalidProperty='invalid';cz.draggableProperty='draggable';cz.spotlightedProperty='spotlighted';cz.boldProperty='bold'})();(function(){cD.collectionProperty='collection';cD.enabledProperty='enabled'})();(function(){cE.$0="<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"})();(function(){tab.ObjectRegistry.registerType(db,db).call(null)})();(function(){dT.startingGlassZIndex=987})();(function(){dW.minimalistThemeClass='tabUberPopupMinimal'})();(function(){T.listClassName='tabCompositeSearchWidgetList';T.$0=400})();(function(){cs.$1="<a href='#' class='tab-link-button'><span class='label hide'></span></a>";cs.$0="<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>";cs.$2="<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>";cs.$3="<span class='tab-text-button'><span class='label hide'></span></span>";cs.$4='.label'})();(function(){V.$0="<div class='tabCompositeSearchWidget'><div>"})();(function(){Z.$0="<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>"})();(function(){bc.$0="<div class='tabScroller'><span class='tabScrollerContent'/></div>"})();(function(){bd.$1=1;bd.$0=9})();(function(){ba.centeredVerticallyClassName='centeredVertically';ba.scrollableClassName='scrollable';ba.$1=8})();(function(){cS.$0=function(){}})();(function(){cY.$c=2500;cY.$d=75;cY.$j=null;cY.$k=null;cY.$e=0;cY.$f=0;cY.$i=null;cY.$h=null;cY.$g=false;cY.$1$1=null;cY.init()})();(function(){bf.positionProperty='position';bf.isActiveProperty='isActive';bf.$0='active';bf.$2='.tab-dialogCloseButton';bf.$1='.tab-dialogBodyContainer';bf.$7='.tab-dialogTitleBar';bf.$8='.tab-dialogTitle';bf.$5='.tab-dialogResizer';bf.$6='.tab-dialogSpinnerContainer';bf.$4="\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n";bf.$9=null;bf.$3=new cV;bf.defaultDraggableDialogConfigurer=null;bf.defaultStationaryDialogConfigurer=null;bf.defaultDraggableDialogConfigurer=function(ef){var eg=new cT(ef.$u,ef.$g,false);eg.set_documentBodySize('useClientSize');return eg};bf.defaultStationaryDialogConfigurer=function(){return null}})();(function(){bs.$0='editing';bs.$1='hover'})();(function(){cC.$0=10})();(function(){SharedWidgets.PointerEventAdapterManager.adapterFactory=function(){return new dy}})();(function(){dG.$1="<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"})();(function(){tab.ObjectRegistry.registerType(dH,dH).call(null)})();(function(){dU.contentClassName='tabUberPopupContent';dU.caretClassName='tabUberArrow';dU.caretBorderClassName='tabUberArrow2';dU.$0="<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>";dU.$1=null})();(function(){dY.designTint='tab-DesignTint';dY.text='tab-Text';dY.darkBackground='tab-darkBackground';dY.button='tab-UnifiedButton';dY.icon='tab-Icon';dY.iconButton='tab-IconBtn';dY.vScrollable='tab-vScrollable';dY.selectableButtonGroup='tab-SelectableButtonGroup';dY.selectionMark='tab-SelectionMark';dY.active='active';dY.hover='hover';dY.hitTestArea='tab-HitTestArea';dY.focused='focused';dY.bordered='bordered';dY.disabled='disabled';dY.selectable='selectable';dY.selected='selected';dY.unselected='unselected';dY.excluded='excluded';dY.textInput='tab-TextInput';dY.horizontalLayout='tab-HorizontalLayout';dY.applyCancelPanel='tab-ApplyCancelPanel';dY.applyCancel='apply-cancel';dY.apply$1='apply';dY.cancel='cancel';dY.sliderControlClass='unification-slider-control';dY.sliderContainerClass='tabHorizontalSliderContainer';dY.sliderInputClass='tabHorizontalSlider';dY.sliderTextBoxClass='tabHorizontalSliderPercentageText';dY.sliderPercentageClass='tabHorizontalSliderPercentageSign'})()})();;
/*! BEGIN LegacyDojoModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqllegacydojomoduleinterfaces');var b=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,b,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};b.__typeName='tab.ICategoricalLegendView$1';ss.initGenericInterface(b,a,1);global.tab.ICategoricalLegendView$1=b;var c=function(){};c.__typeName='tab.ICategoricalLegendViewModel';global.tab.ICategoricalLegendViewModel=c;var d=function(){};d.__typeName='tab.IContinuousSlider';global.tab.IContinuousSlider=d;var e=function(){};e.__typeName='tab.IContinuousSliderViewModel';global.tab.IContinuousSliderViewModel=e;var f=function(){};f.__typeName='tab.ICurrentPagePanelWidgetShim';global.tab.ICurrentPagePanelWidgetShim=f;var g=function(){};g.__typeName='tab.IFilterPanelWidgetShim';global.tab.IFilterPanelWidgetShim=g;var h=function(){};h.__typeName='tab.ILegacyDojoUIModule';global.tab.ILegacyDojoUIModule=h;var i=function(){};i.__typeName='tab.ILegacyDojoWidgetMaker';global.tab.ILegacyDojoWidgetMaker=i;var j=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,j,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};j.__typeName='tab.ILegacyLegendView$1';ss.initGenericInterface(j,a,1);global.tab.ILegacyLegendView$1=j;var k=function(){};k.__typeName='tab.ILegacyLegendViewModel';global.tab.ILegacyLegendViewModel=k;var l=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,l,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};l.__typeName='tab.ILegacyQuickFilterDisplayView$1';ss.initGenericInterface(l,a,1);global.tab.ILegacyQuickFilterDisplayView$1=l;var m=function(){};m.__typeName='tab.ILegacyQuickFilterDisplayViewModel';global.tab.ILegacyQuickFilterDisplayViewModel=m;var n=function(){};n.__typeName='tab.ILegacyWidgetShim';global.tab.ILegacyWidgetShim=n;var o=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,o,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};o.__typeName='tab.IPageView$1';ss.initGenericInterface(o,a,1);global.tab.IPageView$1=o;var p=function(){};p.__typeName='tab.IPageViewModel';global.tab.IPageViewModel=p;var q=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,q,[w],{updateViewProperties:null},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};q.__typeName='tab.IParameterControlView$1';ss.initGenericInterface(q,a,1);global.tab.IParameterControlView$1=q;var r=function(){};r.__typeName='tab.IParameterControlViewModel';global.tab.IParameterControlViewModel=r;var s=function(){};s.__typeName='tab.IParameterControlWidgetShim';global.tab.IParameterControlWidgetShim=s;var t=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,t,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};t.__typeName='tab.IQuantitativeColorLegendView$1';ss.initGenericInterface(t,a,1);global.tab.IQuantitativeColorLegendView$1=t;var u=function(){};u.__typeName='tab.IQuantitativeColorLegendViewModel';global.tab.IQuantitativeColorLegendViewModel=u;var v=function(){};v.__typeName='tab.ITabbedNavigation';global.tab.ITabbedNavigation=v;ss.initInterface(c,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(d,a,{get_widgetNode:null,onAddedToDomShim:null});ss.initInterface(e,a,{add_sliderValueChange:null,remove_sliderValueChange:null,add_intermediateChange:null,remove_intermediateChange:null,get_sliderClassName:null,set_sliderClassName:null,get_currentFraction:null,set_currentFraction:null,get_pixelWidth:null,set_pixelWidth:null,get_ruleTickCount:null,set_ruleTickCount:null,currentFractionUpdated:null},[ss.IDisposable,tab.IViewModel,spiff.IHasEnabledState]);ss.initInterface(n,a,{getDomNode:null,destroyRecursiveShim:null,startupShim:null});ss.initInterface(f,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,refreshLayoutShim:null},[n]);ss.initInterface(g,a,{updateAttributesShim:null,updateFilterStateShim:null,setTitleSizeShim:null,updateFilterPropertiesShim:null,updateSubWidgetShim:null},[n,ss.IDisposable]);ss.initInterface(h,a,{createTabbedNavigation:null,createPageViewModel:null,createCategoricalLegendViewModel:null,createQuantitativeColorLegendViewModel:null,createLegacyLegendViewModel:null,createLegacyQuickFilterDisplayViewModel:null,createParameterControlViewModel:null,createPageView:null,createLegacyQuickFilterDisplayView:null,createParameterControlView:null,createQuantitativeColorLegendView:null,createContinuousSliderViewModel:null,createLegacyLegendView:null,createContinuousSlider:null});ss.initInterface(i,a,{makeCurrentPagePanelWidget:null,makeFilterPanelWidget:null,makeControlWidget:null});ss.initInterface(k,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(m,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(p,a,{get_visualId:null,get_isHistoryToggleInteractionDisabled:null,get_pageModel:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(r,a,{get_parameterCtrlModel:null,get_hasBorder:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(s,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,layoutShim:null},[n]);ss.initInterface(u,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(v,a,{get_widgetDomNode:null,destroyShim:null,startupShim:null,resizeShim:null});ss.setMetadata(b,{variance:[1]});ss.setMetadata(j,{variance:[1]});ss.setMetadata(l,{variance:[1]});ss.setMetadata(o,{variance:[1]});ss.setMetadata(q,{variance:[1]});ss.setMetadata(t,{variance:[1]})})();;
/*! BEGIN ModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlmoduleinterfaces');var b=function(){this.previous=null;this.scroller=null;this.next=null;this.previousArrow=null;this.nextArrow=null;spiff.Template.call(this,$("<div class='tabFlipboardNav'><span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'/></span><span class='tabFlipboardNavScroller'/><span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'/></span></div>"));this.previous=this.getElementBySelector('.tabFlipboardNavPrevious');this.scroller=this.getElementBySelector('.tabFlipboardNavScroller');this.next=this.getElementBySelector('.tabFlipboardNavNext');this.previousArrow=this.getElementBySelector('.tabStoryLeftArrow');this.nextArrow=this.getElementBySelector('.tabStoryRightArrow')};b.__typeName='tab.FlipboardNavigatorTemplate';global.tab.FlipboardNavigatorTemplate=b;var c=function(){};c.__typeName='tab.HitResultObjectType';global.tab.HitResultObjectType=c;var d=function(){};d.__typeName='tab.IAliasDialogModule';global.tab.IAliasDialogModule=d;var e=function(){};e.__typeName='tab.IAuthoringStoryboardView';global.tab.IAuthoringStoryboardView=e;var f=function(){};f.__typeName='tab.IAuthoringStoryboardViewModel';global.tab.IAuthoringStoryboardViewModel=f;var g=function(){};g.__typeName='tab.IAxisResizerManager';global.tab.IAxisResizerManager=g;var h=function(){};h.__typeName='tab.IBinDialogModule';global.tab.IBinDialogModule=h;var i=function(){};i.__typeName='tab.ICellResizerManager';global.tab.ICellResizerManager=i;var j=function(){};j.__typeName='tab.ICellResizerManagerViewModel';global.tab.ICellResizerManagerViewModel=j;var k=function(){};k.__typeName='tab.ICertificationMarkFactory';global.tab.ICertificationMarkFactory=k;var l=function(){};l.__typeName='tab.ICommentingFactory';global.tab.ICommentingFactory=l;var m=function(){};m.__typeName='tab.ICommentingModuleViewModel';global.tab.ICommentingModuleViewModel=m;var n=function(){};n.__typeName='tab.IConnectionDialogModule';global.tab.IConnectionDialogModule=n;var o=function(){};o.__typeName='tab.IDataConnectionModule';global.tab.IDataConnectionModule=o;var p=function(X){var Y=function(){};ss.registerGenericInterfaceInstance(Y,p,[X],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[X])]});ss.setMetadata(Y,{variance:[1]});return Y};p.__typeName='tab.IDataConnectionPromptView$1';ss.initGenericInterface(p,a,1);global.tab.IDataConnectionPromptView$1=p;var q=function(){};q.__typeName='tab.IDataConnectionPromptViewModel';global.tab.IDataConnectionPromptViewModel=q;var r=function(){};r.__typeName='tab.IDataTabModule';global.tab.IDataTabModule=r;var s=function(){};s.__typeName='tab.IDownloadAsVersionDialogModule';global.tab.IDownloadAsVersionDialogModule=s;var t=function(){};t.__typeName='tab.IDownloadDialogModule';global.tab.IDownloadDialogModule=t;var u=function(){};u.__typeName='tab.IFlipboardNavigatorView';global.tab.IFlipboardNavigatorView=u;var v=function(){};v.__typeName='tab.IFlipboardNavigatorViewModel';global.tab.IFlipboardNavigatorViewModel=v;var w=function(){};w.__typeName='tab.IFrelardServerBootstrapModule';global.tab.IFrelardServerBootstrapModule=w;var x=function(){};x.__typeName='tab.IGroupDialogModule';global.tab.IGroupDialogModule=x;var y=function(){};y.__typeName='tab.IHeaderResizerManager';global.tab.IHeaderResizerManager=y;var z=function(){};z.__typeName='tab.IHeaderResizerManagerViewModel';global.tab.IHeaderResizerManagerViewModel=z;var A=function(){};A.__typeName='tab.IHitTestResult';global.tab.IHitTestResult=A;var B=function(){};B.__typeName='tab.IPaneContent';global.tab.IPaneContent=B;var C=function(){};C.__typeName='tab.IPaneTableView';global.tab.IPaneTableView=C;var D=function(){};D.__typeName='tab.IPaneTableViewModel';global.tab.IPaneTableViewModel=D;var E=function(){};E.__typeName='tab.IPdfExportDialogModule';global.tab.IPdfExportDialogModule=E;var F=function(){};F.__typeName='tab.IResizeHeadersModule';global.tab.IResizeHeadersModule=F;var G=function(){};G.__typeName='tab.IResizerViewModel';global.tab.IResizerViewModel=G;var H=function(){};H.__typeName='tab.IRichTextAuthoringModule';global.tab.IRichTextAuthoringModule=H;var I=function(){};I.__typeName='tab.ISelfServiceSchedulesModule';global.tab.ISelfServiceSchedulesModule=I;var J=function(){};J.__typeName='tab.ISharedWidgetsDataGrid';global.tab.ISharedWidgetsDataGrid=J;var K=function(){};K.__typeName='tab.ISharedWidgetsPlayground';global.tab.ISharedWidgetsPlayground=K;var L=function(){};L.__typeName='tab.IStoryAuthoringModule';global.tab.IStoryAuthoringModule=L;var M=function(){};M.__typeName='tab.IStoryContentPaneViewModel';global.tab.IStoryContentPaneViewModel=M;var N=function(){};N.__typeName='tab.IStoryLayoutPaneViewModel';global.tab.IStoryLayoutPaneViewModel=N;var O=function(){};O.__typeName='tab.IStoryModule';global.tab.IStoryModule=O;var P=function(){};P.__typeName='tab.IStoryPointCaptionViewModel';global.tab.IStoryPointCaptionViewModel=P;var Q=function(){};Q.__typeName='tab.ITrendLineDialogModule';global.tab.ITrendLineDialogModule=Q;var R=function(){};R.__typeName='tab.IViewController';global.tab.IViewController=R;var S=function(){};S.__typeName='tab.IViewUnderlyingDataTableModule';global.tab.IViewUnderlyingDataTableModule=S;var T=function(){};T.__typeName='tab.IVizHitInfo';global.tab.IVizHitInfo=T;var U=function(){};U.__typeName='tab.IVizHitTester';global.tab.IVizHitTester=U;var V=function(){};V.__typeName='tab.IVizZoneModule';global.tab.IVizZoneModule=V;var W=function(){};W.__typeName='tab.IZoneViewModel';global.tab.IZoneViewModel=W;ss.initClass(b,a,{},spiff.Template,[ss.IDisposable]);ss.initEnum(c,a,{none:0,misc:1,annotation:2,trendLine:3,referenceLine:4,referenceLineLabel:5,mark:6,markLabel:7});ss.initInterface(d,a,{showDialog:null});ss.initInterface(e,a,{addToDom$1:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[f])]);ss.initInterface(f,a,{get_leftPanelContentPaneViewModel:null,get_leftPanelLayoutPaneViewModel:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(g,a,{setAxisResizers:null});ss.initInterface(h,a,{showDialog:null});ss.initInterface(i,a,{handleCellResizerUpdate:null,scrollY:null,scrollX:null});ss.initInterface(j,a,{add_updateCellResizerViews:null,remove_updateCellResizerViews:null,get_resizeInfo:null,get_cellWidthResizerVM:null,get_cellHeightResizerVM:null});ss.initInterface(k,a,{createCertificationMark:null});ss.initInterface(l,a,{createCommentingModuleViewModel:null});ss.initInterface(m,a,{get_closeCommentingDrawer:null,set_closeCommentingDrawer:null,get_loadDrawerFonts:null,set_loadDrawerFonts:null,get_showNotification:null,set_showNotification:null},[spiff.IContent]);ss.initInterface(n,a,{showCreateConnectionDialog:null,showCreateConnectionDialogForEmptyWorkbook:null,showReplaceFileDialog:null,showEditConnectionDialog:null,uploadDroppedFiles:null,showPublishedConnectionDialog:null,showSignInDialog:null,showExtractInProgressDialog:null});ss.initInterface(o,a,{createDataConnectionPromptViewModel:null,createDataConnectionPromptView:null});ss.initInterface(q,a,{get_promptUpdated:null,set_promptUpdated:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(r,a,{showDataTab:null,hideDataTab:null});ss.initInterface(s,a,{showDownloadAsVersionDialog:null});ss.initInterface(t,a,{buildDialogContent:null});ss.initInterface(u,a,{get_dom:null,get_domRoot:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[v])]);ss.initInterface(v,a,{add_zoneResized:null,remove_zoneResized:null,add_activePointUpdated:null,remove_activePointUpdated:null,add_remoteUpdateComplete:null,remove_remoteUpdateComplete:null,add_flipboardNavigatorUpdated:null,remove_flipboardNavigatorUpdated:null,add_findParentScroller:null,remove_findParentScroller:null,get_currentPointIndex:null,get_numberOfPoints:null,get_storyPointHeight:null,get_storyPointWidth:null,get_previousDisabled:null,get_nextDisabled:null,get_showArrows:null,get_captions:null,get_useDarkIcons:null,get_scrollBarStyle:null,get_navType:null,get_currentStoryPointId:null,closeUberMenu:null,clickNext:null,clickPrevious:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(w,a,{createApiDispatcher:null});ss.initInterface(x,a,{showGroupDialog:null});ss.initInterface(y,a,{handleResizerUpdate:null});ss.initInterface(z,a,{add_updateResizerViews:null,remove_updateResizerViews:null,get_resizeInfo:null,get_rowHeaderResizerVMs:null,get_columnHeaderResizerVMs:null,get_totalColumnHeadersHeight:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(A,a,{get_hitObjectType:null,get_id:null});ss.initInterface(B,a,{get_title:null,get_id:null,get_contentViewType:null,get_contentViewModel:null,get_additionalContentViewClass:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(C,a,{get_scrollPosition:null,get_vizHitTester:null,doTiledViewerRefreshImages:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[D])]);ss.initInterface(D,a,{add_differentMarkBrushing:null,remove_differentMarkBrushing:null,add_differentMarkSelection:null,remove_differentMarkSelection:null,get_visualModel:null,get_sheetId:null,get_viewController:null,set_viewController:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(E,a,{createSpiffPdfExportDialog:null,showExportPdfDialog:null});ss.initInterface(F,a,{newHeaderResizerManagerViewModel:null,newHeaderResizerManager:null,newAxisResizerManager:null,newCellResizerManagerViewModel:null,newCellResizerManager:null});ss.initInterface(G,a,{get_visualID:null,get_resizerOffset:null,get_resizerLength:null,get_isXResizer:null,get_resizerMinimumOffset:null,get_resizerMaximumOffset:null,get_cssClassName:null,sendResizeCommand:null});ss.initInterface(H,a,{showRichTextEditorDialog:null});ss.initInterface(I,a,{get_defaultRecurrence:null,get_selfServiceSchedulePaneComponent:null,createSubscriptionWithSelfServiceSchedule:null,createSubscriptionsWithSelfServiceSchedule:null});ss.initInterface(J,a,{createGrid:null,createArrayRowStore:null,createRowBandingStylist:null,createGridSelection:null,createGridSelectionHandler:null});ss.initInterface(K,a,{show:null});ss.initInterface(O,a,{newFlipboardNavigatorViewModel:null,newFlipboardViewModel:null,newFlipboardNavigatorView:null,newFlipboardView:null,insertStoryPoint:null,replaceStoryPoint:null,fireCloseStoryUberMenu:null,fireShowUpdateToast:null});ss.initInterface(L,a,{newAuthoringStoryboardViewModel:null},[O]);ss.initInterface(M,a,{},[ss.IDisposable,tab.IViewModel,B]);ss.initInterface(N,a,{},[ss.IDisposable,tab.IViewModel,B]);ss.initInterface(P,a,{add_pointCaptured:null,remove_pointCaptured:null,get_caption:null,get_isCurrentPoint:null,get_isCaptured:null,get_storyPointId:null,get_storyPointIndex:null,get_selectedStoryPointStyle:null,get_unselectedStoryPointStyle:null,clickStoryPoint:null,revertStoryPoint:null});ss.initInterface(Q,a,{showDialog:null});ss.initInterface(R,a,{get_viewSession:null,get_sheetName:null,get_cacheVersion:null,setTiledViewer:null,incrementCacheVersion:null},[ss.IDisposable]);ss.initClass(S,a,{showDialog:null});ss.initInterface(T,a,{get_result:null,get_visualId:null,get_sheetId:null,get_paneColumnIndex:null,get_paneRowIndex:null,get_pageCoordinates:null});ss.initInterface(U,a,{add_updated:null,remove_updated:null,get_current:null,getAsync:null,isWithinLastHitTestDistance:null,getLastHitTestDistance:null,update:null},[ss.IDisposable]);ss.initInterface(V,a,{createPaneTableView:null,createPaneTableViewModel:null,addVizDragHandler:null,addAsyncVizDragHandler:null,addVizDragApprover:null});ss.initInterface(W,a,{add_resizeZone:null,remove_resizeZone:null,add_zoneResized:null,remove_zoneResized:null,add_validStateChanged:null,remove_validStateChanged:null,get_width:null,get_height:null,get_contentWidth:null,get_contentHeight:null,get_contentContainerStyle:null,get_titleSize:null,get_zoneId:null,get_hasTitle:null,get_associatedSheet:null,get_valid:null,get_model:null,forceZoneValidState:null});ss.setMetadata(p,{variance:[1]});(function(){b.$0="<div class='tabFlipboardNav'><span class='tabFlipboardNavPrevious'><div class='tabStoryLeftArrow'/></span><span class='tabFlipboardNavScroller'/><span class='tabFlipboardNavNext'><div class='tabStoryRightArrow'/></span></div>"})()})();;
/*! BEGIN UI */
(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};ss.initAssembly(a,'vqlui');global.onhelp=function(){return false};var b=function(){};b.__typeName='FontFace$FontFaceLoadStatus';global.FontFace$FontFaceLoadStatus=b;var c=function(){};c.__typeName='FontFaceSet$FontFaceSetLoadStatus';global.FontFaceSet$FontFaceSetLoadStatus=c;var d=function(){};d.__typeName='tab.$0';d.$0=function(e,fm){var fn={};fn['api.commandResult']=e;fn['api.commandData']=fm;var fo=JSON.stringify(fn);return fo};var f=function(){};f.__typeName='tab.$1';f.$8=function(e){var fm=e;var fn=[];if(ss.isValue(fm)){for(var fo=0;fo<fm.length;fo++){var fp=fm[fo];var fq=f.$1(fp);if(ss.isValue(fq)&&fq.isValidPresModel){fn.push(fq)}}}var fr=new Object;fr.parameters=Array.prototype.slice.call(fn);return fr};f.$6=function(e){var fm=e;if(ss.isValue(fm.valid)&&!fm.valid){var fn=new Object;fn.isValidPresModel=false;return fn}else{var fo=e;if(ss.isValue(fo)){return f.$1(fo)}}return null};f.$0=function(e){switch(e){case'boolean':{return'boolean'}case'real':{return'float'}case'integer':case'tuple':{return'integer'}case'date':{return'date'}case'datetime':{return'datetime'}case'cstring':default:{return'string'}}};f.$1=function(e){if(!ss.isValue(e.parameterName)||!ss.isValue(e.fieldCaption)){return null}var fm=e.dataType;var fn=[];for(var fo=0;fo<e.valuesAliases.length;fo++){var fp=e.valuesAliases[fo];var fq=e.formattedValues[fo];fn.push(f.$4(fm,fp,fq))}var fr=new Object;fr.isValidPresModel=true;fr.parameterName=e.parameterName;fr.name=e.fieldCaption;fr.currentValue=f.$4(fm,e.valueAlias,e.formattedValue);fr.dataType=f.$0(fm);fr.allowableValuesType=t.convertParameterDomainType(e.parameterDomainType);fr.allowableValues=Array.prototype.slice.call(fn);fr.stepSize=f.$7(fm,e.valueInc);fr.minValue=f.$5(fm,e.valueMin,e.formattedMin,null);fr.maxValue=f.$5(fm,e.valueMax,e.formattedMax,null);if(fm==='date'||fm==='datetime'){fr.dateStepPeriod=t.convertPeriodType(e.datePeriodType)}return fr};f.$5=function(e,fm,fn,fo){var fp=new Object;fp.type=t.convertDataType(e);fp.value=n.serializeDataValue(fm,e);if(!tab.MiscUtil.isNullOrEmpty$3(fo)){fp.aliasedValue=fo}if(!tab.MiscUtil.isNullOrEmpty$3(fn)){fp.formattedValue=fn}return fp};f.$4=function(e,fm,fn){return f.$5(e,f.$3(fm),fn,f.$2(fm))};f.$7=function(e,fm){if(ss.isValue(fm)){if(e==='integer'||e==='date'||e==='datetime'){return parseInt(fm)}if(e==='real'){return parseFloat(fm)}}return null};f.$3=function(e){return e[0]};f.$2=function(e){if(e.length<2){return null}if(ss.isNullOrUndefined(e[1])||e[1].length===0){return null}return e[1]};var g=function(){};g.__typeName='tab.$2';g.$0=function(){if(tsConfig.isUnitTestRun){return}k.$2();g.$1();g.$2()};g.$1=function(){if(tab.FeatureFlags.isEnabled('AsyncLoadDojo')){$(E.startup)}else{dojo.addOnLoad(E.startup)}};g.$2=function(){tab.CommandController.add_switchedViz(function(){E.startup()})};var h=function(e){this.$0=null;this.$3=null;this.$2=null;this.$1=null;this.$3=e;this.$0=this.$3.css('font-family').split(',')[0];this.$2=[];this.$1=[]};h.__typeName='tab.$3';var i=function(e,fm,fn,fo,fp){this.$5=0;this.$6=0;this.$4=0;this.$2=false;this.$3=null;this.$5=e;this.$6=fm;this.$4=fn;this.$2=fo;this.$3=fp};i.__typeName='tab.$4';var j=function(e,fm,fn,fo,fp,fq,fr){this.$1=null;this.$5=0;this.$2=null;this.$6=null;this.$3=false;this.$4=false;this.$7=null;this.$1=e;this.$5=fm;this.$2=fn;this.$6=fo;this.$3=fp;this.$4=fq;this.$7=fr.clone()};j.__typeName='tab.$5';var k=function(){};k.__typeName='tab.$6';k.$2=function(){if(tsConfig.embedded){var e=document.getElementById('staticImage');if(ss.isNullOrUndefined(e)){return}k.$0(e);k.$1(e);k.$3(e)}};k.$3=function(e){if(e.style.width!=='auto'){return}var fm=k.$4(e,0);if(ss.isNullOrUndefined(fm)){return}e.style.width=ss.unbox(fm)+'px'};k.$1=function(e){if(e.style.height!=='auto'){return}var fm=k.$4(e,1);if(ss.isNullOrUndefined(fm)){return}e.style.height=ss.unbox(fm)+'px'};k.$0=function(e){var fm=e.parentElement;var fn={h:fm.offsetHeight,w:fm.offsetWidth};var fo=tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize();if(fo.maxWidth===0&&fo.maxHeight===0){return}if(fn.w<fo.minWidth){fn.w=fo.minWidth}else if(fo.maxWidth!==0&&fn.w>fo.maxWidth){fn.w=fo.maxWidth}if(fn.h<fo.minHeight){fn.h=fo.minHeight}else if(fo.maxHeight!==0&&fn.h>fo.maxHeight){fn.h=fo.maxHeight}e.style.height=fn.h-(tsConfig.showTabs?31:9)+'px';e.style.width=fn.w-8+'px'};k.$4=function(e,fm){if(ss.isNullOrUndefined(e.style.backgroundSize)){return null}var fn=e.style.backgroundSize.split(' ');if(fn.length<=1){return null}return parseInt(fn[fm],10)};var l=function(){this.$4=0;this.$5=0;this.$3=null;this.$1$1=null};l.__typeName='tab.$7';var m=function(e,fm){this.$1$1=null;this.$1$2=null;this.$1(e);this.$3(fm)};m.__typeName='tab.$8';var n=function(){};n.__typeName='tab._ApiSerializer';n.serializeClientInfo=function(e,fm){var fn=e.get_applicationPresModel().workbookPresModel.dashboardPresModel;var fo=e.get_toolbarCommands().$1();var fp=!ss.isNullOrEmptyString(fn.sheetLayoutInfo.downloadLink)||e.get_toolbarCommands().$2();var fq=tsConfig.current_sheet_name;var fr=tsConfig.workbookName;var fs=z.getApiDashboardZonePresModels(fn.zones);var ft=n.serializePublishedSheets(e.get_applicationPresModel().workbookPresModel.sheetsInfo);var fu=n.serializeStory(fm);var fv=v.newClientInfo(fo,fp,fr,fq,ss.coalesce(tsConfig.clientNumber,''),ft,fs,fu);return fv};n.serializeSheetInfo=function(e,fm){var fn;if(e.isStory){fn='story'}else if(e.isDashboard){fn='dashboard'}else{fn='worksheet'}var fo=v.newSheetInfo(e.sheet,fn,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight,fm);return fo};n.serializePublishedSheets=function(e){var fm={};for(var fn=0;fn<e.length;fn++){var fo=e[fn];fm[fo.sheet]=fo}var fp=[];var fq=n.$0(tsConfig.repository_urls);for(var fr=0;fr<tsConfig.visible_sheets.length;fr++){var fs=fm[tsConfig.visible_sheets[fr]];var ft=n.serializeSheetInfo(fs,fq[fr]);fp.push(ft)}return fp};n.serializeStory=function(e){var fm=e.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(fm)){return null}var fn=fm.get_currentPointIndex();var fo=n.serializeStoryPoints(fm.get_captions(),e);var fp=v.newStory(fn,fo);return fp};n.serializeStoryPoints=function(e,fm){var fn=[];var fo=ss.getEnumerator(e);try{while(fo.moveNext()){var fp=fo.current();var fq=n.serializeStoryPoint(fp,fm);fn.push(fq)}}finally{fo.dispose()}return fn};n.serializeStoryPoint=function(e,fm){var fn=null;if(e.get_isCurrentPoint()&&fm.get_hasContainedSheet()){var fo=fm.get_containedSheetName();var fp=fm.get_containedSheetType();var fq=z.getApiDashboardZonePresModels(fm.get_containedDashboardZones());fn=v.newContainedSheetInfo(fo,fp,ss.unbox(fm.get_containedSheetZoneId()),fq)}var fr=v.newStoryPoint(e.get_caption(),e.get_storyPointIndex(),e.get_storyPointId(),e.get_isCaptured(),fn);return fr};n.serializeDataValue=function(e,fm){if(fm==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(fm){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var fn=null;if(_.isDate(e)){fn=e}else if(_.isNumber(e)){if(isNaN(e)){fn=null}else{fn=new Date(tableau.types.JsDateFromOleDate(e))}}else{fn=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(fn)||isNaN(fn)){return null}return fn.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fo=parseInt(e.toString(),10);return(isNaN(fo)?null:fo)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fp=parseFloat(e.toString());return(isNaN(fp)?null:fp)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};n.serializeCustomView=function(e,fm){return v.newCustomView(e.id,e.name,e.urlId,fm,e.startViewId,e.isPublic,n.serializeUser(e.owner))};n.serializeUser=function(e){return v.newUser(e.id,e.friendlyName,e.username)};n.convertToCustomizedView=function(e){var fm=new Object;fm.id=e.id;fm.isPublic=e.isPublic;fm.name=e.name;fm.owner=n.convertToUser(e.owner);fm.startViewId=e.startViewId;fm.urlId=e.urlId;return fm};n.convertToUser=function(e){var fm={friendlyName:e.friendlyName,id:e.id,username:e.username};return fm};n.$0=function(e){var fm=e.length;var fn=tab.VizUriModel.createForViewingSheets(e,false);var fo=new Array(fm);for(var fp=0;fp<fm;fp++){var fq=fn[fp];fo[fp]=fq.get_absoluteUri()}return fo};global.tab._ApiSerializer=n;var o=function(){this.action=null;ss.EventArgs.call(this)};o.__typeName='tab.ActionExecutedEventArgs';global.tab.ActionExecutedEventArgs=o;var p=function(e,fm){React.Component.call(this,e,fm);this.state={users:e.users,groups:e.groups}};p.__typeName='tab.AddSubscribersComponent';global.tab.AddSubscribersComponent=p;var q=function(){};q.__typeName='tab.AddSubscribersComponentConstants';global.tab.AddSubscribersComponentConstants=q;var r=function(){};r.__typeName='tab.AddSubscribersComponentProps';r.createInstance=function(){return r.$ctor()};r.$ctor=function(){var e={};e.userPillsComponentProps=null;e.users=null;e.addUser=null;e.removeUser=null;e.groups=null;e.addGroup=null;e.removeGroup=null;e.removeRecipientByIndex=null;e.isUsers=false;e.cancelSelection=null;e.confirmSelection=null;e.confirmUsersSelection=null;e.confirmGroupsSelection=null;return e};r.isInstanceOfType=function(){return true};global.tab.AddSubscribersComponentProps=r;var s=function(e,fm,fn){this.originalUsers=null;this.users=null;this.originalGroups=null;this.groups=null;this.isUsers=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.originalUsers=e;this.originalGroups=fm;this.users=ss.arrayClone(e);this.groups=ss.arrayClone(fm);this.isUsers=fn;var fo=r.$ctor();fo.users=this.users;fo.addUser=ss.mkdel(this,this.addUser);fo.removeUser=ss.mkdel(this,this.removeUser);fo.groups=this.groups;fo.addGroup=ss.mkdel(this,this.addGroup);fo.removeGroup=ss.mkdel(this,this.removeGroup);fo.removeRecipientByIndex=ss.mkdel(this,this.removeRecipientByIndex);fo.isUsers=this.isUsers;fo.cancelSelection=ss.mkdel(this,this.cancelSelection);fo.confirmSelection=ss.mkdel(this,this.confirmSelection);fo.confirmUsersSelection=ss.mkdel(this,function(fp){this.$2$3(fp)});fo.confirmGroupsSelection=ss.mkdel(this,function(fp){this.$2$4(fp)});this.set_props(fo)};s.__typeName='tab.AddSubscribersViewModel';global.tab.AddSubscribersViewModel=s;var t=function(){};t.__typeName='tab.ApiCrossDomainEnumConverter';t.convertDataType=function(e){switch(e){case'boolean':{return'bool'}case'date':case'datetime':{return'date'}case'integer':case'real':case'tuple':{return'number'}case'cstring':{return'string'}case'unknown':default:{return'string'}}};t.convertUnderlyingDataType=function(e){switch(e){case'boolean':{return'boolean'}case'date':{return'date'}case'datetime':{return'datetime'}case'integer':{return'integer'}case'real':case'tuple':{return'float'}case'cstring':case'unknown':default:{return'string'}}};t.convertFieldAggregation=function(e){switch(e){case'attr':{return'ATTR'}case'average':{return'AVG'}case'collect':{return'COLLECT'}case'count':{return'COUNT'}case'count-d':{return'COUNTD'}case'day':{return'DAY'}case'end':{return'END'}case'hour':{return'HOUR'}case'in-out':{return'INOUT'}case'kurtosis':{return'KURTOSIS'}case'max':{return'MAX'}case'mdy':{return'MDY'}case'median':{return'MEDIAN'}case'min':{return'MIN'}case'minute':{return'MINUTE'}case'month':{return'MONTH'}case'month-year':{return'MONTHYEAR'}case'none':{return'NONE'}case'percentile':{return'PERCENTILE'}case'qtr':{return'QTR'}case'quart1':{return'QUART1'}case'quart3':{return'QUART3'}case'second':{return'SECOND'}case'skewness':{return'SKEWNESS'}case'std-dev':{return'STDEV'}case'std-dev-p':{return'STDEVP'}case'sum':{return'SUM'}case'sum-xsqr':{return'SUM_XSQR'}case'trunc-day':{return'TRUNC_DAY'}case'trunc-hour':{return'TRUNC_HOUR'}case'trunc-month':{return'TRUNC_MONTH'}case'trunc-qtr':{return'TRUNC_QTR'}case'trunc-second':{return'TRUNC_SECOND'}case'trunc-week':{return'TRUNC_WEEK'}case'trunc-year':{return'TRUNC_YEAR'}case'user':{return'USER'}case'var':{return'VAR'}case'var-p':{return'VARP'}case'week':{return'WEEK'}case'weekday':{return'WEEKDAY'}case'year':{return'YEAR'}default:{throw new ss.Exception('Unknown AggType: '+e)}}};t.convertFieldRole=function(e){switch(e){case'dimension':{return'dimension'}case'measure':{return'measure'}case'unknown':{return'unknown'}default:{throw new ss.Exception('Unknown FieldRole type: '+e)}}};t.convertParameterDomainType=function(e){switch(e){case'any':{return'all'}case'list':{return'list'}case'range':{return'range'}default:{throw new ss.Exception('Unknown ParameterTypesDomainType: '+e)}}};t.convertPeriodType=function(e){switch(e){case'year':{return'year'}case'day':{return'day'}case'hour':{return'hour'}case'minute':{return'minute'}case'month':{return'month'}case'quarter':{return'quarter'}case'second':{return'second'}case'week':{return'week'}default:{throw new ss.Exception('Unknown DatePeriodType: '+e)}}};t.convertRangeType=function(e){switch(e){case'curr':{return'curr'}case'last':{return'last'}case'lastn':{return'lastn'}case'next':{return'next'}case'nextn':{return'nextn'}case'todate':{return'todate'}case'invalid':default:{throw new ss.Exception('Unknown or invalid Filters.RelativeDateRangeType: '+e)}}};t.convertZoneType=function(e){switch(e){case'color':case'shape':case'size':{return'legend'}case'map':{return'legend'}case'filter':{return'quickFilter'}case'viz':{return'worksheet'}case'paramctrl':{return'parameterControl'}case'empty':{return'blank'}case'title':{return'title'}case'text':{return'text'}case'bitmap':{return'image'}case'web':{return'webPage'}case'layout-basic':case'layout-flow':case'layout-free-form':{return null}default:{return'blank'}}};global.tab.ApiCrossDomainEnumConverter=t;var u=function(){};u.__typeName='tab.ApiCrossDomainParamConverter';u.convertFilterUpdateType=function(e){var fm=e.toString();if(fm.toLowerCase()==='replace'){return'filter-replace'.toString()}else if(fm.toLowerCase()==='all'){return'filter-all'.toString()}else if(fm.toLowerCase()==='add'){return'filter-add'.toString()}else if(fm.toLowerCase()==='remove'){return'filter-remove'.toString()}else{return'filter-replace'.toString()}};global.tab.ApiCrossDomainParamConverter=u;var v=function(){};v.__typeName='tab.ApiCrossDomainPresModelsFactory';v.newClientInfo=function(e,fm,fn,fo,fp,fq,fr,fs){var ft=new Object;ft.isAutoUpdate=e;ft.isDownloadAllowed=fm;ft.workbookName=fn;ft.instanceId=fp;ft.currentSheetName=fo;ft.publishedSheets=fq;ft.dashboardZones=fr;ft.story=fs;return ft};v.newAutoUpdateState=function(e){var fm=new Object;fm.isAutoUpdate=e;return fm};v.newCommandError=function(e,fm){var fn=new Object;fn.errorCode=e;fn.additionalInformation=fm;return fn};v.newSheetInfo=function(e,fm,fn,fo,fp,fq,fr){var fs=new Object;fs.maxHeight=fq;fs.maxWidth=fp;fs.minHeight=fo;fs.minWidth=fn;var ft=new Object;ft.name=e;ft.sizeConstraints=fs;ft.repositoryUrl=fr;ft.sheetType=fm;return ft};v.newContainedSheetInfo=function(e,fm,fn,fo){var fp=new Object;fp.name=e;fp.sheetType=fm;fp.zoneId=fn;fp.dashboardZones=fo;return fp};v.newDashboardZone=function(e,fm,fn,fo,fp,fq,fr){var fs=new Object;fs.name=e;fs.zoneId=fm;fs.zoneType=fn;fs.height=fo;fs.width=fp;fs.x=fq;fs.y=fr;return fs};v.newStory=function(e,fm){var fn=new Object;fn.activeStoryPointIndex=e;fn.storyPoints=fm;return fn};v.newStoryPoint=function(e,fm,fn,fo,fp){var fq=new Object;fq.caption=e;fq.index=fm;fq.storyPointId=fn;fq.isUpdated=fo;fq.containedSheetInfo=fp;return fq};v.$0=function(e,fm,fn,fo,fp,fq){var fr=new Object;fr.fieldName=e;fr.filterType=fm;fr.caption=fn;fr.dataSourceName=fo;fr.fieldRole=fp;fr.fieldAggregation=fq;return fr};v.newCategoricalFilter=function(e,fm,fn,fo,fp,fq,fr,fs){var ft=v.$0(e,fm,fn,fo,fp,fq);ft.isExclude=fr;ft.appliedValues=fs;return ft};v.newQuantitativeFilter=function(e,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv){var fw=v.$0(e,fm,fn,fo,fp,fq);fw.domainMinValue=fr;fw.domainMaxValue=fs;fw.minValue=ft;fw.maxValue=fu;fw.includeNullValues=fv;return fw};v.newHierarchicalFilter=function(e,fm,fn,fo,fp,fq,fr){var fs=v.$0(e,fm,fn,fo,fp,fq);fs.levels=fr;return fs};v.newRelativeDateFilter=function(e,fm,fn,fo,fp,fq,fr,fs,ft){var fu=v.$0(e,fm,fn,fo,fp,fq);fu.periodType=fr;fu.rangeType=fs;fu.rangeN=ft;return fu};v.newDataSourcesForWorksheet=function(e,fm){var fn=new Object;fn.worksheetName=e;fn.dataSources=fm;return fn};v.newDataSource=function(e,fm,fn){var fo=new Object;fo.name=e;fo.fields=fm;fo.isPrimary=fn;return fo};v.newField=function(e,fm,fn){var fo=new Object;fo.name=e;fo.role=fm;fo.aggregation=fn;return fo};v.newCustomViewsInfo=function(e,fm,fn,fo){var fp=new Object;fp.customViewLoaded=e;fp.defaultCustomViewId=fm;fp.currentView=fn;fp.customViews=fo;return fp};v.newCustomView=function(e,fm,fn,fo,fp,fq,fr){var fs=new Object;fs.id=e;fs.name=fm;fs.urlId=fn;fs.url=fo;fs.startViewId=fp;fs.isPublic=fq;fs.owner=fr;return fs};v.newUser=function(e,fm,fn){var fo=new Object;fo.id=e;fo.friendlyName=fm;fo.username=fn;return fo};v.newUnderlyingDataTablePM=function(e,fm,fn){var fo=new Object;fo.dataTable=e;fo.headers=fm;fo.isSummary=fn;return fo};v.newUnderlyingDataColumnsPM=function(e,fm,fn,fo){var fp=new Object;fp.dataType=e;fp.fieldName=fm;fp.isReferenced=fn;fp.index=fo;return fp};v.newToolbarStatePM=function(e,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv){var fw=new Object;fw.canUndo=e;fw.canRedo=fm;fw.canRevert=fn;fw.isPaused=fo;fw.canRefreshData=fp;fw.canShowCustomViews=fq;fw.canShowPerformance=fr;fw.canShowDataAlert=fs;fw.canShowSubscribe=ft;fw.canShowShare=fu;fw.canShowDownload=fv;return fw};v.newAddInInstancePM=function(e){var fm=new Object;fm.locator=v.newAddInLocatorPM(e.addInLocatorPresModel);fm.url=e.addInRegistrationPresModel.url;return fm};v.newAddInLocatorPM=function(e){var fm=new Object;fm.dashboardPath=v.newSheetPathPM(e.sheetPath);fm.instanceId=e.addInInstanceId;return fm};v.newSheetPathPM=function(e){var fm=new Object;fm.flipboardZoneID=e.flipboardZoneId;fm.storyPointID=e.storyPointId;fm.storyboard=e.storyboard;fm.sheetName=e.sheetName;fm.isDashboard=e.isDashboard;return fm};v.newVisualIdPM=function(e){var fm=new Object;fm.worksheet=e.worksheet;fm.dashboard=e.dashboard;fm.storyboard=e.storyboard;fm.flipboardZoneID=e.flipboardZoneId;fm.storyPointID=e.storyPointId;return fm};v.newAddInBootstrapInfoPM=function(e){var fm=new Object;fm.addinDashboardInfo=v.newAddInDashboardInfoPM(e.addInDashboardInfoPresModel);fm.addInSettingsInfo=v.newAddInSettingsInfoPM(e.addInSettingsInfo);fm.addInEnvironment=v.newAddInEnvironmentInfoPM(e.addInEnvironmentPresModel);return fm};v.newAddInDashboardInfoPM=function(e){var fm=new Object;fm.name=e.dashboardPresModel.sheetPath.sheetName;fm.addInZoneId=e.zoneId;fm.zones=z.getApiDashboardZonePresModels(e.dashboardPresModel.zones);return fm};v.newAddInSettingsInfoPM=function(e){var fm=new Object;fm.settingsValues=e.addInSettings||{};return fm};v.newAddInEnvironmentInfoPM=function(e){var fm=new Object;fm.addInContext=e.addInContext;fm.addInMode=e.addInMode;fm.addInLanguage=e.addInLanguage;fm.addInLocale=e.addInLocale;fm.tableauVersion=e.tableauVersion;fm.operatingSystem=e.operatingSystem;fm.apiVersion=e.apiVersion||'0.0.1';return fm};global.tab.ApiCrossDomainPresModelsFactory=v;var w=function(){};w.__typeName='tab.ApiDataSourcesHandler';w.$0=function(e,fm,fn){var fo=e.worksheetDataSchemaMap[fm].primaryDatasource;var fp=e.parametersDatasource;var fq=[];var fr=e.dataSources;var fs=_.keys(fr);for(var ft=0;ft<fs.length;ft++){var fu=fs[ft];if(ss.referenceEquals(fu,fp)){continue}var fv=fr[fu];if(!ss.isNullOrEmptyString(fn)&&!ss.referenceEquals(fv.datasource,fn)){continue}var fw=w.processDataSourceFields(fv.fieldList);var fx=ss.referenceEquals(fv.datasource,fo);var fy=v.newDataSource(fv.datasourceCaption,Array.prototype.slice.call(fw),fx);fq.push(fy)}var fz=v.newDataSourcesForWorksheet(fm,Array.prototype.slice.call(fq));return fz};w.processDataSourceFields=function(e){var fm=[];for(var fn=0;fn<e.length;fn++){var fo=e[fn];if(ss.isValue(fo.baseColumnName)){continue}if(fo.type==='field-folder'){continue}if(fo.type==='field'){continue}var fp=fo;if(ss.isValue(fp.columnList)){for(var fq=0;fq<fp.columnList.length;fq++){var fr=fp.columnList[fq];var fs=v.newField(fr.name,t.convertFieldRole(fr.fieldRole),t.convertFieldAggregation(fr.aggregation));fm.push(fs)}}else if(fo.type==='dimension'){var ft=v.newField(fo.name,'dimension','NONE');fm.push(ft)}else{var fu=v.newField(fo.name,t.convertFieldRole(fo.defaultFieldRole),t.convertFieldAggregation(fo.defaultAggregation));fm.push(fu)}}return fm};global.tab.ApiDataSourcesHandler=w;var x=function(e,fm,fn){this.$12=new tab.DisposableHolder;this.$Z=null;this.$17={};this.$10=null;this.$14=null;this.$15=null;this.$11=false;this.$13=false;this.$16=null;this.$Z=fn;this.updateClients(e,fm);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().add_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))};x.__typeName='tab.ApiEventHandler';x.$2=function(e,fm){var fn=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),e);if(ss.isValue(fn)){var fo=_.find(fn.get_filters(),function(fp){return ss.referenceEquals(fp.get_globalFieldName(),fm)});if(ss.isValue(fo)){return fo.get_filterPresModel().fieldCaption}}return null};x.$0=function(e){var fm=new ss.StringBuilder;for(var fn=0;fn<e.length;fn++){var fo=e[fn];if(!(fm.length===0)){fm.append('.')}fm.append('['+fo+']')}return fm.toString()};x.$1=function(){var e={};var fm=tab.ModelUtils.findContentDashboard();var fn=fm.get_zoneModels();for(var fo=0;fo<fn.length;fo++){var fp=fn[fo];if(fp.get_zoneType()==='filter'&&ss.referenceEquals(fp.get_worksheetName(),tsConfig.current_sheet_name)){var fq=JSON.parse(fp.pm.frameJson);e[fq.param]=true}}var fr={};var fs=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(fs)){var ft=fs.get_filters();for(var fu=0;fu<ft.length;fu++){var fv=ft[fu];var fw=x.$0(fv.get_filterPresModel().name);if(ss.keyExists(e,fw)){var fx=fv.get_filterPresModel().fieldCaption;if(fv.get_filterPresModel().type!=='H'){fr[fx]=fv.get_filterPresModel().type}else{fx='';var fy=fv.get_filterPresModel().table[0].table;if(ss.isValue(fy)&&ss.isValue(fy.schema)&&ss.isValue(fy.schema[0])&&ss.isValue(fy.schema[0].name)){var fz=fy.schema[0].name;for(var fA=1;fA<fz.length;fA++){fx+='['+fz[fA]+']';fr[fx]=fv.get_filterPresModel().type;fx+='.'}}}}}}return fr};x.$3=function(e){return null};x.$4=function(e){var fm=e;if(ss.isValue(fm['invalidFields'])){return v.newCommandError('invalidSelectionFieldName',fm['invalidFields'])}else if(ss.isValue(fm['invalidValues'])){return v.newCommandError('invalidSelectionValue',fm['invalidValues'])}else if(ss.isValue(fm['invalidDates'])){return v.newCommandError('invalidSelectionDate',fm['invalidDates'])}return null};global.tab.ApiEventHandler=x;var y=function(){};y.__typeName='tab.ApiFilterHandler';y.processFilters=function(e){var fm=JSON.parse(e.toString());var fn=[];if(ss.isValue(fm)){for(var fo=0;fo<fm.length;fo++){var fp=fm[fo];var fq=y.$5(fp);if(ss.isValue(fq)){fn.push(fq)}}}var fr=new Object;fr.filters=Array.prototype.slice.call(fn);return fr};y.processFilterCommandReturningFieldName=function(e){var fm=y.$0(e);if(ss.isValue(fm)){return fm}return e};y.processSingleFilter=function(e){var fm=y.$0(e);if(ss.isValue(fm)){return fm}var fn=JSON.parse(e.toString());if(ss.isValue(fn)){return y.$5(fn)}return null};y.$0=function(e){var fm=e;if(ss.keyExists(fm,'parameterError')){if(ss.isValue(fm['invalidFieldCaption'])){return v.newCommandError('invalidFilterFieldName',fm['invalidFieldCaption'])}else if(ss.isValue(fm['invalidValues'])){return v.newCommandError('invalidFilterFieldValue',fm['invalidValues'])}else if(ss.isValue(fm['invalidAggFieldName'])){return v.newCommandError('invalidAggregationFieldName',fm['fieldCaption'])}else{return v.newCommandError('serverError',null)}}return null};y.$2=function(e){switch(e){case'C':{return'categorical'}case'H':{return'hierarchical'}case'Q':{return'quantitative'}case'RD':{return'relativedate'}default:{throw new ss.Exception('Unknown filter type: '+e)}}};y.$5=function(e){var fm=y.$2(e.type);switch(fm){case'categorical':{return y.$7(e)}case'relativedate':{return y.$a(e)}case'hierarchical':{return y.$8(e)}case'quantitative':{return y.$9(e)}default:{throw new ss.Exception('Unknown FilterType: '+fm)}}};y.$6=function(e,fm){var fn=e.fieldName;var fo=e.fieldCaption;var fp=y.$2(e.type);var fq=null;var fr=null;var fs=null;if(ss.isValue(e.fieldDetailsJson)&&ss.isValue(e.fieldDatasource)){fq=e.fieldDatasource;var ft=JSON.parse(e.fieldDetailsJson);var fu=ft['genFieldColumnPresModel'];fr=t.convertFieldRole(fu.fieldRole);fs=t.convertFieldAggregation(fu.aggregation)}return fm(fn,fp,fo,fq,fr,fs)};y.$7=function(e){var fm=e.exclude||false;var fn=null;if(ss.isValue(e.table)){var fo=e.table;if(ss.isValue(fo.tuples)){var fp=ss.coalesce(e.all,false)||ss.coalesce(e.allChecked,false);var fq=fo.tuples;var fr=[];for(var fs=0;fs<fq.length;fs++){var ft=fq[fs];if(fp||ss.isValue(ft.s)&&ft.s){var fu=ft.t[0];var fv=ft.d;fr.push(y.$4(e,fu,fv))}}fn=Array.prototype.slice.call(fr)}}var fw=function(fx,fy,fz,fA,fB,fC){return v.newCategoricalFilter(fx,fy,fz,fA,fB,fC,fm,fn)};return y.$6(e,fw)};y.$9=function(e){var fm=null;var fn=null;var fo=null;var fp=null;var fq=false;if(ss.isValue(e.range)){var fr=e.range;if(ss.isValue(fr.min)&&ss.isValue(fr.min.v)){fm=y.$3(e,fr.min,null)}if(ss.isValue(fr.max)&&ss.isValue(fr.max.v)){fn=y.$3(e,fr.max,null)}}if(ss.isValue(e.table)){var fs=e.table;if(ss.isValue(fs.min)&&ss.isValue(fs.min.v)){fo=y.$3(e,fs.min,null)}if(ss.isValue(fs.max)&&ss.isValue(fs.max.v)){fp=y.$3(e,fs.max,null)}if(ss.isValue(fs.included)){var ft=fs.included;fq=ft==='include-all'||ft==='include-null'||ft==='include-range-or-null'}}var fu=function(fv,fw,fx,fy,fz,fA){return v.newQuantitativeFilter(fv,fw,fx,fy,fz,fA,fm,fn,fo,fp,fq)};return y.$6(e,fu)};y.$a=function(e){var fm=null;var fn=null;var fo=null;var fp=e.table;if(ss.isValue(fp)){if(ss.isValue(fp.periodType)){fm=t.convertPeriodType(fp.periodType)}if(ss.isValue(fp.rangeType)){fn=t.convertRangeType(fp.rangeType)}if(ss.isValue(fp.rangeN)){fo=fp.rangeN}}var fq=function(fr,fs,ft,fu,fv,fw){return v.newRelativeDateFilter(fr,fs,ft,fu,fv,fw,fm,fn,fo)};return y.$6(e,fq)};y.$4=function(e,fm,fn){return y.$3(e,fm,fn)};y.$3=function(e,fm,fn){var fo=new Object;if(ss.isNullOrUndefined(fm)){return fo}var fp=y.$1(fm.t);var fq=[fm];if(ss.isValue(e.range)){fq.push(e.range.min,e.range.max)}if(ss.isValue(e.table)){fq.push(e.table.min,e.table.max)}var fr=tab.QuickFilterDateFormatUtil.getDateTimeFormatMode(fq,'none',e.date_format,null);fo.type=t.convertDataType(fp);var fs=((fp==='date'||fp==='datetime')?e.date_format:e.format);fo.formattedValue=tableau.format.formatDataValue(fm,e.role,fs,null,fr);if(ss.isValue(fn)){fo.aliasedValue=fn}fo.value=z.serializeDataValue(fm.v,fp);return fo};y.$1=function(e){switch(e){case'b':{return'boolean'}case'd':{return'date'}case'i':{return'integer'}case'r':{return'real'}case's':{return'cstring'}case't':{return'datetime'}case null:{return'unknown'}}return'unknown'};y.$8=function(e){var fm=0;if(ss.isValue(e.levels)){fm=e.levels.length}var fn=function(fo,fp,fq,fr,fs,ft){return v.newHierarchicalFilter(fo,fp,fq,fr,fs,ft,fm)};return y.$6(e,fn)};global.tab.ApiFilterHandler=y;var z=function(){};z.__typeName='tab.ApiPresModelsConverter';z.getApiAddInInstancePresModel=function(e){return v.newAddInInstancePM(e)};z.getApiAddInBootstrapInfoPresModel=function(e){return v.newAddInBootstrapInfoPM(e)};z.getApiUnderlyingDataTablePresModel=function(e,fm){var fn=e.dataDictionary;var fo=e.underlyingDataTableColumns;var fp=z.$1(fo);var fq=z.$0(fn,fo);var fr=v.newUnderlyingDataTablePM(fq,fp,fm);return fr};z.getApiDashboardZonePresModels=function(e){var fm=[];if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return fm}var fn=Object.keys(e);fn.sort(function(fz,fA){return parseInt(fz,10)-parseInt(fA,10)});for(var fo=0;fo<fn.length;fo++){var fp=fn[fo];var fq=e[fp];if(ss.isNullOrUndefined(fq)){continue}var fr=t.convertZoneType(fq.zoneCommon.zoneType);if(!ss.isValue(fr)){continue}var fs=(ss.isValue(fq.worksheet)?fq.worksheet:null);var ft=fq.zoneCommon.x;var fu=fq.zoneCommon.y;var fv=fq.zoneCommon.w;var fw=fq.zoneCommon.h;var fx=fq.zoneCommon.zoneId;var fy=v.newDashboardZone(fs,fx,ss.unbox(fr),fw,fv,ft,fu);fm.push(fy)}return fm};z.processSelectedMarks=function(e){var fm=e.dataDictionary;var fn=e.vizData;return z.$4(fm,fn)};z.processHighlightedMarks=function(e){var fm=e.dataDictionary;var fn=e.vizData;return z.$4(fm,fn)};z.getAddInLocatorPresModel=function(e){return dc.newAddInLocatorPresModel(e)};z.$4=function(e,fm){var fn=new Object;var fo=new tab.DataDictionaryModel(null);fo.update(e);var fp=new tab.VizDataModel(null);fp.update(fm,tab.NoopModelEventsHandler.get_noopContext());var fq=[];fn.marks=fq;if(ss.isNullOrUndefined(fo)||fo.get_isEmpty()){return fn}fp.forEachTupleId(function(fr){var fs=new Object;fs.tupleId=fr;var ft=[];fs.pairs=ft;fq.push(fs);fp.forEachVizDataField(function(fu,fv){var fw=new Object;fw.fieldName=fu.get_fieldCaption();fw.formattedValue=tab.VizDataLookup.lookupAlias(fr,fu,fo);fw.valueDataType=t.convertDataType(fu.get_dataType());var fx=null;if(!tab.VizDataLookup.isSpecial(fr,fu,fo,null)&&fu.get_hasDataValues()&&fu.isTupleIdValid(fr)){fx=tab.VizDataLookup.lookupRawDataValue(fr,fu,fo)}var fy=z.serializeDataValue(fx,fu.get_dataType());fw.value=fy;ft.push(fw);return true});return true});return fn};z.serializeDataValue=function(e,fm){if(fm==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(fm){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var fn=null;if(_.isDate(e)){fn=e}else if(_.isNumber(e)){if(isNaN(e)){fn=null}else{fn=new Date(tableau.types.JsDateFromOleDate(e))}}else{fn=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(fn)||isNaN(fn)){return null}return fn.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fo=parseInt(e.toString(),10);return(isNaN(fo)?null:fo)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var fp=parseFloat(e.toString());return(isNaN(fp)?null:fp)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};z.$1=function(e){var fm=[];for(var fn=0;fn<e.length;fn++){var fo=e[fn];var fp=t.convertUnderlyingDataType(fo.dataType);var fq=v.newUnderlyingDataColumnsPM(fp,fo.fieldCaption,fo.isReferenced,fn);fm.push(fq)}return fm};z.$0=function(e,fm){var fn=fm[0].formatValIdxs.length;var fo=new Array(fn);for(var fp=0;fp<fn;fp++){fo[fp]=new Array(fm.length)}for(var fq=0;fq<fm.length;fq++){var fr=fm[fq];for(var fs=0;fs<fr.formatValIdxs.length;fs++){var ft=new Object;ft.formattedValue=z.$3(e,fr.formatValIdxs[fs],'cstring');ft.value=z.$3(e,fr.valueIndices[fs],fr.dataType);ft.aliasedValue=ft.formattedValue;fo[fs][fq]=ft}}return fo};z.$3=function(e,fm,fn){var fo=null;var fp;if(fm>=0){fp=fn}else{fp='cstring';fm=-fm-1}var fq=z.$2(e,fp,fm);if(ss.isValue(fq)){fo=fq.toString()}return fo};z.$2=function(e,fm,fn){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.dataSegments)){return null}var fo=ss.getEnumerator(Object.keys(e.dataSegments));try{while(fo.moveNext()){var fp=fo.current();var fq=e.dataSegments[fp];for(var fr=0;fr<fq.dataColumns.length;fr++){var fs=fq.dataColumns[fr];if(ss.isNullOrUndefined(fs)||fs.dataType!==fm){continue}if(fn<fs.dataValues.length){return fs.dataValues[fn]}fn-=fs.dataValues.length;break}}}finally{fo.dispose()}return null};global.tab.ApiPresModelsConverter=z;var A=function(e,fm){this.$7=null;this.$b=null;this.$8=new tab.DisposableHolder;this.$a=false;this.$9=false;tab.Param.verifyValue(e,'client');tab.Param.verifyValue(fm,'responder');this.$7=e;this.$b=fm;var fn=ss.mkdel(this,function(){var fo=e.get_flipboardNavigatorViewModel();if(ss.isValue(fo)){fo.add_remoteUpdateComplete(ss.mkdel(this,this.$4));this.$a=true;this.$8.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fo.remove_remoteUpdateComplete(ss.mkdel(this,this.$4))})))}return ss.isValue(fo)});if(!fn()){_.defer(ss.mkdel(this,function(){if(this.$9){return}fn()}))}};A.__typeName='tab.ApiStorytellingHandler';A.$0=function(e,fm){var fn=($.isArray(fm)?fm:[fm]);var fo=_.any(fn,function(fp){return fp===e.get_name()});if(!fo){throw new ss.Exception("Command '"+e.get_name()+"' is not valid for the handler.")}};global.tab.ApiStorytellingHandler=A;var B=function(e,fm){this.$4=new tab.DisposableHolder;this.$5=null;this.$3=null;this.$1$1=null;if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('responder')}if(ss.isNullOrUndefined(fm)){throw new ss.ArgumentNullException('toolbarViewModel')}this.$5=fm;this.$3=e;this.$1();this.$5.add_newToolbar(ss.mkdel(this,this.$1));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newToolbar(ss.mkdel(this,this.$1))})))};B.__typeName='tab.ApiToolbarStateManager';B.$1=function(e,fm){var fn=e[fm];return ss.isValue(fn)&&fn.get_enabled()};B.$2=function(e,fm,fn){var fo=e[fm];if(ss.isNullOrUndefined(fo)){return false}var fp=new tab.CommandsPresModelWrapper.$ctor1(fo.get_commands());var fq=fp.get_commandItems();for(var fr=0;fr<fq.length;fr++){var fs=fq[fr];var ft=new tab.CommandItemWrapper(fs);if(ss.equals(ft.get_name(),fn)){return ft.get_enabled()}}return false};B.$0=function(e,fm){var fn=ss.getEnumerator(fm);try{while(fn.moveNext()){var fo=fn.current();var fp=new tab.CommandItemWrapper(fo);e[fp.get_iconRes()]=fp}}finally{fn.dispose()}};global.tab.ApiToolbarStateManager=B;var C=function(){};C.__typeName='tab.ApiUnderlyingDataHandler';C.processSummaryData=function(e){var fm=e;var fn=C.processDataDictionary(fm,true);return fn};C.processUnderlyingData=function(e){var fm=e;var fn=C.processDataDictionary(fm,false);return fn};C.prepareSummaryCommand=function(e,fm){fm['maxRows']=e['api.maxRows'];fm['ignoreAliases']=e['api.ignoreAliases'];fm['ignoreSelection']=e['api.ignoreSelection']};C.prepareUnderlyingCommand=function(e,fm){C.prepareSummaryCommand(e,fm);fm['includeAllColumns']=e['api.includeAllColumns']};C.processDataDictionary=function(e,fm){var fn=new tab.DataDictionaryModel(null);fn.update(e.dataDictionary);var fo=e.underlyingDataTableColumns;var fp=C.$1(fo);var fq=C.$0(fn,fo);var fr=v.newUnderlyingDataTablePM(fq,fp,fm);return fr};C.$1=function(e){if(ss.isNullOrUndefined(e)){return[]}var fm=[];for(var fn=0;fn<e.length;fn++){var fo=e[fn];var fp=t.convertUnderlyingDataType(fo.dataType);var fq=v.newUnderlyingDataColumnsPM(fp,fo.fieldCaption,fo.isReferenced,fn);fm.push(fq)}return fm};C.$0=function(e,fm){if(ss.isNullOrUndefined(fm)||fm.length===0){return[]}var fn=fm[0].formatValIdxs.length;var fo=new Array(fn);for(var fp=0;fp<fn;fp++){fo[fp]=new Array(fm.length)}for(var fq=0;fq<fm.length;fq++){var fr=fm[fq];for(var fs=0;fs<fr.formatValIdxs.length;fs++){var ft=new Object;ft.formattedValue=C.$2(e,fr.formatValIdxs[fs],'cstring');ft.value=C.$2(e,fr.valueIndices[fs],fr.dataType);ft.aliasedValue=ft.formattedValue;fo[fs][fq]=ft}}return fo};C.$2=function(e,fm,fn){var fo=null;var fp;if(fm>=0){fp=fn}else{fp='cstring';fm=-fm-1}var fq=e.getRawValue(fp,fm);if(ss.isValue(fq)){fo=fq.toString()}return fo};global.tab.ApiUnderlyingDataHandler=C;var C=function(){};C.__typeName='tab.ApiUnderlyingDataHandler';C.processSummaryData=function(e){var fm=e;var fn=C.$5(fm,true);return fn};C.$6=function(e){var fm=e;var fn=C.$5(fm,false);return fn};C.$3=function(e,fm){fm['maxRows']=e['api.maxRows'];fm['ignoreAliases']=e['api.ignoreAliases'];fm['ignoreSelection']=e['api.ignoreSelection']};C.$4=function(e,fm){C.$3(e,fm);fm['includeAllColumns']=e['api.includeAllColumns']};C.$5=function(e,fm){var fn=new tab.DataDictionaryModel(null);fn.update(e.dataDictionary);var fo=e.underlyingDataTableColumns;var fp=C.$1(fo);var fq=C.$0(fn,fo);var fr=v.newUnderlyingDataTablePM(fq,fp,fm);return fr};C.$1=function(e){if(ss.isNullOrUndefined(e)){return[]}var fm=[];for(var fn=0;fn<e.length;fn++){var fo=e[fn];var fp=t.convertUnderlyingDataType(fo.dataType);var fq=v.newUnderlyingDataColumnsPM(fp,fo.fieldCaption,fo.isReferenced,fn);fm.push(fq)}return fm};C.$0=function(e,fm){if(ss.isNullOrUndefined(fm)||fm.length===0){return[]}var fn=fm[0].formatValIdxs.length;var fo=new Array(fn);for(var fp=0;fp<fn;fp++){fo[fp]=new Array(fm.length)}for(var fq=0;fq<fm.length;fq++){var fr=fm[fq];for(var fs=0;fs<fr.formatValIdxs.length;fs++){var ft=new Object;ft.formattedValue=C.$2(e,fr.formatValIdxs[fs],'cstring');ft.value=C.$2(e,fr.valueIndices[fs],fr.dataType);ft.aliasedValue=ft.formattedValue;fo[fs][fq]=ft}}return fo};C.$2=function(e,fm,fn){var fo=null;var fp;if(fm>=0){fp=fn}else{fp='cstring';fm=-fm-1}var fq=e.getRawValue(fp,fm);if(ss.isValue(fq)){fo=fq.toString()}return fo};global.tab.ApiUnderlyingDataHandler=C;var D=function(){spiff.BaseViewModel.call(this)};D.__typeName='tab.AppBannerViewModel';global.tab.AppBannerViewModel=D;var E=function(){this.$p=null;this.$n=null;this.$o=null;this.$m=new tab.DisposableHolder;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=null;this.$1$9=null;var e=null;e=ss.mkdel(this,function(fm,fn){E.remove_starting(e);this.$i();tab.ApplicationModel.get_instance().get_workbook().add_dashboardDeleted(ss.mkdel(this,this.$l));tab.ApplicationModel.get_instance().get_workbook().add_uiModeChanged(ss.mkdel(this,this.$9));var fo=new tab.LayoutSession(null,null,E.get_commonDialogProvider());var fp=tab.CommandController.create(fo,E.get_commonDialogProvider(),new T(null,null));fp.setBrowserViewportFunc(Q.getViewport);fp.add_newLayoutId(ss.mkdel(this,this.$6));fp.add_tabChangeCompleted(ss.mkdel(this,this.$8));E.add_onTabSelect(ss.mkdel(this,this.$3));fp.add_destroyView(ss.mkdel(this,this.$2));fp.add_intermediateUpdate(ss.mkdel(this,this.$j));fp.add_switchingViz(ss.mkdel(this,this.$7));this.$m.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_newLayoutId(ss.mkdel(this,this.$6));tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$8));tab.CommandController.get().remove_switchingViz(ss.mkdel(this,this.$7));E.remove_onTabSelect(ss.mkdel(this,this.$3))})));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.$5));var fq=E.$0(false,fo);this.set_client(fq);this.$p=fq;this.get_client().startup();this.$c(this.get_client(),this.$p);if(tab.BrowserSupport.get_isIE()){this.$0()}this.$o=new cZ;spiff.SpiffBrowserViewport.getSpiffBrowserViewportFunc=function(fr){Q.getViewport(function(fs){var ft=new spiff.SpiffBrowserViewport(fs.get_dimensions(),function(fu){return fs.getVisibleRoom(fu,0)});fr(ft)})}});E.add_starting(e)};E.__typeName='tab.Application';E.add_starting=function(e){E.$1$1=ss.delegateCombine(E.$1$1,e)};E.remove_starting=function(e){E.$1$1=ss.delegateRemove(E.$1$1,e)};E.add_started=function(e){E.$1$2=ss.delegateCombine(E.$1$2,e)};E.remove_started=function(e){E.$1$2=ss.delegateRemove(E.$1$2,e)};E.add_onTabSelect=function(e){E.$1$3=ss.delegateCombine(E.$1$3,e)};E.remove_onTabSelect=function(e){E.$1$3=ss.delegateRemove(E.$1$3,e)};E.get_instance=function(){if(ss.isNullOrUndefined(E.$5)){E.$5=new E}return E.$5};E.get_isHostedInApiContext=function(){return!ss.isNullOrEmptyString(tsConfig.apiID)||tsConfig.is_mobile_app};E.get_commonDialogProvider=function(){return E.$4||(E.$4=new ba)};E.get_commonBannerProvider=function(){return E.$3||(E.$3=new Z)};E.startup=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPSTR'.toString();var fm=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(fm);if(ss.isValue(E.$6)&&E.$6){throw new ss.Exception('Application.Startup() can only be called once')}var fn=E.get_instance();if(!ss.staticEquals(E.$1$1,null)){E.$1$1(fn,ss.EventArgs.Empty)}if(!ss.staticEquals(E.$1$2,null)){E.$1$2(fn,ss.EventArgs.Empty)}spiff.DragDropManager.init();SharedWidgets.setConfig(E.$1());tab.TouchScreenUtil.init();E.$6=true};E.$1=function(){var e={styles:{Typography:{FontFamily:'inherit'}},suppressClickBustingClassName:spiff.ClickBuster.suppressClickBustingClass};return e};E.$0=function(e,fm){var fn=ss.getType((tsConfig.is_mobile?'tab.ApplicationViewModelMobile':'tab.ApplicationViewModelWeb'));return new fn(e,fm)};E.handleAllFontsFound=function(){dO.get_instance().downloadFonts();dO.get_instance().allFontsFound()};E.$2=function(){bc.get_instance().reset(1);bc.get_instance().addCompletedHandler(1,ci.logUIStabilized);dO.get_instance().initialize(true);var e=tab.ServerFonts.effectiveBentonSans;dO.get_instance().registerServerLoadedFonts(e);dO.get_instance().registerServerLoadedFonts(tab.ServerFonts.tableauFontNames);dO.get_instance().notifyDownloadableFont(e)};E.fireOnTabSelect=function(e){if(!ss.staticEquals(E.$1$3,null)){E.$1$3(e)}};global.tab.Application=E;var F=function(){this.domNode=null;this.toolbarContainer=null;spiff.Template.call(this,F.$0());this.domNode=this.domRoot;this.toolbarContainer=$((tab.FeatureFlags.isEnabled('IframeSizedToWindow')?G.toolbarContainerSelector:'.tab-toolbar-container'))};F.__typeName='tab.ApplicationTemplate';F.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='dashboard-viewport'></div>"):$("<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>"))};global.tab.ApplicationTemplate=F;var G=function(e){this.$h=null;this.$g=null;this.$f=null;ss.makeGenericType(spiff.BaseView$1,[I]).call(this,e,new F);spiff.FullscreenUtil.add_fullscreenStateChanged(G.$0);this.disposables.add(function(){spiff.FullscreenUtil.remove_fullscreenStateChanged(G.$0)})};G.__typeName='tab.ApplicationView';G.$0=function(){if(tsConfig.isPublic){if(spiff.FullscreenUtil.get_inFullscreenMode()){$(G.vizContainerSelector).css({width:'',height:''})}else{var e=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(G.vizContainerSelector).css({width:e.w+'px',height:e.h+'px'})}}var fm=E.get_instance().get_tabbedNavigation();if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()&&ss.isValue(fm)){fm.resizeShim()}};global.tab.ApplicationView=G;var H=function(e,fm){this.session=null;this._connections=[];this.skipInit=false;this.$A=null;this.$w=false;this.$z=null;this.$C=null;this.$v=null;this.$u=null;this.$x=false;this.$y=false;this.$B=0;this.$D=null;spiff.Widget.call(this,$(null));this.session=fm;this.skipInit=e;var fn=tabBootstrap.ViewerBootstrap.get_instance();if(ss.isNullOrUndefined(fn)){throw new ss.Exception('tabBootstrap.ViewerBootstrap is undefined')}if(fn.get_hasBootstrapCompleted()){tab.XhrUtil.set_currentTabName(tsConfig.current_sheet_name)}tab.XhrUtil.guid=tsConfig.guid;tab.XhrUtil.parentID=tsConfig.parentID;this.$C=new eY(this);this.enableTextSelection()};H.__typeName='tab.ApplicationViewModel';H.selectCenteringContainer=function(){return $('#centeringContainer')};H.getClientBounds=function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var fm=tabBootstrap.VizLayoutConstants.get_tabsHeight();var fn={l:0,t:fm,w:e.w,h:e.h};if(!eI.get_toolbarIsBottom()&&!tsConfig.is_authoring){fn.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}return fn};H.calculateDashboardViewportBounds=function(){var e=tab.DashboardSizeCalculator.get_dashboardViewportSize();var fm={l:0,t:0,w:e.w,h:e.h};if(!eI.get_toolbarIsBottom()&&!tsConfig.is_authoring){fm.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}if(tsConfig.is_authoring){fm.t+=tabBootstrap.VizLayoutConstants.get_authoringMenuBarHeight()+tabBootstrap.VizLayoutConstants.get_authoringToolbarHeight()}return fm};global.tab.ApplicationViewModel=H;var I=function(e){this.$6=null;this.$8=null;this.$5=null;this.$7=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$6=e;this.$6.add_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));if(ss.isValue(this.$6.get_workbook())){this.handleNewWorkbook(this.$6.get_workbook())}this.$6.add_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6.remove_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate))})));this.$5=new D;if(!tsConfig.is_authoring&&!this.$6.get_isOffline()){this.$7=new eI(this.$6.get_toolbar());this.$7.set_shouldShowCommenting(this.get_shouldShowCommenting());tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,this.$3))}};I.__typeName='tab.ApplicationViewModelReal';global.tab.ApplicationViewModelReal=I;var J=function(e){this.$9=null;this.$2$1=null;this.$2$2=null;spiff.Widget.call(this,e.domRoot);this.$9=e;this.$8()};J.__typeName='tab.AreYouSureButtons';J.create=function(e,fm){var fn=new J(new K);if(ss.isValue(e)){fn.$a(e);fn.disposables.add$1(new tab.CallOnDispose(function(){fn.$b(e)}))}if(ss.isValue(fm)){fn.$c(fm);fn.disposables.add$1(new tab.CallOnDispose(function(){fn.$d(fm)}))}return fn};global.tab.AreYouSureButtons=J;var K=function(){this.container=null;this.label=null;this.cancelButton=null;this.confirmButton=null;spiff.Template.call(this,$("<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"));this.container=this.domRoot;this.label=this.getElementBySelector('.tab-areYouSure-label');this.cancelButton=this.getElementBySelector('.tab-areYouSure-no');this.confirmButton=this.getElementBySelector('.tab-areYouSure-yes')};K.__typeName='tab.AreYouSureTemplate';global.tab.AreYouSureTemplate=K;var L=function(e,fm,fn){this.$2=null;this.$3=null;M.call(this,e,fn);this.$2=e.RedirectUrl;this.$3=fm};L.__typeName='tab.BadPasswordAuthPromptOverlayWidget';global.tab.BadPasswordAuthPromptOverlayWidget=L;var M=function(e,fm){N.call(this,e,fm,null)};M.__typeName='tab.BaseDataSourceConnectionErrorOverlayWidget';global.tab.BaseDataSourceConnectionErrorOverlayWidget=M;var N=function(e,fm,fn){this.onProceed=null;this.onCancel=null;this.dataSourceConnectionAttemptErrorResponse=null;this.$1$1=false;this.dataSourceConnectionAttemptErrorResponse=e;this.onProceed=fm;this.onCancel=fn;this.set_submitted(false)};N.__typeName='tab.BaseDataSourceConnectionErrorWidget';global.tab.BaseDataSourceConnectionErrorWidget=N;var O=function(){this.parentNode=null};O.__typeName='tab.BaseDisposableDialog';global.tab.BaseDisposableDialog=O;var P=function(e,fm){var fn=function(fo,fp,fq){this.$1=null;ss.makeGenericType(spiff.ReactSpiffAdapter$3,[fm,ss.makeGenericType(ez,[e]),Object]).call(this,fo(fp.viewModel),fp,fq);this.$1=fo};ss.registerGenericClassInstance(fn,P,[e,fm],{handleWidgetPropertyChanged:function(fo,fp){},updateWidgetState:function(fo){if(!ss.referenceEquals(this.props.viewModel,fo.viewModel)){this.set_widget(tab.MiscUtil.dispose$1(this.get_widget()));this.set_widget(this.$1(fo.viewModel));var fp=$(ReactDOM.findDOMNode(this));if(ss.isValue(fp)){fp.append(this.get_widget().element)}}}},function(){return ss.makeGenericType(spiff.ReactSpiffAdapter$3,[fm,ss.makeGenericType(ez,[e]),Object])},function(){return[]});return fn};P.__typeName='tab.BaseToolbarButtonComponent$2';ss.initGenericClass(P,a,2);global.tab.BaseToolbarButtonComponent$2=P;var Q=function(e){this.$0=null;this.$0=e};Q.__typeName='tab.BrowserViewport';Q.$8=function(){return tab.Logger.lazyGetLogger(Q)};Q.$7=function(){var e=window.self.visualViewport;if(ss.isValue(e)){return{l:ss.Int32.trunc(e.pageLeft),t:ss.Int32.trunc(e.pageTop),w:ss.Int32.trunc(e.width),h:ss.Int32.trunc(e.height)}}else{var fm=new tab.WindowHelper(window.self);return{l:fm.get_pageXOffset(),t:fm.get_pageYOffset(),w:fm.get_clientWidth(),h:fm.get_clientHeight()}}};Q.getViewport=function(e){tab.Param.verifyValue(e,'callback');if(spiff.FullscreenUtil.get_inFullscreenMode()){e(new Q(Q.$7()))}else if(Q.$a){Q.$b.push(e);Q.$6()}else{e(new Q(Q.$7()))}};Q.$0=function(e){if(tabBootstrap.Utility.get_isEmbedded()){if(ss.isValue(Q.$c)){e.y+=Q.$c.y;e.x+=Q.$c.x}}else{try{var fm=window.self;while(ss.isValue(fm.frameElement)){var fn=$(fm.frameElement).offset();e.y+=tab.DoubleUtil.roundToInt(fn.top);e.x+=tab.DoubleUtil.roundToInt(fn.left);fm=fm.parent}}catch(fo){var e=ss.Exception.wrap(fo)}}};Q.$3=function(e){if(typeof(ss.getType('ss'))==='undefined'){return}var fm=e.data;if(ss.isNullOrUndefined(fm)||typeof(fm)!=='string'){return}var fn=fm;var fo=tab.NonApiCommand.parse(fn);if(fo.get_name()==='layoutInfoResp'){var fp={l:parseInt(ss.getItem(fo.get_parameters(),0),10),t:parseInt(ss.getItem(fo.get_parameters(),1),10),w:parseInt(ss.getItem(fo.get_parameters(),2),10),h:parseInt(ss.getItem(fo.get_parameters(),3),10)};Q.$2(fp)}else if(fo.get_name()==='tableau.enableVisibleRectCommunication'){Q.$a=true}else if(fo.get_name()==='vizOffsetResp'){Q.$c={x:parseInt(ss.getItem(fo.get_parameters(),0),10),y:parseInt(ss.getItem(fo.get_parameters(),1),10)};Q.$a=true}};Q.$2=function(e){var fm=new Q(e);if(Q.$b.length!==0){var fn=Q.$b.shift();fn(fm)}};Q.$6=function(){if(tab.BrowserSupport.get_postMessage()){var e=new tab.NonApiCommand('layoutInfoReq',[]);window.parent.postMessage(e.serialize(),'*')}else{Q.$2(Q.$7())}};Q.$5=function(){if(Q.$9){if('removeEventListener'in window.self){window.removeEventListener('message',Q.$3,true)}else{window.self.detachEvent('onmessage',Q.$3)}Q.$9=false}};Q.$1=function(){if('addEventListener'in window.self){window.addEventListener('unload',Q.$4,true)}else{window.self.attachEvent('onunload',Q.$4)}};Q.$4=function(e){Q.$5()};global.tab.BrowserViewport=Q;var R=function(e){React.Component.call(this,e)};R.__typeName='tab.ButtonZoneComponent';global.tab.ButtonZoneComponent=R;var S=function(e,fm){this.$f=null;this.$h=null;this.$g=false;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$f=e;this.$h=fm;this.$g=false;this.$f.add_contentUpdated(ss.mkdel(this,this.$6));this.$h.add_resizeZone(ss.mkdel(this,this.$7));this.$h.add_activeStateChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_resizeZone(ss.mkdel(this,this.$7));this.$h.remove_activeStateChanged(ss.mkdel(this,this.$5));this.$f.remove_contentUpdated(ss.mkdel(this,this.$6))})))};S.__typeName='tab.ButtonZoneViewModel';global.tab.ButtonZoneViewModel=S;var T=function(e,fm){this.dialogShowDelay=ss.coalesce(tab.FeatureParamsLookup.getInt(50),2000);this.$c=0;this.$b=null;this.$9=null;this.$a=null;this.$2$1=null;this.$2$2=null;O.call(this);this.$8(e);this.$6(fm)};T.__typeName='tab.CancelDialog';global.tab.CancelDialog=T;var U=function(e){spiff.PureRenderComponent.call(this,e);this.state={isCanceling:false}};U.__typeName='tab.CancelDialogComponent';global.tab.CancelDialogComponent=U;var V=function(){};V.__typeName='tab.CancelDialogTelemetry';V.$2=function(e,fm,fn){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('CommandCancellation')){var fo=(ss.staticEquals(fm,null)?0:(fn-fm));tab.OnlineAnalyticsClient.logEvent('Cancel_Dialog',['ElapsedTotalTimeShownMS',fo,'CommandName',e,'CancelStatus','CompletedBeforeCancel'])}};V.$1=function(e,fm,fn,fo){V.$0(e,'Failure',fm,fn,fo)};V.$3=function(e,fm,fn,fo,fp){V.$0(e,tab.CancelTelemetry.convertCancellationStatusForLog(fm),fn,fo,fp)};V.$0=function(e,fm,fn,fo,fp){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('CommandCancellation')){var fq=fo-fn;var fr=fp-fn;tab.OnlineAnalyticsClient.logEvent('Cancel_Dialog',['ElapsedTimeBeforeCancelledMS',fq,'ElapsedTotalTimeShownMS',fr,'CommandName',e,'CancelStatus',fm])}};global.tab.CancelDialogTelemetry=V;var W=function(e,fm){this.$0=null;this.$1=null;this.$3=null;this.$4=null;this.$6=false;this.$2=null;this.$5=null;this.$7=null;this.cachedVisibleRect=null;this.$0=e;this.$1=fm;this.$6=false;this.$7={x:0,y:0}};W.__typeName='tab.CanvasRenderer';W.$7=function(e,fm,fn){if(Math.round(fn)%2===1){var fo=fm.x-e.x;var fp=fm.y-e.y;if(fo!==0||fp!==0){var fq=fo*fo+fp*fp;fq=Math.sqrt(fq);var fr=Math.abs(0.5*(fo/fq));var fs=Math.abs(0.5*(fp/fq));e.x+=fs;e.y+=fr;fm.x+=fs;fm.y+=fr}}};W.getRenderContext=function(e,fm){var fn;if(fm==='opaque'&&tab.FeatureParamsLookup.getBool(42)){var fo=ss.mkdict(['alpha',false]);fn=e.getContext('2d',fo)}else{fn=e.getContext('2d')}return new eq(fn)};W.addMultipolygonPath=function(e,fm){var fn=fm.polygonList;var fo=fn.length;for(var fp=0;fp<fo;fp++){var fq=fn[fp].lineList;var fr=fq.length;for(var fs=0;fs<fr;fs++){var ft=fq[fs].pointsF;var fu=ft.length;if(fu<2){continue}e.moveTo(ft[0],ft[1]);for(var fv=2;fv<fu;fv=fv+2){e.lineTo(ft[fv],ft[fv+1])}}}};W.addMultipointPath=function(e,fm,fn){var fo=fm.pointsF;var fp=fo.length;for(var fq=0;fq<fp;fq=fq+2){var fr=fo[fq];var fs=fo[fq+1];e.moveTo(fr+fn,fs);e.arc(fr,fs,fn,0,W.twoPI,true)}};W.addMultilinePath=function(e,fm){var fn=fm.lineList;var fo=fn.length;for(var fp=0;fp<fo;fp++){var fq=fn[fp].pointsF;var fr=fq.length;if(fr===0||fr%2===1){continue}e.moveTo(fq[0],fq[1]);for(var fs=2;fs<fq.length;fs=fs+2){e.lineTo(fq[fs],fq[fs+1])}}};W.boundsCoordinateArray=function(e,fm){var fn=e.length;for(var fo=0;fo<fn;fo=fo+2){var fp=e[fo];var fq=e[fo+1];fm.minX=Math.min(fm.minX,fp);fm.minY=Math.min(fm.minY,fq);fm.maxX=Math.max(fm.maxX,fp);fm.maxY=Math.max(fm.maxY,fq)}};W.boundsMultipolygon=function(e,fm){for(var fn=0;fn<e.polygonList.length;fn++){var fo=e.polygonList[fn];for(var fp=0;fp<fo.lineList.length;fp++){var fq=fo.lineList[fp];W.boundsCoordinateArray(fq.pointsF,fm)}}};W.boundsMultilineString=function(e,fm){for(var fn=0;fn<e.lineList.length;fn++){var fo=e.lineList[fn];W.boundsCoordinateArray(fo.pointsF,fm)}};W.getBasisVectorsBetweenTwoPoints=function(e,fm,fn){var fo=fm.x-e.x;var fp=fm.y-e.y;var fq=Math.sqrt(fo*fo+fp*fp);var fr={x:fn*(fo/fq),y:fn*(fp/fq)};var fs={x:-fr.y,y:fr.x};return{item1:fr,item2:fs}};W.fillPath=function(e,fm,fn){var fo=Math.floor(fm.length/2);if(fo<2){return}e.beginPath();e.moveTo(fm[0],fm[1]);for(var fp=2;fp<fo*2;fp+=2){e.lineTo(fm[fp],fm[fp+1])}if(fn){e.closePath()}e.fill()};W.strokePath=function(e,fm,fn,fo){var fp=Math.floor(fm.length/2);if(fp<2){return}e.beginPath();var fq=e.get_lineWidth();for(var fr=0;fr<fp*2-2;fr+=2){var fs={x:fm[fr],y:fm[fr+1]};var ft={x:fm[fr+2],y:fm[fr+3]};if(fp<=2&&fo){W.$7(fs,ft,fq)}if(fr===0){e.moveTo(fs.x,fs.y)}W.$3(e,fs,ft)}if(fn){e.closePath();var fu=fp*2;var fv={x:fm[fu-2],y:fm[fu-1]};var fw={x:fm[0],y:fm[1]};if(fp<=2&&fo){W.$7(fv,fw,fq)}W.$3(e,fv,fw)}e.stroke()};W.toCanvasAngle=function(e){return e*W.twoPI-W.halfPI};W.toCanvasLineCap=function(e){switch(e){case'flat':{return'butt'}case'square':{return'square'}case'round':{return'round'}case'triangle':{break}}return'butt'};W.toCanvasLineJoin=function(e){switch(e){case'bevel':{return'bevel'}case'miter':{return'miter'}case'round':{return'round'}}return'miter'};W.renderRectangle=function(e,fm,fn,fo,fp,fq,fr){var fs=fo/2;var ft=fp/2;e.set_lineJoin('miter');e.set_lineWidth(fr);e.set_strokeStyle(fq);e.strokeRect(fm-fs,fn-ft,fo,fp)};W.renderCircle=function(e,fm,fn,fo,fp,fq){e.beginPath();e.arc(fm,fn,fo/2,0,W.twoPI,true);e.closePath();e.set_lineWidth(fq);e.set_strokeStyle(fp);e.stroke()};W.renderFilledCircle=function(e,fm,fn,fo,fp){e.beginPath();e.arc(fm,fn,fo/2,0,W.twoPI,true);e.closePath();e.set_shapeFillStyle(fp);e.fill()};W.renderWedge=function(e,fm,fn,fo,fp,fq,fr,fs,ft,fu){var fv=W.toCanvasAngle(fp);var fw=W.toCanvasAngle(fq);if(Math.abs(fw-fv)<W.angleEpsilon){return}if(ss.isNullOrUndefined(ft)){ft=false}var fx=Math.abs(fq-fp)>=1;e.beginPath();if(!fx){e.moveTo(fm,fn)}fv=W.$6(fv);fw=W.$6(fw);e.arc(fm,fn,fo,fv,fw,ft);e.closePath();e.set_lineJoin((fu?'miter':'round'));e.set_lineWidth(fs);e.set_strokeStyle(fr);e.stroke()};W.createPlaceholderPath=function(e,fm,fn,fo){e.beginPath();e.arc(fm,fn,fo/2,0,W.twoPI,true);e.closePath()};W.createMultipolygonPath=function(e,fm){e.beginPath();W.addMultipolygonPath(e,fm.multiPolygon);e.closePath()};W.createMultipointPath=function(e,fm,fn){e.beginPath();W.addMultipointPath(e,fn.multiPoint,fm/2);e.closePath()};W.fillMultiLineStringPath=function(e,fm,fn){e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(fn);e.set_lineWidth(fm);e.stroke()};W.fillClearMultiLineStringPath=function(e,fm,fn){var fo=e.get_globalCompositeOperation();e.set_globalCompositeOperation('destination-out');e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(fn);e.set_lineWidth(fm);e.stroke();e.set_globalCompositeOperation(fo)};W.$2=function(e,fm,fn){e.beginPath();e.moveTo(fm.x,fm.y);e.lineTo(fn.x,fn.y);e.stroke()};W.$0=function(e,fm,fn){var fo=e[0];var fp=e[1];var fq=W.getBasisVectorsBetweenTwoPoints(fo,fp,fm);var fr=W.$8(fq.item1);var fs={x:fr.x*(fn/2),y:fr.y*(fn/2)};var ft=fq.item2;var fu={x:fo.x-fs.x+ft.x,y:fo.y-fs.y+ft.y};var fv={x:fo.x-fs.x-ft.x,y:fo.y-fs.y-ft.y};var fw=new Array(2);fw[0]=fu;fw[1]=fv;return fw};W.fillMultiLineStringEndCaps=function(e,fm,fn,fo,fp){e.set_strokeStyle(fp);e.set_lineWidth(fo);var fq=fn/2;var fr=fm.lineList;var fs=fr.length;for(var ft=0;ft<fs;ft++){var fu=fr[ft].pointsF;var fv=fu.length;if(fv<4||fv%2===1){continue}var fw={x:fu[0],y:fu[1]};var fx={x:fu[2],y:fu[3]};var fy=new Array(2);fy[0]=fw;fy[1]=fx;var fz=W.$0(fy,fq,fo);W.$2(e,fz[0],fz[1]);fw.x=fu[fv-2];fw.y=fu[fv-1];fx.x=fu[fv-4];fx.y=fu[fv-3];fy[0]=fw;fy[1]=fx;fz=W.$0(fy,fq,fo);W.$2(e,fz[0],fz[1])}e.beginPath();W.addMultilinePath(e,fm)};W.$8=function(e){var fm=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/fm,y:e.y/fm}};W.createMultiLinePath=function(e,fm){e.beginPath();W.addMultilinePath(e,fm.multiLine)};W.$3=function(e,fm,fn){if(tab.BrowserSupport.get_canvasLinePattern()){e.lineTo(fn.x,fn.y)}else{switch(e.get_linePattern()){case'dashed':{W.$1(e,fm,fn,eq.defaultLineDashDashed[0],eq.defaultLineDashDashed[1]);break}case'dotted':{W.$1(e,fm,fn,eq.defaultLineDashDotted[0],eq.defaultLineDashDotted[1]);break}case'solid':default:{e.lineTo(fn.x,fn.y);break}}}};W.$1=function(e,fm,fn,fo,fp){var fq=e.get_lineWidth();fo=fq*fo;fp=fq*fp;e.moveTo(fm.x,fm.y);var fr=false;var fs=fo;var ft=fm.x;var fu=fm.y;var fv=fn.x-fm.x;var fw=fn.y-fm.y;var fx=fv*fv+fw*fw;fx=Math.sqrt(fx);var fy=fv/fx;var fz=fw/fx;while(fx>0){var fA=((fx>fs)?fs:fx);var fB=ft+fA*fy;var fC=fu+fA*fz;if(fr){e.moveTo(fB,fC)}else{e.lineTo(fB,fC)}fx-=fA;fs-=fA;if(fs===0){fr=!fr;fs=(fr?fp:fo)}ft=fB;fu=fC}};W.$5=function(e,fm){var fn=tab.DomUtil.parseWidthFromStyle(e.style);fn=(isNaN(fn)?fm:fn);return fn};W.$4=function(e,fm){var fn=tab.DomUtil.parseHeightFromStyle(e.style);fn=(isNaN(fn)?fm:fn);return fn};W.$6=function(e){return ss.Int32.trunc(e*100000)/100000};global.tab.CanvasRenderer=W;var X=function(){};X.__typeName='tab.CanvasUtil';X.sizeCanvasWithHighDPISupport=function(e,fm,fn){var fo=dF.calculatePixelRatio();X.setCanvasSizeAndDensify(e,fo,fn);if(!tab.DoubleUtil.isApproximatelyEqual(fo,1)){X.scaleCanvasDrawing(fm,fo)}};X.setCanvasSizeAndDensify=function(e,fm,fn){if(ss.isValue(e)){var fo={w:ss.Int32.trunc(fn.w*fm),h:ss.Int32.trunc(fn.h*fm)};X.densifyCanvasUsingSize(e,fo,fn)}};X.densifyCanvasUsingSize=function(e,fm,fn){if(ss.isValue(e)&&ss.isValue(fm)&&ss.isValue(fn)){e.width=fm.w;e.height=fm.h;e.style.width=X.$0(fn.w);e.style.height=X.$0(fn.h)}};X.scaleCanvasDrawing=function(e,fm){if(ss.isValue(e)){e.pixelRatio=fm;e.scale(fm,fm)}};X.isOverCanvasSizeLimit=function(e,fm,fn){var fo=Math.floor(fn*e*fn*fm+0.5);return fo>tabBootstrap.ViewerBootstrap.get_canvasPixelLimit()};X.canvasDensified=function(e){return!!e.style.height&&!ss.referenceEquals(e.style.height,X.$0(e.height))};X.$0=function(e){return e+'px'};global.tab.CanvasUtil=X;var Y=function(){this.command=null;ss.EventArgs.call(this)};Y.__typeName='tab.CommandExecutedEventArgs';global.tab.CommandExecutedEventArgs=Y;var Z=function(){this.$2=new tab.DisposableHolder};Z.__typeName='tab.CommonBannerProviderImpl';global.tab.CommonBannerProviderImpl=Z;var ba=function(){this.$2=new tab.DisposableHolder};ba.__typeName='tab.CommonDialogProviderImpl';ba.$0=function(){var e=document.createElement('div');return e};global.tab.CommonDialogProviderImpl=ba;var bb=function(){};bb.__typeName='tab.CommonDialogProviderTelemetry';bb.$1=function(e,fm,fn){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Error.Alert',['Title',e,'Content',fm,'Links',(_.isArray(fn)?JSON.stringify(fn):'')])}};bb.$0=function(e,fm){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){var fn=ss.coalesce(fm.ErrorType,'');var fo=ss.coalesce(fm.ErrorMessage,'');var fp=ss.coalesce(fm.RedirectUrl,'');tab.OnlineAnalyticsClient.logEvent('Error.DataSourceConnection',['Context',e,'ErrorType',fn,'Message',fo,'RedirectUrl',fp])}};global.tab.CommonDialogProviderTelemetry=bb;var bc=function(){this.$2=null;this.$1=null;this.$2={};this.$1={}};bc.__typeName='tab.CompletionMonitor';bc.get_instance=function(){if(ss.isNullOrUndefined(bc.$0)){bc.$0=new bc}return bc.$0};global.tab.CompletionMonitor=bc;var bd=function(){};bd.__typeName='tab.CompletionMonitorType';global.tab.CompletionMonitorType=bd;var be=function(e,fm){this.$0=null;this.completionMonitorType=0;this.completionMonitorType=e;this.$0=fm};be.__typeName='tab.CompletionToken';global.tab.CompletionToken=be;var bf=function(e,fm,fn){this.$3=null;this.$2=null;this.$1=null;this.$4=false;this.$5=null;this.$2$1=null;O.call(this);this.$3=e;this.$2=fm;this.$1=fn;this.$5=ss.mkdel(this,this.$0);this.$4=false;if(fn==='textscan'){var fo=tab.DataConnectionUtils.stripDirectoryFromPath(e);if(!ss.referenceEquals(fo,e)){this.$4=true}}};bf.__typeName='tab.ConnectionMissingFileDialog';global.tab.ConnectionMissingFileDialog=bf;var bg=function(e,fm){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bj,bh,Object]).call(this,tab.ObjectRegistry.newView(bj).call(null,[e.viewModel]),e,fm)};bg.__typeName='tab.CustomViewsComponent';global.tab.CustomViewsComponent=bg;var bh=function(){this.viewModel=null};bh.__typeName='tab.CustomViewsProps';global.tab.CustomViewsProps=bh;var bi=function(){this.customViewsArea=null;this.manageModeControlArea=null;this.myViewsTitle=null;this.myViewsListArea=null;this.otherViewsTitle=null;this.otherViewsListArea=null;this.myViewsListWrapper=null;this.otherViewsListWrapper=null;this.saveViewArea=null;spiff.Template.call(this,$("\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"));this.customViewsArea=this.domRoot;this.manageModeControlArea=this.getElementBySelector('.tab-cv-manageModeControls');this.myViewsListArea=this.getElementBySelector('.tab-cv-myViews .tab-cv-viewsList');this.myViewsTitle=this.getElementBySelector('.tab-cv-myViews .tab-toolbarFlyoutTitle');this.otherViewsTitle=this.getElementBySelector('.tab-cv-otherViews .tab-toolbarFlyoutTitle');this.otherViewsListArea=this.getElementBySelector('.tab-cv-otherViews .tab-cv-viewsList');this.myViewsListWrapper=this.getElementBySelector('.tab-cv-myViews .tab-cv-listWrapper');this.otherViewsListWrapper=this.getElementBySelector('.tab-cv-otherViews .tab-cv-listWrapper');this.saveViewArea=this.getElementBySelector('.tab-customViews-saveView')};bi.__typeName='tab.CustomViewsTemplate';global.tab.CustomViewsTemplate=bi;var bj=function(e){this.$15=null;this.$14=null;this.$12=null;this.$X=null;this.$Y=null;this.$Z=null;this.$10={};this.$11=null;this.$W=null;this.$13=null;ss.makeGenericType(spiff.BaseView$1,[bk]).call(this,e,new bi);this.$a();this.get_viewModel().add_customViewListChanged(ss.mkdel(this,this.$P));this.get_viewModel().updateCustomizedViews(null,null)};bj.__typeName='tab.CustomViewsView';global.tab.CustomViewsView=bj;var bk=function(){this.$s=null;this.$q=[];this.$r=[];this.$p=bk.modeSelect;this.$l=null;this.$m=null;this.$n=null;this.$o=false;this.hideView=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);this.$s=new tab.CustomizedViewSession(tab.CommandController.get().get_legacySession());if(tsConfig.allow_custom_views){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$5(null,null)}));tab.DashboardModel.add_modifiedSheetsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.DashboardModel.remove_modifiedSheetsChanged(ss.mkdel(this,this.$9))})))}};bk.__typeName='tab.CustomViewsViewModel';bk.$0=function(e,fm){return ss.compareStrings(e.name,fm.name,true)};global.tab.CustomViewsViewModel=bk;var bl=function(e,fm){this.dashboardNode=null;spiff.Template.call(this,$(e));if(fm){this.dashboardNode=this.getElementBySelector('.tab-dashboard')}else{this.dashboardNode=this.domRoot}};bl.__typeName='tab.DashboardTemplate';bl.newDashboardTemplate=function(e){var fm=(e?"<div class='tab-gutter'><div id='tab-dashboard-region' class='tab-dashboard'/></div>":"<div id='tab-dashboard-region' class='tab-dashboard'/>");return new bl(fm,e)};global.tab.DashboardTemplate=bl;var bm=function(e){this.$e=null;ss.makeGenericType(spiff.BaseView$1,[bn]).call(this,e,bl.newDashboardTemplate(e.get_hasGutter()));this.$e=e;this.$e.add_formatsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_formatsChanged(ss.mkdel(this,this.$9))})));this.$e.add_newZone(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_newZone(ss.mkdel(this,this.$a))})));this.$e.add_vizRebuildStart(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_vizRebuildStart(ss.mkdel(this,this.$c))})));this.$e.add_sizeChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_sizeChanged(ss.mkdel(this,this.$b))})))};bm.__typeName='tab.DashboardView';bm.findDashboard=function(){return $('.tab-dashboard')};bm.uniquefyClonedFilterRadioElements=function(e){var fm=e.find('input:radio');for(var fn=0;fn<fm.length;++fn){var fo=fm[fn];var fp=ss.coalesce(fo.getAttribute('name'),'');fp+='_%%%CLONE%%%';fo.setAttribute('name',fp)}};global.tab.DashboardView=bm;var bn=function(e){this.$m={};this.$l=null;this.viewControllersBySheet={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.viewControllers=null;this.dashboardModel=null;this.gutter=null;spiff.BaseViewModel.call(this);this.gutter=tabBootstrap.ViewerBootstrap.get_instance().authoringGutter;this.dashboardModel=e;this.dashboardModel.zonesModel.add_newZone(ss.mkdel(this,this.$8));this.dashboardModel.add_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.add_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.add_readyZoneChanged(ss.mkdel(this,this.$9));tab.SheetSession.add_sheetDataChanged(ss.mkdel(this,this.$k));tab.BaseSession.add_stateChanged(ss.mkdel(this,this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.BaseSession.remove_stateChanged(ss.mkdel(this,this.$h))})));this.disposables.add$1(new tab.CallOnDispose(tab.StyleUtil.clearDefaultStyleSheet));this.dashboardModel.add_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.add_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.add_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.add_formatsChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dashboardModel.remove_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.remove_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.remove_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.remove_formatsChanged(ss.mkdel(this,this.$e))})));this.viewControllers=[];this.$2()};bn.__typeName='tab.DashboardViewModel';bn.new$1=function(e){return new bn(e)};global.tab.DashboardViewModel=bn;var bo=function(e,fm){React.Component.call(this,e,fm)};bo.__typeName='tab.DataAlertCreateComponent';global.tab.DataAlertCreateComponent=bo;var bp=function(){by.call(this);this.successMessage=tab.Strings.DataAlertCreateSuccess;this.failureMessage=tab.Strings.DataAlertCreateFailure};bp.__typeName='tab.DataAlertCreatePersister';bp.new$1=function(){return new bp};global.tab.DataAlertCreatePersister=bp;var bq=function(e){this.$0=null;bz.call(this);this.$0=e};bq.__typeName='tab.DataAlertCreatePreparer';bq.new$1=function(e){return new bq(e)};global.tab.DataAlertCreatePreparer=bq;var br=function(e,fm){this.$C=null;this.$B=null;this.$A=null;this.$H=null;this.$G=false;this.$F=false;this.$D='';this.$E=null;this.users=null;this.$3$1=false;this.$3$2=false;ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]).call(this);this.set_emptySearch(true);if(tsConfig.is_guest){return}this.$B=e;this.$A=fm;this.$o();this.$m();this.refresh()};br.__typeName='tab.DataAlertCreateViewModel';br.new$1=function(e,fm){return new br(e,fm)};global.tab.DataAlertCreateViewModel=br;var bs=function(e,fm){this.$h=null;this.$k=null;this.$f=null;this.$g=null;this.$j=null;this.$i=null;this.$3$1=null;this.dialogPosition=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$j=fm;tab.CommandController.get().add_undoCommand(ss.mkdel(this,this.$c));if(ss.isValue(e)){this.$i=e;this.updateFromDialogPresModel(e)}};bs.__typeName='tab.DataAlertDialogViewModel';bs.get_dataAlertModelExistsAndVisibleInApplicationModel=function(){return ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel())&&ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)&&tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm.isDataAlertDialogVisible};bs.new$1=function(e,fm){return new bs(e,fm)};bs.handleDataAlertClick=function(e){tab.OnlineAnalyticsClient.logEvent('DataAlert_CreateAlertButtonClicked',['ErrorMessageType','createAlertButtonClicked']);if(!ss.isNullOrEmptyString(e)){bs.showNotificationAndLogError(e,'platformPropagatedError');return}tab.DataAlertClientCommands.newDataAlert(function(){bs.showNotificationAndLogError(tab.Strings.DataAlertInitFailure,'genericDataAlertInitError')})};bs.showNotificationAndLogError=function(e,fm){tab.OnlineAnalyticsClient.logEvent('DataAlert_CreateAlertButtonClicked',['ErrorMessageType',fm,'ErrorMessageString',e]);dg.showNotification(e)};global.tab.DataAlertDialogViewModel=bs;var bt=function(e){this.$0='';by.call(this);this.$0=e;this.successMessage=tab.Strings.DataAlertUpdateSuccess;this.failureMessage=tab.Strings.DataAlertUpdateFailure};bt.__typeName='tab.DataAlertEditPersister';bt.new$1=function(e){return new bt(e)};bt.getDifferenceInUserLists=function(e,fm){var fn=_.difference(fm.map(function(fr){return fr.id}),e.map(function(fr){return fr.id}));var fo=[];for(var fp=0;fp<fn.length;fp++){var fq={$:fn[fp]};ss.arrayAddRange(fo,fm.filter(ss.mkdel({id:fq},function(fr){return fr.id===this.id.$})))}return fo};bt.getOldUsersToRemove=function(e,fm){return bt.getDifferenceInUserLists(fm,e)};global.tab.DataAlertEditPersister=bt;var bu=function(e,fm){this.$7=null;this.$5=false;this.$6=false;bz.call(this);this.dataAlert=new tab.DataAlert.$ctor1(e);this.$7=fm};bu.__typeName='tab.DataAlertEditPreparer';bu.new$1=function(e,fm){return new bu(e,fm)};global.tab.DataAlertEditPreparer=bu;var bv=function(){};bv.__typeName='tab.DataAlertEditUrlHelper';bv.isDataAlertEdit=function(){var e=bv.editDataAlertId();if(ss.isNullOrEmptyString(e)){return false}return true};bv.editDataAlertId=function(){var e=tabBootstrap.Utility.get_urlLocationSearchParams()[bv.editDataAlertUrlParam];return(ss.isNullOrEmptyString(e)?'':e)};global.tab.DataAlertEditUrlHelper=bv;var bw=function(e){spiff.PureRenderComponent.call(this,e)};bw.__typeName='tab.DataAlertErrorComponent';global.tab.DataAlertErrorComponent=bw;var bx=function(e,fm){this.$b=null;this.$a=null;this.$9=null;this.$3$1=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$b=e;this.$a=fm;this.$7()};bx.__typeName='tab.DataAlertErrorViewModel';global.tab.DataAlertErrorViewModel=bx;var by=function(){this.successMessage=null;this.failureMessage=null;this.$1$1=null;this.$1$2=null};by.__typeName='tab.DataAlertPersisterBase';global.tab.DataAlertPersisterBase=by;var bz=function(){this.dataAlert=null;this.$1$1=null;this.$1$2=null};bz.__typeName='tab.DataAlertPreparerBase';global.tab.DataAlertPreparerBase=bz;var bA=function(){};bA.__typeName='tab.DataAlertTelemetryConstants';global.tab.DataAlertTelemetryConstants=bA;var bB=function(e,fm){this.dataHighlighterViewModel=null;this.$l=null;this.$m=null;this.dataHighlighterContentElement=null;this.dataHighlighterViewRootElement=null;this.zoneTitleRegionRootElement=null;this.$p=null;this.queryDelayTimer=null;this.currentListPopulationMode=0;this.notShownResultsListItemIsVisible=false;this.$o=false;this.$n=null;ss.makeGenericType(spiff.BaseView$1,[bD]).call(this,e,fm);this.dataHighlighterViewModel=e;this.$m=fm.domRoot;this.dataHighlighterContentElement=fm.get_dataHighlighterContentElement();this.dataHighlighterViewRootElement=fm.get_dataHighlighterViewRootElement();this.zoneTitleRegionRootElement=fm.get_zoneTitleRegionRootElement();this.$l=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.dataHighlighterViewRootElement.append(this.$l.get_domRoot());this.$l.addClass('tabDataHighlighterView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(this.get_viewModel().get_searchPlaceholderString());if(!ss.isNullOrUndefined(this.get_viewModel().get_searchText())&&this.get_viewModel().get_searchText().length>0){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive());this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText())}this.$k();this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().add_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().add_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().add_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().add_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.add_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.add_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.add_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.add_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.add_domainItemsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'mouseup',ss.mkdel(this,this.$d)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'touchend',ss.mkdel(this,this.$d)));this.setTitleFromModel();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().removeList();this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().remove_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().remove_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().remove_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().remove_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.remove_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.remove_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.remove_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.remove_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.remove_domainItemsChanged(ss.mkdel(this,this.$9));this.$g()})))};bB.__typeName='tab.DataHighlighterView';global.tab.DataHighlighterView=bB;var bC=function(){};bC.__typeName='tab.DataHighlighterView$ListPopulationMode';global.tab.DataHighlighterView$ListPopulationMode=bC;var bD=function(e,fm,fn){this.$5=null;this.$a=null;this.$b=null;this.$8=null;this.$7=false;this.$9=null;this.$6=null;this.lastSatisfiedSearchTerm=null;this.lastSatisfiedSearchResults=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$5=e;this.$a=fm;this.$8=fn;this.$7=this.$5.get_isActive();this.set_searchText(this.$5.get_searchText());this.$6=ss.arrayClone(this.$5.get_fullDomainItemSet().dataHighlighterItems);if(ss.isValue(this.$8)){if(ss.isValue(this.$8.get_model().pm)&&this.$8.get_hasTitle()){this.$b=this.$8.get_model().pm.zoneTitle}this.$8.add_updateZone(ss.mkdel(this,this.$4));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_updateZone(ss.mkdel(this,this.$4))})))}this.$5.add_newDataHighlighterPresModel(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newDataHighlighterPresModel(ss.mkdel(this,this.$3))})))};bD.__typeName='tab.DataHighlighterViewModel';bD.$0=function(e,fm){if(e.length!==fm.length){return true}else{for(var fn=0;fn<e.length;fn++){if(!ss.referenceEquals(e[fn].text,fm[fn].text)){return true}}}return false};global.tab.DataHighlighterViewModel=bD;var bE=function(){this.$1=null;this.$2=null;this.$3=null;spiff.Template.call(this,$("\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"));this.$1=this.domRoot.find('.tabDataHighlighterContent');this.$2=this.domRoot.find('.tabDataHighlighterView');this.$3=this.domRoot.find('.tab-zone-titleregion')};bE.__typeName='tab.DataHighlighterViewTemplate';global.tab.DataHighlighterViewTemplate=bE;var bF=function(e,fm,fn){this.$1=null;N.call(this,e,fm,fn);this.$1=new bU(tab.Strings.AuthenticationRequired,e.RedirectUrl,'dse-frame')};bF.__typeName='tab.DataSourceConnectionErrorDialog';global.tab.DataSourceConnectionErrorDialog=bF;var bG=function(e){this.$q=0;this.$C=null;this.$y=null;this.$r=null;this.$p=null;this.$B=null;this.$u=null;this.$v=null;this.$s=null;this.$t=null;this.$x=null;this.$A=null;this.$z=null;this.$w=null;this.$E=null;this.$D=null;this.$F=false;spiff.Widget.call(this,$('<span>'));this.$q=e.firstDayOfWeek;this.$C=e.shortDayOfWeekNames;this.$D=e.todayFormatTemplate;this.$y=e.monthYearFormatter;this.$r=e.fullDateFormatter;this.$F=false;var fm=new Date;this.$p=bG.$4(bG.$2(e.monthToShow)||fm);this.$B=bG.$2(e.dateToSelect);this.setDateRange(e.minDate,e.maxDate);this.element.addClass('tab-datepicker');this.$d().appendTo(this.element);var fn=$('<div>').addClass('tab-datepicker-month-table-wrapper').append($('<div>').addClass('tab-datepicker-week-shade')).append(this.$e());fn.appendTo(this.element);this.$c().appendTo(this.element);this.element.mousedown(function(fo){spiff.EventUtil.stopEvent(fo)});this.$l()};bG.__typeName='tab.DatePicker';bG.$2=function(e){return(!!e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):null)};bG.$3=function(e){return(!!e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):null)};bG.$4=function(e){return(!!e?new Date(e.getFullYear(),e.getMonth(),1):null)};bG.$1=function(e,fm,fn,fo){if(e+fm>fo){e=fo-fm;if(e<fn){e+=Math.ceil((fn-e)/2)}}return e};bG.$0=function(e,fm){return(e+fm+14)%7};bG.$5=function(e,fm){return e.getFullYear()===fm.getFullYear()&&e.getMonth()===fm.getMonth()&&e.getDate()===fm.getDate()};global.tab.DatePicker=bG;var bH=function(e,fm,fn,fo,fp,fq,fr,fs,ft){this.monthToShow=null;this.dateToSelect=null;this.minDate=null;this.maxDate=null;this.firstDayOfWeek=0;this.shortDayOfWeekNames=null;this.todayFormatTemplate=null;this.monthYearFormatter=null;this.fullDateFormatter=null;this.monthToShow=(ss.isNullOrUndefined(e)?null:new Date(e.getTime()));this.dateToSelect=(ss.isNullOrUndefined(fm)?null:new Date(fm.getTime()));this.minDate=(ss.isNullOrUndefined(fn)?null:new Date(fn.getTime()));this.maxDate=(ss.isNullOrUndefined(fo)?null:new Date(fo.getTime()));this.firstDayOfWeek=ss.coalesce(fp,0);this.shortDayOfWeekNames=(ss.isNullOrUndefined(fq)?['S','M','T','W','T','F','S']:ss.arrayClone(fq));this.todayFormatTemplate=(ss.isNullOrUndefined(fr)?'Today: {0}':fr);this.monthYearFormatter=(ss.isNullOrUndefined(fs)?function(fu){return ss.localeFormatDate(bG.$2(fu),'MMMM yyyy')}:fs);this.fullDateFormatter=(ss.isNullOrUndefined(ft)?function(fu){return ss.localeFormatDate(bG.$2(fu),'MMMM d, yyyy')}:ft)};bH.__typeName='tab.DatePickerSettings';global.tab.DatePickerSettings=bH;var bI=function(){};bI.__typeName='tab.DetailedErrorDialogCommands';bI.$0=function(e,fm){var fn=fm||[];var fo=ss.arrayClone(ss.netSplit(e,['<br>'],null,1));var fp=fo[0];ss.remove(fo,fp);ss.arrayInsertRange(fn,0,fo);return{item1:fp,item2:fn}};bI.$1=function(e){var fm={};if(ss.isValue(e)){for(var fn=0;fn<e.length;fn++){var fo=e[fn];fm[fo.displayText]=fo.url}}return fm};bI.showDetailedErrorDialog=function(e,fm,fn,fo){var fp=bI.$0(e,fo);var fq=bI.$1(fn);var fr=new dY;fr.c['errorDialogTitle']=fm;fr.c['errorShortMessage']=fp.item1;fr.c['errorDetails']=fp.item2;fr.c['errorHelpLink']='https://www.tableau.com/support/';fr.c['issueHelperLinks']=JSON.stringify(fq);fr.c['queryDetails']='';fr.c['useCopyCommand']=false;fr.invoke()};bI.showDetailedErrorDialogConfirmation=function(e,fm,fn,fo,fp,fq){var fr=bI.$0(e,fq);var fs=bI.$1(fp);var ft=new dW;ft.c['errorDialogTitle']=fm;ft.c['errorShortMessage']=fr.item1;ft.c['errorDetails']=fr.item2;ft.c['errorHelpLink']='https://www.tableau.com/support/';ft.c['errorConfirmationQuestion']=fn;ft.c['confirmationCommand']=fo;ft.c['issueHelperLinks']=JSON.stringify(fs);ft.c['queryDetails']='';ft.c['useCopyCommand']=false;ft.invoke()};global.tab.DetailedErrorDialogCommands=bI;var bJ=function(){React.Component.call(this)};bJ.__typeName='tab.DialogHostComponent';global.tab.DialogHostComponent=bJ;var bK=function(){this.$8=false;this.$7=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};bK.__typeName='tab.DialogHostViewModel';global.tab.DialogHostViewModel=bK;var bL=function(){};bL.__typeName='tab.DisabledTooltipBehavior';global.tab.DisabledTooltipBehavior=bL;var bM=function(e,fm){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bQ,bO,Object]).call(this,tab.ObjectRegistry.newView(bQ).call(null,[e.viewModel]),e,fm)};bM.__typeName='tab.DownloadComponent';global.tab.DownloadComponent=bM;var bN=function(e,fm,fn,fo){this.$4=null;this.$3=null;this.$5=null;this.$6=null;this.$2=null;tab.Param.verifyString(e,'title');tab.Param.verifyString(fm,'message');tab.Param.verifyString(fn,'url');tab.Param.verifyString(fo,'urlTarget');this.$4=e;this.$3=fm;this.$5=fn;this.$6=fo};bN.__typeName='tab.DownloadFileDialog';bN.$0=function(e){var fm=React.createElement(SharedWidgets.ButtonWidget,{handleClick:function(fo){e()},buttonType:1,testId:'CancelBtn',label:tab.Strings.DialogButtonCancel});var fn=spiff.DOMElements.div({key:'cancel-button-wrapper-key',children:fm});return fn};global.tab.DownloadFileDialog=bN;var bO=function(){this.viewModel=null};bO.__typeName='tab.DownloadProps';global.tab.DownloadProps=bO;var bP=function(){this.downloadArea=null;this.menuArea=null;this.applicationArea=null;this.explanationTitle=null;this.explanationBody=null;this.actionArea=null;this.availablePlatforms=null;this.downloadAppButton=null;spiff.Template.call(this,$("<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"));this.downloadArea=this.domRoot;this.menuArea=this.getElementBySelector('.tab-downloadButtons');this.applicationArea=this.getElementBySelector('.tab-downloadApplication');this.explanationTitle=this.getElementBySelector('.tab-explanationTitle');this.explanationBody=this.getElementBySelector('.tab-explanationBody');this.actionArea=this.getElementBySelector('.tab-downloadAction');this.availablePlatforms=this.getElementBySelector('.tab-availablePlatforms');this.downloadAppButton=this.getElementBySelector('.tab-downloadAppButton');if(tsConfig.is_mobile){this.downloadArea.addClass('tab-mobileDownloadView')}};bP.__typeName='tab.DownloadTemplate';global.tab.DownloadTemplate=bP;var bQ=function(e){this.$i=null;this.$h=null;this.$g=null;this.$j=false;ss.makeGenericType(spiff.BaseView$1,[bR]).call(this,e,new bP);this.$i=e;this.$j=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<715;if(this.$j){this.get_dom().downloadArea.addClass('tab-narrowDownloadView')}this.$a()};bQ.__typeName='tab.DownloadView';global.tab.DownloadView=bQ;var bR=function(){this.$2$1=null;spiff.BaseViewModel.call(this)};bR.__typeName='tab.DownloadViewModel';global.tab.DownloadViewModel=bR;var bS=function(e){spiff.ModalDialog.$ctor1.call(this,e,$('<span></span>'))};bS.__typeName='tab.DynamicallyLoadedContentDialog';global.tab.DynamicallyLoadedContentDialog=bS;var bT=function(e,fm){this.$P=null;bS.call(this,e);this.$P=fm;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-small')};bT.__typeName='tab.DynamicallyLoadedContentIntoDomDialog';global.tab.DynamicallyLoadedContentIntoDomDialog=bT;var bU=function(e,fm,fn){this.$P=null;this.urlToLoadDialogContent=null;bS.call(this,e);this.$P=fn;this.urlToLoadDialogContent=fm;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-tall')};bU.__typeName='tab.DynamicallyLoadedContentIntoIframeDialog';global.tab.DynamicallyLoadedContentIntoIframeDialog=bU;var bV=function(e){this.$2=null;this.$3=false;this.$2$1=null;O.call(this);this.$2=e};bV.__typeName='tab.EditConnectionInformationDialog';global.tab.EditConnectionInformationDialog=bV;var bW=function(){};bW.__typeName='tab.EmailValidator';bW.validate=function(e){if(ss.isNullOrEmptyString(e)){return false}if(e.length>bW.maxEmailLength){return false}var fm=new RegExp('^[^\\s"(),:;<>@[\\]]+@([-a-z0-9]+\\.)+[a-z0-9]{2,}$','i');return fm.test(e)};global.tab.EmailValidator=bW;var bX=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-extension-empty'></div>"))};bX.__typeName='tab.EmptyExtensionTemplate';global.tab.EmptyExtensionTemplate=bX;var bY=function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyFloatingLayoutMessage)};bY.__typeName='tab.EmptyFloatingLayoutTemplate';global.tab.EmptyFloatingLayoutTemplate=bY;var bZ=function(e){ss.makeGenericType(spiff.BaseView$1,[ca]).call(this,e,new bY)};bZ.__typeName='tab.EmptyFloatingLayoutView';global.tab.EmptyFloatingLayoutView=bZ;var ca=function(e){spiff.BaseViewModel.call(this);e.add_childrenAdded(ss.mkdel(this,this.onChildrenAdded));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){e.remove_childrenAdded(ss.mkdel(this,this.onChildrenAdded))})))};ca.__typeName='tab.EmptyFloatingLayoutViewModel';global.tab.EmptyFloatingLayoutViewModel=ca;var cb=function(){this.eventHandler=null;this.onTabSelectHandle=null;this.zoneBecameValidHandler=null};cb.__typeName='tab.EventHandlerParam';global.tab.EventHandlerParam=cb;var cc=function(){this.$0=null;this.$0={}};cc.__typeName='tab.ExportHelper';global.tab.ExportHelper=cc;var cd=function(e){this.$1=null;spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.$1=e;this.get_frame().prop('name',this.$1);this.get_frame().prop('id',this.$1);var fm={position:'absolute',top:0+'px',left:0+'px'};this.get_container().css(fm);this.get_frame().css({border:'0px none'})};cd.__typeName='tab.ExtensionIFrameTemplate';global.tab.ExtensionIFrameTemplate=cd;var ce=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-extension'></div>"))};ce.__typeName='tab.ExtensionZoneTemplate';global.tab.ExtensionZoneTemplate=ce;var cf=function(e,fm){this.$j=null;this.$h=null;this.$i=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[cg]).call(this,e,new ce);this.$j=fm;this.get_viewModel().add_extensionZoneUpdated(ss.mkdel(this,this.$b));this.$j.add_propertyChanged(ss.mkdel(this,this.$d));this.$j.add_resizeZone(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_extensionZoneUpdated(ss.mkdel(this,this.$b));this.$j.remove_propertyChanged(ss.mkdel(this,this.$d));this.$j.remove_resizeZone(ss.mkdel(this,this.$c))})));this.$g=tab.ModuleManager.load$1('@tableau/frelard-server-bootstrap',[]).pipe(function(fn){return fn})};cf.__typeName='tab.ExtensionZoneView';global.tab.ExtensionZoneView=cf;var cg=function(e,fm){this.$3=null;this.$4=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$4=fm;this.$3.add_extensionZoneUpdated(ss.mkdel(this,this.handleExtensionZoneUpdated));this.disposables.add(ss.mkdel(this,function(){this.$3.remove_extensionZoneUpdated(ss.mkdel(this,this.handleExtensionZoneUpdated))}))};cg.__typeName='tab.ExtensionZoneViewModel';global.tab.ExtensionZoneViewModel=cg;var ch=function(e){dV.call(this,e)};ch.__typeName='tab.FileReconnectWidget';global.tab.FileReconnectWidget=ch;var ci=function(){};ci.__typeName='tab.FontMetricsLogger';ci.logUIStabilized=function(){ci.$0('UI Stabilized')};ci.logFontsLoaded=function(){ci.$0('AllFontsDownloaded')};ci.$0=function(e){var fm={};fm['t']=tabBootstrap.MetricsController.getTiming();fm['d']=e;var fn=new tabBootstrap.MetricsEvent('gen',128,fm);tabBootstrap.MetricsController.logEvent(fn)};global.tab.FontMetricsLogger=ci;var cj=function(){this.normalizeFont=null;this.normalizeFont=(tab.BrowserSupport.get_isIE()?cj.$0:cj.$2)};cj.__typeName='tab.FontNormalizer';cj.instance=function(){if(ss.isNullOrUndefined(cj.$4)){cj.$4=new cj;cj.$1()}return cj.$4};cj.$0=function(e){if(tab.MiscUtil.isNullOrEmpty$3(e)){return e}var fm=e.split(' ');var fn;var fo=false;for(var fp=0;fp<fm.length;++fp){fn=cj.$3[fm[fp]];if(!(typeof(fn)==='undefined')){fo=true;fm[fp]=fn}}if(fo){return fm.join(' ')}return e};cj.$2=function(e){return e};cj.$1=function(){if(ss.isValue(cj.$3)){return}if(tab.BrowserSupport.get_isIE()){cj.$3={};cj.$3['華康中明體']='DLCMingMedium';cj.$3['華康粗明體']='DLCMingBold';cj.$3['細明體']='Ming Light';cj.$3['新細明體']='PMingLiU';cj.$3['細明體-ExtB']='MingLiU-ExtB';cj.$3['新細明體-ExtB']='PMingLiU-ExtB';cj.$3['MS宋体']='MS Song';cj.$3['新宋体']='NSimSun';cj.$3['中易宋体']='SimSun';cj.$3['宋体']='SimSun';cj.$3['宋体-18030']='SimSun-18030';cj.$3['新宋体-18030']='NSimSun-18030';cj.$3['宋体–方正超大字符集']='SimSun (Founder Extended)';cj.$3['宋體ExtA']='SimSun-ExtA';cj.$3['宋體ExtB']='SimSun-ExtB';cj.$3['华文宋体']='STSong';cj.$3['华文中宋']='STZhongsong';cj.$3['ＭＳ']='MS';cj.$3['明朝']='Mincho';cj.$3['Ｐ明朝']='PMincho';cj.$3['平成明朝']='Heisei Minchō';cj.$3['リュウミン']='Ry­ūbundō Minchō';cj.$3['小塚明朝']='Kozuka Minchō';cj.$3['바탕']='Batang';cj.$3['바탕체']='BatangChe';cj.$3['궁서']='Gungsuh';cj.$3['궁서체']='GungsuhChe';cj.$3['华文细黑']='STHeiti Light';cj.$3['微軟正黑體']='Microsoft JhengHei';cj.$3['微软雅黑']='Microsoft YaHei';cj.$3['MS黑体']='MS Hei';cj.$3['蒙纳黑体']='MHei';cj.$3['中易黑体']='SimHei';cj.$3['メイリオ']='Meiryo';cj.$3['ゴシック']='Gothic';cj.$3['Ｐゴシック']='PGothic';cj.$3['돋움']='Dotum';cj.$3['돋움체']='DotumChe';cj.$3['굴림']='Gulim';cj.$3['굴림체']='GulimChe';cj.$3['맑은']='Malgun';cj.$3['고딕']='Gothic';cj.$3['새굴림']='New Gulim';cj.$3['標楷體']='KaiU';cj.$3['中易楷体']='SimKai';cj.$3['楷体_GB2312']='SimKai';cj.$3['华文楷体']='STKaiti';cj.$3['中易隶书']='SimLi';cj.$3['隶书']='SimLi';cj.$3['中易仿宋']='SimFang';cj.$3['仿宋']='SimFang';cj.$3['幼圆']='SimYou';cj.$3['华文行楷']='HuaWen Xingkai';cj.$3['华文彩云']='HuaWen CaiYun';cj.$3['方正舒体']='FangZheng ShuTi';cj.$3['方正启体']='FangZheng QiTi';cj.$3['汉仪雪君体']='HanYi XueJun';cj.$3['華康少女體']='HuaKang ShaoNu';cj.$3['華康娃娃體']='HuaKang WuaWua'}};global.tab.FontNormalizer=cj;var ck=function(){};ck.__typeName='tab.FormattingTelemetryClient';ck.logRichTextEditorEvent=function(e){if(tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Formatting.RichTextEditing',e)}};ck.logPerformanceEvent=function(e){if(tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Formatting_Performance',e)}};global.tab.FormattingTelemetryClient=ck;var cl=function(e,fm){spiff.Widget.call(this,$('<div class="auth-box ocontent tb-data-source-error-container" role="alert"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry" tabindex="0" role="button"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'));$('.tb-data-source-error',this.element).text(tab.Strings.DataSourceGenericErrorMsg);$('.tb-data-source-error-sub',this.element).text(tab.Strings.DataSourceGenericErrorSubMsg);var fn=$('.tb-data-source-button-retry',this.element);fn.text(tab.Strings.DataSourceGenericErrorButtonLabel);fn.on('click',function(fo){if(ss.isValue(fm)){fm()}});fn.on('keypress',function(fo){if(fo.which===13||fo.which===32){if(ss.isValue(fm)){fm()}fo.stopPropagation()}});e=ss.replaceAllString(e,'<br>','\r\n');$('.tb-data-source-error-message',this.element).text(e)};cl.__typeName='tab.GenericDataSourceErrorWidget';global.tab.GenericDataSourceErrorWidget=cl;var cm=function(e,fm,fn){this.$2=tab.Strings.DataSourceGenericTitle;this.$1=null;N.call(this,e,fm,fn);var fo=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(null)});var fp=new cl(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,fo);this.$1=new bT(this.$2,fp.element);this.$1.add_closed(ss.mkdel(this,function(fq,fr){this.$0()}))};cm.__typeName='tab.GenericDataSourceExceptionDialogWidget';global.tab.GenericDataSourceExceptionDialogWidget=cm;var cn=function(e,fm,fn){this.$1=null;M.call(this,e,fn);this.$1=fm};cn.__typeName='tab.GenericDataSourceExceptionOverlayWidget';global.tab.GenericDataSourceExceptionOverlayWidget=cn;var co=function(e){df.call(this,e);this.adjustMargin=false;this.element.addClass('tabGeoLocationNotification');if(ss.isValue(this.notificationViewModel.get_displayPosition())){this.messageDom.parent().css('left',this.notificationViewModel.get_displayPosition().x+'px');this.messageDom.parent().css('top',this.notificationViewModel.get_displayPosition().y+'px')}this.updateContent()};co.__typeName='tab.GeoLocationNotificationView';global.tab.GeoLocationNotificationView=co;var cp=function(){cR.call(this)};cp.__typeName='tab.GlobalKeyboardShortcut';global.tab.GlobalKeyboardShortcut=cp;var cq=function(){cp.call(this)};cq.__typeName='tab.HelpKeyboardShortcut';global.tab.HelpKeyboardShortcut=cq;var cr=function(){};cr.__typeName='tab.HitTargetColliders';global.tab.HitTargetColliders=cr;var cs=function(){};cs.__typeName='tab.HitTargetType';global.tab.HitTargetType=cs;var ct=function(){cO.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>")};ct.__typeName='tab.HorizontalIteratorButtonTemplate';global.tab.HorizontalIteratorButtonTemplate=ct;var cu=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"));this.$1().text(tab.Strings.WebZoneHttpsEmbedHttpAuthoring);if(ss.startsWithString(e,'http://')){e=e.replace('http://','')}this.$2().text(unescape(e))};cu.__typeName='tab.HttpsEmbedHttpAuthoringMessage';global.tab.HttpsEmbedHttpAuthoringMessage=cu;var cv=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"));this.$2().text(tab.Strings.WebZoneHttpsEmbedHttpView);this.$1().prop('href',e);this.$1().text(unescape(e))};cv.__typeName='tab.HttpsEmbedHttpViewMessage';global.tab.HttpsEmbedHttpViewMessage=cv;var cw=function(){};cw.__typeName='tab.IApiStorytellingClient';global.tab.IApiStorytellingClient=cw;var cx=function(){};cx.__typeName='tab.IAppBannerView';global.tab.IAppBannerView=cx;var cy=function(){};cy.__typeName='tab.IClient';global.tab.IClient=cy;var cz=function(){};cz.__typeName='tab.IDashboardViewport';global.tab.IDashboardViewport=cz;var cA=function(){};cA.__typeName='tab.IDataAlertPreparer';global.tab.IDataAlertPreparer=cA;var cB=function(){};cB.__typeName='tab.IFilterTypeViewModel';global.tab.IFilterTypeViewModel=cB;var cC=function(){};cC.__typeName='tab.IFlipboardViewModel';global.tab.IFlipboardViewModel=cC;var cD=function(){};cD.__typeName='tab.IFontLoader';global.tab.IFontLoader=cD;var cE=function(e,fm){spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.get_frame().prop('name',e);var fn={position:'absolute',top:0+'px',left:0+'px'};if(tsConfig.is_mobile){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isIos()){this.get_container().css('-webkit-overflow-scrolling','touch');fn.height=fm.get_contentHeight()+'px';fn.width=fm.get_contentWidth()+'px'}fn.overflow='auto'}this.get_container().css(fn);this.get_frame().css({border:'0px none'})};cE.__typeName='tab.IFrameTemplate';global.tab.IFrameTemplate=cE;var cF=function(){};cF.__typeName='tab.IHitTargetGeom';global.tab.IHitTargetGeom=cF;var cG=function(){};cG.__typeName='tab.IKeyboardShortcut';global.tab.IKeyboardShortcut=cG;var cH=function(){};cH.__typeName='tab.ImageUtil';cH.scaleImage=function(e,fm,fn,fo,fp){var fq=document.createElement('canvas');fq.width=fm;fq.height=fn;if(fm>0&&fn>0){var fr=document.createElement('canvas');fr.width=fo;fr.height=fp;var fs=fr.getContext('2d');fs.drawImage(e,0,0);var ft=fs.getImageData(0,0,fo,fp);var fu=fq.getContext('2d');var fv=fu.createImageData(fm,fn);cH.bilinearDownSampleAlgorithm(ft,fv);fu.putImageData(fv,0,0)}return fq};cH.bilinearDownSampleAlgorithm=function(e,fm){var fn=e.width;var fo=e.height;var fp=fn/fm.width;var fq=fo/fm.height;var fr=fp;var fs=fq;var ft=e.data;var fu=fm.data;var fv=new Array(fu.length);for(var fw=0;fw<fv.length;fw++){fv[fw]=0}var fx=1/(fp*fq);var fy=0;var fz=0;var fA=false;var fB,fC;fB=fC=0;var fD=fx;var fE=0;var fF=0;var fG=0;var fH=4*fm.width;for(var fI=0;fI<fo;fI++){fr=fp;for(var fJ=0;fJ<fn;fJ++){var fK=ft[fy];var fL=ft[fy+1];var fM=ft[fy+2];var fN=ft[fy+3];fD=fx;if(fA){fD=fB;fF=fC;if(fr<1){fF*=fr}var fO=fz+fH;fv[fO]+=fK*fF;fv[fO+1]+=fL*fF;fv[fO+2]+=fM*fF;fv[fO+3]+=fN*fF}if(fr<1){fE=fD*(1-fr);fD*=fr;if(fA){fG=fC*(1-fr);var fP=fz+fH;fv[fP+4]+=fK*fG;fv[fP+5]+=fL*fG;fv[fP+6]+=fM*fG;fv[fP+7]+=fN*fG}fv[fz+4]+=fK*fE;fv[fz+5]+=fL*fE;fv[fz+6]+=fM*fE;fv[fz+7]+=fN*fE}fv[fz++]+=fK*fD;fv[fz++]+=fL*fD;fv[fz++]+=fM*fD;fv[fz++]+=fN*fD;fy+=4;fr-=1;if(fr<cH.$0){fr+=fp}else{fz-=4}}fs-=1;if(fs<cH.$0){fs+=fq}else{fz-=fH}if(fs<1){fA=true;fB=fs/(fp*fq);fC=(1-fs)/(fp*fq)}else{fA=false}}for(var fQ=0;fQ<fv.length;fQ++){fu[fQ]=fv[fQ]+0.5}};global.tab.ImageUtil=cH;var cI=function(){spiff.Template.call(this,$("<div class='tab-image'></div>"))};cI.__typeName='tab.ImageZoneTemplate';global.tab.ImageZoneTemplate=cI;var cJ=function(e,fm){this.$k=null;this.$j=null;this.$i=null;ss.makeGenericType(spiff.BaseView$1,[cK]).call(this,e,new cI);this.$k=fm;this.$h().add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.add_resizeZone(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.remove_resizeZone(ss.mkdel(this,this.$d));this.$k=null})))};cJ.__typeName='tab.ImageZoneView';global.tab.ImageZoneView=cJ;var cK=function(e){this.$2=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$2=e;this.$2.add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_newImageZone(ss.mkdel(this,this.handleNewImageZone))})))};cK.__typeName='tab.ImageZoneViewModel';global.tab.ImageZoneViewModel=cK;var cL=function(){};cL.__typeName='tab.IMovable';global.tab.IMovable=cL;var cM=function(){};cM.__typeName='tab.ISlider';global.tab.ISlider=cM;var cN=function(e,fm,fn){this.$a=null;this.$c=null;this.$8=new tab.DisposableHolder;this.$9=false;this.$b=0;this.$a=e;if(fm){this.$c=new ct}else{this.$c=new eW}this.$b=100;this.$9=fm;this.$c.$1();this.$c.nextButton.width(fn).height(fn).css('line-height',fn+'px');this.$c.prevButton.width(fn).height(fn).css('line-height',fn+'px');this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.nextButton,'click',ss.mkdel(this,this.$2)));this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.prevButton,'click',ss.mkdel(this,this.$3)));this.updateButtonState()};cN.__typeName='tab.IteratorButtons';global.tab.IteratorButtons=cN;var cO=function(e){this.prevButton=null;this.nextButton=null;spiff.Template.call(this,$(e));this.prevButton=this.getElementBySelector('.tabCatLegendScrollPrev');this.nextButton=this.getElementBySelector('.tabCatLegendScrollNext')};cO.__typeName='tab.IteratorButtonTemplate';global.tab.IteratorButtonTemplate=cO;var cP=function(){};cP.__typeName='tab.ITooltipBehavior';global.tab.ITooltipBehavior=cP;var cQ=function(){};cQ.__typeName='tab.KeyboardHandlers';cQ.setAccessibilityKeyboardHandlers=function(e,fm){return spiff.EventUtil.bindWithDispose($(e),'keyup',function(fn){cQ.$0(fn,fm)})};cQ.$0=function(e,fm){switch(e.which){case 32:case 13:{if(!ss.staticEquals(fm,null)){fm()}break}default:{return}}e.preventDefault();e.stopPropagation()};global.tab.KeyboardHandlers=cQ;var cR=function(){};cR.__typeName='tab.KeyboardShortcut';global.tab.KeyboardShortcut=cR;var cS=function(){};cS.__typeName='tab.KeyboardShortcutManager';cS.$5=function(){return tab.Log.get(cS)};cS.registerShortcut=function(e){if(!tab.FeatureFlags.isEnabled('WebKeyboardShortcutManager')){return}if(ss.keyExists(cS.$6,e.toString())){}var fm=function(fo){cS.$1(fo,e)};if(ss.isValue(e.get_throttleTimeInMs())){fm=_.throttle(fm,ss.unbox(e.get_throttleTimeInMs()))}var fn=function(fo){fm(fo)};cS.$6[e.toString()]=fn;e.get_element().on(cS.$0(e),fn)};cS.unregisterShortcut=function(e){if(!tab.FeatureFlags.isEnabled('WebKeyboardShortcutManager')){return}e.get_element().off(cS.$0(e),cS.$6[e.toString()]);delete cS.$6[e.toString()]};cS.isGloballyAllowed=function(e){var fm=$('.'+spiff.Glass.glassClass);var fn=$('#loadingGlassPane');var fo=cS.$3(fm);var fp=cS.$3(fn);var fq=$(e.target);var fr=!fq.is('input')&&!fq.is('textarea');return!fo&&!fp&&fr};cS.$1=function(e,fm){if(ss.isNullOrUndefined(e)||!fm.get_keyCombos().hasValidCombo(e)){return}fm.onValidKeyCombo(e);if(fm.get_propagation()===1){cS.$4(e)}if(!fm.isAllowed(e)){return}fm.executeShortcut(e);if(fm.get_propagation()===2){cS.$4(e)}};cS.$4=function(e){e.stopPropagation();e.preventDefault()};cS.$0=function(e){return(e.get_shouldUseKeyUp()?'keyup'.toString():'keydown'.toString())};cS.$3=function(e){if(!cS.$2(e)){return false}var fm=$(document.body);var fn=2;var fo=Math.abs(e.width()-fm.width())<=2;var fp=Math.abs(e.height()-fm.height())<=2;return fo&&fp};cS.$2=function(e){return e.length>0&&e.css('display')!=='none'};global.tab.KeyboardShortcutManager=cS;var cT=function(e){cT.$ctor2.call(this,new cV(false,false,false,false,false,false,false,false),e)};cT.__typeName='tab.KeyCombo';cT.$ctor2=function(e,fm){this.$1$1=null;this.$1$2=0;this.set_qualifiers(e);this.set_triggerKey(fm)};cT.$ctor3=function(e,fm){cT.$ctor2.call(this,e,fm)};cT.$ctor1=function(e){cT.$ctor3.call(this,new cV(false,false,false,false,false,false,false,false),e)};global.tab.KeyCombo=cT;var cU=function(e,fm){this.$1$1=null;this.$1([e].concat(fm))};cU.__typeName='tab.KeyCombos';cU.op_Implicit=function(e){return new cU(e,[])};global.tab.KeyCombos=cU;var cV=function(e,fm,fn,fo,fp,fq,fr,fs){this.alt=false;this.command=false;this.control=false;this.controlOrCommand=false;this.macControl=false;this.shift=false;this.winControl=false;this.windows=false;this.alt=e;this.command=fm;this.control=fn||fr||fp;this.controlOrCommand=fo;this.macControl=fp;this.shift=fq;this.winControl=fr;this.windows=fs;if(this.controlOrCommand){this.$1()}};cV.__typeName='tab.KeyQualifiers';cV.$0=function(e){return tab.BrowserSupport.get_isMac()&&e.metaKey};cV.$3=function(e){return tab.BrowserSupport.get_isWindows()&&e.metaKey};cV.$1=function(e){return tab.BrowserSupport.get_isMac()&&e.ctrlKey};cV.$2=function(e){return tab.BrowserSupport.get_isWindows()&&e.ctrlKey};global.tab.KeyQualifiers=cV;var cW=function(e,fm){React.Component.call(this,e,fm)};cW.__typeName='tab.MapScaleComponent';global.tab.MapScaleComponent=cW;var cX=function(e){this.$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$5=e;this.$5.add_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo));this.disposables.add(ss.mkdel(this,function(){this.$5.remove_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo))}))};cX.__typeName='tab.MapScaleViewModel';global.tab.MapScaleViewModel=cX;var cY=function(){};cY.__typeName='tab.Metrics';cY.get_scrollW=function(){return cY.$1()};cY.get_minScrollWidth=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return cY.get_scrollW()*2};cY.get_scrollH=function(){return cY.$1()};cY.get_minScrollHeight=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return cY.get_scrollH()*2};cY.$1=function(){return tab.LazyUtil.lazyInitStaticField(cY,'_scrollBarSize',function(){return cY.$0()})};cY.$0=function(){if(tsConfig.is_mobile){return 0}var e=document.createElement('div');var fm=e.style;fm.width='100px';fm.height='100px';fm.overflow='scroll';fm.position='absolute';fm.top='0px';fm.filter='alpha(opacity=0)';fm.opacity='0';fm.left='0px';var fn=document.createElement('div');fn.style.width='400px';fn.style.height='400px';e.appendChild(fn);document.body.appendChild(e);var fo=e.offsetWidth-e.clientWidth;document.body.removeChild(e);e.removeChild(fn);e=fn=null;fo=((fo>0)?fo:9);return fo};global.tab.Metrics=cY;var cZ=function(){$(document).on('keydown.ModifierKeyState keyup.ModifierKeyState mouseover.ModifierKeyState',ss.mkdel(this,this.$0))};cZ.__typeName='tab.ModifierKeyState';cZ.add_modifierKeysChanged=function(e){cZ.$1$1=ss.delegateCombine(cZ.$1$1,e)};cZ.remove_modifierKeysChanged=function(e){cZ.$1$1=ss.delegateRemove(cZ.$1$1,e)};cZ.fireModifierKeysChanged=function(e){if(!ss.staticEquals(cZ.$1$1,null)){cZ.$1$1(e)}};global.tab.ModifierKeyState=cZ;var da=function(){};da.__typeName='tab.ModulesRegistration';da.$2=function(e){var fm=[];if(tab.FeatureFlags.isEnabled('AsyncLoadDojo')){da.$1(fm)}var fn;if(tsConfig.debugMode||tsConfig.isUnitTestRun){var fo='vqllegacydojoui.debug';var fp=tab.ModuleManager.registerDependencyModule(fo,fo).andLoadOnDemandIf(e).moduleBeingConfigured;if(tsConfig.is_mobile){fn=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured}else{fn=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured}fm.push(fp)}else if(tsConfig.is_mobile){fn=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured}else{fn=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured}for(var fq=0;fq<fm.length;fq++){var fr=fm[fq];fn.addDependency(fr)}fn.waitUntilModuleReadyFunc=function(){var fs=$.Deferred();dojo.addOnLoad(function(){fs.resolve()});return fs}};da.$1=function(e){var fm='.js.uncompressed';var fn='built-dojo/tableau/client{0}';var fo='built-dojo/dojo/dojo';var fp=(tsConfig.is_mobile?'mobile':'web');var fq=ss.formatString(fn,fp);var fr=tab.ModuleManager.registerRawJsModule(fo,fo,'built-dojo/dojo/dojo.js.uncompressed').moduleBeingConfigured;var fs=tab.ModuleManager.registerRawJsModule(fq,fq,fq+fm).moduleBeingConfigured;e.push(fr);e.push(fs)};da.$0=function(e){var fm='commenting';var fn='.min';var fo=tab.ModuleManager.registerRawJsModule(fm,'commenting.min',fm).andLoadOnDemandIf(e).andExportResultAs('Commenting').moduleBeingConfigured;tab.ModuleManager.register(tab.ICommentingFactory).call(null,'Commenting',null).andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(fo)};da.$3=function(){if(tab.FeatureFlags.isEnabled('RichTextEditingHybridDialogWeb')){tab.ModuleManager.registerRawJsModule('@tableau/rich-text-editor','rich-text-editor.min','rich-text-editor').andShowLoadingIndicator()}else{tab.ModuleManager.register(tab.IRichTextAuthoringModule).call(null,'RichTextEditorModule',null).andShowLoadingIndicator().andExportResultAs('RichTextEditor')}};global.tab.ModulesRegistration=da;var db=function(){this.$2=null;this.$3=null;this.$1$1=null;this.$1$2=null;this.$2={};this.$3=[]};db.__typeName='tab.NativeFontLoader';db.$0=function(){return document['fonts']};global.tab.NativeFontLoader=db;var dc=function(){};dc.__typeName='tab.NativePresModelsFactory';dc.newAddInLocatorPresModel=function(e){var fm=new Object;fm.addInInstanceId=e.instanceId;fm.sheetPath=new Object;fm.sheetPath.flipboardZoneId=e.dashboardPath.flipboardZoneID;fm.sheetPath.isDashboard=e.dashboardPath.isDashboard;fm.sheetPath.sheetName=e.dashboardPath.sheetName;fm.sheetPath.storyboard=e.dashboardPath.storyboard;fm.sheetPath.storyPointId=e.dashboardPath.storyPointID;return fm};dc.newVisualIdPresModel=function(e){var fm=new Object;fm.worksheet=e.worksheet;fm.dashboard=e.dashboard;fm.storyboard=e.storyboard;fm.storyPointId=e.storyPointID;fm.flipboardZoneId=e.flipboardZoneID;return fm};global.tab.NativePresModelsFactory=dc;var dd=function(){};dd.__typeName='tab.NaturalLanguageModuleUtil';dd.whenNaturalLanguageModuleLoaded=function(e,fm){var fn=e;var fo=[];fo.push({ns:'tabdoc',cmd:'interpret-natural-language-input'});var fp=fo;var fq={publishedDatasourceId:tab.NaturalLanguageUtil.retrievePublishedDatasourceId(),siteId:tab.NaturalLanguageUtil.retrieveSiteId(),nlpBackEnd:tsConfig.nlpBackend,worksheetName:tsConfig.current_sheet_name,pluginPresLayer:new tab.CustomUIBlockingPluginPresentationLayer(fp)};React.createElement(fn,fq);ReactDOM.render(React.createElement(fn,fq),fm)};dd.createNaturalLanguageBoxParentElement=function(e){var fm=$("<div class='tab-nlbox-parent'></div>");e.find('.tabbedNavigationWrapper').after(fm);return fm.get(0)};global.tab.NaturalLanguageModuleUtil=dd;var de=function(){};de.__typeName='tab.NeedRemoteTooltip';global.tab.NeedRemoteTooltip=de;var df=function(e){this.notificationViewModel=null;this.messageDom=null;this.closeDom=null;this.$b=false;this.adjustMargin=true;ss.makeGenericType(spiff.BaseView$1,[dg]).call(this,e,spiff.Template.fromHtml("<div class='tabNotification'>"));this.notificationViewModel=e;this.element.attr('role','alert');this.messageDom=$('<div>').addClass('tabNotificationMessage').appendTo(this.element);var fm=$('<div>').addClass('tabNotificationClose').attr('tabindex','0').attr('aria-label',tab.Strings.AccessbilityNotificationButtonDismissLabel).attr('role','button').keydown(ss.mkdel(this,function(fn){if(fn.which===13||fn.which===32){fn.preventDefault();fn.stopPropagation();this.$9(fn)}}));this.closeDom=spiff.ClickHandler.targetAndClick(fm,ss.mkdel(this,this.$9)).get_target();this.closeDom.appendTo(this.element);this.notificationViewModel.add_shown(ss.mkdel(this,this.shown));this.notificationViewModel.add_hidden(ss.mkdel(this,this.hidden))};df.__typeName='tab.NotificationView';global.tab.NotificationView=df;var dg=function(){this.$6=null;this.$7=false;this.$4=5000;this.$3=0;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)};dg.__typeName='tab.NotificationViewModel';dg.$0=function(e,fm){var fn=new dg;fn.set_message(e);if(ss.isValue(fm)){fn.set_autoHideTimeout(fm)}return fn};dg.showGeoLocationNotification=function(e,fm,fn){var fo=dg.$0(e,fm);fo.set_displayPosition(fn);tab.ObjectRegistry.newView(co).call(null,[fo]);spiff.GlobalUIEvents.add_firstTouch(ss.mkdel(fo,fo.$2));spiff.GlobalUIEvents.add_dismissTemporaryElements(ss.mkdel(fo,fo.hide));fo.disposables.add$1(new tab.CallOnDispose(function(){spiff.GlobalUIEvents.remove_firstTouch(ss.mkdel(fo,fo.$2));spiff.GlobalUIEvents.remove_dismissTemporaryElements(ss.mkdel(fo,fo.hide))}));fo.disposeOnHide();fo.show()};dg.showNotification=function(e,fm){dg.showCustomNotification(df).call(null,e,fm)};dg.showCustomNotification=function(e){return function(fm,fn){var fo=dg.$0(fm,fn);tab.ObjectRegistry.newView(e).call(null,[fo]);fo.disposeOnHide();fo.show();return fo}};global.tab.NotificationViewModel=dg;var dh=function(e,fm){this.$8=null;this.$7=null;spiff.Widget.call(this,$("<img class='tab-overlayImage'/>"));this.$8=$(e);this.element.on('load',ss.mkdel(this,function(){this.$6()}));this.element.attr('src',fm)};dh.__typeName='tab.OverlayImage';global.tab.OverlayImage=dh;var di=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)};di.__typeName='tab.PagableGroupListComponent';global.tab.PagableGroupListComponent=di;var dj=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)};dj.__typeName='tab.PagableUserListComponent';global.tab.PagableUserListComponent=dj;var dk=function(e){ss.makeGenericType(spiff.BaseView$1,[dl]).call(this,e,spiff.Template.fromHtml('<div />'))};dk.__typeName='tab.PresModelBrowserView';global.tab.PresModelBrowserView=dk;var dl=function(e,fm,fn){this.data=null;this.$2=null;this.name=null;spiff.BaseViewModel.call(this);this.name=e;if(dl.$1(fm)){if($.isArray(fm)){this.data=dl.$2(fm)}else{this.data=dl.$3(fm)}}else{this.data=fm.toString()}this.$2=fn};dl.__typeName='tab.PresModelBrowserViewModel';dl.$1=function(e){return ss.isValue(e)&&typeof(e)==='object'};dl.$2=function(e){var fm=[];for(var fn=0;fn<e.length;++fn){fm.push(dl.$4(fn.toString(),e[fn]))}return fm};dl.$3=function(e){var fm=[];var fn=new ss.ObjectEnumerator(e);try{while(fn.moveNext()){var fo=fn.current();fm.push(dl.$4(fo.key,fo.value))}}finally{fn.dispose()}return fm};dl.$0=function(e){return'<strong>'+e+':</strong> '};dl.$4=function(e,fm){if(dl.$1(fm)){if($.isArray(fm)){return ss.mkdict(['text',dl.$0(e),'children',dl.$2(fm)])}else{return ss.mkdict(['text',dl.$0(e),'children',dl.$3(fm)])}}else if(ss.endsWithString(e,'Json')&&(ss.startsWithString(fm,'{')||ss.startsWithString(fm,'['))){var fn=null;try{fn=JSON.parse(fm)}catch(fo){}if(ss.isValue(fn)){return dl.$4(e,fn)}}return dl.$0(e)+fm};global.tab.PresModelBrowserViewModel=dl;var dm=function(){};dm.__typeName='tab.PropagationType';global.tab.PropagationType=dm;var dn=function(e,fm){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dr,dp,Object]).call(this,tab.ObjectRegistry.newView(dr).call(null,[e.viewModel]),e,fm)};dn.__typeName='tab.PublicInfoComponent';global.tab.PublicInfoComponent=dn;var dp=function(){this.viewModel=null};dp.__typeName='tab.PublicInfoProps';global.tab.PublicInfoProps=dp;var dq=function(){this.publicInfoArea=null;this.moreAboutPublicSection=null;this.viewAndAuthorInfoSection=null;spiff.Template.call(this,$("<div class='tab-publicInfoView tab-toolbarFlyout'><a class='tab-moreAboutPublicSection' target='_blank' /></a><div class='tab-viewAndAuthorInfoSection'></div></div>"));this.publicInfoArea=this.domRoot;this.moreAboutPublicSection=this.getElementBySelector('.tab-moreAboutPublicSection');this.viewAndAuthorInfoSection=this.getElementBySelector('.tab-viewAndAuthorInfoSection')};dq.__typeName='tab.PublicInfoTemplate';global.tab.PublicInfoTemplate=dq;var dr=function(e){this.$e=null;ss.makeGenericType(spiff.BaseView$1,[ds]).call(this,e,new dq);this.$e=e;this.$d()};dr.__typeName='tab.PublicInfoView';global.tab.PublicInfoView=dr;var ds=function(){spiff.BaseViewModel.call(this)};ds.__typeName='tab.PublicInfoViewModel';global.tab.PublicInfoViewModel=ds;var dt=function(e,fm,fn){var fo=function(fp){this.$2=false;this.$1=ss.getDefaultValue(e);this.$0=null;spiff.PureRenderComponent.call(this,fp);this.$2=false;this.$0=this.fetchAsyncDependencies().done(ss.mkdel(this,function(fq){this.$1=fq;this.$2=true}))};ss.registerGenericClassInstance(fo,dt,[e,fm,fn],{render:function(){if(!this.$2){this.$0.done(ss.mkdel(this,function(fp){this.forceUpdate()}));return this.renderWhileWaiting()}return this.renderWithDependencies(this.$1)},fetchAsyncDependencies:null,renderWhileWaiting:null,renderWithDependencies:null},function(){return spiff.PureRenderComponent},function(){return[]});return fo};dt.__typeName='tab.PureComponentWithAsyncDependencies$3';ss.initGenericClass(dt,a,3);global.tab.PureComponentWithAsyncDependencies$3=dt;var du=function(e,fm,fn){var fo=function(fp){ss.makeGenericType(dt,[e,fm,fn]).call(this,fp)};ss.registerGenericClassInstance(fo,du,[e,fm,fn],{fetchAsyncDependencies:function(){return tab.ModuleManager.load(e).call(null,[])},renderWhileWaiting:function(){return null},renderWithDependencies:function(fp){return this.renderWithModule(fp)},renderWithModule:null},function(){return ss.makeGenericType(dt,[e,fm,fn])},function(){return[]});return fo};du.__typeName='tab.PureComponentWithModule$3';ss.initGenericClass(du,a,3);global.tab.PureComponentWithModule$3=du;var dv=function(){};dv.__typeName='tab.QuickFilterConstants';global.tab.QuickFilterConstants=dv;var dw=function(e){spiff.PureRenderComponent.call(this,e)};dw.__typeName='tab.QuickFilterNoninteractiveDropdownComponent';global.tab.QuickFilterNoninteractiveDropdownComponent=dw;var dx=function(e){spiff.PureRenderComponent.call(this,e)};dx.__typeName='tab.QuickFilterReadoutComponent';global.tab.QuickFilterReadoutComponent=dx;var dy=function(e){React.Component.call(this,e)};dy.__typeName='tab.RecipientPillComponent';global.tab.RecipientPillComponent=dy;var dz=function(e){React.Component.call(this,e)};dz.__typeName='tab.RecipientPillsComponent';global.tab.RecipientPillsComponent=dz;var dA=function(e){this.$8=null;this.$9=false;this.$a=null;this.disposables=new tab.DisposableHolder;this.$3$1=null;this.$3$2=null;React.Component.call(this,e);this.$8=new tab.Debouncer(ss.mkdel(this,function(){this.$9=true}),200);this.state=this.createNewDefaultState();this.$9=false;this.$a=null};dA.__typeName='tab.RecipientSearchComponent';global.tab.RecipientSearchComponent=dA;var dB=function(e,fm){this.numberOfRowsInViewport=6;this.$a=false;this.$b=null;React.Component.call(this,e,fm);this.state=this.createNewDefaultState();if(this.props.isBulkSubscribe){this.numberOfRowsInViewport=11}};dB.__typeName='tab.RecipientSearchSelectorComponent';global.tab.RecipientSearchSelectorComponent=dB;var dC=function(e){this.$0=null;this.$0=e};dC.__typeName='tab.RectangleGeom';global.tab.RectangleGeom=dC;var dD=function(){eR.call(this)};dD.__typeName='tab.RedoKeyboardShortcut';global.tab.RedoKeyboardShortcut=dD;var dE=function(){this.$b=null;this.$a=null;this.$9=null;this.$8=null;this.$c=0;this.$d=0;this.$1$1=null;this.$1$2=null;this.$b={}};dE.__typeName='tab.RenderAndCheckFontLoader';dE.$0=function(e,fm){var fn=$('<span/>').text('The quick brown fox jumps over the lazy dog iiilllest');var fo=$('<div/>').css(dE.$4).css('font-family',fm.join(', ')).addClass(e);fo.append(fn);return fo};dE.$3=function(e,fm){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(fm)){return false}var fn=e.children('span')[0];var fo=fm.children('span')[0];return dE.$1(fn,fo)===0&&dE.$2(fn,fo)===0};dE.$1=function(e,fm){var fn=e.getBoundingClientRect().height;var fo=(ss.isNullOrUndefined(fm)?0:fm.getBoundingClientRect().height);return ss.compare(fn,fo)};dE.$2=function(e,fm){var fn=e.getBoundingClientRect().width;var fo=(ss.isNullOrUndefined(fm)?0:fm.getBoundingClientRect().width);return ss.compare(fn,fo)};global.tab.RenderAndCheckFontLoader=dE;var dF=function(){};dF.__typeName='tab.RenderUtil';dF.calculatePixelRatio=function(e){var fm=1;if(ss.isValue(tsConfig.highDpi)&&tsConfig.highDpi){if(ss.isValue(tsConfig.pixelRatio)){fm=tsConfig.pixelRatio}else if(ss.isValue(e)&&!e){fm=tab.BrowserSupport.get_devicePixelRatio()}else{fm=tab.BrowserSupport.get_devicePixelRatio()/tab.BrowserSupport.get_backingStoragePixelRatio()}}return fm};dF.manualFadeAnimation=function(e,fm,fn,fo,fp,fq){var fr=fm;var fs=fn;var ft=ss.Int32.div(fp,1000)*fo;var fu=(fn-fm)/ft;var fv=ss.Int32.div(1000,fo);var fw=null;fw=function(){if(fr>fs){e.css('filter','alpha(opacity='+fs+')');e.css('opacity',(fs/100).toString());return}e.css('filter','alpha(opacity='+fr+')');e.css('opacity',(fr/100).toString());fr+=fu;if(ss.isValue(fq)){fv+=fv}window.setTimeout(fw,fv)};window.setTimeout(fw,fv)};dF.compareBoundingClientHeight=function(e,fm){var fn=e.getBoundingClientRect().height;var fo=(ss.isNullOrUndefined(fm)?0:fm.getBoundingClientRect().height);return ss.compare(fn,fo)};dF.compareBoundingClientWidth=function(e,fm){var fn=e.getBoundingClientRect().width;var fo=(ss.isNullOrUndefined(fm)?0:fm.getBoundingClientRect().width);return ss.compare(fn,fo)};dF.ensureImageEltSize=function(e,fm){var fn=dF.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(fn,1)){var fo=$(e);fo.css('max-width',fm.w+'px');fo.css('max-height',fm.h+'px')}};global.tab.RenderUtil=dF;var dG=function(){ss.makeGenericType(tab.WebBaseCmd$2,[Object,dH]).call(this)};dG.__typeName='tab.ResetViewCmd';dG.get_commandName=function(){return'reset-view'};global.tab.ResetViewCmd=dG;var dH=function(e){this.$$c=null;this.$$c=e};dH.__typeName='tab.ResetViewCmd$Response';global.tab.ResetViewCmd$Response=dH;var dI=function(){dG.call(this)};dI.__typeName='tab.ResetViewCommand';global.tab.ResetViewCommand=dI;var dJ=function(){this.drawerContainer=null;spiff.Template.call(this,dJ.$0());this.drawerContainer=this.domRoot};dJ.__typeName='tab.RightAreaDrawerTemplate';dJ.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$('#right-panel'):$("<div class='tab-right-area-drawer'></div>"))};global.tab.RightAreaDrawerTemplate=dJ;var dK=function(e){this.$h=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[dL]).call(this,e,new dJ);this.$h=e;this.$h.add_open(ss.mkdel(this,this.$b));this.$h.add_close(ss.mkdel(this,this.$9));this.$h.add_refresh(ss.mkdel(this,this.$e));this.$h.add_update(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_open(ss.mkdel(this,this.$b));this.get_viewModel().remove_close(ss.mkdel(this,this.$9));this.get_viewModel().remove_refresh(ss.mkdel(this,this.$e));this.$h.remove_update(ss.mkdel(this,this.$f))})));this.$c()};dK.__typeName='tab.RightAreaDrawerView';global.tab.RightAreaDrawerView=dK;var dL=function(){this.$4=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=false;spiff.BaseViewModel.call(this);this.set_isOpen(false)};dL.__typeName='tab.RightAreaDrawerViewModel';global.tab.RightAreaDrawerViewModel=dL;var dM=function(){};dM.__typeName='tab.SelectActionResolver';dM.fromNormalizedEvent=function(e,fm){var fn=e.getSelectAction();switch(fm){case 0:{return((fn==='toggle')?'range':fn)}case 1:{return((fn==='range')?'simple':fn)}case 2:default:{return fn}}};global.tab.SelectActionResolver=dM;var dN=function(){};dN.__typeName='tab.SelectActionResolverEvent';global.tab.SelectActionResolverEvent=dN;var dO=function(){this.$6={};this.$5=null;this.$8=false;this.$7=false;this.$3=null;this.$4=null;this.$1$1=null;this.$5=dO.$0();this.$5.add_fontsReady(ss.mkdel(this,this.$1));this.$5.add_fontDownloading(ss.mkdel(this,this.$0));this.$7=true};dO.__typeName='tab.ServerFontLoader';dO.get_instance=function(){if(ss.isNullOrUndefined(dO.$1)){dO.$1=new dO}return dO.$1};dO.get_allCustomFonts=function(){return _.union(tab.ServerFonts.tableauFontNames,tab.ServerFonts.effectiveBentonSans)};dO.loadFonts=function(e){var fm=$.Deferred();dO.get_instance().get_fontsLoadedPromise().then(function(){dO.get_instance().initialize(false);dO.get_instance().registerServerLoadedFonts(e);dO.get_instance().notifyDownloadableFont(e);dO.get_instance().downloadFonts();dO.get_instance().allFontsFound();dO.get_instance().get_fontsLoadedPromise().then(function(){fm.resolve()},null)},null);return fm};dO.downloadAdditionalDrawerFonts=function(){var e=(tab.BrowserSupport.get_isHighDpi()?dO.drawerFontNames:dO.drawerLowDpiFontNames);return dO.loadFonts(e)};dO.$0=function(){if(tab.BrowserSupport.get_fontLoaderApi()&&(tab.BrowserSupport.get_isFF()||tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isIos())){return new db}else{return new dE}};global.tab.ServerFontLoader=dO;var dP=function(e,fm){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dT,dQ,Object]).call(this,tab.ObjectRegistry.newView(dT).call(null,[e.viewModel]),e,fm)};dP.__typeName='tab.ShareComponent';global.tab.ShareComponent=dP;var dQ=function(){this.viewModel=null};dQ.__typeName='tab.ShareProps';global.tab.ShareProps=dQ;var dR=function(){this.shareArea=null;this.shareStateArea=null;this.shareCurrentView=null;this.shareOriginalView=null;this.shareLinkSection=null;this.shareLinkTitle=null;this.shareLinkInput=null;this.shareLinkButtons=null;this.shareEmbedTitle=null;this.shareEmbedInput=null;spiff.Template.call(this,$("\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"));this.shareArea=this.domRoot};dR.__typeName='tab.ShareTemplate';global.tab.ShareTemplate=dR;var dS=function(){this.$6=0;this.$3$1=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};dS.__typeName='tab.ShareToggleButtonViewModel';global.tab.ShareToggleButtonViewModel=dS;var dT=function(e){this.$k=(tsConfig.is_mobile?390:300);this.$j=null;this.$i=false;this.$h=null;this.$l=null;ss.makeGenericType(spiff.BaseView$1,[dU]).call(this,e,new dR);this.$j=e;this.$j.saveSharedView();this.$a();this.$i=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<=this.$k;this.$j.add_selectedViewChanged(ss.mkdel(this,this.$g));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_selectedViewChanged(ss.mkdel(this,this.$g))})))};dT.__typeName='tab.ShareView';global.tab.ShareView=dT;var dU=function(){this.embedCodeVersion=3;this.shareToggleButtonViewModel=null;this.$b=true;this.$2$1=null;spiff.BaseViewModel.call(this);this.$b=!this.$a();this.shareToggleButtonViewModel=new dS;this.shareToggleButtonViewModel.add_originalViewSelected(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.shareToggleButtonViewModel.remove_originalViewSelected(ss.mkdel(this,this.$9))})))};dU.__typeName='tab.ShareViewModel';dU.$6=function(e){var fm='/javascripts/api/viz_v1.js';var fn=(tsConfig.forceHttpsForPublicEmbed?'https:':e['protocol']);return encodeURI(fn+'//'+e['hostname']+fm)};dU.$0=function(){var e;var fm=new ss.StringBuilder(ss.formatString('if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_tablet_max_size));fm.append(dU.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('desktop'),0.75));fm.append(ss.formatString('} else if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_phone_max_size));fm.append(dU.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('tablet'),0.75));fm.append('} else { ');fm.append(dU.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('phone'),1.77));fm.append('} ');var fn=$.Deferred();e=fn.resolve(fm.toString()).promise();return e};dU.$2=function(e,fm){return dU.$1({minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight},fm)};dU.$1=function(e,fm){var fn=new ss.StringBuilder('');var fo=dU.$5();if(e.dashboardSizingMode==='automatic'||e.minWidth===0&&e.maxWidth===0){fn.append("vizElement.style.width='100%';")}else if(e.minWidth===e.maxWidth){fn.append(ss.formatString("vizElement.style.width='{0}px';",e.minWidth))}else{if(e.minWidth>0){fn.append(ss.formatString("vizElement.style.minWidth='{0}px';",e.minWidth))}else{fn.append("vizElement.style.width='100%';")}if(e.maxWidth>0){fn.append(ss.formatString("vizElement.style.maxWidth='{0}px';",e.maxWidth))}else{fn.append("vizElement.style.maxWidth='100%';")}if(e.minWidth>0&&e.maxWidth>0&&e.minWidth!==e.maxWidth){fn.append("vizElement.style.width='100%';")}}if(e.dashboardSizingMode==='automatic'||e.minHeight===0&&e.maxHeight===0){fn.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",fm))}else if(e.minHeight===e.maxHeight){fn.append(ss.formatString("vizElement.style.height='{0}px';",e.minHeight+fo))}else{if(e.minHeight>0){fn.append(ss.formatString("vizElement.style.minHeight='{0}px';",e.minHeight+fo))}else{fn.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",fm))}if(e.maxHeight>0){fn.append(ss.formatString("vizElement.style.maxHeight='{0}px';",e.maxHeight+fo))}else{fn.append(ss.formatString("vizElement.style.maxHeight=(divElement.offsetWidth*{0})+'px';",fm))}if(e.minHeight>0&&e.maxHeight>0&&e.minHeight!==e.maxHeight){fn.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",fm))}}return fn.toString()};dU.$8=function(e){var fm=e.protocol+'//'+e.host+'/javascripts/api/viz_v1.js';return"<script type='text/javascript' src='"+fm+"'></script>"};dU.$5=function(){var e=0;if(tsConfig.toolbarvis){e+=27}e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e};dU.$7=function(){return tsConfig.facebookRedirectURI||dU.$c};dU.$3=function(e,fm,fn,fo){var fp=fm!==fn;var fq=e;var fr=':'+fo+'='+(fm?'yes':'no');var fs=new RegExp(':'+fo+'=[^&]+');if(!!fq.match(fs)){if(fp){fq=fq.replace(fs,fr)}else{fq=fq.replace(fs,'');fq=fq.replace(new RegExp('&&'),'&');fq=fq.replace(new RegExp('\\?&'),'?');fq=fq.replace(new RegExp('&$'),'');fq=fq.replace(new RegExp('\\?$'),'')}}else if(fp){if(!!fq.match(new RegExp('[?]'))){fq=fq+'&'+fr}else{fq=fq+'?'+fr}}return fq};dU.$4=function(){var e=(new Date).getTime().toString();return'viz'+e};global.tab.ShareViewModel=dU;var dV=function(e){spiff.PureRenderComponent.call(this,e)};dV.__typeName='tab.SheetReconnectWidget';global.tab.SheetReconnectWidget=dV;var dW=function(){ss.makeGenericType(tab.BaseCmd$2,[Object,dX]).call(this)};dW.__typeName='tab.ShowDetailedErrorConfirmationDialogCmd';global.tab.ShowDetailedErrorConfirmationDialogCmd=dW;var dX=function(e){this.$$c=null;this.$$c=e};dX.__typeName='tab.ShowDetailedErrorConfirmationDialogCmd$Response';global.tab.ShowDetailedErrorConfirmationDialogCmd$Response=dX;var dY=function(){ss.makeGenericType(tab.BaseCmd$2,[Object,dZ]).call(this)};dY.__typeName='tab.ShowDetailedErrorDialogCmd';global.tab.ShowDetailedErrorDialogCmd=dY;var dZ=function(e){this.$$c=null;this.$$c=e};dZ.__typeName='tab.ShowDetailedErrorDialogCmd$Response';global.tab.ShowDetailedErrorDialogCmd$Response=dZ;var ea=function(){this.shownX=0;this.shownY=0;this.origX=0;this.origY=0;this.position=null;this.viewport=null;ss.EventArgs.call(this)};ea.__typeName='tab.ShownEventArgs';ea.areShownArgsSame=function(e,fm){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(fm)){return true}if(ss.isNullOrUndefined(e)&&ss.isValue(fm)||ss.isValue(e)&&ss.isNullOrUndefined(fm)){return false}var fn;fn=e.origX===fm.origX;fn=fn&&e.origY===fm.origY;fn=fn&&e.shownX===fm.shownX;fn=fn&&e.shownY===fm.shownY;fn=fn&&e.position===fm.position;fn=fn&&tab.RectUtil.isEqual(e.viewport.get_dimensions(),fm.viewport.get_dimensions());return fn};global.tab.ShownEventArgs=ea;var eb=function(){this.tooltipAnchorY=0;ea.call(this)};eb.__typeName='tab.ShownTooltipEventArgs';eb.areShownArgsSame=function(e,fm){return ea.areShownArgsSame(e,fm)&&e.tooltipAnchorY===fm.tooltipAnchorY};global.tab.ShownTooltipEventArgs=eb;var ec=function(e){React.Component.call(this,e);this.state=new ed};ec.__typeName='tab.SimpleTextContentDialog';global.tab.SimpleTextContentDialog=ec;var ed=function(){this.detailsAreExpanded=false};ed.__typeName='tab.SimpleTextContentDialogState';global.tab.SimpleTextContentDialogState=ed;var ee=function(e){this.$6=750;this.$9=null;this.$7=null;this.$8=null;this.$5=new tab.DisposableHolder;this.$1$1=null;this.serverMarkBounds=null;tab.Param.verifyValue(e,'tooltip');this.$9=e;var fm=tab.FeatureParamsLookup.getInt(11);if(ss.isValue(fm)){this.$6=ss.coalesce(fm,0)}};ee.__typeName='tab.SmoothTooltipBehavior';global.tab.SmoothTooltipBehavior=ee;var ef=function(){};ef.__typeName='tab.Social';ef.twitterPopup=function(e,fm){var fn=$('#twitter_creator');var fo=(ss.isValue(fn)?fn.attr('content'):null);if(!ss.isNullOrEmptyString(fo)){fo=' '+fo}fm+=fo;var fp={};fp['url']=e;fp['via']='tableaupublic';fp['text']=fm;fp['related']='tableau';var fq='https://twitter.com/share?'+$.param(fp);var fr=null;var fs='scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=680,height=350';window.open(fq,fr,fs)};ef.facebookPopup=function(e,fm,fn,fo,fp,fq){var fr={};fr['app_id']=e;fr['link']=fm;fr['picture']=fn;fr['name']=fo;fr['description']=fp;if(!!fq&&fq.length>0){fr['redirect_uri']=fq}var fs='http://www.facebook.com/dialog/feed?'+$.param(fr);var ft=null;var fu='scrollbars=yes,resizable=yes,toolbar=no,location=no,width=1000,height=565';var fv=window.open(fs,ft,fu);if(ss.isValue(fv)&&typeof(fv['focus'])==='function'){fv.focus()}};ef.mailTo=function(e,fm){var fn=ss.mkdict(['body',e]);if(!!fm){fn['subject']=fm}var fo='mailto:?'+$.param(fn);if(tsConfig.is_mobile&&!tsConfig.is_mobile_app&&tab.BrowserSupport.get_isSafari()){window.location.href=fo}else{var fp=window.open(fo,'MailWindow');if(ss.isValue(fp)){window.setTimeout(function(){try{if(fp.location.href==='about:blank'){fp.close()}}catch(fq){}},999)}}};global.tab.Social=ef;var eg=function(e,fm){React.Component.call(this,e,fm);var fn=e.users;var fo=((fn.length===0)?'':fn[0].friendlyName);var fp=e.groups;var fq=((fp.length===0)?'':fp[0].name);var fr=(ss.isValue(this.props.selfServiceSchedulesModule)?this.props.selfServiceSchedulesModule.get_defaultRecurrence():null);this.state={mode:0,message:null,subject:e.defaultSubject,includeValue:'0',scheduleValue:'0',email:e.email,users:e.users,groups:e.groups,usersText:this.$0(fn.length,fo,tab.Strings.ToolbarSubscribeAddUsersPlaceholder),groupsText:this.$0(fp.length,fq,tab.Strings.ToolbarSubscribeAddGroupsPlaceholder),recurrenceModel:fr,sendOnlyWhenDataPresent:false,selfSubscribe:!e.isSelfSubscribeCheckboxEnabled}};eg.__typeName='tab.SubscribeComponent';global.tab.SubscribeComponent=eg;var eh=function(e){ss.makeGenericType(dt,[tab.ISelfServiceSchedulesModule,ej,Object]).call(this,e)};eh.__typeName='tab.SubscribeComponentContainer';global.tab.SubscribeComponentContainer=eh;var ei=function(e,fm){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[el,ek,Object]).call(this,tab.ObjectRegistry.newView(el).call(null,[e.viewModel]),e,fm)};ei.__typeName='tab.SubscribeComponentDeprecated';global.tab.SubscribeComponentDeprecated=ei;var ej=function(){this.schedules=null;this.defaultSubject=null;this.email=null;this.emailIsValid=null;this.users=null;this.groups=null;this.onCancel=null;this.addSubscribersComponentProps=null;this.createSubscriptions=null;this.createSubscriptionsWithSelfServiceSchedule=null;this.setEmail=null;this.subscriptionsPageUrl=null;this.userSettingsPageUrl=null;this.sendOnlyWhenDataPresentCheckboxVisible=false;this.isSelfSubscribeCheckboxEnabled=false;this.isSelfServiceSchedulesEnabled=false;this.selfServiceSchedulesModule=null};ej.__typeName='tab.SubscribeProps';global.tab.SubscribeProps=ej;var ek=function(){this.viewModel=null};ek.__typeName='tab.SubscribePropsDeprecated';global.tab.SubscribePropsDeprecated=ek;var el=function(e,fm){this.$E=null;this.$z=null;this.$C=null;this.$x=null;this.$B=null;this.$D=null;this.$A=null;this.menuTheme=0;this.$y=null;ss.makeGenericType(spiff.BaseView$1,[em]).call(this,e,new en);this.menuTheme=fm;this.$E=e;tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fn){this.$9();this.$q(fn.get_defaultRecurrence())}));this.$E.add_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$E.add_usersChanged(ss.mkdel(this,this.$m));this.$E.add_groupsChanged(ss.mkdel(this,this.$k));this.$E.add_addSubscribersPopupStateChanged(ss.mkdel(this,this.$w))};el.__typeName='tab.SubscribeView';el.get_sendOnlyWhenDataPresentCheckboxClass=function(){return'tab-sendOnlyWhenDataPresentCheckbox'};global.tab.SubscribeView=el;var em=function(){this.$f=[];this.$b=[];this.$d=[];this.addSubscribersViewModel=null;this.$e=false;this.$c=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=null;this.$3$8=null;this.$3$9=null;this.$3$10=false;this.$3$11=null;this.$3$12=null;this.$3$13=null;this.$3$14=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);if(!tsConfig.is_guest||tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){tab.WorkgroupServerCommands.getSchedules(ss.mkdel(this,function(e){this.$d=e.filter(function(fm){return fm.get_schedulePresModel().scheduledAction==='Subscription'});if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}this.incrementProps()}))}))}this.set_email(tsConfig.current_user_email);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.$6)));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.disposeViewModel)));if(tab.FeatureFlags.isEnabled('SubscribeOthers')){this.set_subscriptionsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/workbooks/{0}/subscriptions',tsConfig.current_workbook_id):ss.formatString('/#/site/{0}/workbooks/{1}/subscriptions',tsConfig.site_url_name,tsConfig.current_workbook_id)))}if(tab.FeatureFlags.isEnabled('UserTimeZone')){this.set_userSettingsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/user/{0}/{1}/settings',tsConfig.current_user_domain_name,tsConfig.current_user_name):ss.formatString('/#/site/{0}/user/{1}/{2}/settings',tsConfig.site_url_name,tsConfig.current_user_domain_name,tsConfig.current_user_name)))}};em.__typeName='tab.SubscribeViewModel';em.isSelfServiceSchedulesEnabled=function(){return tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled};global.tab.SubscribeViewModel=em;var en=function(){this.subscribeViewArea=null;this.subscribeViewsToggleLabel=null;this.subscribeThisView=null;this.subscribeAllViews=null;this.subscribeSelfArea=null;this.subscribeScheduleDropdown=null;this.subscribeEmail=null;this.addSubscribersLabel=null;this.addUsersPlaceholder=null;this.addGroupsPlaceholder=null;this.manageSubscribersLabel=null;this.subscribeSubject=null;this.subscribeMessage=null;this.subscribeButton=null;spiff.Template.call(this,$("<div class='tab-subscribeView tab-toolbarFlyout'></div>"));this.subscribeViewArea=this.domRoot};en.__typeName='tab.SubscribeViewTemplate';global.tab.SubscribeViewTemplate=en;var eo=function(e){this.$6=(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')?24:25);this.textAreaElement=null;this.$5=null;this.$4=null;React.Component.call(this,e);this.$5=ss.mkdel(this,function(fn){this.textAreaElement=fn});this.$4=ss.mkdel(this,function(fn){this.props.onDoneButtonClick(this.textAreaElement.value)});var fm=ss.isValue(this.props.message)&&this.props.message.length>=eo.characterWarningLimit;this.state={isError:false,isWarning:fm,warningMessage:(fm?tab.Strings.MessageCharacterLimit(this.props.message.length,eo.characterLimit):null)}};eo.__typeName='tab.SubscriptionMessageEditor';global.tab.SubscriptionMessageEditor=eo;var ep=function(e,fm,fn){this.tabLabelElement=null;this.tabContentElement=null;this.tabIndex=0;ss.EventArgs.call(this);this.tabLabelElement=e;this.tabContentElement=fm;this.tabIndex=fn};ep.__typeName='tab.TabEventArgs';global.tab.TabEventArgs=ep;var eq=function(e){this.$6=null;this.$b=null;this.$c=null;this.$l=null;this.$e=null;this.$j=0;this.$g=null;this.$k=null;this.$h=false;this.$7=null;this.$8=null;this.$9=null;this.$a=null;this.$i=false;this.$d=0;this.$f=0;this.dirtyRect=null;this.pixelRatio=0;this.$6=e;this.$b=new Array;this.$c=cj.instance();this.$l=new tab.TransformationMatrix;this.reset();this.clearDirtyRect()};eq.__typeName='tab.TabRenderContext2D';eq.$0=function(e){if(!tab.MiscUtil.isNullOrEmpty$3(e)){var fm=e.split(' ');for(var fn=0;fn<fm.length;fn++){var fo=fm[fn];var fp=parseFloat(fo);if(isFinite(fp)){return fp}}}return 8};global.tab.TabRenderContext2D=eq;var er=function(e){this.textSelectable=false;this.textSelectable=e};er.__typeName='tab.TextRegionOptions';global.tab.TextRegionOptions=er;var es=function(e){this.textRegionBoundaryElem=null;this.contentElem=null;this.formatIndicatorElem=null;spiff.Template.call(this,$(es.$0(e)));var fm=ss.mkdel(this,this.getElementBySelector);this.textRegionBoundaryElem=fm('.tab-textRegion-boundary');this.contentElem=fm('.tab-textRegion-content');this.formatIndicatorElem=fm('.tab-formatThisZone');this.formatIndicatorElem.hide()};es.__typeName='tab.TextRegionTemplate';es.$0=function(e){var fm='';if(e>0){fm=ss.formatString("role='heading' aria-level='{0}'",e)}return ss.formatString("<div {0} class='tab-textRegion'>\n            <div class='tab-textRegion-boundary'>\n                <div class='tab-textRegion-content'></div>\n            </div>\n            <div class='tab-formatThisZone'></div>\n        </div>",fm)};global.tab.TextRegionTemplate=es;var et=function(e){et.$ctor1.call(this,e,-1)};et.__typeName='tab.TextRegionView';et.$ctor1=function(e,fm){ss.makeGenericType(spiff.BaseView$1,[eu]).call(this,e,new es(fm));this.$e().add_newTextRegion(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e().remove_newTextRegion(ss.mkdel(this,this.handleNewTextRegion))})));this.disposables.add$1(spiff.TableauClickHandler.targetAndRightClick(this.element[0],ss.mkdel(this,this.handleRightClick)));if(tsConfig.is_authoring&&!tsConfig.is_mobile&&tab.FeatureFlags.isEnabled('RichTextEditingWorksheetTitle')&&this.get_viewModel().isTitle()){this.disposables.add$1(spiff.TableauClickHandler.targetAndDoubleClick(this.element[0],ss.mkdel(this,this.handleDoubleClick)));var fn={};fn.hoverDelay=0;spiff.EventHandleSpecExtensions.setHandler(fn,'mouseleave',ss.mkdel(this,this.handleMouseLeave));spiff.EventHandleSpecExtensions.setHandler(fn,'hover',ss.mkdel(this,this.handleHover));this.disposables.add$1(spiff.TableauClickHandler.targetAndConfig(this.element[0],fn))}};et.$3=function(e){return Math.round(e)===90};et.$2=function(e){return Math.round(e)===-90};et.$0=function(e,fm,fn){var fo={};fo['transform-origin']=fm;fo['transform']='rotate('+fn+'deg)';e.css(fo)};et.$1=function(e,fm,fn,fo){var fp=0;if(fm>e){fn=(et.$3(fo)?'h-align-right':'h-align-left')}switch(fn){case'h-align-left':{fp=0;break}case'h-align-right':{fp=e-fm;break}case'h-align-center':{fp=ss.Int32.div(e,2)-ss.Int32.div(fm,2);break}}return fp+'px'};global.tab.TextRegionView=et;var eu=function(e){this.$3=null;this.options=new er(true);this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newText(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newText(ss.mkdel(this,this.handleNewTextRegion))})))};eu.__typeName='tab.TextRegionViewModel';global.tab.TextRegionViewModel=eu;var ev=function(){this.container=null;spiff.Template.call(this,$("<div class='tvimagesContainer'></div>"));this.container=this.getElementBySelector('.tvimagesContainer')};ev.__typeName='tab.TiledImageTemplate';global.tab.TiledImageTemplate=ev;var ew=function(e){ss.makeGenericType(spiff.BaseView$1,[ex]).call(this,e,new ev)};ew.__typeName='tab.TiledImageView';global.tab.TiledImageView=ew;var ex=function(){spiff.BaseViewModel.call(this)};ex.__typeName='tab.TiledImageViewModel';global.tab.TiledImageViewModel=ex;var ey=function(){cp.call(this)};ey.__typeName='tab.ToggleFullScreenKeyboardShortcut';global.tab.ToggleFullScreenKeyboardShortcut=ey;var ez=function(e){var fm=function(){this.viewModel=null};ss.registerGenericClassInstance(fm,ez,[e],{},function(){return null},function(){return[]});return fm};ez.__typeName='tab.ToolbarButtonProps$1';ss.initGenericClass(ez,a,1);global.tab.ToolbarButtonProps$1=ez;var eA=function(){this.$2$1=null;this.$2$2=null;spiff.Template.call(this,$("<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"));this.set_image(this.getElementBySelector('.tabToolbarButtonImg'));this.set_text(this.getElementBySelector('.tabToolbarButtonText'))};eA.__typeName='tab.ToolbarButtonTemplate';global.tab.ToolbarButtonTemplate=eA;var eB=function(e){this.$e=null;this.$f=null;ss.makeGenericType(spiff.BaseView$1,[eC]).call(this,e,new eA);this.get_viewModel().add_flyoverShown(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverShown(ss.mkdel(this,this.$b))})));this.get_viewModel().add_flyoverHidden(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverHidden(ss.mkdel(this,this.$a))})));this.get_viewModel().add_clickButtonRequested(ss.mkdel(this,this.onClicked));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_clickButtonRequested(ss.mkdel(this,this.onClicked))})));this.get_viewModel().add_showButtonRequested(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_showButtonRequested(ss.mkdel(this,this.$d))})));this.get_viewModel().add_hideButtonRequested(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_hideButtonRequested(ss.mkdel(this,this.$9))})));this.$c()};eB.__typeName='tab.ToolbarButtonView';eB.create=function(e){return new eB(e)};global.tab.ToolbarButtonView=eB;var eC=function(e,fm,fn){this.$7=null;this.action=null;this.popupContent=null;this.dialogContent=null;this.$c=null;this.$d=null;this.$8=null;this.$6=false;this.$a=false;this.$9=false;this.popupViewModel=null;this.$b=new spiff.UberPopupShowOptions.$ctor1(2,1,0,eI.get_toolbarIsBottom(),false,false,null,null,true,0,null,987,true);this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=false;spiff.BaseViewModel.call(this);this.$c=e;this.$8=fm;this.action=fn;this.$6=!ss.staticEquals(fn,null)};eC.__typeName='tab.ToolbarButtonViewModel';eC.shouldShowButton=function(e,fm){if(ss.isNullOrUndefined(fm)){return false}switch(e.get_iconRes()){case'share':{return tsConfig.showShareOptions}case'edit':{return tsConfig.allow_authoring&&!tsConfig.previewMode&&!eI.$0()&&!tsConfig.is_mobile_app&&!fm.get_useSmallScreenToolbar()}case'customviews':{return tsConfig.allow_custom_views&&!fm.get_forceHideCustomViewsButton()&&!fm.get_useSmallScreenToolbar()}case'subscribe':{return tsConfig.allow_subscriptions&&tsConfig.workbook_allow_subscriptions}case'download':{return!tsConfig.previewMode}case'alert':{return tsConfig.allow_data_alert}case'public-logo':{return tsConfig.isPublic}default:{return true}}};eC.createSeparator=function(){var e=new eC(null,'tabAuthToolbarSeparator',null);e.$a=true;return e};eC.createFromCommandItem=function(e,fm,fn){var fo=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var fp=new eC(fo.get_name(),fm+fo.get_iconRes(),null);fp.$6=ss.isNullOrUndefined(fo.get_enabled())||fo.get_enabled();fp.set_iconType(fo.get_iconRes());if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app||ss.isNullOrUndefined(fn)){fp.$7=function(){return eC.fetchDialogContent(fn,fp)}}else{fp.popupContent=eC.$1(e,fn,fp)}var fq=tab.CommandSerializer.deserialize(fo.get_command());if(fp.get_iconType()==='edit'){fp.action=function(){tab.ToolbarServerCommands.launchEditing()}}else if(fp.get_iconType()==='alert'&&tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){fp.action=function(){bs.handleDataAlertClick(fo.get_description())};fn.handleDataAlertUpdate()}else if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')&&ss.isValue(fq)&&ss.referenceEquals(fq.commandName,{ns:'tabdoc',cmd:'toggle-mark-labels'}.cmd)){fp.action=function(){tab.PaneClientCommands.setShowMarkLabels(fo.get_iconRes()==='show-labels',null)}}else if(ss.isValue(fq)){fp.action=function(){fp.set_isActive(true);if(tab.WebCommandRegistry.hasCommand(fq.commandName)){var fr=tab.WebCommandRegistry.createCommandWithParams(fq.commandName,fq.commandParams);fr.invoke();fp.set_isActive(false)}else{tab.ServerCommands.executeServerCommand(fq,'immediately',function(fs){fp.set_isActive(false)},function(fs){fp.set_isActive(false)})}}}return fp};eC.fetchDialogContent=function(e,fm){var fn=$.Deferred();if(fm.get_iconType()==='download'){tab.ModuleManager.load(tab.IDownloadDialogModule).call(null,[]).done(function(fo){fm.dialogContent=fm.dialogContent||fo.buildDialogContent();fn.resolve(fm.dialogContent)})}else{fm.dialogContent=fm.dialogContent||eC.$0(fm.get_iconType(),e);fn.resolve(fm.dialogContent)}return fn.promise()};eC.$1=function(e,fm,fn){var fo=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var fp=function(){var ft=ss.getEnumerator(fm.get_nonVizItems());try{while(ft.moveNext()){var fu=ft.current();if(!ss.referenceEquals(fu,fn)){fu.$3()}}}finally{ft.dispose()}};fn.add_flyoverShown(fp);fn.disposables.add$1(new tab.CallOnDispose(function(){fn.remove_flyoverShown(fp)}));switch(fo.get_iconRes()){case'download':{var fq=new bR;fq.add_downloadInitiated(ss.mkdel(fn,fn.$3));fn.disposables.add$1(new tab.CallOnDispose(function(){fq.remove_downloadInitiated(ss.mkdel(fn,fn.$3))}));return fq}case'share':{return new dU}case'customviews':{var fr=fm.get_customViewsViewModel();fr.hideView=ss.delegateCombine(fr.hideView,ss.mkdel(fn,fn.$3));fn.disposables.add$1(new tab.CallOnDispose(function(){var ft=fm.get_customViewsViewModel();ft.hideView=ss.delegateRemove(ft.hideView,ss.mkdel(fn,fn.$3))}));return fm.get_customViewsViewModel()}case'subscribe':{var fs=new em;fs.add_subscribeSuccess(ss.mkdel(fn,fn.$3));fn.disposables.add$1(new tab.CallOnDispose(function(){fs.remove_subscribeSuccess(ss.mkdel(fn,fn.$3))}));return fs}case'public-logo':{return new ds}default:{return null}}};eC.$0=function(e,fm){switch(e){case'download':{if(!tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app){return new bR}else{return null}}case'share':{return new dU}case'customviews':{return(ss.isNullOrUndefined(fm)?null:fm.get_customViewsViewModel())}case'subscribe':{return new em}case'public-logo':{return new ds}default:{return null}}};global.tab.ToolbarButtonViewModel=eC;var eD=function(e,fm,fn){this.$e=null;eC.call(this,e,fm,null);tab.Param.verifyValue(fn,'menuBuilder');this.$e=fn;this.set_enabled(this.createMenu().menuItems.some(function(fo){return fo.enabled}))};eD.__typeName='tab.ToolbarDropdownButtonViewModel';global.tab.ToolbarDropdownButtonViewModel=eD;var eE=function(e,fm,fn){this.$g=null;this.$f=null;this.$3$1=null;this.$3$2=null;eC.call(this,e,fm,null);tab.Param.verifyValue(fn,'menuBuilder');this.$g=fn;this.$f=this.createMenu();this.set_enabled(this.$f.menuItems.some(function(fs){return fs.enabled}));if(this.get_enabled()){var fo=0;var fp=0;for(var fq=0;fq<this.$f.menuItems.length;fq++){var fr=this.$f.menuItems[fq];if(fr.checkState!==0){fo=fp;break}fp++}fp=0;this.set_props({dropdownType:0,menuItemInfos:_.map(this.$f.menuItems,function(fs){return{displayValue:fs.name,disabled:!fs.enabled,value:(fp++).toString()}}),containerStyle:{width:'97px'},selectedValue:fo.toString(),onSelect:ss.mkdel(this,this.$e),testId:'FitDropdown'})}};eE.__typeName='tab.ToolbarDropdownMenuViewModel';global.tab.ToolbarDropdownMenuViewModel=eE;var eF=function(){this.toolbar=null;this.leftItems=null;this.rightItems=null;spiff.Template.call(this,$((eI.$0()?"\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>":"\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>")));this.toolbar=this.domRoot;this.leftItems=this.getElementBySelector('.tab-vizItems');this.rightItems=this.getElementBySelector('.tab-nonVizItems')};eF.__typeName='tab.ToolbarTemplate';global.tab.ToolbarTemplate=eF;var eG=function(e,fm,fn,fo,fp){this.$e=null;eC.call(this,e,fn,fo);this.$e=fp;this.set_iconType(fm)};eG.__typeName='tab.ToolbarToggleButtonViewModel';eG.createFromCommandItems=function(e,fm,fn){var fo;var fp;var fq=tab.CommandItemWrapper.create(e);var fr=tab.CommandItemWrapper.create(fm);if(!ss.isValue(fq.get_enabled())||fq.get_enabled()){fo=fq;fp=fr}else if(!ss.isValue(fr.get_enabled())||fr.get_enabled()){fo=fr;fp=fq}else{return null}var fs=eC.createFromCommandItem(fo.get_item(),fn);var ft=new eG(fs.get_text(),fs.get_iconType(),fs.get_iconClass(),fs.get_buttonAction(),fp.get_name());ft.disposables.add$1(fs);ft.set_enabled(ss.isValue(fp)&&!fp.get_enabled());if(ft.get_enabled()){return ft}return null};global.tab.ToolbarToggleButtonViewModel=eG;var eH=function(e){this.$I=null;this.$L=0;this.$K=0;this.$J=0;this.$H=0;this.$G=0;this.$F=0;this.$E=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=null;ss.makeGenericType(spiff.BaseView$1,[eI]).call(this,e,new eF);this.$I=e;this.$I.add_newToolbar(ss.mkdel(this,this.$i));dO.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$e));spiff.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$d));this.disposables.add(ss.mkdel(this,function(){this.$I.remove_newToolbar(ss.mkdel(this,this.$i));dO.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$e));spiff.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$d))}));if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.element.on('keydown',ss.mkdel(this,this.$h));this.element.attr('role','toolbar')}if(tsConfig.allow_custom_views){var fm=ss.mkdel(this,function(fo,fp){this.updateCustomViewsButton();this.$f()});this.$r().add_dirtyChanged(fm);this.$r().add_customViewListChanged(fm);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$r().remove_dirtyChanged(fm);this.$r().remove_customViewListChanged(fm)})))}var fn=_.throttle(ss.mkdel(this,this.$e),50);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(window),'resize',function(fo){fn()}))};eH.__typeName='tab.ToolbarView';eH.$3=function(e){if(ss.isValue(e)){e.element.show()}};eH.$0=function(e){e.children('.tabToolbarButton').each(function(fm,fn){var fo=$(fn);fo.css('width',tab.DoubleUtil.roundToInt(fo.outerWidth(false))+1)})};eH.$2=function(e){e.children('.tabToolbarButton').css('width','')};eH.$1=function(e){e.addClass('hideLabels');e.removeClass('showLabels');e.find('.tabToolbarButton').each(function(fm,fn){var fo=$(fn);var fp=fo.find('.tabToolbarButtonText').text();fo.attr('title',fp);if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){fo.removeAttr('aria-label')}})};eH.$4=function(e){e.addClass('showLabels');e.removeClass('hideLabels');e.find('.tabToolbarButton').each(function(fm,fn){fn.removeAttribute('title');if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){var fo=$(fn);var fp=fo.find('.tabToolbarButtonText').text();fo.attr('aria-label',fp)}})};global.tab.ToolbarView=eH;var eI=function(e){this.$c=null;this.$d=[];this.$b=[];this.$9=new bk;this.dataAlertDialogViewModel=null;this.$a=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=false;this.$2$5=null;spiff.BaseViewModel.call(this);this.$c=e;if(!tsConfig.allow_custom_view_save){this.$a=true;this.$9.add_customViewListChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$9.remove_customViewListChanged(ss.mkdel(this,this.$7))})))}this.set_dialogHostViewModel(new bK);if(ss.isValue(this.$c.get_vizCommandItems())){this.$6(null)}var fm=ss.mkdel(this,function(){this.$6(null)});this.$c.add_newToolbar(fm);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$6));var fn=ss.mkdel(this,function(){this.get_dialogHostViewModel().show(this.dataAlertDialogViewModel)});this.add_dataAlertDialogVMCreated(fn);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_newToolbar(fm);tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$6));this.remove_dataAlertDialogVMCreated(fn)})))};eI.__typeName='tab.ToolbarViewModel';eI.get_toolbarHeight=function(){return tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()};eI.$0=function(){return tsConfig.isPublic};eI.get_toolbarIsBottom=function(){return(eI.$0()||tsConfig.embedded)&&!tsConfig.forceToolbarTop};global.tab.ToolbarViewModel=eI;var eJ=function(e){this.tupleId=null;this.$i=null;this.$m=[];this.$k=false;this.$o=null;this.$n=false;this.$s=16;this.$j=16;this.$l=null;this.$r=null;this.$q=false;this.$p=false;this.$h=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;spiff.Widget.call(this,(e||eJ.$0()).domRoot);this.$i=e||eJ.$0();this.$n=tsConfig.is_mobile;if(!tsConfig.is_mobile){$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.$r=null}))}};eJ.__typeName='tab.Tooltip';eJ.$0=function(){return eJ.$5||(eJ.$5=new eO)};global.tab.Tooltip=eJ;var eK=function(e,fm){eL.call(this,'sticky',e,fm);var fn=this.get_currentBehavior();fn.attach()};eK.__typeName='tab.TooltipBaseLegacyMode';global.tab.TooltipBaseLegacyMode=eK;var eL=function(e,fm,fn){this.disposables=new tab.DisposableHolder;this.$k=null;this.$l=null;this.$h=null;this.tooltipBehaviors=null;this.$f=null;this.$g=null;this.visualId=null;this.readyForHover=true;this.$i=false;this.$m=null;this.$j=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$f=fm;this.visualId=fn;this.$k=new eJ;this.$k.add_closed(ss.mkdel(this,this.$6));this.get_tooltip().add_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().add_showed(ss.mkdel(this,this.$0));this.$k.get_body().on('mouseleave.basemode',ss.mkdel(this,this.$8));this.$l=new eP(this.$k,this.get_ubertipShouldEnforceButtonOrdering(),this.shouldAddCommandButtonsAndActions());this.$l.add_actionExecuted(ss.mkdel(this,this.$9));this.$l.add_commandExecuted(ss.mkdel(this,this.$a));this.$l.add_ubertipMenuToggled(ss.mkdel(this,this.$c));this.$l.add_ubertipMenuClosed(ss.mkdel(this,this.$b));this.$h=e;this.$g=e;this.tooltipBehaviors={};this.buildBehaviorsDictionary();this.$i=tab.ActionUtils.getApplicableActions(this.visualId.worksheet,'on-hover',null).length>0||tab.ActionUtils.getApplicableActions(this.visualId.worksheet,'explicitly',null).length>0;if(tsConfig.is_mobile){fa.add_mobileVizReduceTransform(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fa.remove_mobileVizReduceTransform(ss.mkdel(this,this.$7))})))}};eL.__typeName='tab.TooltipBaseMode';eL.isUbertipHtmlEmpty=function(e){return ss.isValue(e)&&tab.MiscUtil.isNullOrEmpty$3(e.tooltipHtml)};global.tab.TooltipBaseMode=eL;var eM=function(){};eM.__typeName='tab.TooltipBehaviorType';global.tab.TooltipBehaviorType=eM;var eN=function(e){this.$0=null;this.$0=e};eN.__typeName='tab.TooltipContextProvider';global.tab.TooltipContextProvider=eN;var eO=function(){spiff.Template.call(this,$("\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"))};eO.__typeName='tab.TooltipTemplate';global.tab.TooltipTemplate=eO;var eP=function(e,fm,fn){this.$1e=null;this.$16=new tab.DisposableHolder;this.$19=null;this.$1a=null;this.$17=false;this.$11=false;this.$18=false;this.$Z=null;this.$1b=-1;this.$12=null;this.$15=null;this.$13=null;this.$10=null;this.$14=null;this.$1d=[];this.$1c=[];this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.Widget.call(this,$("\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>"));this.$15=this.element.find('.tab-ubertipContent');this.$13=this.element.find('.tab-ubertipCommandArea');this.$10=this.element.find('.tab-ubertipActions');this.$14=this.element.find('.tab-ubertipCommands');this.$1e=e;this.$1e.add_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1e.add_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));this.$11=fn;this.$17=fm};eP.__typeName='tab.Ubertip';eP.$b=function(e){return e.get_commandType()===10};eP.$7=function(e){return _.find(e.buttonModels,eP.$b)};eP.$c=function(e){var fm=e.get_wrappedCommandItemPresModel();if(ss.isNullOrUndefined(fm)){return false}return fm.get_iconRes()===':/en_US/TQRC_MERGE'};eP.$8=function(e){return _.find(e.buttonModels,eP.$c)};eP.$4=function(e,fm){return _.find(e.buttonModels,function(fn){return fn.get_isPlaceholder()&&fn.get_commandType()===fm})};eP.$6=function(e){var fm;if(ss.isNullOrEmptyString(e.get_imageRes())){fm='Command'+e.get_commandType()}else if(ss.endsWithString(e.get_imageRes().toString(),'png')){fm=tab.TabResources.getResourceName(e.get_imageRes())}else{fm=tab.TabResources.lookupFullResourceAlias(e.get_imageRes())}return fm};eP.$a=function(e,fm){if(tab.MiscUtil.isNullOrEmpty$3(e)){return fm}var fn=ss.formatString('Ubertip{0}Mobile',e);var fo=tab.Strings.getString(fn);if(ss.referenceEquals(fo,ss.formatString('!{0}!',fn))){return fm}return fo};eP.$1=function(e){var fm=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){fm.set_label(eP.$a(eP.$6(e),e.get_name()))}else{fm.set_label(e.get_name());fm.set_hoverTooltipText(e.get_description())}fm.set_disabled(true);var fn=new ss.StringBuilder('tab-command');fn.append(eP.$6(e));fm.element.addClass(fn.toString());fm.element.css('visibility','hidden');return fm};eP.$5=function(e){var fm=e.find('.tab-selection-relaxation');for(var fn=0;fn<fm.length;fn++){if(ss.isValue(fm.eq(fn).data('isSelected'))){return fn}}return-1};eP.$2=function(e){var fm=spiff.LabelButton.newNativeButton();fm.set_label(e.get_name());fm.set_hoverTooltipText(e.get_description());$('<span>').addClass('tabComboBoxButton').appendTo(fm.element);return fm};eP.$d=function(e,fm,fn){if(tsConfig.is_mobile&&!tab.MiscUtil.isNullOrEmpty$3(fn)){var fo=eP.$a(fn,fm.get_description());e.setLabelContents($('<div>'+fo+'</div>'))}else{e.set_label(fm.get_name())}};eP.$0=function(e,fm){e.element.addClass(ss.formatString('tab-command{0}',fm))};eP.$3=function(e){e.element.addClass('enabled'.toString())};eP.$9=function(e){return tab.TabResources.getResourceName(tab.TabResources.lookupFullResourceAlias(e))};global.tab.Ubertip=eP;var eQ=function(){eR.call(this)};eQ.__typeName='tab.UndoKeyboardShortcut';global.tab.UndoKeyboardShortcut=eQ;var eR=function(){cp.call(this)};eR.__typeName='tab.UndoRedoKeyboardShortcut';eR.get_logger=function(){return tab.Logger.getLogger(eR)};eR.get_isUndoingOrRedoing=function(){return eR.$3$1};eR.set_isUndoingOrRedoing=function(e){eR.$3$1=e};eR.undoRedoFailure=function(e){eR.set_isUndoingOrRedoing(false);throw e};eR.undoRedoSuccess=function(e){eR.set_isUndoingOrRedoing(false)};global.tab.UndoRedoKeyboardShortcut=eR;var eS=function(){};eS.__typeName='tab.URIUtil';eS.absolutizeURI=function(e,fm){if(ss.isValue(e)){e=e.trim()}if(ss.isNullOrEmptyString(e)){return e}var fn=new RegExp('^([a-zA-Z0-9]+):(?!\\d+(/|$))');var fo=e.match(fn);if(ss.isValue(fo)&&fo[1]!=='http'&&fo[1]!=='https'){if(fm){return''}return e}var fp='//';var fq=new RegExp('^https|^/?/?[a-zA-Z0-9.-]+:443(/|$)');var fr=new RegExp('^http|^/?/?[a-zA-Z0-9.-]+:80(/|$)');if(fq.test(e)){fp='https://'}else if(fr.test(e)){fp='http://'}var fs=new RegExp('^(https?:)?/?/?');e=e.replace(fs,fp);return e};global.tab.URIUtil=eS;var eT=function(e){React.Component.call(this,e)};eT.__typeName='tab.UserPillComponent';global.tab.UserPillComponent=eT;var eU=function(e){React.Component.call(this,e)};eU.__typeName='tab.UserPillsComponent';global.tab.UserPillsComponent=eU;var eV=function(e){this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.set_props({users:ss.arrayClone(e),userValidator:function(fm){return fm.hasEmail},userInvalidText:tab.Strings.UserHasNoEmailAddressWarning,addUser:ss.mkdel(this,this.addUser),removeUser:ss.mkdel(this,this.removeUser)})};eV.__typeName='tab.UserPillsViewModel';global.tab.UserPillsViewModel=eV;var eW=function(){cO.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>")};eW.__typeName='tab.VerticalIteratorButtonTemplate';global.tab.VerticalIteratorButtonTemplate=eW;var eX=function(e){this.$4=null;this.$3=0;this.$5=null;this.$2=new tab.DisposableHolder;this.$1$2=null;this.$4=e};eX.__typeName='tab.ViewController';eX.add_selectionChanged=function(e){eX.$1$1=ss.delegateCombine(eX.$1$1,e)};eX.remove_selectionChanged=function(e){eX.$1$1=ss.delegateRemove(eX.$1$1,e)};global.tab.ViewController=eX;var eY=function(e){this.$g=null;this.$h=null;this.$g=e};eY.__typeName='tab.ViewingToolbarCommands';global.tab.ViewingToolbarCommands=eY;var eZ=function(){this.$8=0;this.$7=false;this.$6=false;this.$1$1=null;this.$1$2=null};eZ.__typeName='tab.ViewportChangeDetector';eZ.get_instance=function(){if(ss.isNullOrUndefined(eZ.$0)){eZ.$0=new eZ}return eZ.$0};global.tab.ViewportChangeDetector=eZ;var fa=function(){};fa.__typeName='tab.VizEvent';fa.add_mobileVizExpandTransform=function(e){fa.$1$1=ss.delegateCombine(fa.$1$1,e)};fa.remove_mobileVizExpandTransform=function(e){fa.$1$1=ss.delegateRemove(fa.$1$1,e)};fa.add_mobileVizReduceTransform=function(e){fa.$1$2=ss.delegateCombine(fa.$1$2,e)};fa.remove_mobileVizReduceTransform=function(e){fa.$1$2=ss.delegateRemove(fa.$1$2,e)};fa.notifyMobileVizExpandTransform=function(){if(ss.isValue(fa.$1$1)){fa.$1$1()}};fa.notifyMobileVizReduceTransform=function(){if(ss.isValue(fa.$1$2)){fa.$1$2()}};global.tab.VizEvent=fa;var fb=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-web'></div>"))};fb.__typeName='tab.WebZoneTemplate';global.tab.WebZoneTemplate=fb;var fc=function(e,fm){this.$j=null;this.$i=null;this.$g=null;this.$h=null;ss.makeGenericType(spiff.BaseView$1,[fd]).call(this,e,new fb);this.$j=e;this.$i=fm;this.$j.add_newWebZone(ss.mkdel(this,this.$b));this.$i.add_propertyChanged(ss.mkdel(this,this.$d));this.$i.add_resizeZone(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_newWebZone(ss.mkdel(this,this.$b));this.$i.remove_propertyChanged(ss.mkdel(this,this.$d));this.$i.remove_resizeZone(ss.mkdel(this,this.$c))})))};fc.__typeName='tab.WebZoneView';global.tab.WebZoneView=fc;var fd=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone))})))};fd.__typeName='tab.WebZoneViewModel';global.tab.WebZoneViewModel=fd;var fe=function(){};fe.__typeName='tab.WidgetUtil';fe.newMenuItemsFromCommands=function(e,fm,fn,fo){if(ss.isNullOrUndefined(fm)){return}var fp=tab.CommandsPresModelWrapper.create(fm);if(!ss.isValue(fp.get_commandItems())){return}var fq=ss.coalesce(fp.get_defaultItem(),-1);var fr=-1;var fs=true;var ft=fp.get_commandItems();for(var fu=0;fu<ft.length;fu++){var fv=ft[fu];fr++;var fw=null;var fx=tab.CommandItemWrapper.create(fv);if(!fe.$1(fx,fo)){continue}var fy=fr===fq||fx.get_isDefault();switch(fx.get_commandsType()){case'item':{fw=spiff.MenuItem.newItem(fn(fv),fx.get_name());fw.description=fx.get_description();fw.enabled=ss.isNullOrUndefined(fx.get_enabled())||fx.get_enabled();break}case'separator':{if(!fs){fw=spiff.MenuItem.newDivider()}break}case'subcommands':{var fz=[];fe.newMenuItemsFromCommands(fz,fx.get_commands(),fn,fo);if(fz.length>0){fw=spiff.MenuItem.newItem(null,fx.get_name(),0,new spiff.Menu(fz))}break}}if(ss.isValue(fw)){fw.enabled=fx.get_enabled();fw.isDefault=fy&&fw.enabled;if(fx.get_isRadioOn()){fw.checkState=2}else if(fx.get_isChecked()){fw.checkState=1}e.push(fw);fs=fw.isDivider}}if(e.length>0&&e[e.length-1].isDivider){ss.removeAt(e,e.length-1)}};fe.$1=function(e,fm){if(!e.get_isVisible()){return false}if(ss.isValue(e.get_command())&&ss.isValue(fm)){var fn=new tab.CommandModel;fn.command=tab.CommandSerializer.deserialize(e.get_command());tab.UbertipSerializer.setCommandType(fn);return fm.test(fn)}return true};fe.createDropdownMenuCommandHandler=function(e){var fm=tab.CommandItemWrapper.create(e);var fn=tab.CommandSerializer.deserialize(fm.get_command());var fo;fo=function(){if(fe.$2(fn)){var fp=ss.isValue(fn.commandParams['isNewZone'])&&fn.commandParams['isNewZone'];tab.RichTextClientCommands.createTextObjectRichTextEditor(fn.commandParams['zoneId'],fp);ck.logRichTextEditorEvent(['RichTextEditorOpenedBy','ContextMenu'])}else if(tab.WebCommandRegistry.hasCommand(fn.commandName)){var fq=tab.WebCommandRegistry.createCommandWithParams(fn.commandName,fn.commandParams);fq.invoke()}else{var fr=fe.$0(fn);tab.ServerCommands.executeServerCommand(fn,fr,tab.CommandUtils.createCommandRedirectSuccessHandler(null),null)}};return fo};fe.$2=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandName)){return false}return e.commandName.toString().indexOf(fe.richTextEditorCreationCommandName)!==-1};fe.createDropdownMenuCommand=function(e){var fm=tab.CommandItemWrapper.create(e);var fn=tab.CommandSerializer.deserialize(fm.get_command());return fn};fe.$0=function(e){var fm='immediately';if(ss.contains(fe.$3,e.commandName)){fm='none'}return fm};fe.commandMenuItemClicked=function(e){if(ss.referenceEquals(ss.getInstanceType(e.data),Function)){e.data()}else{var fm=e.data;tab.ServerCommands.executeServerCommand(fm,'immediately')}};fe.menuViewModelFromCommands=function(e,fm,fn){tab.Param.verifyValue(e,'commands');var fo=tab.CommandsPresModelWrapper.create(e);if(tab.MiscUtil.isNullOrEmpty$1(fo.get_commandItems())){if(ss.isValue(fn)){fn()}return null}var fp=[];fe.newMenuItemsFromCommands(fp,e,fe.createDropdownMenuCommandHandler);var fq=new spiff.Menu(fp);var fr=spiff.MenuViewModel.createForMenu(fq,fm);if(ss.isValue(fn)){fr.add_hidden(fn)}return fr};fe.getMenuItemsInFlatList=function(e){var fm=[];if(ss.isValue(e)){for(var fn=0;fn<e.length;fn++){var fo=e[fn];fe.addMenuItemToList(fo,fm)}}return fm};fe.addMenuItemToList=function(e,fm){if(e.isDivider){}else if(ss.isValue(e.subMenu)&&ss.isValue(e.subMenu.menuItems)){for(var fn=0;fn<e.subMenu.menuItems.length;fn++){var fo=e.subMenu.menuItems[fn];fe.addMenuItemToList(fo,fm)}}else{fm.push(e)}};fe.getMenuItemInfos=function(e){var fm=[];if(ss.isValue(e)){for(var fn=0;fn<e.length;fn++){var fo=e[fn];fe.addMenuItemInfoToList(fo,fm)}}return fm};fe.addMenuItemInfoToList=function(e,fm){var fn=((e.checkState===1||e.checkState===2)?true:null);if(e.isDivider){fm.push({isDivider:true})}else if(ss.isValue(e.subMenu)){var fo=[];for(var fp=0;fp<e.subMenu.menuItems.length;fp++){var fq=e.subMenu.menuItems[fp];fe.addMenuItemInfoToList(fq,fo)}fm.push({value:e.name,displayValue:e.name,checked:fn,disabled:!e.enabled,menuItemInfos:fo})}else{fm.push({value:e.name,displayValue:e.name,checked:fn,disabled:!e.enabled})}};global.tab.WidgetUtil=fe;var ff=function(){this.dashboardSpacer=null;this.centeringContainer=null;spiff.Template.call(this,ff.$0());this.dashboardSpacer=this.domRoot;this.centeringContainer=$('#centeringContainer')};ff.__typeName='tab.WorkbookTemplate';ff.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>"):$("<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>"))};global.tab.WorkbookTemplate=ff;var fg=function(e){this.$j=null;this.$h=null;this.$i=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[fh]).call(this,e,new ff);this.$j=e;this.$j.add_newDashboard(ss.mkdel(this,this.$a));this.$j.add_newDataConnectionPrompt(ss.mkdel(this,this.$b));if(this.$j.get_hasPrompt()){this.$b()}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_newDashboard(ss.mkdel(this,this.$a));this.$j.remove_newDataConnectionPrompt(ss.mkdel(this,this.$b))})));this.handleFullScreenChanged()};fg.__typeName='tab.WorkbookView';fg.findDashboardContainer=function(){return $(fg.dashboardSpacerSelector)};global.tab.WorkbookView=fg;var fh=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$7=e;this.$7.addNewDashboardHandler(ss.mkdel(this,this.$2));this.$7.add_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.add_dataConnectionPromptDismissed(ss.mkdel(this,this.$4));if(this.$7.get_hasPrompt()){this.$3(this.$7.get_connectionPromptModel())}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.remove_dataConnectionPromptDismissed(ss.mkdel(this,this.$4))})))};fh.__typeName='tab.WorkbookViewModel';fh.add_workbookResized=function(e){fh.$2$3=ss.delegateCombine(fh.$2$3,e)};fh.remove_workbookResized=function(e){fh.$2$3=ss.delegateRemove(fh.$2$3,e)};global.tab.WorkbookViewModel=fh;var fi=function(){spiff.Template.call(this,$("<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>"))};fi.__typeName='tab.ZoneTemplate';global.tab.ZoneTemplate=fi;var fj=function(e){this.$v=null;this.$t=null;this.$u=0;this.$q='';this.$r=null;this.$s=$.Deferred();ss.makeGenericType(spiff.BaseView$1,[fk]).call(this,e,new fi);this.$p().add_updateZone(ss.mkdel(this,this.$f));this.$p().add_resizeZone(ss.mkdel(this,this.$e));this.$p().add_newZoneContent(ss.mkdel(this,this.$d));this.$p().add_validStateChanged(ss.mkdel(this,this.$i));if(tsConfig.is_authoring){this.disposables.add$1(new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$g),null))}this.$u=0;this.$r=null};fj.__typeName='tab.ZoneView';fj.add_zoneBecameValid=function(e){fj.$3$1=ss.delegateCombine(fj.$3$1,e)};fj.remove_zoneBecameValid=function(e){fj.$3$1=ss.delegateRemove(fj.$3$1,e)};fj.$0=function(e){return'tabZoneId'+e};fj.getZoneElement=function(e){return $('#'+fj.$0(e)).get(0)};global.tab.ZoneView=fj;var fk=function(e){this.$j=null;this.zoneContentViewModel=null;this.$i=null;this.$h=false;this.$f=false;this.$g=false;this.$e=false;this.$d=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);this.$h=true;this.$j=e;this.$j.add_updateZone(ss.mkdel(this,this.$7));this.$j.get_zoneCommonModel().add_resizeZone(ss.mkdel(this,this.$5));this.$j.add_newZoneContent(ss.mkdel(this,this.$3));this.$j.add_removeZoneContent(ss.mkdel(this,this.$4));this.$j.get_zoneCommonModel().add_changeZoneTitleVisibility(ss.mkdel(this,this.$6));this.$a();this.$b();if(ss.isValue(e)&&ss.isValue(e.get_model())){this.$3(e.get_model())}else if(tsConfig.is_authoring){this.$2()}};fk.__typeName='tab.ZoneViewModel';fk.calculateZoneZIndex=function(e){return 10+e.get_relativeZoneZIndex()};global.tab.ZoneViewModel=fk;var fl=function(){};fl.__typeName='tableau.ApiCommandExecutor';fl.execute=function(e,fm,fn){var fo=tab._ApiCommand.generateNextCommandId();var fp=new tab._ApiCommand(e,fo,fm,fn);E.get_instance().get_apiEventHandler().routeCommand(fp);return fo};fl.installResponderOverride=function(e){var fm=ss.safeCast(tabBootstrap.ViewerBootstrap.get_instance().apiResponder,tabBootstrap.ApiNativeHostResponder);if(ss.isValue(fm)){fm.set_responseAction(e)}else{}};global.tableau.ApiCommandExecutor=fl;ss.initEnum(b,a,{unloaded:'unloaded',loading:'loading',loaded:'loaded',error:'error'},true);ss.initEnum(c,a,{loading:'loading',loaded:'loaded'},true);ss.initClass(d,a,{});ss.initClass(f,a,{});ss.initClass(g,a,{});ss.initClass(h,a,{});ss.initClass(i,a,{$0:function(e,fm){var fn;if(this.$3==='horizontal'){fn=Math.round(this.$6)===Math.round(fm)}else{fn=Math.round(this.$5)===Math.round(e)}return fn},$1:function(e,fm){var fn=this.$4;var fo=e;var fp=fm;switch(this.$3){case'horizontal':{if(this.$2){fn=-fn}fo=this.$5+fn;break}case'up':{if(!this.$2){fn=-fn}fp=this.$6+fn;break}case'down':{if(this.$2){fn=-fn}fp=this.$6+fn;break}default:{break}}return{x:fo,y:fp}}});ss.initClass(j,a,{$0:function(e){e.set_linePattern(this.$1);e.set_textAngle(this.$5);e.set_shapeFillStyle(this.$2);e.set_textFillStyle(this.$6);e.set_shouldAntialias(this.$3);e.set_shouldUnderlineText(this.$4);e.set_transformation(this.$7)}});ss.initClass(k,a,{});ss.initClass(l,a,{$6:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$7:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$0:function(e){this.$3=new Date;this.$4=e.pageX;this.$5=e.pageY},$1:function(e){this.$2(e)},$2:function(e){var fm=new Date-this.$3;var fn=Math.abs(e.pageX-this.$4);var fo=Math.abs(e.pageY-this.$5);if(fm<=600&&fn<=10&&fo<=10&&!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}}});ss.initClass(m,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});ss.initClass(n,a,{});ss.initClass(o,a,{},ss.EventArgs);ss.initClass(p,a,{addUser:function(e){if(_.any(this.state.users,function(fm){return fm.id===e.id})){return}this.setState(function(fm,fn){var fo=ss.arrayClone(fm.users);fo.push(e);return{users:fo,groups:fm.groups}})},addGroup:function(e){if(_.any(this.state.groups,function(fm){return fm.id===e.id})){return}this.setState(function(fm,fn){var fo=ss.arrayClone(fm.groups);fo.push(e);return{users:fm.users,groups:fo}})},setUsers:function(e){this.setState(function(fm,fn){return{users:e,groups:fm.groups}})},removeUser:function(e){this.setState(function(fm,fn){var fo=ss.arrayClone(fm.users);ss.remove(fo,e);return{users:fo,groups:fm.groups}})},removeGroup:function(e){this.setState(function(fm,fn){var fo=ss.arrayClone(fm.groups);ss.remove(fo,e);return{users:fm.users,groups:fo}})},removeRecipientByIndex:function(e){if(this.props.isUsers){this.removeUserByIndex(e)}else{this.removeGroupByIndex(e)}},removeUserByIndex:function(e){this.setState(function(fm,fn){var fo=ss.arrayClone(fm.users);ss.removeAt(fo,e);return{users:fo,groups:fm.groups}})},removeGroupByIndex:function(e){this.setState(function(fm,fn){var fo=ss.arrayClone(fm.groups);ss.removeAt(fo,e);return{users:fm.users,groups:fo}})},confirmSelection:function(){if(this.props.isUsers){this.props.confirmUsersSelection(this.state.users)}else{this.props.confirmGroupsSelection(this.state.groups)}},render:function(){var e='tabAddSubscribersContent';if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){e+='BulkSubscribeOthers'}return spiff.DOMElements.div({className:e},this.$2(),this.$3(),this.$1())},$2:function(){var e='';if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){e=(this.props.isUsers?tab.Strings.ToolbarSubscribeAddUsersHeader:tab.Strings.ToolbarSubscribeAddGroupsHeader)}else{e=tab.Strings.AddSubscribersHeader}return spiff.DOMElements.div({className:'tabAddSubscribersHeader'},e)},$0:function(e,fm,fn,fo,fp,fq,fr){return{users:e,addUser:fm,removeUser:fn,groups:fo,addGroup:fp,removeRecipientByIndex:fq,isUsers:this.props.isUsers,userValidator:function(fs){return fs.hasEmail},placeholderMessage:fr,emptySearch:function(fs){},noResults:function(fs){},isBulkSubscribe:tab.FeatureFlags.isEnabled('BulkSubscribeOthers')}},$3:function(){var e;if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){e=this.$0(this.state.users,ss.mkdel(this,this.addUser),ss.mkdel(this,this.removeUser),this.state.groups,ss.mkdel(this,this.addGroup),ss.mkdel(this,this.removeRecipientByIndex),'')}else{e=this.$0(this.props.users,this.props.addUser,this.props.removeUser,this.props.groups,this.props.addGroup,this.props.removeRecipientByIndex,tab.Strings.SubscribeOthersSearchPlaceholder)}return React.createElement(dB,e)},$1:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){return spiff.DOMElements.div({className:'tabAddSubscribersButtons'},React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fp){this.props.cancelSelection()}),buttonType:3,testId:'add-subscribers-cancel',label:tab.Strings.SubscribeCancel,style:{marginRight:12}}),React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fp){this.confirmSelection()}),buttonType:2,testId:'add-subscribers-done',label:tab.Strings.SubscribeDone}))}else{var e={clickHandler:this.props.cancelSelection,label:tab.Strings.SubscribeCancel,buttonClass:'tabAddSubscribersCancelButton',buttonStyle:3,tabIndex:0};var fm={clickHandler:this.props.confirmSelection,label:tab.Strings.DialogButtonOK,buttonClass:'tabAddSubscribersConfirmButton',buttonStyle:0,tabIndex:0};var fn=React.createElement(spiff.StyledButtonComponent,fm);var fo=React.createElement(spiff.StyledButtonComponent,e);return spiff.DOMElements.div({className:'tabAddSubscribersButtons'},fo,fn)}}},React.Component);ss.initClass(q,a,{});ss.initClass(r,a,{});ss.initClass(s,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_selectionCanceled:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_selectionCanceled:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_selectionConfirmedUser:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_selectionConfirmedUser:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_selectionConfirmedGroup:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_selectionConfirmedGroup:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_viewModel:function(){return this},get_props:function(){return this.$2$5},set_props:function(e){this.$2$5=e},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[s,p,r])},updateUberPopupViewModel:function(e){},addUser:function(e){if(_.any(this.users,function(fm){return fm.id===e.id})){return}this.users.push(e);this.$2()},addGroup:function(e){if(_.any(this.groups,function(fm){return fm.id===e.id})){return}this.groups.push(e);this.$2()},setUsers:function(e){this.users=e;this.$2()},removeUser:function(e){ss.remove(this.users,e);this.$2()},removeGroup:function(e){ss.remove(this.groups,e);this.$2()},removeRecipientByIndex:function(e){if(this.get_props().isUsers){this.removeUserByIndex(e)}else{this.removeGroupByIndex(e)}this.$2()},removeUserByIndex:function(e){ss.removeAt(this.users,e)},removeGroupByIndex:function(e){ss.removeAt(this.groups,e)},disposeViewModel:function(){this.dispose()},cancelSelection:function(){this.users=this.originalUsers;this.groups=this.originalGroups;this.$2();this.raiseActionEvent(this.$2$2)},confirmSelection:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.isUsers){this.raiseActionEvent$1(Array).call(this,this.$2$4,this.groups)}else{this.raiseActionEvent$1(Array).call(this,this.$2$3,this.users)}},updateProps:function(){var e=r.$ctor();e.users=this.users;e.addUser=ss.mkdel(this,this.addUser);e.removeUser=ss.mkdel(this,this.removeUser);e.groups=this.groups;e.addGroup=ss.mkdel(this,this.addGroup);e.removeGroup=ss.mkdel(this,this.removeGroup);e.removeRecipientByIndex=ss.mkdel(this,this.removeRecipientByIndex);e.isUsers=this.isUsers;e.cancelSelection=ss.mkdel(this,this.cancelSelection);e.confirmSelection=ss.mkdel(this,this.confirmSelection);e.confirmGroupsSelection=this.$2$4;e.confirmUsersSelection=this.$2$3;this.set_props(e)},$2:function(){this.updateProps();this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[r])]);ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initClass(w,a,{});ss.initClass(x,a,{dispose:function(){this.$12.dispose();if(ss.isValue(this.$16)){this.$16.dispose();this.$16=null}if(ss.isValue(this.$15)){this.$15.dispose();this.$15=null}tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().remove_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))},updateClients:function(e,fm){if(!ss.referenceEquals(this.$10,e)){var fn=this.$10;this.$10=e;if(tsConfig.allow_custom_views){var fo=(ss.isValue(fn)?fn.get_customViewsViewModel():null);if(ss.isValue(fo)){fo.remove_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));fo.remove_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));fo.remove_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));fo.remove_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}var fp=(ss.isValue(e)?e.get_customViewsViewModel():null);if(ss.isValue(fp)){fp.add_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));fp.add_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));fp.add_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));fp.add_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}}this.$11=false;if(ss.isValue(this.$16)){this.$16.dispose();this.$16=null}if(ss.isValue(this.$Z)&&ss.isValue(this.$10.get_toolbarCommands().get_toolbarViewModel())){this.$16=new B(this.$Z,this.$10.get_toolbarCommands().get_toolbarViewModel())}}if(!ss.referenceEquals(this.$14,fm)||ss.isValue(this.$15)&&!this.$15.get_eventHandlerAttached()&&ss.isValue(fm.get_flipboardNavigatorViewModel())){if(ss.isValue(this.$15)){this.$15.dispose()}this.$14=fm;if(ss.isValue(this.$14)){this.$15=new A(fm,this.$Z)}}_.defer(ss.mkdel(this,this.$W));if(!this.$13){var fq=tab.ApplicationModel.get_instance().get_workbook();if(ss.isValue(fq)){fq.addNewDashboardHandler(ss.mkdel(this,this.onNewDashboard));this.$13=true}}else{this.onNewDashboard(null)}},$W:function(){var e={};var fm=this.$10.get_viewControllers();for(var fn=0;fn<fm.length;fn++){var fo=fm[fn];e[fo.get_sheetName()]=fo}var fp=_.keys(this.$17);for(var fq=0;fq<fp.length;fq++){var fr=fp[fq];if(!ss.keyExists(e,fr)){this.$17[fr].dispose();delete this.$17[fr]}else{delete e[fr]}}this.$Q(e)},$Q:function(e){_.each(_.keys(e),ss.mkdel(this,function(fm){var fn=e[fm];var fo=ss.mkdel(this,function(fp,fq){if(ss.referenceEquals(fn.get_sheetName(),fp)){this.onSelectionChanged(fp,fq)}});eX.add_selectionChanged(fo);this.$17[fm]=new tab.CallOnDispose(function(){eX.remove_selectionChanged(fo)})}))},handleEvent:function(e){var fm=e.data;if(ss.isNullOrUndefined(fm)||typeof(fm)!=='string'){return}var fn=fm;var fo=tab._ApiCommand.parse(fn);if(ss.isNullOrUndefined(fo.get_rawName())){return}this.routeCommand(fo)},routeCommand:function(e){switch(e.get_name()){case'api.GetClientInfoCommand':{this.$D(e);break}case'api.GetCurrentUrlCommand':{this.$F(e);break}case'api.ClearFilterCommand':{this.$6(e);break}case'api.ApplyCategoricalFilterCommand':{this.$2(e);break}case'api.ApplyRangeFilterCommand':{this.$4(e);break}case'api.ApplyRelativeDateFilterCommand':{this.$5(e);break}case'api.ApplyHierarchicalFilterCommand':{this.$3(e);break}case'api.RefreshDataCommand':{this.$x(e);break}case'api.RevertAllCommand':{this.$z(e);break}case'api.SwitchActiveSheetCommand':{this.$R(e);break}case'api.UpdateActiveSheetCommand':{this.$U(e);break}case'api.SelectMarksCommand':{this.$B(e);break}case'api.ClearSelectedMarksCommand':{this.$8(e);break}case'api.FetchSelectedMarksCommand':{this.$e(e);break}case'api.FetchParametersCommand':{this.$d(e);break}case'api.SetParameterValueCommand':{this.$G(e);break}case'api.InvokeCommandCommand':{this.$o(e);break}case'api.SetSheetSizeCommand':{this.$H(e);break}case'api.ShowHideToolbarCommand':{this.$M(e);break}case'api.GetFiltersListCommand':{this.$h(e);break}case'api.GetOneFilterInfoCommand':{this.$i(e);break}case'api.GetDataSourceCommand':{this.$f(e);break}case'api.GetDataSourcesCommand':{this.$g(e);break}case'api.FetchCustomViewsCommand':{this.$b(e);break}case'api.ShowCustomViewCommand':{this.$I(e);break}case'api.UpdateCustomViewCommand':{this.$V(e);break}case'api.MakeCurrentCustomViewDefaultCommand':{this.$q(e);break}case'api.RemoveCustomViewCommand':{this.$y(e);break}case'api.SaveNewCustomViewCommand':{this.$A(e);break}case'api.ActivateStoryPoint':{this.$15.activateStoryPoint(e);break}case'api.ActivatePreviousStoryPoint':{this.$15.activatePreviousStoryPoint(e);break}case'api.ActivateNextStoryPoint':{this.$15.activateNextStoryPoint(e);break}case'api.SwitchViz':{var fm=JSON.parse(e.get_parameters());tab.SessionServerCommands.switchToViz(fm['api.invokeCommandParam']);break}case'api.RevertStoryPoint':{this.$15.revertStoryPoint(e);break}case'api.GetSummaryTableCommand':{this.$j(e);break}case'api.GetUnderlyingTableCommand':{this.$l(e);break}case'api.ClearHighlightedMarksCommand':{this.$7(e);break}case'api.HighlightMarksCommand':{this.$m(e);break}case'api.HighlightMarksByPatternMatch':{this.$n(e);break}case'api.FetchHighlightedMarksCommand':{this.$c(e);break}case'api.GetToolbarState':{this.$k(e);break}case'api.Undo':{this.$T(e);break}case'api.Redo':{this.$w(e);break}case'api.ToggleUpdates':{this.$S(e);break}case'api.ShowShareDialog':{this.$O();break}case'api.ShowDataAlertDialog':{this.$K();break}case'api.ShowSubscribeDialog':{this.$P();break}case'api.ShowCustomViewsDialog':{this.$J();break}case'api.ShowPerformanceDialog':{this.$N();break}case'api.ShowDownloadDialog':{this.$L();break}}},handleNewLayout:function(e){var fm=e.item1;var fn=e.item2;this.$Z.sendEventNotification('api.TabSwitchEvent',fm,fn)},handleMarkSelectionEvent:function(e,fm){if(ss.referenceEquals(e,fm.primarySheet)){this.$Z.sendEventNotification('api.MarksSelectionChangedEvent',e,null)}},handleFilterChangeEvent:function(e,fm){if(ss.isNullOrUndefined(fm.primarySheet)){return}var fn=fm.cmdResult.commandReturn;var fo=fn['fn'];if(ss.isNullOrUndefined(fn['invalidValues'])&&ss.isNullOrUndefined(fn['invalidFieldCaption'])&&ss.isValue(fo)){var fp=null;var fq=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),fm.primarySheet);if(ss.isValue(fq)){var fr=_.find(fq.get_filters(),function(ft){return ss.referenceEquals(ft.get_globalFieldName(),fo)});if(ss.isValue(fr)){fp=fr.get_filterPresModel().fieldCaption}}var fs=[fo,ss.coalesce(fp,fo)];this.$Z.sendEventNotification('api.FilterChangedEvent',e,JSON.stringify(fs))}},$p:function(e){return ss.referenceEquals(e,{ns:'tabdoc',cmd:'reset-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'clear-existing-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'range-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'categorical-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'categorical-filter-by-index'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'hierarchical-filter'}.cmd)||ss.referenceEquals(e,{ns:'tabdoc',cmd:'relative-date-filter'}.cmd)},removeEditDataAlertUrlParam:function(e){this.$Z.sendEventNotification('api.RemoveEditDataAlertUrlParamEvent',e,'')},onSelectionChanged:function(e,fm){if(ss.isNullOrUndefined(fm)||ss.isNullOrUndefined(fm.cmdResult)||ss.isNullOrUndefined(fm.cmdResult.commandName)){return}var fn=fm.cmdResult.commandName.split(':');if(fn[0]==='tabsrv'&&(ss.startsWithString(fn[1],'select')&&!ss.startsWithString(fn[1],'select-legend'))){this.handleMarkSelectionEvent(e,fm)}else{if(ss.startsWithString(fn[1],'highlight')||ss.startsWithString(fn[1],'select-legend')){this.$Z.sendEventNotification('api.MarksHighlightChangedEvent',e,null)}if(ss.startsWithString(fn[1],'select')&&!ss.startsWithString(fn[1],'select-legend')){this.handleMarkSelectionEvent(e,fm)}else if(this.$p(fn[1])){this.handleFilterChangeEvent(e,fm)}}},onClientFullyLoaded:function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));this.$Z.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onCommandComplete:function(){this.$Z.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onNewDashboard:function(e){e=tab.ModelUtils.findContentDashboard();this.$12.dispose();if(ss.isNullOrUndefined(e)){return}var fm=e.get_zoneModels();_.each(fm,ss.mkdel(this,function(fn,fo){if(fn.get_zoneType()==='paramctrl'&&ss.isValue(fn.get_model())){if(ss.referenceEquals(ss.getInstanceType(fn.get_model()),tab.ParameterCtrlModel)){var fp=fn.get_model();fp.add_newParameterCtrl(ss.mkdel(this,this.onParameterChange));this.$12.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fp.remove_newParameterCtrl(ss.mkdel(this,this.onParameterChange))})))}}}))},onParameterChange:function(e){var fm=e.fieldCaption;this.$Z.sendEventNotification('api.ParameterChangedEvent',null,fm)},onCustomViewDestroyed:function(e,fm){this.$Z.sendEventNotification('api.CustomViewRemovedEvent',null,JSON.stringify(this.$9()))},onCustomViewUpdated:function(e,fm){this.$Z.sendEventNotification('api.CustomViewUpdatedEvent',null,JSON.stringify(this.$9()))},onCustomViewSetDefault:function(e,fm){this.$Z.sendEventNotification('api.CustomViewSetDefaultEvent',null,JSON.stringify(this.$9()))},onCustomViewListLoaded:function(e,fm){this.$Z.sendEventNotification('api.CustomViewsListLoadedEvent',null,JSON.stringify(this.$9()));this.$11=true},$d:function(e){var fm=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'get-parameter-models'},null);this.$E(e,fm,f.$8)},$G:function(e){var fm=JSON.parse(e.get_parameters());var fn={};fn['fieldCaption']=fm['api.setParameterName'];fn['valueString']=fm['api.setParameterValue'];var fo=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'set-parameter-value'},fn);this.$E(e,fo,f.$6)},$h:function(e){var fm=function(fo,fp){fp['ignoreDomain']=fo['api.ignoreDomain']};var fn=this.$s(e,{ns:'tabsrv',cmd:'get-filter-info'},fm);this.$E(e,fn,y.processFilters)},$i:function(e){var fm=function(fo,fp){if(ss.isValue(fo['api.fieldCaption'])){fp['fieldCaption']=fo['api.fieldCaption']}else{fp['fn']=fo['api.fieldName']}if(ss.isValue(fo['api.filterHierarchicalLevels'])){fp['filterLevel']=fo['api.filterHierarchicalLevels']}fp['ignoreDomain']=fo['api.ignoreDomain']};var fn=this.$s(e,{ns:'tabsrv',cmd:'get-filter-info'},fm);this.$E(e,fn,y.processSingleFilter)},$e:function(e){var fm=function(fo,fp){};var fn=this.$s(e,{ns:'tabdoc',cmd:'get-selection'},fm);this.$E(e,fn,ss.mkdel(this,this.$v))},$t:function(e,fm){var fn=new Object;var fo=new tab.DataDictionaryModel(null);fo.update(e);var fp=new tab.VizDataModel(null);fp.update(fm,tab.NoopModelEventsHandler.get_noopContext());var fq=[];fn.marks=fq;if(ss.isNullOrUndefined(fo)||fo.get_isEmpty()){return fn}fp.forEachTupleId(function(fr){var fs=new Object;fs.tupleId=fr;var ft=[];fs.pairs=ft;fq.push(fs);fp.forEachVizDataField(function(fu,fv){var fw=new Object;fw.fieldName=fu.get_fieldCaption();fw.formattedValue=tab.VizDataLookup.lookupAlias(fr,fu,fo);fw.valueDataType=t.convertDataType(fu.get_dataType());var fx=null;if(!tab.VizDataLookup.isSpecial(fr,fu,fo,null)&&fu.get_hasDataValues()&&fu.isTupleIdValid(fr)){fx=tab.VizDataLookup.lookupRawDataValue(fr,fu,fo)}var fy=n.serializeDataValue(fx,fu.get_dataType());fw.value=fy;ft.push(fw);return true});return true});return fn},$v:function(e){var fm=e;var fn=fm.dataDictionary;var fo=fm.vizData;return this.$t(fn,fo)},$3:function(e){var fm=function(fo,fp){fp['qualifiedFieldCaption']=fo['api.fieldCaption'];if(ss.isValue(fo['api.filterReset'])&&fo['api.filterReset']){fp['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fo['api.exclude'])){fp['exclude']=fo['api.exclude']}var fq=u.convertFilterUpdateType(fo['api.filterUpdateType'].toString());fp['filterUpdateType']=fq;if(ss.isValue(fo['api.filterHierarchicalValues'])){fp['filterValues']=fo['api.filterHierarchicalValues']}if(ss.isValue(fo['api.filterHierarchicalLevels'])){fp['filterLevels']=fo['api.filterHierarchicalLevels']}if(ss.isNullOrUndefined(fo['api.filterHierarchicalValues'])&&ss.isNullOrUndefined(fo['api.filterHierarchicalLevels'])){fp['filterLevels']='[]'}}};var fn=this.$s(e,{ns:'tabdoc',cmd:'hierarchical-filter'},fm);this.$E(e,fn,y.processFilterCommandReturningFieldName)},$4:function(e){var fm=function(fo,fp){fp['qualifiedFieldCaption']=fo['api.fieldCaption'];if(ss.isValue(fo['api.filterReset'])&&fo['api.filterReset']){fp['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fo['api.filterRangeMax'])){fp['rangeMax']=fo['api.filterRangeMax']}if(ss.isValue(fo['api.filterRangeMin'])){fp['rangeMin']=fo['api.filterRangeMin']}if(ss.isValue(fo['api.filterRangeNullOption'])){if(fo['api.filterRangeNullOption']==='NULL_VALUES'){fp['included']='include-null'.toString()}else if(fo['api.filterRangeNullOption']==='NON_NULL_VALUES'){fp['included']='include-non-null'.toString()}else{fp['included']='include-all'.toString()}}}};var fn=this.$s(e,{ns:'tabdoc',cmd:'range-filter'},fm);this.$E(e,fn,y.processFilterCommandReturningFieldName)},$5:function(e){var fm=function(fo,fp){fp['qualifiedFieldCaption']=fo['api.fieldCaption'];if(ss.isValue(fo['api.filterReset'])&&fo['api.filterReset']){fp['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fo['api.filterDateArchorValue'])){fp['anchorDate']=fo['api.filterDateArchorValue']}fp['datePeriodType']=fo['api.filterPeriodType'].toLowerCase();fp['dateRangeType']=fo['api.filterDateRangeType'].toLowerCase();if(ss.isValue(fo['api.filterDateRange'])){fp['rangeN']=fo['api.filterDateRange']}}};var fn=this.$s(e,{ns:'tabdoc',cmd:'relative-date-filter'},fm);this.$E(e,fn,y.processFilterCommandReturningFieldName)},$Y:function(e){if(e.toLowerCase()==='replace'){return'select-replace'.toString()}else if(e.toLowerCase()==='add'){return'select-add'.toString()}else if(e.toLowerCase()==='remove'){return'select-remove'.toString()}return'select-replace'.toString()},$X:function(e){if(e.toLowerCase()==='nullvalues'){return'include-null'.toString()}else if(e.toLowerCase()==='nonnullvalues'){return'include-non-null'.toString()}else if(e.toLowerCase()==='allvalues'){return'include-all'.toString()}return'include-all'.toString()},$6:function(e){var fm=JSON.parse(e.get_parameters());var fn=x.$1();var fo=fm['api.fieldCaption'];var fp=ss.keyExists(fn,fo);var fq;if(fp){if(fn[fo]==='RD'){var fr=d.$0('api.localfailed','Clearing a relative date filter is not supported when an associated quick filter is on the Worksheet. Please call applyRelativeDateFilter instead.');this.$Z.sendResponse(e,fr);return}fq={ns:'tabdoc',cmd:'reset-filter'}}else{fq={ns:'tabdoc',cmd:'clear-existing-filter'}}var fs=function(fu,fv){fv['qualifiedFieldCaption']=fo};var ft=this.$s(e,fq,fs);this.$E(e,ft,y.processFilterCommandReturningFieldName)},$2:function(e){var fm=function(fo,fp){fp['qualifiedFieldCaption']=fo['api.fieldCaption'];if(ss.isValue(fo['api.filterReset'])&&fo['api.filterReset']){fp['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(fo['api.exclude'])){fp['exclude']=fo['api.exclude'].toString()}var fq=u.convertFilterUpdateType(fo['api.filterUpdateType'].toString());fp['filterUpdateType']=fq;if(ss.isValue(fo['api.filterCategoricalValues'])){fp['filterValues']=JSON.stringify(fo['api.filterCategoricalValues'])}else{fp['filterValues']='[""]'}}};var fn=this.$s(e,{ns:'tabdoc',cmd:'categorical-filter'},fm);this.$E(e,fn,y.processFilterCommandReturningFieldName)},$0:function(e,fm){var fn=new ss.StringBuilder;fn.append('[');for(var fo=0;fo<e.length;fo++){if(fo>0){fn.append(',')}fn.append('{');fn.append('"'+'qualifiedFieldCaption'.toString()+'":');fn.append('"'+e[fo]+'"');fn.append(',');fn.append('"'+'selectValues'.toString()+'":');fn.append(fm[fo]);fn.append('}')}fn.append(']');return fn.toString()},$1:function(e,fm){var fn=new ss.StringBuilder;fn.append('[');for(var fo=0;fo<e.length;fo++){if(fo>0){fn.append(',')}fn.append('{');fn.append('"'+'qualifiedFieldCaption'+'":');fn.append('"'+e[fo]+'"');fn.append(',');var fp=JSON.parse(fm[fo]);var fq=JSON.parse(fp[0]);if(ss.isValue(fq['max'])){fn.append('"'+'maxValue'+'":');fn.append('"'+fq['max'].toString()+'"')}if(ss.isValue(fq['min'])){if(ss.isValue(fq['max'])){fn.append(',')}fn.append('"'+'minValue'.toString()+'":');fn.append('"'+fq['min'].toString()+'"')}if(ss.isValue(fq['nullOption'])){var fr=this.$X(fq['nullOption'].toString());fn.append(',');fn.append('"'+'included'.toString()+'":');fn.append('"'+fr+'"')}fn.append('}')}fn.append(']');return fn.toString()},$j:function(e){var fm=this.$s(e,{ns:'tabdoc',cmd:'get-summary-data'},C.$3);this.$E(e,fm,C.processSummaryData)},$l:function(e){var fm=this.$s(e,{ns:'tabdoc',cmd:'get-underlying-data'},C.$4);this.$E(e,fm,C.$6)},$7:function(e){var fm=function(fo,fp){};var fn=this.$s(e,{ns:'tabsrv',cmd:'select-none'},fm);this.$E(e,fn,x.$3)},$m:function(e){var fm=function(fo,fp){fp['qualifiedFieldCaption']=fo['api.fieldCaption'];fp['objectTextIds']=fo['api.ObjectTextIDs']};var fn=this.$s(e,{ns:'tabdoc',cmd:'highlight-items'},fm);this.$E(e,fn,x.$3)},$n:function(e){var fm=function(fo,fp){fp['qualifiedFieldCaption']=fo['api.fieldCaption'];fp['valueString']=fo['api.Pattern']};var fn=this.$s(e,{ns:'tabdoc',cmd:'highlight-items-by-pattern-match'},fm);this.$E(e,fn,x.$3)},$c:function(e){var fm=function(fo,fp){};var fn=this.$s(e,{ns:'tabdoc',cmd:'get-highlighted-data'},fm);this.$E(e,fn,ss.mkdel(this,this.$u))},$u:function(e){var fm=e;var fn=fm.dataDictionary;var fo=fm.vizData;return this.$t(fn,fo)},$B:function(e){var fm=ss.mkdel(this,function(fo,fp){if(tab.MiscUtil.isNullOrEmpty$2(fo)){fp['selectionUpdateType']='select-replace'.toString()}else{fp['selectionUpdateType']=this.$Y(fo['api.filterUpdateType'].toString());if(ss.isValue(fo['api.categoricalFieldCaption'])&&ss.isValue(fo['api.categoricalMarkValues'])){var fq=JSON.parse(fo['api.categoricalFieldCaption']);var fr=JSON.parse(fo['api.categoricalMarkValues']);var fs=this.$0(fq,fr);fp['dimensionValueSelectionModels']=fs}if(ss.isValue(fo['api.hierarchicalFieldCaption'])&&ss.isValue(fo['api.hierarchicalMarkValues'])){var ft=JSON.parse(fo['api.hierarchicalFieldCaption']);var fu=JSON.parse(fo['api.hierarchicalMarkValues']);var fv=this.$0(ft,fu);fp['hierarchicalValueSelectionModels']=fv}if(ss.isValue(fo['api.rangeFieldCaption'])&&ss.isValue(fo['api.rangeMarkValues'])){var fw=JSON.parse(fo['api.rangeFieldCaption']);var fx=JSON.parse(fo['api.rangeMarkValues']);var fy=this.$1(fw,fx);fp['quantativeRangeSelectionModels']=fy}if(ss.isValue(fo['api.tupleIds'])){var fz=new ss.StringBuilder;fz.append('{');fz.append('"'+'selectionType'+'":');fz.append('"tuples"');fz.append(',');fz.append('"'+'objectIds'+'":');fz.append(fo['api.tupleIds']);fz.append('}');fp['selection']=fz.toString()}}});var fn=this.$s(e,{ns:'tabdoc',cmd:'select-by-value'},fm);this.$E(e,fn,x.$4)},$8:function(e){var fm=function(fo,fp){};var fn=this.$s(e,{ns:'tabsrv',cmd:'select-none'},fm);this.$E(e,fn,x.$4)},$9:function(){var e=this.$10.get_customViewsViewModel();var fm=e.get_currentCustomView();var fn=null;if(ss.isValue(fm)){fn=n.serializeCustomView(e.get_currentCustomView(),e.buildUrl(e.get_currentCustomView(),true))}var fo=[];var fp=this.$10.get_customViewsViewModel().get_myCustomViews();var fq=ss.getEnumerator(fp);try{while(fq.moveNext()){var fr=fq.current();var fs=e.buildUrl(fr,true);var ft=n.serializeCustomView(fr,fs);fo.push(ft)}}finally{fq.dispose()}var fu=this.$10.get_customViewsViewModel().get_otherCustomViews();var fv=ss.getEnumerator(fu);try{while(fv.moveNext()){var fw=fv.current();var fx=e.buildUrl(fw,true);var fy=n.serializeCustomView(fw,fx);fo.push(fy)}}finally{fv.dispose()}return v.newCustomViewsInfo(this.$11,e.get_defaultCustomViewId(),fn,fo)},$b:function(e){this.$10.get_customViewsViewModel().updateCustomizedViews(ss.mkdel(this,function(fm,fn){var fo=d.$0('api.success',this.$9());this.$Z.sendResponse(e,fo)}),ss.mkdel(this,function(fm){var fn=d.$0('api.remotefailed',fm);this.$Z.sendResponse(e,fn)}))},$I:function(e){var fm=JSON.parse(e.get_parameters());var fn=null;if(ss.isValue(fm['api.customViewParam'])){var fo=fm['api.customViewParam'];fn=n.convertToCustomizedView(fo)}this.$10.get_customViewsViewModel().select(fn)},$y:function(e){var fm=JSON.parse(e.get_parameters());var fn=fm['api.customViewParam'];var fo=n.convertToCustomizedView(fn);this.$10.get_customViewsViewModel().destroy(fo,ss.mkdel(this,function(){var fp=d.$0('api.success',this.$9());this.$Z.sendResponse(e,fp)}),ss.mkdel(this,function(fp){var fq=d.$0('api.remotefailed',fp);this.$Z.sendResponse(e,fq)}))},$V:function(e){var fm=JSON.parse(e.get_parameters());var fn=fm['api.customViewParam'];var fo=n.convertToCustomizedView(fn);this.$10.get_customViewsViewModel().update(fo,ss.mkdel(this,function(fp){var fq=d.$0('api.success',this.$9());this.$Z.sendResponse(e,fq)}),ss.mkdel(this,function(fp){var fq=d.$0('api.remotefailed',fp);this.$Z.sendResponse(e,fq)}))},$q:function(e){this.$10.get_customViewsViewModel().makeCurrentDefault(ss.mkdel(this,function(fm){var fn=d.$0('api.success',this.$9());this.$Z.sendResponse(e,fn)}),ss.mkdel(this,function(fm){var fn=d.$0('api.remotefailed',fm);this.$Z.sendResponse(e,fn)}))},$A:function(e){var fm=JSON.parse(e.get_parameters());var fn=fm['api.customViewName'];this.$10.get_customViewsViewModel().save(fn,ss.mkdel(this,function(fo){var fp=this.$9();fp.newView=n.serializeCustomView(fo,this.$10.get_customViewsViewModel().buildUrl(fo,false));var fq=d.$0('api.success',fp);this.$Z.sendResponse(e,fq)}),ss.mkdel(this,function(fo){var fp=d.$0('api.remotefailed',fo);this.$Z.sendResponse(e,fp)}))},$f:function(e){var fm=JSON.parse(e.get_parameters());var fn=fm['api.dataSourceName'];var fo=fm['api.worksheetName'];var fp={};var fq=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'get-schema'},fp);var fr=function(fs){var ft=fs;var fu=w.$0(ft,fo,fn);return fu.dataSources[0]};this.$E(e,fq,fr)},$g:function(e){var fm=JSON.parse(e.get_parameters());var fn=fm['api.worksheetName'];var fo=function(fr,fs){};var fp=this.$s(e,{ns:'tabdoc',cmd:'get-schema'},fo);var fq=function(fr){var fs=fr;var ft=w.$0(fs,fn,null);return ft};this.$E(e,fp,fq)},$o:function(e){var fm=JSON.parse(e.get_parameters());var fn=fm['api.invokeCommandName'];if(fn==='showExportImageDialog'){this.$10.get_toolbarCommands().exportImage()}else if(fn==='showExportDataDialog'){var fo=null;if(ss.isValue('api.invokeCommandParam')){fo=fm['api.invokeCommandParam']}this.$10.get_toolbarCommands().exportData(fo)}else if(fn==='showExportCrosstabDialog'){var fp=null;if(ss.isValue('api.invokeCommandParam')){fp=fm['api.invokeCommandParam']}this.$10.get_toolbarCommands().exportCrosstab(fp)}else if(fn==='showExportPDFDialog'){this.$10.get_toolbarCommands().exportPdf()}else if(fn==='pauseAutomaticUpdates'){this.$10.get_toolbarCommands().$3();this.$C(e)}else if(fn==='resumeAutomaticUpdates'){this.$10.get_toolbarCommands().$5();this.$C(e)}else if(fn==='toggleAutomaticUpdates'){this.$S(e)}else if(fn==='showShareDialog'){this.$10.get_toolbarCommands().$d()}else if(fn==='showDownloadWorkbookDialog'){var fq=this.$10.get_applicationPresModel().workbookPresModel.dashboardPresModel;this.$10.get_toolbarCommands().$0(fq.sheetLayoutInfo.downloadLink)}else if(fn==='selectedMarksKeepOnly'){this.$10.get_toolbarCommands().$8()}else if(fn==='selectedMarksExclude'){this.$10.get_toolbarCommands().$7()}},$k:function(e){if(ss.isValue(this.$16)){var fm=d.$0('api.success',this.$16.get_toolbarState());this.$Z.sendResponse(e,fm)}},$T:function(e){tab.WorksheetServerCommands.undo();var fm=d.$0('api.success','');this.$Z.sendResponse(e,fm)},$w:function(e){tab.WorksheetServerCommands.redo();var fm=d.$0('api.success','');this.$Z.sendResponse(e,fm)},$S:function(e){this.$10.get_toolbarCommands().$f();this.$C(e)},$O:function(){this.$10.get_toolbarCommands().$d()},$K:function(){this.$10.get_toolbarCommands().$a()},$P:function(){this.$10.get_toolbarCommands().$e()},$N:function(){this.$10.get_toolbarCommands().$c()},$J:function(){this.$10.get_toolbarCommands().$9()},$L:function(){this.$10.get_toolbarCommands().$b()},$C:function(e){var fm=v.newAutoUpdateState(this.$10.get_toolbarCommands().$1());var fn=d.$0('api.success',fm);this.$Z.sendResponse(e,fn)},$H:function(e){var fm=JSON.parse(e.get_parameters());var fn={};fn['sheet']=fm['api.setSheetSizeName'];fn['minWidth']=fm['api.minWidth'];fn['minHeight']=fm['api.minHeight'];fn['maxWidth']=fm['api.maxWidth'];fn['maxHeight']=fm['api.maxHeight'];var fo=tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'set-sheet-size'},fn);this.$E(e,fo,null)},$x:function(e){this.$10.get_toolbarCommands().$4();var fm=d.$0('api.success','');this.$Z.sendResponse(e,fm)},$z:function(e){tab.WorksheetServerCommands.revert();var fm=d.$0('api.success','');this.$Z.sendResponse(e,fm)},$M:function(e){var fm=JSON.parse(e.get_parameters());var fn=fm['api.showHideToolbarValue'];this.$10.set_toolbarDisplayed(fn);this.$10.doResize()},$R:function(e){var fm=JSON.parse(e.get_parameters());var fn=new Object;fn.oldRepositoryUrl=fm['api.oldRepositoryUrl'];fn.repositoryUrl=fm['api.switchToRepositoryUrl'];fn.sheetName=fm['api.switchToSheetName'];fn.oldSheetName=tsConfig.current_sheet_name;fn.noUndo=true;fn.successCallback=ss.mkdel(this,function(fo){var fp=d.$0('api.success','');this.$Z.sendResponse(e,fp)});fn.errorCallback=ss.mkdel(this,function(fo){var fp=d.$0('api.remotefailed',fo);this.$Z.sendResponse(e,fp)});E.fireOnTabSelect(fn)},$U:function(e){this.$10.doResize()},$D:function(e){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapFailed()){return}if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){var fm=n.serializeClientInfo(this.$10,this.$14);var fn=d.$0('api.success',fm);this.$Z.sendResponse(e,fn)}))},$F:function(e){var fm=tab.VizUriModel.createForViewingSheet(tsConfig.repositoryUrl).get_absoluteUri();var fn=d.$0('api.success',fm);this.$Z.sendResponse(e,fn)},$s:function(e,fm,fn){return this.$r(e,tab.CommandUtils.newCommand(fm,null),fn)},$r:function(e,fm,fn){var fo=JSON.parse(e.get_parameters());var fp=this.$a(fo);fm.commandParams=fp;fn(fo,fp);return fm},$a:function(e){var fm={};if(ss.isValue(e['api.visualId'])){fm['visualIdPresModel']=JSON.stringify(e['api.visualId'])}else{fm['worksheet']=e['api.worksheetName'];if(ss.isValue(e['api.dashboardName'])){fm['dashboard']=e['api.dashboardName']}}return fm},$E:function(e,fm,fn){fm.noExceptionDialog=true;tab.ApiClientCommands.doApiCommand(fm,ss.mkdel(this,function(fo){var fp=fo;if(ss.isValue(fn)){fp=fn(fo)}var fq=d.$0('api.success',fp);this.$Z.sendResponse(e,fq)}),ss.mkdel(this,function(fo){var fp=d.$0('api.remotefailed',fo);this.$Z.sendResponse(e,fp)}))}},null,[ss.IDisposable]);ss.initClass(y,a,{});ss.initClass(z,a,{});ss.initClass(A,a,{get_eventHandlerAttached:function(){return this.$a},dispose:function(){this.$8.dispose();this.$9=true},activateStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$2))},activatePreviousStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(fm){return this.$1(fm,function(fn){return fn.clickPrevious()})}))},activateNextStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(fm){return this.$1(fm,function(fn){return fn.clickNext()})}))},revertStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$5))},$5:function(e){return this.$3(e,'api.RevertStoryPoint',function(fm){return fm.revertStoryPoint()})},$2:function(e){return this.$3(e,'api.ActivateStoryPoint',function(fm){return fm.clickStoryPoint()})},$3:function(e,fm,fn){A.$0(e,fm);var fo=JSON.parse(e.get_parameters());var fp=fo['api.storyPointIndex'];if(!ss.isValue(fp)||isNaN(ss.unbox(fp))){throw new ss.Exception('Missing index parameter.')}var fq=this.$0();if(ss.Nullable$1.lt(fp,0)||ss.Nullable$1.ge(fp,ss.count(fq.get_captions()))){throw new ss.Exception('The index is out of bounds.')}var fr=$.Deferred();var fs=ss.getItem(fq.get_captions(),ss.unbox(fp));fn(fs).then(ss.mkdel(this,function(ft){var fu=n.serializeStoryPoint(ft,this.$7);fr.resolve(fu)}),function(ft){fr.reject(ft)});return fr.promise()},$1:function(e,fm){A.$0(e,['api.ActivateNextStoryPoint','api.ActivatePreviousStoryPoint']);var fn=this.$0();var fo=$.Deferred();fm(fn).then(ss.mkdel(this,function(fp){var fq=ss.getItem(fn.get_captions(),fp);var fr=n.serializeStoryPoint(fq,this.$7);fo.resolve(fr)}),function(fp){fo.reject(fp)});return fo.promise()},$4:function(){var e=n.serializeStory(this.$7);var fm=JSON.stringify(e);this.$b.sendEventNotification('api.StorytellingStateChangedEvent',null,fm)},$0:function(){var e=this.$7.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(e)){throw new ss.Exception('The active sheet is not a story.')}return e},$6:function(fm,fn){try{fn(fm).then(ss.mkdel(this,function(e){var fo=d.$0('api.success',e);this.$b.sendResponse(fm,fo)}),ss.mkdel(this,function(e){var fo=d.$0('api.remotefailed',e);this.$b.sendResponse(fm,fo)}))}catch(fo){var e=ss.Exception.wrap(fo);var errorResult1=d.$0('api.localfailed',e.get_message());this.$b.sendResponse(fm,errorResult1)}}},null,[ss.IDisposable]);ss.initClass(B,a,{get_toolbarState:function(){return this.$1$1},set_toolbarState:function(e){this.$1$1=e},dispose:function(){this.$4.dispose()},$2:function(){var e=new tab._ApiCommand('api.ToolbarStateChangedEvent',tab._ApiCommand.generateNextCommandId(),null,null);var fm=d.$0('api.success',this.get_toolbarState());this.$3.sendResponse(e,fm);this.$3.sendEventNotification('api.ToolbarStateChangedEvent',null,JSON.stringify(this.get_toolbarState()))},$0:function(e,fm){var fn=e[fm];return ss.isValue(fn)&&eC.shouldShowButton(fn,this.$5)},$1:function(){if(ss.isNullOrUndefined(this.$5.get_vizCommandItems())||ss.isNullOrUndefined(this.$5.get_nonVizCommandItems())){return}var e={};B.$0(e,this.$5.get_vizCommandItems());B.$0(e,this.$5.get_nonVizCommandItems());var fm=v.newToolbarStatePM(B.$1(e,'undo'),B.$1(e,'redo'),B.$1(e,'revert'),!B.$2(e,'toggle-updates','Pause'),B.$1(e,'refresh'),this.$0(e,'customviews'),tsConfig.is_metrics_enabled,this.$0(e,'alert'),this.$0(e,'subscribe'),this.$0(e,'share'),this.$0(e,'download'));this.set_toolbarState(fm);this.$2()}},null,[ss.IDisposable]);ss.initClass(C,a,{});ss.initClass(C,a,{});ss.initClass(D,a,{shouldShowAppBanner:function(){if(!tsConfig.is_mobile||tsConfig.is_mobile_app||!tsConfig.showAppBanner||tsConfig.isPublic||tsConfig.is_authoring||tabBootstrap.Utility.get_isEmbedded()){return false}var e=tab.CookieHelper.getValueForCookie('hideAppBanner');var fm=tab.MiscUtil.toBoolean(e,false);return!fm&&tab.FeatureFlags.isEnabled('CustomAppBannerOnVizPage')},createHideAppBannerCookie:function(){var e=new Date;e.setTime(e.getTime()+tab.DateUtil.oneWeek);tab.CookieHelper.setCookie('hideAppBanner',true.toString(),'/',e)},redirectToApp:function(){var e=tab.WindowHelper.getLocation(window.self);var fm=ss.replaceAllString(e.href,e.protocol,'tableau:');tab.WindowHelper.locationReplace(window.self,fm);window.setTimeout(ss.mkdel(this,function(){this.$2()}),1000)},$2:function(){if(tab.BrowserSupport.get_isAndroid()){tab.WindowHelper.locationReplace(window.self,'https://play.google.com/store/apps/details?id=com.Tableau.TableauApp')}else if(tab.BrowserSupport.get_isIos()){if(window.confirm(tab.Strings.RedirectToApp)){tab.WindowHelper.locationReplace(window.self,'https://itunes.apple.com/app/tableau-mobile/id434633927')}}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(E,a,{add_clientChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_clientChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},get_tabHeight:function(){var e=$(this.get_tabbedNavigation().get_widgetDomNode());return e.outerHeight(true)},get_tabbedNavigation:function(){return this.$1$5},set_tabbedNavigation:function(e){this.$1$5=e},get_commentingModuleViewModel:function(){return this.$1$6},set_commentingModuleViewModel:function(e){this.$1$6=e},get_rightAreaDrawerViewModel:function(){return this.$1$7},set_rightAreaDrawerViewModel:function(e){this.$1$7=e},get_client:function(){return this.$1$8},set_client:function(e){this.$1$8=e},get_apiEventHandler:function(){return this.$1$9},set_apiEventHandler:function(e){this.$1$9=e},initRightAreaDrawer:function(){if(ss.isValue(this.get_rightAreaDrawerViewModel())){return}this.set_rightAreaDrawerViewModel(new dL);this.$b(this.get_rightAreaDrawerViewModel())},initCommentingModule:function(){if(ss.isValue(this.get_commentingModuleViewModel())){return}this.set_commentingModuleViewModel($.Deferred());tab.ModuleManager.load(tab.ICommentingFactory).call(null,[]).done(ss.mkdel(this,function(e){var fm=e.createCommentingModuleViewModel();var fn=this.get_rightAreaDrawerViewModel();fm.set_closeCommentingDrawer(ss.mkdel(fn,fn.closeDrawer));fm.set_loadDrawerFonts(dO.downloadAdditionalDrawerFonts);fm.set_showNotification(dg.showNotification);this.$m.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fm.disposeViewModel();this.set_commentingModuleViewModel(null)})));this.get_commentingModuleViewModel().resolve(fm)}))},$b:function(e){var fm=function(){E.get_instance().get_client().doResize()};e.add_open(fm);e.add_close(fm);this.$m.add$1(new tab.CallOnDispose(function(){e.remove_open(fm);e.remove_close(fm);tab.MiscUtil.dispose$1(e)}));this.$n=tab.ObjectRegistry.newView(dK).call(null,[e]);if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.$n.addToDom($(G.rightPanelSelector))}else{this.$1(this.$n)}},initTabbedNavigation:function(){if(!tab.ApplicationModel.get_instance().get_showTabs()){return}var e=$('.tabbedNavigationWrapper');if(e.length>0){if(ss.isValue(this.get_tabbedNavigation())){this.get_tabbedNavigation().destroyShim()}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fm){var fn=$("<div dojoAttachPoint='tabbed_navigation' class='tabbedNavigation'></div>").get(0);fn.id=(tsConfig.features['IframeSizedToWindow']?'tabs':'tabbedNavigation');e.append(fn);this.set_tabbedNavigation(fm.createTabbedNavigation({},fn));this.get_tabbedNavigation().startupShim()}))}},dispose:function(){if(!ss.isValue(E.$5)){return}if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().dispose();this.set_apiEventHandler(null)}this.$2();this.$m.dispose();this.$f();this.$o.dispose();if(ss.isValue(this.get_tabbedNavigation())){this.get_tabbedNavigation().destroyShim();this.set_tabbedNavigation(null)}tab.ApplicationModel.get_instance().get_workbook().remove_dashboardDeleted(ss.mkdel(this,this.$l));tab.ApplicationModel.get_instance().get_workbook().remove_uiModeChanged(ss.mkdel(this,this.$9));E.$5=null},$1:function(e){if(ss.isValue(e)){e.element.insertAfter(this.get_client().get_domNode())}},$l:function(e){this.$2()},$2:function(){if(ss.isNullOrUndefined(this.get_client())){return}this.get_client().destroyRecursive();this.set_client(null);this.$p=null},$3:function(e){tab.SheetClientCommands.switchSheets(e)},$f:function(){if(!E.get_isHostedInApiContext()){return}if(ss.isValue(this.get_apiEventHandler())){var e=window.removeEventListener;if(ss.isValue(e)){e('message',ss.mkdel(this,this.$4),true)}else{var fm=ss.mkdel(this,this.$4);window.self.detachEvent('onmessage',fm)}this.set_apiEventHandler(null)}},$c:function(e,fm){if(!E.get_isHostedInApiContext()){return}this.set_apiEventHandler(new x(e,fm,tabBootstrap.ViewerBootstrap.get_instance().apiResponder));var fn=window.addEventListener;if(ss.isValue(fn)){fn('message',ss.mkdel(this,this.$4),true)}else{var fo=ss.mkdel(this,this.$4);window.self.attachEvent('onmessage',fo)}},$0:function(){if(!E.get_isHostedInApiContext()){return}if('addEventListener'in window.self){window.addEventListener('unload',ss.mkdel(this,this.$e),true)}else{window.self.attachEvent('onunload',ss.mkdel(this,this.$e))}},$e:function(e){this.$f()},$5:function(){this.$j();this.$a();tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$5))},$7:function(){E.$5.dispose();if(ss.isValue(E.$4)){E.$4.dispose()}E.$6=false},$i:function(){var e=function(fo){var fp=[];for(var fq=0;fq<fo.length;fq++){var fr=fo[fq];fp.push(tab.DownloadableFontPropertiesExtensions.toDownloadableFontProperties(fr,''))}dO.get_instance().notifyDownloadableFont(fp)};tab.FontNotificationUtil.add_fontPropertiesIdentified(e);tab.WorldUpdateInterceptor.get().add_onCommandResponse(function(fo){var fp=!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&fo.get_applicationPresModel().renderMode==='render-mode-client';if(ss.referenceEquals(fo.get_worldUpdateCommand().commandName,{ns:'tabdoc',cmd:'set-active-story-point'}.cmd)||ss.referenceEquals(fo.get_worldUpdateCommand().commandName,{ns:'tabsrv',cmd:'render-tooltip-server'}.cmd)||fo.get_sheetChanged()||fo.get_rebuildTheWorld()||fp){E.$2();if(fp){var fq=null;fq=function(){tab.CommandController.get().remove_modelsUpdated(fq);E.handleAllFontsFound()};tab.CommandController.get().add_modelsUpdated(fq)}}});tab.FontNotificationUtil.add_allFontsFound(E.handleAllFontsFound);if(tab.ProgressiveLoader.get_progressiveLoadEnabled()){var fm=null;fm=function(){tab.WorldUpdateInterceptor.get().remove_onProgressiveLoadComplete(fm);E.handleAllFontsFound()};tab.WorldUpdateInterceptor.get().add_onProgressiveLoadComplete(fm)}var fn=function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){dO.get_instance().downloadFonts()}};tab.StartupUtils.callAfterModelsInitialized(function(){tab.CommandController.get().add_modelsUpdated(fn)});tab.StartupUtils.callAfterBootstrap(function(){if(!tab.ProgressiveLoader.get_progressiveLoadEnabled()){E.handleAllFontsFound()}tab.CommandController.get().remove_modelsUpdated(fn)});E.$2()},$a:function(){tabBootstrap.MetricsController.initSessionInfo();tab.MetricsLogger.get_instance().attach()},$4:function(e){if(typeof(ss.getType('ss'))==='undefined'){return}if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().handleEvent(e)}},$6:function(e){this.$k(e);var fm=tab.CommandController.get().get_legacySession();this.$2();tab.ApplicationModel.get_instance().get_shapeManager().clearShapeStampCache();tabBootstrap.MetricsController.initSessionInfo();var fn=E.$0(true,fm);this.set_client(fn);this.$p=fn;this.get_client().startup();if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}this.$j();if(!tabBootstrap.Utility.get_isEmbedded()){this.$g(e)}},$8:function(e){this.$j();E.handleAllFontsFound()},$j:function(){if(ss.isValue(this.get_apiEventHandler())){this.get_apiEventHandler().updateClients(this.get_client(),this.$p)}},$g:function(e){if(tsConfig.is_authoring){this.$h(e.repositoryUrl,e.sheetName)}else{this.replaceWindowLocationForTabChangeWhileViewing(e.repositoryUrl)}},$h:function(e,fm){if(this.$d(e)){var fn=tab.VizUriModel.createForAuthoringPublishedSheet(e);fn.replaceState(null)}else{var fo=tab.VizUriModel.createForCurrentWindowLocation();if(fo.get_isAuthorNewWorkbookUri()){}else if(tab.MiscUtil.isNullOrEmpty$3(e)){var fp=tab.VizUriModel.createForAuthoringUnpublishedSheet(tsConfig.origin_repository_url,fm);fp.replaceState(null)}}},replaceWindowLocationForTabChangeWhileViewing:function(e){if(this.$d(e)){var fm=tab.VizUriModel.createForViewingSheet(e);fm.replaceState(null)}else{}},$d:function(e){return!tab.MiscUtil.isNullOrEmpty$3(e)&&!ss.startsWithString(e,'ds:')},$k:function(e){tsConfig.current_sheet_name=e.sheetName;tsConfig.current_sheet_type=e.sheetType;tsConfig.current_view_id=e.viewId;if(e.isCurrentCustViewIdValid){tsConfig.current_custom_view_id=e.currentCustomViewId}else{tsConfig.current_custom_view_id=null}tsConfig.layoutid=e.layoutId;tsConfig.embeddedTitle=e.embeddedTitle;tsConfig.blogURI=e.blogLink;tsConfig.requestURI=e.shareLink;if(!ss.isNullOrEmptyString(tsConfig.downloadURI)){tsConfig.downloadURI=e.downloadLink}else{tsConfig.downloadURI=''}tsConfig.staticImage=e.staticImage;tsConfig.guid=e.guid;var fm=e.repositoryUrl;tsConfig.repositoryUrl=(this.$d(fm)?fm:'')},$9:function(){if(tab.ApplicationModel.get_instance().get_workbook().get_uiMode()==='data-tab'){spiff.GlobalUIEvents.fireDismissTemporaryElements()}}},null,[ss.IDisposable]);ss.initClass(F,a,{},spiff.Template,[ss.IDisposable]);ss.initInterface(cz,a,{add_scrolled:null,remove_scrolled:null,get_visibleRect:null,appendToDom:null,convertPointFromPageToDashboardCoords:null});ss.initClass(G,a,{add_scrolled:function(e){this.get_dom().domNode[0].addEventListener('scroll',e)},remove_scrolled:function(e){this.get_dom().domNode[0].removeEventListener('scroll',e)},get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$h.get_dashboardNode()},get_containerNode:function(){return this.$h.get_containerNode()},get_toolbarContainer:function(){return this.get_dom().toolbarContainer},$e:function(){return this.get_viewModel()},get_visibleRect:function(){return{l:this.get_dom().domNode[0].scrollLeft,t:this.get_dom().domNode[0].scrollTop,w:this.get_dom().domNode[0].clientWidth,h:this.get_dom().domNode[0].clientHeight}},onAddedToDom:function(){if(!this.addedToDom){this.$d();this.$c();this.$a();this.$9();this.$b();spiff.FocusManager.initialize();if(tab.FeatureFlags.isEnabled('MobileQFZoneInteractiveRedesign')){$(document.body).addClass('ff-MobileQFZoneInteractiveRedesign')}if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){$(document.body).addClass('ff-IFrameSizedToWindow')}if(this.$e().get_shouldShowCommenting()){$(document.body).addClass('ff-CommentingPane')}if(tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){$(document.body).addClass('ff-TouchSmoothTooltips')}}spiff.Widget.prototype.onAddedToDom.call(this)},$d:function(){if(eI.get_toolbarIsBottom()){this.get_toolbarContainer().detach().appendTo($(G.vizContainerSelector))}},resizeToolbar:function(){this.$g.forceResizeToolbar()},resizeAppBanner:function(e){if(ss.isValue(this.$f)){this.$f.get_rootElement().width(e.w)}},$9:function(){if(this.$e().get_appBannerViewModel().shouldShowAppBanner()){this.$f=tab.ObjectRegistry.newView(cx).call(null,[this.$e().get_appBannerViewModel()]);this.$f.get_rootElement().insertBefore(H.selectCenteringContainer()).width(H.getClientBounds().w)}},$c:function(){this.$h=tab.ObjectRegistry.newView(fg).call(null,[this.$e().get_workbookViewModel()]);this.$h.addToDom(this.get_dom().domNode)},$a:function(){if(ss.isNullOrUndefined(this.$e().get_toolbarViewModel())||!tsConfig.toolbarContainerVis){return}{var e=tabBootstrap.MetricsController.createContext('TBRADD'.toString(),64,null);try{this.$g=tab.ObjectRegistry.newView(eH).call(null,[this.$e().get_toolbarViewModel()]);this.$g.addToDom(this.get_toolbarContainer());this.get_toolbarContainer().height(tabBootstrap.VizLayoutConstants.get_vizToolbarHeight())}finally{if(ss.isValue(e)){e.dispose()}}}},$b:function(){if(ss.isNullOrUndefined(this.$e().get_toolbarViewModel())||ss.isNullOrUndefined(this.$e().get_toolbarViewModel().get_dialogHostViewModel())){return}var e=this.$e().get_toolbarViewModel().get_dialogHostViewModel();var fm=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bK,bJ,Object])).call(null,[e]);fm.addToDom(this.get_toolbarContainer());fm.addClass('tab-toolbar-dialoghost');if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){$(document.body).addClass('ff-ViewingToolbarModalDialog')}},appendToDom:function(e){e.addToDom(this.get_dom().domNode)},convertPointFromPageToDashboardCoords:function(e){var fm=tab.DomUtil.toPoint(tab.DomUtil.getPageOffset$1(this.get_dom().domNode));var fn=tab.PointUtil.subtract(e,fm);var fo={x:this.get_dom().domNode[0].scrollLeft,y:this.get_dom().domNode[0].scrollTop};var fp=tab.PointUtil.add(fn,fo);return fp}},ss.makeGenericType(spiff.BaseView$1,[I]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[I]),cz]);ss.initInterface(cy,a,{get_domNode:null,get_isDashboard:null,get_vizSize:null,get_session:null,get_viewControllers:null,get_applicationPresModel:null,get_toolbarContainer:null,get_toolbarDisplayed:null,set_toolbarDisplayed:null,get_toolbarCommands:null,get_customViewsViewModel:null,get_dashboardViewport:null,destroyRecursive:null,startup:null,doResize:null});ss.initInterface(cw,a,{get_flipboardNavigatorViewModel:null,get_containedSheetName:null,get_containedSheetType:null,get_containedSheetZoneId:null,get_containedDashboardZones:null,get_hasContainedSheet:null});ss.initClass(H,a,{get_flipboardNavigatorViewModel:function(){if(ss.isValue(this.$v)&&ss.isValue(this.$v.get_dashboardViewModel())){return this.$v.get_dashboardViewModel().get_flipboardNavigatorViewModel()}return null},get_hasContainedSheet:function(){return ss.isValue(this.get_containedSheetZoneId())},get_containedSheetName:function(){var e=this.$r();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)){return null}return e.get_dashboardViewModel().dashboardModel.get_sheetName()},get_containedSheetZoneId:function(){var e=this.$r();if(ss.isNullOrUndefined(e)||e.get_flipboardModel()===null){return null}return e.get_flipboardModel().get_zoneId()},get_containedSheetType:function(){var e=this.$r();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_flipboardModel())||ss.isNullOrUndefined(e.get_flipboardModel().get_storyPointModel())){return'worksheet'}return(e.get_flipboardModel().get_storyPointModel().get_isBackingSheetDashboard()?'dashboard':'worksheet')},get_containedDashboardZones:function(){var e=this.$r();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel.pm)){return null}return e.get_dashboardViewModel().dashboardModel.pm.zones},get_autoUpdate:function(){return tab.ApplicationModel.get_instance().get_autoUpdate()},set_autoUpdate:function(e){tab.ApplicationModel.get_instance().set_autoUpdate(e)},get_isDashboard:function(){return this.$q().get_isDashboard()},$t:function(){return tabBootstrap.VizLayoutConstants.get_shouldShowTabs()},get_vizSize:function(){return tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize()},get_session:function(){return this.session},get_applicationPresModel:function(){return tab.ApplicationModel.get_instance().get_appPresModel()},get_viewControllers:function(){var e=this.$p();if(ss.isValue(e)){return e.viewControllers}return[]},get_toolbarDisplayed:function(){return tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed},set_toolbarDisplayed:function(e){tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed=e;if(ss.isValue(this.get_toolbarContainer())){this.get_toolbarContainer().toggle(e)}},get_invalid:function(){return tab.ApplicationModel.get_instance().get_invalid()},set_invalid:function(e){tab.ApplicationModel.get_instance().set_invalid(e)},get_skipInit:function(){return this.skipInit},get_toolbarCommands:function(){return this.$C},get_customViewsViewModel:function(){if(ss.isValue(this.get_toolbarViewModel())){return this.get_toolbarViewModel().get_customViewsViewModel()}else{return null}},get_toolbarViewModel:function(){if(ss.isValue(this.$v)){return this.$v.get_toolbarViewModel()}else{return null}},$s:function(){return tab.Logger.getLoggerWithName(ss.getTypeName(H)+tsConfig.layoutid)},$r:function(){if(ss.isValue(this.$v)&&ss.isValue(this.$v.get_dashboardViewModel())){return this.$v.get_dashboardViewModel().get_flipboardViewModel()}return null},get_workbookViewModel:function(){return(ss.isValue(this.$v)?this.$v.get_workbookViewModel():null)},$q:function(){if(ss.isValue(this.$v)){return this.$v.get_dashboardViewModel()}return null},$p:function(){if(ss.isValue(this.$v)){return this.$v.get_contentDashboardViewModel()}return null},get_domNode:function(){return this.$u.get_dom().domNode},get_toolbarContainer:function(){return this.$u.get_toolbarContainer()},get_vizClientContainerSize:function(){var e=document.getElementById('viz-client-container');return{w:e.clientWidth,h:e.clientHeight}},get_dashboardViewport:function(){return this.$u},startup:function(){this.$v=new I(tab.ApplicationModel.get_instance());this.$u=tab.ObjectRegistry.newView(G).call(null,[this.$v]);this.$v.add_applicationUpdate(ss.mkdel(this,this.$i));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$v.remove_applicationUpdate(ss.mkdel(this,this.$i))})));this.setupDomAndEvents();if(this.$v.get_shouldShowRightAreaDrawer()){E.get_instance().initRightAreaDrawer()}if(this.$v.get_shouldShowCommenting()){E.get_instance().initCommentingModule()}this.resize(false)},destroyRecursive:function(){this.destroy()},destroy:function(){this.$A=tab.MiscUtil.clearTimeout(this.$A);this.$C.dispose();this.$C=null;for(var e=0;e<this._connections.length;e++){var fm=this._connections[e];fm.dispose()}ss.clear(this._connections);if(ss.isValue(this.$v)){this.$v.dispose();this.$v=null}$('body').off(this.createNamespacedEventName('mouseenter')).off(this.createNamespacedEventName('mouseleave'));this.$u.dispose();this.$u=null;this.dispose()},doResize:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){this.$B++}this.$l(!this.$w)},$6:function(e){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(ss.mkdel(this,function(fm){var fn=fm.createSpiffPdfExportDialog(this.get_session(),tsConfig.is_mobile);e(fn)}))},resize:function(e){if(!e&&ss.isValue(this.$z)){var fm=this.$9();if(fm.w===this.$z.w&&fm.h===this.$z.h){this.$y=false;return}if(this.$y){this.$z=fm;this.$y=false;return}this.$y=true}else{this.$y=false}this.doResize()},$b:function(){tab.CommandController.get().resetInvalidationHandlers();tab.CommandController.get().add_onUrlActionsResponse(tab.ActionUtils.launchActionUrls);this._connections.push(new tab.CallOnDispose(function(){tab.CommandController.get().remove_onUrlActionsResponse(tab.ActionUtils.launchActionUrls)}));tab.CommandController.get().add_onInvalidation(ss.mkdel(this,this.$h));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onInvalidation(ss.mkdel(this,this.$h))})));tab.CommandController.get().add_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$f));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$f))})))},$j:function(e){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='worksheet'){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$u.get_dashboardNode().get(0))||ss.referenceEquals(e.target,this.$u.get_containerNode().get(0))||ss.referenceEquals(e.target,fg.findDashboardContainer().get(0))){tab.SelectionClientCommands.clearActiveZone()}return}if(ss.isValue(e.target)){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$u.get_dashboardNode().get(0))||$(e.target).hasClass('wcLayoutContainer')){var fm=tab.ModelUtils.findActiveOrDefaultVisual();if(ss.isValue(fm)){tab.SelectionClientCommands.clearAllSelections(fm.get_visualId())}e.preventDefault()}}},setupDomAndEvents:function(){$('html').attr('lang',tsConfig.language).toggleClass('ie',tab.BrowserSupport.get_isIE());var e=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$(G.applicationContainerSelector):$('#centeringContainer'));e.append(this.get_domNode());var fm=new l;this.get_domNode().on(this.createNamespacedEventName('contextmenu'),ss.mkdel(this,this.$g)).on(this.createNamespacedEventName('mousedown'),ss.mkdel(fm,fm.$0)).on(this.createNamespacedEventName('mouseup'),ss.mkdel(fm,fm.$1));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_domNode().off(this.createNamespacedEventName('contextmenu')).off(this.createNamespacedEventName('mousedown')).off(this.createNamespacedEventName('mouseup'))})));fm.$6(ss.mkdel(this,this.$j));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){fm.$7(ss.mkdel(this,this.$j))})));this.$u.onAddedToDom();tab.BaseSession.get_waitHandler().unlock();this.get_toolbarContainer().toggle(this.get_toolbarDisplayed());this.$o();tab.BaseSession.linkTarget=tsConfig.linktarget;tab.AckbarEventsHelper.get().add_doLaunchAuthoring(ss.mkdel(this,this.$7));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.AckbarEventsHelper.get().remove_doLaunchAuthoring(ss.mkdel(this,this.$7))})));this.$b()},$7:function(){tab.ToolbarServerCommands.launchEditing()},$a:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$i:function(){if(ss.isNullOrUndefined(this.$q())){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,this.$o));if(!this.get_skipInit()&&!this.$x){tab.BaseSession.get_waitHandler().onNextHide(ss.mkdel(this,this.$8));this.$m()}this.$x=true;if(!this.$t()){this.$d()}this.$u.resizeAppBanner(H.getClientBounds());this.resize(false)},$o:function(){},$m:function(){if(tsConfig.showLytebox){$('#primaryContent').attr('src',this.$a())}},$g:function(e){var fm=$(e.target);if(fm.filter('input[type=text]').length===0&&fm.filter('textarea').length===0){e.preventDefault();e.stopPropagation()}},$9:function(){var e=null;if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')||tsConfig.isPublic){e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type)}else{e={w:window.innerWidth,h:window.innerHeight}}return e},$f:function(){E.get_instance().initTabbedNavigation();this.$z=this.$9();if(this.$B>1){this.$n()}},$h:function(e){var fm=e.layoutStatus;this.set_invalid(!ss.isNullOrUndefined(fm.invalidatedLayout)&&fm.invalidatedLayout);if(ss.isValue(fm.vizStateList)&&fm.vizStateList.length>0){var fn=[];for(var fo=0;fo<fm.vizStateList.length;fo++){var fp=fm.vizStateList[fo];if(!ss.contains(fn,fp.sheet)&&fp.vizRegionRectList.length>0){fn.push(fp.sheet)}}var fq=this.get_viewControllers();for(var fr=0;fr<fn.length;fr++){var fs=fn[fr];var ft={$:fs};var fu=_.find(fq,ss.mkdel({name:ft},function(fv){return ss.referenceEquals(fv.get_sheetName(),this.name.$)}));if(ss.isValue(fu)){fu.$1(e)}}}},$l:function(e){var fm=(e?0:1000);this.$A=tab.MiscUtil.clearTimeout(this.$A);this.$A=window.setTimeout(ss.mkdel(this,this.$k),fm)},$k:function(){if(!tab.BaseSession.get_waitHandler().isBusy()&&(!this.$w||ss.isValue(tsConfig.layoutid))&&ss.isValue(this.$v)){this.$c();return}this.$A=tab.MiscUtil.clearTimeout(this.$A);this.$A=window.setTimeout(ss.mkdel(this,this.$k),100)},$c:function(){var e=tab.FeatureFlags.isEnabled('IframeSizedToWindow');this.$z=this.$9();if(tsConfig.isPublic){var fm=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(G.vizContainerSelector).css({width:fm.w+'px',height:fm.h+'px'})}this.$n();tab.CommandController.get().refreshLayout();this.$d();var fn=E.get_instance().get_tabbedNavigation();if(this.$t()&&ss.isValue(fn)){if(tsConfig.is_mobile_app){var fo=(e?this.get_vizClientContainerSize().w:H.getClientBounds().w);fn.get_widgetDomNode().style.width=fo+'px';if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){fn.get_widgetDomNode().style.maxWidth=$('body').width()+'px'}}fn.resizeShim()}this.$w=true},$d:function(){var e=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?this.get_vizClientContainerSize().w:H.getClientBounds().w);if(ss.isValue(this.$D)&&this.$D===e){return}this.$D=e;{var fm=tabBootstrap.MetricsController.createContext('TBRLAY'.toString(),64,null);try{if(!tab.ApplicationModel.get_instance().get_showToolbar()){this.get_toolbarContainer().css('visibility','hidden')}else if(tsConfig.toolbarContainerVis){if(eI.get_toolbarIsBottom()&&!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.get_domNode().after(this.get_toolbarContainer())}this.get_toolbarContainer().css('visibility','visible');if(tsConfig.is_mobile_app){this.get_toolbarContainer().css('width',this.$D+'px');if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){this.get_toolbarContainer().css('max-width',tab.DoubleUtil.roundToInt($('body').width()))}}else if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){if(eI.get_toolbarIsBottom()||!this.$t()){this.get_toolbarContainer().css('max-width',this.$D+'px')}this.$u.resizeToolbar()}}}finally{if(ss.isValue(fm)){fm.dispose()}}}},$n:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()||this.skipInit&&!this.$w){return}this.doUpdateClientBound()},doUpdateClientBound:function(){var e=null;var fm=tsConfig.is_mobile_device&&!tsConfig.isVizPortal&&!tsConfig.isPublic;if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')&&!fm){e=tab.DashboardSizeCalculator.asSizePresModel(tab.DashboardSizeCalculator.get_dashboardViewportSize())}else{var fn=H.getClientBounds();e={w:fn.w,h:fn.h}}tab.SheetClientCommands.setPortSize(e)},$e:function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPINT'.toString();var fm=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(fm);tab.BrowserSupport.sendCommandWithContext('tableau.responsive')},$8:function(){var e=(tab.ProgressiveLoader.get_progressiveLoadEnabled()?150:450);this.$e();var fm=$('#staticImage');var fn=$('#loadingGlassPane');var fo=$('#loadingSpinner');var fp=$('#svg-spinner-container');if(tsConfig.animateTransition){tab.WaitHandler.loadingElementFadeOut(fo,e,function(fq){fq.hide();fp.css('background','rgba(255,255,255,0.6)')});tab.WaitHandler.loadingElementFadeOut(fn,e,function(fq){fq.hide().css('cursor','default')});if(fm.length>0){tab.WaitHandler.loadingElementFadeOut(fm,e,function(fq){fq.hide()})}}else{fo.hide();fm.hide();fn.hide()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cy,cw]);ss.initClass(I,a,{add_applicationUpdate:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_applicationUpdate:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_dashboardViewModel:function(){return this.$8.get_dashboardViewModel()},get_contentDashboardViewModel:function(){return this.$8.get_contentDashboardViewModel()},get_workbookViewModel:function(){return this.$8},get_appBannerViewModel:function(){return this.$5},get_toolbarViewModel:function(){return this.$7},get_shouldShowCommenting:function(){var e=!tsConfig.is_authoring&&!tsConfig.is_mobile_app&&tsConfig.commentingEnabled&&tab.FeatureFlags.isEnabled('CommentingPane')&&tab.FeatureFlags.isEnabled('CommentingOnSingleVizWithContext')&&tsConfig.allow_commenting&&tsConfig.allow_view_comments;return e},get_shouldShowRightAreaDrawer:function(){return!(tsConfig.is_authoring&&tsConfig.is_mobile)&&!tsConfig.is_mobile_app},$3:function(){tab.CommandController.get().get_legacySession().performPostLoadOperations(tsConfig.current_sheet_name,ss.mkdel(this,this.$4))},dispose:function(){if(ss.isValue(this.$7)){this.$7.dispose()}this.$5.dispose();this.$2();this.$6.remove_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));spiff.BaseViewModel.prototype.dispose.call(this)},handleNewWorkbook:function(e){this.$2();this.$8=new fh(e)},$2:function(){if(ss.isValue(this.$8)){this.$8.dispose();this.$8=null}},handleApplicationUpdate:function(){this.raiseActionEvent(this.$2$1)},$4:function(e){var fm=e;if(ss.isValue(fm['viewCount'])){this.get_toolbarViewModel().set_viewCount(parseInt(fm['viewCount'],10))}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(J,a,{$c:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},$d:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$a:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},$b:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},dismiss:function(){this.element.remove()},$8:function(){this.$9.label.text(tab.Strings.AreYouSureText);var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$6),tab.Strings.AreYouSureCancel,null,2,null);this.disposables.add$1(e);this.$9.cancelButton.append(e.element);var fm=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$7),tab.Strings.AreYouSureDelete,null,1,null);this.disposables.add$1(fm);this.$9.confirmButton.append(fm.element)},$6:function(){this.dismiss();if(ss.isValue(this.$2$2)){this.$2$2()}},$7:function(){this.dismiss();if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(K,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(N,a,{get_retryWithMessageViewName:function(){return ss.formatString('/{0}/dataSourceGenericErrorView.html',tsConfig.language)},get_submitted:function(){return this.$1$1},set_submitted:function(e){this.$1$1=e},onAuthDialogMessage:function(e,fm){if(ss.isNullOrUndefined(e)){return}var fn=e;var fo=fn.data.toString();if(ss.isNullOrEmptyString(fo)||!ss.equalsT(fo,'tableau.authCompleted')){return}if(!ss.equalsT(tab.BrowserSupport.getOrigin(document.location),fn.origin)){return}this.set_submitted(true);this.cleanup(fm);if(ss.isValue(this.onProceed)){this.onProceed()}},show:null,cleanup:null});ss.initClass(M,a,{cleanup:function(e){var fm=document.getElementById('auth-overlay');if(!ss.isNullOrUndefined(fm)){fm.parentElement.removeChild(fm)}if(ss.isValue(e)){if(ss.isValue(e.onTabSelectHandle)){e.onTabSelectHandle.dispose()}tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(ss.isValue(e.zoneBecameValidHandler)){e.zoneBecameValidHandler.dispose()}}},dispose:function(){this.cleanup(null)}},N,[ss.IDisposable]);ss.initClass(L,a,{show:function(){this.createOverlay();var e=new cb;var fm=ss.mkdel(this,function(){this.cleanup(e)});fj.add_zoneBecameValid(fm);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){fj.remove_zoneBecameValid(fm)});var fn=ss.mkdel(this,function(fp){this.onAuthDialogMessage(fp,e)});e.eventHandler=fn;var fo=ss.mkdel(this,function(){this.cleanup(e)});tab.CommandController.add_sheetNameChanged(fo);e.onTabSelectHandle=new tab.CallOnDispose(function(){tab.CommandController.remove_sheetNameChanged(fo)});tab.WindowHelper.addListener(window.self,'message',fn)},createOverlay:function(){var e=$('.dashboardSpacer');var fm=$("<div id='auth-overlay'></div>");if(tab.FeatureFlags.isEnabled('DataToTheWebSheetReconnect')&&tab.DataConnectionUtils.isConnectionClassSupportedInReconnectFlow(this.dataSourceConnectionAttemptErrorResponse.ConnectionClass)&&ss.isValue(this.$3)){this.$1(fm)}else{this.$0(fm)}e.append(fm)},$0:function(e){var fm=document.createElement('iframe');fm.setAttribute('src',this.$2);fm.setAttribute('tb-test-id','dse-frame');e.append(fm)},$1:function(e){var fm=[];for(var fn=0;fn<this.$3.connectionAttrDisplayNames.length;++fn){fm.push([this.$3.connectionAttrDisplayNames[fn],this.$3.connectionAttrDisplayValues[fn]])}var fo={connectionAttributes:this.$3.exceptionAttrs,connectionDisplayAttributes:Array.prototype.slice.call(fm),connectionClass:this.dataSourceConnectionAttemptErrorResponse.ConnectionClass,connectionErrorStage:this.$3.connectionErrorStage,connectionName:this.dataSourceConnectionAttemptErrorResponse.ConnectionName,connectionTypeLabel:this.$3.connectionTypeLabel,dataSourceCaption:this.dataSourceConnectionAttemptErrorResponse.DataSourceCaption,errorType:this.dataSourceConnectionAttemptErrorResponse.ErrorType,onCredentialsAdded:ss.mkdel(this,function(fp){this.cleanup(null);this.onProceed()})};ReactDOM.render(React.createElement(dV,fo),e.get(0))}},M,[ss.IDisposable]);ss.initClass(O,a,{dispose:function(){if(ss.isValue(this.parentNode)){ReactDOM.unmountComponentAtNode(this.parentNode);this.parentNode.remove()}}},null,[ss.IDisposable]);ss.initClass(Q,a,{get_dimensions:function(){return this.$0},translatePositionToViewport:function(e){var fm={x:e.x,y:e.y};Q.$0(fm);fm.y-=this.$0.t;fm.x-=this.$0.l;return fm},getVisibleRoom:function(e,fm){var fn=this.translatePositionToViewport(e);var fo=function(ft){return Math.max(0,ft-fm)};var fp=fo(Math.min(this.get_dimensions().w-fn.x,window.pageXOffset+window.innerWidth-e.x));var fq=fo(Math.min(fn.x,e.x));var fr=fo(Math.min(fn.y,e.y));var fs=fo(Math.min(this.get_dimensions().h-fn.y,window.pageYOffset+window.innerHeight-e.y));return{roomAbove:fr,roomBelow:fs,roomLeft:fq,roomRight:fp}},getDocumentViewport:function(e){var fm=this.getVisibleRoom(e,0);return{l:ss.Int32.trunc(e.x-fm.roomLeft),t:ss.Int32.trunc(e.y-fm.roomAbove),w:ss.Int32.trunc(fm.roomLeft+fm.roomRight),h:ss.Int32.trunc(fm.roomAbove+fm.roomBelow)}}},null,[tab.IBrowserViewport]);ss.initClass(R,a,{render:function(){var e=ss.mkdel(this,function(){return spiff.DOMElements.div({className:'tab-button-object',title:this.props.tooltipText,style:{width:this.props.width,height:this.props.height}},this.renderImageNode())});return spiff.CustomButtonComponent.create({handleClickWithEvent:ss.mkdel(this,this.$0),disabled:!this.props.canNavigate,buttonContent:e})},$0:function(e){if(e.get_isCtrlKey()||!tsConfig.is_authoring||this.props.isSelected){this.props.navigateToSheet()}},renderImageNode:function(){var e=(this.props.isWidthConstrained?{width:'100%',maxHeight:'none'}:{height:'100%',maxWidth:'none'});return spiff.DOMElements.img({src:this.props.imageUrl,style:e})}},React.Component);ss.initClass(S,a,{$9:function(){return this.$f.get_caption()},$a:function(){return this.$f.get_clickActionString()},$e:function(){return this.$f.get_tooltipText()},get_imageUrl:function(){var e=tab.CommandController.get().get_legacySession();var fm=e.formatDashboardTempfileReference(this.$f.get_imagePathKey(),true,false);return fm},$c:function(){return this.$f.get_imageWidth()},$b:function(){return this.$f.get_imageHeight()},$d:function(){var e=this.$c()/this.$h.get_contentWidth()>=this.$b()/this.$h.get_contentHeight();return e},$8:function(){return this.$f.get_canNavigate()},createUpdatedProps:function(){return{caption:this.$9(),navigateToSheet:ss.mkdel(this,this.navigateToSheet),tooltipText:this.$e(),imageUrl:this.get_imageUrl(),isWidthConstrained:this.$d(),isSelected:this.$g,width:this.$h.get_contentWidth(),height:this.$h.get_contentHeight(),canNavigate:this.$8()}},navigateToSheet:function(){var e=tab.CommandSerializer.deserialize(this.$a().toString());tab.ServerCommands.executeServerCommand(e,'afterDelay')},$5:function(e){this.$g=e;this.incrementProps()},$7:function(){this.incrementProps()},$6:function(){this.incrementProps()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(T,a,{$7:function(){return this.$2$1},$8:function(e){this.$2$1=e},$5:function(){return this.$2$2},$6:function(e){this.$2$2=e},handleCommandCompleted:function(){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}if(this.$1()){var e=new Date;V.$2(this.$a.get_commandName(),this.$b,e)}this.$0()},handleCommandStarted:function(e){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$a=e;this.$c=window.setTimeout(ss.mkdel(this,this.$4),this.dialogShowDelay)},$4:function(){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}if(ss.isNullOrUndefined(T.$0)){this.parentNode=document.createElement('div');var e={cancel:ss.mkdel(this,function(){this.$9=new Date;var fm=this.$a.get_remoteCommands();tab.CancelCommands.cancelRunningCommand(fm[0],ss.mkdel(this,this.$3),ss.mkdel(this,this.$2))})};T.$0=React.createElement(U,e);ReactDOM.render(T.$0,this.parentNode);this.$b=new Date}},$1:function(){return ss.isValue(this.$a)},$0:function(){this.$c=tab.MiscUtil.clearTimeout(this.$c);T.$0=null;this.$b=null;this.$9=null;this.$a=null;_.defer(ss.mkdel(this,this.dispose))},$3:function(e){if(!ss.staticEquals(this.$7(),null)){this.$7()(e)}if(this.$1()){var fm=new Date;V.$3(this.$a.get_commandName(),e,this.$b,this.$9,fm)}this.$0()},$2:function(){if(!ss.staticEquals(this.$5(),null)){this.$5()()}if(this.$1()){var e=new Date;V.$1(this.$a.get_commandName(),this.$b,this.$9,e)}this.$0()}},O,[ss.IDisposable,tab.ICommandCanceler]);ss.initClass(U,a,{render:function(){return React.createElement(SharedWidgets.DialogWidget,{children:this.$1(),testId:'CancelDialog',isModal:true,type:2,positioningBehavior:0,dialogBodyStyle:{height:200+'px',width:375+'px',overflow:'visible',padding:0},onCloseRequest:function(){},shouldReturnFocusOnClose:false,shouldAdjustPositionOnWindowResize:true,shouldRecenterOnUpdate:true,showFooter:false,zIndex:1000})},$1:function(){return React.createElement(Cancel.WaitingComponent,{onButtonClick:ss.mkdel(this,this.$0),buttonType:3,buttonLabel:(this.state.isCanceling?tab.Strings.CancelDialogCancellingStatus:tab.Strings.DialogButtonCancel),disableButton:this.state.isCanceling,title:tab.Strings.CancelDialogProcessingStatus})},$0:function(){this.props.cancel();this.setState({isCanceling:true})}},spiff.PureRenderComponent);ss.initClass(V,a,{});ss.initClass(W,a,{get_renderOffset:function(){return this.$7},set_renderOffset:function(e){this.$7=e;this.get_currentContext().translate(-this.$7.x,-this.$7.y)},get_currentCanvas:function(){return(this.$6?this.$3:this.$0)},get_currentContext:function(){return(this.$6?this.$4:this.$1)},get_visibleRect:function(){if(ss.isValue(this.cachedVisibleRect)){return this.cachedVisibleRect}var e=W.$5(this.get_currentCanvas(),this.get_currentCanvas().width);var fm=W.$4(this.get_currentCanvas(),this.get_currentCanvas().height);return{x:this.$7.x,y:this.$7.y,w:e,h:fm}},clear:function(){this.clearRect(this.get_visibleRect())},reset:function(){this.$6=false;this.$4=null;this.$3=null;this.get_currentContext().reset();this.$7={x:0,y:0};this.clearPrevTextRunInfo()},setRenderOffsetNoTranslate:function(e){this.$7=e},clearRect:function(e){this.get_currentContext().clearRect(e.x,e.y,e.w,e.h)},isRectVisible:function(e){return tab.RectXYUtil.intersectsWith(e,this.get_visibleRect())},beginOffScreenRender:function(e){if(this.$6){return}if(ss.isValue(e)){this.$2=tab.RectXYUtil.intersect(e,this.get_visibleRect())}else{this.$2=this.get_visibleRect()}if(ss.isNullOrUndefined(this.$3)){this.$3=document.createElement('canvas');var fm={w:this.$0.width,h:this.$0.height};var fn={w:W.$5(this.$0,0),h:W.$4(this.$0,0)};X.densifyCanvasUsingSize(this.$3,fm,fn)}if(ss.isNullOrUndefined(this.$4)){this.$4=W.getRenderContext(this.$3,'transparent')}else{this.$4.reset()}var fo=this.$0.width/W.$5(this.$0,this.$0.width);if(fo!==1){X.scaleCanvasDrawing(this.$4,fo)}this.$4.setTransform(this.$1.get_transformation());this.$6=true;var fp=tab.RectXYUtil.outsetRect(this.$2,1,1);tab.RectXYUtil.intersectInPlace(fp,this.get_visibleRect());this.clearRect(fp)},endOffScreenRender:function(e){if(!this.$6){return}this.$6=false;this.$1.save();this.$1.set_alpha(e);this.$1.resetTransform();if(ss.isNullOrUndefined(this.$2)){this.$1.drawImage1(this.$3,0,0)}else if(!tab.RectXYUtil.isEmpty(this.$2)){var fm=this.$1.pixelRatio;var fn=Math.max(0,Math.floor((this.$2.x-this.$7.x)*fm));var fo=Math.max(0,Math.floor((this.$2.y-this.$7.y)*fm));var fp=Math.min(this.$0.width,Math.ceil(this.$2.w*fm));var fq=Math.min(this.$0.height,Math.ceil(this.$2.h*fm));this.$1.drawImage5(this.$3,fn,fo,fp,fq,fn,fo,fp,fq)}this.$1.restore()},renderFilledRectangle:function(e,fm,fn,fo,fp){var fq=fn/2;var fr=fo/2;var fs=this.get_currentContext();fs.set_shapeFillStyle(fp);fs.fillRect(e-fq,fm-fr,fn,fo)},renderFilledWedge:function(e,fm,fn,fo,fp,fq,fr){var fs=W.toCanvasAngle(fo);var ft=W.toCanvasAngle(fp);if(Math.abs(ft-fs)<W.angleEpsilon){return}if(ss.isNullOrUndefined(fr)){fr=false}var fu=this.get_currentContext();fu.beginPath();fu.moveTo(e,fm);fs=W.$6(fs);ft=W.$6(ft);fu.arc(e,fm,fn,fs,ft,fr);fu.closePath();fu.set_shapeFillStyle(fq);fu.fill()},createStyleSettersAndSetDominantStyle:function(e){if(ss.isNullOrUndefined(e)){return function(fo){}}var fm=[];e.forEach(ss.mkdel(this,function(fo,fp){var fq=true;var fr=fo.v[(fo.c?0:0)];for(var fs=1;fs<fo.length;++fs){if(!ss.referenceEquals(fr,fo.v[(fo.c?0:fs)])){fq=false;break}}if(fq){this.setTextStyleProperty(fp,fr)}else if(fp!=='text_style_color'){fm.push(fp)}}));var fn=ss.mkdel(this,function(fo){for(var fp=0;fp<fm.length;fp++){var fq=fm[fp];var fr=e.get(fq);this.setTextStyleProperty(fq,fr.v[(fr.c?0:fo)])}});return fn},setTextStyleProperty:function(e,fm){switch(e){case'font':{this.get_currentContext().set_font(fm);break}case'text_orientation':{this.get_currentContext().set_textAngle(fm);break}case'text_alignment':{this.get_currentContext().set_textAlign(fm);break}case'alpha':case'text_style_color':{break}case'text_decoration':{this.get_currentContext().set_shouldUnderlineText(!!fm);break}default:{break}}},renderText:function(e,fm,fn,fo,fp,fq){if(fq&&ss.isValue(this.$5)&&this.$5.$0(fm,fn)){var fr=this.$5.$1(fm,fn);fm=fr.x;fn=fr.y}else{this.clearPrevTextRunInfo()}if(ss.isValue(fp)){this.get_currentContext().set_textFillStyle(fp)}if(fo>0){if(!fq){e=ss.trimEndString(e)}this.get_currentContext().fillText2(e,fm,fn,fo)}else{this.get_currentContext().fillText1(e,fm,fn)}if(fq){var fs=this.get_currentContext().measureText(e).width;var ft=this.get_currentContext().get_textAlign()==='end';var fu=this.get_currentContext().get_textAngle();var fv;if(fu>1){fv='down'}else if(fu<-1){fv='up'}else{fv='horizontal'}this.$5=new i(fm,fn,fs,ft,fv)}else{this.clearPrevTextRunInfo()}},clearPrevTextRunInfo:function(){this.$5=null},strokeCurrentPath:function(e,fm){var fn=this.get_currentContext();fn.set_lineWidth(e);fn.set_strokeStyle(fm);fn.stroke()},fillCurrentPath:function(e){var fm=this.get_currentContext();fm.set_shapeFillStyle(e);fm.fill()}});ss.initClass(X,a,{});ss.initClass(Y,a,{},ss.EventArgs);ss.initClass(Z,a,{dispose:function(){this.$2.dispose()},showErrorBanner:function(e,fm,fn,fo){this.$1({testId:'banner-error',bannerType:0,message:e,actionMessage:fm},fn)},showSuccessBanner:function(e,fm,fn,fo){this.$1({testId:'banner-success',bannerType:2,message:e,actionMessage:fm},fn)},$1:function(e,fm){var fn=document.createElement('div');e.topLeftYPx=tabBootstrap.VizLayoutConstants.get_authoringMenuBarHeight();e.onCloseRequest=function(){ReactDOM.unmountComponentAtNode(fn)};e.onAction=function(){fm();e.onCloseRequest()};e.zIndex=1031;var fo=React.createElement(SharedWidgets.BannerWidget,e);ReactDOM.render(fo,fn);this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fn)})))},$0:function(e){if(!ss.isNullOrUndefined(e)){_.defer(function(){ReactDOM.unmountComponentAtNode(e);e.remove()})}}},null,[ss.IDisposable,tab.ICommonBannerProvider]);ss.initClass(ba,a,{showAlertDialog:function(e,fm,fn,fo){if(tab.FeatureFlags.isEnabled('DetailedErrorDialogWeb')&&fn){this.ShowErrorDialog(e,fm,fo)}else{var fp=ba.$0();var fq={content:e,title:fm,contentSelectable:fn,onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fp)},additionalLinks:fo};if(fn){bb.$1(fm,e,fo)}var fr=React.createElement(ec,fq);ReactDOM.render(fr,fp);this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fp)})))}},showConfirmationDialog:function(e,fm,fn,fo,fp){var fq=ba.$0();var fr={content:e,title:fm,contentSelectable:fn,dialogButtons:[],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fq)}};if(fn){bb.$1(fm,e,null)}fr.dialogButtons.push({buttonClickHandler:fo,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});fr.dialogButtons.push({buttonClickHandler:fp,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var fs=React.createElement(ec,fr);ReactDOM.render(fs,fq);this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fq)})))},showConfirmationHybridDialog:function(e,fm,fn,fo,fp,fq){if(tab.FeatureFlags.isEnabled('DetailedErrorDialogWeb')){bb.$1(fm,e,null);bI.showDetailedErrorDialogConfirmation(e,fm,fn,fp,fq,null)}else{this.showConfirmationDialog(e,fm,fo,null,null)}},ShowErrorDialog:function(e,fm,fn){if(tab.FeatureFlags.isEnabled('DetailedErrorDialogWeb')){bb.$1(fm,e,fn);bI.showDetailedErrorDialog(e,fm,fn,null)}else{this.ShowLocalErrorDialog(e,fm,fn)}},ShowLocalErrorDialog:function(e,fm,fn){var fo=ba.$0();var fp={content:e,title:fm,contentSelectable:true,dialogButtons:[{buttonClickHandler:null,buttonText:tab.Strings.DialogButtonOK,testId:'OKBtn',buttonType:2}],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(fo)},dialogWidth:250};bb.$1(fm,e,null);var fq=React.createElement(ec,fp);ReactDOM.render(fq,fo);this.$2.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$0(fo)})))},showSheetAuthenticationOverlay:function(e,fm,fn){bb.$0('AuthenticationOverlay',e);var fo=new L(e,fm,fn);fo.show();this.$2.add$1(fo)},showGenericDataSourceErrorOverlay:function(e,fm,fn){bb.$0('GenericErrorOverlay',e);var fo=new cn(e,fm,fn);fo.show();this.$2.add$1(fo)},showSheetAuthenticationDialog:function(e,fm,fn){bb.$0('AuthenticationDialog',e);var fo=new bF(e,fm,fn);fo.show();this.$2.add$1(fo)},showGenericDataSourceErrorDialog:function(e,fm,fn){bb.$0('GenericErrorDialog',e);var fo=new cm(e,fm,fn);fo.show();this.$2.add$1(fo)},showFileDownloadDialog:function(e,fm,fn,fo){var fp=new bN(e,fm,fn,fo);fp.show();this.$2.add$1(fp)},showConnectionMissingFileDialog:function(e,fm,fn){var fo=$.Deferred();var fp=new bf(e,fm,fn);fp.add_handled(function(fq){fo.resolve(fq)});fp.show();this.$2.add$1(fp);return fo.promise()},showEditConnectionInformationDialog:function(e,fm){var fn=$.Deferred();if(!tsConfig.is_authoring||!tab.ApplicationModel.get_instance().get_workbook().get_dataSchema().dataSources.getDataSource(e.datasource).get_isDataTabViewSupported()){return fn.resolve(false).promise()}if(fm){this.$1(e).done(function(fp){fn.resolve(fp)})}else{var fo=new bV(e);fo.add_handled(ss.mkdel(this,function(fp){if(fp){this.$1(e).done(function(fq){fn.resolve(fq)})}else{fn.resolve(false)}}));fo.show()}return fn.promise()},$1:function(e){var fm=$.Deferred();if(e.connectionErrorStage!=='load-metadata-failed'){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(function(fn){fn.showEditConnectionDialog(tab.DataConnectionUtils.connectionNameFromFullConnectionName(e.connectionFullName),function(fo){tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','');fm.resolve(true)},function(){fm.resolve(false)})})}else{tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','');fm.resolve(true)}return fm.promise()},showConnectionSignInDialog:function(e){var fm=$.Deferred();var fn=[];for(var fo=0;fo<e.connectionAttrDisplayNames.length;++fo){fn.push([e.connectionAttrDisplayNames[fo],e.connectionAttrDisplayValues[fo]])}tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(function(fp){fp.showSignInDialog(e.exceptionAttrs,Array.prototype.slice.call(fn),e.datasourceCaption,tab.DataConnectionUtils.connectionNameFromFullConnectionName(e.connectionFullName),e.connectionTypeLabel,function(fq){fm.resolve()},function(){fm.reject()})});return fm.promise()},dispose:function(){this.$2.dispose()},$0:function(e){ReactDOM.unmountComponentAtNode(e);e.remove()}},null,[ss.IDisposable,tab.ICommonDialogProvider]);ss.initClass(bb,a,{});ss.initClass(bc,a,{reset:function(e){this.$2[e]=0;this.$1[e]=null},hold:function(e){if(!ss.keyExists(this.$2,e)){this.$2[e]=0}this.$2[e]+=1;return new be(e,ss.mkdel(this,function(){this.$0(e)}))},$0:function(e){if(this.$2[e]<=0){return}this.$2[e]-=1;if(this.$2[e]===0&&!ss.staticEquals(this.$1[e],null)){this.$1[e]()}},addCompletedHandler:function(e,fm){var fn=null;fn=ss.mkdel(this,function(){if(!ss.staticEquals(fm,null)){fm()}this.$1[e]=ss.delegateRemove(this.$1[e],fn)});this.$1[e]=ss.delegateCombine(this.$1[e],fn)}});ss.initEnum(bd,a,{unspecified:0,twoPassRendering:1});ss.initClass(be,a,{dispose:function(){if(!ss.staticEquals(this.$0,null)){this.$0();this.$0=null}}},null,[ss.IDisposable]);ss.initClass(bf,a,{add_handled:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_handled:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},show:function(){this.parentNode=document.createElement('div');bf.$0=false;var e={key:'ConnectionMissingFileDialog',content:(this.$4?tab.Strings.ConnectionMissingFileDialogMissingDirectoryText(this.$3):tab.Strings.ConnectionMissingFileDialogText(this.$3)),title:tab.Strings.ConnectionMissingFileDialogTitle,contentSelectable:true,dialogWidth:500,dialogButtons:[],onDialogCloseRequested:ss.mkdel(this,function(){if(!bf.$0){this.$2$1(false)}ReactDOM.unmountComponentAtNode(this.parentNode)})};e.dialogButtons.push({buttonClickHandler:this.$5,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});e.dialogButtons.push({buttonClickHandler:null,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var fm=React.createElement(ec,e);ReactDOM.render(fm,this.parentNode)},$0:function(){bf.$0=true;tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(e){e.showReplaceFileDialog(this.$2,this.$1).done(ss.mkdel(this,function(fm){this.$2$1(fm)})).fail(ss.mkdel(this,function(fm){_.defer(ss.mkdel(this,function(){this.$0()}))}))}))}},O,[ss.IDisposable]);ss.initClass(bg,a,{handleWidgetPropertyChanged:function(e,fm){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bj,bh,Object]));ss.initClass(bh,a,{});ss.initClass(bi,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bj,a,{get_dom:function(){return this.get_template()},dispose:function(){this.get_viewModel().exitManageMode();this.get_viewModel().remove_customViewListChanged(ss.mkdel(this,this.$P));ss.makeGenericType(spiff.BaseView$1,[bk]).prototype.dispose.call(this)},$a:function(){this.$k();this.$f();this.$g();this.$e()},$k:function(){var e=tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height);this.get_dom().saveViewArea.empty();if(this.get_viewModel().get_mode()===bk.modeSelect){if(tsConfig.allow_custom_view_save){var fm=$('<span/>').addClass('tab-cv-viewNameInputWrapper');this.$15=this.$r();fm.append(this.$15.get_inputElement());this.$14=this.$q();fm.append(this.$14.element);this.get_dom().saveViewArea.append(fm);this.$U();if(tsConfig.allow_custom_view_default){this.$X=this.$o(tab.Strings.ToolbarCustomViewsMakeItMyDefault,this.get_viewModel().$h());this.get_dom().saveViewArea.append(this.$X.element)}if(tsConfig.allow_custom_view_share){this.$12=this.$o(tab.Strings.ToolbarCustomViewsShareItWithOthers,this.get_viewModel().$i());this.get_dom().saveViewArea.append(this.$12.element)}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextSelect))}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextManage))}if(ss.isValue(e)){var fn=ss.coalesce(tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height),0);this.get_dom().saveViewArea.height(Math.max(ss.unbox(e),fn)+'px')}},$f:function(){this.get_dom().myViewsTitle.text(tab.Strings.ToolbarCustomViewsMyViews);this.get_dom().myViewsListArea.empty();if(ss.count(this.get_viewModel().get_myCustomViews())>0){var e=ss.getEnumerator(this.get_viewModel().get_myCustomViews());try{while(e.moveNext()){var fm=e.current();var fn=this.$9(fm,false);this.$10[ss.unbox(fm.id)]=fn;this.$V(fm);this.get_dom().myViewsListArea.append(fn)}}finally{e.dispose()}}else{this.$R(this.get_dom().myViewsListArea)}},$g:function(){this.get_dom().otherViewsTitle.text(tab.Strings.ToolbarCustomViewsOtherViews);this.get_dom().otherViewsListArea.empty();var e=this.$9(null,true);this.$11=e;this.$V(null);this.get_dom().otherViewsListArea.append(e);var fm=ss.getEnumerator(this.get_viewModel().get_otherCustomViews());try{while(fm.moveNext()){var fn=fm.current();var fo=this.$9(fn,true);this.$10[ss.unbox(fn.id)]=fo;this.$V(fn);this.get_dom().otherViewsListArea.append(fo)}}finally{fm.dispose()}},$e:function(){if(!tsConfig.allow_custom_view_default&&!tsConfig.allow_custom_view_save){this.get_dom().manageModeControlArea.hide();return}this.$Y=this.$b();this.get_dom().manageModeControlArea.append(this.$Y.element);this.$Z=this.$c();this.get_dom().manageModeControlArea.append(this.$Z.element);this.$T();this.get_viewModel().add_modeChanged(ss.mkdel(this,this.$J));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_modeChanged(ss.mkdel(this,this.$J))})))},$r:function(){var e=spiff.TextInputView.newTextInputView(this.get_viewModel().$k(),tab.Strings.ToolbarCustomViewsViewNamePlaceholder,null,false);e.get_inputElement().attr('maxlength',bk.maxCustomViewNameLength.toString());e.add_propertyChanged(ss.mkdel(this,this.$H));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_propertyChanged(ss.mkdel(this,this.$H))})));e.add_enterKeyPressed(ss.mkdel(this,this.$D));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_enterKeyPressed(ss.mkdel(this,this.$D))})));this.disposables.add$1(e);return e},$q:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$N),tab.Strings.ToolbarCustomViewsSave,null,0,null);this.disposables.add$1(e);return e},$o:function(e,fm){var fn=spiff.LabelToggleButton.newCheckbox(e,false);fn.set_selected(fm);this.disposables.add$1(fn);return fn},$R:function(e){var fm=$('<div/>').addClass('tab-cv-emptyList').text(tab.Strings.ToolbarCustomViewsEmptyPlaceholder);e.append(fm)},$j:function(e){return $('<div/>').addClass('tab-customViews-saveAreaTitle').text(e)},$9:function(e,fm){var fn=$('<div/>').addClass('tab-cv-viewListItem');if(fm){var fo=this.$h(e);fn.addClass('tab-cv-viewListItem-showOwner').append(fo)}else if(tsConfig.allow_custom_view_save){var fp=this.$m(e);fn.append(fp)}var fq=this.$d(e);fn.append(fq);fn.click(ss.mkdel(this,function(fr){this.$I(e)}));return fn},$d:function(e){var fm=this.$u(e);var fn=$('<div/>').addClass('tab-cv-viewListItem-leftSide');var fo=this.$l(e);var fp=$('<span/>').addClass('tab-cv-viewListItem-viewName').text(fm).attr('title',fm);fn.append(fo);fn.append(' ');fn.append(fp);return fn},$l:function(e){var fm=this.get_viewModel().isDefault(e);var fn=new spiff.IconButton;if(tsConfig.allow_custom_view_default){fn.addClass('tab-customViews-viewListItem-setDefaultButton');fn.onClick(ss.mkdel(this,function(fq){this.$O(e)}));var fo;var fp;if(fm){fo='tab-icons-customView-toggled';fp=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltipWhenCurrent}else{fo='tab-icons-customView-menu';fp=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltip}fn.set_disabled(fm);fn.setIcon(fo);fn.set_hoverTooltipText(fp)}this.disposables.add$1(fn);return fn.element},$h:function(e){var fm=this.$v(e);var fn=$('<span/>').addClass('tab-cv-viewListItem-ownerName').text(fm).attr('title',fm);return fn},$m:function(e){var fm=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var fn=new spiff.IconButton;fn.addClass('tab-customViews-viewListItem-renameButton');fn.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameButtonTooltip);fn.setIcon('tab-icons-edit');fn.onClick(ss.mkdel(this,function(fq){this.$L(e)}));this.disposables.add$1(fn);fm.append(fn.element);var fo=new spiff.IconButton;fo.addClass('tab-customViews-viewListItem-deleteButton');fo.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsDeleteButtonTooltip);fo.setIcon('tab-icons-delete');fo.onClick(ss.mkdel(this,function(fq){this.$A(e)}));this.disposables.add$1(fo);fm.append(fo.element);if(tsConfig.allow_custom_view_share){var fp=new spiff.IconButton;fp.addClass('tab-customViews-viewListItem-toggleHideButton');if(e.isPublic){fp.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPublic);fp.setIcon('tab-icons-view-public')}else{fp.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPrivate);fp.setIcon('tab-icons-view-private')}if(this.get_viewModel().get_mode()===bk.modeSelect){fp.set_disabled(true)}fp.onClick(ss.mkdel(this,function(fq){this.$K(e)}));this.disposables.add$1(fp);fm.append(fp.element)}return fm},$i:function(e,fm){var fn=tab.DomUtil.getTransformScale(this.get_rootElement());var fo=$('<div/>').addClass('tab-customViews-rename-container');fo.click(ss.mkdel(this,this.$M));var fp=$('<div/>').addClass('tab-cv-viewListItem').width(fm.width()/fn);var fq=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var fr=new spiff.IconButton;fr.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameUIClearButtonTooltip);var fs=fr;fs.setIcon('tab-icons-canceledit');fs.onClick(ss.mkdel(this,function(fw){this.$z(fm)}));fq.append(fs.element);fp.append(fq);fp.append(this.$p(e));fo.append(fp);this.get_dom().domRoot.append(fo);this.$13.get_inputElement().focus();var ft=fm.position().top;var fu=fm.position().left;if(!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.$13.get_inputElement())}else{ft/=fn;fu/=fn;var fv=fm[0].parentElement;while(ss.isValue(fv)&&fv.style.position!=='absolute'&&fv.style.position!=='relative'){fv=fv.parentElement}if(ss.isValue(fv)){ft+=fv.offsetTop;fu+=fv.offsetLeft}}fp.css('top',ft+'px').css('left',fu+'px')},$p:function(e){var fm=$('<div/>').addClass('tab-customViews-rename-inputWrapper');this.$13=spiff.TextInputView.newTextInputView(e,tab.Strings.ToolbarCustomViewsRenameUIPlaceholderText,null,false);this.$13.get_inputElement().attr('maxlength',bk.maxCustomViewNameLength.toString());this.$13.get_inputElement().addClass('tab-customView-rename-textInput');this.$13.add_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.add_escapeKeyPressed(ss.mkdel(this,this.$F));fm.append(this.$13.get_inputElement());return fm},$s:function(e){if(this.$w()){this.$t(this.$x())}this.$W=e;var fm=this.$x();fm.children().hide();this.$i(e.name,fm)},$t:function(e){if(!this.$w()){return}this.get_dom().domRoot.children('.tab-customViews-rename-container').remove();e.children().show();this.$W=null;this.$13.remove_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.remove_escapeKeyPressed(ss.mkdel(this,this.$F));this.$13.dispose();this.$13=null},$b:function(){var e=spiff.StyledTextButton.createUnificationIconTextButton(ss.mkdel(this,this.$E),tab.Strings.ToolbarCustomViewsEnterManageButtonText,'tab-customViews-enterManageModeButton');this.disposables.add$1(e);return e},$c:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$G),tab.Strings.ToolbarCustomViewsExitManageButtonText,'tab-customViews-exitManageModeButton',0,null);this.disposables.add$1(e);return e},$U:function(){var e=!this.get_viewModel().shouldSaveButtonBeEnabled(this.$15);if(ss.isValue(this.$14)&&this.$14.get_disabled()!==e){var fm=(e?tab.Strings.ToolbarCustomViewsSaveButtonDisabledTitle:'');this.$14.set_hoverTooltipText(fm);this.$14.set_disabled(e)}},updateViewListsState:function(){if(ss.count(this.get_viewModel().get_myCustomViews())===0&&ss.count(this.get_viewModel().get_otherCustomViews())===0&&this.get_viewModel().get_mode()===bk.modeManage){this.get_viewModel().exitManageMode()}else{this.$k();this.$f();this.$g()}},$V:function(e){var fm;if(this.get_viewModel().isOriginalView(e)){fm=this.$11}else{fm=this.$y(e)}if(this.get_viewModel().isDefault(e)){fm.addClass('tab-cv-viewListItem-defaultView')}if(this.get_viewModel().isCurrentCustomView(e)){fm.addClass('tab-cv-viewListItem-currentView')}if(ss.isValue(e)&&e.isPublic){fm.addClass('tab-cv-viewListItem-publicView')}var fn=this.$u(e);fm.children('.tab-cv-viewListItem-viewName').text(fn).attr('title',fn)},$T:function(){if(this.get_viewModel().get_mode()===bk.modeSelect){this.$Z.element.css('display','none');this.$Y.element.css('display','');if(this.get_viewModel().get_hasCustomViews()){this.$Y.set_disabled(false);this.$Y.set_hoverTooltipText(null)}else{this.$Y.set_disabled(true);this.$Y.set_hoverTooltipText(tab.Strings.ManageCustomViewsDisabledExplanation)}}else if(this.get_viewModel().get_mode()===bk.modeManage){this.$Y.element.css('display','none');this.$Z.element.css('display','');this.$Z.set_disabled(false)}},$P:function(e,fm){this.updateViewListsState()},$N:function(){this.$S()},$S:function(){var e=this.get_viewModel().cleanCustomViewName(this.$15.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){return}var fm=this.get_viewModel().getMyCustomViewByName(e);if(ss.isNullOrUndefined(fm)){fm=new Object}fm.name=e;fm.isPublic=this.$n(this.$12);this.get_viewModel().save$1(fm,null,function(fn){dg.showNotification(tab.Strings.ToolbarCustomViewsErrorSavingView)},this.$n(this.$X));this.$15.get_inputElement().blur()},$H:function(e,fm){if(ss.equalsT(fm.get_propertyName(),'text')){this.$U()}},$D:function(){if(!this.$14.get_disabled()){this.$N()}},$I:function(e){if(this.get_viewModel().get_mode()===bk.modeSelect){this.get_viewModel().select(e);this.updateViewListsState()}},$O:function(e){this.get_viewModel().setDefault(e,ss.mkdel(this,function(fm){this.updateViewListsState()}),function(fm){dg.showNotification(tab.Strings.ToolbarCustomViewsErrorSettingDefault)})},$A:function(e){var fm=J.create(null,ss.mkdel(this,function(){this.$B(e)}));this.get_dom().customViewsArea.append(fm.element)},$B:function(e){this.get_viewModel().destroyCustomView(e,ss.mkdel(this,this.updateViewListsState),ss.mkdel(this,function(fm){dg.showNotification(tab.Strings.ToolbarCustomViewsErrorDeleting);this.updateViewListsState()}))},$z:function(e){this.$t(e)},$L:function(e){this.$s(e)},$C:function(){this.$Q()},$F:function(){this.$t(this.$x())},$M:function(e){var fm=$(e.target);var fn=fm.hasClass('tab-customView-rename-textInput');if(!fn){this.$Q()}},$Q:function(){var e=this.get_viewModel().cleanCustomViewName(this.$13.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){dg.showNotification(tab.Strings.ToolbarCustomViewsErrorInvalidName);return}var fm=this.$x();if(ss.equalsT(e,this.$W.name)){this.$t(fm);return}this.get_viewModel().updateCustomizedViewName(this.$W,e,ss.mkdel(this,function(fn){this.$t(fm);this.updateViewListsState()}),ss.mkdel(this,function(fn){dg.showNotification(tab.Strings.ToolbarCustomViewsErrorRenaming);this.$t(fm);this.updateViewListsState()}))},$K:function(e){if(!ss.isValue(e)||this.get_viewModel().get_mode()!==bk.modeManage){return}this.get_viewModel().updateCustomizedViewPublicState(e,!e.isPublic,ss.mkdel(this,function(fm){this.updateViewListsState()}),ss.mkdel(this,function(fm){dg.showNotification(tab.Strings.ToolbarCustomViewsErrorChangingPublicPrivateState);this.updateViewListsState()}))},$E:function(){this.get_viewModel().startManage()},$G:function(){this.get_viewModel().exitManageMode()},$J:function(e,fm){var fn=this.get_viewModel().get_mode();if(fn===bk.modeManage){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',true)}else if(fn===bk.modeSelect){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',false)}this.$k();this.updateViewListsState();this.$T()},$w:function(){return ss.isValue(this.$W)},$y:function(e){if(ss.isNullOrUndefined(e)){return this.$11}else{return this.$10[ss.unbox(e.id)]}},$x:function(){return this.$y(this.$W)},$n:function(e){if(ss.isValue(e)){return e.get_selected()}else{return false}},$u:function(e){var fm;if(this.get_viewModel().isOriginalView(e)){fm=tab.Strings.CustomViewsOriginalView}else{fm=e.name}if(this.get_viewModel().isDefault(e)){fm=tab.Strings.ToolbarCustomViewsDefault(fm)}return fm},$v:function(e){var fm;if(this.get_viewModel().isOriginalView(e)){fm=tsConfig.workbook_owner_friendly_name}else{fm=e.owner.friendlyName}return fm}},ss.makeGenericType(spiff.BaseView$1,[bk]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bk])]);ss.initClass(bk,a,{add_modeChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modeChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_customViewListChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_customViewListChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_customViewDestroyed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_customViewDestroyed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_dirtyChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_dirtyChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideDialogRequested:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_hideDialogRequested:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_mode:function(){return this.$p},get_myCustomViews:function(){return this.$q},get_otherCustomViews:function(){return this.$r},get_currentCustomView:function(){return this.$l},get_defaultCustomViewId:function(){return this.$n},get_currentCustomViewName:function(){return this.$m},get_hasCustomViews:function(){return this.$q.length>0||this.$r.length>0},get_dirty:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_viewType:function(){return bj},get_viewModel:function(){return this},get_props:function(){var e=new bh;e.viewModel=this;return{children:React.createElement(bg,e),isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'customViews',title:tab.Strings.CustomViewsDialogTitle,type:0}},$j:function(){return!this.isOriginalView(this.get_currentCustomView())&&this.belongsToCurrentUser(this.get_currentCustomView())},$k:function(){return(this.$j()?this.get_currentCustomView().name:'')},$h:function(){return this.$j()&&this.isDefault(this.get_currentCustomView())},$i:function(){return this.$j()&&this.get_currentCustomView().isPublic},isDefault:function(e){if(tsConfig.allow_custom_view_default){if(this.isOriginalView(e)){return ss.isNullOrUndefined(this.$n)}else{return ss.isValue(this.$n)&&ss.unbox(this.$n)===ss.unbox(e.id)}}else{return false}},isOriginalView:function(e){return ss.isNullOrUndefined(e)},belongsToCurrentUser:function(e){return ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id},isCurrentCustomView:function(e){if(this.isOriginalView(e)){return this.isCurrentCustomViewTheOriginalView()}else{return ss.isValue(tsConfig.current_custom_view_id)&&ss.unbox(tsConfig.current_custom_view_id)===ss.unbox(e.id)}},isCurrentCustomViewTheOriginalView:function(){return ss.isValue(tsConfig.current_custom_view_id)===false},shouldSaveButtonBeEnabled:function(e){return this.isValidCustomViewName(this.cleanCustomViewName(e.get_text()))},isValidCustomViewName:function(e){var fm=this.cleanCustomViewName(e);return fm.length>0&&fm.length<=bk.maxCustomViewNameLength},cleanCustomViewName:function(e){return e.trim().substr(0,bk.maxCustomViewNameLength)},$4:function(){this.raiseActionEvent(this.hideView);this.raiseActionEvent(this.$2$6)},save:function(e,fm,fn){var fo=this.getMyCustomViewByName(e);if(ss.isNullOrUndefined(fo)){fo=new Object;fo.name=e}this.save$1(fo,fm,fn,false)},save$1:function(e,fm,fn,fo){this.$s.saveCustomizedView(e,ss.mkdel(this,function(fp){var fq=ss.mkdel(this,function(fr){this.$c(fr);if(ss.isValue(fm)){fm(fr)}});if(fo){this.setDefault(fp,fq,function(fr){fq(fp)})}else if(this.isDefault(fp)){this.setDefault(null,function(fr){fq(fp)},function(fr){fq(fp)})}else{fq(fp)}}),ss.mkdel(this,function(fp){this.$b(fp);if(ss.isValue(fn)){fn(fp)}}))},getMyCustomViewByName:function(e){var fm=null;for(var fn=0;fn<this.$q.length;fn++){var fo=this.$q[fn];if(ss.equalsT(fo.name,e)){fm=fo}}return fm},select:function(e){if(this.isOriginalView(e)){this.$s.navigateToOriginalView();tsConfig.current_custom_view_id=null}else{this.$s.navigateToCustomizedView(e);tsConfig.current_custom_view_id=e.id}},destroy:function(e,fm,fn){this.destroyCustomView(e,fm,fn)},update:function(e,fm,fn){this.$g(e,null,fm,fn)},buildUrl:function(e,fm){return tab.CustomizedViewSession.buildUrl(e,fm)},makeCurrentDefault:function(e,fm){this.setDefault(this.$l,e,fm)},setDefault:function(e,fm,fn){this.$s.setDefaultCustomizedView(e,ss.mkdel(this,function(fo){this.$e(fo);if(ss.isValue(fm)){fm(fo)}}),ss.mkdel(this,function(fo){this.$d(fo);if(ss.isValue(fn)){fn(fo)}}))},startManage:function(){if(this.$p===bk.modeSelect&&this.get_hasCustomViews()){this.$f(bk.modeManage)}},exitManageMode:function(){this.$f(bk.modeSelect)},updateCustomizedViews:function(e,fm){this.$5(e,fm)},destroyCustomView:function(e,fm,fn){this.$o=true;this.$s.destroyCustomizedView(e,ss.mkdel(this,function(){ss.remove(this.get_myCustomViews(),e);if(ss.referenceEquals(e.id,this.$n)){this.$n=null}if(ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=null;this.$s.updateTsConfig(null,true);if(ss.isValue(tsConfig.requestURI)&&ss.isValue(e.owner)){var fo=tsConfig.requestURI;var fp=ss.replaceAllString(encodeURIComponent(e.owner.username),'%40','@');var fq='/'+fp+'/'+e.urlId;tsConfig.requestURI=ss.replaceAllString(fo,fq,'')}}this.$5(null,null);if(ss.isValue(fm)){fm()}}),ss.mkdel(this,function(fo){this.$5(null,null);if(ss.isValue(fn)){fn(fo)}}))},updateCustomizedViewPublicState:function(e,fm,fn,fo){if(!ss.isValue(e)||fm===e.isPublic){return}var fp=new Object;fp.id=e.id;fp.isPublic=fm;fp.name=e.name;fp.owner=e.owner;fp.startViewId=e.startViewId;fp.urlId=e.urlId;this.$g(fp,e,fn,fo)},updateCustomizedViewName:function(e,fm,fn,fo){if(ss.equalsT(e.name,fm)){return}var fp=new Object;fp.id=e.id;fp.isPublic=e.isPublic;fp.name=fm;fp.owner=e.owner;fp.startViewId=e.startViewId;fp.urlId=e.urlId;this.$g(fp,e,fn,fo)},$g:function(e,fm,fn,fo){this.$s.updateCustomizedView(e,ss.mkdel(this,function(fp){if(ss.isValue(fm)){var fq=ss.indexOf(this.$q,fm);if(fq>=0){ss.removeAt(this.$q,fq);ss.insert(this.$q,fq,e)}if(ss.isValue(fm)&&ss.referenceEquals(e.id,fm.id)&&ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=e}}this.$5(null,null);if(ss.isValue(fn)){fn(fp)}}),ss.mkdel(this,function(fp){this.$5(null,null);if(ss.isValue(fo)){fo(fp)}}))},$f:function(e){this.$p=e;this.$a()},$5:function(e,fm){this.$s.getCustomizedViews(ss.mkdel(this,function(fn,fo){this.$3(fn,fo);if(ss.isValue(e)){e(fn,fo)}}),ss.mkdel(this,function(fn){this.$2(fn);if(ss.isValue(fm)){fm(fn)}}))},$c:function(e){var fm=tabBootstrap.Utility.get_isEmbedded()&&!tsConfig.reloadOnCustomViewSave;if(fm||ss.isValue(this.$l)&&ss.unbox(this.$l.id)===ss.unbox(e.id)){this.$4();if(fm){var fn;if(ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id){for(fn=0;fn<this.$q.length;fn++){if(ss.referenceEquals(this.$q[fn].name,e.name)){this.$q[fn]=e;break}}if(fn>=this.$q.length){this.$q.push(e);this.$q.sort(bk.$0)}}else{for(fn=0;fn<this.$r.length;fn++){if(ss.referenceEquals(this.$r[fn].name,e.name)){this.$r[fn]=e;break}}if(fn>=this.$r.length){this.$r.push(e);this.$r.sort(bk.$0)}}}this.$l=e}else{this.$s.navigateToCustomizedView(e)}this.$9()},$b:function(e){this.$4()},$e:function(e){this.$n=(ss.isValue(e)?e.id:null);this.$8()},$d:function(e){},$3:function(e,fm){ss.clear(this.$q);ss.clear(this.$r);this.$l=null;this.$m=tab.Strings.ToolbarCustomViewsOriginalView;for(var fn=0;fn<e.length;fn++){var fo=e[fn];if(this.belongsToCurrentUser(fo)){this.$q.push(fo)}else{this.$r.push(fo)}if(this.isCurrentCustomView(fo)){this.$l=fo;this.$m=fo.name}}this.$q.sort(bk.$0);this.$r.sort(bk.$0);this.$n=fm;this.$7()},$2:function(e){this.$m=null;this.$o=false},$a:function(){if(ss.isValue(this.$2$1)){this.$2$1(this,ss.EventArgs.Empty)}},$7:function(){if(ss.isValue(this.$2$2)){this.$2$2(this,ss.EventArgs.Empty)}if(this.$o){this.$6();this.$o=false}},$8:function(){if(ss.isValue(this.$2$3)){this.$2$3(this,ss.EventArgs.Empty)}},$6:function(){if(ss.isValue(this.$2$4)){this.$2$4(this,ss.EventArgs.Empty)}},$9:function(){this.raiseEvent(this.$2$5)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(bl,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bm,a,{$d:function(){return this.get_template()},get_dashboardNode:function(){return this.$d().dashboardNode},get_containerNode:function(){return this.$d().domRoot},get_dashboardSize:function(){return tab.DashboardSizeCalculator.asMetric(this.$e.get_size())},$9:function(){if(ss.isValue(this.$e.get_formats())){var e=this.$e.get_formats();this.$d().dashboardNode.css(e);if(this.$e.get_hasGutter()){var fm={top:this.$e.gutter.top+'px',left:this.$e.gutter.left+'px'};this.$d().dashboardNode.css(fm)}}},$b:function(){this.$d().dashboardNode.height(this.$e.get_size().h).width(this.$e.get_size().w);if(this.$e.get_hasGutter()){$('.tab-gutter').height(this.$e.get_size().h+this.$e.gutter.top+this.$e.gutter.bottom).width(this.$e.get_size().w+this.$e.gutter.left+this.$e.gutter.right)}},$a:function(e){var fm=tab.ObjectRegistry.newView(fj).call(null,[e]);if(e.get_zoneType()==='title'){fm.prependToDom(this.$d().dashboardNode)}else{fm.addToDom(this.$d().dashboardNode)}},onAddedToDom:function(){if(!this.addedToDom){if(tsConfig.showTabs){this.$d().dashboardNode.attr('role','tabpanel')}this.$b();this.$9();var e=_.keys(this.$e.get_zoneViewModels());for(var fm=0;fm<e.length;fm++){var fn=e[fm];this.$a(this.$e.get_zoneViewModels()[fn])}if(this.$e.get_isDashboard()){this.get_containerNode().addClass('is-dashboard')}else if(this.$e.get_isStory()){this.get_containerNode().addClass('is-story')}else{this.get_containerNode().addClass('is-worksheet')}}spiff.Widget.prototype.onAddedToDom.call(this)},$c:function(){if(this.$e.get_renderMode()==='render-mode-client'){var e=this.$d().dashboardNode.find('img');var fm=e.length;for(var fn=0;fn<fm;fn++){var fo=e[fn];if(ss.isNullOrUndefined(fo)||fo.naturalHeight===0||fo.naturalWidth===0){continue}var fp=document.createElement('canvas');fp.width=fo.naturalWidth;fp.height=fo.naturalHeight;var fq=fp.getContext('2d');fq.drawImage(fo,0,0);try{var fr=fp.toDataURL('image/png',new Object);fo.src=fr}catch(fA){}}}var fs=this.$d().dashboardNode.clone(false,false);fs.addClass('facadedom');bm.uniquefyClonedFilterRadioElements(fs);if(this.$e.get_renderMode()==='render-mode-server'){var ft=this.$d().dashboardNode.find('canvas');var fu=fs.find('canvas');var fv=ft.length;for(var fw=0;fw<fv;fw++){var fx=ft[fw];var fy=fu[fw];if(!ss.isValue(fy)){continue}var fz=fy.getContext('2d');if(ss.isValue(fx)&&fx.width>0&&fx.height>0&&ss.isValue(fz)){fz.drawImage(fx,0,0)}}}this.$d().dashboardNode.parent().append(fs)}},ss.makeGenericType(spiff.BaseView$1,[bn]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bn])]);ss.initClass(bn,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_vizRebuildStart:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_vizRebuildStart:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sizeChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sizeChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_portSizeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_portSizeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_formatsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_formatsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isStory:function(){return this.dashboardModel.pm.isStory},get_zoneViewModels:function(){return this.$m},get_formats:function(){var e=this.dashboardModel.get_formats();if(tsConfig.current_sheet_type==='worksheet'&&tsConfig.is_authoring){e['backgroundColor']='transparent'}return e},get_backgroundColor:function(){var e='#FFFFFF';if(ss.isValue(this.get_formats())&&ss.keyExists(this.get_formats(),'backgroundColor')){e=this.get_formats()['backgroundColor']}return e},get_renderMode:function(){return this.dashboardModel.get_renderMode()},get_size:function(){return this.$l||this.dashboardModel.get_dashboardSize()},set_size:function(e){this.$l=e;this.raiseActionEvent(this.$2$3)},get_isDashboard:function(){return this.dashboardModel.get_isDashboard()},get_flipboardNavigatorViewModel:function(){if(!this.get_isStory()){return null}return this.$5('flipboard-nav')},get_flipboardViewModel:function(){return this.$5('flipboard')},get_hasGutter:function(){return tsConfig.is_authoring&&(tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='story'&&this.get_isStory())},dispose:function(){var e=ss.getEnumerator(Object.keys(this.$m));try{while(e.moveNext()){var fm=e.current();this.$m[fm].dispose()}}finally{e.dispose()}ss.clearKeys(this.$m);tab.SheetSession.remove_sheetDataChanged(ss.mkdel(this,this.$k));for(var fn=0;fn<this.viewControllers.length;fn++){var fo=this.viewControllers[fn];fo.dispose()}ss.clear(this.viewControllers);ss.clearKeys(this.viewControllersBySheet);this.dashboardModel.zonesModel.remove_newZone(ss.mkdel(this,this.$8));this.dashboardModel.remove_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.remove_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.remove_readyZoneChanged(ss.mkdel(this,this.$9));spiff.BaseViewModel.prototype.dispose.call(this)},$8:function(e){if(ss.keyExists(this.$m,e.get_zoneId())){this.$c(e.get_zoneId())}var fm=this.$4(e);if(fm.get_zoneType()==='viz'){if(ss.isValue(fm.get_zoneContentViewModel())){this.$b(fm)}else{var fn=null;fn=ss.mkdel(this,function(){fm.remove_newZoneContent(fn);this.$b(fm)});fm.add_newZoneContent(fn)}}fm.set_isActiveZone(fm.get_zoneId()===this.dashboardModel.get_activeZoneID());this.$i(fm)},$b:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneContentViewModel())){return}var fm=this.$3(e.get_associatedSheet());e.get_zoneContentViewModel().set_viewController(fm)},$4:function(e){var fm=new fk(e);this.$m[e.get_zoneId()]=fm;return fm},$5:function(e){var fm=new ss.ObjectEnumerator(this.$m);try{while(fm.moveNext()){var fn=fm.current();if(fn.value.get_zoneType()===e){return fn.value.get_zoneContentViewModel()}}}finally{fm.dispose()}return null},$i:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e)}},$7:function(){this.$j(ss.mkdel(this,function(e){return!this.dashboardModel.hasZone(e.get_zoneId())||!this.dashboardModel.isValidSheet(e.get_model())}))},$g:function(){this.raiseActionEvent(this.$2$3)},$f:function(){this.raiseActionEvent(this.$2$4)},$e:function(){this.raiseActionEvent(this.$2$5)},$a:function(){if(!ss.referenceEquals(this.dashboardModel,tab.ModelUtils.findContentDashboard())){return}this.raiseActionEvent(this.$2$2);this.$j(function(e){return e.get_zoneType()==='viz'})},$j:function(e){var fm=[];var fn=_.keys(this.$m);for(var fo=0;fo<fn.length;fo++){var fp=fn[fo];var fq=this.$m[fp];if(e(fq)){fm.push(fp)}}this.$d(fm);this.$2()},$d:function(e){for(var fm=0;fm<e.length;fm++){var fn=e[fm];this.$c(fn)}},$c:function(e){var fm=this.$m[e];if(ss.isValue(fm)){if(fm.get_zoneType()==='viz'){var fn=this.viewControllersBySheet['v_'+fm.get_associatedSheet()];if(ss.isValue(fn)){delete this.viewControllersBySheet['v_'+fm.get_associatedSheet()];ss.remove(this.viewControllers,fn);fn.dispose()}}fm.dispose();delete this.$m[e]}},$2:function(){var e=this.dashboardModel.get_zoneModels();for(var fm=0;fm<e.length;fm++){var fn=e[fm];if(!ss.keyExists(this.$m,fn.get_zoneId())&&this.dashboardModel.isValidSheet(fn)){this.$8(fn)}}},$h:function(e){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$k:function(){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$6:function(){if(tsConfig.isPublic){return}if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_activeZoneID();var fm=ss.getEnumerator(Object.keys(this.$m));try{while(fm.moveNext()){var fn=fm.current();var fo=this.$m[fn];fo.set_isActiveZone(fo.get_zoneId()===e)}}finally{fm.dispose()}},$9:function(){if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_readyZoneID();var fm=ss.getEnumerator(Object.keys(this.$m));try{while(fm.moveNext()){var fn=fm.current();var fo=this.$m[fn];fo.set_isReadyZone(fo.get_zoneId()===e)}}finally{fm.dispose()}},$3:function(e){var fm=this.dashboardModel.getViewSession(e);var fn=new eX(fm);this.viewControllersBySheet['v_'+e]=fn;this.viewControllers.push(fn);return fn}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bo,a,{render:function(){return spiff.DOMElements.div({className:'tab-dataAlertDialog tab-dataAlertCreateComponent'},this.$5(),this.$4(),this.$b(),this.$8(),this.$3(),this.$7(),this.$6(),this.$9())},$5:function(){var e;e=tab.Strings.DataAlertOnConstantThreshold2(this.props.selectionCaption);return spiff.DOMElements.div({className:'tab-dataAlertConditionMessage'},e)},$4:function(){return spiff.DOMElements.div({className:'tab-dataAlertConditionArea'},spiff.DOMElements.div({className:'tab-dataAlertOperatorArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.conditionProps)),spiff.DOMElements.div({className:'tab-dataAlertThresholdArea'},spiff.DOMElements.label({className:'tab-dataAlertThresholdLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.DataAlertThreshold),this.$a()),spiff.DOMElements.span(this.$1(this.props.thresholdIsValid),this.props.thresholdMessage)))},$1:function(e){return{className:(e?'tab-dataAlertStandardText':'tab-dataAlertErrorText')}},$0:function(e){return{className:'tab-dataAlertErrorText',style:{visibility:(e?'hidden':'visible')}}},$a:function(){var e='tab-dataAlertThreshold tab-TextInput';if(!this.props.thresholdIsValid){e+=' error'}return spiff.DOMElements.input({type:'text',value:this.props.threshold,className:e,disabled:!this.props.readyForInteraction,onBeforeInput:tableau.util.maxLengthEnforcingBeforeInputHandler(this.props.maxThresholdLength),onChange:ss.mkdel(this,function(fm){this.props.onThresholdInputTextChanged(fm.target.value)})})},$b:function(){var e='tab-dataAlertTitleInput tab-TextInput';var fm=!tab.MiscUtil.isNullOrEmpty$3(this.props.title);if(!fm){e+=' error'}return spiff.DOMElements.div({className:'tab-dataAlertTitleInputArea'},spiff.DOMElements.label({className:'tab-dataAlertTitleInputLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.DataAlertSubject),spiff.DOMElements.input({type:'text',className:e,disabled:!this.props.readyForInteraction,maxLength:br.maxTitleLength,value:this.props.title,onChange:ss.mkdel(this,function(fn){this.props.onTitleInputTextChanged(fn.target.value)})})),spiff.DOMElements.span(this.$0(fm),tab.Strings.DataAlertNoSubjectErrorMessage))},$8:function(){return spiff.DOMElements.div({className:'tab-dataAlertNotificationIntervalInputArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.notificationIntervalProps))},$3:function(){return spiff.DOMElements.div({className:'tab-dataAlertAddRecipients',disabled:!this.props.readyForInteraction},spiff.DOMElements.label({className:'tab-dataAlertAddRecipientsLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.DataAlertRecipients),React.createElement(dB,this.props.recipientSearchSelectorProps)))},$7:function(){var e='tab-dataAlertEmailInput tab-TextInput';if(!tab.MiscUtil.isNullOrEmpty$3(this.props.emailErrorText)){e+=' error'}return spiff.DOMElements.div({className:'tab-dataAlertEmailInputArea',disabled:!this.props.readyForInteraction,style:{visibility:(this.props.showEmailInput?'visible':'hidden'),height:(this.props.showEmailInput?'auto':'0px'),padding:(this.props.showEmailInput?'':'0px')}},spiff.DOMElements.label({className:'tab-dataAlertEmailInputLabel'},spiff.DOMElements.span({className:'tab-dataAlertLabelText'},tab.Strings.ToolbarSubscribeEmailPlaceholder)),spiff.DOMElements.input({type:'text',className:e,maxLength:bW.maxEmailLength,onChange:ss.mkdel(this,function(fm){this.props.onEmailInputTextChanged(fm.target.value)})}))},$6:function(){return spiff.DOMElements.span(this.$0(ss.isNullOrEmptyString(this.props.emailErrorText)),this.props.emailErrorText)},$9:function(){var e={clickHandler:ss.mkdel(this,this.$2),label:this.props.submitButtonText,buttonClass:'tab-dataAlertSubmitButton tab-UnifiedButton',buttonStyle:0,tabIndex:0,disabled:!this.props.enableSubmitButton};var fm=React.createElement(spiff.StyledButtonComponent,e);return spiff.DOMElements.div({className:'tab-dataAlertSubmitButtonArea'},fm)},$2:function(){this.props.onSave()}},React.Component);ss.initClass(by,a,{add_persistSuccess:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_persistSuccess:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_persistFailure:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_persistFailure:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},getSubmitButtonText:function(){return''},saveDataAlert:function(e,fm){},onPersistSuccess:function(){dg.showNotification(this.successMessage);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},onPersistFailure:function(){dg.showNotification(this.failureMessage,0);if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}});ss.initClass(bp,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertCreateButton},saveDataAlert:function(e,fm){var fn=ss.mkdel(this,function(fo){this.failureMessage=((fo===210006)?tab.Strings.DataAlertDatasourceError:tab.Strings.DataAlertCreateFailure);this.onPersistFailure()});tab.WorkgroupServerCommands.createDataAlert(e,ss.mkdel(this,this.onPersistSuccess),fn)}},by);ss.initInterface(cA,a,{add_dataAlertPrepared:null,remove_dataAlertPrepared:null,add_dataAlertPrepareFailed:null,remove_dataAlertPrepareFailed:null,get_preparedDataAlert:null,prepareDataAlert:null});ss.initClass(bz,a,{add_dataAlertPrepared:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_dataAlertPrepared:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_preparedDataAlert:function(){return this.dataAlert},prepareDataAlert:null,raiseActionEvent:function(e){if(!ss.staticEquals(e,null)){e()}},raiseDataAlertPrepared:function(){this.raiseActionEvent(this.$1$1)},raiseDataAlertPrepareFailed:function(){this.raiseActionEvent(this.$1$2)}},null,[cA]);ss.initClass(bq,a,{prepareDataAlert:function(){this.dataAlert=new tab.DataAlert.$ctor1(this.$0);this.raiseDataAlertPrepared()}},bz,[cA]);ss.initClass(br,a,{get_emptySearch:function(){return this.$3$1},set_emptySearch:function(e){this.$3$1=e},get_noResults:function(){return this.$3$2},set_noResults:function(e){this.$3$2=e},$s:function(){return{label:tab.Strings.DataAlertCondition,testId:'data-alert-condition-operation',onSelect:ss.mkdel(this,this.$b),disabled:!this.$u(),dropdownType:1,selectedValue:(ss.isValue(this.$C)?this.$C.get_operator().toString():''),menuItemInfos:_.map(tab.DataAlertConditionOperation.supportedOperations(),function(e){return{value:e.toString(),displayValue:tab.DataAlertConditionOperation.displayString(e),isDivider:false}})}},$w:function(){var e=ss.mkdel(this,this.$f);return{label:tab.Strings.DataAlertNotificationInterval,testId:'data-alert-notification-interval',onSelect:e,disabled:!this.$u(),dropdownType:1,selectedValue:(ss.isValue(this.$C)?this.$C.get_notificationIntervalInMinutes().toString():''),menuItemInfos:_.map(tab.DataAlertNotificationInterval.supportedIntervals(),function(fm){return{value:fm.toString(),displayValue:tab.DataAlertNotificationInterval.convertToString(fm),isDivider:false}})}},$x:function(){return{users:this.users,addUser:ss.mkdel(this,this.addUser),removeUser:ss.mkdel(this,this.removeUser),isUsers:true,userValidator:ss.mkdel(this,this.$r),noResults:ss.mkdel(this,this.setNoResults),emptySearch:ss.mkdel(this,this.setIsSearchEmpty),placeholderMessage:tab.Strings.DataAlertsRecipientsSearchPlaceholder,removeRecipientByIndex:ss.mkdel(this,this.removeUserByIndex)}},$z:function(){return ss.isValue(this.$C)&&this.$C.get_thresholdIsValid()&&!this.$G&&this.$t()&&!ss.isNullOrEmptyString(this.$C.get_title())&&this.get_emptySearch()&&this.$F},$t:function(){if(this.$5()){return this.$v()&&this.$y()===1}return this.$y()===0},$y:function(){return this.users.filter(function(e){return!e.hasEmail}).length},$v:function(){return bW.validate(this.$D)},$u:function(){return this.$F},$o:function(){this.users=[];this.set_emptySearch(true)},$l:function(){this.$C.add_titleChanged(ss.mkdel(this,this.refresh));this.$C.add_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$C.add_measureChanged(ss.mkdel(this,this.refresh));this.$C.add_conditionChanged(ss.mkdel(this,this.refresh));this.$C.add_recipientsChanged(ss.mkdel(this,this.refresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$C.remove_titleChanged(ss.mkdel(this,this.refresh));this.$C.remove_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$C.remove_measureChanged(ss.mkdel(this,this.refresh));this.$C.remove_conditionChanged(ss.mkdel(this,this.refresh));this.$C.remove_recipientsChanged(ss.mkdel(this,this.refresh))})))},$m:function(){this.$B.add_dataAlertPrepared(ss.mkdel(this,this.$d));this.$B.add_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_dataAlertPrepared(ss.mkdel(this,this.$d));this.$B.remove_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed))})))},$n:function(){this.$H=new tab.Debouncer(ss.mkdel(this,function(){var e=tab.DataAlertClientCommands.updateDataAlert(this.$C);e.done(ss.mkdel(this,function(fm){this.$C.set_alertConditionMet(fm);this.refresh()}))}),br.debounceTimeout);this.disposables.add$1(this.$H)},$9:function(){if(ss.isNullOrUndefined(this.$C)){return''}if(this.$C.get_thresholdIsValid()){return(this.$C.get_alertConditionMet()?tab.Strings.DataAlertThresholdConditionMet:tab.Strings.DataAlertThresholdConditionUnmet)}var e=this.$C.get_conditionPresModel().dataType;if(e==='integer'){if(ss.isNullOrUndefined(tab.ApplicationModel.get_instance().get_appPresModel())){if(tab.DoubleUtil.isValidDouble(this.$C.get_threshold())){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}else{var fm=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;if(tab.DoubleUtil.isValidDouble(tableau.format.reformatNumberToJsFormat(this.$C.get_threshold(),fm))){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}return tab.Strings.DataAlertThresholdErrorIntegerInputNonNumeric}if(e==='real'){return tab.Strings.DataAlertThresholdErrorDouble}throw new ss.ArgumentException('ThresholdType.DataType is not among the supported data types')},$8:function(){if(this.$G){return tab.Strings.DataAlertCreateButtonSaving}return this.$A.getSubmitButtonText()},refresh:function(){this.updateProps$1({readyForInteraction:this.$u(),onThresholdInputTextChanged:ss.mkdel(this,this.$h),maxThresholdLength:18,onTitleInputTextChanged:ss.mkdel(this,this.$i),onSave:ss.mkdel(this,this.$a),title:(ss.isValue(this.$C)?this.$C.get_title():this.$7()),selectionCaption:(ss.isValue(this.$C)?this.$C.get_selectionCaption():''),threshold:(ss.isValue(this.$C)?this.$C.get_threshold():''),thresholdIsValid:ss.isValue(this.$C)&&this.$C.get_thresholdIsValid(),alertConditionMet:ss.isValue(this.$C)&&this.$C.get_alertConditionMet(),thresholdMessage:this.$9(),onEmailInputTextChanged:ss.mkdel(this,this.$e),showEmailInput:this.$5(),recipientSearchSelectorProps:this.$x(),enableSubmitButton:this.$z(),notificationIntervalProps:this.$w(),emailErrorText:this.$6(),submitButtonText:this.$8(),conditionProps:this.$s()})},addUser:function(e){if(_.any(this.users,function(fm){return fm.id===e.id})){return}this.users.push(e);this.refresh()},setUsers:function(e){this.users=e;this.refresh()},removeUser:function(e){ss.remove(this.users,e);this.refresh()},removeUserByIndex:function(e){ss.removeAt(this.users,e);this.refresh()},setIsSearchEmpty:function(e){this.set_emptySearch(e);this.refresh()},setNoResults:function(e){this.set_noResults(e);this.refresh()},$6:function(){if(this.$5()){if(this.$t()){return''}return tab.Strings.SubscribeInvalidAddress}else if(this.$y()>0){return tab.Strings.DataAlertRecipientWithNoEmail}else if(this.get_noResults()){return tab.Strings.DataAlertNoUsersMatchSearch}return''},$5:function(){return this.$4()&&tab.MiscUtil.isNullOrEmpty$3(tsConfig.current_user_email)},$4:function(){return this.users.filter(function(e){return e.id===tsConfig.current_user_id}).length===1},$e:function(e){this.$D=e;this.refresh()},$i:function(e){if(ss.isNullOrUndefined(this.$C)){return}if(ss.referenceEquals(e,this.$C.get_title())){return}this.$C.set_title(e)},$d:function(){this.$C=this.$B.get_preparedDataAlert();this.$E=ss.arrayClone(this.$C.get_recipients());this.$l();this.$n();this.$g();var e=this.$C.get_title();if(ss.isNullOrUndefined(e)){e=this.$7()}var fm=e;this.$i(fm);this.$C.set_deviceType(tabBootstrap.ViewerBootstrap.get_instance().get_deviceType());this.$F=true;this.refresh()},onDataAlertPrepareFailed:function(){this.$G=false;this.$F=false;this.refresh()},onDataAlertPreparing:function(){this.$F=false;this.refresh()},$7:function(){var e=tab.Strings.DataAlertSubjectTemplate(tsConfig.current_sheet_name);if(e.length>br.maxTitleLength){e=e.substr(0,br.maxTitleLength-3)+'...'}return e},$f:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isValue(this.$C)){this.$C.set_notificationIntervalInMinutes(e)}},$h:function(e){if(ss.referenceEquals(e,this.$C.get_threshold())){return}if(tab.MiscUtil.isNullOrEmpty$3(e)){this.$H.cancel()}else{this.$q()}this.$p(this.$C.get_operator(),e)},$b:function(e){if(ss.isNullOrUndefined(e)){return}var fm=e;this.$c(fm)},$c:function(e){if(e===this.$C.get_operator()){return}this.$q();this.$p(e,this.$C.get_threshold())},$q:function(){if(ss.isValue(this.$H)){this.$H.invokeActionDelayed()}},$a:function(){this.$G=true;this.refresh();if(tab.MiscUtil.isNullOrEmpty$3(tsConfig.current_user_email)){this.$k()}else{this.$j()}},$k:function(){var e=ss.mkdel(this,this.$j);var fm=ss.mkdel(this,function(fn){var fo=((fn===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.DataAlertCreateFailure);dg.showNotification(fo);this.$G=false;this.refresh()});tab.WorkgroupServerCommands.setUserEmail(this.$D,e,fm)},$j:function(){this.$C.updateRecipients(this.users);this.$A.saveDataAlert(this.$C,this.$E)},$g:function(){this.users=this.$C.get_recipients()},$p:function(e,fm){var fn=this.$C.get_conditionPresModel().dataAlertThresholdText;if(this.$C.isValidThresholdText(fm)){fn=fm}this.$C.set_threshold(fm);this.$C.set_conditionPresModel({dataAlertConditionOp:e,dataAlertThresholdText:fn,dataType:this.$C.get_conditionPresModel().dataType})},$r:function(e){if(e.id===tsConfig.current_user_id){return this.$v()||e.hasEmail}return e.hasEmail}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bs,a,{add_hideDialogRequested:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_hideDialogRequested:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$e:function(){return!ss.isNullOrEmptyString(this.$j)},get_createViewModel:function(){return this.$h},updateFromDialogPresModel:function(e){this.$i=e;if(this.$d()){this.$5()}else{this.$6()}this.incrementProps();return this},$d:function(){return!ss.isNullOrEmptyString(this.$i.dataAlertErrorText)},$5:function(){this.$k=new bx(this.$i.dataAlertErrorText,this.$j);this.$k.add_okButtonClicked(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k.remove_okButtonClicked(ss.mkdel(this,this.$c))})));this.disposables.add$1(this.addChildViewModel(this.$k));this.disposables.add$1(this.$k)},$6:function(){if(this.$e()){this.$f=bt.new$1(this.$j);this.$g=bu.new$1(this.$i,this.$j)}else{this.$f=bp.new$1();this.$g=bq.new$1(this.$i)}this.$h=br.new$1(this.$g,this.$f);var e=ss.mkdel(this,function(){dg.showNotification(tab.Strings.DataAlertLoadForEditFailure);this.$c()});this.$f.add_persistSuccess(ss.mkdel(this,this.$c));this.$f.add_persistFailure(ss.mkdel(this,this.$c));this.$g.add_dataAlertPrepareFailed(e);this.disposables.add$1(this.$h);this.disposables.add$1(this.addChildViewModel(this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_persistSuccess(ss.mkdel(this,this.$c));this.$f.remove_persistFailure(ss.mkdel(this,this.$c));this.$g.remove_dataAlertPrepareFailed(e)})));this.$g.prepareDataAlert()},createInitialProps:function(){return{dialogWidth:400,isModal:true,positioningBehavior:2,shouldAdjustPositionOnWindowResize:true,shouldReturnFocusOnClose:true,showCloseButton:true,testId:'dataAlertDialog',type:0}},createUpdatedProps:function(){return(this.$d()?this.$b():this.$9())},$9:function(){return{children:this.$8(),footerContent:null,shouldReturnFocusOnClose:true,showFooter:false,title:this.$a()}},$a:function(){return(this.$e()?tab.Strings.DataAlertDialogTitleEditMode:tab.Strings.DataAlertDialogTitle)},$8:function(){return React.createElement(bo,this.$h.get_props())},$b:function(){return this.$k.get_dialogProps()},$c:function(){tab.CommandController.get().remove_undoCommand(ss.mkdel(this,this.$c));this.raiseActionEvent(this.$3$1)},onDialogHidden:function(){this.$7()},$7:function(){tab.DataAlertClientCommands.closeDataAlertDialog();if(this.$e()){var e=tab.VizUriModel.createForCurrentWindowLocation();e.removeQueryParam(bv.editDataAlertUrlParam);e.replaceState(null);if(ss.isValue(E.get_instance().get_apiEventHandler())){E.get_instance().get_apiEventHandler().removeEditDataAlertUrlParam(tsConfig.current_sheet_name)}}_.defer(ss.mkdel(this,this.dispose))},onCancel:function(e,fm){this.$7()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(bt,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertUpdateButton},saveDataAlert:function(e,fm){var fn=bt.getDifferenceInUserLists(fm,e.get_recipients());var fo=bt.getDifferenceInUserLists(e.get_recipients(),fm);tab.WorkgroupServerCommands.updateDataAlert(e,this.$0,fn,fo,ss.mkdel(this,this.onPersistSuccess),ss.mkdel(this,this.onPersistFailure))}},by);ss.initClass(bu,a,{prepareDataAlert:function(){this.$0()},$1:function(e){if(ss.isNullOrUndefined(e)||e.length===0){this.raiseDataAlertPrepareFailed();return}if(e.length>1){this.raiseDataAlertPrepareFailed();return}this.$4(e);this.$5=true;this.$3()},$4:function(e){var fm=e[0];this.dataAlert.set_title(fm.get_title());this.dataAlert.set_deviceType(fm.get_deviceType());this.dataAlert.set_notificationIntervalInMinutes(fm.get_notificationIntervalInMinutes())},$3:function(){if(this.$5&&this.$6){this.raiseDataAlertPrepared()}},$2:function(e){this.$6=true;_.each(e,function(fm){fm.hasEmail=true});this.dataAlert.updateRecipients(e);this.$3()},$0:function(){this.$5=false;this.$6=false;tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$7).done(ss.mkdel(this,this.$1)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed));tab.WorkgroupServerCommands.getUsersForDataAlertId(this.$7).done(ss.mkdel(this,this.$2)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed))}},bz,[cA]);ss.initClass(bv,a,{});ss.initClass(bw,a,{render:function(){return spiff.DOMElements.div({className:bw.$0},this.renderGenericMessage(),this.renderPlatformErrorMessage())},renderGenericMessage:function(){var e=(tab.MiscUtil.isNullOrEmpty$3(this.props.alertSubject)?tab.Strings.DataAlertErrorDialogViewChanged(this.props.sheetName):tab.Strings.DataAlertErrorDialogViewChangedWithSubject(this.props.sheetName,this.props.alertSubject));return spiff.DOMElements.div({className:bw.$1},e)},renderPlatformErrorMessage:function(){return spiff.DOMElements.div({className:bw.$2},this.props.errorText)}},spiff.PureRenderComponent);ss.initClass(bx,a,{add_okButtonClicked:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_okButtonClicked:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_dialogProps:function(){return{children:this.$5(),title:tab.Strings.DataAlertErrorDialogTitle,showFooter:true,footerContent:this.$6()}},$7:function(){tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$a).done(ss.mkdel(this,this.$8))},$8:function(e){if(e.length===1){this.$9=e[0].get_title()}this.incrementProps()},$5:function(){return React.createElement(bw,this.get_props())},createUpdatedProps:function(){return{errorText:this.$b,sheetName:tsConfig.current_sheet_name,alertSubject:this.$9}},$6:function(){return React.createElement(SharedWidgets.DialogFooterButtonsWidget,{buttons:[{handleClick:ss.mkdel(this,function(e){this.raiseActionEvent(this.$3$1)}),buttonType:2,testId:'OK',label:tab.Strings.DialogButtonOK,disabled:false}]})}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bA,a,{});ss.initClass(bB,a,{get_compositeSearchWidget:function(){return this.$l},$a:function(e){this.$g();this.$k();if(e.trim().length>0){this.get_viewModel().set_isActive(true);this.$j()}else{this.dataHighlighterViewModel.clearHighlighting();this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}this.get_viewModel().lastSatisfiedSearchTerm=null;this.get_viewModel().lastSatisfiedSearchResults=null;this.get_viewModel().set_searchText(e)},$k:function(){if(this.$l.get_textInputView().get_text().trim().length>0){this.$l.get_searchButton().element.hide();this.$l.get_clearButton().element.show()}else{this.$l.get_searchButton().element.show();this.$l.get_clearButton().element.hide()}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$f),200)},$g:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$f:function(){this.dataHighlighterViewModel.sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false);this.$g()},handleNewSearchQueryResults:function(e,fm){if(!ss.referenceEquals(e,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(fm)){return}this.populateAndDisplayList(fm,2)},populateAndDisplayList:function(e,fm){this.currentListPopulationMode=fm;this.$p=tab.MiscUtil.dispose(this.$p);this.$p=[];var fn=Math.min(e.dataHighlighterItems.length,this.get_viewModel().get_maxNumberListItems());for(var fo=0;fo<fn;fo++){var fp=e.dataHighlighterItems[fo];this.$p.push(spiff.ListItemViewModel.newListItem(fp.objectId.toString(),fp,false,false,false))}if(fn<e.totalNumberOfItemsInSet){var fq=e.totalNumberOfItemsInSet-fn;var fr=((fq>1)?tab.Strings.SearchResultsNotShownPlural(fq.toString()):tab.Strings.SearchResultsNotShownSingular);this.$p.push(spiff.ListItemViewModel.newListItem(fr,null,false,false,false));this.notShownResultsListItemIsVisible=true}else{this.notShownResultsListItemIsVisible=false}this.get_compositeSearchWidget().showListInsideUberPopup(this.$p,this,this.dataHighlighterViewRootElement,'tabDataHighlighterViewSearchResultList',312)},createListItemContent:function(e){var fm="<div class='{0}' title='{1}'>{1}</div>";var fn;if(ss.isValue(e.get_data())){var fo=e.get_data();fn=fo.text}else{fn=e.get_id()}var fp=ss.formatString(fm,'tab-list-item-label',tableau.format.escapeHTML(fn));return $(fp).css(this.get_viewModel().get_formatStyle())},handleListItemSelected:function(e){if(ss.isNullOrUndefined(e.get_data())){return}var fm=e.get_data();this.get_compositeSearchWidget().setSearchText(fm.text);this.get_compositeSearchWidget().get_clearButton().element.show();this.get_compositeSearchWidget().get_searchButton().element.hide();this.get_viewModel().highlightItems([fm.objectId]);this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur();this.get_viewModel().lastSatisfiedSearchTerm=this.get_compositeSearchWidget().get_textInputView().get_text();this.get_viewModel().lastSatisfiedSearchResults={dataHighlighterItems:[fm]};this.get_viewModel().saveSearchTextForItem(fm.text,fm.objectId)},removeList:function(){this.currentListPopulationMode=0;this.get_compositeSearchWidget().removeList()},handleTitleChanged:function(){this.setTitleFromModel()},setTitleFromModel:function(){if(ss.isValue(this.dataHighlighterViewModel.get_zoneTitleHtml())){this.zoneTitleRegionRootElement.html(this.dataHighlighterViewModel.get_zoneTitleHtml());var e=this.dataHighlighterViewModel.get_titleAreaHeight();if(e>0){e=Math.max(e,17);this.zoneTitleRegionRootElement.height(e)}else{this.zoneTitleRegionRootElement.height('')}var fm=this.dataHighlighterViewModel.get_titleAreaWidth();if(fm>0){this.zoneTitleRegionRootElement.width(this.dataHighlighterViewModel.get_titleAreaWidth());this.$m.addClass('tab-HorizontalLayout')}else{this.$m.removeClass('tab-HorizontalLayout')}tableau.util.setupTitleEllipsis(this.zoneTitleRegionRootElement);this.zoneTitleRegionRootElement.attr('title',this.dataHighlighterViewModel.get_zoneTitleTooltip())}this.$m.toggleClass('tabBordered',this.get_viewModel().get_zoneHasBorder())},handleTextInputElementClicked:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;this.$n=(this.$e()?this.$h():null);if(e===0){this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)}else if(!this.$e()){this.$i()}},$h:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_inputElement();var fm=e.prop('selectionStart');var fn=e.prop('selectionEnd');var fo=fm!==fn;if(fo){return null}return fm},$e:function(){return ss.isValue(this.get_compositeSearchWidget().get_listViewModel())},$i:function(){if(ss.referenceEquals(this.get_viewModel().lastSatisfiedSearchTerm,this.get_compositeSearchWidget().get_textInputView().get_text())&&ss.isValue(this.get_viewModel().lastSatisfiedSearchResults)){this.populateAndDisplayList(this.get_viewModel().lastSatisfiedSearchResults,2)}this.get_viewModel().sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false)},$b:function(e){this.get_viewModel().set_isActive(true);this.$o=true},$c:function(e){tab.WindowHelper.clearSelection();this.$o=false},$d:function(e){var fm=this.$h();var fn=ss.isValue(fm);var fo=ss.isValue(this.$n);if(this.$o){if(fn&&!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.get_compositeSearchWidget().get_textInputView().get_inputElement())}this.$o=false}else if(this.$e()&&fo&&fn){var fp=ss.unbox(this.$n);var fq=ss.unbox(fm);if(fp===fq){var fr=this.get_compositeSearchWidget().get_textInputView().get_text().length;if(fq===fr){this.removeList()}}}this.$n=null},handleSearchButtonClicked:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().focus();this.$o=false;this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)},handleClearButtonClicked:function(){this.$o=false},handleSearchTextChanged:function(){if(ss.isValue(this.queryDelayTimer)){return}this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText());this.$k()},handleIsActiveChanged:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive())},$9:function(){if(!this.$e()){return}var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(e>0){this.$i()}else{this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}},handleEnterKeyPress:function(){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},handleEscapeKeyPress:function(){if(ss.isNullOrEmptyString(this.get_compositeSearchWidget().get_textInputView().get_text())){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()}else{this.get_compositeSearchWidget().get_textInputView().set_text('')}}},ss.makeGenericType(spiff.BaseView$1,[bD]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bD]),spiff.IListItemContentCreator]);ss.initEnum(bC,a,{none:0,fullDomain:1,searchResults:2});ss.initClass(bD,a,{add_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_titleChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_titleChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_searchTextChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_searchTextChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_isActiveChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_isActiveChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_domainItemsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_domainItemsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneTitleHtml:function(){if(ss.isValue(this.$b)){return this.$b.html}else{return''}},get_titleAreaHeight:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().h!==0)?this.$b.h:0)},get_titleAreaWidth:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().w!==0)?this.$b.w:0)},get_zoneHasBorder:function(){return this.$5.get_zoneHasBorder()},get_zoneWidth:function(){return this.$5.get_zoneWidth()},get_zoneTitleTooltip:function(){return(ss.isValue(this.$b)?this.$b.caption:'')},get_searchPlaceholderString:function(){return this.$5.get_searchPlaceholderString()},get_fullDomainItemSet:function(){return this.$5.get_fullDomainItemSet()},get_searchText:function(){return this.$9},set_searchText:function(e){var fm=!ss.referenceEquals(e,this.$9);this.$9=e;if(fm&&!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_numHighlighted:function(){return this.$5.get_numHighlighted()},get_isActive:function(){return this.$7},set_isActive:function(e){var fm=e!==this.$7;this.$7=e;if(fm&&!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_maxNumberListItems:function(){var e=tab.FeatureParamsLookup.getInt(44);if(ss.isNullOrUndefined(e)){e=this.$5.get_maxNumberListItems()}return e},get_formatStyle:function(){return tab.FormattingConverters.makeFormatStyleDict(this.$5.get_bodyTextStyle())},alertIfDomainItemsChanged:function(){if(bD.$0(this.$6,this.get_fullDomainItemSet().dataHighlighterItems)){this.$6=ss.arrayClone(this.get_fullDomainItemSet().dataHighlighterItems);this.raiseActionEvent(this.$2$5)}},$2:function(){return tab.ApplicationModel.get_instance().get_isLocalRenderMode()},sendSearchQuery:function(e,fm){if(tab.ApplicationModel.get_instance().get_isOffline()){var fn=e.toLowerCase();var fo=[];var fp=[];var fq=this.$5.get_fullDomainItemSet().dataHighlighterItems;for(var fr=0;fr<fq.length;fr++){var fs=fq[fr];if(fs.text.toString().toLowerCase().indexOf(fn)!==-1){fp.push(fs.objectId);fo.push(fs)}}this.lastSatisfiedSearchTerm=e;var ft={dataHighlighterItems:Array.prototype.slice.call(fo),totalNumberOfItemsInSet:fo.length};this.lastSatisfiedSearchResults=ft;if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,ft)}this.highlightItems(Array.prototype.slice.call(fp))}else{var fu=new tab.HighlightItemsByPatternMatchCmd;fu.c['fn']=this.$5.get_fieldName();fu.c['valueString']=e;fu.c['visualIdPresModel']=this.$a;fu.set_uiBlocking('none');fu.invoke().done(ss.mkdel(this,function(fv){if(fm){return}this.lastSatisfiedSearchTerm=e;this.lastSatisfiedSearchResults=fv.$$c['dataHighlighterItemSet'];if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,fv.$$c['dataHighlighterItemSet'])}}))}},saveSearchTextForItem:function(e,fm){var fn=new tab.HighlightItemsByPatternMatchCmd;fn.c['fn']=this.$5.get_fieldName();fn.c['valueString']=e;fn.c['visualIdPresModel']=this.$a;fn.c['objectIds']=[fm];fn.invoke()},highlightItems:function(e){if(e.length>0){tab.SelectionClientCommands.highlightItems(this.$5,this.$5.get_fieldName(),e,this.$a,this.$2())}},clearHighlighting:function(){tab.SelectionClientCommands.clearHighlighting(this.$5,this.$5.get_fieldName(),this.$a,this.$2())},restoreSearchResultsHighlighting:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.lastSatisfiedSearchResults)){this.highlightItems(this.lastSatisfiedSearchResults.dataHighlighterItems.map(function(e){return e.objectId}))}}else{this.sendSearchQuery(this.lastSatisfiedSearchTerm,true)}},$4:function(){var e=this.$8.get_model();var fm=ss.isValue(e.pm)&&ss.isValue(e.pm.zoneTitle);if(fm){var fn=(this.$8.get_model().get_hasTitle()?e.pm.zoneTitle:null);if(!ss.referenceEquals(fn,this.$b)){this.$b=fn;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}}}},$3:function(){this.set_isActive(this.$5.get_isActive());this.set_searchText(this.$5.get_searchText());this.alertIfDomainItemsChanged()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bE,a,{get_dataHighlighterContentElement:function(){return this.$1},get_dataHighlighterViewRootElement:function(){return this.$2},get_zoneTitleRegionRootElement:function(){return this.$3}},spiff.Template,[ss.IDisposable]);ss.initClass(bF,a,{show:function(){var e=new cb;var fm=ss.mkdel(this,function(fn){this.onAuthDialogMessage(fn,e)});e.eventHandler=fm;tab.WindowHelper.addListener(window.self,'message',fm);this.$1.add_closed(ss.mkdel(this,function(fn,fo){this.$0(e)}));this.$1.show()},cleanup:function(e){this.$1.close(null)},dispose:function(){this.$1.dispose()},$0:function(e){tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(!this.get_submitted()&&!ss.staticEquals(this.onCancel,null)){this.onCancel()}}},N,[ss.IDisposable]);ss.initClass(bG,a,{setDateRange:function(e,fm){this.$u=bG.$2(e);this.$s=bG.$2(fm);this.$v=bG.$4(this.$u);this.$t=bG.$4(this.$s)},setDate:function(e,fm){if(ss.isValue(e)){this.$p=bG.$4(bG.$2(e));this.$B=bG.$2(fm||e)}this.$l()},hide:function(){this.$F=false;this.element.height('auto');return this.element.hide()},positionCalendarByElementAndShow:function(e,fm){Q.getViewport(ss.mkdel(this,function(fn){if(fm){this.element.show().width(tab.DoubleUtil.roundToInt(this.element.width()))}var fo=e.offset();var fp=tab.DoubleUtil.roundToInt(this.element.outerWidth());var fq=this.getMaxHeight();var fr=tab.DoubleUtil.roundToInt(e.outerHeight());fo=this.$8(fn,fr,fo,fp,fq);this.element.offset(fo)}))},$8:function(e,fm,fn,fo,fp){var fq=tab.DoubleUtil.roundToInt(fn.left);var fr=tab.DoubleUtil.roundToInt(fn.top);var fs=e.getDocumentViewport({x:fq,y:fr});var ft=fs.l+fs.w;var fu=fs.t+fs.h;if(fr+fm-1+fp<=fu){fr+=fm-1;fq=bG.$1(fq,fo,fs.l,ft)}else if(fr-(fp-1)>fs.t){this.useMaxHeight();fr-=fp-1;fq=bG.$1(fq,fo,fs.l,ft)}else if(fq-(fo-1)>fs.l){fq-=fo-1;fr=bG.$1(fr,fp,fs.t,fu)}else{var fv=fq;fq=fs.l;fq=bG.$1(fq,fo,fs.l,fv);fr=bG.$1(fr,fp,fs.t,fu)}return{left:fq,top:fr}},getMaxHeight:function(){var e=this.element.find('.tab-datepicker-month-table tbody tr');return tab.DoubleUtil.roundToInt(this.element.outerHeight())+Math.round(tab.DoubleUtil.roundToInt(e.outerHeight())*(6-e.length))},useMaxHeight:function(){if(!this.$F){this.$F=true;this.$l();this.element.height(tab.DoubleUtil.roundToInt(this.element.height()))}},$d:function(){var e=$('<div>').addClass('tab-datepicker-header');this.$x=$('<span>').addClass('tab-datepicker-header-text').appendTo(e);this.$A=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-prev-month-button').appendTo(e).click(ss.mkdel(this,this.$j));this.$z=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-next-month-button').appendTo(e).click(ss.mkdel(this,this.$i));return e},$c:function(){var e=$('<div>').addClass('tab-datepicker-footer');$('<span>').addClass('tab-datepicker-today-label').html(ss.formatString(this.$D,"<span class='tab-datepicker-today-date'></span>")).appendTo(e);this.$E=$('.tab-datepicker-today-date',e).click(ss.mkdel(this,this.$6));return e},$e:function(){this.$w=$('<table>').addClass('tab-datepicker-month-table');this.$w.on('click','.tab-datepicker-day-cell',ss.mkdel(this,this.$7));return this.$w},$7:function(e){var fm=$(e.target);if(!fm.hasClass('tab-disabled')){this.$h(fm)}},$h:function(e){this.$w.find('.tab-datepicker-day-cell-selected').removeClass('tab-datepicker-day-cell-selected');e.addClass('tab-datepicker-day-cell-selected');var fm=e.data();this.$B=new Date(fm['year'],fm['month'],fm['dayOfMonth']);var fn=new Date(Date.UTC(fm['year'],fm['month'],fm['dayOfMonth']));this.$k(fn)},$k:function(e){this.element.trigger('dateSelected',[e])},$j:function(e){if(this.$g()){if(this.$p.getMonth()===0){if(this.$p.getFullYear()>1){this.$p.setMonth(11);this.$p.setFullYear(this.$p.getFullYear()-1)}}else{this.$p.setMonth(this.$p.getMonth()-1)}this.$l()}},$i:function(e){if(this.$f()){if(this.$p.getMonth()===11){this.$p.setMonth(0);this.$p.setFullYear(this.$p.getFullYear()+1)}else{this.$p.setMonth(this.$p.getMonth()+1)}this.$l()}},$g:function(){return ss.isNullOrUndefined(this.$v)||this.$p>this.$v},$f:function(){return ss.isNullOrUndefined(this.$t)||this.$p<this.$t},$6:function(e){var fm=bG.$3(new Date);if(!this.$9(fm)){this.$k(fm)}},$l:function(){this.$n();this.$o();this.$m();this.element.prop('unselectable','on');this.element.find('*').prop('unselectable','on');this.element.trigger('calendarUpdated')},$n:function(){this.$x.text(this.$y(bG.$3(this.$p)));this.$A.toggleClass('tab-disabled',!this.$g());this.$z.toggleClass('tab-disabled',!this.$f())},$m:function(){this.$E.text(this.$r(bG.$3(new Date)));this.$E.toggleClass('tab-disabled',this.$a(bG.$4(new Date)))},$b:function(e){return $('<td>').addClass('tab-datepicker-day-cell').text(e.getDate().toString()).data(ss.mkdict(['year',e.getFullYear(),'month',e.getMonth(),'dayOfMonth',e.getDate()])).toggleClass('tab-datepicker-day-cell-today',bG.$5(e,new Date)).toggleClass('tab-datepicker-day-cell-selected',!!this.$B&&bG.$5(e,this.$B)).toggleClass('tab-datepicker-day-cell-othermonth',e.getMonth()!==this.$p.getMonth()).toggleClass('tab-disabled',this.$9(e))},$9:function(e){return ss.isValue(this.$u)&&e<this.$u||ss.isValue(this.$s)&&e>this.$s},$a:function(e){return ss.isValue(this.$v)&&e<this.$v||ss.isValue(this.$t)&&e>this.$t},$o:function(){var e=(new Date(this.$p.getFullYear(),this.$p.getMonth(),1)).getDay();var fm;var fn,fo;var fp,fq,fr;this.$w.html('');fp=$('<thead>').appendTo(this.$w);fr=$('<tr>').appendTo(fp);fm=this.$q;do{$('<th>').addClass('tab-datepicker-header-cell').text(this.$C[fm]).appendTo(fr);fm=bG.$0(fm,1)}while(fm!==this.$q);fq=$('<tbody>').appendTo(this.$w);fr=$('<tr>').appendTo(fq);fn=new Date(this.$p.getFullYear(),this.$p.getMonth(),1);fn.setDate(fn.getDate()-bG.$0(e,-this.$q));fo=new Date(this.$p.getFullYear(),this.$p.getMonth()+1,1);fo.setDate(fo.getDate()+bG.$0(this.$q,-fo.getDay()));while(!bG.$5(fn,fo)){this.$b(fn).appendTo(fr);fn.setDate(fn.getDate()+1);if(fn.getDay()===this.$q&&!bG.$5(fn,fo)){fr=$('<tr>').appendTo(fq)}}if(this.$F){var fs=fq.find('tr');if(fs.length<6){var ft=tab.DoubleUtil.roundToInt(fs.height());for(var fu=fs.length;fu<6;++fu){$("<tr><td class='tab-datepicker-day-cell'></td></tr>").height(ft).insertAfter(fs.last())}}}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bH,a,{});ss.initClass(bI,a,{});ss.initClass(bJ,a,{render:function(){return(this.props.isShown?this.$0():null)},$0:function(){return React.createElement(SharedWidgets.DialogWidget,this.props.dialogProps)}},React.Component);ss.initClass(bK,a,{$6:function(){var e={onCloseRequest:ss.mkdel(this,this.hide),handleGlassClick:ss.mkdel(this,this.$5)};if(ss.isValue(this.$7)){$.extend(e,this.$7.get_props())}return e},dispose:function(){if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide))}spiff.BaseViewModel.prototype.dispose.call(this)},show:function(e){if(ss.isNullOrUndefined(e)){return}if(this.$8&&ss.isValue(this.$7)){this.$7.onDialogHidden()}spiff.GlobalUIEvents.fireDismissTemporaryElements();this.$8=true;this.$7=e;this.$7.add_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.add_propsUpdated(ss.mkdel(this,this.incrementProps));this.incrementProps()},hide:function(){if(!this.$8){return}if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.remove_propsUpdated(ss.mkdel(this,this.incrementProps));this.$7.onDialogHidden();this.$7=null}this.$8=false;this.incrementProps()},createUpdatedProps:function(){return{isShown:this.$8,dialogProps:this.$6()}},$5:function(){if(tsConfig.is_mobile){this.hide()}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initInterface(cP,a,{attach:null,detach:null,disposeTooltip:null,shownTooltipIsSticky:null,isHoverAllowed:null,shouldShowCommandButtons:null,handleUbertipMenuToggle:null,handleUbertipMenuClose:null,hoverOverObject:null,hoverOverWhitespace:null,multiSelectComplete:null,singleSelectComplete:null,selectionMoved:null,repositionWithinRegion:null,onPanningOrDragging:null,onScroll:null,mouseDown:null});ss.initClass(bL,a,{attach:function(){},detach:function(){},dispose:function(){},disposeTooltip:function(){},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,fm,fn,fo){},hoverOverWhitespace:function(e){},multiSelectComplete:function(e){},singleSelectComplete:function(e){},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){},onScroll:function(){},mouseDown:function(e,fm){}},null,[cP,ss.IDisposable]);ss.initClass(bM,a,{handleWidgetPropertyChanged:function(e,fm){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bQ,bO,Object]));ss.initClass(bN,a,{show:function(){var e=document.createElement('div');this.$2=function(){_.defer(function(){ReactDOM.unmountComponentAtNode(e)})};var fm={testId:'FileDownload-Dlg',isModal:true,title:this.$4,showCloseButton:false,type:0,positioningBehavior:0,onCloseRequest:ss.mkdel(this,this.dispose),shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,children:this.$3,zIndex:1000};var fn=this.$1(ss.mkdel(this,this.dispose));fm.footerContent=fn;fm.showFooter=true;var fo=React.createElement(SharedWidgets.DialogWidget,fm);ReactDOM.render(fo,e)},dispose:function(){this.$2()},$1:function(e){var fm=bN.$0(e);var fn=this.$0(e);var fo=[];fo.push(fm);fo.push(fn);var fp=fo;var fq=spiff.DOMElements.div({style:{display:'flex',alignItems:'center',justifyContent:'flex-end',height:'100%'},children:fp});return fq},$0:function(e){var fm=spiff.DOMElements.a({href:this.$5,target:this.$6,className:'tabDownloadFileButton',style:{textDecoration:'none',wordBreak:'keep-all'},onClick:function(fo){e()},'data-test-id':'DownloadLink'},tab.Strings.DialogButtonDownload);var fn=spiff.DOMElements.div({className:spiff.ClickBuster.suppressClickBustingClass,key:'download-button-wrapper-key',style:{paddingLeft:SharedWidgets.TabStyles.Spacing.MediumSpace},children:fm});return fn}},null,[ss.IDisposable]);ss.initClass(bO,a,{});ss.initClass(bP,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bQ,a,{get_dom:function(){return this.get_template()},$f:function(){return(tsConfig.is_mobile?tab.Strings.ToolbarPublicDownloadLabelMobile:tab.Strings.ToolbarPublicDownloadLabelWeb)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();window.setTimeout(ss.mkdel(this,function(){var e=this.$h.get_menu().menuItems;for(var fm=0;fm<e.length;fm++){var fn=e[fm];if(fn.enabled){this.$h.set_focusedItem(fn);break}}}),0)},$9:function(){this.get_dom().downloadArea.find('.tabDisabled .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDownloadExplanation);if(!this.$i.get_exportCrosstabEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadCrosstab .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledCrosstabDownloadExplanation)}if(!this.$i.get_exportDataEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadData .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDataDownloadExplanation)}if(!this.$i.get_downloadWorkbookEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadWorkbook .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledWorkbookDownloadExplanation)}},$b:function(){var e=[];if(this.$i.get_shouldShowImage()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportImage,ss.mkdel(this.$i,this.$i.exportImage),'tabDownloadImage'))}var fm=(this.$i.get_exportDataEnabled()?ss.mkdel(this.$i,this.$i.exportData):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportData,fm,'tabDownloadData'));var fn=(this.$i.get_exportCrosstabEnabled()?ss.mkdel(this.$i,this.$i.exportCrosstab):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportCrosstab,fn,'tabDownloadCrosstab'));if(this.$i.get_shouldShowPdf()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarPrintToPdf,ss.mkdel(this.$i,this.$i.exportPdf),'tabDownloadPdf'))}if(this.$i.get_shouldShowDownloadWorkbook()){var fo=(this.$i.get_downloadWorkbookEnabled()?ss.mkdel(this.$i,this.$i.downloadWorkbook):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarWorkbook,fo,'tabDownloadWorkbook'))}if(this.$j&&eI.$0()){e.push(spiff.MenuItem.newActionItemWithItemClass(this.$f(),ss.mkdel(this,this.$e),'tabPublicApp'))}if(eI.get_toolbarIsBottom()){e.reverse()}return e},$d:function(){if(eI.$0()){return new spiff.UnificationDarkMenuTheme}else{return new spiff.UnificationLightMenuTheme}},$e:function(){window.open(this.$i.get_downloadAppUrl())},$c:function(){this.get_dom().explanationTitle.append(tab.Strings.ToolbarPublicExplanationTitle);this.get_dom().explanationBody.append(tab.Strings.ToolbarPublicExplanationText);var e='<span class=tabWindowsLogo />';var fm='<span class=tabAppleLogo />';this.get_dom().availablePlatforms.append(tab.Strings.ToolbarPublicAvailablePlatforms(e,fm));var fn=spiff.LabelButton.newTextButton();fn.set_label(this.$f());fn.add_click(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fn.remove_click(ss.mkdel(this,this.$e))})));this.get_dom().downloadAppButton.append(fn.element)},$a:function(){var e=new spiff.Menu(this.$b());this.$h=spiff.MenuViewModel.createForMenu(e,null,this.$d(),null,true);this.$h.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked)})));this.$g=tab.ObjectRegistry.newView(spiff.MenuView).call(null,[this.$h]);this.get_dom().menuArea.append(this.$g.element);if(!this.$j&&eI.$0()){this.$c()}}},ss.makeGenericType(spiff.BaseView$1,[bR]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bR])]);ss.initClass(bR,a,{add_downloadInitiated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_downloadInitiated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hideDialogRequested:function(e){this.add_downloadInitiated(e)},remove_hideDialogRequested:function(e){this.remove_downloadInitiated(e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return bQ},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarDownload;var fm=!tsConfig.is_mobile;var fn=new bO;fn.viewModel=this;return{title:e,testId:'download',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldAdjustPositionOnWindowResize:fm,shouldRecenterOnUpdate:true,children:React.createElement(bM,fn)}},get_shouldShowDownloadWorkbook:function(){return!tsConfig.is_mobile},get_downloadWorkbookEnabled:function(){return!tsConfig.is_mobile&&(!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view)},get_downloadAppUrl:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return'http://public.tableau.com/s/download?source=viz_toolbar&ref='+e.split('?')[0]},get_shouldShowPdf:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('print')},get_shouldShowImage:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportimage')},get_exportDataEnabled:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportdata')},get_exportCrosstabEnabled:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportcrosstab')},disposeViewModel:function(){this.dispose()},downloadWorkbook:function(){tab.ToolbarServerCommands.downloadWorkbook();this.$2()},exportImage:function(){var e=new cc;e.setSheetScrollPositions(E.get_instance().get_client().get_viewControllers());tab.ToolbarServerCommands.exportImage(e);this.$2()},exportData:function(){tab.ToolbarServerCommands.exportData();this.$2()},exportCrosstab:function(){tab.ToolbarServerCommands.exportCrosstab();this.$2()},exportPdf:function(){tab.ToolbarServerCommands.exportPdf(new cc);this.$2()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(bS,a,{show:function(){spiff.Dialog.prototype.show.call(this);this.showInternal()},showInternal:null},spiff.ModalDialog,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bT,a,{showInternal:function(){this.get_body().append(this.$P)}},bS,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bU,a,{showInternal:function(){var e=$('<iframe />');e.attr('src',this.urlToLoadDialogContent);e.attr('tb-test-id',this.$P);this.get_body().append(e)}},bS,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bV,a,{add_handled:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_handled:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},show:function(){this.parentNode=document.createElement('div');var e={key:'EditConnectionInformationDialog',content:tab.Strings.EditConnectionInformationDialogText(this.$2.datasourceCaption),showDetailsLabel:tab.Strings.ShowDetailsLabel,hideDetailsLabel:tab.Strings.HideDetailsLabel,detailsContent:this.$2.exceptionMessage,title:tab.Strings.EditConnectionInformationDialogTitle,contentSelectable:true,dialogWidth:500,dialogButtons:[],onDialogCloseRequested:ss.mkdel(this,this.$0)};e.dialogButtons.push({buttonClickHandler:ss.mkdel(this,this.$1),buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});e.dialogButtons.push({buttonClickHandler:ss.mkdel(this,this.$0),buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var fm=React.createElement(ec,e);ReactDOM.render(fm,this.parentNode)},$1:function(){if(!ss.staticEquals(this.$2$1,null)&&!this.$3){this.$2$1(true);this.$3=true;tab.VizClientCommands.setUIMode('data-tab','ReconnectEditConnection','')}},$0:function(){if(!ss.staticEquals(this.$2$1,null)&&!this.$3){this.$2$1(false);this.$3=true}this.dispose()}},O,[ss.IDisposable]);ss.initClass(bW,a,{});ss.initClass(bX,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bY,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bZ,a,{},ss.makeGenericType(spiff.BaseView$1,[ca]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ca])]);ss.initClass(ca,a,{onChildrenAdded:function(){this.dispose()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(cb,a,{});ss.initClass(cc,a,{get_sheetScrollPositions:function(){return this.$0},setSheetScrollPositions:function(e){this.$0={};for(var fm=0;fm<e.length;fm++){var fn=e[fm];this.$0[fn.get_sheetName()]=fn.get_viewWidget().get_scrollPosition()}},triggerExportPdfUI:function(){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(function(e){if(tab.FeatureFlags.isEnabled('NewPdfDialog')){e.showExportPdfDialog(tab.CommandController.get().get_legacySession())}else{var fm=e.createSpiffPdfExportDialog(tab.CommandController.get().get_legacySession(),tsConfig.is_mobile);fm.add_closed(function(){fm.dispose();fm=null});fm.show()}})}},null,[tab.IExportImageHelper,tab.IExportPdfHelper]);ss.initClass(cd,a,{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},get_iFrame:function(){return this.get_container().find('#'+this.$1).get(0)},setSrc:function(e){this.get_frame().prop('src',e)}},spiff.Template,[ss.IDisposable]);ss.initClass(ce,a,{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}},spiff.Template,[ss.IDisposable]);ss.initClass(cf,a,{get_zoneViewModel:function(){return this.get_viewModel().get_zoneViewModel()},get_domRoot:function(){return this.get_template().domRoot},$f:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$b()},$d:function(e,fm){if(fm.get_propertyName()==='isActiveZone'){this.$e()}},$b:function(){if(this.get_viewModel().get_isEmpty()){var e=new bX;this.$f().updateContentTemplate(e);return}var fm=this.get_viewModel().get_url();var fn=this.$9();this.$g.then(ss.mkdel(this,function(fo){var fp=fo.createApiDispatcher(this.get_viewModel().get_extensionInstanceInfo());this.$f().updateContentTemplate(fn);this.$h.setSrc(fm);fp.setExtensionFrame(this.$h.get_iFrame());this.$e()}),ss.mkdel(this,function(fo){}));this.$e()},$9:function(){if(ss.isNullOrUndefined(this.$h)){this.$h=new cd('extension_frame_'+this.get_zoneViewModel().get_zoneId())}tab.DomUtil.resize(this.$h.get_frame()[0],{l:0,t:0,w:this.get_zoneViewModel().get_contentWidth(),h:this.get_zoneViewModel().get_contentHeight()});return this.$h},$a:function(){this.$j.setActive()},$e:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$i)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$i=e;this.$i.add_click(ss.mkdel(this,this.$a));this.disposables.add$1(this.$i)}if(this.$j.get_isActiveZone()){this.$i.hide()}else{this.$i.show()}},$c:function(){this.$b()}},ss.makeGenericType(spiff.BaseView$1,[cg]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cg])]);ss.initClass(cg,a,{add_extensionZoneUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_extensionZoneUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneViewModel:function(){return this.$4},get_extensionInstanceInfo:function(){return this.$3.pm.addInInstancePresModel},get_isEmpty:function(){return this.get_extensionInstanceInfo().isEmpty},get_url:function(){return(this.get_isEmpty()?null:this.get_extensionInstanceInfo().addInRegistrationPresModel.url)},handleExtensionZoneUpdated:function(){this.$2()},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dV,a,{render:function(){return spiff.DOMElements.div({className:'tab-reconnect-sheetWidget'},spiff.DOMElements.div({className:'tab-reconnect-sheetWidget-title'},tab.Strings.SheetReconnectTitle),spiff.DOMElements.div({className:'tab-reconnect-sheetWidget-subtitle'},tab.Strings.SheetReconnectSubtitle(this.props.dataSourceCaption)),((tab.MiscUtil.shouldShowDataTab()&&tsConfig.is_authoring)?ss.mkdel(this,this.createEditConnectionButton)():null),(this.$0()?ss.mkdel(this,function(){return React.createElement(SharedWidgets.ButtonWidget,this.createPrimaryButtonProps())})():null))},$0:function(){if(ss.contains(tab.ConnectionClass.get_getSupportedFileClasses(),this.props.connectionClass)){return this.props.connectionErrorStage==='create-protocol-failed'}if(ss.contains(tab.ConnectionClass.get_getSupportedDatabaseClasses(),this.props.connectionClass)){return tab.DeferredConnectionsCommandHandler.isBadPasswordError(this.props.errorType)}return false},createEditConnectionButton:function(){return React.createElement(SharedWidgets.ButtonWidget,this.createEditConnectionButtonProps())},createEditConnectionButtonProps:function(){var e=ss.mkdel(this,function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(fm){fm.showEditConnectionDialog(this.props.connectionName,null,null)}))});return{handleClick:function(fm){e()},buttonType:3,testId:'SheetReconnectEditConnection',label:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'30px'}}},createPrimaryButtonProps:function(){var e=ss.mkdel(this,function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(fm){fm.showSignInDialog(this.props.connectionAttributes,this.props.connectionDisplayAttributes,this.props.dataSourceCaption,this.props.connectionName,this.props.connectionTypeLabel,this.props.onCredentialsAdded,null)}))});return{handleClick:function(fm){e()},buttonType:1,testId:'SheetReconnectSignIn',label:tab.Strings.SheetReconnectSignInLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'auto'}}}},spiff.PureRenderComponent);ss.initClass(ch,a,{createEditConnectionButtonProps:function(){var e=function(){tab.VizClientCommands.setUIMode('data-tab','FileReconnect','')};return{handleClick:function(fm){e()},buttonType:3,testId:'SheetReconnectEditConnection',label:tab.Strings.SheetReconnectEditConnectionLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'auto',marginRight:'auto'}}},createPrimaryButtonProps:function(){var e=null;e=ss.mkdel(this,function(){tab.ModuleManager.load(tab.IConnectionDialogModule).call(null,[]).done(ss.mkdel(this,function(fm){fm.showReplaceFileDialog(this.props.connectionName,this.props.connectionClass).done(ss.mkdel(this,function(fn){if(fn&&!ss.staticEquals(this.props.onCredentialsAdded,null)){this.props.onCredentialsAdded(null)}})).fail(function(fn){e()})}))});return{handleClick:function(fm){e()},buttonType:1,testId:'FileReconnectLocateFile',label:tab.Strings.SheetReconnectLocateFileLabel,style:{marginTop:'18px',marginBottom:'auto',marginLeft:'30px',marginRight:'auto'}}}},dV);ss.initClass(ci,a,{});ss.initClass(cj,a,{});ss.initClass(ck,a,{});ss.initClass(cl,a,{},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(cm,a,{show:function(){this.$1.show()},cleanup:function(e){this.$1.closeAndDispose()},dispose:function(){this.$1.dispose()},$0:function(){if(!this.get_submitted()&&!ss.staticEquals(this.onCancel,null)){this.onCancel()}}},N,[ss.IDisposable]);ss.initClass(cn,a,{createOverlay:function(e){var fm=$('.dashboardSpacer');var fn=$("<div id='auth-overlay' tabindex='0'></div>");if(tab.FeatureFlags.isEnabled('DataToTheWeb')&&tsConfig.is_authoring&&tab.MiscUtil.shouldShowDataTab()){this.$0(fn)}else{var fo=ss.mkdel(this,function(){this.set_submitted(true);if(!ss.staticEquals(this.onProceed,null)){this.onProceed()}this.cleanup(e)});var fp=new cl(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,fo);fn.append(fp.element)}fm.append(fn)},$0:function(e){var fm=ss.mkdel(this,function(fo){if(!ss.staticEquals(this.onProceed,null)){this.onProceed()}});var fn={connectionAttributes:this.$1.exceptionAttrs,connectionClass:this.dataSourceConnectionAttemptErrorResponse.ConnectionClass,connectionErrorStage:this.$1.connectionErrorStage,connectionName:this.dataSourceConnectionAttemptErrorResponse.ConnectionName,errorType:this.dataSourceConnectionAttemptErrorResponse.ErrorType,dataSourceCaption:this.dataSourceConnectionAttemptErrorResponse.DataSourceCaption,onCredentialsAdded:fm};if(ss.contains(tab.ConnectionClass.get_getSupportedFileClasses(),this.dataSourceConnectionAttemptErrorResponse.ConnectionClass)){ReactDOM.render(React.createElement(ch,fn),e.get(0))}else{ReactDOM.render(React.createElement(dV,fn),e.get(0))}},show:function(){var e=new cb;var fm=ss.mkdel(this,function(){this.cleanup(e)});fj.add_zoneBecameValid(fm);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){fj.remove_zoneBecameValid(fm)});this.createOverlay(e)}},M,[ss.IDisposable]);ss.initClass(df,a,{dispose:function(){if(this.get_viewModel().get_visible()){this.$b=true;this.get_viewModel().hide();return}this.notificationViewModel.remove_shown(ss.mkdel(this,this.shown));this.notificationViewModel.remove_hidden(ss.mkdel(this,this.hidden));ss.makeGenericType(spiff.BaseView$1,[dg]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,fm){this.updateContent()},updateContent:function(){this.messageDom.text(this.notificationViewModel.get_message())},hidden:function(){this.element.fadeOut('slow',ss.mkdel(this,this.$a))},shown:function(){this.element.css('display','none');this.element.appendTo($('body'));this.element.fadeIn('fast');this.updateContent();if(this.adjustMargin){this.element.css('margin-left','-'+this.element.outerWidth(true)/2+'px')}},$a:function(){if(this.$b){this.dispose()}else{this.element.detach()}},$9:function(e){this.get_viewModel().hide()}},ss.makeGenericType(spiff.BaseView$1,[dg]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dg])]);ss.initClass(co,a,{},df,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dg])]);ss.initInterface(cG,a,{get_keyCombos:null,get_element:null,get_shouldUseKeyUp:null,get_propagation:null,get_throttleTimeInMs:null,onValidKeyCombo:null,isAllowed:null,executeShortcut:null});ss.initClass(cR,a,{get_keyCombos:null,get_element:null,get_shouldUseKeyUp:function(){return false},get_propagation:function(){return 2},get_throttleTimeInMs:function(){return null},onValidKeyCombo:function(e){},isAllowed:null,executeShortcut:null,toString:function(){return this.get_element().attr('class')+'+'+this.get_element().attr('id')+this.get_keyCombos()+'+'+this.get_shouldUseKeyUp()}},null,[cG]);ss.initClass(cp,a,{get_element:function(){return $(document.body)},isAllowed:function(e){return cS.isGloballyAllowed(e)}},cR,[cG]);ss.initClass(cq,a,{get_keyCombos:function(){return cU.op_Implicit(new cT.$ctor1(112))},isAllowed:function(e){return tsConfig.is_authoring||tab.FeatureFlags.isEnabled('WebExperimentalKeyboardShortcuts')},executeShortcut:function(e){window.open(cq.$0)}},cp,[cG]);ss.initClass(cr,a,{});ss.initEnum(cs,a,{rectangle:0,circle:1,line:2,polygon:3});ss.initClass(cO,a,{$1:null},spiff.Template,[ss.IDisposable]);ss.initClass(ct,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollLeft');this.nextButton.addClass('tabCatLegendScrollRight')}},cO,[ss.IDisposable]);ss.initClass(cu,a,{$1:function(){return this.domRoot.find('.message')},$2:function(){return this.domRoot.find('.path')}},spiff.Template,[ss.IDisposable]);ss.initClass(cv,a,{$2:function(){return this.domRoot.find('.message')},$1:function(){return this.domRoot.find('a')}},spiff.Template,[ss.IDisposable]);ss.initInterface(cx,a,{},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[D])]);ss.initInterface(cB,a,{get_filterType:null},[ss.IDisposable]);ss.initInterface(cC,a,{get_dashboardViewModel:null,get_flipboardModel:null});ss.initInterface(cD,a,{add_fontsReady:null,remove_fontsReady:null,add_fontDownloading:null,remove_fontDownloading:null,reset:null,addFonts:null,downloadFonts:null,finishDownloadingFonts:null});ss.initClass(cE,a,{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},setSrc:function(e,fm){if(!ss.referenceEquals(this.get_frame().prop('original_url'),fm)){this.get_frame().prop('src',e);this.get_frame().prop('original_url',fm)}}},spiff.Template,[ss.IDisposable]);ss.initInterface(cF,a,{get_type:null});ss.initClass(cH,a,{});ss.initClass(cI,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cJ,a,{get_domRoot:function(){return this.get_template().domRoot},get_image:function(){return this.$j},$h:function(){return this.get_viewModel()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}this.handleNewImageZone()},handleNewImageZone:function(){this.createImageZoneView()},createImageZoneView:function(){var e=ss.mkdict(['position','absolute','overflow','hidden','top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);this.$j=this.$b()},$b:function(){var e=$('<img>');var fm=ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$j)){window.setTimeout(ss.mkdel(this,function(){this.$i=e.get(0);this.$f()}),1)}else{this.$i=e.get(0);this.$f()}e.off('load')});e.on('load',fm);var fn=this.$h().get_imageUrl();if(!ss.isNullOrEmptyString(this.$h().get_imageZonePresModel().image)){fn='data:image/jpeg;base64,'+this.$h().get_imageZonePresModel().image}e.css('border','none').css('display','block').attr('src',fn);return e},$9:function(e){this.get_template().domRoot.empty();this.get_template().domRoot.append(e)},$d:function(){this.$f()},$f:function(){var e=this.$h().get_imageZonePresModel();if(e.isScaled){this.$e()}var fm=this.$g();this.$9(fm);if(e.isCentered){this.$a(fm)}return fm},$c:function(){var e=this.$h().get_zoneModel();var fm=this.$h().get_imageZonePresModel();var fn=eS.absolutizeURI(fm.url,false);var fo=e.get_zoneCommonModel().get_zoneType()==='bitmap'&&!tab.MiscUtil.isNullOrEmpty$3(fm.imageKey)&&!tab.MiscUtil.isNullOrEmpty$3(fn);if(fo){return $('<a/>').attr('href',fn).attr('target','_blank').css(ss.mkdict(['position','absolute','outline','none']))}else{return $('<div/>')}},$g:function(){var e=this.get_image();var fm=this.$c();fm.append(e);return fm},$e:function(){var e=this.$h().get_zoneModel();var fm=this.$i['width'];var fn=this.$i['height'];if(tab.BrowserSupport.get_isIE()){fm=this.$i['naturalWidth'];fn=this.$i['naturalHeight']}var fo=0;var fp=0;var fq;if(fm/e.get_zoneCommonModel().get_contentWidth()>=fn/e.get_zoneCommonModel().get_contentHeight()){fq={width:e.get_zoneCommonModel().get_contentWidth()+'px',height:'auto'};fo=e.get_zoneCommonModel().get_contentWidth();fp=ss.Int32.trunc(e.get_zoneCommonModel().get_contentWidth()/fm*fn)}else{fq={height:e.get_zoneCommonModel().get_contentHeight()+'px',width:'auto'};fp=e.get_zoneCommonModel().get_contentHeight();fo=ss.Int32.trunc(e.get_zoneCommonModel().get_contentHeight()/fn*fm)}if(tab.BrowserSupport.get_isIE()){var fr=window.screen['deviceXDPI'];var fs=window.screen['systemXDPI'];var ft=fr/fs>1;if(!ft&&fo>0&&fp>0&&fo/fm<0.75&&fm<500&&fn<500){var fu=this.$j.get(0).getAttribute('src');var fv=cH.scaleImage(this.$i,fo,fp,ss.Int32.trunc(fm),ss.Int32.trunc(fn));this.$j=$(fv);this.$j.get(0).setAttribute('src',fu);fq=ss.mkdict(['width',fo+'px','height',fp+'px'])}else{this.$j=$(this.$i)}}this.$j.css(fq)},$a:function(e){var fm=this.$h().get_zoneModel();var fn=ss.Int32.div(fm.get_zoneCommonModel().get_contentHeight()-tab.DoubleUtil.roundToInt(this.get_image().height()),2);var fo=ss.Int32.div(fm.get_zoneCommonModel().get_contentWidth()-tab.DoubleUtil.roundToInt(this.get_image().width()),2);e.css(ss.mkdict(['position','absolute','top',fn.toString()+'px','left',fo.toString()+'px']))}},ss.makeGenericType(spiff.BaseView$1,[cK]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cK])]);ss.initClass(cK,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$2.get_zoneModel()},get_imageZonePresModel:function(){return this.$2.pm},get_imageUrl:function(){var e=tab.CommandController.get().get_legacySession();var fm=e.formatDashboardTempfileReference(this.get_imageZonePresModel().imageKey,true,false);return fm},handleNewImageZone:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initInterface(cL,a,{get_location:null,set_location:null});ss.initInterface(cM,a,{instantiate:null,instantiateFromDomain:null,layout:null,destroy:null,setNewState:null,updateReadout:null});ss.initClass(cN,a,{get_domRoot:function(){return this.$c.domRoot},get_scrollIncrement:function(){return this.$b},set_scrollIncrement:function(e){this.$b=e},$6:function(){return(this.$9?this.$a.scrollLeft():tab.DoubleUtil.roundToInt(this.$a.scrollTop()))},$7:function(e){if(this.$9){this.$a.scrollLeft(e)}else{this.$a.scrollTop(e)}},$5:function(){if(this.$9){return this.$a.children()[0].scrollWidth-tab.DoubleUtil.roundToInt(this.$a.width())}else{return this.$a.children()[0].scrollHeight-tab.DoubleUtil.roundToInt(this.$a.height())}},reset:function(){if(this.$9){this.$a.scrollLeft(0)}else{this.$a.scrollTop(0)}this.updateButtonState()},dispose:function(){this.$c.dispose();this.$8.dispose()},$3:function(e){this.$7(Math.max(0,this.$6()-this.$b));this.updateButtonState()},$2:function(e){this.$7(Math.min(this.$5(),this.$6()+this.$b));this.updateButtonState()},updateButtonState:function(){this.$4(this.$c.prevButton,this.$1());this.$4(this.$c.nextButton,this.$0())},$1:function(){return this.$6()>0},$0:function(){return this.$6()<this.$5()},$4:function(e,fm){e.toggleClass('tabIterButtonDisabled',!fm)}},null,[ss.IDisposable]);ss.initClass(cQ,a,{});ss.initClass(cS,a,{});ss.initClass(cT,a,{get_qualifiers:function(){return this.$1$1},set_qualifiers:function(e){this.$1$1=e},get_triggerKey:function(){return this.$1$2},set_triggerKey:function(e){this.$1$2=e},toString:function(){return String.fromCharCode(this.get_triggerKey())+this.get_qualifiers()}});cT.$ctor2.prototype=cT.$ctor3.prototype=cT.$ctor1.prototype=cT.prototype;ss.initClass(cU,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},hasValidCombo:function(e){var fm=e.which;return _.any(this.$0(),function(fn){return fm===fn.get_triggerKey()&&fn.get_qualifiers().hasValidQualifiers(e)})},toString:function(){return this.$0().toString()}});ss.initClass(cV,a,{$1:function(){if(tab.BrowserSupport.get_isMac()){this.command=true}else{this.control=true}if(tab.BrowserSupport.get_isWindows()){this.winControl=true}},hasValidQualifiers:function(e){return this.alt===e.altKey&&this.command===cV.$0(e)&&this.control===e.ctrlKey&&this.controlOrCommand===this.$0(e)&&this.macControl===cV.$1(e)&&this.shift===e.shiftKey&&this.winControl===cV.$2(e)&&this.windows===cV.$3(e)},$0:function(e){if(!this.controlOrCommand&&(this.winControl||this.macControl)){return false}return(tab.BrowserSupport.get_isMac()?e.metaKey:e.ctrlKey)},toString:function(){return this.alt.toString()+this.command+this.control+this.controlOrCommand+this.macControl+this.shift+this.winControl+this.windows}});ss.initClass(cW,a,{render:function(){var e=((this.props.marginOfError>0.1)?this.props.tooltipText:'');return spiff.DOMElements.div({className:'tab-MapScale',title:e,style:this.$2()},spiff.DOMElements.div({className:'tab-MapScaleOuterHalo',style:this.$0()}),spiff.DOMElements.div({className:'tab-MapScaleInnerHalo',style:this.$0()}),spiff.DOMElements.label({className:'tab-MapScaleReadout',style:this.$1()},this.props.readoutText))},$2:function(){var e=(this.props.shouldShowMapScale?'':'none');return{width:this.props.width+'px',color:this.props.readoutColor,borderColor:this.props.readoutColor,display:e}},$1:function(){var e='1px 1px 0 '+this.props.borderColor+', 1px -1px 0 '+this.props.borderColor+', -1px 1px 0 '+this.props.borderColor+', -1px -1px 0 '+this.props.borderColor;return{textShadow:e}},$0:function(){return{borderColor:this.props.borderColor}}},React.Component);ss.initClass(cX,a,{createUpdatedProps:function(){var e=this.$5;if(!e.get_hasPresModel()){return cX.$0}return{width:e.get_mapScaleWidth(),readoutText:e.get_mapScaleReadoutString(),readoutColor:e.get_mapScaleColor(),borderColor:e.get_mapScaleBorderColor(),shouldShowMapScale:e.get_shouldShowMapScale(),marginOfError:e.get_mapScaleMarginOfError(),tooltipText:e.get_mapScaleTooltipString()}},handleUpdatedMapScaleInfo:function(){this.incrementProps()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(cY,a,{});ss.initClass(cZ,a,{dispose:function(){$(document).off('.ModifierKeyState')},$0:function(e){cZ.fireModifierKeysChanged(e)}},null,[ss.IDisposable]);ss.initClass(da,a,{});ss.initClass(db,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var fm=0;fm<e.length;fm++){var fn=e[fm];var fo=ss.mkdict(['style',fn.get_style(),'weight',fn.get_weight()]);var fp=new FontFace(fn.get_fontFamily(),fn.get_source(),fo);if(ss.keyExists(this.$2,fn.get_hash())){continue}db.$0().add(fp);this.$2[fn.get_hash()]=fp}},downloadFonts:function(){var e=_.values(this.$2);for(var fm=0;fm<e.length;fm++){var fn=e[fm];if(fn.status==='unloaded'){this.$3.push(fn.load());this.$0()}}},finishDownloadingFonts:function(){if(this.$3.length>0){Promise.all(this.$3).then(ss.mkdel(this,this.$1))}else{this.$1()}},$1:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},null,[cD]);ss.initClass(dc,a,{});ss.initClass(dd,a,{});ss.initEnum(de,a,{localOnly:0,needRemote:1,needRemoteForViTOnly:2});ss.initClass(dg,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_message:function(){return this.$6},set_message:function(e){this.$6=e},get_visible:function(){return this.$7},get_autoHideTimeout:function(){return this.$4},set_autoHideTimeout:function(e){this.$4=e},get_displayPosition:function(){return this.$5},set_displayPosition:function(e){this.$5=e},show:function(){if(this.$7){return}this.$7=true;if(this.$4>0){this.$3=window.setTimeout(ss.mkdel(this,this.hide),this.$4)}this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){this.add_hidden(ss.mkdel(this,this.dispose));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))},hide:function(){if(this.$7===false){return}this.$7=false;window.clearTimeout(this.$3);this.raiseActionEvent(this.$2$2)},$2:function(e,fm){this.hide()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dh,a,{get_location:function(){return{x:ss.Int32.trunc(this.$7.x),y:ss.Int32.trunc(this.$7.y)}},set_location:function(e){this.$7={x:e.x,y:e.y};this.$6()},clone:function(){return new dh(this.$8.get(0),this.element.attr('src'))},show:function(e){this.$7=e;this.$6()},hide:function(){this.element.detach()},$6:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$8[0])){this.$8.append(this.element)}if(ss.isNullOrUndefined(this.$7)){return}var e=this.$7.y;var fm=this.$7.x;this.element.css(ss.mkdict(['top',e+'px','left',fm+'px']))}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cL]);ss.initClass(di,a,{buildItem:function(e){var fm=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeGroup)){fm.push('active')}return spiff.DOMElements.div({className:fm.join(' '),style:{whiteSpace:'nowrap'},title:e.name},e.name)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){return{tap:ss.mkdel(this,function(fm){this.props.onGroupSelected(e.data)})}},onScrollStop:function(e,fm){if(e.y===fm.y){this.props.fetchNextPage()}},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(dj,a,{buildItem:function(e){var fm=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeUser)){fm.push('active')}return spiff.DOMElements.div({className:fm.join(' '),style:{whiteSpace:'nowrap'},title:e.friendlyName},e.friendlyName)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){return{tap:ss.mkdel(this,function(fm){this.props.onUserSelected(e.data)})}},onScrollStop:function(e,fm){if(e.y===fm.y){this.props.fetchNextPage()}},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(dk,a,{},ss.makeGenericType(spiff.BaseView$1,[dl]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dl])]);ss.initClass(dl,a,{activate:function(){if(!ss.staticEquals(this.$2,null)){this.$2()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initEnum(dm,a,{neverStopPropagation:0,onValidKeyComboStopPropagation:1,onValidAndAllowedKeyComboStopPropagation:2});ss.initClass(dn,a,{handleWidgetPropertyChanged:function(e,fm){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dr,dp,Object]));ss.initClass(dp,a,{});ss.initClass(dq,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dr,a,{get_dom:function(){return this.get_template()},$d:function(){this.get_dom().moreAboutPublicSection.empty();this.get_dom().viewAndAuthorInfoSection.empty();this.$b();if(this.$e.get_shouldShowViewCount()){this.$c();if(this.$e.get_shouldShowAuthorByLine()){this.$a()}}if(this.$e.get_shouldShowAuthorByLine()){this.$9()}},$b:function(){this.get_dom().moreAboutPublicSection.attr('href',this.$e.get_publicLogoLink());this.get_dom().moreAboutPublicSection.text(tab.Strings.ToolbarLearnMoreAboutTableau)},$c:function(){var e=$('<span>').text(tab.Strings.ToolbarViewCount(this.$e.get_localizedViewCount()));this.get_dom().viewAndAuthorInfoSection.append(e)},$a:function(){var e=$('<span>');e.addClass('tab-belowPublicDivider');e.text('|');this.get_dom().viewAndAuthorInfoSection.append(e)},$9:function(){var e=$('<span>').html(this.$e.get_authorProfileLink());this.get_dom().viewAndAuthorInfoSection.append(e)},onAddedToDom:function(){this.$d();spiff.Widget.prototype.onAddedToDom.call(this)}},ss.makeGenericType(spiff.BaseView$1,[ds]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ds])]);ss.initClass(ds,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return dr},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarMoreInfo;var fm=new dp;fm.viewModel=this;return{title:e,testId:'public-info',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,dialogWidth:260,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(dn,fm)}},get_shouldShowAuthorByLine:function(){return eI.$0()&&tsConfig.show_byline},get_shouldShowViewCount:function(){return eI.$0()&&tsConfig.showViewCount&&eI.publicViewCount>tsConfig.viewCountThreshold},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var fm=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tableau.format.escapeHTML(fm),tableau.format.escapeHTML(tab.Strings.ToolbarMoreByAuthor))},get_localizedViewCount:function(){var e=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;var fm=e[2];var fn=e[8];var fo=e[9];return tableau.format.formatIntAuto(eI.publicViewCount,fm,fn,fo)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(dv,a,{});ss.initClass(dw,a,{render:function(){var e=['tab-legacy-dropdown-container','tab-legacy-qf-bordered'].join(' ');var fm={borderColor:this.props.borderColor};return spiff.DOMElements.div({className:e,style:fm},spiff.DOMElements.div({className:'tab-legacy-dropdown-summary'},this.props.children),(!this.props.hideIcon?ss.mkdel(this,this.renderIcon)():null))},renderIcon:function(){var e={borderColor:this.props.borderColor};return spiff.DOMElements.div({className:'tab-legacy-dropdown-icon-container',style:e},spiff.DOMElements.div({className:'tab-legacy-dropdown-icon'}))}},spiff.PureRenderComponent);ss.initClass(dx,a,{render:function(){var e=['tab-legacy-qf-readout-container','tab-legacy-qf-bordered'].join(' ');var fm={borderColor:this.props.borderColor};return spiff.DOMElements.div({className:e,style:fm},this.$1(),(!this.props.hideIcon?ss.mkdel(this,this.$0)():null))},$1:function(){var e=(ss.isNullOrEmptyString(this.props.text)?' ':this.props.text);var fm=['tab-legacy-qf-readout-text',this.props.textClass].join(' ');return spiff.DOMElements.div({className:fm},e)},$0:function(){var e=['tab-legacy-qf-readout-icon',this.props.iconClass].join(' ');return spiff.DOMElements.div({className:e})}},spiff.PureRenderComponent);ss.initClass(dy,a,{render:function(){var e={tap:ss.mkdel(this,function(fo){this.props.removeRecipientByIndex(this.props.recipientIndex)})};var fm=spiff.EventForwarder.span(e,{className:'tabUserPillRemove'},['×']);var fn=spiff.DOMElements.span({className:'tabUserPillName'},this.props.recipientName);return spiff.DOMElements.div(this.$0(),fn,fm)},$0:function(){var e='tabUserPill';if(!this.props.valid){e+=' error'}return{className:e,title:(this.props.valid?this.props.recipientName:this.props.errorText)}}},React.Component);ss.initClass(dz,a,{render:function(){var e=null;if(this.props.isUsers){e=_.map(this.props.users,ss.mkdel(this,function(fn,fo){return React.createElement(dy,{removeRecipientByIndex:this.props.removeRecipientByIndex,recipientIndex:fo,recipientName:fn.friendlyName,valid:ss.staticEquals(this.props.userValidator,null)||this.props.userValidator(fn),errorText:this.props.invalidItemText,key:fn.id})}))}else{e=_.map(this.props.groups,ss.mkdel(this,function(fn,fo){return React.createElement(dy,{removeRecipientByIndex:this.props.removeRecipientByIndex,recipientIndex:fo,recipientName:fn.name,valid:true,errorText:this.props.invalidItemText,key:fn.id})}))}var fm=React.createElement(SharedWidgets.OutlineTextFieldWidget,{text:this.props.searchText,handleChange:this.props.newSearch,maxLength:50,containerStyle:{minWidth:'25px',maxWidth:'100px'},inputStyle:{border:'0px'},inputRef:function(fn){if(ss.isValue(fn)){fn.focus()}},key:'input-search',testId:'subscriber-search-input'});e.push(fm);return spiff.DOMElements.div({className:'tabUserPillsComponent',onKeyDown:this.props.handleInputKeyDown,style:{overflowY:'auto'}},e)}},React.Component);ss.initClass(dA,a,{add_disposed:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_disposed:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_propertyChanged:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_propertyChanged:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},createNewDefaultState:function(){return{activeItemIndex:0,moreRecipients:false,firstVisibleIndex:0,users:[],groups:[],activeUser:null,activeGroup:null}},dispose:function(){if(ss.isValue(this.$3$1)){this.$3$1(this);this.$3$1=null}this.$3$2=null;this.disposables.dispose();this.$8.dispose()},notifyPropertyChanged:function(e){if(!ss.staticEquals(this.$3$2,null)){this.$3$2(this,new tab.PropertyChangedEventArgs(e))}},$4:function(e){this.$3()},$2:function(e){this.$3()},$3:function(){var e=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(e)){e.value=null}this.setState(this.createNewDefaultState());this.props.emptySearch(true)},handleInputKeyUp:function(e){var fm=e.keyCode;if(fm===40||fm===38||fm===13){return}this.$a=e.target.value;this.$8.invokeActionDelayed();if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){this.searchGroups()}else{this.searchUsers()}},handleInputKeyDown:function(e){var fm=this.state.activeItemIndex;switch(e.keyCode){case 40:{this.state.activeItemIndex=this.$5(1);if(fm!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 38:{this.state.activeItemIndex=this.$5(-1);if(fm!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 13:{if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){var fn=this.state.groups[this.state.activeItemIndex];if(ss.isValue(fn)){this.props.onGroupSelected(fn.data);this.$2(fn.data)}}else{var fo=this.state.users[this.state.activeItemIndex];if(ss.isValue(fo)){this.props.onUserSelected(fo.data);this.$4(fo.data)}}e.preventDefault();break}}},updateActiveRecipient:function(e){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){var fm=this.state.groups[e];if(ss.isNullOrUndefined(fm)||ss.referenceEquals(this.state.activeGroup,fm.data)){this.setState(this.state);return}this.state.activeGroup=fm.data}else{var fn=this.state.users[e];if(ss.isNullOrUndefined(fn)||ss.referenceEquals(this.state.activeUser,fn.data)){this.setState(this.state);return}this.state.activeUser=fn.data}if(ss.Nullable$1.lt(e,this.state.firstVisibleIndex)){this.state.firstVisibleIndex=ss.Nullable$1.sub(this.state.firstVisibleIndex,1)}else if(ss.Nullable$1.ge(e,ss.Nullable$1.add(this.state.firstVisibleIndex,6))){this.state.firstVisibleIndex=ss.Nullable$1.add(this.state.firstVisibleIndex,1)}this.setState(this.state)},$5:function(e){var fm=this.state.activeItemIndex+e;var fn=((tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers)?this.state.groups.length:this.state.users.length);if(fm<0||fm>=fn){return this.state.activeItemIndex}return fm},resultsAvailable:function(){this.$9=false},checkCurrentSearchHasNoResults:function(){var e=this.searchFieldIsEmpty();var fm=((tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers)?this.state.groups.length:this.state.users.length);this.props.noResults(fm===0&&!e&&!this.$9)},searchFieldIsEmpty:function(){var e=ss.isNullOrEmptyString(ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']).value);this.props.emptySearch(e);return e},searchUsers:function(){var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$a,0);e.done(ss.mkdel(this,function(fm){this.state.users=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$1(fm)}))},searchMoreUsers:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$a,this.state.users.length);e.done(ss.mkdel(this,this.$1))},$1:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(fm){return this.state.users.push({data:fm})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();this.checkCurrentSearchHasNoResults()},searchGroups:function(){var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$a,0);e.done(ss.mkdel(this,function(fm){this.state.groups=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$0(fm)}))},searchMoreGroups:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$a,this.state.groups.length);e.done(ss.mkdel(this,this.$0))},$0:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(fm){return this.state.groups.push({data:fm})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();this.checkCurrentSearchHasNoResults()},render:function(){return spiff.DOMElements.div({className:'tabUserSearchComponent'},this.$7(),this.$6())},$7:function(){return spiff.DOMElements.input({type:'text',className:'tabUserSearchInput',placeholder:this.props.placeholderMessage,onKeyUp:ss.mkdel(this,this.handleInputKeyUp),onKeyDown:ss.mkdel(this,this.handleInputKeyDown),tabIndex:0,autoFocus:true,ref:'tabUserSearchInputRef'})},$6:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){return React.createElement(di,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onGroupSelected:ss.delegateCombine(this.props.onGroupSelected,ss.mkdel(this,this.$2)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.groups,activeGroup:this.state.activeGroup})}else{return React.createElement(dj,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onUserSelected:ss.delegateCombine(this.props.onUserSelected,ss.mkdel(this,this.$4)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.users,activeUser:this.state.activeUser})}}},React.Component,[ss.IDisposable]);ss.initClass(dB,a,{createNewDefaultState:function(){this.$b='';return{activeItemIndex:0,moreRecipients:false,firstVisibleIndex:0,users:[],groups:[],activeUser:null,activeGroup:null,searchText:''}},$4:function(e){this.$3()},$2:function(e){this.$3()},$3:function(){if(!this.props.isBulkSubscribe){var e=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(e)){e.value=null}}this.setState(this.createNewDefaultState());this.props.emptySearch(true)},newSearch:function(e){this.setState(function(fm,fn){return{searchText:e}});this.$b=e;if(this.props.isUsers){this.searchUsers()}else{this.searchGroups()}},handleInputKeyUp:function(e){var fm=e.keyCode;if(fm===40||fm===38||fm===13||fm===27){return}this.$b=e.target.value;if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){this.searchGroups()}else{this.searchUsers()}},handleInputKeyDown:function(e){var fm=this.state.activeItemIndex;switch(e.keyCode){case 40:{this.state.activeItemIndex=this.$5(1);if(fm!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 38:{this.state.activeItemIndex=this.$5(-1);if(fm!==this.state.activeItemIndex){this.updateActiveRecipient(this.state.activeItemIndex)}e.preventDefault();break}case 13:{if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){var fn=this.state.groups[this.state.activeItemIndex];if(ss.isValue(fn)){this.props.addGroup(fn.data);this.$2(fn.data)}}else{var fo=this.state.users[this.state.activeItemIndex];if(ss.isValue(fo)){this.props.addUser(fo.data);this.$4(fo.data)}}e.preventDefault();break}}},updateActiveRecipient:function(e){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){var fm=this.state.groups[e];if(ss.isNullOrUndefined(fm)||ss.referenceEquals(this.state.activeGroup,fm.data)){this.setState(this.state);return}this.state.activeGroup=fm.data}else{var fn=this.state.users[e];if(ss.isNullOrUndefined(fn)||ss.referenceEquals(this.state.activeUser,fn.data)){this.setState(this.state);return}this.state.activeUser=fn.data}if(ss.Nullable$1.lt(e,this.state.firstVisibleIndex)){this.state.firstVisibleIndex=ss.Nullable$1.sub(this.state.firstVisibleIndex,1)}else if(ss.Nullable$1.ge(e,ss.Nullable$1.add(this.state.firstVisibleIndex,this.numberOfRowsInViewport))){this.state.firstVisibleIndex=ss.Nullable$1.add(this.state.firstVisibleIndex,1)}this.setState(this.state)},$5:function(e){var fm=this.state.activeItemIndex+e;var fn=((tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers)?this.state.groups.length:this.state.users.length);if(fm<0||fm>=fn){return this.state.activeItemIndex}return fm},resultsAvailable:function(){this.$a=false},checkCurrentSearchHasNoResults:function(){var e=this.searchFieldIsEmpty();var fm=((tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers)?this.state.groups.length:this.state.users.length);this.props.noResults(fm===0&&!e&&!this.$a)},searchFieldIsEmpty:function(){var e=ss.isNullOrEmptyString(ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']).value);this.props.emptySearch(e);return e},searchUsers:function(){var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$b,0);this.$a=true;e.done(ss.mkdel(this,function(fm){this.state.users=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$1(fm)}))},searchMoreUsers:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.$b,this.state.users.length);e.done(ss.mkdel(this,this.$1))},$1:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(fm){return this.state.users.push({data:fm})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();if(!this.props.isBulkSubscribe){this.checkCurrentSearchHasNoResults()}},searchGroups:function(){var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$b,0);this.$a=true;e.done(ss.mkdel(this,function(fm){this.state.groups=[];this.state.firstVisibleIndex=0;this.state.activeItemIndex=0;this.$0(fm)}))},searchMoreGroups:function(){if(!this.state.moreRecipients){return}var e=tab.WorkgroupServerCommands.fetchPageOfGroups(this.$b,this.state.groups.length);e.done(ss.mkdel(this,this.$0))},$0:function(e){this.state.moreRecipients=e.moreItems;_.map(e.items,ss.mkdel(this,function(fm){return this.state.groups.push({data:fm})}));this.updateActiveRecipient(this.state.activeItemIndex);this.resultsAvailable();if(!this.props.isBulkSubscribe){this.checkCurrentSearchHasNoResults()}},render:function(){return spiff.DOMElements.div({className:'tab-UserSearchSelectorComponent'},this.$7(),this.$8())},$7:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&this.props.isBulkSubscribe){return React.createElement(dz,{groups:this.props.groups,users:this.props.users,isUsers:this.props.isUsers,removeRecipientByIndex:this.props.removeRecipientByIndex,userValidator:this.props.userValidator,invalidItemText:this.props.errorMessage,searchText:this.state.searchText,handleInputKeyDown:ss.mkdel(this,this.handleInputKeyDown),newSearch:ss.mkdel(this,this.newSearch)})}else{return React.createElement(eU,{users:this.props.users,addUser:this.props.addUser,removeUser:this.props.removeUser,userValidator:this.props.userValidator,userInvalidText:this.props.errorMessage})}},$8:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&this.props.isBulkSubscribe){var e=spiff.DOMElements.div({className:((this.state.users.length!==0||this.state.groups.length!==0)?'has-items':'')},this.$6());return spiff.DOMElements.div({className:'results-area'},e)}else{return this.renderRecipientSearch()}},renderRecipientSearch:function(){return spiff.DOMElements.div({className:'tabUserSearchComponent'},this.$9(),this.$6())},$9:function(){return spiff.DOMElements.input({type:'text',className:'tabUserSearchInput',placeholder:this.props.placeholderMessage,onKeyUp:ss.mkdel(this,this.handleInputKeyUp),onKeyDown:ss.mkdel(this,this.handleInputKeyDown),tabIndex:0,autoFocus:true,ref:'tabUserSearchInputRef'})},$6:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')&&!this.props.isUsers){return React.createElement(di,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onGroupSelected:ss.delegateCombine(this.props.addGroup,ss.mkdel(this,this.$2)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.groups,activeGroup:this.state.activeGroup})}else{return React.createElement(dj,{startingY:ss.Nullable$1.mul(this.state.firstVisibleIndex,26),onUserSelected:ss.delegateCombine(this.props.addUser,ss.mkdel(this,this.$4)),fetchNextPage:ss.mkdel(this,this.searchMoreUsers),items:this.state.users,activeUser:this.state.activeUser})}}},React.Component);ss.initClass(dC,a,{get_type:function(){return 0},get_geom:function(){return this.$0}},null,[cF]);ss.initClass(eR,a,{isAllowed:function(e){return cp.prototype.isAllowed.call(this,e)&&!eR.get_isUndoingOrRedoing()},executeShortcut$1:function(e){eR.set_isUndoingOrRedoing(true);e();eR.set_isUndoingOrRedoing(false)}},cp,[cG]);ss.initClass(dD,a,{get_keyCombos:function(){var e=new cT.$ctor2(new cV(false,false,false,true,false,false,false,false),89);var fm=new cV(false,false,false,true,false,true,false,false);var fn=new cT.$ctor2(fm,90);var fo=new cV(true,false,false,false,false,true,false,false);var fp=new cT.$ctor3(fo,8);return new cU(e,[fn,fp])},executeShortcut:function(e){this.executeShortcut$1(ss.mkdel(this,function(){tab.WorksheetServerCommands.redo$1(eR.undoRedoSuccess,eR.undoRedoFailure)}))}},eR,[cG]);ss.initClass(dE,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){this.$2()},addFonts:function(e){for(var fm=0;fm<e.length;fm++){var fn=e[fm];if(!ss.keyExists(this.$b,fn.woffLocation)){var fo=this.$1(fn);this.$b[fn.woffLocation]=new h(fo)}var fp=this.$b[fn.woffLocation];if(!_.contains(fp.$2,fn)&&!_.contains(fp.$1,fn)){this.$b[fn.woffLocation].$2.push(fn)}}},downloadFonts:function(){this.updateMeasurementDivs()},finishDownloadingFonts:function(){this.updateMeasurementDivs();this.$7()},updateMeasurementDivs:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=dE.$0('tab-baselineFontMeasurer',["'Courier New', Monaco, monospace"]);this.$8.appendTo(document.body)}if(ss.isNullOrUndefined(this.$a)){this.$a=$('<canvas/>').css(dE.$4).appendTo(document.body)[0];this.$9=this.$a.getContext('2d')}var e=_.values(this.$b);for(var fm=0;fm<e.length;fm++){var fn=e[fm];if(ss.isValue(fn.$3)&&!ss.referenceEquals(fn.$3[0].parentElement,document.body)){fn.$3.appendTo(document.body)}}},updateFontState:function(){var e=_.values(this.$b);for(var fm=0;fm<e.length;fm++){var fn=e[fm];if(ss.isNullOrUndefined(fn.$3)){continue}this.$9.font='100% '+fn.$0;var fo=tab.DoubleUtil.roundToInt(this.$9.measureText('The quick brown fox jumps over the lazy dog iiilllest').width);if(!dE.$3(fn.$3,this.$8)&&fo===tab.DoubleUtil.roundToInt(fn.$3.width())){fn.$3=null}else{this.$4()}}},isDownloadingDone:function(){var e=_.values(this.$b);for(var fm=0;fm<e.length;fm++){var fn=e[fm];if(ss.isValue(fn.$3)){return false}}return true},$1:function(e){var fm="'"+e.woffLocation.substr(e.woffLocation.lastIndexOf('/')+1)+"'";var fn=new tab.DownloadableFontProperties;fn.set_fontFamily(fm);fn.woffLocation=e.woffLocation;var fo=fn;tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',fo.toCSSRules());var fp=dE.$0('tab-hiddenFontMeasurer',[fo.get_fontFamily(),"'Courier New', Monaco, monospace"]);return fp},$7:function(){this.$2();var e=this.$3();if(e){return}this.$c=window.setInterval(ss.mkdel(this,function(){this.$3()}),100)},$3:function(){this.$d++;this.updateFontState();var e=this.isDownloadingDone();if(e||this.$d>1200){this.$2();this.$6();if(e){this.$0()}return true}return false},$2:function(){window.clearInterval(this.$c);this.$c=0;this.$d=0},$6:function(){if(ss.isValue(this.$8)){this.$8.remove();this.$8=null}if(ss.isValue(this.$a)){this.$9=null;this.$a.parentNode.removeChild(this.$a);this.$a=null}$('body > .tab-hiddenFontMeasurer').remove()},$4:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$5:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){var e=_.values(this.$b);for(var fm=0;fm<e.length;fm++){var fn=e[fm];while(fn.$2.length>0){var fo=fn.$2.pop();fn.$1.push(fo);tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',fo.toCSSRules())}}this.$5()}},null,[cD]);ss.initClass(dF,a,{});ss.initClass(dG,a,{},ss.makeGenericType(tab.WebBaseCmd$2,[Object,dH]));ss.initClass(dH,a,{});ss.initClass(dI,a,{get_isEnabled:function(){return true},do$1:function(){var e=this.c['urlRoot'].toString();var fm=E.get_commonDialogProvider();var fn=new tab.DefaultSessionErrorHandler(fm,e);fn.requestSetIgnore();fn.reloadPage(false)}},dG);ss.initClass(dJ,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dK,a,{get_dom:function(){return this.get_template()},$b:function(){this.$d();this.$c()},$9:function(){this.$a();this.$c()},$f:function(){this.$d();this.$c()},$e:function(){this.$c()},$c:function(){if(tsConfig.is_authoring){this.get_dom().drawerContainer.css({position:'absolute',top:this.$h.get_drawerTopOffset()+'px',right:this.$h.get_drawerRightOffset()+'px',width:this.$h.get_drawerWidth()+'px',bottom:this.$h.get_drawerBottomOffset()+'px'})}else if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.get_dom().drawerContainer.css({'flex-grow':'0','flex-shrink':'0','flex-basis':this.get_viewModel().get_drawerWidth()+'px',order:'2',position:'relative'})}else{this.get_dom().drawerContainer.css({position:'absolute',top:this.$h.get_drawerTopOffset()+'px',right:this.$h.get_drawerRightOffset()+'px',width:this.$h.get_drawerWidth()+'px',height:this.$h.get_drawerHeight()+'px',visibility:'visible'})}},$d:function(){this.$a();if(ss.isValue(this.$h.get_content())){this.$g=tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.$h.get_content().get_viewType(),[this.$h.get_content().get_viewModel()]);this.$g.addToDom(this.get_dom().drawerContainer)}},$a:function(){tab.MiscUtil.dispose$1(this.$g)}},ss.makeGenericType(spiff.BaseView$1,[dL]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dL])]);ss.initClass(dL,a,{add_open:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_open:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_close:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_close:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_refresh:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_refresh:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_update:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_update:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_content:function(){return this.$4},set_content:function(e){this.$4=e;this.$2()},get_drawerWidth:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_rightAreaDrawerWidth()},get_drawerHeight:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?H.calculateDashboardViewportBounds().h:(H.getClientBounds().h+this.$3()))},get_drawerTopOffset:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?H.calculateDashboardViewportBounds().t:(H.getClientBounds().t-this.$3()))},get_drawerRightOffset:function(){return 0},get_drawerBottomOffset:function(){return(tsConfig.is_authoring?tabBootstrap.VizLayoutConstants.get_authoringTabsHeight():0)},$3:function(){var e=0;if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()&&ss.isValue(E.get_instance().get_tabbedNavigation())){e=E.get_instance().get_tabHeight()}return e},get_isOpen:function(){return this.$2$5},set_isOpen:function(e){this.$2$5=e},toggle:function(){if(this.get_isOpen()){this.closeDrawer()}else{this.openDrawer()}},openDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(dL.drawerWidthOpen);this.raiseActionEvent(this.$2$1);this.set_isOpen(true)},closeDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(dL.drawerWidthClosed);this.raiseActionEvent(this.$2$2);this.set_isOpen(false)},refreshDrawer:function(){if(this.get_isOpen()){this.raiseActionEvent(this.$2$3)}},$2:function(){if(this.get_isOpen()){this.raiseActionEvent(this.$2$4)}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dM,a,{});ss.initEnum(dN,a,{dragEnd:0,markTap:1,other:2});ss.initClass(dO,a,{add_fontPreparationComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontPreparationComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_fontsLoadedPromise:function(){return this.$4},initialize:function(e){this.$5.reset();this.$8=false;this.$4=$.Deferred();if(e){this.$3=bc.get_instance().hold(1)}},registerServerLoadedFonts:function(e){for(var fm=0;fm<e.length;fm++){var fn=e[fm];var fo=fn.get_hash();if(!ss.keyExists(this.$6,fo)){this.$6[fo]=fn}}},notifyDownloadableFont:function(e){if(this.$8){return}var fm=[];for(var fn=0;fn<e.length;fn++){var fo=e[fn];var fp=fo.get_hash();if(ss.keyExists(this.$6,fp)){fm.push(this.$6[fp])}}if(ss.isValue(fm)&&fm.length>0){this.$5.addFonts(fm)}},downloadFonts:function(){var e=tabBootstrap.MetricsController.createContext('DownloadFonts',128,null);try{this.$5.downloadFonts()}finally{if(ss.isValue(e)){e.dispose()}}},allFontsFound:function(){this.$8=true;this.$5.finishDownloadingFonts()},$0:function(){this.$7=true},$1:function(){ci.logFontsLoaded();if(this.$7){this.$2();this.$7=false}if(ss.isValue(this.$3)){this.$3.dispose()}this.$4.resolve()},$2:function(){tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){tab.WindowHelper.setTimeout(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}),200)}))}});ss.initClass(dP,a,{handleWidgetPropertyChanged:function(e,fm){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dT,dQ,Object]));ss.initClass(dQ,a,{});ss.initClass(dR,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dS,a,{add_originalViewSelected:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_originalViewSelected:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},createUpdatedProps:function(){return{selectedToggle:this.$6,leftToggleText:tab.Strings.ToolbarCurrentView,rightToggleText:tab.Strings.ToolbarOriginalView,handleLeftToggleSelected:ss.mkdel(this,function(){this.$5(false)}),handleRightToggleSelected:ss.mkdel(this,function(){this.$5(true)}),testId:'ShareToggleButton',ariaLabel:tab.Strings.ShareViewOptions}},$5:function(e){this.$6=(e?1:0);this.incrementProps();this.raiseActionEvent$1(Boolean).call(this,this.$3$1,e)}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(dT,a,{get_dom:function(){return this.get_template()},$a:function(){var e=$("\n            <div class='tab-shareLinkSection'>\n                <label>\n                    <span class='tab-shareLinkTitle tab-shareTitle'/>\n                    <span class='tab-shareLinkInput'/>\n                </label>\n                <div class='tab-shareLinkButtons'/>\n            </div>");var fm=$("\n            <div class='tab-shareEmbedSection'>\n                <label>\n                    <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                    <span class='tab-shareEmbedInput'/>\n                </label>\n            </div>");if(this.$j.get_allowSharingDifferentViews()){if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection'>\n            </div>"))}else{this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection ff-AccessibilityViewingToolbarOff'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>"))}this.get_dom().shareStateArea=this.get_dom().getElementBySelector('.tab-shareViewStateSection');if(!tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.get_dom().shareCurrentView=this.get_dom().getElementBySelector('.tab-shareCurrentView');this.get_dom().shareOriginalView=this.get_dom().getElementBySelector('.tab-shareOriginalView')}}this.get_dom().shareArea.append(fm);this.get_dom().shareArea.append(e);this.get_dom().shareLinkSection=this.get_dom().getElementBySelector('.tab-shareLinkSection');this.get_dom().shareLinkTitle=this.get_dom().getElementBySelector('.tab-shareLinkTitle');this.get_dom().shareLinkButtons=this.get_dom().getElementBySelector('.tab-shareLinkButtons');this.get_dom().shareLinkInput=this.$c().get_inputElement();this.get_dom().getElementBySelector('.tab-shareLinkInput').replaceWith(this.get_dom().shareLinkInput);this.get_dom().shareEmbedTitle=this.get_dom().getElementBySelector('.tab-shareEmbedTitle');this.get_dom().shareEmbedInput=this.$c().get_inputElement();this.get_dom().getElementBySelector('.tab-shareEmbedInput').replaceWith(this.get_dom().shareEmbedInput);if(!tsConfig.is_mobile){this.get_dom().shareLinkInput.click(ss.mkdel(this,function(fs){this.get_dom().shareLinkInput.focus();this.get_dom().shareLinkInput.select()}));this.get_dom().shareEmbedInput.click(ss.mkdel(this,function(fs){this.get_dom().shareEmbedInput.focus();this.get_dom().shareEmbedInput.select()}))}this.get_dom().shareLinkButtons.empty();if(this.$j.get_shouldShowSocialShareOptions()){var fn=new spiff.IconButton;fn.addClass('tab-shareIconButton');fn.addClass('tab-shareSocialMail');this.$9(fn.element,tab.Strings.ShareDialogEmailLink);fn.setIcon('tab-shareMailIcon');fn.onClick(ss.mkdel(this,function(fs){this.$j.doSendEmailAction()}));this.get_dom().shareLinkButtons.append(fn.element);var fo=new spiff.IconButton;fo.addClass('tab-shareIconButton');fo.addClass('tab-shareSocialTwitter');this.$9(fo.element,tab.Strings.ShareDialogTwitterLink);fo.onClick(ss.mkdel(this,function(fs){this.$j.doTwitterShareAction()}));this.get_dom().shareLinkButtons.append(fo.element);var fp=new spiff.IconButton;fp.addClass('tab-shareIconButton');fp.addClass('tab-shareSocialFacebook');this.$9(fp.element,tab.Strings.ShareDialogFacebookLink);fp.onClick(ss.mkdel(this,function(fs){this.$j.doFacebookShareAction()}));this.get_dom().shareLinkButtons.append(fp.element)}else if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){var fq=$('<span/>').appendTo(this.get_dom().shareLinkButtons);this.$h=this.$b();ReactDOM.render(this.$h,fq.get(0))}else{var fr=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this.$j,this.$j.doSendEmailAction),tab.Strings.ShareDialogEmailLink,null,0,null);this.get_dom().shareLinkButtons.append(fr.element)}},$9:function(e,fm){if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){e.attr('tabindex','0');e.attr('title',fm)}},$b:function(){var e=React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fn){this.$j.doSendEmailAction()}),buttonType:5,testId:'EmailButton',label:tab.Strings.ShareDialogEmailLink});var fm=React.createElement(SharedWidgets.InlineBlock,{children:e});return fm},$f:function(){this.get_dom().shareLinkTitle.html(this.$j.get_linkLabel());this.get_dom().shareEmbedTitle.html(this.$j.get_embedLabel());if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){if(this.$j.get_allowSharingDifferentViews()){this.$l=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[dS,SharedWidgets.ToggleTextWidget,Object])).call(null,[this.$j.shareToggleButtonViewModel]);this.$l.addToDom(this.get_dom().shareStateArea)}this.$j.set_shouldShareOriginalView(false)}else{this.$d()}this.$g()},$d:function(){if(!this.$j.get_allowSharingDifferentViews()){return}var e;var fm;if(this.$i){var fn=$("<input type='radio' name='state' checked>"+this.$j.get_currentViewLabel()+'</input>');this.get_dom().shareCurrentView.append(fn);this.get_dom().shareCurrentView.addClass('narrow');var fo=$("<input type='radio' name='state'>"+this.$j.get_originalViewLabel()+'</input>');this.get_dom().shareOriginalView.append(fo);this.get_dom().shareOriginalView.addClass('narrow');this.get_dom().shareStateArea.height(tab.DoubleUtil.roundToInt(this.get_dom().shareStateArea.height())+15);e=new spiff.ToggleButton(fn);fm=new spiff.ToggleButton(fo);this.get_dom().shareStateArea.addClass('narrow')}else{this.get_dom().shareCurrentView.html(this.$j.get_currentViewLabel());this.get_dom().shareOriginalView.html(this.$j.get_originalViewLabel());e=new spiff.ToggleButton(this.get_dom().shareCurrentView);fm=new spiff.ToggleButton(this.get_dom().shareOriginalView)}var fp=new spiff.SelectableGroup;fp.addItem(e);fp.addItem(fm);fp.selectItem(e);this.$j.set_shouldShareOriginalView(false);fm.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fm.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.disposables.add$1(fp)},$e:function(e,fm){if(fm.get_propertyName()==='selected'){this.$j.set_shouldShareOriginalView(e.get_selected());this.$g()}},$g:function(){var e=this.$j.generateShareBaseUrl();if(ss.isNullOrEmptyString(e)){this.get_dom().shareLinkSection.hide()}else{var fm=this.$j.generateShareUrl();this.get_dom().shareLinkInput.val(fm);this.get_dom().shareLinkSection.show()}this.$j.generateEmbedCode().always(ss.mkdel(this,function(fn){this.get_dom().shareEmbedInput.val(fn)}))},onAddedToDom:function(){this.$f();spiff.Widget.prototype.onAddedToDom.call(this)},$c:function(){var e=spiff.TextInputView.newTextInputView('','',null,!tsConfig.is_mobile);e.get_inputElement().addClass('tab-shareInput');return e}},ss.makeGenericType(spiff.BaseView$1,[dU]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dU])]);ss.initClass(dU,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},add_selectedViewChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_selectedViewChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_viewType:function(){return dT},get_viewModel:function(){return this},get_props:function(){var e=new dQ;e.viewModel=this;return{children:React.createElement(dP,e),dialogWidth:260,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:true,showFooter:false,testId:'share',title:tab.Strings.ToolbarShare,type:0}},get_allowSharingDifferentViews:function(){if(!eI.$0()||!tsConfig.statefulURL){return false}if(this.$a()){return true}return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_shouldShareOriginalView:function(){return this.$b},set_shouldShareOriginalView:function(e){this.$b=e},get_shouldShowSocialShareOptions:function(){return eI.$0()},get_linkLabel:function(){return tab.Strings.ToolbarSendTitle},get_embedLabel:function(){return tab.Strings.ToolbarEmbedTitle},get_currentViewLabel:function(){return tab.Strings.ToolbarCurrentView},get_originalViewLabel:function(){return tab.Strings.ToolbarOriginalView},$a:function(){return!tab.MiscUtil.isNullOrEmpty$3(tsConfig.guid)},disposeViewModel:function(){this.dispose()},saveSharedView:function(){if(!this.get_allowSharingDifferentViews()){return}tab.XhrUtil.guid=null;if(tsConfig.statefulURL){var e=this.$6();if(e==='null'||ss.isNullOrUndefined(e)){e=''}tab.CommandController.get().get_legacySession().saveSharedView('',e,function(){})}},$9:function(e){this.set_shouldShareOriginalView(e);this.raiseActionEvent(this.$2$1)},generateShareUrl:function(){var e=this.generateShareBaseUrl();e=dU.$3(e,tsConfig.toolbarvis,tsConfig.toolbarvisDefault,'toolbar');e=dU.$3(e,tabBootstrap.VizLayoutConstants.get_shouldShowTabs(),tsConfig.showTabsDefault,'tabs');e=dU.$3(e,eI.$0()&&tsConfig.showViewCount,tsConfig.showViewCountDefault,'display_count');e=dU.$3(e,false,false,'size');e=dU.$3(e,false,false,'commentingEnabled');e=dU.$3(e,false,false,'isVizPortal');e=dU.$3(e,tab.MiscUtil.sanatizeBoolean(tsConfig.showVizHome),true,'showVizHome');return e},generateShareBaseUrl:function(){var e=tsConfig.requestURI;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()){var fm=tab.XhrUtil.guid;var fn=window.location;var fo=(tsConfig.forceHttpsForPublicEmbed?'https:':fn.protocol);var fp=fo+'//'+fn.hostname+dU.currentViewPath;if(!tab.MiscUtil.isNullOrEmpty$3(fm)){e=fp+fm}else if(!tab.MiscUtil.isNullOrEmpty$3(tsConfig.guid)){e=fp+tsConfig.guid}}return e},generateApiBasedEmbedCode:function(){var e=tab.VizUriModel.createForCurrentWindowLocation();var fm=tableau.util.parseUri(e.get_absoluteUri());var fn=dU.$6(fm);var fo=this.$3(this.$7());var fp=tableau.format.escapeHTML(dU.$4());var fq;var fr=tab.ModelUtils.findContentDashboard();if(fr.get_isDashboard()&&fr.get_deviceLayouts().length>0){fq=dU.$0()}else{var fs=tab.DashboardClientCommands.getCurrentSheetSizeConstraints().pipe(function(ft){return dU.$1(ft,0.75)},function(ft){return''});fq=fs}return fq.pipe(ss.mkdel(this,function(ft){return this.$2(fn,fo,fp,ft)}),function(ft){return''})},$3:function(e){var fm='';if(!tab.MiscUtil.isNullOrEmpty$3(e)){var fn=tableau.format.escapeHTML;var fo=ss.coalesce(this.$6(),'#');fm="<noscript><a href='"+fn(fo)+"'>"+"<img alt='"+fn(tsConfig.embeddedTitle)+" ' src='"+fn(e)+"' style='border: none' /></a></noscript>"}return fm},$2:function(e,fm,fn,fo){var fp="\n                <script type='text/javascript'>\n                    var divElement = document.getElementById('{0}');\n                    var vizElement = divElement.getElementsByTagName('object')[0];\n                    {1}\n                    var scriptElement = document.createElement('script');\n                    scriptElement.src = '{2}';\n                    vizElement.parentNode.insertBefore(scriptElement, vizElement);\n                </script>";var fq=ss.formatString(fp,fn,fo,e);var fr=window.location;var fs=this.$8(fr,this.$7(),'');var ft=ss.formatString("<div class='tableauPlaceholder' id='{0}' style='position: relative'>{1}{2}</div>",fn,fm,fs);return ft+fq},generateEmbedCode:function(){if(tab.FeatureFlags.isEnabled('APIBasedEmbedCode')){return this.generateApiBasedEmbedCode()}var e=$.Deferred();var fm=window.location;var fn=tableau.format.escapeHTML;var fo=this.$6();var fp=tsConfig.embeddedTitle;var fq=this.$7();var fr=this.$4();var fs=dU.$8(fm);var ft="width='"+fr.w+"' height='"+fr.h+"'";var fu=this.$8(fm,fq,ft);var fv=ss.coalesce(fo,'#');var fw='';if(!tab.MiscUtil.isNullOrEmpty$3(fq)){fw="<noscript><a href='"+fn(fv)+"'>"+"<img alt='"+fn(fp)+" ' src='"+fn(fq)+"' style='border: none' /></a></noscript>"}var fx=ss.formatString("<div class='tableauPlaceholder' style='width: {0}px; height: {1}px;'>{2}{3}</div>",fr.w,fr.h,fw,fu);var fy=fs+fx;return e.resolve(fy).promise()},$8:function(e,fm,fn){var fo=tabBootstrap.ViewerBootstrap.get_instance().location.search;var fp=tsConfig.repositoryUrl;var fq=tsConfig.site_root;var fr=tableau.format.escapeHTML;var fs="<object class='tableauViz' "+fn+" style='display:none;'>";var ft=ss.arrayClone(dU.$d);ft.push('embed');ft.push('show_tabs');ft.push('loadOrderID');var fu=(tsConfig.forceHttpsForPublicEmbed?'https:':e.protocol);fs+="<param name='host_url' value='"+fr(encodeURIComponent(fu+'//'+e.host+'/'))+"' /> ";ft.push('host_url');fs+="<param name='embed_code_version' value='"+this.embedCodeVersion+"' /> ";ft.push('embed_code_version');if(!this.get_allowSharingDifferentViews()){fs+="<param name='site_root' value='"+fr(fq)+"' />";fs+="<param name='name' value='"+fr(fp)+"' />";ft.push('site_root');ft.push('name');fs+="<param name='tabs' value='"+(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?'yes':'no')+"' />";ft.push('tabs')}else{var fv=this.generateShareBaseUrl();fs+="<param name='path' value='"+fr(ss.replaceAllString(fv,fu+'//'+e.hostname+'/',''))+"' /> ";ft.push('path')}fs+="<param name='toolbar' value='"+(tsConfig.toolbarvis?'yes':'no')+"' />";ft.push('toolbar');if(eI.$0()){if(!tab.MiscUtil.isNullOrEmpty$3(fm)){var fw=ss.replaceAllString(fm,'_rss.png','.png');fs+="<param name='static_image' value='"+fr(fw)+"' /> "}fs+="<param name='animate_transition' value='yes' />";fs+="<param name='display_static_image' value='yes' />";fs+="<param name='display_spinner' value='yes' />";fs+="<param name='display_overlay' value='yes' />";fs+="<param name='display_count' value='yes' />";ft.push('animate_transition');ft.push('display_static_image');ft.push('display_spinner');ft.push('display_overlay');ft.push('display_count')}if(fo.length>0){var fx=fo.substr(1).split('&');for(var fy=0;fy<fx.length;fy++){var fz=fx[fy].match(new RegExp('^(:|%3A)([^=]+)=(.+)'));var fA;var fB;if(ss.isValue(fz)&&fz.length===4){fA=fz[2];fB=fz[3]}else{fA='filter';fB=fx[fy]}if(!tab.MiscUtil.isNullOrEmpty$3(fA)&&!ss.contains(ft,fA)){fs+="<param name='"+fr(fA)+"' value='"+fr(fB)+"' />"}}}fs+='</object>';return fs},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},doSendEmailAction:function(){ef.mailTo(this.generateShareUrl(),tsConfig.shareDescription)},doFacebookShareAction:function(){ef.facebookPopup(tsConfig.facebookAppID,this.generateShareUrl(),this.$5(),tsConfig.shareDescription,tsConfig.facebookDescription,dU.$7())},doTwitterShareAction:function(){ef.twitterPopup(this.generateShareUrl(),tsConfig.shareDescription)},$7:function(){var e=tab.XhrUtil.guid;var fm=tsConfig.staticImage;if(!ss.isValue(fm)){return''}if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var fn=fm.indexOf('/images/')+8;var fo=fm.substr(0,fn);fm=fo+e.substr(0,2)+'/'+e+'/1_rss.png'}if(tsConfig.forceHttpsForPublicEmbed&&!ss.startsWithString(fm,'https')){fm.replace('http','https')}return fm},$6:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$4:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().w;var fm=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().h;fm+=dU.$5();return{w:e,h:fm}},$5:function(){var e=tab.XhrUtil.guid;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var fm=this.$7();var fn=fm.split(String.fromCharCode(47));fn[fn.length-1]='thumb.png';var fo=fn.join('/');fo+='?vizqlid='+tab.CommandController.get().get_legacySession().get_id();return fo}return tsConfig.baseViewThumbLink}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IDialogContent]);ss.initClass(dW,a,{invoke:function(){return this.invoke$1(tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'show-detailed-error-confirmation-dialog'},this.c))}},ss.makeGenericType(tab.BaseCmd$2,[Object,dX]));ss.initClass(dX,a,{});ss.initClass(dY,a,{invoke:function(){return this.invoke$1(tab.CommandUtils.newCommand({ns:'tabdoc',cmd:'show-detailed-error-dialog'},this.c))}},ss.makeGenericType(tab.BaseCmd$2,[Object,dZ]));ss.initClass(dZ,a,{});ss.initClass(ea,a,{},ss.EventArgs);ss.initClass(eb,a,{},ea);ss.initClass(ec,a,{render:function(){var e=this.buildCommonDialogProps();var fm=React.createElement(SharedWidgets.DialogWidget,e);return fm},closeDialog:function(){_.defer(this.props.onDialogCloseRequested)},buildCommonDialogProps:function(){var e={testId:'Dialog-Provider',isModal:true,title:this.props.title,showCloseButton:true,type:0,positioningBehavior:0,dialogStyle:{maxWidth:600},dialogWidth:this.props.dialogWidth,onCloseRequest:ss.mkdel(this,function(){this.closeDialog()}),zIndex:1000};var fm=[];var fn=spiff.DOMElements.div({children:this.$2(this.props.content),className:spiff.Widget.selectableNodeClass});fm.push(fn);if(!ss.isNullOrEmptyString(this.props.detailsContent)){var fo={isExpanded:this.state.detailsAreExpanded,onExpand:ss.mkdel(this,function(){var ft=new ed;ft.detailsAreExpanded=true;this.setState(ft)}),onCollapse:ss.mkdel(this,function(){var ft=new ed;ft.detailsAreExpanded=false;this.setState(ft)}),direction:1,testId:'Dialog-Provider-Details'};var fp=(this.state.detailsAreExpanded?this.props.hideDetailsLabel:this.props.showDetailsLabel);fo.label=(ss.isValue(fp)?fp:'');var fq=React.createElement(SharedWidgets.ExpandoWidget,fo,[spiff.DOMElements.div({children:this.$2(this.props.detailsContent),className:spiff.Widget.selectableNodeClass})]);fm.push(fq)}if(ss.isValue(this.props.additionalLinks)){for(var fr=0;fr<this.props.additionalLinks.length;fr++){var fs=this.props.additionalLinks[fr];fm.push(spiff.DOMElements.p({},spiff.DOMElements.a({href:fs.url,target:'_blank',children:fs.displayText})))}}e.children=fm;this.$1(e);return e},$2:function(e){if(ss.isNullOrEmptyString(e)){return null}var fm='<br/>';e=ss.replaceAllString(e,'<br>',fm);e=ss.replaceAllString(e,'\n',fm);var fn=e.split(fm);var fo=[];var fp=ec.textArea.value();for(var fq=0;fq<fn.length;fq++){var fr=fn[fq];fp.innerHTML=fr;var fs=spiff.DOMElements.p({children:fp.textContent});fo.push(fs)}return fo},$1:function(e){var fm={buttons:[],testId:'DialogButtons'};if(ss.isValue(this.props.dialogButtons)){for(var fn=0;fn<this.props.dialogButtons.length;fn++){var fo=this.props.dialogButtons[fn];this.$0(fo,fm)}}if(fm.buttons.length>0){var fp=React.createElement(SharedWidgets.DialogFooterButtonsWidget,fm);e.footerContent=fp;e.showFooter=true}},$0:function(e,fm){var fn={handleClick:ss.mkdel(this,function(fo){if(!ss.staticEquals(e.buttonClickHandler,null)){e.buttonClickHandler()}this.closeDialog()}),buttonType:e.buttonType,testId:e.testId,label:e.buttonText};fm.buttons.push(fn)}},React.Component);ss.initClass(ed,a,{});ss.initClass(ee,a,{add_onMouseStop:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onMouseStop:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},attach:function(){this.$9.add_showed(ss.mkdel(this,this.$3));this.$9.add_closed(ss.mkdel(this,this.$2));this.$9.add_disposed(ss.mkdel(this,this.$4))},detach:function(){this.$5.dispose();if(ss.isValue(this.$9)){this.$9.remove_showed(ss.mkdel(this,this.$3));this.$9.remove_closed(ss.mkdel(this,this.$2));this.$9.remove_disposed(ss.mkdel(this,this.$4))}},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return false},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return false},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,fm,fn,fo){if(fn){this.$9.close()}else if(ss.isValue(fo)&&fo&&this.$9.get_isShown()){this.$9.move(e)}else{this.showTooltip(e)}},hoverOverWhitespace:function(e){if(this.$9.get_isShown()){this.$9.close()}},multiSelectComplete:function(e){this.showTooltip(e)},singleSelectComplete:function(e){this.showTooltip(e)},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){if(this.$9.get_isShown()){this.$9.close()}},onScroll:function(){if(this.$9.get_isShown()){this.$9.close()}},mouseDown:function(e,fm){},showTooltip:function(e){if(spiff.DragDropManager.get_isDragging()){return}if(this.$9.get_isShown()&&tab.PointUtil.equals(this.$9.get_location(),e)){return}this.$9.show(this.$9.get_body().children()[0],e)},$3:function(){this.$0();this.$1({x:this.$9.get_calculatedShownArgs().origX,y:this.$9.get_calculatedShownArgs().origY});this.$8=new Date},$2:function(){this.$9.element.off('.SmoothTooltipBehavior');this.$8=null;this.$0()},onMouseMove:function(e){var fm=$.fn.getTouchEvent(e);var fn=spiff.NormalizedEvent.create(fm,e.target,null);var fo=fn.touches[0];var fp=this.$9.get_lastLocation()||{x:0,y:0};var fq={x:fo.pageX,y:fo.pageY};this.$9.set_lastLocation(fq);this.$9.move(fq);var fr=tab.PointUtil.distance(fp,this.$9.get_lastLocation());if(fr>0){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$1(fq);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var fs=ss.Int32.trunc(tab.DomUtil.getPageOffset$1($(e.target)).left);var ft=ss.Int32.trunc(tab.DomUtil.getPageOffset$1($(e.target)).top);if(!ss.isValue(this.serverMarkBounds)||!tab.RectXYUtil.inRect(this.serverMarkBounds,{x:fo.pageX-fs,y:fo.pageY-ft})){this.$9.close()}}}},$1:function(e){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1$1)){this.$1$1(e)}}),this.$6)},$4:function(e,fm){this.dispose()},$0:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)}},null,[cP,ss.IDisposable]);ss.initClass(ef,a,{});ss.initClass(eg,a,{componentWillReceiveProps:function(e){if(ss.isValue(e.selfServiceSchedulesModule)&&ss.isNullOrUndefined(this.state.recurrenceModel)){this.setState({recurrenceModel:e.selfServiceSchedulesModule.get_defaultRecurrence()})}},handleIncludeSelection:function(e){this.setState(function(fm,fn){return _.extend({},fm,{includeValue:e})})},handleScheduleSelection:function(e){this.setState(function(fm,fn){return _.extend({},fm,{scheduleValue:e})})},$3:function(e){var fm=((e.length===0)?'':e[0].friendlyName);this.setState(ss.mkdel(this,function(fn,fo){return _.extend({},fn,{mode:0,users:e,usersText:this.$0(e.length,fm,tab.Strings.ToolbarSubscribeAddUsersPlaceholder)})}))},$1:function(e){var fm=((e.length===0)?'':e[0].name);this.setState(ss.mkdel(this,function(fn,fo){return _.extend({},fn,{mode:0,groups:e,groupsText:this.$0(e.length,fm,tab.Strings.ToolbarSubscribeAddGroupsPlaceholder)})}))},$0:function(e,fm,fn){var fo=new ss.StringBuilder;if(e>0){fo.append(fm);if(e>1){fo.append(' + ');fo.append(e-1)}}else{fo.append(fn)}return fo.toString()},$2:function(e){this.setState(function(fm,fn){return _.extend({},fm,{sendOnlyWhenDataPresent:e})})},isSubscribeEnabled:function(){if(!this.props.isSelfServiceSchedulesEnabled&&(ss.isNullOrUndefined(this.props.schedules)||this.props.schedules.length===0)){return false}if(ss.isNullOrUndefined(this.state.subject)||this.state.subject.trim().length===0){return false}if(ss.isNullOrEmptyString(this.state.email)||!this.props.emailIsValid(this.state.email)){return false}if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){return this.state.users.length>0||this.state.groups.length>0||this.state.selfSubscribe}else{return true}},$4:function(){if(ss.isNullOrEmptyString(this.props.email)){var e=function(fn){};var fm=ss.mkdel(this,function(){this.props.setEmail(this.state.email);this.$k()});tab.WorkgroupServerCommands.setUserEmail(this.state.email,fm,e)}else{this.$k()}},$k:function(){var e=((tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')&&!tab.MiscUtil.isNullOrEmpty$3(this.state.message))?this.state.message:null);var fm=this.state.selfSubscribe;if(this.props.isSelfServiceSchedulesEnabled){this.props.createSubscriptionsWithSelfServiceSchedule(this.state.subject,this.state.includeValue==='1',this.state.recurrenceModel,fm,e,this.state.users,this.state.groups,this.state.sendOnlyWhenDataPresent)}else{this.props.createSubscriptions(this.state.subject,this.state.includeValue==='1',parseInt(this.state.scheduleValue),fm,e,this.state.users,this.state.groups,this.state.sendOnlyWhenDataPresent)}},render:function(){return spiff.DOMElements.div({className:'tab-subscribeView',style:{padding:'0px'}},this.$8())},$8:function(){switch(this.state.mode){case 0:{return this.$c()}case 1:{return this.$e()}case 2:{return this.$5(true)}case 3:{return this.$5(false)}default:{return this.$c()}}},$c:function(){return spiff.DOMElements.div({className:''},((tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others)?this.$j():null),((tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others)?this.$a():null),this.$b(),this.$g(),(ss.isNullOrEmptyString(this.props.email)?this.renderEmail():null),this.$i(),this.$f(),(this.props.sendOnlyWhenDataPresentCheckboxVisible?this.$9():null),(this.props.isSelfSubscribeCheckboxEnabled?this.$h():null),(tsConfig.is_mobile?null:this.$d()),this.$6())},$h:function(){return React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{checked:this.state.selfSubscribe,label:tab.Strings.SubscribeSelf,handleChange:ss.mkdel(this,function(e){this.setState({selfSubscribe:e})}),testId:'self-subscribe-checkbox',removeLeftMargin:true,containerStyle:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}})},$g:function(){if(this.props.isSelfServiceSchedulesEnabled){if(ss.isNullOrUndefined(this.props.selfServiceSchedulesModule)||ss.isNullOrUndefined(this.state.recurrenceModel)){return null}var e={testId:'subscription-schedule-label',style:{fontSize:SharedWidgets.TabStyles.Typography.Sizing.Small,lineHeight:'19px'}};var fm=React.createElement(SharedWidgets.InputLabelWidget,e,tab.Strings.ToolbarSubscribeSchedule);var fn={};fn.recurrenceModel=this.state.recurrenceModel;var fo={};fo.timeZonesEnabled=tab.FeatureFlags.isEnabled('UserTimeZone');fo.timeZoneDisplayName=tsConfig.userTimeZoneDisplayName;fo.linkToUserSettings=this.props.userSettingsPageUrl;fn.timeZoneDetails=fo;fn.recurrenceModelChangedCallback=ss.mkdel(this,function(ft){this.setState({recurrenceModel:ft})});var fp=React.createElement(this.props.selfServiceSchedulesModule.get_selfServiceSchedulePaneComponent(),fn);return spiff.DOMElements.div({className:'tab-subscribeSchedule dropdown',style:{marginTop:SharedWidgets.TabStyles.Spacing.MediumSpace,marginBottom:SharedWidgets.TabStyles.Spacing.DefaultSpace}},fm,fp)}else{var fq=ss.mkdel(this,function(ft){this.handleScheduleSelection(ft)});var fr=2;var fs=React.createElement(SharedWidgets.DropdownWidget,{dropdownType:1,containerStyle:{color:SharedWidgets.TabStyles.Typography.Color.PrimaryLight},label:tab.Strings.ToolbarSubscribeSchedule,menuItemInfos:this.props.schedules,onSelect:fq,selectedValue:this.state.scheduleValue,testId:'subscribe-schedule-dropdown',maxHeight:10*SharedWidgets.TabStyles.Sizing.ListRowHeight+2*SharedWidgets.TabStyles.Spacing.DefaultSpace+fr});return spiff.DOMElements.div({className:'tab-subscribeSchedule ff-BulkSubscribeOthers dropdown',style:{marginTop:SharedWidgets.TabStyles.Spacing.MediumSpace,marginBottom:SharedWidgets.TabStyles.Spacing.DefaultSpace}},fs)}},$j:function(){var e=ss.mkdel(this,function(){this.setState(function(fn,fo){return _.extend({},fn,{mode:2})})});var fm=this.$7(e,tab.Strings.ToolbarSubscribeAddUsersLabel,this.state.usersText,'subscribe-users-input');return spiff.DOMElements.div({className:'tab-subscribeUsers',onClick:function(fn){e()}},fm)},$a:function(){var e=ss.mkdel(this,function(){this.setState(function(fn,fo){return _.extend({},fn,{mode:3})})});var fm=this.$7(e,tab.Strings.ToolbarSubscribeAddGroupsLabel,this.state.groupsText,'subscribe-groups-input');return spiff.DOMElements.div({className:'tab-subscribeGroups',onClick:function(fn){e()}},fm)},$b:function(){var e=[{value:'0',displayValue:tab.Strings.ToolbarSubscribeThisView},{value:'1',displayValue:tab.Strings.ToolbarSubscribeAllView}];var fm=ss.mkdel(this,function(fo){this.handleIncludeSelection(fo)});var fn=React.createElement(SharedWidgets.DropdownWidget,{dropdownType:1,label:tab.Strings.ToolbarSubscribeInclude,menuItemInfos:ss.arrayClone(e),onSelect:fm,selectedValue:this.state.includeValue,testId:'subscribe-include-dropdown'});return spiff.DOMElements.div({className:'tab-subscribeViews ff-BulkSubscribeOthers dropdown',style:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}},fn)},renderEmail:function(){var e=React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:ss.mkdel(this,function(fm){this.setState({email:fm})}),text:this.state.email,maxLength:em.maxSubscriptionEmailLength,floatingLabel:tab.Strings.ToolbarSubscribeEmailPlaceholder,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary,display:'inline'},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.PrimaryLight},testId:'subscribe-email-input',handleEnter:function(){}});return spiff.DOMElements.div({className:'tab-subscribeEmail ff-BulkSubscribeOthersTextField'},e)},$i:function(){var e=React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:ss.mkdel(this,function(fm){this.setState(function(fn,fo){return _.extend({},fn,{subject:fm})})}),text:this.state.subject,floatingLabel:tab.Strings.ToolbarSubscribeSubjectPlaceholder,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary,display:'inline'},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.PrimaryLight},testId:'subscribe-subject-text',handleEnter:function(){}});return spiff.DOMElements.div({className:'tab-subscribeSubject ff-BulkSubscribeOthersTextField'},e)},$f:function(){var e=ss.mkdel(this,function(){this.setState(function(fo,fp){return _.extend({},fo,{mode:1})})});var fm=(tab.MiscUtil.isNullOrEmpty$3(this.state.message)?tab.Strings.ToolbarSubscribeMessagePlaceholder:this.state.message);fm=ss.replaceAllString(fm,'\n',' ');var fn=this.$7(e,tab.Strings.ToolbarSubscribeMessageLabel,fm,'subscribe-message-input');return spiff.DOMElements.div({className:'tab-subscribeMessage',onClick:function(fo){e()}},fn)},$7:function(e,fm,fn,fo){return spiff.DOMElements.div({className:'ff-BulkSubscribeOthersTextField'},React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:function(fp){},text:fn,floatingLabel:fm,testId:fo,readOnly:true,hideErrorDiv:true,handleEnter:e,shouldSelectTextOnFocus:false,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary,display:'inline'},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.Disabled,fontStyle:'italic',textOverflow:'ellipsis'}}))},$5:function(e){var fm=r.$ctor();fm.users=ss.arrayClone(this.state.users);fm.groups=ss.arrayClone(this.state.groups);fm.isUsers=e;fm.cancelSelection=ss.mkdel(this,function(){this.setState(function(fn,fo){return _.extend({},fn,{mode:0})})});fm.confirmSelection=function(){};fm.confirmUsersSelection=ss.mkdel(this,function(fn){this.$3(fn)});fm.confirmGroupsSelection=ss.mkdel(this,function(fn){this.$1(fn)});return React.createElement(p,fm)},$e:function(){return React.createElement(eo,{message:this.state.message,onCancelButtonClick:ss.mkdel(this,function(){this.setState(function(e,fm){return _.extend({},e,{mode:0})})}),onDoneButtonClick:ss.mkdel(this,function(e){this.setState(function(fm,fn){return _.extend({},fm,{mode:0,message:e})})})})},$9:function(){return React.createElement(SharedWidgets.CheckBoxWithLabelWidget,{checked:this.state.sendOnlyWhenDataPresent,label:tab.Strings.ToolbarSubscribeDataPresentCheckbox,handleChange:ss.mkdel(this,function(e){this.$2(e)}),testId:'send-when-data-checkbox',disabled:this.state.includeValue==='1',removeLeftMargin:true,containerStyle:{marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}})},$d:function(){var e={testId:'subscription-manage-label',style:{color:SharedWidgets.TabStyles.Colors.ServerBlue,textDecoration:'none',marginTop:SharedWidgets.TabStyles.Spacing.DefaultSpace,marginBottom:SharedWidgets.TabStyles.Spacing.MediumSpace}};var fm=React.createElement(SharedWidgets.InputLabelWidget,e,tab.Strings.ManageSubscriptions);return spiff.DOMElements.a({className:'tab-manageSubscribers',href:this.props.subscriptionsPageUrl,target:'_tab',style:{textDecoration:'none'}},fm)},$6:function(){var e=!this.isSubscribeEnabled();return spiff.DOMElements.div({className:'tabSubscribeButtonContainer'},React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fm){this.props.onCancel()}),buttonType:3,testId:'subscription-dialog-cancel',label:tab.Strings.SubscribeCancel,style:{marginRight:12}}),React.createElement(SharedWidgets.ButtonWidget,{handleClick:ss.mkdel(this,function(fm){this.$4()}),buttonType:2,testId:'subscription-dialog-subscribe',label:tab.Strings.ToolbarSubscribeSubmitButton,disabled:e}))}},React.Component);ss.initClass(eh,a,{fetchAsyncDependencies:function(){return(this.props.isSelfServiceSchedulesEnabled?tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]):$.when.apply(null,null))},renderWhileWaiting:function(){return this.$3(this.props)},renderWithDependencies:function(e){var fm=this.props;if(ss.isValue(e)){fm=_.clone(this.props);fm.selfServiceSchedulesModule=e}return this.$3(fm)},$3:function(e){return React.createElement(eg,e)}},ss.makeGenericType(dt,[tab.ISelfServiceSchedulesModule,ej,Object]));ss.initClass(ei,a,{handleWidgetPropertyChanged:function(e,fm){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[el,ek,Object]));ss.initClass(ej,a,{});ss.initClass(ek,a,{});ss.initClass(el,a,{get_dom:function(){return this.get_template()},dispose:function(){this.$E.remove_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$E.remove_usersChanged(ss.mkdel(this,this.$m));this.$E.remove_groupsChanged(ss.mkdel(this,this.$k));this.$E.remove_addSubscribersPopupStateChanged(ss.mkdel(this,this.$w));ss.makeGenericType(spiff.BaseView$1,[em]).prototype.dispose.call(this)},handleSchedulesUpdated:function(){this.$c();this.$w()},$j:function(){var e=new spiff.ToggleButton(this.get_dom().subscribeThisView);var fm=new spiff.ToggleButton(this.get_dom().subscribeAllViews);this.get_dom().subscribeThisView[0].tabIndex=0;this.get_dom().subscribeAllViews[0].tabIndex=0;this.get_dom().subscribeViewsToggleLabel.text(tab.Strings.SubscribeViewsToggleLabel);this.get_dom().subscribeThisView.text(tab.Strings.ToolbarSubscribeThisView);this.get_dom().subscribeAllViews.text(tab.Strings.ToolbarSubscribeAllView);var fn=new spiff.SelectableGroup;fn.addItem(e);fn.addItem(fm);fn.selectItem(e);this.$E.set_shouldSubscribeAllViews(false);fm.add_propertyChanged(ss.mkdel(this,this.$v));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fm.remove_propertyChanged(ss.mkdel(this,this.$v))})));this.disposables.add$1(fn)},$c:function(){this.get_dom().subscribeScheduleDropdown.empty();if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fm){this.$q(fm.get_defaultRecurrence())}))}else{this.$z=this.get_viewModel().generateScheduleViewModel();this.$z.set_theme(3);this.$z.set_menuTheme(this.menuTheme);var e=tab.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$z]);e.element[0].tabIndex=0;this.get_dom().subscribeScheduleDropdown.append($('<label>').text(tab.Strings.ToolbarSubscribeSchedule));this.get_dom().subscribeScheduleDropdown.append(e.element);this.disposables.add$1(this.$z)}},$q:function(e){var fm={};this.$y=fm.recurrenceModel=e;var fn={};fn.timeZonesEnabled=tab.FeatureFlags.isEnabled('UserTimeZone');fn.timeZoneDisplayName=tsConfig.userTimeZoneDisplayName;fn.linkToUserSettings=this.get_viewModel().get_userSettingsPageUrl();fm.timeZoneDetails=fn;fm.recurrenceModelChangedCallback=ss.mkdel(this,this.$q);ReactDOM.render(React.createElement(SelfServiceSchedules.SelfServiceSchedulePane,fm),this.get_dom().subscribeScheduleDropdown.get(0))},$b:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(false);this.$A=spiff.LabelToggleButton.newCheckbox(tab.Strings.ToolbarSubscribeDataPresentCheckbox,false);this.$A.addClass(el.get_sendOnlyWhenDataPresentCheckboxClass());this.$A.add_click(ss.mkdel(this,this.$s));this.$A.element.insertAfter(this.get_dom().subscribeScheduleDropdown);this.get_viewModel().add_sendOnlyWhenDataPresentCheckboxStateChanged(ss.mkdel(this,this.$t));this.disposables.add$1(this.$A)},$s:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(this.$A.get_selected())},$t:function(){this.$A.set_disabled(!this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxEnabled());this.$A.set_selected(this.get_viewModel().get_sendOnlyWhenDataPresent())},$d:function(){if(!ss.isNullOrEmptyString(this.get_viewModel().get_email())){this.get_dom().subscribeEmail.hide()}else{if(ss.isValue(this.$x)){this.$x.remove_propertyChanged(ss.mkdel(this,this.$n));this.$x.remove_enterKeyPressed(ss.mkdel(this,this.$o))}this.$x=spiff.TextInputView.newTextInputView('',null,tab.Strings.ToolbarSubscribeEmailPlaceholder,false);this.$x.get_inputElement().attr('maxlength',em.maxSubscriptionEmailLength.toString());this.$x.add_propertyChanged(ss.mkdel(this,this.$n));this.$x.add_enterKeyPressed(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$x.remove_propertyChanged(ss.mkdel(this,this.$n))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$x.remove_enterKeyPressed(ss.mkdel(this,this.$o))})));this.get_dom().subscribeEmail.append(this.$x.element)}},$f:function(){if(ss.isValue(this.$B)){this.$B.remove_propertyChanged(ss.mkdel(this,this.$n));this.$B.remove_enterKeyPressed(ss.mkdel(this,this.$o))}this.$B=spiff.TextInputView.newTextInputView(this.get_viewModel().get_defaultSubject(),null,tab.Strings.ToolbarSubscribeSubjectPlaceholder,false);this.$B.get_inputElement().attr('maxlength',em.maxSubscriptionSubjectLength.toString());this.$B.add_propertyChanged(ss.mkdel(this,this.$n));this.$B.add_enterKeyPressed(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_propertyChanged(ss.mkdel(this,this.$n))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_enterKeyPressed(ss.mkdel(this,this.$o))})));this.get_dom().subscribeSubject.append(this.$B.element)},$e:function(){var e=(tab.MiscUtil.isNullOrEmpty$3(this.get_viewModel().get_message())?tab.Strings.ToolbarSubscribeMessagePlaceholder:this.get_viewModel().get_message());this.$a(ss.mkdel(this,function(fm){this.get_viewModel().showMessageEditor()}),this.get_dom().subscribeMessage.get(0),tab.Strings.ToolbarSubscribeMessageLabel,e,'subscribe-message-input')},$o:function(){if(!this.$C.get_disabled()){this.$r()}},$n:function(e,fm){if(ss.equalsT(fm.get_propertyName(),'text')){this.$w()}},$g:function(){this.$C=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$r),tab.Strings.ToolbarSubscribeSubmitButton,null,0,0);this.get_dom().subscribeButton.append(this.$C.element)},isSubscribingSelf:function(){var e=true;if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){e=false}else{e=ss.isNullOrUndefined(this.$D)||this.$D.get_selected()}}return e},$w:function(){var e=!this.get_viewModel().shouldSubscribeButtonBeEnabled((ss.isValue(this.$x)?this.$x.get_text():null),this.$B.get_text(),this.isSubscribingSelf());if(this.$C.get_disabled()!==e){var fm=(e?tab.Strings.ToolbarSubscribeSubmitDisabledTitle:'');this.$C.set_hoverTooltipText(fm);this.$C.set_disabled(e)}},$h:function(){if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){this.$m();this.$k()}else{this.$D=spiff.LabelToggleButton.newCheckbox(tab.Strings.SubscribeSelf,true);this.$D.addClass('tab-subscribeSelf');this.$D.add_click(ss.mkdel(this,this.$w));this.$D.element[0].tabIndex=0;this.get_dom().subscribeSelfArea.append(this.$D.element);this.disposables.add$1(this.$D);var e=spiff.LabelButton.newAnchorButton();e.set_label(tab.Strings.AddSubscribers);e.add_click(ss.mkdel(this,function(){this.get_viewModel().createAddSubscribersPopup(this.get_dom().subscribeSelfArea,true)}));e.addClass('tab-addSubscribers');this.get_dom().addSubscribersLabel.text(tab.Strings.SubscribeOthers);e.element.insertAfter(this.get_dom().addSubscribersLabel);this.disposables.add$1(e);if(tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')){this.$m()}}if(!tsConfig.is_mobile){var fm=spiff.LabelButton.newAnchorButton$1(this.get_viewModel().get_subscriptionsPageUrl(),null);fm.set_label(tab.Strings.ManageSubscriptions);fm.addClass('tab-manageSubscribers');this.get_dom().manageSubscribersLabel.text(tab.Strings.CurrentSubscribers);fm.element.insertAfter(this.get_dom().manageSubscribersLabel);this.disposables.add$1(fm)}},$a:function(e,fm,fn,fo,fp){ReactDOM.render(React.createElement(SharedWidgets.LineTextFieldWidget,{handleChange:function(fq){},text:fo,floatingLabel:fn,testId:fp,readOnly:true,hideErrorDiv:true,shouldSelectTextOnFocus:false,floatingLabelStyle:{color:SharedWidgets.TabStyles.Typography.Color.Primary},inputStyle:{color:SharedWidgets.TabStyles.Typography.Color.Disabled,fontStyle:'italic'}}),fm);fm.onclick=e},$m:function(){var e=this.get_viewModel().get_users();var fm=((e.length===0)?'':e[0].friendlyName);this.$l(true,e.length,fm,tab.Strings.ToolbarSubscribeAddUsersPlaceholder,tab.Strings.ToolbarSubscribeAddUsersLabel,'addUsersLineTextField')},$k:function(){var e=this.get_viewModel().get_groups();var fm=((e.length===0)?'':e[0].name);this.$l(false,e.length,fm,tab.Strings.ToolbarSubscribeAddGroupsPlaceholder,tab.Strings.ToolbarSubscribeAddGroupsLabel,'addGroupsLineTextField')},$l:function(e,fm,fn,fo,fp,fq){var fr=new ss.StringBuilder;if(fm>0){fr.append(fn);if(fm>1){fr.append(' + ');fr.append(fm-1)}fr.append(', ')}if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){var fs;if(e){fr.append(fo);fs=this.get_dom().addUsersPlaceholder}else{fr.append(fo);fs=this.get_dom().addGroupsPlaceholder}this.$a(ss.mkdel(this,function(ft){this.get_viewModel().createAddSubscribersPopup(this.get_dom().subscribeSelfArea,e)}),fs.get(0),fp,fr.toString(),fq)}else{fr.append(tab.Strings.AddSubscribers);this.get_dom().getElementBySelector('.tab-addSubscribers').text(fr.toString())}},$u:function(){var e=this.isSubscribingSelf();var fm=((tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')&&!tab.MiscUtil.isNullOrEmpty$3(this.get_viewModel().get_message()))?this.get_viewModel().get_message():null);if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){this.get_viewModel().createSubscriptionsWithSelfServiceSchedule(this.$B.get_text(),this.$y,e,fm)}else{this.get_viewModel().createSubscriptions(this.$B.get_text(),this.$z.get_selectedItem().get_data(),e,fm)}},$r:function(){if(ss.isNullOrEmptyString(this.get_viewModel().get_email())){var e=this.$x.get_text();var fm=ss.mkdel(this,function(fo){var fp=((fo===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.SubscribeFailure);this.get_dom().subscribeEmail.append($('<div>').addClass('tab-SubscribeError').text(fp))});var fn=ss.mkdel(this,function(){this.get_viewModel().set_email(e);this.$u()});tab.WorkgroupServerCommands.setUserEmail(e,fn,fm)}else{this.$u()}},$v:function(e,fm){if(fm.get_propertyName()==='selected'){this.$E.set_shouldSubscribeAllViews(e.get_selected())}},$9:function(){this.get_dom().addMainDialogContent();this.$f();if(tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')){this.$e()}this.$c();if(this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxVisible()){this.$b()}this.$j();this.$d();this.$g();if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){this.$h()}this.$w();this.$B.get_inputElement().attr('autofocus','true');this.get_viewModel().add_modeChanged(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_modeChanged(ss.mkdel(this,this.$p))})))},$p:function(e,fm){switch(this.get_viewModel().get_mode()){case 0:{this.get_dom().subscribeViewArea.empty();this.$9();break}case 1:{this.get_dom().subscribeViewArea.empty();var fn=React.createElement(eo,this.$i());ReactDOM.render(fn,this.get_dom().subscribeViewArea.get(0));break}}},$i:function(){return{message:this.get_viewModel().get_message(),onCancelButtonClick:ss.mkdel(this,function(){this.get_viewModel().showMainDialog()}),onDoneButtonClick:ss.mkdel(this,function(e){this.get_viewModel().set_message(e);this.get_viewModel().showMainDialog()})}}},ss.makeGenericType(spiff.BaseView$1,[em]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[em])]);ss.initClass(em,a,{add_schedulesChanged:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_schedulesChanged:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},add_subscribeSuccess:function(e){this.$3$2=ss.delegateCombine(this.$3$2,e)},remove_subscribeSuccess:function(e){this.$3$2=ss.delegateRemove(this.$3$2,e)},add_subscribeCancel:function(e){this.$3$3=ss.delegateCombine(this.$3$3,e)},remove_subscribeCancel:function(e){this.$3$3=ss.delegateRemove(this.$3$3,e)},add_usersChanged:function(e){this.$3$4=ss.delegateCombine(this.$3$4,e)},remove_usersChanged:function(e){this.$3$4=ss.delegateRemove(this.$3$4,e)},add_groupsChanged:function(e){this.$3$5=ss.delegateCombine(this.$3$5,e)},remove_groupsChanged:function(e){this.$3$5=ss.delegateRemove(this.$3$5,e)},add_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$3$6=ss.delegateCombine(this.$3$6,e)},remove_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$3$6=ss.delegateRemove(this.$3$6,e)},add_addSubscribersPopupStateChanged:function(e){this.$3$7=ss.delegateCombine(this.$3$7,e)},remove_addSubscribersPopupStateChanged:function(e){this.$3$7=ss.delegateRemove(this.$3$7,e)},add_hideDialogRequested:function(e){this.add_subscribeSuccess(e);this.add_subscribeCancel(e)},remove_hideDialogRequested:function(e){this.remove_subscribeSuccess(e);this.remove_subscribeCancel(e)},add_dialogHidden:function(e){this.$3$8=ss.delegateCombine(this.$3$8,e)},remove_dialogHidden:function(e){this.$3$8=ss.delegateRemove(this.$3$8,e)},add_modeChanged:function(e){this.$3$9=ss.delegateCombine(this.$3$9,e)},remove_modeChanged:function(e){this.$3$9=ss.delegateRemove(this.$3$9,e)},get_shouldShowReactDialog:function(){return tab.FeatureFlags.isEnabled('BulkSubscribeOthers')||tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')},get_mode:function(){return this.$c},get_schedules:function(){return this.$d},get_viewType:function(){return el},get_viewModel:function(){return this},get_subscribeProps:function(){this.createAddSubscribersViewModel(true);var e=new ej;e.addSubscribersComponentProps=this.addSubscribersViewModel.get_props();e.users=this.get_users();e.groups=this.get_groups();e.email=this.get_email();e.emailIsValid=ss.mkdel(this,this.$7);e.schedules=this.generateSchedules();e.defaultSubject=this.get_defaultSubject();e.onCancel=this.$3$3;e.createSubscriptions=ss.mkdel(this,function(fm,fn,fo,fp,fq,fr,fs,ft){this.setDataAndCreateSubscriptions(fm,fn,fo,fp,fq,fr,fs,ft)});e.createSubscriptionsWithSelfServiceSchedule=ss.mkdel(this,function(fm,fn,fo,fp,fq,fr,fs,ft){this.setDataAndCreateSubscriptionsSelfService(fm,fn,fo,fp,fq,fr,fs,ft)});e.setEmail=ss.mkdel(this,function(fm){this.set_email(fm)});e.subscriptionsPageUrl=this.get_subscriptionsPageUrl();e.userSettingsPageUrl=this.get_userSettingsPageUrl();e.sendOnlyWhenDataPresentCheckboxVisible=this.get_sendOnlyWhenDataPresentCheckboxVisible();e.isSelfSubscribeCheckboxEnabled=tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others;e.isSelfServiceSchedulesEnabled=em.isSelfServiceSchedulesEnabled();return e},get_shouldSubscribeAllViews:function(){return this.$e},set_shouldSubscribeAllViews:function(e){this.$e=e;if(ss.staticEquals(this.$3$6,null)){return}this.$3$6()},get_sendOnlyWhenDataPresentCheckboxEnabled:function(){return!this.$e},get_sendOnlyWhenDataPresentCheckboxSelected:function(){return this.$3$10},set_sendOnlyWhenDataPresentCheckboxSelected:function(e){this.$3$10=e},get_sendOnlyWhenDataPresentCheckboxVisible:function(){if(!tsConfig.allow_subscribe_on_data_present){return false}return tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='worksheet'},get_defaultSubject:function(){return tsConfig.current_sheet_name},get_email:function(){return this.$3$11},set_email:function(e){this.$3$11=e},get_message:function(){return this.$3$12},set_message:function(e){this.$3$12=e},get_subscriptionsPageUrl:function(){return this.$3$13},set_subscriptionsPageUrl:function(e){this.$3$13=e},get_userSettingsPageUrl:function(){return this.$3$14},set_userSettingsPageUrl:function(e){this.$3$14=e},get_users:function(){return this.$f},set_users:function(e){this.$f=e;this.raiseActionEvent(this.$3$4)},get_groups:function(){return this.$b},set_groups:function(e){this.$b=e;this.raiseActionEvent(this.$3$5)},get_sendOnlyWhenDataPresent:function(){return this.get_sendOnlyWhenDataPresentCheckboxSelected()&&!this.get_shouldSubscribeAllViews()},$a:function(){return(this.get_sendOnlyWhenDataPresent()?'DataPresent':'Always')},createUpdatedProps:function(){var e;if(this.get_shouldShowReactDialog()){this.createAddSubscribersViewModel(true);e=React.createElement(eh,this.get_subscribeProps())}else{var fm=new ek;fm.viewModel=this;e=React.createElement(ei,fm)}return{children:e,dialogWidth:400,isGlassTransparent:false,isModal:true,positioningBehavior:0,shouldAdjustPositionOnWindowResize:!tsConfig.is_mobile,shouldRecenterOnUpdate:true,shouldReturnFocusOnClose:true,showCloseButton:!this.get_shouldShowReactDialog(),showFooter:false,testId:'subscribe',title:tab.Strings.SubscribeTitle,type:0}},disposeViewModel:function(){this.set_users([]);this.set_groups([]);this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){this.set_users([]);this.set_groups([]);this.raiseActionEvent(this.$3$8);this.set_message(null)},createAddSubscribersViewModel:function(e){if(ss.isValue(this.addSubscribersViewModel)){this.addSubscribersViewModel.originalGroups=this.get_groups();this.addSubscribersViewModel.originalUsers=this.get_users();this.addSubscribersViewModel.groups=this.get_groups();this.addSubscribersViewModel.users=this.get_users();this.addSubscribersViewModel.isUsers=e;this.addSubscribersViewModel.updateProps();return}var fm=new s(this.get_users(),this.get_groups(),e);this.addSubscribersViewModel=fm},createAddSubscribersPopup:function(e,fm){if(ss.isValue(this.addSubscribersViewModel)){this.addSubscribersViewModel.originalGroups=this.get_groups();this.addSubscribersViewModel.originalUsers=this.get_users();this.addSubscribersViewModel.groups=this.get_groups();this.addSubscribersViewModel.users=this.get_users();this.addSubscribersViewModel.isUsers=fm;this.addSubscribersViewModel.updateProps();return}var fn=new s(this.get_users(),this.get_groups(),fm);this.addSubscribersViewModel=fn;var fo=spiff.UberPopupViewModel.createForContent$1(this.addSubscribersViewModel,e,ss.mkdel(this,this.$6),true);if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){fo.options.horizontalAlign=1;fo.options.isToolbarFlyout=false;fo.options.isBeingPositionedRelativeToASharedDialogWidget=true}else{fo.options.isToolbarFlyout=true}fo.options.preferUp=eI.get_toolbarIsBottom();fo.options.horizontalAttach=1;fo.options.coverRelativeElement=true;var fp=function(){fo.hide(false)};fn.add_selectionCanceled(fp);var fq=ss.mkdel(this,function(ft){this.set_users(ft);fo.hide(false)});var fr=ss.mkdel(this,function(ft){this.set_groups(ft);fo.hide(false)});fn.add_selectionConfirmedUser(fq);fn.add_selectionConfirmedGroup(fr);fo.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){fn.remove_selectionCanceled(fp);fn.remove_selectionConfirmedUser(fq);fn.remove_selectionConfirmedGroup(fr);this.raiseActionEvent(this.$3$7)})));if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){var fs=function(){fo.hide(false)};this.add_dialogHidden(fs);fo.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_dialogHidden(fs)})))}fo.show();this.raiseActionEvent(this.$3$7);$('.tabUserSearchInput').focus()},shouldSubscribeButtonBeEnabled:function(e,fm,fn){if(ss.isNullOrUndefined(this.get_schedules())||this.get_schedules().length===0){return false}if(ss.isNullOrUndefined(fm)||fm.trim().length===0){return false}if(ss.isNullOrEmptyString(this.get_email())&&!this.$7(e)){return false}if(ss.isValue(this.addSubscribersViewModel)){return false}if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){return fn||this.get_users().length>0||this.get_groups().length>0}return fn||this.get_users().length>0},generateScheduleViewModel:function(){var e=new spiff.ComboBoxViewModel;e.set_additionalMenuClass('tabSubscriptionScheduleDropdown');var fm=e;var fn=this.get_schedules();for(var fo=0;fo<fn.length;fo++){var fp=fn[fo];var fq=fp.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){fq=fp.get_scheduleFrequencyDescription()}fm.addItem(new spiff.ComboBoxItem(null,fq,fp,null,null))}if(fm.get_items().length>0){fm.set_selectedItem(fm.get_items()[0])}return fm},generateSchedules:function(){if(em.isSelfServiceSchedulesEnabled()){return null}var e=this.get_schedules().length;var fm=new Array(e);for(var fn=0;fn<this.get_schedules().length;fn++){var fo=this.get_schedules()[fn];var fp=fo.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){fp=fo.get_scheduleFrequencyDescription()}fm[fn]={value:fn.toString(),displayValue:fp}}return ss.arrayClone(fm)},setDataAndCreateSubscriptions:function(e,fm,fn,fo,fp,fq,fr,fs){this.set_shouldSubscribeAllViews(fm);this.set_sendOnlyWhenDataPresentCheckboxSelected(fs);this.set_users(fq);this.set_groups(fr);this.createSubscriptions(e,this.get_schedules()[fn],fo,fp)},setDataAndCreateSubscriptionsSelfService:function(e,fm,fn,fo,fp,fq,fr,fs){this.set_shouldSubscribeAllViews(fm);this.set_sendOnlyWhenDataPresentCheckboxSelected(fs);this.set_users(fq);this.set_groups(fr);this.createSubscriptionsWithSelfServiceSchedule(e,fn,fo,fp)},createSubscription:function(e,fm){var fn=ss.mkdel(this,function(){this.raiseActionEvent(this.$3$2);dg.showNotification(tab.Strings.SubscribeSuccess)});var fo=function(){dg.showNotification(tab.Strings.SubscribeFailure)};tab.WorkgroupServerCommands.createSubscription(e,this.get_shouldSubscribeAllViews(),fm,this.$a(),fn,fo)},createSubscriptionWithSelfServiceSchedule:function(e,fm){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fn){fn.createSubscriptionWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),fm,this.$a(),this.$3$2)}))},createSubscriptions:function(e,fm,fn,fo){this.$5(e,fn,fm,false,fo)},createSubscriptionsWithSelfServiceSchedule:function(e,fm,fn,fo){this.$5(e,fn,fm,true,fo)},showMessageEditor:function(){this.$9(1)},showMainDialog:function(){this.$9(0)},$5:function(e,fm,fn,fo,fp){var fq=ss.mkdel(this,function(fv){var fw=(ss.keyExists(fv,'results')?fv['results'].length:0);dg.showNotification(tab.Strings.SubscribeOthersSuccess(fw));this.raiseActionEvent(this.$3$2)});var fr=ss.mkdel(this,function(fv){var fw=fv['errors'];if(fw.length===1&&ss.isNullOrUndefined(fw[0]['id'])){dg.showNotification(tab.Strings.SubscribeFailure)}else{dg.showNotification(tab.Strings.SubscribeOthersFailed(fw.length));this.raiseActionEvent(this.$3$2)}});var fs=function(fv){dg.showNotification(tab.Strings.SubscribeFailure)};var ft=_.map(this.get_users(),function(fv){return fv.id.toString()});var fu=_.map(this.get_groups(),function(fv){return fv.id.toString()});if(fu.length===0){fu=null}if(fm&&!_.contains(ft,tsConfig.current_user_id.toString())){ft.push(tsConfig.current_user_id.toString())}if(fo){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(fv){fv.createSubscriptionsWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),fn,this.$a(),ft,fu,fq,fr,fs,fp)}))}else{this.set_users([]);this.set_groups([]);tab.WorkgroupServerCommands.createSubscriptions(e,this.get_shouldSubscribeAllViews(),ft,fn,this.$a(),fq,fr,fs,fp,fu)}},$6:function(){this.addSubscribersViewModel=tab.MiscUtil.dispose$1(this.addSubscribersViewModel)},$7:function(e){return bW.validate(e)},$9:function(e){this.$c=e;this.$8()},$8:function(){if(ss.isValue(this.$3$9)){this.$3$9(this,ss.EventArgs.Empty)}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),spiff.IContent,spiff.IUberPopupContent,spiff.IDialogContent]);ss.initClass(en,a,{addMainDialogContent:function(){$("\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>").appendTo(this.subscribeViewArea);if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){this.domRoot.addClass('ff-BulkSubscribeOthers')}this.subscribeViewsToggleLabel=this.getElementBySelector('.tab-subscribeViewsToggleLabel');this.subscribeThisView=this.getElementBySelector('.tab-subscribeThisView');this.subscribeAllViews=this.getElementBySelector('.tab-subscribeAllViews');this.subscribeScheduleDropdown=this.getElementBySelector('.tab-subscribeSchedule');this.subscribeEmail=this.getElementBySelector('.tab-subscribeEmail');if(tab.FeatureFlags.isEnabled('BulkSubscribeOthers')){this.subscribeViewsToggleLabel.before("<div class='tab-addUsers'/>");this.addUsersPlaceholder=this.getElementBySelector('.tab-addUsers');this.addUsersPlaceholder.after("<div class='tab-addGroups'/>");this.addGroupsPlaceholder=this.getElementBySelector('.tab-addGroups');this.addUsersPlaceholder.before("<div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>");this.subscribeSelfArea=this.getElementBySelector('.tab-subscribeSelfArea')}else{this.subscribeEmail.before("<div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>");this.subscribeSelfArea=this.getElementBySelector('.tab-subscribeSelfArea');this.subscribeEmail.after("\n                    <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                        <label class='tab-addSubscribersLabel'/>\n                    </div>");this.addSubscribersLabel=this.getElementBySelector('.tab-addSubscribersLabel')}this.manageSubscribersLabel=this.getElementBySelector('.tab-manageSubscribersLabel');this.subscribeSubject=this.getElementBySelector('.tab-subscribeSubject');this.subscribeButton=this.getElementBySelector('.tab-subscribeSubmit');if(tab.FeatureFlags.isEnabled('SubscriptionMessageBuilder')){this.subscribeMessage=$("<div class='tab-subscribeMessage'/>");this.subscribeMessage.insertAfter(this.subscribeSubject)}}},spiff.Template,[ss.IDisposable]);ss.initClass(eo,a,{render:function(){return spiff.DOMElements.div({},spiff.DOMElements.textarea(this.$2()),this.$3(),spiff.DOMElements.div({className:'tabSubscribeMessageEditorButtonContainer'},React.createElement(SharedWidgets.ButtonWidget,this.$0()),React.createElement(SharedWidgets.ButtonWidget,this.$1())))},$3:function(){return(this.state.isWarning?spiff.DOMElements.div({className:eo.errorMessageClass+' '+(this.state.isError?'error':'warning')},this.state.warningMessage):null)},$2:function(){return{rows:this.$6,placeholder:tab.Strings.ToolbarSubscribeMessageEditorPlaceholder,className:eo.messageEditorClass,ref:this.$5,defaultValue:this.props.message,autoFocus:true,onChange:ss.mkdel(this,this.onChangeMessageHandler)}},onChangeMessageHandler:function(e){if(this.textAreaElement.value.length>=eo.characterWarningLimit){this.setState({isError:this.textAreaElement.value.length>eo.characterLimit,isWarning:true,warningMessage:tab.Strings.MessageCharacterLimit(this.textAreaElement.value.length,eo.characterLimit)})}else if(this.state.isError||this.state.isWarning){this.setState({isError:false,isWarning:false,warningMessage:null})}},$0:function(){return{handleClick:ss.mkdel(this,function(e){this.props.onCancelButtonClick()}),buttonType:3,testId:'subscription-message-editor-cancel',key:'messageEditorCancel',label:tab.Strings.SubscribeCancel,style:{marginRight:12}}},$1:function(){return{handleClick:ss.mkdel(this,function(e){this.$4(e)}),buttonType:2,testId:'subscription-message-editor-done',key:'messageEditorDone',label:tab.Strings.SubscribeDone,disabled:this.state.isError}}},React.Component);ss.initClass(ep,a,{},ss.EventArgs);ss.initClass(eq,a,{get_textAngle:function(){return this.$j},set_textAngle:function(e){this.$j=e},get_isTextAngleHorizontal:function(){return Math.abs(this.get_textAngle())<0.01},get_numberSavedStates:function(){return this.$f},get_alpha:function(){return this.$6.globalAlpha},set_alpha:function(e){if(e!==this.$6.globalAlpha){this.$6.globalAlpha=e}},get_globalCompositeOperation:function(){return this.$6.globalCompositeOperation},set_globalCompositeOperation:function(e){this.$6.globalCompositeOperation=e},get_font:function(){return this.$6.font},set_font:function(e){var fm=this.$c.normalizeFont(e);if(!ss.referenceEquals(fm,this.$6.font)){this.$6.font=fm}this.$d=eq.$0(fm)},get_lineCap:function(){return this.$8},set_lineCap:function(e){if(e!==this.$8){this.$6.lineCap=e;this.$8=e}},get_lineJoin:function(){return this.$9},set_lineJoin:function(e){if(e!==this.$9){this.$6.lineJoin=e;this.$9=e}},get_lineWidth:function(){return this.$6.lineWidth},set_lineWidth:function(e){if(e!==this.$6.lineWidth){this.$6.lineWidth=e;if(this.$e!=='solid'){this.$5()}}},get_linePattern:function(){return this.$e},set_linePattern:function(e){if(e!==this.$e){this.$e=e;this.$5()}},get_transformation:function(){return this.$l},set_transformation:function(e){this.$l.setTransform(e)},get_strokeStyle:function(){return this.$a},set_strokeStyle:function(e){if(!ss.referenceEquals(e,this.$a)){this.$6.strokeStyle=e;this.$a=e}},get_shapeFillStyle:function(){return this.$g},set_shapeFillStyle:function(e){this.$g=e;this.$3(e)},get_shouldAntialias:function(){return this.$h},set_shouldAntialias:function(e){this.$h=e},get_shouldUnderlineText:function(){return this.$i},set_shouldUnderlineText:function(e){this.$i=e},get_textFillStyle:function(){return this.$k},set_textFillStyle:function(e){this.$k=e},get_textAlign:function(){return this.$6.textAlign},set_textAlign:function(e){this.$6.textAlign=e},get_textBaseline:function(){return this.$6.textBaseline},set_textBaseline:function(e){this.$6.textBaseline=e},clearDirtyRect:function(){this.dirtyRect={x:0,y:0,w:0,h:0}},setDefaultPropertyValues:function(){this.set_alpha(1);this.set_strokeStyle('rgb(0,0,0)');this.set_linePattern(eq.defaultLinePattern);this.set_lineWidth(1);this.set_lineJoin(eq.defaultLineJoin);this.set_lineCap(eq.defaultLineCap);this.set_shapeFillStyle('rgb(0,0,0)');this.set_textFillStyle('rgb(0,0,0)');this.set_textBaseline(eq.defaultTextBaseline);this.set_textAlign(eq.defaultTextAlign);this.set_textAngle(0);this.set_font(8+'pt '+'Arial');this.$h=true;this.$i=false},setClip:function(e){this.beginPath();this.rect(e.x,e.y,e.w,e.h);this.$1()},arc:function(e,fm,fn,fo,fp,fq){this.$6.arc(e,fm,fn,fo,fp,fq)},beginPath:function(){this.$6.beginPath()},bezierCurveTo:function(e,fm,fn,fo,fp,fq){this.$6.bezierCurveTo(e,fm,fn,fo,fp,fq)},clearRect:function(e,fm,fn,fo){this.$6.clearRect(e,fm,fn,fo)},closePath:function(){this.$6.closePath()},createLinearGradient:function(e,fm,fn,fo){return this.$6.createLinearGradient(e,fm,fn,fo)},drawImage1:function(e,fm,fn){this.$6.drawImage(e,fm,fn)},drawImage3:function(e,fm,fn,fo,fp){this.$6.drawImage(e,fm,fn,fo,fp)},drawImage4:function(e,fm,fn,fo,fp){this.$6.drawImage(e,fm,fn,fo,fp)},drawImage5:function(e,fm,fn,fo,fp,fq,fr,fs,ft){this.$6.drawImage(e,fm,fn,fo,fp,fq,fr,fs,ft)},fill:function(){this.$6.fill()},fillRect:function(e,fm,fn,fo){this.$6.fillRect(e,fm,fn,fo)},fillText1:function(e,fm,fn){if(this.$4()){var fo=ss.mkdel(this,function(fp){this.$6.fillText(fp,0,0)});this.$2(fo,e,fm,fn)}else{this.$6.fillText(e,fm,fn)}},fillText2:function(e,fm,fn,fo){if(this.$4()){var fp=ss.mkdel(this,function(fq){this.$6.fillText(fq,0,0,fo)});this.$2(fp,e,fm,fn)}else{this.$6.fillText(e,fm,fn,fo)}},lineTo:function(e,fm){this.$6.lineTo(e,fm)},measureText:function(e){return this.$6.measureText(e)},moveTo:function(e,fm){this.$6.moveTo(e,fm)},rect:function(e,fm,fn,fo){this.$6.rect(e,fm,fn,fo)},reset:function(){while(this.$f>0){this.restore()}this.setDefaultPropertyValues();this.resetTransform();this.pixelRatio=1;this.save()},restore:function(){this.$6.restore();this.$8=this.$6.lineCap;this.$9=this.$6.lineJoin;this.$a=this.$6.strokeStyle;this.$7=this.$6.fillStyle;var e=this.$b.pop();e.$0(this);--this.$f},rotate:function(e){this.$l.rotate(e);this.$0()},save:function(){var e=new j(this.$e,this.$j,this.$g,this.$k,this.$h,this.$i,this.$l);this.$b.push(e);this.$6.save();++this.$f},scale:function(e,fm){if(e===1&&fm===1){return}this.$l.scale(e,fm);this.$0()},setTransform:function(e){this.$l.setTransform(e);this.$0()},resetTransform:function(){this.$l.reset();this.$0()},stroke:function(){this.$6.stroke()},strokeRect:function(e,fm,fn,fo){this.$6.strokeRect(e,fm,fn,fo)},strokeText1:function(e,fm,fn){},strokeText2:function(e,fm,fn,fo){},translate:function(e,fm){if(e===0&&fm===0){return}this.$l.translate(e,fm);this.$0()},$0:function(){var e=this.$l.get_matrix();this.$6.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},$1:function(){this.$6.clip()},$4:function(){return!this.get_isTextAngleHorizontal()||ss.isNullOrUndefined(this.$g)||!ss.referenceEquals(this.$g,this.$k)||this.$i},$2:function(e,fm,fn,fo){this.$6.save();var fp=this.$l.clone();this.translate(fn,fo);if(!this.get_isTextAngleHorizontal()){this.rotate(this.get_textAngle())}this.$3(this.$k);e(fm);if(this.$i){var fq=this.measureText(fm).width;var fr=Math.round(Math.max(1,(this.$d-5)/10));var fs=Math.round((this.$d-5)/10);var ft=0;if(this.get_textAlign()==='center'){ft-=fq/2}else if(this.get_textAlign()==='end'){ft-=fq}this.$6.fillRect(ft,fs,fq,fr)}this.$6.restore();this.$l.setTransform(fp);this.$7=null},$3:function(e){if(!ss.referenceEquals(e,this.$7)){this.$6.fillStyle=e;this.$7=e}},$5:function(){var e=null;var fm=0;switch(this.$e){case'solid':{e=[];break}case'dashed':{fm=this.$6.lineWidth;e=[eq.defaultLineDashDashed[0]*fm,eq.defaultLineDashDashed[1]*fm];break}case'dotted':{fm=this.$6.lineWidth;e=[eq.defaultLineDashDotted[0]*fm,eq.defaultLineDashDotted[1]*fm];break}}if(typeof(this.$6['setLineDash'])==='function'){this.$6.setLineDash(e)}else if('mozDash'in this.$6){this.$6['mozDash']=e}else if('webkitLineDash'in this.$6){this.$6['webkitLineDash']=e}}});ss.initClass(er,a,{});ss.initClass(es,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(et,a,{$e:function(){return this.get_viewModel()},$d:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}if(this.$e().options.textSelectable){this.$d().contentElem.addClass('tab-selectable')}this.handleNewTextRegion();dO.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add(ss.mkdel(this,function(){dO.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.handleNewTextRegion))}))},handleNewTextRegion:function(){if(!this.$e().hasPresModel()){return}this.$a(this.$d().textRegionBoundaryElem);this.$b(this.$d().contentElem)},handleRightClick:function(e){var fm=new spiff.ShowMenuOptions(this.element,false);fm.cursorPosition={left:e.clientX,top:e.clientY};var fn=fm;this.get_viewModel().showContextMenu(fn)},handleDoubleClick:function(e){this.get_viewModel().openRichTextEditorDialogForTitle();ck.logRichTextEditorEvent(['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom','Worksheet Title'+((tsConfig.current_sheet_type==='dashboard')?' on Dashboard':'')])},handleHover:function(){this.showFormatIndicator()},handleMouseLeave:function(){this.hideFormatIndicator()},showFormatIndicator:function(){this.$d().formatIndicatorElem.show()},hideFormatIndicator:function(){this.$d().formatIndicatorElem.hide()},$b:function(e){var fm={};e.removeAttr('style');e.html(this.$e().get_html());tab.FormattingConverters.cleanUpFontFamilyStyles(e);if(!tsConfig.is_mobile_device){var fn=function(fv){fv.stopPropagation()};e.on(this.createNamespacedEventName('touchstart'),fn).on(this.createNamespacedEventName('touchend'),fn)}var fo=this.$e().get_orientation();var fp=et.$3(fo);var fq=et.$2(fo);if(fp||fq){var fr=tab.DoubleUtil.roundToInt(e.parent().width());var fs=tab.DoubleUtil.roundToInt(e.parent().height());fm['width']=fs+'px';var ft='0%';if(fp){fm['bottom']='100%';ft='100%'}else if(fq){fm['top']='100%';ft='0%'}e.css(fm);fm['left']=et.$1(fr,tab.DoubleUtil.roundToInt(e.height()),this.$e().get_hAlign(),fo);et.$0(e,'0% '+ft,fo.toString())}else{fm['width']='100%';var fu=tab.DoubleUtil.roundToInt(this.$d().domRoot.height());if(fu<=tab.DoubleUtil.roundToInt(e.height())&&!this.$c(e,fu)){fm['top']='0%'}else{switch(this.$e().get_vAlign()){case'v-align-center':{fm['top']='50%';fm['margin-top']=ss.Int32.div(-tab.DoubleUtil.roundToInt(e.height()),2)+'px';break}case'v-align-bottom':{fm['bottom']='0%';break}case'v-align-top':{fm['top']='0%';break}default:{break}}}}e.css(fm)},$c:function(e,fm){var fn=false;e.find('span').each(function(fo,fp){if(!fn&&ss.isValue(fp.style.lineHeight)){fn=parseInt(fp.style.lineHeight)>=fm}});return fn},$a:function(e){var fm=this.$e().get_styledBox();var fn=tab.FormattingConverters.getCSSBorderStyle(fm.borderStyle);var fo=ss.mkdict(['border-width',fm.uw+'px','border-color',fm.borderColor,'border-style',fn]);if(this.$e().get_styledBox().hasFill){this.$9(fo)}e.css(fo)},$9:function(e){var fm=tab.ColorModel.fromColorCode(this.$e().get_styledBox().fillColor);if(fm.get_a()<1){e['background-color']=fm.toString()}else{e['background-color']=fm.toString()}}},ss.makeGenericType(spiff.BaseView$1,[eu]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eu])]);et.$ctor1.prototype=et.prototype;ss.initClass(eu,a,{add_newTextRegion:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newTextRegion:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.$3.get_hAlign()},get_html:function(){return this.$3.get_html()},get_orientation:function(){return this.$3.get_orientation()},get_vAlign:function(){return this.$3.get_vAlign()},get_styledBox:function(){return this.$3.get_styledBox()},get_presModelKey:function(){return this.$3.presModelKey},handleNewTextRegion:function(){this.$2()},hasPresModel:function(){return!ss.isNullOrUndefined(this.$3.pm)},isTitle:function(){var e=tab.FeatureFlags.isEnabled('RichTextEditingWorksheetTitleInDashboard')&&tsConfig.current_sheet_type==='dashboard';return ss.referenceEquals(this.get_presModelKey().name,'visualTitle'.toString())&&(tsConfig.current_sheet_type==='worksheet'||e)},openRichTextEditorDialogForTitle:function(){tab.RichTextClientCommands.createWorksheetTitleRichTextEditor(this.$3.get_sheetName())},showContextMenu:function(e){if(!tab.FeatureFlags.isEnabled('SeamlessTitlesAndCaptionsWebSP1')||!tsConfig.is_authoring){return}if(this.isTitle()&&tsConfig.current_sheet_type==='worksheet'){var fm=function(fo){var fp=fo.$$c['commands'];var fq=fe.menuViewModelFromCommands(fp,fe.commandMenuItemClicked,null);fq.show(e)};tab.SheetClientCommands.getTitleContextMenu(tsConfig.current_sheet_name,fm)}if(ss.referenceEquals(this.get_presModelKey().name,'visualCaption'.toString())&&tsConfig.current_sheet_type==='worksheet'){var fn=function(fo){var fp=fo.$$c['commands'];var fq=fe.menuViewModelFromCommands(fp,fe.commandMenuItemClicked,null);fq.show(e)};tab.SheetClientCommands.getCaptionContextMenu(tsConfig.current_sheet_name,fn)}},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(ev,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(ew,a,{get_canScrollX:function(){return this.get_docSize().w-this.get_actualViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_actualViewSize().h>0},get_docSize:function(){return{w:tab.DoubleUtil.roundToInt(this.element.width()),h:tab.DoubleUtil.roundToInt(this.element.height())}},get_actualViewSize:function(){return{w:0,h:0}},set_actualViewSize:function(e){throw new ss.NotSupportedException('Setting ActualViewSize is not supported.')},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.element.scrollLeft(),y:tab.DoubleUtil.roundToInt(this.element.scrollTop())}},set_scrollPos:function(e){this.setXPos(e.x);this.setYPos(e.y)},setXPos:function(e){this.element.scrollLeft(e)},setYPos:function(e){this.element.scrollTop(e)}},ss.makeGenericType(spiff.BaseView$1,[ex]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[ex]),spiff.IScrollable]);ss.initClass(ex,a,{},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(ey,a,{get_keyCombos:function(){return cU.op_Implicit(new cT.$ctor1(122))},executeShortcut:function(e){_.defer(ss.mkdel(this,function(){if(spiff.FullscreenUtil.get_inFullscreenMode()){spiff.FullscreenUtil.exitFullscreen()}else{spiff.FullscreenUtil.requestFullscreen(document.documentElement)}}))}},cp,[cG]);ss.initClass(eA,a,{get_image:function(){return this.$2$1},set_image:function(e){this.$2$1=e},get_text:function(){return this.$2$2},set_text:function(e){this.$2$2=e}},spiff.Template,[ss.IDisposable]);ss.initClass(eB,a,{get_dom:function(){return this.get_template()},get_toolbarButton:function(){return this.$e},$c:function(){this.$e=new spiff.LabelButton(this.get_dom().domRoot,'.tabToolbarButtonText');this.disposables.add$1(this.$e);this.$e.add_click(ss.mkdel(this,this.onClicked));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_click(ss.mkdel(this,this.onClicked))})));this.element.attr('aria-label',this.get_viewModel().get_text());this.element.addClass(this.get_viewModel().get_iconClass().substring(this.get_viewModel().get_iconClass().lastIndexOf('-')+1));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('isActive'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('enabled'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('text'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('tooltipText'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('iconClass'))},onViewModelPropertyChanged:function(e,fm){switch(fm.get_propertyName()){case'isActive':{this.$e.element.toggleClass('tabActive',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass()+'-active',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass(),!this.get_viewModel().get_isActive());break}case'enabled':{var fn=this.get_viewModel().get_enabled();this.$e.set_disabled(!fn);if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){if(!fn){this.element.attr('aria-disabled','true')}else{this.element.removeAttr('aria-disabled')}this.element.attr('tabindex','-1')}if(!tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')||tsConfig.is_authoring){this.element.attr('tabindex',(fn?'0':'-1'))}break}case'text':{this.get_dom().get_text().text(ss.coalesce(this.get_viewModel().get_text(),''));break}case'tooltipText':{this.$e.set_hoverTooltipText(ss.coalesce(this.get_viewModel().get_tooltipText(),''));break}case'iconClass':{if(ss.isValue(this.$f)){this.get_dom().get_image().removeClass(this.$f)}this.get_dom().get_image().addClass(this.get_viewModel().get_iconClass());this.$f=this.get_viewModel().get_iconClass();break}}},onClicked:function(){if(ss.isValue(this.$e)&&!ss.staticEquals(this.get_viewModel().get_buttonAction(),null)){this.get_viewModel().execute()}if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){this.get_viewModel().showDialog()}else if(this.$e.element.hasClass('tabToolbarButtonFlyoverShown')){this.get_viewModel().popupViewModel.hide(false)}else{this.get_viewModel().showUberPopup(this.$e.element)}},$d:function(){this.get_dom().domRoot.show();this.get_viewModel().set_isHidden(false)},$9:function(){this.get_dom().domRoot.hide();this.get_viewModel().set_isHidden(true)},$b:function(){this.$e.element.addClass('tabToolbarButtonFlyoverShown')},$a:function(){this.$e.element.removeClass('tabToolbarButtonFlyoverShown')}},ss.makeGenericType(spiff.BaseView$1,[eC]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eC])]);ss.initClass(eC,a,{add_showDialogRequested:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_showDialogRequested:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_flyoverShown:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_flyoverShown:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_flyoverHidden:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_flyoverHidden:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_clickButtonRequested:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_clickButtonRequested:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_showButtonRequested:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_showButtonRequested:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideButtonRequested:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_hideButtonRequested:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},get_buttonAction:function(){return this.action},get_enabled:function(){return this.$6},set_enabled:function(e){if(!this.$a&&this.$6!==e){this.$6=e;this.notifyPropertyChanged('enabled')}},get_iconClass:function(){return this.$8},set_iconClass:function(e){if(!this.$a&&!(ss.compareStrings(this.$8,e,false)===0)){this.$8=e;this.notifyPropertyChanged('iconClass')}},get_iconType:function(){return this.$2$7},set_iconType:function(e){this.$2$7=e},get_isActive:function(){return this.$9},set_isActive:function(e){if(!this.$a&&this.$9!==e){this.$9=e;this.notifyPropertyChanged('isActive')}},get_text:function(){return this.$c},set_text:function(e){if(!this.$a&&!(ss.compareStrings(this.$c,e,false)===0)){this.$c=e;this.notifyPropertyChanged('text')}},get_tooltipText:function(){return this.$d},set_tooltipText:function(e){if(!this.$a&&!ss.referenceEquals(this.$d,e)){this.$d=e;this.notifyPropertyChanged('tooltipText')}},get_isSeparator:function(){return this.$a},get_isHidden:function(){return this.$2$8},set_isHidden:function(e){this.$2$8=e},dispose:function(){this.$2();spiff.BaseViewModel.prototype.dispose.call(this)},execute:function(){if(!ss.staticEquals(this.action,null)){this.action()}},showUberPopup:function(e){if(ss.isValue(this.popupContent)){this.$2();this.popupViewModel=spiff.UberPopupViewModel.createForContent$1(this.popupContent,e,null,true);this.popupViewModel.options=this.$b;if(ss.isValue(this.$2$2)){this.popupViewModel.add_shown(this.$2$2)}if(ss.isValue(this.$2$3)){this.popupViewModel.add_hidden(ss.mkdel(this,this.$4))}this.popupViewModel.show()}},showDialog:function(){if(ss.staticEquals(this.$2$1,null)){return}this.$7().done(ss.mkdel(this,function(e){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(e)){this.$2$1(e)}}))},clickButton:function(){this.raiseActionEvent(this.$2$4)},showButton:function(){if(this.get_isHidden()){this.raiseActionEvent(this.$2$5)}},hideButton:function(){this.raiseActionEvent(this.$2$6)},$3:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.hide(false)}},$5:function(){this.raiseActionEvent(this.$2$2)},$4:function(){this.raiseActionEvent(this.$2$3);this.$2()},$2:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.remove_shown(this.$2$2);this.popupViewModel.remove_hidden(ss.mkdel(this,this.$4));this.popupViewModel.dispose();this.popupViewModel=null}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eD,a,{createMenu:function(){return this.$e(null)},execute:function(){},dropdownClicked:function(e,fm){var fn=this.createMenu();if(!fn.menuItems.some(function(fr){return fr.enabled})){return null}var fo=spiff.MenuViewModel.createForMenu(fn,ss.mkdel(this,function(fr){this.raiseActionEvent$1(spiff.MenuItem).call(this,fm,fr);fe.commandMenuItemClicked(fr)}));fo.add_hidden(ss.mkdel(this,function(){this.set_isActive(false)}));var fp=new spiff.ShowMenuOptions(e,true);fp.additionalMenuClass='tabToolbarDropdownMenu '+this.get_iconClass()+'ContextMenu';var fq=fp;fo.show(fq);this.set_isActive(true);return fo}},eC,[ss.IDisposable,tab.IViewModel]);ss.initClass(eE,a,{add_propsUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_propsUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_props:function(){return this.$3$2},set_props:function(e){this.$3$2=e},createMenu:function(){return this.$g(null)},$e:function(e){if(ss.compare(e,this.get_props().selectedValue)!==0){this.get_props().selectedValue=e;this.raiseActionEvent(this.$3$1);var fm=parseInt(e);var fn=this.$f.menuItems[fm];spiff.MenuViewModel.handleMenuActionItemClicked(fn)}}},eC,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(eF,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eG,a,{get_toggleToText:function(){return this.$e},set_toggleToText:function(e){this.$e=e}},eC,[ss.IDisposable,tab.IViewModel]);ss.initClass(eH,a,{get_dom:function(){return this.get_template()},$p:function(){return this.$3$1},$q:function(e){this.$3$1=e},$w:function(){return this.$3$2},$x:function(e){this.$3$2=e},$s:function(){return this.$3$3},$t:function(e){this.$3$3=e},$y:function(){return this.$3$4},$z:function(e){this.$3$4=e},$n:function(){return this.$3$5},$o:function(e){this.$3$5=e},$A:function(){return this.$3$6},$B:function(e){this.$3$6=e},$u:function(){return this.$3$7},$v:function(e){this.$3$7=e},$r:function(){return this.$I.get_customViewsViewModel()},$C:function(e){this.get_dom().toolbar.toggleClass('horizontalLabels',e);this.get_dom().toolbar.toggleClass('stackedLabels',!e)},$D:function(e){this.get_dom().leftItems.toggleClass('narrow',e)},$m:function(){var e=this.$I.get_shouldForceLabelsBelowIcons();var fm=this.$I.get_canPutLabelsUnderneath();var fn=this.get_dom().toolbar.width();var fo=this.get_dom().leftItems;var fp=this.get_dom().rightItems;this.$C(!e);this.$D(false);eH.$3(this.$p());eH.$3(this.$s());eH.$3(this.$w());eH.$3(this.$n());eH.$3(this.$y());eH.$3(this.$A());eH.$3(this.$u());if(spiff.FullscreenUtil.get_inFullscreenMode()||eI.$0()){eH.$1(fo);eH.$1(fp);var fq=this.$J;var fr=this.$F;if(!this.$c(fn,fq,fr)){this.$D(true)}if(ss.isValue(this.$w())){if(!this.$c(fn,fq,fr)){this.$w().element.hide();fq-=this.$E}}if(ss.isValue(this.$u())){if(!this.$c(fn,fq,fr)){this.$u().element.hide()}}return}if(e){if(this.$c(fn,this.$K,this.$G)){eH.$4(fo);eH.$4(fp)}else{eH.$1(fo);eH.$1(fp)}return}if(this.$c(fn,this.$L,this.$H)){eH.$4(fo);eH.$4(fp)}else if(this.$c(fn,this.$K,this.$G)&&fm){this.$C(false);eH.$4(fo);eH.$4(fp)}else if(this.$c(fn,this.$J,this.$H)){eH.$1(fo);eH.$4(fp)}else if(this.$c(fn,this.$L,this.$F)){eH.$4(fo);eH.$1(fp)}else{eH.$1(fo);eH.$1(fp);var fs=this.$J;var ft=this.$F;if(ss.isValue(this.$w())){if(!this.$c(fn,fs,ft)){this.$w().element.hide();fs-=this.$E}}if(ss.isValue(this.$p())){if(!this.$c(fn,fs,ft)){this.$p().element.hide();ft-=this.$E}}if(ss.isValue(this.$s())){if(!this.$c(fn,fs,ft)){this.$s().element.hide();ft-=this.$E}}if(ss.isValue(this.$n())){if(!this.$c(fn,fs,ft)){this.$n().element.hide();ft-=this.$E}}if(ss.isValue(this.$A())){if(!this.$c(fn,fs,ft)){this.$A().element.hide();ft-=this.$E}}if(ss.isValue(this.$y())){if(!this.$c(fn,fs,ft)){this.$y().element.hide()}}}},$i:function(){var e=eI.get_toolbarHeight();if(this.get_viewModel().get_shouldShowCommenting()){e-=1}this.get_dom().toolbar.height(e);this.$j();this.rebuildNonVizItems();if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.element.find('.tabToolbarButton:not(.disabled)').first().attr('tabindex','0')}this.$f()},$j:function(){this.get_dom().leftItems.empty();if(eI.$0()){this.$a(this.get_dom().leftItems)}else{this.$b(this.get_dom().leftItems)}},$a:function(e){var fm=ss.getEnumerator(this.$I.get_nonVizItems());try{while(fm.moveNext()){var fn=fm.current();if(ss.equalsT('public-logo',fn.get_iconType())){var fo=eB.create(fn);e.append(fo.element)}}}finally{fm.dispose()}},$b:function(e){this.$x(null);var fm=ss.getEnumerator(this.$I.get_vizItems());try{while(fm.moveNext()){var fn=fm.current();var fo=eB.create(fn);e.append(fo.element);if(ss.equalsT('redo',fn.get_iconType())){this.$x(fo)}}}finally{fm.dispose()}if(tsConfig.is_metrics_enabled){var fp=new eC(tab.Strings.ToolbarShowPerformanceRecording,'tab-icon-performance',ss.mkdel(this.$I,this.$I.showPerformanceMetrics));var fq=eB.create(fp);e.append(fq.element)}},rebuildNonVizItems:function(){this.get_dom().rightItems.empty();if(eI.$0()){this.$b(this.get_dom().rightItems);this.$9(this.get_dom().rightItems)}else{this.$9(this.get_dom().rightItems)}},$9:function(e){if(!spiff.FullscreenUtil.get_inFullscreenMode()){this.$q(null);this.$t(null);var fm=ss.getEnumerator(this.$I.get_nonVizItems());try{while(fm.moveNext()){var fn=fm.current();var fo=eB.create(fn);if(!ss.equalsT('public-logo',fn.get_iconType())){e.append(fo.element)}if(ss.equalsT('customviews',fn.get_iconType())){fo.get_dom().get_text().css('max-width','160px');this.$q(fo)}else if(ss.equalsT('edit',fn.get_iconType())){this.$t(fo)}else if(ss.equalsT('share',fn.get_iconType())){this.$z(fo)}else if(ss.equalsT('alert',fn.get_iconType())){this.$o(fo)}else if(ss.equalsT('subscribe',fn.get_iconType())){this.$B(fo)}}}finally{fm.dispose()}}if(this.get_viewModel().get_shouldShowCommenting()){var fp=E.get_instance().get_commentingModuleViewModel();var fq=function(){fp.done(function(fu){E.get_instance().get_rightAreaDrawerViewModel().set_content(fu);E.get_instance().get_rightAreaDrawerViewModel().toggle()})};var fr=new eC(tab.Strings.CommentingToolbarButtonLabel,'tab-icon-commenting',fq);var fs=eB.create(fr);e.append(fs.element);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(fs)}))}if(spiff.FullscreenUtil.get_fullscreenEnabled()&&!tsConfig.is_mobile){var ft=(spiff.FullscreenUtil.get_inFullscreenMode()?new eC(tab.Strings.ToolbarExitFullscreen,'tab-icon-exitFullscreen',spiff.FullscreenUtil.exitFullscreen):new eC(tab.Strings.ToolbarEnterFullscreen,'tab-icon-enterFullscreen',function(){spiff.FullscreenUtil.requestFullscreen(document.documentElement)}));this.$v(eB.create(ft));e.append(this.$u().element)}this.updateCustomViewsButton()},$d:function(){this.$l();this.$i()},updateCustomViewsButton:function(){if(ss.isNullOrUndefined(this.$p())){return}var e=this.$r().get_currentCustomViewName();if(ss.isNullOrUndefined(e)){this.$p().element.css('visibility','hidden')}else{this.$p().element.css('visibility','');this.$p().element.toggleClass('tab-customviews-modified',this.$r().get_dirty());var fm=tab.Strings.ToolbarCustomViewsTemplate(e);if(!ss.equalsT(this.$p().get_toolbarButton().get_label(),fm)){this.$p().get_toolbarButton().set_label(fm)}}},$f:function(){if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','-10000px')}this.get_dom().toolbar.width('10000px');eH.$2(this.get_dom().rightItems);eH.$3(this.$p());eH.$3(this.$s());eH.$3(this.$w());eH.$3(this.$n());eH.$3(this.$y());eH.$3(this.$A());if(this.$E===0){this.$C(!this.$I.get_shouldForceLabelsBelowIcons());eH.$1(this.get_dom().leftItems);eH.$1(this.get_dom().rightItems);this.$J=this.get_dom().leftItems.outerWidth(true);this.$F=this.get_dom().rightItems.outerWidth(true);this.$E=ss.coalesce(ss.Int32.trunc(this.get_dom().leftItems.children().first().outerWidth(true)),0)}eH.$4(this.get_dom().leftItems);eH.$4(this.get_dom().rightItems);if(this.$I.get_canPutLabelsUnderneath()){this.$C(false);this.$K=this.get_dom().leftItems.outerWidth(true);this.$G=this.get_dom().rightItems.outerWidth(true)}if(!this.$I.get_shouldForceLabelsBelowIcons()){this.$C(true);this.$L=this.get_dom().leftItems.outerWidth(true);this.$H=this.get_dom().rightItems.outerWidth(true)}this.get_dom().toolbar.width('');if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','')}this.$e()},$l:function(){this.$L=0;this.$K=0;this.$J=0;this.$H=0;this.$G=0;this.$F=0;this.$E=0},forceResizeToolbar:function(){this.$e()},$e:function(){var e=tabBootstrap.MetricsController.createContext('TBRHRE'.toString(),64,null);try{var fm=this.get_dom().leftItems;var fn=this.get_dom().rightItems;if(fm.children().length===0&&fn.children().length===0){return}eH.$2(fn);this.$m();eH.$0(fn);this.$k()}finally{if(ss.isValue(e)){e.dispose()}}},$h:function(e){switch(e.which){case 37:{this.$g(-1);break}case 39:{this.$g(1);break}default:{return}}e.preventDefault();e.stopPropagation()},$g:function(e){var fm=this.element.find('.tabToolbarButton:not(.disabled):focusable');var fn=this.element.find('.tabToolbarButton:focus');if(ss.isValue(fn[0])){var fo=fm.index(fn[0]);fm.eq((fo+e)%fm.length).focus()}},$k:function(){var e=ss.getEnumerator(this.$I.get_nonVizItems());try{while(e.moveNext()){var fm=e.current();if(ss.isValue(fm.popupViewModel)){fm.popupViewModel.updatePosition()}}}finally{e.dispose()}},$c:function(e,fm,fn){return!(fm+fn>=e)}},ss.makeGenericType(spiff.BaseView$1,[eI]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eI])]);ss.initClass(eI,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_viewCountLoaded:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_viewCountLoaded:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_shouldShowViewCount:function(){return eI.$0()&&tsConfig.showViewCount&&eI.publicViewCount>tsConfig.viewCountThreshold},get_shouldForceLabelsBelowIcons:function(){return this.get_canPutLabelsUnderneath()&&tsConfig.is_mobile},get_shouldShowCommenting:function(){return this.$2$4},set_shouldShowCommenting:function(e){this.$2$4=e},get_canPutLabelsUnderneath:function(){return eI.get_toolbarHeight()>40},get_viewCount:function(){return eI.publicViewCount},set_viewCount:function(e){eI.publicViewCount=e;if(this.get_shouldShowViewCount()){this.raiseActionEvent(this.$2$2)}},get_vizCommandItems:function(){return this.$c.get_vizCommandItems()},get_nonVizCommandItems:function(){return this.$c.get_nonVizCommandItems()},get_legacyMenuItems:function(){return this.$c.get_legacyMenuItems()},get_vizItems:function(){return this.$d},get_nonVizItems:function(){return this.$b},get_customViewsViewModel:function(){return this.$9},get_dialogHostViewModel:function(){return this.$2$5},set_dialogHostViewModel:function(e){this.$2$5=e},get_forceHideCustomViewsButton:function(){return this.$a},get_useSmallScreenToolbar:function(){var e=window.screen;return e.width<430||e.height<430},dispose:function(){this.$9.dispose();this.get_dialogHostViewModel().dispose();if(ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.dispose()}this.$5();spiff.BaseViewModel.prototype.dispose.call(this)},$4:function(e,fm){for(var fn=0;fn<e.length;fn++){var fo=e[fn];var fp=tab.CommandItemWrapper.create(fo);tab.Param.verifyValue(fo,'commandItem');switch(fp.get_commandsType()){case'separator':{fm.push(eC.createSeparator());break}case'item':{if(eC.shouldShowButton(fp,this)){this.$2(fo,fm)}break}case'subcommands':{if(fp.get_iconRes()==='toggle-updates'){var fq={$:this.$3(tab.CommandsPresModelWrapper.create(fp.get_commands()).get_commandItems(),fm)};var fr={$:tab.ApplicationModel.get_instance().get_workbook()};fr.$.withDashboard(ss.mkdel({workbook:fr,button:fq},function(){if(this.workbook.$.get_isCurrentSheetStoryboard()){this.button.$.set_enabled(false)}}))}break}}}},$5:function(){for(var e=0;e<this.$d.length;e++){var fm=this.$d[e];fm.dispose()}ss.clear(this.$d);for(var fn=0;fn<this.$b.length;fn++){var fo=this.$b[fn];fo.dispose()}ss.clear(this.$b)},$7:function(e,fm){if(this.$a&&this.$9.get_hasCustomViews()){this.$a=false;this.$6(null)}},$2:function(e,fm){var fn=eC.createFromCommandItem(e,'tab-icon-',this);var fo=this.get_dialogHostViewModel();fn.add_showDialogRequested(ss.mkdel(fo,fo.show));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var fp=this.get_dialogHostViewModel();fn.remove_showDialogRequested(ss.mkdel(fp,fp.show))})));fm.push(fn)},$3:function(e,fm){if(e.length!==2){return null}var fn=eG.createFromCommandItems(e[0],e[1],'tab-icon-');if(ss.isValue(fn)){fm.push(fn)}return fn},$6:function(e){var fm=tabBootstrap.MetricsController.createContext('TBRHNT'.toString(),64,null);try{this.$5();if(tsConfig.toolbarvis){this.$4(this.$c.get_vizCommandItems(),this.$d)}this.$4(this.$c.get_nonVizCommandItems(),this.$b);this.raiseActionEvent(this.$2$1)}finally{if(ss.isValue(fm)){fm.dispose()}}},isLegacyMenuItemEnabled:function(e){return this.$c.isLegacyMenuItemEnabled(e)},showPerformanceMetrics:function(){tab.CommandController.get().get_legacySession().saveAndOpenMetricsView()},showDialog:function(e){var fm=ss.getEnumerator(this.get_nonVizItems());try{while(fm.moveNext()){var fn=fm.current();if(ss.equalsT(e,fn.get_iconType())){if(e==='alert'){fn.execute()}else if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){fn.showDialog()}else{fn.showUberPopup($('.tabToolbarButton.'+e));$('.tab-glass').css('opacity','0.5').css('background-color','black')}return}}}finally{fm.dispose()}},createDataAlertDialogViewModel:function(e){if(e.dataAlertDialogMode==='edit'){this.dataAlertDialogViewModel=bs.new$1(e,bv.editDataAlertId())}else{this.dataAlertDialogViewModel=bs.new$1(e,'')}this.dataAlertDialogViewModel.add_disposed(ss.mkdel(this,function(fm){this.$8()}));this.raiseActionEvent(this.$2$3);return this.dataAlertDialogViewModel},$8:function(){this.dataAlertDialogViewModel=null},handleDataAlertUpdate:function(){if(bs.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){this.createDataAlertDialogViewModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm);return}if(!bs.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){return}if(!bs.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel=null;return}if(bs.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.updateFromDialogPresModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eJ,a,{add_closed:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_closed:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_prePosition:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_prePosition:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_positionCalculated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_positionCalculated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_showed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_showed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_positioned:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_positioned:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isShown:function(){return this.$k},get_body:function(){return this.$i.get_body()},get_location:function(){return this.$o},set_location:function(e){this.move(e)},get_horizontalOffset:function(){return this.$j},set_horizontalOffset:function(e){this.$j=e},get_verticalOffset:function(){return this.$s},set_verticalOffset:function(e){this.$s=e},get_lastLocation:function(){return this.$l},set_lastLocation:function(e){this.$l=e},get_calculatedShownArgs:function(){return this.$h},get_showAbove:function(){return this.$n},set_showAbove:function(e){this.$n=e},get_freezePositionWhileOpen:function(){return this.$2$6},set_freezePositionWhileOpen:function(e){this.$2$6=e},setTooltipBodyAndReposition:function(e,fm){this.requestLayout(ss.mkdel(this,function(){if(ss.isValue(fm)){fm()}this.get_body().empty().append(e)}))},isInSafeZone:function(e,fm){var fn=this.element.position();var fo=tab.DoubleUtil.roundToInt(this.element.outerWidth());var fp=tab.DoubleUtil.roundToInt(this.element.outerHeight());var fq=10;var fr=10;if(fm){fq+=this.get_horizontalOffset();fr+=this.get_verticalOffset()}return e.x>=fn.left-fq&&e.x<=fn.left+fo+fq&&e.y>=fn.top-fr&&e.y<=fn.top+fp+fr},show:function(e,fm){if(ss.isNullOrUndefined(fm)||this.$q){this.close();return}this.set_lastLocation(fm);this.ensureAttachedAndSized();this.$p=true;if(this.get_isShown()){this.setTooltipBodyAndReposition(e)}else{this.get_body().empty().append(e);this.requestLayout()}},move:function(e){if(!this.$k||ss.isNullOrUndefined(e)||ss.isValue(this.$o)&&this.$o.x===e.x&&this.$o.y===e.y){return}this.$l=e;this.requestLayout()},close:function(){this.set_freezePositionWhileOpen(false);this.$p=false;if(!this.$k){return}this.detach();this.$k=false;this.onClosed()},hideUntilReposition:function(){this.element.hide();this.$p=true},dispose:function(){this.close();if(!tsConfig.is_mobile){$(window).off(this.createNamespacedEventName('resize'))}spiff.Widget.prototype.dispose.call(this)},forceLayout:function(){this.$h=null;this.set_freezePositionWhileOpen(false);this.requestLayout()},requestLayout:function(e,fm){if(ss.isValue(e)){this.$m.push(e)}if(ss.isValue(fm)){Q.getViewport(ss.mkdel(this,function(fn){this.layoutTooltip(fn,fm)}))}else{Q.getViewport(ss.mkdel(this,this.layoutTooltip))}},onShowed:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},onPrePosition:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},onPositionCalculated:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},onPositioned:function(){if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}},onClosed:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},ensureAttachedAndSized:function(){if(!this.element.parent().is(document.body)){this.element.appendTo(document.body)}},$d:function(){if(tab.DomUtil.nodeHasTextSelection(this.element.get(0))){window.getSelection().removeAllRanges()}},detach:function(){this.$d();this.element.hide();this.element.detach();this.element.off(this.get_eventNamespace());this.element.find('*').off(this.get_eventNamespace()).removeClass('hover')},$6:function(e,fm){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(fm)){return null}this.$o=e;var fn=ss.isValue(this.$r)&&e.y>=ss.unbox(this.$r)-16;var fo=tab.DoubleUtil.roundToInt(this.element.height());var fp=tab.DoubleUtil.roundToInt(this.element.width());var fq=fm.getVisibleRoom(e,1);var fr;if(!(fq.roomRight>=fp+this.get_horizontalOffset())&&fq.roomRight+fq.roomLeft>=fp+this.get_horizontalOffset()){fr=parseInt(Math.max(0,fq.roomRight-fp).toString())}else{fr=this.get_horizontalOffset()}var fs=fo+this.get_verticalOffset();var ft=fp+fr;var fu;var fv;if(fq.roomRight>=ft){fu=true;fv=e.x+fr}else if(fq.roomLeft>=ft){fu=false;fv=e.x+ss.Int32.trunc(fq.roomRight)-ft}else{fu=true;fv=Math.max(0,e.x-ft+ss.Int32.trunc(fq.roomRight))}var fw=(this.get_showAbove()?this.$7(e,fq,fs,ft):this.$8(e,fq,fs,ft,fn));var fx=fw<=e.y;var fy=new eb;if(fx){if(fu){fy.position='AR'}else{fy.position='AL'}}else if(fu){fy.position='BR'}else{fy.position='BL'}fy.shownX=fv;fy.shownY=fw;fy.tooltipAnchorY=fw;fy.origX=e.x;fy.origY=e.y;fy.viewport=fm;return fy},$g:function(e){if(ss.isValue(e)){var fm=this.$b(e.position);if(!this.element.hasClass(fm)){this.element.removeClass('tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR');this.element.addClass(fm)}this.$h=e}},$c:function(){if(ss.isValue(this.$h)){this.element.css(ss.mkdict(['left',this.$h.shownX+'px','top',this.$h.shownY+'px']))}},$b:function(e){var fm;switch(e){case'AR':{fm='tab-tooltipAR';break}case'AL':{fm='tab-tooltipAL';break}case'BL':{fm='tab-tooltipBL';break}case'BR':default:{fm='tab-tooltipBR';break}}return fm},layoutTooltip:function(e,fm){this.element.css(ss.mkdict(['top','0','left','0']));if(this.get_freezePositionWhileOpen()){this.$a()}else if(fm){var fn=this.$6(this.get_lastLocation(),e);if(ss.isNullOrUndefined(fn)){return}this.$g(fn);this.$c()}else{this.$9();this.onPrePosition();var fo=this.$6(this.get_lastLocation(),e);if(ss.isNullOrUndefined(fo)){}if(!this.$e(fo)){this.$c();return}this.$g(fo);this.onPositionCalculated();if(this.$p){this.$p=false;this.$f()}this.$c();this.onPositioned()}},$a:function(){this.$9();this.$f();this.$c();this.onPositioned()},$f:function(){this.element.show();this.$k=true;this.onShowed()},$9:function(){for(var e=0;e<this.$m.length;e++){var fm=this.$m[e];fm()}ss.clear(this.$m)},$e:function(e){if(ss.isNullOrUndefined(e)){return false}if(this.$p){return true}if(eb.areShownArgsSame(e,this.$h)){return false}return true},$8:function(e,fm,fn,fo,fp){var fq;if(!fp&&fm.roomBelow>=fn){fq=e.y+this.get_verticalOffset();this.$r=null}else if(!fp&&fm.roomAbove>=fn&&fm.roomRight>=fo){fq=e.y+(ss.Int32.trunc(fm.roomBelow)-fn+this.get_verticalOffset())}else if(fm.roomAbove>=fn){fq=e.y-fn;if(!ss.isValue(this.$r)){this.$r=e.y}}else{fq=Math.max(0,e.y-ss.Int32.trunc(fm.roomAbove))}return fq},$7:function(e,fm,fn,fo){var fp;if(fm.roomAbove>=fn){fp=e.y-fn;if(!ss.isValue(this.$r)){this.$r=e.y}}else if(fm.roomBelow>=fn){fp=e.y+this.get_verticalOffset();this.$r=null}else if(fm.roomAbove>=fn&&fm.roomRight>=fo){fp=e.y+(ss.Int32.trunc(fm.roomBelow)-fn+this.get_verticalOffset())}else{fp=Math.max(0,e.y-ss.Int32.trunc(fm.roomAbove))}return fp},setSuppressTooltip:function(e){this.$q=e;if(this.$q&&this.$k&&!this.isInSafeZone(this.get_lastLocation(),false)){this.close()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cL]);ss.initClass(eL,a,{add_tooltipClosed:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_tooltipClosed:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_mouseExitedTooltip:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_mouseExitedTooltip:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_ubertipUpdated:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_ubertipUpdated:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_ubertipActionExecuted:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_ubertipActionExecuted:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_isTooltipShown:function(){return this.$k.get_isShown()},get_visualIDPresModel:function(){return this.visualId},get_tooltip:function(){return this.$k},get_ubertip:function(){return this.$l},get_currentBehavior:function(){return this.$2(this.get_currentBehaviorType())},get_currentBehaviorType:function(){return this.$g},get_defaultBehaviorType:function(){return this.$h},get_ubertipShouldEnforceButtonOrdering:function(){return false},get_currentTooltipMode:null,get_multiSelectCompleteBehavior:function(){return'sticky'},get_hasContextProvider:function(){return ss.isValue(this.$f)},$e:function(){return ss.mkdel(this,this.$4)},get_testUseOnlyLastHoveredObjectID:function(){return eL.$1},set_testUseOnlyLastHoveredObjectID:function(e){eL.$1=e},close:function(){this.$k.close()},hoverOverObject:function(e,fm,fn,fo,fp,fq,fr,fs){if(!this.readyForHover){return}if(ss.isNullOrUndefined(fo)){return}var ft=this.getHoverBehavior(fr);this.switchTooltipMode(ft);var fu=ss.referenceEquals(fo.toString(),eL.$1);var fv=ss.mkdel(this,function(fx){var fy=fs==='viz'&&eL.isUbertipHtmlEmpty(fx);this.get_currentBehavior().hoverOverObject(e,fp,fy,fu)});if(fr==='mark'&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(fq)&&!this.shouldForceRemoteTooltipForObject(fr,fo)){if(fu){fv(this.get_ubertip().get_model())}else{var fw=this.getAffectedObjects('mark',fo);this.runBehaviorWithLocalUbertip(fv,fo,fw,fm,fn,fq,fs,fr,'on-hover')}}else{this.runBehaviorWithRemoteUbertip(fv,{x:fn.x,y:fn.y,w:0,h:0},fs,'on-hover',fr,null,null,false,null)}},hoverOverWhitespace:function(e,fm){if(!this.readyForHover){return}var fn='W'===eL.$1;this.get_currentBehavior().hoverOverWhitespace(e);if(this.get_currentBehavior().isHoverAllowed(e)){if(!fn){var fo=this.needRemoteCommand(fm,'whitespace','on-hover',0,null);if(fo===1){eL.$1='W';this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},fm,'on-hover','whitespace',null,null,false,null)}else if(fo===2){eL.$1='W';this.$m=tab.MiscUtil.clearTimeout(this.$m);this.$m=window.setTimeout(ss.mkdel(this,function(){this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},fm,'on-hover','whitespace',null,null,false,null)}),200)}}}else if(this.$k.get_isShown()){eL.$1='W';this.$k.close()}},hoverOverHeader:function(e,fm,fn,fo,fp){if(!this.readyForHover){return}var fq=fp.length>0&&tab.ActionUtils.getApplicableActions(this.visualId.worksheet,'on-hover','url').length>0;if(fq){var fr=!ss.referenceEquals(fp.toString(),eL.$1);this.hoverOverCoordinates(e,fm,fn,fo,null,fp,fr)}else{this.hoverOverCoordinates(e,fm,fn,fo,null,null,false)}},hoverOverCoordinates:function(e,fm,fn,fo,fp,fq,fr){if(!this.readyForHover){return}eL.$1=(ss.isValue(fq)?fq.toString():'U');var fs=this.getHoverBehavior(fn);this.switchTooltipMode(fs);var ft=ss.mkdel(this,function(fu){var fv=fo==='viz'&&eL.isUbertipHtmlEmpty(fu);this.get_currentBehavior().hoverOverObject(e,false,fv,false)});this.runBehaviorWithRemoteUbertip(ft,{x:fm.x,y:fm.y,w:0,h:0},fo,'on-hover',fn,fp,fq,fr,null)},singleSelectComplete:function(e,fm,fn,fo,fp,fq,fr){var fs=this.getSingleSelectBehavior(fq);this.switchTooltipMode(fs);this.suppressHoverIfNecesary();var ft=this.getSingleSelectBehaviorCallback(e);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&fq==='mark'){var fu=this.getAffectedObjects(fq,fo);this.runBehaviorWithLocalUbertip(ft,fo,fu,fm,fn,fp,fr,fq,'on-select')}else{var fv={x:fn.x,y:fn.y,w:0,h:0};this.runBehaviorWithRemoteUbertip(ft,fv,fr,'on-select',fq,null,null,false,null)}},singleSelectCoordinates:function(e,fm,fn,fo,fp){var fq=this.getSingleSelectBehavior(fo);this.switchTooltipMode(fq);var fr=ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(fr,{x:fm.x,y:fm.y,w:0,h:0},fn,'on-select',fo,fp,null,false,null)},multiSelectComplete:function(e,fm,fn){this.switchTooltipMode(this.get_multiSelectCompleteBehavior());this.suppressHoverIfNecesary();var fo=ss.mkdel(this,function(){this.get_currentBehavior().multiSelectComplete(e);eL.$1='U';if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(fo,fm,fn,'on-select','unspecified',null,null,false,null)},selectionMoved:function(e){this.get_currentBehavior().selectionMoved(e)},repositionWithinRegion:function(e){this.get_currentBehavior().repositionWithinRegion(e)},onTap:function(){},onScroll:function(){this.get_currentBehavior().onScroll()},onMoving:function(){},onDragEnd:function(e){},onPanOrDragStart:function(e){this.get_currentBehavior().onPanningOrDragging()},onPinchEnd:function(e){},onPress:function(){},onMouseLeaveTheView:function(){eL.$1='U'},dispose:function(){if(ss.keyExists(this.tooltipBehaviors,this.get_currentBehaviorType())){this.tooltipBehaviors[this.get_currentBehaviorType()].detach()}this.disposables.dispose();this.get_tooltip().get_body().off('mouseleave.basemode');this.get_tooltip().dispose();this.get_tooltip().remove_closed(ss.mkdel(this,this.$6));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().remove_showed(ss.mkdel(this,this.$0));this.get_ubertip().remove_commandExecuted(ss.mkdel(this,this.$a));this.get_ubertip().remove_actionExecuted(ss.mkdel(this,this.$9));this.$l.remove_ubertipMenuToggled(ss.mkdel(this,this.$c));this.$l.remove_ubertipMenuClosed(ss.mkdel(this,this.$b));this.get_ubertip().dispose()},shownTooltipIsStatic:function(){return this.get_currentBehavior().shownTooltipIsSticky()},isHoverAllowed:function(e){return this.get_currentBehavior().isHoverAllowed(e)},clearTooltipWithFakeHover:function(){if(!this.get_tooltip().get_isShown()||ss.isNullOrUndefined(this.get_tooltip().get_lastLocation())||!this.get_tooltip().isInSafeZone(this.get_tooltip().get_lastLocation(),false)){this.hoverOverWhitespace({x:-1,y:-1},'viz')}},suppress:function(e){this.$k.setSuppressTooltip(e);this.readyForHover=!e},buildBehaviorsDictionary:null,getSingleSelectBehaviorCallback:null,getSingleSelectBehavior:function(e){return this.$h},getHoverBehavior:function(e){return this.$h},shouldForceRemoteTooltipForObject:function(e,fm){return false},suppressHoverIfNecesary:function(){this.readyForHover=false},onBehaviorSwitch:function(){},modelUpdateCallback:function(e){eL.$2=e.tupleId;if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&this.get_currentBehaviorType()==='smooth'&&ss.isValue(e.markBounds)){this.get_currentBehavior().serverMarkBounds=e.markBounds}this.$k.setTooltipBodyAndReposition(this.get_ubertip().element,ss.mkdel(this,function(){var fm=ss.isValue(e)&&e.tupleId===0;if(!fm&&!ss.referenceEquals(e.tupleId,eL.$2)){return}var fn=this.$l.get_model();this.updateTooltipFromModel(e);this.updateUbertipFromModel(e);if(!ss.staticEquals(this.$1$3,null)){this.$1$3(e)}if(ss.isValue(fn)&&fn.requestId===e.requestId){this.get_ubertip().updatePartiallyFromRemote(fn)}}))},updateModelFromServerResponse:function(e){this.get_ubertip().updatePartiallyFromRemote(e)},updateUbertipFromModel:function(e){e.tooltipOffset=(ss.isValue(this.$l.get_model())?this.$l.get_model().tooltipOffset:null);if(!_.isEqual(e,this.$l.get_model())){this.$l.set_model(e)}},updateTooltipFromModel:function(e){this.get_tooltip().tupleId=e.tupleId;if(ss.isValue(e.tooltipOffset)){if(ss.isValue(e.tooltipOffset.x)){this.get_tooltip().set_horizontalOffset(16+e.tooltipOffset.x)}if(ss.isValue(e.tooltipOffset.y)){this.get_tooltip().set_verticalOffset(16+e.tooltipOffset.y)}}else{this.get_tooltip().set_horizontalOffset(16);this.get_tooltip().set_verticalOffset(16)}},switchTooltipMode:function(e){if(this.get_currentBehaviorType()===e){return false}var fm=this.get_currentBehavior();fm.detach();var fn=this.$2(e);fn.attach();this.$g=e;this.onBehaviorSwitch();return true},prepareForPositioning:function(){this.$l.prepareForPositioning(this.shouldShowCommandButtons()&&this.$l.hasActionsOrSummaryOrCommands())},triggerUbertipButtonUpdate:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()&&this.$l.get_isShowingFullUbertip()){return}this.$k.forceLayout()},handleUbertipButtons:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.$l.showCommandAreaAndActions()}else{this.$l.hideMenuActionsAndCommandButtons(true)}},shouldShowCommandButtons:function(){return this.get_currentBehavior().shouldShowCommandButtons()},shouldAddCommandButtonsAndActions:function(){return true},getAffectedObjects:function(e,fm){var fn=null;if(this.get_hasContextProvider()){if(ss.contains(this.$f.getSelectedObjects(e),fm)){fn=this.$f.getSelectedObjects(e)}else{fn=[fm]}}return fn},isUbertipObjectSelected:function(e){if(ss.isNullOrUndefined(e)){return false}var fm=((this.get_hasContextProvider()&&e.interactedTupleId!==0)?this.$f.isMarkSelected(e.interactedTupleId):e.tupleSelected);if(fm){return true}var fn=e.refLineSelected||e.trendLineSelected;if(fn){return true}var fo=e.imageRegion;var fp=fo==='bottomaxis'||fo==='leftaxis'||fo==='rightaxis'||fo==='topaxis';if(fp){return true}var fq=fo==='xheader'||fo==='yheader';return fq},runBehaviorWithLocalUbertip:function(e,fm,fn,fo,fp,fq,fr,fs,ft){var fu=fm.toString();if(!ss.referenceEquals(eL.$1,fu)){this.$m=tab.MiscUtil.clearTimeout(this.$m)}eL.$4+=1;eL.$3=this.visualId;var fv=eL.$4;var fw=ss.mkdel(this,function(fA){if(!this.$5(fv.toString())){if(!ss.referenceEquals(this.visualId,eL.$3)){this.readyForHover=true}return}if(ss.isValue(fA)){this.$3(fA,e,fv,fr,function(){eL.$1=fu;eL.$2=fm})}});var fx=ss.mkdel(this,function(fA){if(!this.$5(fv.toString())||!ss.isValue(fA)){return}fA.requestId=fv;this.updateModelFromServerResponse(fA)});var fy=new tab.LocalUbertipInfo(fm,fn,fq,false);var fz=this.needRemoteCommand(fr,fs,ft,fm,fq);if(fz===1){tab.UberTipClientCommands.localAndRemoteUberTipCommand(fo,fr,this.visualId,{x:fp.x,y:fp.y,w:0,h:0},fm,fy,fw,fx,this.$e(),ft)}else{tab.UberTipClientCommands.localOnlyUbertipCommand(fo,this.visualId,fy,fw)}if(fz===2){this.$m=window.setTimeout(ss.mkdel(this,function(){tab.UberTipClientCommands.remoteOnlyUbertipCommand(fr,this.visualId,{x:fp.x,y:fp.y,w:0,h:0},fx,this.$e(),ft,null,null,false,eL.$2)}),200)}},runBehaviorWithRemoteUbertip:function(e,fm,fn,fo,fp,fq,fr,fs,ft){var fu=(ss.isValue(fr)?fr.toString():((fp==='whitespace')?'W':'U'));if(!ss.referenceEquals(eL.$1,fu)){this.$m=tab.MiscUtil.clearTimeout(this.$m)}eL.$4+=1;eL.$3=this.visualId;var fv=eL.$4;var fw=ss.mkdel(this,function(fx){if(!this.$5(fv.toString())){if(!ss.referenceEquals(this.visualId,eL.$3)){this.readyForHover=true}return}if(ss.isValue(fx)){this.$3(fx,e,fv,fn,null)}else{this.$1();eL.$1=fu}});tab.UberTipClientCommands.remoteOnlyUbertipCommand(fn,this.visualId,fm,fw,this.$e(),fo,fq,fr,fs,ft)},needRemoteCommand:function(e,fm,fn,fo,fp){if(tsConfig.is_authoring&&this.get_currentTooltipMode()==='sticky'||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||e!=='viz'||fm!=='mark'&&fm!=='whitespace'||fn!=='on-hover'||this.$i||ss.isNullOrUndefined(this.$f)||this.$f.isMarkSelected(fo)){return 1}if(this.hasViT(fp)){return 2}return 0},hasViT:function(e){return(tab.FeatureFlags.isEnabled('VizInTooltip')?tab.UbertipSerializer.paneContainsViT(tab.ModelUtils.getVisualModelFromVisualId(this.visualId),e):false)},$4:function(){this.get_ubertip().handleRemoteFailure();this.readyForHover=true},$3:function(e,fm,fn,fo,fp){e.requestId=fn;this.modelUpdateCallback(e);if(!ss.staticEquals(fp,null)){fp()}if(fo==='viz'&&e.isExplicitlyEmpty){this.$1();return}if(ss.isValue(fm)){fm(e)}},$1:function(){this.$k.close();this.readyForHover=true},$0:function(){if(this.get_isTooltipShown()){this.readyForHover=true}},$2:function(e){return this.tooltipBehaviors[e]},$6:function(){this.readyForHover=true;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$9:function(e,fm){this.get_tooltip().close();if(!ss.staticEquals(this.$1$4,null)){this.$1$4(e,fm)}},$a:function(e,fm){var fn=ss.isValue(fm.command)&&fm.command.get_commandType()===23;if(!fn){this.get_tooltip().close()}if(!ss.staticEquals(this.$1$5,null)){this.$1$5(e,fm)}if(fn){this.$d()}},$d:function(){this.$k.set_freezePositionWhileOpen(true);var e=null;var fm=ss.isValue(eL.$2)&&ss.unbox(eL.$2)!==0;if(!fm){return}e=eL.$2;this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},'viz','on-select','mark',null,null,false,e)},$c:function(e){this.$j=e;this.get_currentBehavior().handleUbertipMenuToggle(e)},$b:function(){this.$j=false;this.get_currentBehavior().handleUbertipMenuClose()},$7:function(){this.$k.close()},$5:function(e){if(ss.isValue(e)&&!ss.referenceEquals(eL.$4.toString(),e)){return false}return true},$8:function(e){if(!this.get_tooltip().get_isShown()||ss.staticEquals(this.$1$2,null)||this.$j){return}var fm=tab.DomUtil.getRectXY(this.get_tooltip().get_body());if(fm.x>e.pageX||fm.x+fm.w<=e.pageX||fm.y>e.pageY||fm.y+fm.h<=e.pageY){this.$1$2({x:e.pageX,y:e.pageY})}}});ss.initClass(eK,a,{get_currentTooltipMode:function(){return'sticky'},onTap:function(){this.get_tooltip().close()},onPress:function(){this.get_tooltip().close()},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e)})},shouldForceRemoteTooltipForObject:function(e,fm){var fn=this.getAffectedObjects(e,fm);return e==='mark'&&ss.isValue(fn)&&fn.length>1},showCommandAreaAndActions:function(){this.get_ubertip().showCommandAreaAndActions()}},eL);ss.initEnum(eM,a,{unspecified:'unspecified',sticky:'sticky',smooth:'smooth',disabled:'disabled'},true);ss.initClass(eN,a,{getSelectedObjects:function(e){if(e==='mark'){return this.$0.tupleSelection.get_ids()}else{return null}},isMarkSelected:function(e){return this.$0.tupleSelection.isObjectSelected(e)}});ss.initClass(eO,a,{get_body:function(){return this.getElementBySelector('.tab-tooltipContent')}},spiff.Template,[ss.IDisposable]);ss.initClass(eP,a,{add_commandExecuted:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandExecuted:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_actionExecuted:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_actionExecuted:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_ubertipMenuToggled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_ubertipMenuToggled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_ubertipMenuClosed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_ubertipMenuClosed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$19},set_model:function(e){this.$19=e;this.$y()},get_isShowingFullUbertip:function(){return this.$13.is(':visible')||this.$10.is(':visible')},$Y:function(){return this.$17&&this.hasSummary()},dispose:function(){this.element.detach();this.$1e.remove_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1e.remove_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));tab.MiscUtil.dispose(this.$1c);this.$d();this.$e();spiff.Widget.prototype.dispose.call(this)},$d:function(){if(!ss.staticEquals(this.$12,null)){this.$1e.remove_positioned(this.$12);this.$12=null}},hasActions:function(){if(ss.isNullOrUndefined(this.$19)){return false}var e=ss.isValue(this.$19.actionPMs)&&this.$19.actionPMs.length>0;var fm=ss.isValue(this.$19.actions)&&this.$19.actions.length>0;return e||fm},hasCommands:function(){if(ss.isNullOrUndefined(this.$19)){return false}return ss.isValue(this.$19.buttonModels)&&this.$19.buttonModels.length>0},hasSummary:function(){if(ss.isNullOrUndefined(this.$19)){return false}return ss.isValue(this.$19.selectionHtml)},hasActionsOrSummaryOrCommands:function(){return this.hasActions()||this.hasSummary()||this.hasCommands()},hideMenuActionsAndCommandButtons:function(e){if(this.get_isShowingFullUbertip()&&e){this.$1e.requestLayout(ss.mkdel(this,function(){this.$I();this.$14.css('min-width','')}))}else{this.$I();this.$14.css('min-width','')}},prepareForPositioning:function(e){if(e){if(!this.$1e.get_isShown()){this.element.css('width','');this.$E(false)}}else{this.hideMenuActionsAndCommandButtons(false);this.$x()}},showCommandAreaAndActions:function(){if(ss.isNullOrUndefined(this.$1e.get_calculatedShownArgs())){return}if(this.$z()){this.updateTooltipAnchor()}else{this.$F()}},$z:function(){return this.get_isShowingFullUbertip()&&!this.$1e.get_freezePositionWhileOpen()},updateTooltipAnchor:function(){if(!this.$b()){return}var e=this.$1e.get_calculatedShownArgs();if(e.shownY===e.tooltipAnchorY){var fm=tab.DoubleUtil.roundToInt(this.$13.outerHeight());e.tooltipAnchorY=e.shownY+fm}},$F:function(){this.$f();var e=this.get_isShowingFullUbertip();this.$I();var fm=!this.$1e.get_isShown()||tab.DoubleUtil.roundToInt(this.element.outerHeight())===0;if(fm){this.$E(false)}else{this.$G(e)}},$G:function(e){var fm=this.$1e.get_calculatedShownArgs();var fn={x:fm.shownX,y:fm.tooltipAnchorY};var fo=fm.viewport.getVisibleRoom(fn,1);var fp=ss.Int32.trunc(fo.roomBelow);var fq=ss.Int32.trunc(fo.roomRight);this.$E(false);this.$14.css('min-width',this.$g()+'px');var fr=this.$o();if(fr>this.$1b){this.$1b=fr}this.$D(this.$1b);var fs=tab.DoubleUtil.roundToInt(this.element.outerHeight());var ft=tab.DoubleUtil.roundToInt(this.$13.outerHeight());var fu=this.$p(fs,ft);if(!e){if(fu>fp||fr>fq){this.$B(ft);fu=this.$p(fs,ft)}}else if(fr>fq){this.$C(fr,fq)}if(fu>fp&&this.$10.outerHeight()>0){this.$S(fp,fu,fn.y)}else{this.$l(ft,fp,fu,fn.y,!e)}},$p:function(e,fm){return 2+(this.$b()?(e-fm):e)},$B:function(e){this.$1e.layoutTooltip(this.$1e.get_calculatedShownArgs().viewport,true);this.handleTooltipPositionCalculated();if(this.$1a==='AL'||this.$J()){this.$1e.get_calculatedShownArgs().shownY=this.$1e.get_calculatedShownArgs().shownY+e;this.$1e.get_calculatedShownArgs().tooltipAnchorY=this.$1e.get_calculatedShownArgs().shownY}},$C:function(e,fm){var fn=this.$1e.get_calculatedShownArgs().shownX;var fo=2+e-fm;this.$1e.get_calculatedShownArgs().shownX=Math.max(0,fn-fo)},$S:function(e,fm,fn){var fo=2+fm-e;var fp=fn-fo;this.$1e.get_calculatedShownArgs().shownY=fp;if(!this.$b()){this.$1e.get_calculatedShownArgs().tooltipAnchorY=fp}},$l:function(e,fm,fn,fo,fp){var fq=this.$1e.get_calculatedShownArgs().tooltipAnchorY;if(this.$b()){fq-=e}var fr=fo+fm;var fs=Math.min(fq,fr-fn);this.$I();this.$d();this.$12=ss.mkdel(this,function(){this.$H(fm,fn,fs,fo,fp)});this.$1e.add_positioned(this.$12)},$H:function(e,fm,fn,fo,fp){this.$d();this.$E(fp);switch(this.$1a){case'BR':{if(fp){this.$X(fo-tab.DoubleUtil.roundToInt(this.$13.height()),false)}this.$X(fn,fp);break}case'AR':{if(e<fm||!this.$J()){this.$X(fn,fp)}break}case'BL':case'AL':{this.$X(fn,fp);break}default:{break}}},$X:function(e,fm){if(fm){this.$1e.element.animate(ss.mkdict(['top',e+'px']),'fast')}else{this.$1e.element.css('top',e+'px')}},$b:function(){return this.$1a==='BL'||this.$1a==='BR'},$J:function(){return(this.$1a==='AR'||this.$1a==='BR')&&this.$1e.get_calculatedShownArgs().shownX>this.$1e.get_calculatedShownArgs().origX},handleRemoteFailure:function(){if(this.$18){this.$18=false;if(tab.BaseSession.get_waitHandler().isBusy()){tab.BaseSession.get_waitHandler().reset()}}},hideSpinner:function(){if(tab.BaseSession.get_waitHandler().isBusy()){tab.BaseSession.get_waitHandler().reset()}},handleTooltipPositionCalculated:function(){if(ss.isValue(this.$1a)&&this.$1a===this.$1e.get_calculatedShownArgs().position){return}switch(this.$1e.get_calculatedShownArgs().position){case'AL':case'AR':{this.$15.after(this.$13);this.$14.before(this.element.find('.tab-ubertipSelected'));break}case'BL':case'BR':{this.$15.before(this.$13);this.element.find('.tab-clear').after(this.element.find('.tab-ubertipSelected'));break}}this.$1a=this.$1e.get_calculatedShownArgs().position},handleTooltipShowed:function(){this.$8()},$8:function(){if(this.element.width()===0){return}var e=this.$o();this.$D(e)},$o:function(){return Math.ceil(Math.min(this.element.width(),$(document.body).width()-2))},updatePartiallyFromRemote:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.$19)){this.set_model(e);return}this.$19.requestId=e.requestId;this.$T(e);this.$L(e);this.$P(e);if(tab.VizDataUtils.objectContainsVizInTooltip(this.element)){this.$V(e)}},$P:function(e){var fm=[];var fn=null;var fo=null;if(ss.isValue(this.$19)){fn=eP.$7(e)||eP.$8(e);fo=eP.$4(this.$19,10)}if(ss.isValue(fn)){if(!this.$Y()){e.buttonModels=_.without(e.buttonModels,fn);e.buttonModels.push(fn);fm.push(e.buttonModels.length-1)}}else if(ss.isValue(fo)){e.buttonModels.push(fo)}this.$19.buttonModels=e.buttonModels;this.$O(fm)},$T:function(e){this.$19.selectionHtml=e.selectionHtml;this.$R();if(ss.isValue(this.$19.selectionHtml)&&this.get_isShowingFullUbertip()){this.$x();this.$8()}},$L:function(e){this.$19.actionPMs=e.actionPMs;this.$19.actions=e.actions;this.$K();this.$w()},$V:function(e){if(ss.referenceEquals(this.$19.tooltipHtml,e.tooltipHtml)){return}this.$v(e.tooltipHtml);this.$19.tooltipHtml=e.tooltipHtml;this.$U();this.$Q();this.$1e.requestLayout()},$w:function(){if(this.$18){this.$18=false;if(ss.isValue(this.$19)){for(var e=0;e<this.$19.actions.length;e++){var fm=this.$19.actions[e];if(ss.referenceEquals(fm.get_name(),this.$Z)){var fn=new o;fn.action=fm;this.onActionExecuted(fn)}}}}},onCommandExecuted:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,e)}},onActionExecuted:function(e){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,e)}},$e:function(){this.$16.dispose()},$D:function(e){this.element.css('min-width',e+'px');this.$1b=e},$f:function(){this.element.css('min-width','')},$y:function(){this.$e();this.element.show();this.$U();this.$K();this.$O(null);this.$Q();this.$R();this.$x();var e=tab.MiscUtil.isNullOrEmpty$1(this.$19.actions);var fm=tab.MiscUtil.isNullOrEmpty$1(this.$19.actionPMs);var fn=ss.isNullOrEmptyString(this.$19.tooltipHtml);var fo=e&&fm&&fn;if(fo){this.$15.addClass('hide')}else{this.$15.removeClass('hide')}},$x:function(){this.$f();this.$15.css('height','');this.$13.css('height','');var e=this.computeAdjustedTooltipWidth();if(e>0){this.$D(e)}else if(this.element.width()>0){this.$1b=tab.DoubleUtil.roundToInt(this.element.width())}else{this.$1b=0}},computeAdjustedTooltipWidth:function(){var e=tab.DoubleUtil.roundToInt(this.element.width());var fm=-1;var fn=tab.FeatureParamsLookup.getInt(18);if(!ss.isValue(fn)){fn=70}if(e>0&&this.$1b>0&&this.$1b>=e&&this.$1b-e<=ss.unbox(fn)){fm=this.$1b}return fm},$g:function(){var e=0;this.$14.find('li').each(function(fm,fn){e+=fn.firstChild.offsetWidth});return e},$I:function(){this.$1e.element.stop();this.$10.stop();this.$13.stop();this.$10.hide();this.$13.hide()},$E:function(e){if(ss.isNullOrUndefined(this.get_model())){return}if(this.hasActions()){if(e){this.$10.show()}else{this.$10.show()}}if(this.hasCommands()||this.hasSummary()){if(e){this.$13.slideDown('fast')}else{this.$13.show()}}},$U:function(){var e=$(this.$19.tooltipHtml);var fm=this.element.find('.tab-ubertipTooltip');var fn=eP.$5(fm);this.$c(e,fn);fm.html('').append(e);this.$W()},$v:function(e){var fm=tab.DomUtil.roomAroundPosition(this.$1e.element.position());var fn=$(e);var fo=fn.find('span[data-tableau="VizInTooltip"] img');var fp=fo.length;var fq=2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;for(var fr=0;fr<fp;fr++){var fs=parseInt(fo[fr].getAttribute('width'))+2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;fq+=parseInt(fo[fr].getAttribute('height'));if(fs>=fm.roomRight||fq>=fm.roomBelow){this.$1e.hideUntilReposition();return}}var ft=$(this.$19.tooltipHtml);var fu=ft.find('span[data-tableau="VizInTooltip"]');var fv=fu.length;var fw=2+SharedWidgets.TabStyles.Spacing.MediumSpace*2;for(var fx=0;fx<fv;fx++){fw+=parseInt(fu[fx].style.height)}if(tab.DoubleUtil.roundToInt(this.$1e.element.outerHeight())-fw+fq>=fm.roomBelow){this.$1e.hideUntilReposition()}},$W:function(){this.$1e.get_body().css('max-width','');this.$1e.element.css('max-width','');tab.VizDataUtils.updateLastVizInTooltipSizes(this.$19.tooltipHtml);var e=SharedWidgets.TabStyles.Spacing.MediumSpace*2;var fm=tab.VizDataUtils.widestVizInTooltip+e;if(fm>740){this.$1e.get_body().css('max-width',(fm+'px').toString());this.$1e.element.css('max-width',(fm+2+'px').toString())}},$c:function(e,fm){ss.clear(this.$1d);var fn=e.find('a.relax-selection');for(var fo=0;fo<fn.length;fo++){this.$A(fn,fo,fm)}},$A:function(e,fm,fn){var fo=e.eq(fm);var fp=fo.children().eq(0);fp.unwrap().unwrap();if(tab.MiscUtil.isNullOrEmpty$3(fp.eq(0).html())){fp.remove();return}if(tsConfig.allow_select){if(fp.css('text-decoration')==='underline'){fp.addClass('tab-selection-relaxation-underlined')}fp.addClass('tab-selection-relaxation');fp.css('text-decoration','');if(fm===fn){fp.addClass('tab-selection-relaxation-selected')}var fq=fo.attr('href');this.$1d.push(new m(fq,fp))}},$R:function(){if(ss.isNullOrUndefined(this.$19.selectionHtml)){this.element.find('.tab-ubertipSelected').html('').addClass('hide')}else{this.element.find('.tab-ubertipSelected').html('').append(this.$19.selectionHtml).removeClass('hide')}},$a:function(e,fm,fn,fo){if(!e.get_hasItems()){return false}var fp=[];fe.newMenuItemsFromCommands(fp,e.get_wrappedCommandItemPresModel().get_commands(),fe.createDropdownMenuCommandHandler,tab.PermissionManager.buildCommandPermission());if(fp.length===0){return false}var fq=this.$j(e);var fr=new spiff.MenuViewModel(true);fr.set_menu(new spiff.Menu(fp));var fs=fr;var ft=ss.mkdel(this,function(){this.$t(fs,fq)});fq.add_click(ft);fs.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);var fu=function(){fs.hide()};this.$1e.add_closed(fu);this.$16.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){fq.remove_click(ft);fs.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);fs.remove_hidden(ss.mkdel(this,this.$u));this.$1e.remove_closed(fu)})));if(fo){fq.element.fadeIn()}if(fn){fm.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var fv=$('<li></li>');fv.append(fq.element);fm.append(fv);this.$16.add$1(fs);tab.ObjectRegistry.newView(spiff.MenuView).call(null,[fs]);return true},$u:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},$t:function(e,fm){if(e.get_visible()){e.remove_hidden(ss.mkdel(this,this.$u));e.hide();if(!ss.staticEquals(this.$2$3,null)){this.$2$3(false)}}else{e.add_hidden(ss.mkdel(this,this.$u));var fn=new spiff.ShowMenuOptions(fm.element,true);e.show(fn);if(!ss.staticEquals(this.$2$3,null)){this.$2$3(true)}}},$O:function(e){if(!this.$11){return}var fm=false;var fn=$('<ul></ul>');if(ss.isValue(this.$19.buttonModels)){for(var fo=0;fo<this.$19.buttonModels.length;++fo){var fp=this.$19.buttonModels[fo];if(fp.get_isPlaceholder()){continue}if(fp.get_isMenuButton()){var fq=ss.isValue(e)&&ss.contains(e,fo);fm=this.$a(fp.get_asMenuButton(),fn,fm,fq)||fm}else if(fp.get_status()!=='hidden'){var fr=ss.isValue(e)&&ss.contains(e,fo);this.$9(fp,fn,fm,fr);fm=true}}}this.$7(fn,fm);if(fm){this.$14.html('').append(fn).removeClass('hide')}else{this.$14.html('').addClass('hide')}},$9:function(e,fm,fn,fo){var fp=this.$i(e);fp.set_context(e.get_legacyCommandModel());this.$6(fp,ss.mkdel(this,this.$s));if(ss.keyExists(eP.$n,e.get_commandType())){fp.element.width(eP.$n[e.get_commandType()])}if(fo){fp.element.fadeIn()}if(fn){fm.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var fq=$('<li></li>');fq.append(fp.element);fm.append(fq)},$i:function(e){var fm=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var fn=eP.$a(eP.$6(e),e.get_name());var fo=$('<div>'+fn+'</div>');fm.setLabelContents(fo)}else{fm.set_label(e.get_name());fm.set_hoverTooltipText(e.get_description())}var fp=new ss.StringBuilder('tab-command');if(ss.isNullOrEmptyString(e.get_imageRes())){fp.append(e.get_commandType())}else{fp.append(eP.$6(e))}fp.append(' ').append(e.get_status());fm.element.addClass(fp.toString());if(e.get_status()==='disabled'){fm.set_disabled(true)}this.$16.add$1(fm);return fm},$j:function(e){var fm=(ss.isValue(e.get_imageRes())?this.$k(e):eP.$2(e));eP.$3(fm);this.$16.add$1(fm);return fm},$k:function(e){var fm=spiff.LabelButton.newMenuButton();fm.set_hoverTooltipText(e.get_description());var fn=eP.$9(e.get_wrappedCommandItemPresModel().get_iconRes());eP.$0(fm,fn);eP.$d(fm,e,fn);return fm},$7:function(e,fm){if(ss.isValue(this.get_model().buttonModels)){var fn=this.get_model().buttonModels;for(var fo=0;fo<fn.length;fo++){var fp=fn[fo];if(!fp.get_isPlaceholder()){continue}var fq=$("<li><div class='tab-separator'>&nbsp;</div></li>");var fr=eP.$1(fp);this.$16.add$1(fr);var fs=$('<li></li>');fs.append(fr.element);if(fp.get_commandType()===10&&this.$Y()&&fm){var ft=_.filter(this.$19.buttonModels,function(fw){return fw.get_commandType()===2});if(ss.isValue(ft)){var fu=e.children().get(2);fq.insertAfter(fu);fs.insertAfter(fq)}else{var fv=e.children().get(0);fs.insertBefore(fv);fq.insertBefore(fv)}}else{if(fm){e.append(fq)}e.append(fs)}document.documentElement.appendChild(e.first().get(0));eP.$n[fp.get_commandType()]=tab.DoubleUtil.roundToInt(fr.element.innerWidth());fr.element.width(eP.$n[fp.get_commandType()]);document.documentElement.removeChild(e.first().get(0))}}},$6:function(e,fm){var fn=function(){fm(e)};e.add_click(fn);this.$16.add$1(new tab.CallOnDispose(function(){e.remove_click(fn)}))},$s:function(e){var fm=new Y;fm.command=e.get_context();var fn=fm;this.onCommandExecuted(fn)},$q:function(e){var fm=new o;fm.action=e.get_context();var fn=fm;this.onActionExecuted(fn)},$r:function(e){var fm=e.get_context();if(tab.ActionUtils.isFilterAction(fm)||tab.ActionUtils.isHighlightAction(fm)&&!tab.ActionUtils.isTargetOfActionLocal(fm)){tab.BaseSession.get_waitHandler().showAndLock();this.$18=true;this.$Z=e.get_labelElement().text()}else{var fn=tab.ModelUtils.getVisualModelFromVisualId(this.$19.visualId);var fo=[this.$19.tupleId];tab.UberTipClientCommands.executeUbertipAction(fm,fo,fn)}},$K:function(){if(tab.MiscUtil.isNullOrEmpty$1(this.$19.actions)&&tab.MiscUtil.isNullOrEmpty$1(this.$19.actionPMs)){this.$10.html('').removeClass('invisible').addClass('hide')}else if(ss.isValue(this.$19.actions)){this.$N()}else{this.$M()}},$N:function(){var e=$('<ul></ul>');for(var fm=0;fm<this.$19.actions.length;fm++){var fn=this.$19.actions[fm];this.$h(e,fn.get_name(),fn,ss.mkdel(this,this.$q))}var fo=tab.DoubleUtil.roundToInt(this.element.height());this.$10.html('').append(e).removeClass('hide invisible');var fp=tab.DoubleUtil.roundToInt(this.element.height());if(fp!==fo){this.$1e.requestLayout(null,true)}},$M:function(){var e=$('<ul></ul>');var fm=tab.ModelUtils.getVisualModelFromVisualId(this.$19.visualId);if(!ss.isValue(fm)){return}var fn=false;var fo=true;for(var fp=0;fp<this.$19.actionPMs.length;fp++){var fq=this.$19.actionPMs[fp];var fr=tab.ActionUtils.getActionType(fq);if(!this.$11&&fr!=='highlight'){continue}var fs=fm.get_vizDataModel();var ft=[this.$19.tupleId];var fu=tab.ApplicationModel.get_instance().get_dataDictionary();var fv=(ss.isValue(fq.linkSpec)?fq.linkSpec.delimiter:null);var fw=tab.VizDataUtils.constructUrlFromString(fu,fq.name,fs,ft,fm.get_worksheetName(),fv);var fx=false;if(fr==='url'){var fy=tab.ActionUtils.getUrlActionPm(fq,fm,ft);fx=fy.item2==='urlConstructionFail';if(ss.isNullOrUndefined(fy.item1)||ss.isNullOrEmptyString(fw)){fo=false}}if(!fx){this.$h(e,fw,fq,ss.mkdel(this,this.$r))}if(fr==='filter'||fr==='url'){fn=true}}if(e.find('li').length>0){var fz=-1;if(ss.isValue(fm.get_sceneModel())){fz=fm.get_sceneModel().get_paneDescriptorCount()}else{}if(fz>1&&fn||!fo){this.$10.html('').append(e).removeClass('hide').addClass('invisible')}else{this.$10.html('').append(e).removeClass('hide invisible')}}},$h:function(e,fm,fn,fo){var fp=spiff.LabelButton.newAnchorButton();fp.set_label(fm);fp.element.addClass('tab-action');fp.set_context(fn);this.$6(fp,fo);this.$16.add$1(fp);var fq=$('<li></li>');fq.append(fp.element);e.append(fq)},$Q:function(){tab.MiscUtil.dispose(this.$1c);if(ss.isNullOrUndefined(this.$19.contentCommands)){return}var e={};for(var fm=0;fm<this.$19.contentCommands.length;fm++){var fn=this.$19.contentCommands[fm];e[fn.get_name()]=fn}for(var fo=0;fo<this.$1d.length;fo++){var fp=this.$1d[fo];if(ss.keyExists(e,fp.$0())){this.$m(fp,e)}}},$m:function(e,fm){var fn=e.$2();var fo={tap:ss.mkdel(this,function(){if(!fn.hasClass('tab-selection-relaxation-selected')){var fp=fm[e.$0()];this.$n(fn,fp)}})};this.$1c.push(new spiff.TableauEventHandler.$ctor1(fn.get(0),fo))},$n:function(e,fm){var fn=ss.mkdict(['isSelected',true]);e.data(fn);e.addClass('tab-selection-relaxation-selected');var fo=new Y;fo.command=fm;this.onCommandExecuted(fo)}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(eQ,a,{get_keyCombos:function(){var e=new cT.$ctor2(new cV(false,false,false,true,false,false,false,false),90);var fm=new cT.$ctor3(new cV(true,false,false,false,false,false,false,false),8);return new cU(e,[fm])},executeShortcut:function(e){this.executeShortcut$1(ss.mkdel(this,function(){tab.WorksheetServerCommands.undo$1(eR.undoRedoSuccess,eR.undoRedoFailure)}))}},eR,[cG]);ss.initClass(eS,a,{});ss.initClass(eT,a,{render:function(){var e={tap:ss.mkdel(this,function(fo){this.props.removeUser(this.props.user)})};var fm=spiff.EventForwarder.span(e,{className:'tabUserPillRemove'},['×']);var fn=spiff.DOMElements.span({className:'tabUserPillName'},this.props.user.friendlyName);return spiff.DOMElements.div(this.$0(),fn,fm)},$0:function(){var e='tabUserPill';if(!this.props.valid){e+=' error'}return{className:e,title:(this.props.valid?this.props.user.friendlyName:this.props.errorText)}}},React.Component);ss.initClass(eU,a,{render:function(){var e=_.map(this.props.users,ss.mkdel(this,function(fp){return React.createElement(eT,{removeUser:this.props.removeUser,addUser:this.props.addUser,user:fp,valid:ss.staticEquals(this.props.userValidator,null)||this.props.userValidator(fp),errorText:this.props.userInvalidText})}));var fm=new spiff.ScrollingProps;fm.scrollY=true;fm.scrollbars=true;fm.alwaysShowScrollbarsIfScrollable=true;var fn=fm;var fo=spiff.ScrollingComponent.createScroller(fn,e);return spiff.DOMElements.div({className:'tabUserPillsComponent'},fo)}},React.Component);ss.initClass(eV,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_props:function(){return this.$2$2},set_props:function(e){this.$2$2=e},addUser:function(e){if(_.any(this.get_props().users,function(fm){return fm.id===e.id})){return}this.get_props().users.push(e);this.raiseActionEvent(this.$2$1)},removeUser:function(e){var fm=ss.remove(this.get_props().users,e);if(fm){this.raiseActionEvent(this.$2$1)}},setUsers:function(e){_.each(this.get_props().users,ss.mkdel(this,function(fm){this.removeUser(fm)}));_.each(e,ss.mkdel(this,function(fm){this.addUser(fm)}))}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(eW,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollUp');this.nextButton.addClass('tabCatLegendScrollDown')}},cO,[ss.IDisposable]);ss.initClass(eX,a,{add_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_cacheVersion:function(){return this.$3},get_viewWidget:function(){return this.$5},get_viewSession:function(){return this.$4},get_sheetName:function(){return this.$4.sheetId},dispose:function(){this.$5=null;this.$2.dispose()},setTiledViewer:function(e){this.$5=e},$0:function(e){if(ss.isNullOrUndefined(e)){return}var fm=e.layoutStatus;if(ss.isNullOrUndefined(fm)){return}if(!tab.CommandController.get().processingRenderModeChange&&!tab.CommandController.get().processingStoryPointChange){this.incrementCacheVersion();var fn=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.get_sheetName());if(fn.get_isVisualValid()){this.$5.doTiledViewerRefreshImages(fn.get_cacheUrlInfo());if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}}},$1:function(e){if(!ss.staticEquals(eX.$1$1,null)){eX.$1$1(this.get_sheetName(),e)}this.$0(e)},incrementCacheVersion:function(){this.$3+=1}},null,[ss.IDisposable,tab.IViewController]);ss.initClass(eY,a,{get_toolbarViewModel:function(){return this.$g.get_toolbarViewModel()},dispose:function(){if(ss.isValue(this.$h)){this.$h.dispose();this.$h=null}},exportImage:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_currentSheetStoryPointId();var fm=tableau.types.ExportDialogType['ExportImage'];var fn=[];var fo=[];if(this.$g.get_isDashboard()){var fp={};var fq=this.$g.get_viewControllers();if(ss.isValue(fq)){$.each(fq,function(fr,fs){var ft=fs.get_viewWidget().get_scrollPosition();var fu=ft.x;var fv=ft.y;if(fu!==0||fv!==0){fp[fs.get_sheetName()+'-x']=fu;fp[fs.get_sheetName()+'-y']=fv;fo.push({x:fu,y:fv});fn.push(fs.get_sheetName())}})}}tab.ExportServerCommands.exportImage(tsConfig.current_sheet_name,e,fm,fn,fo)},exportData:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var fm=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(fm)){var fn=tab.ModelUtils.findActiveOrDefaultVisual().get_visualId();window.open(fm.formatUnderlyingDataURL(null,fn),fm.getWindow('vud'),'scrollbars,resizable')}},exportCrosstab:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var fm=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(fm)){var fn=tableau.types.ExportDialogType['ExportCrosstab'];fm.fileDownloadHelper.openDownload(fm.formatExportCrossTabURL('utf16'),fn)}},exportPdf:function(){if(tab.FeatureFlags.isEnabled('NewPdfDialog')){var e=new cc;e.triggerExportPdfUI()}else{if(ss.isValue(this.$h)){this.$h.dispose()}this.$g.$6(ss.mkdel(this,function(fm){this.$h=fm;this.$h.add_closed(ss.mkdel(this,function(){this.$h.dispose();this.$h=null}));this.$h.show()}))}},$3:function(){if(this.$g.get_autoUpdate()){this.$f()}},$5:function(){if(!this.$g.get_autoUpdate()){this.$f()}},$1:function(){return this.$g.get_autoUpdate()},$f:function(){this.$g.set_autoUpdate(!this.$g.get_autoUpdate());tab.ToolbarServerCommands.setAutoUpdate(this.$g.get_autoUpdate());tab.BaseSession.autoUpdate=this.$g.get_autoUpdate();if(this.$g.get_autoUpdate()&&this.$g.get_invalid()){tab.CommandController.get().refreshLayout()}},$2:function(){return!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view},$0:function(e){var fm;if(tsConfig.is_metrics_view){fm=this.$g.get_session().metricsViewDownloadUrl()}else{fm=this.$6(e)}window.open(fm)},$4:function(){tab.ToolbarServerCommands.refreshData()},$d:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('share')}},$9:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('customviews')}},$a:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('alert')}},$e:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('subscribe')}},$c:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showPerformanceMetrics()}},$b:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('download')}},$8:function(){},$7:function(){},$6:function(e){if(ss.isValue(e)){var fm=e.match(eY.$0);if(ss.isValue(fm)&&fm.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+fm[1]}}return e}},null,[ss.IDisposable]);ss.initClass(eZ,a,{add_viewportChanged:function(e){var fm=ss.staticEquals(this.$1$1,null);this.$9(e);if(fm){this.$3()}},remove_viewportChanged:function(e){this.$a(e);if(ss.staticEquals(this.$1$1,null)){this.$4()}},$9:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$a:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_lastViewportRect:function(){return this.$1$2},set_lastViewportRect:function(e){this.$1$2=e},$5:function(){return(ss.isValue(tab.WindowHelper.get_windowParent().visualViewport)?tab.WindowHelper.get_windowParent().visualViewport:tab.WindowHelper.get_windowParent())},$3:function(){if(tabBootstrap.Utility.get_embedMode()!=='crossDomainEmbedded'){try{this.$5().addEventListener('scroll',ss.mkdel(this,this.$0));this.$0();return}catch(e){}}this.$8=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$2))},$4:function(){if(tabBootstrap.Utility.get_embedMode()!=='crossDomainEmbedded'){try{this.$5().removeEventListener('scroll',ss.mkdel(this,this.$0));return}catch(e){}}tab.WindowHelper.cancelAnimationFrame(this.$8)},$0:function(){if(this.$7){this.$6=true;return}this.$7=true;Q.getViewport(ss.mkdel(this,this.$1))},$1:function(e){var fm=e.get_dimensions();var fn=ss.isNullOrUndefined(this.get_lastViewportRect())||!tab.RectUtil.isEqual(this.get_lastViewportRect(),fm);if(fn){this.set_lastViewportRect(fm);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}this.$7=false;if(this.$6){this.$6=false;this.$0()}},$2:function(){this.$0();this.$8=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$2))}});ss.initClass(fa,a,{});ss.initClass(fb,a,{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}},spiff.Template,[ss.IDisposable]);ss.initClass(fc,a,{get_zoneModel:function(){return this.$j.get_webZoneModel().get_zoneModel()},get_webZonePresModel:function(){return this.$j.get_webZoneModel().pm},get_domRoot:function(){return this.get_template().domRoot},$f:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$b()},$d:function(e,fm){if(fm.get_propertyName()==='isActiveZone'){this.$e()}},$b:function(){var e=null;var fm=eS.absolutizeURI(this.get_webZonePresModel().url,true);if(tab.WindowHelper.getLocation(window.window).protocol==='https:'&&ss.startsWithString(fm,'http:')){if(tsConfig.is_authoring){e=new cu(fm)}else{e=new cv(fm)}}else{e=this.$9(this.get_webZonePresModel().url)}this.$f().updateContentTemplate(e);this.$e()},$9:function(e){if(ss.isNullOrUndefined(this.$g)){this.$g=new cE('frame_'+this.get_zoneModel().get_zoneId(),this.$i)}tab.DomUtil.resize(this.$g.get_frame()[0],{l:0,t:0,w:this.get_zoneModel().get_contentWidth(),h:this.get_zoneModel().get_contentHeight()});var fm=eS.absolutizeURI(e,true);this.$g.setSrc(fm,e);return this.$g},$a:function(){this.$i.setActive()},$e:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$h)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$h=e;this.$h.add_click(ss.mkdel(this,this.$a));this.disposables.add$1(this.$h)}if(this.$i.get_isActiveZone()){this.$h.hide()}else{this.$h.show()}},$c:function(){this.$b()}},ss.makeGenericType(spiff.BaseView$1,[fd]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[fd])]);ss.initClass(fd,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_webZoneModel:function(){return this.$3},get_url:function(){return this.get_webZoneModel().get_url()},handleNewWebZone:function(){this.$2()},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(fe,a,{});ss.initClass(ff,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(fg,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$h.get_dashboardNode()},get_containerNode:function(){return this.$h.get_containerNode()},get_dashboardView:function(){return this.$h},get_dashboardSpacerSize:function(){return(ss.isNullOrUndefined(this.get_dashboardView())?null:tab.DashboardSizeCalculator.calculateContainerSize(this.get_dashboardView().get_dashboardSize()))},dispose:function(){this.$e();this.$h=tab.MiscUtil.dispose$1(this.$h);this.$g=tab.MiscUtil.dispose$1(this.$g);if(ss.isValue(this.$i)){ReactDOM.unmountComponentAtNode(this.$i)}ss.makeGenericType(spiff.BaseView$1,[fh]).prototype.dispose.call(this)},$e:function(){var e=$(G.tabContainerSelector);e.appendTo(this.get_dom().centeringContainer)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();this.$a();this.get_dom().dashboardSpacer.scroll(ss.mkdel(this,function(e){this.$d()}));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_dom().dashboardSpacer.off('scroll')})))},$9:function(){var e=$(G.tabContainerSelector);e.appendTo(this.get_dom().dashboardSpacer)},$a:function(){if(ss.isValue(this.$j.get_dashboardViewModel())){if(tab.NaturalLanguageUtil.boxShouldShow()){tab.ModuleManager.load$1('natural-language-input-box',[]).done(ss.mkdel(this,function(e){this.$i=dd.createNaturalLanguageBoxParentElement(this.get_dom().dashboardSpacer);dd.whenNaturalLanguageModuleLoaded(e,this.$i)}))}this.$j.get_dashboardViewModel().add_sizeChanged(ss.mkdel(this,this.$c));this.$j.get_dashboardViewModel().add_portSizeChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.get_dashboardViewModel().remove_sizeChanged(ss.mkdel(this,this.$c));this.$j.get_dashboardViewModel().remove_portSizeChanged(ss.mkdel(this,this.$c))})));this.$h=tab.ObjectRegistry.newView(bm).call(null,[this.$j.get_dashboardViewModel()]);this.$h.addToDom(this.get_dom().dashboardSpacer);this.colorDashboardSpacer();this.get_dom().dashboardSpacer.css('visibility','visible')}this.resizeDashboardSpacer()},$c:function(){this.resizeDashboardSpacer();this.get_viewModel().raiseWorkbookResized()},resizeDashboardSpacer:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){var e=this.get_dashboardSpacerSize();if(ss.isValue(e)){var fm=null;fm=(tsConfig.is_authoring?{overflow:(this.get_viewModel().get_scrollDashboardArea()?'auto':'')}:{margin:'auto'});this.get_dom().dashboardSpacer.css(fm);var fn=(tsConfig.is_authoring?this.$j.get_dashboardContainerBounds():tab.DashboardSizeCalculator.asRect(e));tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),fn);var fo=tab.DashboardSizeCalculator.get_dashboardViewportSizeWithTabs();var fp={overflow:'hidden'};if(fo.w<e.w||fo.h<e.h){fp.overflow='auto'}$(G.dashboardViewportSelector).css(fp)}else{var fq=this.$j.get_dashboardContainerBounds();var fr={overflow:''};if(this.get_viewModel().get_scrollDashboardArea()){fr.overflow='auto'}this.get_dom().dashboardSpacer.css(fr);tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),fq);this.$f()}if(tsConfig.is_authoring){this.$d()}}},$d:function(){if(ss.isValue(this.get_viewModel().get_dashboardViewModel())&&this.get_viewModel().get_dashboardViewModel().get_isStory()){tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(function(e){e.fireCloseStoryUberMenu()})}},handleFullScreenChanged:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){if(tsConfig.isPublic){spiff.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$c))})))}}else{spiff.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$f));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){spiff.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$f))})))}},$f:function(){if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<=11){this.get_dom().centeringContainer.css('height','');if(spiff.FullscreenUtil.get_inFullscreenMode()){var e=this.$j.get_dashboardContainerBounds().h;e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();e+=(tsConfig.toolbarContainerVis?tabBootstrap.VizLayoutConstants.get_vizToolbarHeight():0);this.get_dom().centeringContainer.css('height',e+'px')}}},colorDashboardSpacer:function(){var e=this.$j.get_dashboardBackgroundColor();if(ss.isValue(this.$j.get_dashboardViewModel())&&this.$j.get_dashboardViewModel().get_hasGutter()){e=''}this.get_dom().dashboardSpacer.css('background-color',e)},$b:function(){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(e){this.$g=e.createDataConnectionPromptView(this.$j.get_connectionPromptViewModel())}))}},ss.makeGenericType(spiff.BaseView$1,[fh]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[fh])]);ss.initClass(fh,a,{add_newDashboard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDashboard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_hasPrompt:function(){return this.$7.get_hasPrompt()},get_dashboardViewModel:function(){return this.$6},get_connectionPromptViewModel:function(){return this.$5},get_scrollDashboardArea:function(){if(!tsConfig.is_authoring||this.$7.get_sheetType()==='worksheet'){return false}var e=false;if(ss.isValue(this.get_dashboardViewModel())){var fm=this.get_dashboardViewModel().get_size();var fn=this.get_dashboardPortSizeContainer();e=fm.w===fn.w&&fm.h===fn.h}return!e},get_contentDashboardViewModel:function(){if(!this.$7.get_isCurrentSheetStoryboard()){return this.$6}var e=this.$6.get_zoneViewModels();var fm=_.keys(e);for(var fn=0;fn<fm.length;fn++){var fo=fm[fn];var fp=e[fo];if(fp.get_zoneType()==='flipboard'){if(ss.isNullOrUndefined(fp.get_zoneContentViewModel())){return null}return fp.get_zoneContentViewModel().get_dashboardViewModel()}}return null},get_dashboardPortSizeContainer:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize(tsConfig.current_sheet_type);var fm={l:0,t:0,w:e.w,h:e.h};return fm},get_dashboardContainerBounds:function(){var e=H.getClientBounds();return{l:0,t:0,w:e.w,h:e.h}},get_dashboardBackgroundColor:function(){return this.get_dashboardViewModel().get_backgroundColor()},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}if(ss.isValue(this.$5)){this.$5.dispose()}this.$7.remove_newDashboard(ss.mkdel(this,this.$2));spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(e){if(ss.isValue(this.$6)){this.$6.dispose()}this.$6=bn.new$1(e);this.raiseActionEvent(this.$2$1)},$3:function(e){if(ss.isNullOrUndefined(this.get_connectionPromptViewModel())){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(fm){this.$5=fm.createDataConnectionPromptViewModel(e);this.raiseActionEvent(this.$2$2)}))}else{this.get_connectionPromptViewModel().get_promptUpdated()(e)}},$4:function(){this.$5=tab.MiscUtil.dispose$1(this.get_connectionPromptViewModel())},raiseWorkbookResized:function(){this.raiseActionEvent(fh.$2$3)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(fi,a,{get_zoneExtension:function(){return this.domRoot.children('.tab-zoneExtension')},get_zoneMargin:function(){return this.domRoot.children('.tab-zone-margin')},get_zonePadding:function(){return this.get_zoneMargin().children('.tab-zone-padding')},get_contentHolder:function(){return this.get_zonePadding()}},spiff.Template,[ss.IDisposable]);ss.initClass(fj,a,{$n:function(){return this.$v},$o:function(e){this.$v=e;this.$b(ss.mkdel(this,function(){this.$v.addToDom(this.get_dom().get_contentHolder())}))},$p:function(){return this.get_viewModel()},get_parameterControlView:function(){return this.$n()},get_dom:function(){return this.get_template()},dispose:function(){this.$p().remove_updateZone(ss.mkdel(this,this.$f));this.$p().remove_resizeZone(ss.mkdel(this,this.$e));this.$p().remove_newZoneContent(ss.mkdel(this,this.$d));this.$p().remove_validStateChanged(ss.mkdel(this,this.$i));if(ss.isValue(this.$v)){this.$v.dispose();this.$v=null}this.$j();ss.makeGenericType(spiff.BaseView$1,[fk]).prototype.dispose.call(this)},$j:function(){if(ss.isValue(this.$t)){this.$t.dispose();this.$t=null}},onViewModelPropertyChanged:function(e,fm){ss.makeGenericType(spiff.BaseView$1,[fk]).prototype.onViewModelPropertyChanged.call(this,e,fm);if(fm.get_propertyName()==='isActiveZone'){this.$k()}if(fm.get_propertyName()==='isReadyZone'){this.$l()}},$a:function(){if(this.get_template().domRoot.get(0).offsetHeight===0||this.get_template().domRoot.get(0).offsetWidth===0){return}if(ss.isNullOrUndefined(this.$t)){this.$t=new spiff.Glass(this.get_template().domRoot.get(0),true);this.$t.setColor(this.$p().get_model().get_dashboardModel().get_backgroundColor());this.$t.set_opaque(true);this.$t.set_preventWebPageScroll(true)}this.$t.show()},$m:function(){if(ss.isValue(this.$t)&&tab.ApplicationModel.get_instance().get_autoUpdate()){this.$t.element.css('cursor','progress')}},$c:function(){this.$j()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isNullOrUndefined(this.$n())){this.$f();this.$e();if(ss.isValue(this.$p().get_zoneContentViewModel())){this.$d(this.$p().get_zoneContentViewModel())}this.$b(ss.mkdel(this,this.$i))}this.$b(ss.mkdel(this,function(){if(ss.contains(fj.$3,this.$p().get_zoneType())){this.element.addClass('tabSuppressVizTooltipsAndOverlays')}this.element.addClass('tabZone-'+this.$p().get_zoneType());if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){this.get_template().domRoot.addClass('fade-bg')}if(this.get_viewModel().get_isSetActiveZoneSupported()){var e=spiff.TableauClickHandler.targetAndClick(this.element[0],ss.mkdel(this,function(fm){this.get_viewModel().setActive()}));e.set_stopPropagationOnEvent(false);this.disposables.add$1(e)}}))},$k:function(){this.get_template().domRoot.toggleClass('tabZoneSelected',this.get_viewModel().get_isActiveZone())},$l:function(){this.get_template().domRoot.toggleClass('tabZoneReady',this.get_viewModel().get_isReadyZone())},$f:function(){var e=this.$p().get_zoneZIndex();if(e!==this.$u){this.$u=e;this.get_template().domRoot.css('z-index',e.toString())}this.get_template().domRoot.attr('id',fj.$0(this.get_viewModel().get_zoneId()));this.$k();var fm=this.$p().get_zoneType();var fn=fm==='layout-flow'||fm==='layout-free-form'||fm==='empty';this.get_template().domRoot.toggleClass('wcLayoutContainer',fn);this.get_dom().get_zoneMargin().css(this.$p().get_marginCss());this.get_dom().get_zoneMargin().css(this.$p().get_borderCss());this.get_dom().get_zonePadding().css(this.$p().get_paddingCss());if(ss.contains(fj.zonesThatUseStyledBox,fm)){this.get_dom().get_contentHolder().css(this.$p().get_contentContainerCss())}else{var fo=this.$p().get_backgroundColor();if(!ss.referenceEquals(fo,this.$q)){this.get_dom().get_contentHolder().css('background-color',fo);this.$q=fo}}this.get_dom().get_contentHolder().toggleClass('tab-darkBackground',this.$p().get_contentHasDarkBackground());if(ss.isValue(this.$n())&&fm==='paramctrl'){this.get_parameterControlView().updateViewProperties()}this.$i()},$e:function(){var e=this.$p();var fm={width:e.get_width()+'px',height:e.get_height()+'px',top:e.get_y()+'px',left:e.get_x()+'px'};this.get_template().domRoot.css(fm)},$i:function(){if(tab.ApplicationModel.get_instance().get_isOffline()){return}if(!this.$p().get_valid()){this.$a();if(this.$p().get_isVisualValid()){this.$m()}}else{if(ss.isValue(this.$t)){if(!ss.staticEquals(fj.$3$1,null)){fj.$3$1()}}this.$c()}},$d:function(e){var fm=this.$p().get_zoneType();var fn=tsConfig.is_authoring&&!tsConfig.is_mobile;switch(fm){case'title':{var fo=tsConfig.current_sheet_type==='dashboard';var fp=tsConfig.current_sheet_type==='story'&&this.$h();if(fn&&(fo||fp)){var fq=this.disposables;var fr=this.get_dom().domRoot[0];var fs=this.get_viewModel();fq.add$1(spiff.TableauClickHandler.targetAndDoubleClick(fr,ss.mkdel(fs,fs.openRichTextEditorDialog)))}var ft=new et.$ctor1(e,1);this.$o(ft);break}case'text':{var fu=tsConfig.current_sheet_type==='dashboard';var fv=tsConfig.current_sheet_type==='story'&&this.$p().get_model().get_isStorySpecific();var fw=tsConfig.current_sheet_type==='story'&&!this.$p().get_model().get_isStorySpecific()&&tab.FeatureFlags.isEnabled('RichTextEditingTextZoneDelta');if(fn&&(fu||fv||fw)){var fx=this.disposables;var fy=this.get_dom().domRoot[0];var fz=this.get_viewModel();fx.add$1(spiff.TableauClickHandler.targetAndDoubleClick(fy,ss.mkdel(fz,fz.openRichTextEditorDialog)))}var fA=new et.$ctor1(e,-1);this.$o(fA);break}case'size':case'shape':case'color':case'map':{if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.ICategoricalLegendViewModel)){this.$o(tab.ObjectRegistry.resolve(ss.makeGenericType(tab.ICategoricalLegendView$1,[tab.ICategoricalLegendViewModel])).call(null,[e]))}else if(ss.isInstanceOfType(e,tab.IQuantitativeColorLegendViewModel)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fB){this.$o(fB.createQuantitativeColorLegendView(e))}))}}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fB){var fC=fB.createLegacyLegendView(e);this.$o(fC)}))}break}case'current-page':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fB){this.$o(fB.createPageView(e))}));break}case'filter':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fB){this.$o(fB.createLegacyQuickFilterDisplayView(e))}));break}case'highlighter':{this.$o(tab.ObjectRegistry.newView(bB).call(null,[e]));break}case'paramctrl':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(fB){this.$o(fB.createParameterControlView(e))}));break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fB){this.$r=fB.newFlipboardNavigatorView(e).pipe(function(fC){return fC});this.$s.resolve(this.$p().get_zoneType());this.$r.done(ss.mkdel(this,function(fC){var fD=fC;this.$o(fD);this.$9()}))}));break}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(fB){this.$o(fB.newFlipboardView(e))}));break}case'web':{this.$o(new fc(e,this.$p()));break}case'dashboard-object':{this.$o(tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[S,R,Object])).call(null,[e]));break}case'add-in':{this.$o(new cf(e,this.$p()));break}case'bitmap':{this.$o(new cJ(e,this.$p()));break}case'viz':{tab.ModuleManager.load(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(fB){this.$o(fB.createPaneTableView(e))}));break}case'layout-flow':{this.$o(tab.ObjectRegistry.newView(bZ).call(null,[e]));break}default:{break}}this.$9()},$h:function(){return ss.referenceEquals(this.$p().get_dashboardSheetName(),tsConfig.current_sheet_name)},$9:function(){if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){if(ss.isValue(this.$n())){this.$n().get_rootElement().addClass('fade-in')}}},$g:function(e){this.$p().zoneEntered(true)},$b:function(e){if(ss.contains(fj.$2,this.$p().get_zoneType())){this.$s.done(ss.mkdel(this,function(){this.$r.done(e)}))}else{e()}}},ss.makeGenericType(spiff.BaseView$1,[fk]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[fk])]);ss.initClass(fk,a,{add_updateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_resizeZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_resizeZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_zoneResized:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_zoneResized:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_newZoneContent:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_newZoneContent:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_validStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_validStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_activeStateChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_activeStateChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},get_zoneContentViewModel:function(){return this.zoneContentViewModel},get_zoneType:function(){return this.$j.get_zoneType()},get_objectType:function(){return this.$j.get_objectType()},get_x:function(){return this.$j.get_x()},get_y:function(){return this.$j.get_y()},get_width:function(){return this.$j.get_width()},get_height:function(){return this.$j.get_height()},get_contentHeight:function(){return this.$j.get_contentHeight()},get_contentWidth:function(){return this.$j.get_contentWidth()},get_contentX:function(){return this.$j.get_contentX()},get_contentY:function(){return this.$j.get_contentY()},get_model:function(){return this.$j},get_styledBoxModel:function(){return this.get_model().get_styledBoxModel()},get_isInDashboard:function(){return this.$j.get_dashboardModel().get_isDashboard()},get_contentContainerStyle:function(){return this.$j.get_zoneCommonModel().get_contentStyle()},get_titleSize:function(){if(this.$j.get_hasTitle()){return{w:this.$j.pm.titleWidth,h:this.$j.pm.titleHeight}}return{w:0,h:0}},get_valid:function(){if(tab.ApplicationModel.get_instance().get_isOffline()&&!ss.contains(fk.$0,this.get_zoneType())){return false}return this.$h},get_isVisualValid:function(){return this.$i.get_isVisualValid()},get_zoneZIndex:function(){return fk.calculateZoneZIndex(this.$j)},get_zoneId:function(){return this.$j.get_zoneId()},get_associatedSheet:function(){return this.$j.get_associatedSheet()},get_backgroundColor:function(){var e='';if(this.$8()){e=this.$j.get_dashboardModel().get_zonePlaceholderColor()}return e},get_isActiveZone:function(){return this.$f},set_isActiveZone:function(e){if(this.$f!==e){this.$f=e;this.notifyPropertyChanged('isActiveZone')}},get_isReadyZone:function(){return this.$g},set_isReadyZone:function(e){if(this.$g!==e){this.$g=e;this.notifyPropertyChanged('isReadyZone')}},get_isSetActiveZoneSupported:function(){if(!tsConfig.is_authoring||tsConfig.current_sheet_type==='worksheet'){return false}return this.get_zoneType()==='viz'||!tsConfig.is_mobile},get_containsNewStyleQuickFilter:function(){return this.$e},$c:function(){var e=this.$j.get_isFloating()&&this.$j.get_zoneType()==='layout-flow';var fm=ss.isNullOrUndefined(this.get_styledBoxModel())||!this.get_styledBoxModel().get_hasFill()&&this.get_styledBoxModel().get_borderStyle()==='bs-none';return e&&fm&&this.$j.get_dashboardModel().zonesModel.getChildren(this.get_zoneId()).length===0},get_containsNewStyleParameterFilter:function(){return this.$d},get_hasTitle:function(){return this.$j.get_hasTitle()},get_marginCss:function(){var e={top:this.get_styledBoxModel().get_marginTop()+'px',left:this.get_styledBoxModel().get_marginLeft()+'px',bottom:this.get_styledBoxModel().get_marginBottom()+'px',right:this.get_styledBoxModel().get_marginRight()+'px',position:'absolute','background-color':'rgba(0, 0, 0, 0)'};if(ss.isValue(this.get_model().get_backgroundColor())){e['background-color']=this.get_model().get_backgroundColor()}return e},get_paddingCss:function(){return{top:this.get_styledBoxModel().get_paddingTop()+'px',left:this.get_styledBoxModel().get_paddingLeft()+'px',bottom:this.get_styledBoxModel().get_paddingBottom()+'px',right:this.get_styledBoxModel().get_paddingRight()+'px',position:'absolute'}},get_borderCss:function(){return $.extend({},this.get_styledBoxModel().get_borderTop().get_cssDictionary(),this.get_styledBoxModel().get_borderLeft().get_cssDictionary(),this.get_styledBoxModel().get_borderBottom().get_cssDictionary(),this.get_styledBoxModel().get_borderRight().get_cssDictionary())},get_contentContainerCss:function(){var e=tab.FormattingConverters.makeStyledBoxCssDict(this.get_contentContainerStyle().get_styledBoxPresModel(),true);if(!this.get_contentContainerStyle().get_hasFill()){e['background-color']=''}if(this.$8()){var fm=tab.ColorModel.fromColorCode(this.$j.get_dashboardModel().get_zonePlaceholderColor());e['background-color']=fm.toString()}return e},get_contentHasDarkBackground:function(){if(ss.contains(fj.zonesThatUseStyledBox,this.get_zoneType())){return this.get_contentContainerStyle().get_hasFill()&&!tab.ColorModel.fromColorCode(this.get_contentContainerStyle().get_fillColor()).isLuminanceAboveThreshold(0.314999997615814)}else{return!ss.isNullOrEmptyString(this.$j.get_backgroundColor())&&!tab.ColorModel.fromColorCode(this.$j.get_backgroundColor()).isLuminanceAboveThreshold(0.314999997615814)}},get_dashboardSheetName:function(){return this.get_model().get_dashboardModel().pm.sheetPath.sheetName},setActive:function(){if(tab.ModelUtils.findContentDashboard().get_activeZoneID()===this.get_zoneId()){this.raiseActionEvent$1(Boolean).call(this,this.$2$6,true)}else{this.raiseActionEvent$1(Boolean).call(this,this.$2$6,false)}tab.SelectionClientCommands.setActiveZone(this.get_zoneId(),this.$j.get_dashboardModel().get_sheetPath())},zoneEntered:function(e){this.$j.get_dashboardModel().set_readyZoneID((e?this.get_zoneId():0))},dispose:function(){if(ss.isValue(this.zoneContentViewModel)){this.zoneContentViewModel.dispose();this.zoneContentViewModel=null}if(ss.isValue(this.$i)){this.$i.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$j.remove_updateZone(ss.mkdel(this,this.$7));this.$j.get_zoneCommonModel().remove_resizeZone(ss.mkdel(this,this.$5));this.$j.remove_newZoneContent(ss.mkdel(this,this.$3));this.$j.remove_removeZoneContent(ss.mkdel(this,this.$4));this.$j.get_zoneCommonModel().remove_changeZoneTitleVisibility(ss.mkdel(this,this.$6));spiff.BaseViewModel.prototype.dispose.call(this)},openRichTextEditorDialog:function(e){switch(this.get_zoneType()){case'title':case'text':{tab.RichTextClientCommands.createTextObjectRichTextEditor(this.get_zoneId(),false);break}default:{break}}ck.logRichTextEditorEvent(['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom',this.get_zoneType()+'-zone'])},$a:function(){var e=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$j.get_associatedSheet());if(!ss.referenceEquals(this.$i,e)){if(ss.isValue(this.$i)){this.$i.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$i=e;if(ss.isValue(this.$i)){this.$i.add_visualValidStateChanged(ss.mkdel(this,this.$b))}}},$7:function(){tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){this.$a();this.$b();this.raiseActionEvent(this.$2$1);if(this.get_zoneType()==='filter'&&ss.isNullOrUndefined(this.zoneContentViewModel)&&ss.isValue(this.get_model().get_model())){this.$3(this.get_model().get_model())}}))},$5:function(){this.raiseActionEvent(this.$2$2);this.raiseActionEvent(this.$2$3)},$b:function(){var e=true;if(this.$j.get_isDependentOnViz()&&ss.isValue(this.$i)){e=this.$i.get_isVisualValidAndUpToDate()}if(e!==this.$h){this.$h=e;this.raiseActionEvent(this.$2$5)}},forceZoneValidState:function(e){if(e!==this.$h){this.$h=e;this.raiseActionEvent(this.$2$5)}},$2:function(){if(this.$c()){this.zoneContentViewModel=new ca(this.$j);this.$9(this.zoneContentViewModel)}},$3:function(e){this.$e=false;this.$d=false;var fm=this.$j.get_zoneType();var fn=ss.mkdel(this,function(){this.$9(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});var fo=this.$j.get_worksheetName();switch(fm){case'title':{this.zoneContentViewModel=new eu(e);break}case'text':{var fp=new eu(e);fp.options=new er(false);this.zoneContentViewModel=fp;break}case'color':case'size':case'shape':case'map':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(ft){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.CategoricalLegendModel)){this.zoneContentViewModel=ft.createCategoricalLegendViewModel(e,fm,fo,this)}else if(ss.isInstanceOfType(e,tab.QuantitativeColorLegendModel)){this.zoneContentViewModel=ft.createQuantitativeColorLegendViewModel(e,fo,this)}}else{this.zoneContentViewModel=ft.createLegacyLegendViewModel(e,fo,this)}fn()}));return}case'current-page':{if(tsConfig.allow_filter){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(ft){this.zoneContentViewModel=ft.createPageViewModel(e);fn()}))}return}case'web':{this.zoneContentViewModel=new fd(e);break}case'dashboard-object':{this.zoneContentViewModel=new S(e,this);break}case'add-in':{this.zoneContentViewModel=new cg(e,this);break}case'bitmap':{this.zoneContentViewModel=new cK(e);break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(ft){this.zoneContentViewModel=ft.newFlipboardNavigatorViewModel(e);fn()}));return}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(ft){this.zoneContentViewModel=ft.newFlipboardViewModel(e,this);fn()}));return}case'filter':{var fq=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),fo);var fr=e;var fs=tab.ModelUtils.findMatchingFilterModel(fq,fr);if(ss.isValue(fs)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(ft){this.zoneContentViewModel=ft.createLegacyQuickFilterDisplayViewModel(fr,fs);fn()}))}else{}return}case'highlighter':{this.zoneContentViewModel=new bD(e,tab.ModelUtils.getVisualId(fo),this);break}case'paramctrl':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(ft){this.zoneContentViewModel=ft.createParameterControlViewModel(e);fn()}));return}case'viz':{tab.ModuleManager.load(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(ft){this.zoneContentViewModel=ft.createPaneTableViewModel(e)}));break}case'layout-basic':{return}default:{return}}fn()},$6:function(){this.notifyPropertyChanged('titleVisible')},$4:function(){this.dispose()},$9:function(e){if(!ss.staticEquals(this.$2$4,null)){this.$2$4(e)}},$8:function(){var e=tab.ProgressiveLoader.get_progressiveLoadEnabled()&&ss.contains(tab.ProgressiveLoader.zonesThatDeferContentCreation,this.get_zoneType())&&ss.isNullOrUndefined(this.zoneContentViewModel);e=e&&this.$j.get_hasContent();return e}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,tab.IZoneViewModel]);ss.initClass(fl,a,{});(function(){bc.$0=null})();(function(){ci.fontsReadyMetricName='AllFontsDownloaded';ci.uiStabilizedMetricName='UI Stabilized'})();(function(){dE.stylesheetId='tab-renderAndCheckFontLoader';dE.hiddenDivClass='tab-hiddenFontMeasurer';dE.baselineFontClass='tab-baselineFontMeasurer';dE.baselineFontName="'Courier New', Monaco, monospace";dE.measurementElementText='The quick brown fox jumps over the lazy dog iiilllest';dE.$4=ss.mkdict(['z-index','-1','position','absolute','top','0','right','0','visibility','hidden']);dE.maxLengthToWaitForFontsToDownloadMilliseconds=120000;dE.fontLoadedCheckDelayPerTryMilliseconds=100;dE.ensureFirstRenderPassCompletedDelayMilliseconds=5;dE.maxNumberOfTriesToDownloadFont=1200})();(function(){dO.raiseFontPreparationCompleteDelay=200;var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Light'];var fm=new tab.DownloadableFontProperties;fm.set_fontFamily('Benton Sans');fm.set_weight('bold');fm.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];dO.drawerFontNames=[e,fm];var e=new tab.DownloadableFontProperties;e.set_fontFamily('Benton Sans Low-DPI');e.set_weight('100');e.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Book'];var fm=new tab.DownloadableFontProperties;fm.set_fontFamily('Benton Sans Low-DPI');fm.set_weight('bold');fm.woffLocation=tab.ServerFonts.bentonSansWoffPaths['Benton Sans Medium'];dO.drawerLowDpiFontNames=[e,fm];dO.$1=null})();(function(){ck.richTextEditingEventType='Formatting.RichTextEditing';ck.richTextEditorOpenedBy='RichTextEditorOpenedBy';ck.richTextEditorOpenedByDoubleClick='DoubleClick';ck.richTextEditorOpenedFrom='RichTextEditorOpenedFrom';ck.dashboard='Dashboard';ck.richTextEditorControl='EditorControl';ck.performanceEventType='Formatting_Performance';ck.performanceKeyMetric='PerformanceMetric';ck.performanceKeyIsInitial='IsInitial';ck.performanceKeyItemCount='ItemCount';ck.performanceKeyWidgetIdentifiers='WidgetIdentifiers';ck.performanceKeyElapsedTime='ElapsedTime'})();(function(){fe.$3=['format-workbook'];fe.richTextEditorCreationCommandName='rich-text-editor'})();(function(){es.contentElemClassName='tab-textRegion-content';es.formatIndicatorElemClassName='tab-formatThisZone';es.$1="<div {0} class='tab-textRegion'>\n            <div class='tab-textRegion-boundary'>\n                <div class='tab-textRegion-content'></div>\n            </div>\n            <div class='tab-formatThisZone'></div>\n        </div>"})();(function(){et.formatIndicatorClass='tab-formatThisZone'})();(function(){bB.$0=312;bB.widgetClassName='tabDataHighlighterView';bB.searchResultsListClassName='tabDataHighlighterViewSearchResultList';bB.searchResultsListItemClassName='tab-list-item';bB.searchResultsListItemLabelClassName='tab-list-item-label';bB.inactiveTextClassName='tabDataHighlighterViewInactiveText';bB.queryDelayTimerMs=200;tab.ObjectRegistry.registerType(bB,bB).call(null)})();(function(){cu.$0="<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"})();(function(){cv.$0="<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"})();(function(){cE.$0='<div><iframe></iframe></div>'})();(function(){fb.$0="<div class='tab-web'></div>"})();(function(){bX.$0="<div class='tab-extension-empty'></div>"})();(function(){cd.$0='<div><iframe></iframe></div>'})();(function(){ce.$0="<div class='tab-extension'></div>"})();(function(){cH.$0=Math.pow(2,-23)})();(function(){cI.$0="<div class='tab-image'></div>"})();(function(){bY.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){tab.ObjectRegistry.registerType(bZ,bZ).call(null)})();(function(){fi.$0="<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>"})();(function(){fj.$1='tabZoneReady';fj.zonesThatUseStyledBox=['layout-flow','map','color','size','shape','filter','highlighter','paramctrl'];fj.$3=['bitmap','color','shape','size','map','text','web','add-in','paramctrl','filter','highlighter','empty','current-page'];fj.$2=['flipboard-nav'];fj.$3$1=null;tab.ObjectRegistry.registerType(fj,fj).call(null)})();(function(){fk.isActiveZonePropertyName='isActiveZone';fk.isReadyZonePropertyName='isReadyZone';fk.titleVisiblePropertyName='titleVisible';fk.$0=['viz','color','shape','size','map','text','title','bitmap','highlighter','empty','flipboard']})();(function(){eX.$1$1=null})();(function(){D.hideAppBannerCookie='hideAppBanner';D.redirectToAppStoreDelayInMS=1000;D.playStoreUrl='https://play.google.com/store/apps/details?id=com.Tableau.TableauApp';D.appStoreUrl='https://itunes.apple.com/app/tableau-mobile/id434633927'})();(function(){bw.$1='tab-dataAlertGenericErrorMessage';bw.$2='tab-dataAlertPlatformErrorMessage';bw.$0='tab-dataAlertErrorDialogContent'})();(function(){tab.ObjectRegistry.registerType(df,df).call(null)})();(function(){tab.ObjectRegistry.registerType(co,co).call(null)})();(function(){bW.maxEmailLength=100})();(function(){br.debounceTimeout=300;br.maxTitleLength=256;br.$0=18})();(function(){dB.autoCompleteDebounceTime=200;dB.rowHeight=26;dB.numberOfRowsInViewportIfBulkSubscribe=11})();(function(){bv.editDataAlertUrlParam=':editDataAlert'})();(function(){bP.$0="<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"})();(function(){dR.linkTemplate="\n            <div class='tab-shareLinkSection'>\n                <label>\n                    <span class='tab-shareLinkTitle tab-shareTitle'/>\n                    <span class='tab-shareLinkInput'/>\n                </label>\n                <div class='tab-shareLinkButtons'/>\n            </div>";dR.embedTemplate="\n            <div class='tab-shareEmbedSection'>\n                <label>\n                    <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                    <span class='tab-shareEmbedInput'/>\n                </label>\n            </div>";dR.viewStateTemplateOld="\n            <div class='tab-shareViewStateSection ff-AccessibilityViewingToolbarOff'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>";dR.viewStateTemplate="\n            <div class='tab-shareViewStateSection'>\n            </div>";dR.$0="\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"})();(function(){eo.characterLimit=2000;eo.characterWarningLimit=1800;eo.messageEditorClass='tabSubscribeMessageEditor';eo.errorMessageClass='tabSubscribeMessageEditorErrorMessage'})();(function(){en.$1="<div class='tab-subscribeView tab-toolbarFlyout'></div>";en.$0="\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>"})();(function(){dq.$0="<div class='tab-publicInfoView tab-toolbarFlyout'><a class='tab-moreAboutPublicSection' target='_blank' /></a><div class='tab-viewAndAuthorInfoSection'></div></div>"})();(function(){K.$0="<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"})();(function(){bi.$0="\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"})();(function(){bj.$0='tab-customViews-rename-container';tab.ObjectRegistry.registerType(bj,bj).call(null)})();(function(){bk.maxCustomViewNameLength=255;bk.modeSelect=0;bk.modeManage=1;bk.$1=tab.Logger.getLogger(bk)})();(function(){bl.$0="<div class='tab-gutter'><div id='tab-dashboard-region' class='tab-dashboard'/></div>";bl.$1="<div id='tab-dashboard-region' class='tab-dashboard'/>"})();(function(){bm.dashboardRegionId='tab-dashboard-region';bm.dashboardGutterCssSelector='.tab-gutter';tab.ObjectRegistry.registerType(bm,bm).call(null)})();(function(){ff.centeringContainerSelector='#centeringContainer';ff.$1="<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>";ff.$2="<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>"})();(function(){eA.$1='tabToolbarButtonImg';eA.$2='tabToolbarButtonText';eA.$0="<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"})();(function(){cS.$6={}})();(function(){eR.$3$1=false})();(function(){l.$0=10;l.$1=600})();(function(){eY.$0=new RegExp('^https?://[^/]+(.*)$')})();(function(){dJ.$1="<div class='tab-right-area-drawer'></div>"})();(function(){V.$7='Cancel_Dialog';V.$5='ElapsedTimeBeforeCancelledMS';V.$6='ElapsedTotalTimeShownMS';V.$4='CommandName';V.$8='CancelStatus';V.$a='Failure';V.$9='CompletedBeforeCancel'})();(function(){T.$0=null})();(function(){Q.$b=new Array;Q.$a=false;Q.$c=null;Q.$9=false;if(tabBootstrap.Utility.get_isEmbedded()){var e=window.addEventListener;if(ss.isValue(e)){e('message',Q.$3,false)}else{var fm=Q.$3;window.self.attachEvent('onmessage',fm)}Q.$9=true}Q.$a=tabBootstrap.ViewerBootstrap.get_instance().isVisibleRectCommunicationEnabled;if(tab.BrowserSupport.get_isIE()){Q.$1()}})();(function(){cZ.$1$1=null})();(function(){ec.maxDialogWidth=600;ec.textArea=new ss.Lazy(function(){return document.createElement('textarea')})})();(function(){dV.editConnectionTestID='SheetReconnectEditConnection';dV.$0='SheetReconnectSignIn'})();(function(){N.dashboardContainerSelector='.dashboardSpacer';N.overlayId='auth-overlay';N.messageEventName='message';N.frameTestHook='dse-frame'})();(function(){cl.genericErrorTemplateHtml='<div class="auth-box ocontent tb-data-source-error-container" role="alert"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry" tabindex="0" role="button"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'})();(function(){ch.$0='FileReconnectLocateFile'})();(function(){bS.bodyContainer='<span></span>'})();(function(){bf.$0=false})();(function(){tab.ObjectRegistry.registerType(dK,dK).call(null)})();(function(){F.$2="<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>";F.$1="<div id='dashboard-viewport'></div>"})();(function(){eF.$0="\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>";eF.$1="\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"})();(function(){eB.$0='tabToolbarButtonFlyoverShown'})();(function(){eH.$7='hideLabels';eH.$a='showLabels';eH.$8='horizontalLabels';eH.$b='stackedLabels';eH.$9='narrow';eH.$6='tab-customviews-modified';eH.$c='.tabToolbarButton';eH.$5='160px';eH.$d=50;tab.ObjectRegistry.registerType(eH,eH).call(null);if(tab.FeatureFlags.isEnabled('WebExperimentalKeyboardShortcuts')){cS.registerShortcut(new eQ);cS.registerShortcut(new dD);cS.registerShortcut(new ey)}})();(function(){fg.dashboardSpacerSelector=tab.DomUtil.asClassSelector('dashboardSpacer');tab.ObjectRegistry.registerType(fg,fg).call(null)})();(function(){E.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';E.$4=null;E.$3=null;E.$5=null;E.$6=false;E.$1$1=null;E.$1$2=null;E.$1$3=null;g.$0()})();(function(){G.vizContainerSelector=tab.DomUtil.asIDSelector('viz-client-container');G.toolbarContainerSelector=tab.DomUtil.asIDSelector('toolbar-container');G.tabContainerSelector=tab.DomUtil.asIDSelector('tab-container');G.applicationContainerSelector=tab.DomUtil.asIDSelector('main-content');G.dashboardViewportSelector=tab.DomUtil.asIDSelector('dashboard-viewport');G.rightPanelSelector=tab.DomUtil.asIDSelector('right-panel');tab.ObjectRegistry.registerType(G,G).call(null)})();(function(){eI.$1='tab-icon-';eI.$3='toggle-updates';eI.$2=430;eI.publicViewCount=0})();(function(){bR.$0='http://public.tableau.com/s/download'})();(function(){dU.currentViewPath='/shared/';dU.$c='http://facebook.com';dU.$9=0.75;dU.$b=0.75;dU.$a=1.77;var e=[];e.push('from_wg');e.push('host_url');e.push('debug');e.push('wb');e.push('vw');e.push('prefix');e.push('cvu');e.push('cvn');e.push('delay');e.push('preview');e.push('site');e.push('ds');e.push('project');e.push('aux');e.push('guid');e.push('mobile');e.push('app');e.push('showVizHome');e.push('showShareOptions');e.push('record_client_performance');e.push('bootstrapWhenNotified');e.push('apiID');e.push('reloadOnCustomViewSave');e.push('openAuthoringInTopWindow');e.push('browserBackButtonUndo');e.push('commentingEnabled');e.push('size');e.push('isVizPortal');dU.$d=e})();(function(){em.maxSubscriptionSubjectLength=256;em.maxSubscriptionEmailLength=100;em.$0='tabSubscriptionScheduleDropdown';em.modeMainDialog=0;em.modeMessage=1;em.modeSubscribeUsers=2;em.modeSubscribeGroups=3})();(function(){eC.iconTypeDownload='download';eC.iconTypeShare='share';eC.iconTypeCustomViews='customviews';eC.iconTypeSubscribe='subscribe';eC.iconTypeEdit='edit';eC.iconTypeRedo='redo';eC.iconTypeUndo='undo';eC.iconTypeRevert='revert';eC.iconTypeToggleDataUpdates='toggle-updates';eC.iconTypeRefreshData='refresh';eC.iconTypePublicLogo='public-logo';eC.pauseButton='Pause'})();(function(){tab.ObjectRegistry.registerType(dr,dr).call(null)})();(function(){el.$0=0;tab.ObjectRegistry.registerType(el,el).call(null)})();(function(){tab.ObjectRegistry.registerType(dT,dT).call(null)})();(function(){bQ.$1='tabDownloadData';bQ.$0='tabDownloadCrosstab';bQ.$2='tabDownloadImage';bQ.$3='tabDownloadPdf';bQ.$4='tabDownloadWorkbook';bQ.$5='tabPublicApp';bQ.$6=715;tab.ObjectRegistry.registerType(bQ,bQ).call(null)})();(function(){fh.$2$3=null})();(function(){H.vizClientContainerSelector='.tab-viz-client-container'})();(function(){dL.drawerWidthOpen=320;dL.drawerWidthClosed=0})();(function(){cj.$4=null;cj.$3=null})();(function(){eq.defaultLinePattern='solid';eq.defaultLineJoin='bevel';eq.defaultLineCap='butt';eq.defaultTextBaseline='alphabetic';eq.defaultTextAlign='start';eq.defaultLineDashDashed=[3,1];eq.defaultLineDashDotted=[1,1];eq.defaultLineWidth=1;eq.defaultColor='rgb(0,0,0)';eq.defaultTextColor='rgb(0,0,0)';eq.defaultTextAngle=0;eq.defaultFontName='Arial';eq.defaultFontSize=8;eq.defaultTextUnderline=false;eq.$1=0.01})();(function(){W.halfPI=0.5*Math.PI;W.onePI=Math.PI;W.oneAndHalfPI=1.5*Math.PI;W.twoPI=2*Math.PI;W.angleEpsilon=0.000174000000697561})();(function(){bA.warningToastTelemetryEventName='DataAlert_CreateAlertButtonClicked';bA.errorMessageTypeProperty='ErrorMessageType';bA.errorMessageStringProperty='ErrorMessageString';bA.alertButtonClickedType='createAlertButtonClicked';bA.datasourceNoPasswordErrorType='datasourceNoEmbeddedPasswordError';bA.platformPropagatedErrorType='platformPropagatedError';bA.genericDataAlertInitErrorType='genericDataAlertInitError';bA.getDataSourcesApiFailedErrorType='getDataSourcesApiFailedError'})();(function(){bE.$0="\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"})();(function(){bG.$6=6})();(function(){cq.$0=null;if(tab.FeatureFlags.isEnabled('WebGeneralKeyboardShortcuts')){cq.$0=(tsConfig.is_authoring?tab.UriUtil.makeSupportUri():tab.UriUtil.makeHelpUri('help','help.htm'));cS.registerShortcut(new cq)}})();(function(){cr.simpleRectangleCollider=null;cr.simpleRectangleCollider=function(e,fm){var fn=e.get_geom().x;var fo=e.get_geom().x+e.get_geom().w;var fp=e.get_geom().y;var fq=e.get_geom().y+e.get_geom().h;var fr=fm.x;var fs=fm.x+fm.w;var ft=fm.y;var fu=fm.y+fm.h;if(fq<ft){return false}if(fp>fu){return false}if(fo<fr){return false}if(fn>fs){return false}return true}})();(function(){ct.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>"})();(function(){eW.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>"})();(function(){cN.$2=0;cN.$1='tabIterButtonDisabled';cN.$0=100})();(function(){cX.$0={width:0,readoutText:'',readoutColor:'',borderColor:'',shouldShowMapScale:false,marginOfError:0,tooltipText:''}})();(function(){da.leafletLibFileName='leaflet';da.nestedProjectExplorerLibFileName='nested-project-explorer';da.rsaLibFilename='rsa';da.naturalLanguageLibFileName='natural-language-input-box';da.extensionBootstrapLibFileName='frelard-server-bootstrap';da.dataGridModuleDependency=new tab.JsModuleInfo(ss.getTypeFullName(tab.ISharedWidgetsDataGrid),null);da.storyAuthoringDependency=new tab.JsModuleInfo(ss.getTypeFullName(tab.IStoryModule),null);var e=!tsConfig.isUnitTestRun;tab.ModuleManager.register(tab.IConnectionDialogModule).call(null,'ConnectionDialogModule',null).andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(da.dataGridModuleDependency);tab.ModuleManager.register(tab.IPdfExportDialogModule).call(null,'PdfExportDialog',null).andLoadOnDemandIf(e);if(tsConfig.is_authoring){tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IStoryAuthoringModule).call(null,'StoryAuthoring','StoryAuthoring').andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(da.storyAuthoringDependency);tab.ModuleManager.register(tab.IResizeHeadersModule).call(null,'ResizeHeadersModule',null).andLoadOnDemandIf(false);da.$3()}else{tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(e)}da.$0(e);tab.ModuleManager.register(tab.IGroupDialogModule).call(null,'GroupDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(da.dataGridModuleDependency);tab.ModuleManager.register(tab.IBinDialogModule).call(null,'BinDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IAliasDialogModule).call(null,'AliasDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(da.dataGridModuleDependency);tab.ModuleManager.register(tab.ITrendLineDialogModule).call(null,'TrendLineDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.registerTypicalRawJsModule('leaflet').andLoadOnDemandIf(e);tab.ModuleManager.registerTypicalRawJsModule('rsa').andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDataConnectionModule).call(null,'DataConnection',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISelfServiceSchedulesModule).call(null,'SelfServiceSchedulesModule',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISharedWidgetsDataGrid).call(null,'SharedWidgetsDataGridModule',null).andLoadOnDemandIf(true);tab.ModuleManager.register(tab.ISharedWidgetsPlayground).call(null,'SharedWidgetsPlayground',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDownloadDialogModule).call(null,'DownloadDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDownloadAsVersionDialogModule).call(null,'DownloadAsVersionDialog',null).andLoadOnDemandIf(true);if(tab.NaturalLanguageUtil.boxShouldShow()){tab.ModuleManager.registerTypicalRawJsModule('natural-language-input-box').andLoadOnDemandIf(e)}tab.ModuleManager.registerTypicalRawJsModule('nested-project-explorer').andLoadOnDemandIf(e).moduleBeingConfigured.addDependency(da.dataGridModuleDependency);tab.ModuleManager.registerRawJsModule('@tableau/frelard-server-bootstrap','frelard-server-bootstrap','frelard-server-bootstrap').andLoadOnDemandIf(e).andExportResultAs('ExtensionsApi');da.$2(e);if(tsConfig.is_mobile){tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneMobile',null).andLoadOnDemandIf(false)}else{tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneWeb',null).andLoadOnDemandIf(false)}if(tab.FeatureFlags.isEnabled('RuntimeWebIncrementalUpdate')&&tab.RuntimeUtil.isRuntimeSupported()){tab.ModuleManager.registerRawJsModule('runtimeweb','runtimeweb','runtimeweb.pretty').andLoadOnDemandIf(true)}$(function(){define('$',function(){return $});define('React',function(){return React});define('ReactDOM',function(){return ReactDOM});define('react',function(){return React});define('react-dom',function(){return ReactDOM});define('SharedWidgets',function(){return SharedWidgets});define('@tableau/preslayer-api-contract',function(){var fm=new Object;fm.Instance=tab.PluginPresentationLayer.get_instance();return fm});define('@tableau/file-picker-api-contract',function(){var fm=new Object;fm.Instance=tab.PluginFilePicker.get_instance();return fm});define('@tableau/telemetry-api-contract',function(){var fm=new Object;fm.Instance=tab.PluginTelemetry.get_instance();return fm});define('@tableau/shared-widgets',function(){return SharedWidgets});define('@tableau/widgets',function(){return SharedWidgets})})})();(function(){dh.$0="<img class='tab-overlayImage'/>"})();(function(){dv.minTitleHeight=17;dv.titlePadding=3})();(function(){dw.containerClass='tab-legacy-dropdown-container';dw.containerBorderClass='tab-legacy-qf-bordered';dw.summaryClass='tab-legacy-dropdown-summary';dw.iconContainerClass='tab-legacy-dropdown-icon-container';dw.iconClass='tab-legacy-dropdown-icon'})();(function(){dx.containerClass='tab-legacy-qf-readout-container';dx.containerBorderClass='tab-legacy-qf-bordered';dx.textClass='tab-legacy-qf-readout-text';dx.iconClass='tab-legacy-qf-readout-icon'})();(function(){dA.autoCompleteDebounceTime=200;dA.rowHeight=26;dA.numberOfRowsInViewport=6})();(function(){tab.WebCommandRegistry.registerCommand(dG.get_commandName(),dI)})();(function(){ee.$0='.SmoothTooltipBehavior'})();(function(){ev.$0="<div class='tvimagesContainer'></div>"})();(function(){eO.$0='.tab-tooltipContent';eO.$1="\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"})();(function(){eJ.defaultVerticalOffset=16;eJ.defaultHorizonalOffset=16;eJ.$4=16;eJ.$2=10;eJ.belowRightClass='tab-tooltipBR';eJ.belowLeftClass='tab-tooltipBL';eJ.aboveRightClass='tab-tooltipAR';eJ.aboveLeftClass='tab-tooltipAL';eJ.$1='tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR';eJ.$5=null;eJ.$3='Tooltip layout was requested, but tooltip position cannot be calulated (shownArgs is null).'})();(function(){eP.$m="\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>";eP.$r='.tab-ubertipTooltip';eP.$s='.tab-ubertipTooltip span[data-tableau="VizInTooltip"]';eP.$j='.tab-ubertipContent';eP.$e='.tab-ubertipActions';eP.$g='.tab-ubertipCommandArea';eP.$i='.tab-ubertipCommands';eP.$h='.tab-clear';eP.$p='.tab-ubertipSelected';eP.$o='tab-selection-relaxation-selected';eP.$f="<li><div class='tab-separator'>&nbsp;</div></li>";eP.$k=70;eP.$l=2;eP.$q=740;eP.$n=null;eP.$n={}})();(function(){fa.$1$1=null;fa.$1$2=null})();(function(){eL.whitespaceObjectId='W';eL.unknownObjectId='U';eL.$0='mouseleave.basemode';eL.$4=0;eL.$3=null;eL.$2=null;eL.$1='U';eL.vizInTooltipDelayTimerMs=200})();(function(){eZ.$0=null})()})();;
/*! BEGIN RuntimeUI */
(function(){'dont use strict';var a={};ss.initAssembly(a,'vqlruntimeui')})();;
/*! BEGIN VizZone */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzone');var b=function(L){this.$2=null;this.$3=null;this.$5=null;this.$4=false;this.$5=L;this.$4=this.$5==='selected'||this.$5==='highlighted'||this.$5==='hover'};b.__typeName='tab.$0';var c=function(L){this.$1=0;this.$6=0;this.$5=null;this.$4=null;this.$3=null;this.$8=null;this.$7=null;this.$b=null;this.$a=0;this.$2=null;this.$9=null;this.$1=L.get_alpha();this.$4=L.get_lineJoin();this.$3=L.get_lineCap();this.$5=L.get_linePattern();this.$8=L.get_strokeStyle();this.$6=L.get_lineWidth();this.$a=L.get_textAngle();this.$2=L.get_font();this.$7=L.get_shapeFillStyle();this.$b=L.get_textFillStyle();this.$9=L.get_textAlign()};c.__typeName='tab.$1';var d=function(L,bQ){this.$1=null;this.$0=null;this.$1=L;this.$0=bQ};d.__typeName='tab.$2';var e=function(){this.$1=null;spiff.Template.call(this,$("<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"));this.$1=this.getElementBySelector('.tabMapsSearchView')};e.__typeName='tab.$3';var f=function(L){this.$8=null;this.$c=null;this.$9=false;this.$a=0;this.$b=null;this.$c=L;this.$9=false;this.$a=0};f.__typeName='tab.$4';var g=function(L){this.$a=0;this.$c=-1;this.$b=null;this.$9=true;this.$1$1=null;this.$1$2=null;this.$a=L;this.$c=-1;this.$9=true};g.__typeName='tab.$5';var h=function(L,bQ){this.$1$1=null;this.$1$2=0;this.$1(L);this.$3(bQ)};h.__typeName='tab.$6';var i=function(){this.$6=null;this.$7=null;this.$8=null;spiff.Template.call(this,$("<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"));this.$6=this.getElementBySelector('.tabLeftBarnDoor');this.$7=this.getElementBySelector('.tabRightBarnDoor');this.$8=this.getElementBySelector('.tabLeafletMapHolder');var L=ss.mkdict(['position','absolute','top','0px','bottom','0px']);this.$6.css(L);this.$7.css(L);this.$6.css('left','0px');this.$7.css('right','0px');if(tab.BrowserSupport.get_isIE()){this.$6.css('z-index','10');this.$7.css('z-index','10')}};i.__typeName='tab.$7';var j=function(){this.$3=[]};j.__typeName='tab.$8';j.$1=function(L,bQ,bR){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var bS=bQ.get_vizRegionMap()['background'];if(ss.isNullOrUndefined(bS)||ss.isNullOrUndefined(bS.get_visualListPM().drawItems)){return}var bT=bS.get_visualListPM().drawItems;var bU={};var bV=L.ri.length;for(var bW=0;bW<bV;bW++){var bX=L.ri[bW];bU[bX.r]=bX}var bY=null;if(ss.isValue(bQ)&&ss.isValue(bQ.get_scene())){bY=bQ.get_scene().get_imageDictionary()}var bZ=tab.RenderUtil.calculatePixelRatio();var ca=bQ.get_visualModel().get_backgroundColor();var cb=[{name:'uleft'.toString(),node:bR.topLeftSpacer},{name:'uright'.toString(),node:bR.topRightSpacer},{name:'lleft'.toString(),node:bR.bottomLeftSpacer},{name:'lright'.toString(),node:bR.bottomRightSpacer}];for(var cc=0;cc<cb.length;cc++){var cd=cb[cc];var ce=bU[cd.name];if(ss.isNullOrUndefined(ce)){continue}var cf=cd.node;var cg=cf.get(0).firstChild;if(ss.isNullOrUndefined(cg)){continue}j.$2(cg,ca,bZ,ce,bT,bY)}};j.$2=function(L,bQ,bR,bS,bT,bU){var bV=(bQ.get_isOpaque()?'opaque':'transparent');var bW=tab.CanvasRenderer.getRenderContext(L,bV);bW.clearRect(0,0,L.width,L.height);bW.set_shapeFillStyle(bQ.toString());bW.fillRect(0,0,L.width,L.height);bW.setDefaultPropertyValues();if(!tab.DoubleUtil.isApproximatelyEqual(bR,1)){tab.CanvasUtil.scaleCanvasDrawing(bW,bR)}var bX=new p(L,bW,M.defaultColors);bX.set_renderOffset({x:bS.x,y:bS.y});var bY=bX;bY.renderDrawItems(bT,null,bU,null)};j.$0=function(L,bQ){var bR=L.get(0).firstChild;if(!(ss.compareStrings(bR.tagName,bQ,true)===0)){bR=document.createElement(bQ);L.children().first().replaceWith(bR)}return bR};var k=function(){this.$4=null;this.$1=0;this.$1=-1};k.__typeName='tab.$9';var l=function(){this.canvasElt=null;spiff.Template.call(this,$("<canvas class='tabCanvas'></canvas>"));this.canvasElt=this.domRoot;this.canvasElt.css('display','block')};l.__typeName='tab.CanvasTemplate';global.tab.CanvasTemplate=l;var m=function(L){var bQ=function(bR,bS){this.canvasElt=null;this.context=null;this.scrollOffset=null;this.$c=null;this.$g=null;this.$h=0;this.$i=null;this.$e=null;this.$j=null;this.$f=false;this.$d=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[L]).call(this,bR,new l);this.canvasElt=this.get_template().canvasElt.get(0);this.scrollOffset={x:0,y:0};this.$g={x:0,y:0};this.$f=false;this.$c=bS;this.context=tab.CanvasRenderer.getRenderContext(this.canvasElt,bS);this.$h=tab.RenderUtil.calculatePixelRatio();tab.CommandController.get().add_modelsUpdated(ss.mkdel(this,this.$b))};ss.registerGenericClassInstance(bQ,m,[L],{add_sizeChange:function(bR){this.$3$1=ss.delegateCombine(this.$3$1,bR)},remove_sizeChange:function(bR){this.$3$1=ss.delegateRemove(this.$3$1,bR)},get_canScrollX:function(){return this.get_docSize().w-this.get_effectiveViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_effectiveViewSize().h>0},get_docSize:null,get_actualViewSize:function(){if(!ss.isValue(this.canvasElt)){return{w:0,h:0}}return{w:this.canvasElt.width,h:this.canvasElt.height}},set_actualViewSize:function(bR){if(!ss.isValue(this.canvasElt)){return}if(tab.CanvasUtil.isOverCanvasSizeLimit(bR.w,bR.h,this.get_pixelRatio())){this.$h=1}if(this.get_effectiveViewSize().w!==bR.w||this.get_effectiveViewSize().h!==bR.h){this.$e={w:bR.w,h:bR.h};tab.CanvasUtil.setCanvasSizeAndDensify(this.canvasElt,this.get_pixelRatio(),this.$e);if(this.$c==='opaque'){this.context.set_shapeFillStyle(this.get_backgroundFillColor().toString());this.context.fillRect(0,0,this.canvasElt.width,this.canvasElt.height)}this.invalidate(false);if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},get_effectiveViewSize:function(){if(ss.isValue(this.$e)){return this.$e}else{return this.get_actualViewSize()}},get_pixelRatio:function(){return this.$h},get_isContentOpaque:function(){return true},get_needsRedraw:function(){return!tab.RectXYUtil.isEmpty(this.get_dirtyRect())},get_scrollPos:function(){return this.scrollOffset},set_scrollPos:function(bR){if(!tab.PointUtil.equals(this.scrollOffset,bR)){var bS=tab.PointDUtil.timesScalar(bR,this.$h);var bT=tab.PointDUtil.round(bS);var bU=tab.PointUtil.subtract(bT,this.$g);var bV=tab.PointUtil.subtract(bR,this.scrollOffset);this.$g=bT;this.scrollOffset=bR;if(this.get_backgroundFillColor().get_isOpaque()){if(!tab.RectXYUtil.isEmpty(this.get_dirtyRect())){var bW={x:-bV.x,y:-bV.y};var bX=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),bW);this.set_dirtyRect(bX)}if(bV.x!==0&&bV.y!==0||!this.get_isContentOpaque()){this.invalidate(true)}else{var bY=bU.x;var bZ=bU.y;var ca=this.get_actualViewSize().w-Math.abs(bY);var cb=((bY>0)?bY:0);var cc=((bY>0)?0:-bY);var cd=this.get_actualViewSize().h-Math.abs(bZ);var ce=((bZ>0)?bZ:0);var cf=((bZ>0)?0:-bZ);if(ca<=0||cd<=0){this.invalidate(true)}else{this.context.reset();this.context.drawImage5(this.canvasElt,cb,ce,ca,cd,cc,cf,ca,cd);var cg={x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};if(bV.x>0){cg.x=cg.w-bV.x}else if(bV.x<0){cg.w=-bV.x}if(bV.y>0){cg.y=cg.h-bV.y}else if(bV.y<0){cg.h=-bV.y}if(bV.x===0){cg.h=Math.abs(bV.y)}if(bV.y===0){cg.w=Math.abs(bV.x)}cg=tab.RectXYUtil.dialate(cg,3);this.invalidateRect(cg,true)}}}else{this.invalidate(true)}}},get_dirtyRect:function(){return(ss.isValue(this.context)?this.context.dirtyRect:{x:0,y:0,w:0,h:0})},set_dirtyRect:function(bR){if(ss.isValue(this.context)){this.context.dirtyRect=bR}},get_backgroundFillColor:null,dispose:function(){if(ss.isValue(this.$i)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.$9();tab.CommandController.get().remove_modelsUpdated(ss.mkdel(this,this.$b));ss.makeGenericType(spiff.BaseView$1,[L]).prototype.dispose.call(this)},clearDirty:function(){this.set_dirtyRect({x:0,y:0,w:0,h:0})},invalidate:function(bR){this.set_dirtyRect({x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h});this.triggerRedraw(bR)},invalidateRect:function(bR,bS){var bT;if(tab.RectXYUtil.isEmpty(this.get_dirtyRect())){bT=tab.RectXYUtil.clone(bR)}else{bT=tab.RectXYUtil.union(this.get_dirtyRect(),bR)}if(bT.x<0){bT.x=0}if(bT.x+bT.w>this.get_effectiveViewSize().w){bT.w=this.get_effectiveViewSize().w-bT.x}if(bT.y<0){bT.y=0}if(bT.y+bT.h>this.get_effectiveViewSize().h){bT.h=this.get_effectiveViewSize().h-bT.y}this.set_dirtyRect(bT);this.triggerRedraw(bS)},setXPos:function(bR){this.set_scrollPos({x:bR,y:this.get_scrollPos().y})},setYPos:function(bR){this.set_scrollPos({x:this.get_scrollPos().x,y:bR})},redraw:null,redrawFinished:null,triggerRedraw:function(bR){var bS=ss.isValue(this.$i);bR=bR||false;if(bR){this.$a();this.redraw();this.$9();if(bS){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.redrawFinished()}else if(!bS){this.$a();this.$i=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){if(ss.isValue(this.$i)){this.triggerRedraw(true)}},$a:function(){this.$j=this.$j||tab.BaseSession.get_waitHandler();var bR=!this.$f&&this.$j.isBusy();if(bR){this.$j.addref(false,true);this.$f=true;return true}if(ss.isNullOrUndefined(this.$d)){this.$d=tab.CompletionMonitor.get_instance().hold(1)}return false},$9:function(){if(this.$f){this.$j=this.$j||tab.BaseSession.get_waitHandler();this.$j.release();this.$f=false}if(ss.isValue(this.$d)){this.$d.dispose();this.$d=null}}},function(){return ss.makeGenericType(spiff.BaseView$1,[L])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[L]),spiff.IScrollable]});return bQ};m.__typeName='tab.CanvasView$1';ss.initGenericClass(m,a,1);global.tab.CanvasView$1=m;var n=function(L,bQ){this.$i=null;this.$j=null;this.$k=null;bt.call(this,L,"<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>",'tvdrag_svg_div');this.$i={center:{x:0,y:0},radius:0};this.$j={center:{x:0,y:0},radius:0};this.$k=bQ};n.__typeName='tab.CircleShapeSelector';global.tab.CircleShapeSelector=n;var o=function(){this.$0=null;this.$1=null;bu.call(this);this.$0={center:{x:0,y:0},radius:0};this.$1={center:{x:0,y:0},radius:0}};o.__typeName='tab.CircleShapeState';global.tab.CircleShapeState=o;var p=function(L,bQ,bR){this.$c=null;tab.CanvasRenderer.call(this,L,bQ);this.$c=bR||M.defaultColors};p.__typeName='tab.DisplayList2DRenderer';p.setTextProperties=function(L,bQ,bR){L.set_textFillStyle(bQ.color);var bS=new ss.StringBuilder;if(bQ.fontStyle==='font-style-italic'){bS.append('italic ')}if(bQ.fontWeight==='font-weight-bold'){bS.append('bold ')}if(ss.isValue(bQ.textDecoration)&&bQ.textDecoration==='text-decoration-underline'){L.set_shouldUnderlineText(true)}if(ss.isNullOrUndefined(bR)||bR<=0){bR=bQ.fontSize}var bT=p.$1(bQ.fontName);bS.append(bR+'pt '+bT);L.set_font(bS.toString());L.set_textBaseline(tab.FormattingConverters.getTextBaseline(bQ.valign))};p.$1=function(L){var bQ=p.$a.cl[L];if(ss.isValue(bQ)){return bQ}var bR=ss.trimString(L,[39,34]);var bS=bR.split(' ');var bT=[];for(var bU=bS.length;bU>0;--bU){bT.push(tab.FormattingConverters.addQuotationMarks(bS.join(' '),true));bS.pop()}tab.FormattingConverters.addDefaultFontForTableau(bT);var bV=bT.join(', ');p.$a.add(L,bV);return bV};p.$0=function(L,bQ){var bR=bQ;L.set_textFillStyle(tab.ColorModel.convertColorForCanvas(bR.color));if(ss.isValue(bR.angle)){var bS=bR.angle*Math.PI/180;L.set_textAngle(bS)}else{L.set_textAngle(0)}var bT=new ss.StringBuilder;if(bR.isItalics){bT.append('italic ')}if(bR.isBold){bT.append('bold ')}if(bR.isStrikeThrough){}var bU=tab.TabRenderContext2D.defaultTextAlign;if(L.get_isTextAngleHorizontal()){var bV=bR.horizontalLabelAlignment||'h-align-left';if(bV==='h-align-right'){bU='end'}}else{var bW=bR.verticalLabelAlignment||'v-align-top';if(L.get_textAngle()<0&&bW==='v-align-top'||L.get_textAngle()>0&&bW==='v-align-bottom'){bU='end'}}L.set_textAlign(bU);L.set_shouldUnderlineText(bR.isUnderlined||false);var bX=bR.fontName||'Arial';bX=p.$1(bX);var bY=bR.pointSize||8;bT.append(bY+'pt '+bX);L.set_font(bT.toString())};p.$2=function(L,bQ,bR){var bS=bQ;if(bS.points.length!==4){return}var bT=bS.points[2]-bS.points[0];var bU=bS.points[3]-bS.points[1];var bV=bS.points[0]+bT/2;var bW=bS.points[1]+bU/2;var bX=((bT<bU)?bT:bU)/2;var bY=((bT<bU)?1:(bT/bU));var bZ=((bU<bT)?1:(bU/bT));L.save();L.beginPath();L.translate(bV,bW);L.scale(bY,bZ);L.arc(0,0,bX,0,tab.CanvasRenderer.twoPI,false);L.closePath();if(bR){L.fill()}else{L.stroke()}L.restore()};p.$3=function(L,bQ,bR){var bS=bQ.pointsF;if(!bR&&Math.round(L.get_lineWidth())%2===1){bS=ss.arrayClone(bS);for(var bT=0,bU=bS.length;bT<bU;++bT){bS[bT]+=0.5}}var bV=bQ.pathElements;var bW=Math.floor(bS.length/2);if(bW<2){return}L.beginPath();var bX=0;for(var bY=0;bY<bV.length;bY++){var bZ=bV[bY];switch(bZ){case'moveto':{{L.moveTo(bS[bX],bS[bX+1]);bX+=2}break}case'lineto':{{L.lineTo(bS[bX],bS[bX+1]);bX+=2}break}case'curveto':{{L.bezierCurveTo(bS[bX],bS[bX+1],bS[bX+2],bS[bX+3],bS[bX+4],bS[bX+5]);bX+=6}break}default:{{}break}}}if(bR){L.fill()}else{L.stroke()}};p.$5=function(L){switch(L.type){case'draw-pen':case'draw-solid-brush':case'draw-gradient-brush':case'clip-rect':case'draw-text-props':case'transform':case'transform-pop':case'transform-push':case'draw-antialias':{return true}}return false};p.$6=function(L,bQ){if(!bQ){return L}var bR=p.$4(L);if(bR.length===0){return L}var bS=ss.arrayClone(L);var bT=function(bY,bZ){var ca=bS[bY];bS[bY]=bS[bZ];bS[bZ]=ca};for(var bU=0;bU<bR.length;bU++){var bV=bR[bU];for(var bW=0;bW<ss.Int32.div(bV.length,2);++bW){var bX=bV.length-1-bW;bT(bV[bW].item1,bV[bX].item1);bT(bV[bW].item2,bV[bX].item2)}}return bS};p.$4=function(L){var bQ=[];var bR=-99999999;var bS=false;var bT=-1;var bU=[];for(var bV=0;bV<L.length;bV++){var bW=L[bV];if(bW.type==='draw-text-props'){var bX=bW;bS=ss.isValue(bX.horizontalLabelAlignment)&&bX.horizontalLabelAlignment==='h-align-right';bT=bV}else if(bS&&bW.type==='draw-text'){var bY=bW;var bZ=bY.points[1];if(bZ!==bR){if(bU.length>=2){bQ.push(bU)}bU=[]}bU.push({item1:bT,item2:bV});bR=bZ}}if(bU.length>=2){bQ.push(bU)}return bQ};global.tab.DisplayList2DRenderer=p;var q=function(){};q.__typeName='tab.DisplayList2DUtils';q.rectXYFromDrawRect=function(L){return{x:L[0],y:L[1],w:L[2]-L[0],h:L[3]-L[1]}};q.rectXYFromRoundedRect=function(L,bQ){if(!(L.length===26&&bQ.length===5)||L.length===30&&bQ.length===7||L.length===34&&bQ.length===9){return null}var bR=2147483647;var bS=-2147483648;var bT=2147483647;var bU=-2147483648;var bV=0;for(var bW=0;bW<bQ.length;bW++){var bX=bQ[bW];switch(bX){case'lineto':case'moveto':{bV+=2;break}case'curveto':{bV+=4;bR=Math.min(bR,ss.Int32.trunc(L[bV]));bS=Math.max(bS,ss.Int32.trunc(L[bV]));bT=Math.min(bT,ss.Int32.trunc(L[bV+1]));bU=Math.max(bU,ss.Int32.trunc(L[bV+1]));bV+=2;break}default:{break}}}var bY=[bR,bT,bS,bU];return q.rectXYFromDrawRect(bY)};global.tab.DisplayList2DUtils=q;var r=function(){this.$3=null;this.$2=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$3=[];this.$1=new Array};r.__typeName='tab.DownloadQueue';global.tab.DownloadQueue=r;var s=function(L,bQ){React.Component.call(this,L,bQ)};s.__typeName='tab.FloatingMenuFlyoutButtonComponent';global.tab.FloatingMenuFlyoutButtonComponent=s;var t=function(){};t.__typeName='tab.FloatingToolbarButton';global.tab.FloatingToolbarButton=t;var u=function(L,bQ){React.Component.call(this,L,bQ)};u.__typeName='tab.FloatingToolbarContainerComponent';global.tab.FloatingToolbarContainerComponent=u;var v=function(L){this.$q=false;this.$r=false;this.$o=false;this.$p=false;this.$k=true;this.$l=true;this.$j=null;this.$i=null;this.$n=null;this.$m=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$i={};this.$i[0]={buttonId:0,iconClassName:'tab-radial-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsRadialSelectionTooltipMobile,onTap:ss.mkdel(this,this.$e)};this.$i[1]={buttonId:1,iconClassName:'tab-lasso-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsLassoSelectionTooltipMobile,onTap:ss.mkdel(this,this.$e)};this.$i[2]={buttonId:2,iconClassName:'tab-rectangle-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsRectangularSelectionTooltipMobile,isSelected:true,onTap:ss.mkdel(this,this.$e)};this.$i[3]={buttonId:3,iconClassName:'tab-append-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsAppendTooltip,onTap:ss.mkdel(this,this.$5)};this.$n={buttonId:2,iconClassName:'tab-rectangle-select-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsRectangularSelectionTooltipMobile,isSelected:true,onTap:ss.mkdel(this,this.$b),shouldShowFlyoutCaret:true};this.$m={buttonId:4,iconClassName:'tab-pan-tool',buttonTooltip:tab.Strings.PanZoomSelectToolsPanTooltipMobile,onTap:ss.mkdel(this,this.$e)};L.add_toolbarToolModeUpdated(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_toolbarToolModeUpdated(ss.mkdel(this,this.$9))})));this.$9(L.get_currentPointerToolMode());L.add_appendModeUpdated(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){L.remove_appendModeUpdated(ss.mkdel(this,this.$8))})));this.$8(L.get_isAppendMode())};v.__typeName='tab.FloatingToolbarContainerViewModel';v.$0=function(L){switch(L){case'pan-map':{return 4}case'radial-selection':{return 0}case'lasso-selection':{return 1}case'rectangular-selection':default:{return 2}}};v.$1=function(L){switch(L){case 4:{return'pan-map'}case 0:{return'radial-selection'}case 1:{return'lasso-selection'}case 2:{return'rectangular-selection'}default:{return'no-tools'}}};global.tab.FloatingToolbarContainerViewModel=v;var w=function(L,bQ){this.$7=null;this.$8=null;this.$9=0;this.$a=0;React.Component.call(this,L,bQ);this.$7=ss.mkdel(this,function(bR){this.$8=bR})};w.__typeName='tab.FloatingToolbarPositioningComponent';global.tab.FloatingToolbarPositioningComponent=w;var x=function(L,bQ,bR,bS,bT){this.parent=null;this.buttonContainer=null;this.flyOutContainer=null;this.flyOutButtons=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.zoomAreaButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;this.api=null;this.canZoomHome=false;this.geoSearchEnabled=false;this.$8=null;this.toolbarType=null;this.$7=true;spiff.Widget.call(this,$("<div class='FloatingZoomToolbar'></div>"));this.parent=$(L);this.api=bQ;this.toolbarType=bR;this.canZoomHome=false;this.geoSearchEnabled=bT;this.element.css({top:bS+'px'})};x.__typeName='tab.FloatingZoomToolbar';global.tab.FloatingZoomToolbar=x;var y=function(L){this.zoomToolbar=null;this.$1=null;this.$0=null;this.$0=L};y.__typeName='tab.FloatingZoomToolbarView';global.tab.FloatingZoomToolbarView=y;var z=function(){};z.__typeName='tab.GeometryUtil';z.domainToPixelGeometry=function(L,bQ,bR,bS){switch(L.geometryType){case'multiPolygon':{z.domainToPixelMultipolygon(L.multiPolygon,bQ,bR,bS);break}case'multiPoint':{var bT=0;var bU=L.multiPoint;z.domainToPixelCoordinateArray(bU.pointsF,bQ,bR,bS,bT);break}case'multiLineString':{var bV=L.multiLine;z.domainToPixelMultiline(bV,bQ,bR,bS);break}default:{break}}};z.domainToPixelMultipolygon=function(L,bQ,bR,bS){var bT=L.polygonList;var bU=bT.length;var bV=6;for(var bW=0;bW<bU;bW++){var bX=bT[bW].lineList;var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ].pointsF;z.domainToPixelCoordinateArray(ca,bQ,bR,bS,bV)}}};z.domainToPixelMultiline=function(L,bQ,bR,bS){var bT=L.lineList.length;var bU=4;for(var bV=0;bV<bT;bV++){var bW=L.lineList[bV].pointsF;z.domainToPixelCoordinateArray(bW,bQ,bR,bS,bU)}};z.domainToPixelCoordinateArray=function(L,bQ,bR,bS,bT){var bU=3;var bV=bR.w/bQ.w;var bW=bR.h/bQ.h;var bX=L.length;if(bX<2){return}var bY=null;var bZ=null;var ca=0;for(var cb=0;cb<bX;cb+=2){var cc=z.$5(L[cb],bQ.x,bR.x,bV);var cd=z.$5(L[cb+1],bQ.y,bR.y,bW);var ce=ca+bX-cb;if(bS&&ce>bT){var cf=cc*3<<0;var cg=cd*3<<0;if(cf===bY&&cg===bZ){continue}bY=cf;bZ=cg}L[ca]=cc;L[ca+1]=cd;ca+=2}L.length=ca};z.isGeometryPresModelFeatureEmpty=function(L){switch(L.geometryType){case'multiPoint':{return L.multiPoint.pointsF.length===0}case'multiPolygon':{return L.multiPolygon.polygonList.length===0}case'multiLineString':{return L.multiLine.lineList.length===0}default:{return false}}};z.$5=function(L,bQ,bR,bS){return(L-bQ)*bS+bR};z.isPointInPoly=function(L,bQ,bR){if(ss.isValue(bR)&&bR!==0){return z.polygonIntersectsDoubleRect(L,{x:bQ.x-bR,y:bQ.y-bR,w:bR*2,h:bR*2})}var bS=0;var bT=L.length;for(var bU=0;bU<bT;bU+=2){var bV=L[bU];var bW=L[bU+1];var bX=(bU+2)%bT;var bY=L[bX];var bZ=L[bX+1];if(bW<=bQ.y){if(bZ>bQ.y){if(z.$6(bV,bW,bY,bZ,bQ.x,bQ.y)>0){++bS}}}else if(bZ<=bQ.y){if(z.$6(bV,bW,bY,bZ,bQ.x,bQ.y)<0){--bS}}}return bS!==0};z.isPointInPolygon=function(L,bQ){var bR=false;var bS=0;for(var bT=0;bT<L.lineList.length;bT++){var bU=L.lineList[bT];var bV=z.isPointInPoly(bU.pointsF,bQ);if(bS===0){if(bV){bR=true}else{break}}else if(bV){bR=false;break}bS++}return bR};z.isPointInMultipolygon=function(L,bQ){var bR=false;for(var bS=0;bS<L.polygonList.length;bS++){var bT=L.polygonList[bS];bR=z.isPointInPolygon(bT,bQ);if(bR){break}}return bR};z.lineToQuad=function(L,bQ){var bR=bQ/2;var bS={x:L[0],y:L[1]};var bT={x:L[2],y:L[3]};var bU=bT.x-bS.x;var bV=bT.y-bS.y;var bW=Math.sqrt(bU*bU+bV*bV);if(bW===0){return z.makeQuadFromPoints(bS,bS,bS,bS)}var bX={x:bR*(bU/bW),y:bR*(bV/bW)};var bY={x:-bX.y,y:bX.x};var bZ={x:bS.x+bY.x,y:bS.y+bY.y};var ca={x:bS.x-bY.x,y:bS.y-bY.y};var cb={x:bT.x+bY.x,y:bT.y+bY.y};var cc={x:bT.x-bY.x,y:bT.y-bY.y};return z.makeQuadFromPoints(bZ,ca,cc,cb)};z.makeQuadFromPoints=function(L,bQ,bR,bS){var bT=new Array(8);bT[0]=L.x;bT[1]=L.y;bT[2]=bQ.x;bT[3]=bQ.y;bT[4]=bR.x;bT[5]=bR.y;bT[6]=bS.x;bT[7]=bS.y;return bT};z.isPointInMultiLineString=function(L,bQ,bR){var bS=L.lineList;var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU].pointsF;var bW=bV.length;if(bW<4||bW%2===1){continue}for(var bX=0;bX<bW-2;bX+=2){var bY=new Array(4);bY[0]=bV[bX];bY[1]=bV[bX+1];bY[2]=bV[bX+2];bY[3]=bV[bX+3];if(z.isPointInPoly(z.lineToQuad(bY,bR),bQ)){return true}if(bX>=2){var bZ={x:bV[bX],y:bV[bX+1]};var ca={center:bZ,radius:bR/2};if(z.isPointInCircle(bQ,ca)){return true}}}}return false};z.isPointInMultipoint=function(L,bQ,bR){var bS=L.pointsF;var bT={center:bQ,radius:bR};for(var bU=0;bU<bS.length;bU=bU+2){var bV=bS[bU];var bW=bS[bU+1];var bX={x:bV,y:bW};if(z.isPointInCircle(bX,bT)){return true}}return false};z.getGeometrySelectionTransform=function(L,bQ,bR,bS){if(!L){return tab.Transform.pixelToDomain(bQ,bR,bS)}return tab.Transform.none()};z.multipolygonIntersectsDoubleRect=function(L,bQ){for(var bR=0;bR<L.polygonList.length;bR++){var bS=L.polygonList[bR];for(var bT=0;bT<bS.lineList.length;bT++){var bU=bS.lineList[bT];if(z.polygonIntersectsDoubleRect(bU.pointsF,bQ)){return true}}}return false};z.multiLineStringIntersectsDoubleRect=function(L,bQ,bR){for(var bS=0;bS<L.lineList.length;bS++){var bT=L.lineList[bS];var bU=bT.pointsF;var bV=bU.length;if(bV<4||bV%2===1){continue}for(var bW=0;bW<bV-2;bW+=2){var bX=new Array(4);bX[0]=bU[bW];bX[1]=bU[bW+1];bX[2]=bU[bW+2];bX[3]=bU[bW+3];if(z.polygonIntersectsDoubleRect(z.lineToQuad(bX,bR),bQ)){return true}if(bW>=2){var bY={x:bU[bW],y:bU[bW+1]};var bZ={center:bY,radius:bR/2};var ca=z.$1(bQ);if(z.polygonIntersectsCircle(ca,bZ)){return true}}}}return false};z.multipointIntersectsDoubleRect=function(L,bQ,bR){return z.multipointIntersectsPolygon(L,z.$1(bQ),bR)};z.multipolygonIntersectsPolygon=function(L,bQ,bR){for(var bS=0;bS<L.polygonList.length;bS++){var bT=L.polygonList[bS];for(var bU=0;bU<bT.lineList.length;bU++){var bV=bT.lineList[bU];if(z.$7(bV.pointsF,bQ,bR)){return true}}}return false};z.multiLineStringIntersectsPolygon=function(L,bQ,bR){for(var bS=0;bS<L.lineList.length;bS++){var bT=L.lineList[bS];var bU=bT.pointsF;var bV=bU.length;if(bV<4||bV%2===1){continue}for(var bW=0;bW<bV-2;bW+=2){var bX=new Array(4);bX[0]=bU[bW];bX[1]=bU[bW+1];bX[2]=bU[bW+2];bX[3]=bU[bW+3];if(z.$7(z.lineToQuad(bX,bR),bQ)){return true}if(bW>=2){var bY={x:bU[bW],y:bU[bW+1]};var bZ={center:bY,radius:bR/2};if(z.polygonIntersectsCircle(bQ,bZ)){return true}}}}return false};z.multipointIntersectsPolygon=function(L,bQ,bR){var bS=L.pointsF;var bT={center:{x:0,y:0},radius:bR};for(var bU=0;bU<bS.length;bU=bU+2){var bV=bS[bU];var bW=bS[bU+1];var bX={x:bV,y:bW};bT.center=bX;if(z.polygonIntersectsCircle(bQ,bT)){return true}}return false};z.polygonIntersectsRect=function(L,bQ){return z.$7(L,z.$2(bQ))};z.polygonIntersectsDoubleRect=function(L,bQ){return z.$7(L,z.$1(bQ))};z.$7=function(L,bQ,bR){if(L.length===0||bQ.length===0){return false}if(z.isPointInPoly(bQ,{x:L[0],y:L[1]})){return true}if(z.isPointInPoly(L,{x:bQ[0],y:bQ[1]})){return true}if(L.length>bQ.length||ss.isValue(bR)){var bS=L;L=bQ;bQ=bS}var bT=bR;var bU=ss.isValue(bT);for(var bV=0,bW=L.length;bV<bW;bV+=2){var bX=(bV+2)%bW;if(bU&&!z.$9(bT,L[bV],L[bV+1],L[bX],L[bX+1])){continue}if(z.$8(bQ,L[bV],L[bV+1],L[bX],L[bX+1])){return true}}return false};z.$9=function(L,bQ,bR,bS,bT){if(bQ>bS){var bU=bQ;bQ=bS;bS=bU}if(bS<L.x||bQ>L.x+L.w){return false}if(bR>bT){var bV=bR;bR=bT;bT=bV}return!(bT<L.y||bR>L.y+L.h)};z.$8=function(L,bQ,bR,bS,bT){var bU=bS-bQ;var bV=bT-bR;var bW=L.length;for(var bX=0;bX<bW;bX+=2){var bY=(bX+2)%bW;var bZ=L[bX];var ca=L[bX+1];var cb=L[bY];var cc=L[bY+1];var cd=bU*(ca-bT)-bV*(bZ-bS);var ce=bU*(cc-bT)-bV*(cb-bS);if(cd<0&&ce<0||cd>0&&ce>0){continue}var cf=cb-bZ;var cg=cc-ca;var ch=cf*(bR-cc)-cg*(bQ-cb);var ci=cf*(bT-cc)-cg*(bS-cb);if(cd!==0&&ce!==0){if(ch<0&&ci>0||ch>0&&ci<0){return true}else if(ch!==0&&ci!==0){continue}}var cj=[ch,ci,cd,ce];var ck=[bQ,bR,bS,bT,bZ,ca,cb,cc];if(z.$4(cj,ck)){return true}}return false};z.$4=function(L,bQ){var bR=[4,4,0,0];var bS=[6,6,2,2];for(var bT=0,bU=0,bV=4;bT<bV;bT++,bU+=2){if(L[bT]===0){var bW=bQ[bU];var bX=bQ[bU+1];var bY=bQ[bR[bT]];var bZ=bQ[bR[bT]+1];var ca=bQ[bS[bT]];var cb=bQ[bS[bT]+1];if(bW>=Math.min(bY,ca)&&bW<=Math.max(bY,ca)&&bX>=Math.min(bZ,cb)&&bX<=Math.max(bZ,cb)){return true}}}return false};z.multipolygonIntersectsCircle=function(L,bQ){for(var bR=0;bR<L.polygonList.length;bR++){var bS=L.polygonList[bR];for(var bT=0;bT<bS.lineList.length;bT++){var bU=bS.lineList[bT];if(z.polygonIntersectsCircle(bU.pointsF,bQ)){return true}}}return false};z.multiLineStringIntersectsCircle=function(L,bQ,bR){for(var bS=0;bS<L.lineList.length;bS++){var bT=L.lineList[bS];var bU=bT.pointsF;var bV=bU.length;if(bV<4||bV%2===1){continue}for(var bW=0;bW<bV-2;bW+=2){var bX=new Array(4);bX[0]=bU[bW];bX[1]=bU[bW+1];bX[2]=bU[bW+2];bX[3]=bU[bW+3];if(z.polygonIntersectsCircle(z.lineToQuad(bX,bR),bQ)){return true}if(bW>=2){var bY={x:bU[bW],y:bU[bW+1]};var bZ={center:bY,radius:bR/2};if(z.circleIntersectsCircle(bQ,bZ)){return true}}}}return false};z.multipointIntersectsCircle=function(L,bQ,bR){var bS=L.pointsF;var bT={center:{x:0,y:0},radius:bR};for(var bU=0;bU<bS.length;bU=bU+2){var bV=bS[bU];var bW=bS[bU+1];var bX={x:bV,y:bW};bT.center=bX;if(z.circleIntersectsCircle(bQ,bT)){return true}}return false};z.circleIntersectsCircle=function(L,bQ){var bR=Math.pow(L.center.x-bQ.center.x,2)+Math.pow(L.center.y-bQ.center.y,2);return Math.pow(L.radius+bQ.radius,2)>=bR};z.polygonIntersectsCircle=function(L,bQ){if(L.length===0||bQ.radius===0){return false}if(z.isPointInPoly(L,bQ.center)){return true}if(z.isPointInCircle({x:L[0],y:L[1]},bQ)){return true}var bR=bQ.radius*bQ.radius;for(var bS=0,bT=L.length;bS<bT;bS+=2){var bU=L[bS];var bV=L[bS+1];var bW=(bS+2)%bT;var bX=L[bW];var bY=L[bW+1];var bZ=bY-bV;var ca=bX-bU;var cb=ca*ca+bZ*bZ;var cc=((bQ.center.x-bU)*ca+(bQ.center.y-bV)*bZ)/cb;cc=Math.min(1,Math.max(0,cc));var cd=bU+cc*ca;var ce=bV+cc*bZ;ca=cd-bQ.center.x;bZ=ce-bQ.center.y;cb=ca*ca+bZ*bZ;if(bR>cb){return true}}return false};z.circleIntersectsRect=function(L,bQ){if(L.radius<=0){return false}var bR=z.$0(bQ);for(var bS=0;bS<bR.length;bS++){var bT=bR[bS];if(z.isPointInCircle(bT,L)){return true}}if(tab.RectXYUtil.inRectPointF(bQ,L.center)){return true}var bU=bQ.w/2;var bV=bQ.h/2;var bW={x:bQ.x+bU,y:bQ.y+bV};if(L.center.y<bQ.y||L.center.y>=bQ.y+bQ.h){return L.center.x>bQ.x&&L.center.x<bQ.x+bQ.w&&Math.abs(bW.y-L.center.y)<bV+L.radius}if(L.center.x<bQ.x||L.center.x>=bQ.x+bQ.w){return L.center.y>bQ.y&&L.center.y<bQ.y+bQ.h&&Math.abs(bW.x-L.center.x)<bU+L.radius}return false};z.normalizeAngle=function(L){var bQ=L%z.twoPI;if(bQ<0){bQ+=z.twoPI}return bQ};z.isInBetweenAngles=function(L,bQ,bR){var bS=false;if(bQ>bR){var bT=bQ;bQ=bR;bR=bT;bS=true}if(bQ<=L&&bR>=L){return!bS}return bS};z.isPointInCircle=function(L,bQ){var bR=Math.pow(L.x-bQ.center.x,2)+Math.pow(L.y-bQ.center.y,2);var bS=bQ.radius*bQ.radius;var bT=bR<bS;return bT};z.isPointInWedge=function(L,bQ,bR,bS){if(!z.isPointInCircle(L,bQ)){return false}var bT=L.x-bQ.center.x;var bU=L.y-bQ.center.y;var bV=Math.atan2(bU,bT);bV=z.normalizeAngle(bV);return z.isInBetweenAngles(bV,bR,bS)};z.rectIntersectsWedge=function(L,bQ,bR,bS){var bT=z.$0(L);for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];if(z.isPointInWedge(bV,bQ,bR,bS)){return true}}if(tab.RectXYUtil.inRectPointF(L,bQ.center)){return true}var bW=z.$3(bQ,bR,bS);return z.polygonIntersectsRect(bW,L)};z.polygonIntersectsWedge=function(L,bQ,bR,bS){if(L.length===0){return false}if(z.isPointInWedge({x:L[0],y:L[1]},bQ,bR,bS)){return true}if(z.isPointInPoly(L,bQ.center)){return true}var bT=z.$3(bQ,bR,bS);return z.$7(bT,L)};z.circleIntersectsWedge=function(L,bQ,bR,bS){if(L.radius<=0){return false}if(z.isPointInWedge(L.center,bQ,bR,bS)){return true}if(z.isPointInCircle(bQ.center,L)){return true}var bT=z.$3(bQ,bR,bS);return z.polygonIntersectsCircle(bT,L)};z.$3=function(L,bQ,bR){while(bQ>bR){bR+=z.twoPI}var bS=bQ;var bT=new Array(4);bT[0]=L.center.x;bT[1]=L.center.y;bT[2]=L.center.x+Math.cos(bS)*L.radius;bT[3]=L.center.y+Math.sin(bS)*L.radius;while(bS<bR){var bU=Math.min(bS+z.$a,bR);bT.push(L.center.x+Math.cos(bU)*L.radius);bT.push(L.center.y+Math.sin(bU)*L.radius);bS=bU}return bT};z.areRectanglesIntersecting=function(L,bQ){return tab.RectXYUtil.intersectsWith(L,bQ)};z.getSquaredDistanceToCenter=function(L,bQ){var bR=L.x+L.w/2;var bS=L.y+L.h/2;var bT=bR-bQ.x;var bU=bS-bQ.y;return bT*bT+bU*bU};z.getSquaredDistanceToNearestSide=function(L,bQ){var bR=L.y;var bS=L.y+L.h;var bT=L.x;var bU=L.x+L.w;var bV,bW;if(bQ.x<bT){bV=bT-bQ.x}else if(bQ.x>bU){bV=bQ.x-bU}else{bV=0}if(bQ.y<bR){bW=bR-bQ.y}else if(bQ.y>bS){bW=bQ.y-bS}else{bW=0}return bV*bV+bW*bW};z.getSquaredDistanceToCircumference=function(L,bQ){var bR=Math.sqrt(z.getSquaredDistanceToCenter(L,bQ))-Math.min(L.w,L.h)/2;bR=Math.max(bR,0);return bR*bR};z.getSquaredDistanceToLineSegment=function(L,bQ,bR){var bS,bT;if(bR.x<bQ.x){var bU=bQ;bQ=bR;bR=bU}var bV=bR.x-bQ.x;var bW=bR.y-bQ.y;var bX=bV*bV+bW*bW;if(bX===0){bS=L.x-bQ.x;bT=L.y-bQ.y;return bS*bS+bT*bT}var bY=((L.x-bQ.x)*bV+(L.y-bQ.y)*bW)/bX;var bZ;var ca;if(bY<0){bZ=bQ.x;ca=bQ.y}else if(bY>1){bZ=bR.x;ca=bR.y}else{bZ=bQ.x+bY*bV;ca=bQ.y+bY*bW}bS=L.x-bZ;bT=L.y-ca;return bS*bS+bT*bT};z.degreeToRad=function(L){return L*(Math.PI/180)};z.radToDegree=function(L){return L*(180/Math.PI)};z.haversineDistance=function(L,bQ,bR){var bS=z.degreeToRad(bQ.item1-L.item1);var bT=z.degreeToRad(L.item2);var bU=z.degreeToRad(bQ.item2);var bV=bU-bT;var bW=Math.pow(Math.sin(bV/2),2)+Math.cos(bT)*Math.cos(bU)*Math.pow(Math.sin(bS/2),2);var bX=2*Math.atan2(Math.sqrt(bW),Math.sqrt(1-bW));return bX*bR};z.$6=function(L,bQ,bR,bS,bT,bU){return(bR-L)*(bU-bQ)-(bT-L)*(bS-bQ)};z.$0=function(L){var bQ=new Array(4);bQ[0]={x:L.x,y:L.y};bQ[1]={x:L.x+L.w,y:L.y};bQ[2]={x:L.x+L.w,y:L.y+L.h};bQ[3]={x:L.x,y:L.y+L.h};return bQ};z.$2=function(L){var bQ=new Array(8);bQ[0]=L.x;bQ[1]=L.y;bQ[2]=L.x+L.w;bQ[3]=L.y;bQ[4]=bQ[2];bQ[5]=L.y+L.h;bQ[6]=L.x;bQ[7]=bQ[5];return bQ};z.$1=function(L){var bQ=new Array(8);bQ[0]=L.x;bQ[1]=L.y;bQ[2]=L.x+L.w;bQ[3]=L.y;bQ[4]=bQ[2];bQ[5]=L.y+L.h;bQ[6]=L.x;bQ[7]=bQ[5];return bQ};global.tab.GeometryUtil=z;var A=function(L){this.$b=null;this.$a=null;spiff.Widget.call(this,$("<div class='tabGotoMyLocationButtonContainer'></div>"));if(!tab.BrowserSupport.get_isGeolocationSupported()||tab.ApplicationModel.get_instance().get_isOffline()){return}this.$b=L;this.$a=spiff.LabelButton.newNativeButton();this.get_button().addClass('tabGotoMyLocationButton');this.get_button().element.attr('title',tab.Strings.GotoMyLocationTooltip);this.get_button().add_click(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_button().remove_click(ss.mkdel(this,this.$9))})));this.get_button().addToDom(this.element)};A.__typeName='tab.GotoMyLocationButton';A.$0=function(){if(tab.BrowserSupport.get_isChrome()&&tab.BrowserSupport.get_googleChromeVersion()>=50){return true}if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()>=10){return true}if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=10){return true}return false};global.tab.GotoMyLocationButton=A;var B=function(L,bQ,bR,bS,bT,bU,bV){this.$E=null;this.$F=null;this.$D=null;Z.call(this,L,bQ);this.$F={};var bW=tab.ApplicationModel.get_instance().get_shapeManager().get_imageKeys();var bX=ss.getKeyCount(tab.SceneDataUtil.shapeMapping)+bW.length;var bY=2;var bZ=bT-4;var ca=bU-4;var cb=bR-bZ/2;var cc=bS-ca/2;var cd=bT-1;var ce=bU-1;var cf=bR-cd/2;var cg=bS-ce/2;var ch=this.$C(bX);var ci=this.$C(bX);var cj=this.$C(bX);var ck=this.$C(bX);var cl=this.$C(bX);var cm=this.$C(bX);for(var cn=0;cn<bX;cn++){var co;if(cn<ss.getKeyCount(tab.SceneDataUtil.shapeMapping)){co=_.keys(tab.SceneDataUtil.shapeMapping)[cn];cj.dataValues[cn]=bZ;ck.dataValues[cn]=ca;cl.dataValues[cn]=cb;cm.dataValues[cn]=cc}else{co=bW[cn-ss.getKeyCount(tab.SceneDataUtil.shapeMapping)];cj.dataValues[cn]=cd;ck.dataValues[cn]=ce;cl.dataValues[cn]=cf;cm.dataValues[cn]=cg}this.$F[co]=cn;ci.dataValues[cn]=co;ch.dataValues[cn]=cn.toString()}var cp={};var cq='pdKey';cp.PDMarks={};cp.PDMarks[cq]={};var cr=cp.PDMarks[cq];var cs={};cs.shape_id=ci.dataValues;cs.tuple_id=ch.dataValues;cs.size=cj.dataValues;cs.width=cj.dataValues;cs.height=ck.dataValues;var ct=cs;ct['left']=cl.dataValues;ct['top']=cm.dataValues;cr.Encodings=cs;cr.color=(new tab.ColorModel(0,0,0,1)).toArgbInt();var cu={};cu.Parameters={};var cv=cu.Parameters;cv.background_color=bV.toArgbInt();cv.PrimitiveType=4;cr.MarkLayoutData=cu;cs.x=new Array(cs.width.length);cs.y=new Array(cs.width.length);for(var cw=0;cw<cs.x.length;++cw){cs.x[cw]=bR;cs.y[cw]=bS}var cx={};cx.Rect=[0,0,bT,bU];var cy=new tab.PaneMarksInfo(0,bX);var cz=new bp;cp.PDMarks={};cp.PDMarks['pdKey']=cr;this.$E=new bb.$ctor1('pdKey',cz,cx,cy,null,'pdKey',cp,0)};B.__typeName='tab.HackyShapeSwatchRenderer';global.tab.HackyShapeSwatchRenderer=B;var C=function(){};C.__typeName='tab.HitResultHitType';global.tab.HitResultHitType=C;var D=function(L,bQ,bR,bS,bT){this.$1=null;this.$0=null;this.$3=0;this.$4=0;this.$2=null;this.$9=0;this.$8=null;this.$6=null;this.$5=0;this.$7=0;this.$0=L;if(ss.isNullOrUndefined(bS)||tab.RectXYUtil.isEmpty(bS)){this.$2=null}else{this.$2=bS}if(ss.isNullOrUndefined(bR)){this.$4=-1}else{this.$4=bR}if(ss.isNullOrUndefined(bT)){this.$9=0}else{this.$9=bT}this.$3=bQ;this.$1=[]};D.__typeName='tab.HitTargetNode';D.findPaneNode=function(L){if(ss.isNullOrUndefined(L)){return null}while(L.$3!==0){if(L.get_nodeType()===1){return L}L=L.get_parent()}return null};D.createRootNode=function(){return new D({x:0,y:0,w:9999999,h:9999999},0)};global.tab.HitTargetNode=D;var E=function(){this.$3=null;this.$4=null;this.$2=null;this.$1=null;var L=$('.tab-tvView .tabCanvas');this.$4=L.get(0);this.$3=this.$4.style.position;this.$4.style.position='absolute';this.$2=document.createElement('canvas');this.$2.width=this.$4.width;this.$2.height=this.$4.height;this.$2.style.position='absolute';this.$1=this.$4.parentNode;this.$1.appendChild(this.$2)};E.__typeName='tab.HitTestDebugger';E.get_instance=function(){if(ss.isNullOrUndefined(E.$1)){E.$1=new E}return E.$1};global.tab.HitTestDebugger=E;var F=function(L){this.$5=null;this.$5=L};F.__typeName='tab.HitTester';F.$0=function(L,bQ,bR,bS,bT){switch(bT){case'area':{return Z.areaMarkExactHitTest(L,bQ.x-bS,bQ.y,bR)}case'line':{return Z.lineMarkExactHitTest(L,bQ.x-bS,bQ.y,bR)}case'multipolygon':{return Z.multipolygonMarkExactHitTest(L,bQ.x-bS,bQ.y,bR)}case'pie':{return Z.pieMarkExactHitTest(L,bQ.x-bS,bQ.y,bR)}case'shape':{return Z.shapeMarkExactHitTest(L,bQ.x-bS,bQ.y,bR)}case'bar':case'square':{return Z.barMarkExactHitTest(L,bQ.x-bS,bQ.y,bR)}case'text':{return Z.textMarkExactHitTest(L,bQ.x-bS,bQ.y,bR)}default:{var bU={x:bQ.x-Math.round(bS),y:bQ.y,w:bQ.w,h:bQ.h};return tab.RectXYUtil.intersectsWith(bU,L.getMarkBounds(bR))}}};F.$1=function(L,bQ,bR,bS,bT){switch(bT){case'line':{return Z.lineMarkNearHitTest(L,bQ.x-bS,bQ.y,bR)}case'multipolygon':{return Z.multipolygonMarkNearHitTest(L,bQ.x-bS,bQ.y,bR)}case'shape':{return Z.shapeMarkNearHitTest(L,bQ.x-bS,bQ.y,bR)}case'bar':case'square':{return Z.barMarkNearHitTest(L,bQ.x-bS,bQ.y,bR)}case'text':{return Z.textMarkNearHitTest(L,bQ.x-bS,bQ.y,bR)}case'area':{return Z.areaMarkNearHitTest(L,bQ.x-bS,bQ.y,bR)}default:{return false}}};F.rectangleAreaHit=function(L,bQ,bR,bS,bT,bU){var bV=(bT.get_isNull()?bR:tab.RectXYUtil.offsetRectF(bR,{x:-bT.get_translateX(),y:-bT.get_translateY()}));switch(bU){case'area':{return Z.areaMarkRectangleAreaHitTest(L,bV,bS)}case'line':{return Z.lineMarkRectangleAreaHitTest(L,bV,bS)}case'multipolygon':{return Z.multipolygonMarkRectangleAreaHitTest(L,bV,bS)}case'pie':{return Z.pieMarkRectangleAreaHitTest(L,bV,bS)}case'shape':{return Z.shapeMarkRectangleAreaHitTest(L,bV,bS)}case'text':{return Z.textMarkRectangleAreaHitTest(L,bV,bS)}case'bar':case'square':{return Z.barMarkRectangleAreaHitTest(L,bV,bS)}default:{return tab.RectXYUtil.intersectsWith(bR,bQ)}}};F.circleAreaHit=function(L,bQ,bR,bS,bT,bU,bV){var bW=(bT.get_isNull()?bR:tab.CircleUtil.offsetCircle(bR,{x:-bT.get_translateX(),y:-bT.get_translateY()}));var bX=(bT.get_isNull()?bQ:tab.RectXYUtil.offsetRectF(bQ,{x:-bT.get_translateX(),y:-bT.get_translateY()}));switch(bU){case'area':{return Z.areaMarkCircleAreaHitTest(L,bW,bS,bX,bV)}case'line':{return Z.lineMarkCircleAreaHitTest(L,bW,bS,bX,bV)}case'multipolygon':{return Z.multipolygonMarkCircleAreaHitTest(L,bW,bS,bX,bV)}case'pie':{return Z.pieMarkCircleAreaHitTest(L,bW,bS,bV)}case'shape':{return Z.shapeMarkCircleAreaHitTest(L,bW,bS,bV)}case'text':{return Z.textMarkCircleAreaHitTest(L,bW,bS,bX,bV)}case'bar':case'square':{return Z.barMarkCircleAreaHitTest(L,bW,bS,bX,bV)}default:{return z.circleIntersectsRect(bR,bQ)}}};F.polyAreaHit=function(L,bQ,bR,bS,bT,bU){var bV=(bT.get_isNull()?bQ:tab.RectXYUtil.offsetRectF(bQ,{x:-bT.get_translateX(),y:-bT.get_translateY()}));switch(bU){case'area':{return Z.areaMarkPolygonAreaHitTest(L,bR,bS,bV)}case'line':{return Z.lineMarkPolygonAreaHitTest(L,bR,bS,bV)}case'multipolygon':{return Z.multipolygonMarkPolygonAreaHitTest(L,bR,bS,bV)}case'pie':{return Z.pieMarkPolygonAreaHitTest(L,bR,bS)}case'shape':{return Z.shapeMarkPolygonAreaHitTest(L,bR,bS)}case'text':{return Z.textMarkPolygonAreaHitTest(L,bR,bS,bV)}case'bar':case'square':{return Z.barMarkPolygonAreaHitTest(L,bR,bS,bV)}default:{return z.polygonIntersectsRect(bR,bV)}}};F.getTransformInfo=function(L,bQ){var bR=L.paneRect;var bS=bQ.get_worldOffset();return tab.Transform.offset(bR.x+bS,bR.y)};global.tab.HitTester=F;var G=function(L){G.$ctor1.call(this,L.get_index(),(ss.keyExists(G.$1,L.get_visualPart())?G.$1[L.get_visualPart()]:1),(ss.keyExists(G.$0,L.get_hitType())?G.$0[L.get_hitType()]:0))};G.__typeName='tab.HitTestResult';G.$ctor1=function(L,bQ,bR){this.$2=0;this.$0=0;this.$1=0;this.$3=false;this.$2=L;this.$0=bQ;this.$1=bR;this.$3=bR!==0};G.createEmptyHitTestResult=function(){return new G.$ctor1(0,0,0)};G.tieBreak=function(L,bQ){if(L.get_hitType()>bQ.get_hitType()||L.get_hitType()===bQ.get_hitType()&&(L.get_hitObjectType()>bQ.get_hitObjectType()||L.get_hitObjectType()===bQ.get_hitObjectType()&&L.get_id()>bQ.get_id())){return L}return bQ};G.getIdsFromHitTestResults=function(L,bQ){var bR=new Set;for(var bS=0;bS<L.length;bS++){var bT=L[bS];bR.add(bT.get_id())}var bU=tab.SetUtilities.getValues(ss.Int32).call(null,bR);if(bQ){bU.sort(function(bV,bW){return bV-bW})}return bU};G.hasExactHit=function(L){for(var bQ=0;bQ<L.length;bQ++){var bR=L[bQ];if(bR.get_hitType()===3){return true}}return false};G.tieBreakHits=function(L,bQ){var bR=G.createEmptyHitTestResult();var bS=G.createEmptyHitTestResult();for(var bT=0;bT<L.length;bT++){var bU=L[bT];if(bU.get_hitType()===3){return bU}if(bU.get_hitType()!==0&&bR.get_hitType()===0){bR=bU}}for(var bV=0;bV<bQ.length;bV++){var bW=bQ[bV];if(bW.get_hitType()===3){return bW}if(bW.get_hitType()!==0&&bS.get_hitType()===0){bS=bW}}if(bR.get_hitType()!==0){return bR}if(bS.get_hitType()!==0){return bS}return G.createEmptyHitTestResult()};global.tab.HitTestResult=G;var H=function(){};H.__typeName='tab.HitTestStructureBuilder';H.buildBinnedHitTestStructure=function(L,bQ){var bR=D.createRootNode();var bS=0;var bT=L.get_runtimeData().get_finalDataStore().AnnexedData.Panes;for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];var bW=H.$2(L,bV);for(var bX=0;bX<bW.length;bX++){var bY=bW[bX];var bZ=L.getPaneDrawInfo(bY);var ca=bZ.get_mapExtentOrPaneRect();var cb=new D(ca,1);var cc=bp.getPaneMarksKey(bY);cb.set_paneKey(cc);cb.set_paneIndex(bY.get_paneIndex());cb.set_paneOrderIndex(bS++);bR.addNode(cb);var cd=Math.ceil(ca.w/bQ);for(var ce=0;ce<bQ;++ce){var cf=ce*cd+ca.x;var cg=ca.y;var ch=cd;var ci=ca.h;var cj=new D({x:cf,y:cg,w:ch,h:ci},2);cb.addNode(cj)}var ck=H.buildMarkBounds(bZ,0,bZ.markCount-1,bZ.getAllMarkBounds());for(var cl=0;cl<ck.length;cl++){var cm=ck[cl];var cn=cb.get_children();for(var co=0;co<cn.length;co++){var cp=cn[co];if(tab.RectXYUtil.intersectsWith(cm.get_boundingBox(),cp.get_boundingBox())){cp.addNode(cm)}}}}}return bR};H.buildLinearHitTestStructure=function(L){var bQ=D.createRootNode();var bR=0;var bS=L.get_runtimeData().safeFetchMarkPanes();for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];var bV=H.$2(L,bU);for(var bW=0;bW<bV.length;bW++){var bX=bV[bW];var bY=L.getPaneDrawInfo(bX);if(!ss.isValue(bY)){continue}var bZ=H.$0(bX,bY,bR);bQ.addNode(bZ);bR++}}return bQ};H.buildTrendLineHitTestStructure=function(L,bQ,bR){var bS=L.pointsF;var bT=L.pathElements;var bU=Math.floor(bS.length/2);if(bU<2){return new D({x:0,y:0,w:0,h:0},0)}var bV=[];var bW=0;for(var bX=0;bX<bT.length;bX++){var bY=bT[bX];switch(bY){case'moveto':{{bW+=2}break}case'lineto':{{if(ss.isValue(bS[bW+3])){var bZ=[bS[bW],bS[bW+1],bS[bW+2],bS[bW+3]];var ca=ss.Int32.trunc(Math.min(bZ[0],bZ[2]));var cb=ss.Int32.trunc(Math.min(bZ[1],bZ[3]));var cc=ss.Int32.trunc(Math.max(bZ[0],bZ[2]))-ca;var cd=ss.Int32.trunc(Math.max(bZ[1],bZ[3]))-cb;var ce={x:ca,y:cb,w:cc,h:cd};ce=tab.RectXYUtil.dialate(ce,ss.Int32.trunc(bQ));var cf=new D(ce,5,bR);bV.push(cf)}bW+=2}break}case'curveto':{{bW+=6}break}default:{{}break}}}var cg=H.$1(bV,4);return cg};H.buildMarkBounds=function(L,bQ,bR,bS){var bT=bR-bQ+1;var bU=[];var bV=0;for(var bW=bQ;bW<=bR;++bW){var bX=bS[bW].item1;var bY=bS[bW].item2;var bZ=L.getMarkInstanceOffsets(bW);var ca=bZ.length;for(var cb=0;cb<ca;cb++){var cc=bX;var cd=bY;var ce=bZ[cb];if(ce!==0){var cf=ss.Int32.trunc(ce);cc=tab.RectXYUtil.offsetRectXY(bX,cf,0);cd=(ss.isValue(bY)?tab.RectXYUtil.offsetRectXY(bY,cf,0):null)}bU[bV]=new D(cc,3,bW,cd,ce);++bV}}return bU};H.print=function(L,bQ){var bR='';var bS=bQ;while(bS>0){bR+=' ';--bS}console.log(bR+L.get_objectId());if(L.get_nodeType()!==3){L.get_children().forEach(function(bT){H.print(bT,bQ+1)})}};H.$2=function(L,bQ){var bR=[];var bS=bQ.DrawPanes;for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];var bV=bU;var bW=tab.EnumConversions.visualPartFromInt(bV[0]);if(bW==='marks'){var bX=bV[1];var bY=new tab.PaneMarksInfo.$ctor1(L.get_runtimeData().get_finalDataStore().Viewpoint.PerPaneExtents,L.get_runtimeData().get_paneStoreTable(),bX,L.$f,bQ.Row,bQ.Column);bR.push(bY)}}return bR};H.$1=function(L,bQ){var bR=L;while(bR.length>1){var bS=[];for(var bT=0;bT<bR.length;bT+=bQ){var bU=bQ;var bV=bR.length-bT;if(bV<bQ){bU=bV}var bW=[];var bX=null;for(var bY=0;bY<bU;++bY){var bZ=bR[bT+bY];bW.push(bZ);if(bY===0){bX={x:bZ.get_boundingBox().x,y:bZ.get_boundingBox().y,w:bZ.get_boundingBox().w,h:bZ.get_boundingBox().h}}else{bX=tab.RectXYUtil.union(bX,bW[bY].get_boundingBox())}}var ca=new D(bX,4);ca.addNodes(bW);bS.push(ca)}bR=bS}if(bR.length!==1){}var cb=D.createRootNode();cb.addNodes(bR);return cb};H.$0=function(L,bQ,bR){var bS=bQ.get_mapExtentOrPaneRect();var bT=new D(bS,1);var bU=bp.getPaneMarksKey(L);bT.set_paneKey(bU);bT.set_paneIndex(L.get_paneIndex());bT.set_paneOrderIndex(bR);var bV=(bQ.hasUserPanes?bQ.userPaneCount:1);var bW=bQ.paneRect.x;var bX=bQ.paneRect.y;var bY=bQ.getAllMarkBounds();for(var bZ=0;bZ<bV;++bZ){var ca=tab.RectXYUtil.offsetRectXY(bQ.getUserPaneRectByIndex(bZ),bW,bX);var cb=new D(ca,6);var cc=bQ.getUserPaneMarkRange(bZ);var cd=H.buildMarkBounds(bQ,cc.firstMark,cc.lastMark,bY);cb.addNodes(cd);bT.addNode(cb)}return bT};global.tab.HitTestStructureBuilder=H;var I=function(L,bQ,bR,bS,bT){this.$2=null;this.$1=0;this.$3=null;this.$0=null;this.$4=0;this.$2=L;this.$1=bQ;this.$3=bR;this.$0=bS;this.$4=bT};I.__typeName='tab.ImageDownloaderImageData';global.tab.ImageDownloaderImageData=I;var J=function(L){this.$0=null;ss.EventArgs.call(this);this.$0=L};J.__typeName='tab.ImageLoadedEventArgs';global.tab.ImageLoadedEventArgs=J;var K=function(){};K.__typeName='tab.IMapsSearchViewTemplate';global.tab.IMapsSearchViewTemplate=K;var M=function(){this.highlightBgColor=null;this.selectionBgColor=null;this.highlightTextColor=null;this.selectionTextColor=null;this.highlightBgColor=M.defaultHighlightBgColor;this.selectionBgColor=M.defaultSelectionBgColor;this.highlightTextColor=M.defaultHighlightTextColor;this.selectionTextColor=M.defaultSelectionTextColor};M.__typeName='tab.InteractionColorModel';M.extractInteractionColors=function(L){var bQ=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightBgColor);var bR=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightTextColor);var bS=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectBgColor);var bT=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectionTextColor);if(!bQ&&!bS&&!bT&&!bR){return M.defaultColors}var bU=new M;bU.highlightBgColor=(bQ?tab.ColorModel.fromColorCode(L.highlightBgColor):bU.highlightBgColor);bU.selectionBgColor=(bS?tab.ColorModel.fromColorCode(L.selectBgColor):bU.selectionBgColor);bU.highlightTextColor=(bR?tab.ColorModel.fromColorCode(L.highlightTextColor):bU.highlightTextColor);bU.selectionTextColor=(bT?tab.ColorModel.fromColorCode(L.selectionTextColor):bU.selectionTextColor);return bU};global.tab.InteractionColorModel=M;var N=function(){};N.__typeName='tab.IRegionContentProvider';global.tab.IRegionContentProvider=N;var O=function(){};O.__typeName='tab.IRuntimeUIModule';global.tab.IRuntimeUIModule=O;var P=function(){};P.__typeName='tab.IZoomToolbarContainer';global.tab.IZoomToolbarContainer=P;var Q=function(){this.$i=null;this.$n=null;this.$l=null;this.$k=null;this.$m=null;this.$p=null;this.$q=0;this.$o=false;this.$j=null};Q.__typeName='tab.LeafletMapControl';Q.$0=function(L){var bQ=256;var bR=document.createElement('canvas');bR.width=bQ;bR.height=bQ;var bS=tab.CanvasRenderer.getRenderContext(bR,'transparent');bS.set_shapeFillStyle(L);bS.fillRect(0,0,256,256);var bT=bR.toDataURL('png',null);return bT};Q.$1=function(bQ){return new L.LatLng(bQ.item1,bQ.item2)};global.tab.LeafletMapControl=Q;var R=function(L){this.startIndex=0;this.endIndex=0;this.selectedCount=0;this.highlightedCount=0;this.marksNeedingDraw=[];this.worldOffsets=null;this.boundingBox={x:0,y:0,w:0,h:0};this.sloppyBoundingBox={x:0,y:0,w:0,h:0};this.startIndex=L;this.endIndex=-1;this.selectedCount=0;this.highlightedCount=0};R.__typeName='tab.LineAttribute';global.tab.LineAttribute=R;var S=function(L){this.$1=null;this.$1=[];this.$0(L)};S.__typeName='tab.LineMarkDrawState';global.tab.LineMarkDrawState=S;var T=function(L,bQ){bL.call(this,L,bQ)};T.__typeName='tab.LocalRenderVizHitTester';global.tab.LocalRenderVizHitTester=T;var U=function(){this.attributionBackground=null;this.attributionLink=null;spiff.Template.call(this,$(U.$0));this.attributionBackground=this.getElementBySelector('.tabMapAttributionBackground');this.attributionLink=this.getElementBySelector('.tabMapAttributionLink')};U.__typeName='tab.MapAttributionTemplate';global.tab.MapAttributionTemplate=U;var V=function(L,bQ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[W,Object,Object]).call(this,tab.ObjectRegistry.newView(W).call(null,[L.viewModel]),L,bQ);this.get_widget().set_isVisible(true);this.get_widget().set_isCollapsed(true)};V.__typeName='tab.MapsSearchComponent';global.tab.MapsSearchComponent=V;var W=function(L,bQ){this.mapsSearchViewModel=null;this.mapsSearchViewTemplate=null;this.$l=null;this.mapsSearchView=null;this.gotoMyLocationButton=null;this.$o=null;this.$m=false;this.$n=true;this.queryDelayTimer=null;ss.makeGenericType(spiff.BaseView$1,[X]).call(this,L,bQ.get_template());this.mapsSearchViewModel=L;this.mapsSearchViewTemplate=bQ;this.mapsSearchView=bQ.get_template().domRoot.find('.tabMapsSearchView');this.set_isVisible(false);this.$l=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.mapsSearchViewTemplate.get_mapsSearchViewRootElement().append(this.$l.get_domRoot());this.$l.addClass('tabMapsSearchView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(tab.Strings.MapsSearchViewInitialText);this.mapsSearchView.addClass('tabMapsSearchViewTranslucent');this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().add_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.add_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.add_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.add_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.add_visibilityChanged(ss.mkdel(this,this.$d));this.mapsSearchViewModel.add_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.add_initialTextInputValueRestored(ss.mkdel(this,this.$c));this.mapsSearchViewModel.add_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.add_blurInputElementCalled(ss.mkdel(this,this.$a));this.$i();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().remove_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.remove_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.remove_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.remove_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.remove_visibilityChanged(ss.mkdel(this,this.$d));this.mapsSearchViewModel.remove_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.remove_initialTextInputValueRestored(ss.mkdel(this,this.$c));this.mapsSearchViewModel.remove_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.remove_blurInputElementCalled(ss.mkdel(this,this.$a));this.$h()})));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$e)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$f)));if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.gotoMyLocationButton=new A(this.get_viewModel().get_visualID());this.gotoMyLocationButton.addClass('tabSuppressVizTooltipsAndOverlays');this.gotoMyLocationButton.addToDom(this.element)}};W.__typeName='tab.MapsSearchView';W.newMapsSearchViewTemplate=function(){return new e};global.tab.MapsSearchView=W;var X=function(L){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;spiff.BaseViewModel.call(this);this.$2=L};X.__typeName='tab.MapsSearchViewModel';global.tab.MapsSearchViewModel=X;var Y=function(){};Y.__typeName='tab.MarkRange';Y.isInstanceOfType=function(){return true};global.tab.MarkRange=Y;var Z=function(L,bQ){tab.CanvasRenderer.call(this,L,bQ)};Z.__typeName='tab.MarksRenderer';Z.multipolygonMarkBuildMarkBound=function(L,bQ){var bR='empty';var bS=L.getMarkGeometry(L.c.get('geometry').gv(bQ));if(ss.isValue(bS)){bR=bS.geometryType}switch(bR){case'multiPolygon':{var bT={x:0,y:0,w:0,h:0};{var bU=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)));Z.bBoxGeometry(bT,bU,0,L.getMarkGeometry(L.c.get('geometry').gv(bQ)))}return bT;break}case'multiLineString':{var bV={x:0,y:0,w:0,h:0};{var bW=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)));Z.bBoxGeometry(bV,bW,L.c.get('size').gv(bQ)/2,L.getMarkGeometry(L.c.get('geometry').gv(bQ)))}return bV;break}case'multiPoint':{var bX={x:0,y:0,w:0,h:0};{var bY=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)));Z.bBoxGeometry(bX,bY,3.5,L.getMarkGeometry(L.c.get('geometry').gv(bQ)))}return bX;break}case'empty':{var bZ={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(bZ,L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),3.5)}return bZ;break}default:{break}}return{x:0,y:0,w:0,h:0}};Z.multipolygonMarkExactHitTest=function(L,bQ,bR,bS){var bT=z.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS));var bU='empty';var bV=L.getMarkGeometry(L.c.get('geometry').gv(bS));if(ss.isValue(bV)){bU=bV.geometryType}switch(bU){case'multiPolygon':{{if(z.isPointInMultipolygon(bV.multiPolygon,bT.transformPoint({x:bQ,y:bR}))){return true}}return false;break}case'multiLineString':{{if(z.isPointInMultiLineString(bV.multiLine,bT.transformPoint({x:bQ,y:bR}),L.c.get('size').gv(bS))){return true}}return false;break}case'multiPoint':{{if(z.isPointInMultipoint(bV.multiPoint,bT.transformPoint({x:bQ,y:bR}),3.5)){return true}}return false;break}case'empty':{{if(z.isPointInCircle({x:bQ,y:bR},{center:{x:L.c.get('x').gv(bS),y:L.c.get('y').gv(bS)},radius:3})){return true}}return false;break}default:{break}}return true};Z.multipolygonMarkNearHitTest=function(L,bQ,bR,bS){var bT=z.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS));var bU='empty';var bV=L.getMarkGeometry(L.c.get('geometry').gv(bS));if(ss.isValue(bV)){bU=bV.geometryType}switch(bU){case'multiPolygon':{return false;break}case'multiLineString':{{if(z.isPointInMultiLineString(bV.multiLine,bT.transformPoint({x:bQ,y:bR}),L.c.get('size').gv(bS)+20)){return true}}return false;break}case'multiPoint':{return false;break}case'empty':{return false;break}default:{break}}return false};Z.multipolygonMarkGetHitTestExpansion=function(L,bQ){var bR=null;{bR={w:10,h:10}}return bR;return{w:0,h:0}};Z.multipolygonMarkGetDistanceToMark=function(L,bQ,bR,bS){var bT='empty';var bU=L.getMarkGeometry(L.c.get('geometry').gv(bS));if(ss.isValue(bU)){bT=bU.geometryType}switch(bT){case'multiPolygon':{return z.getSquaredDistanceToCenter(L.getMarkBounds(bS),{x:bQ,y:bR});break}case'multiLineString':{return z.getSquaredDistanceToCenter(L.getMarkBounds(bS),{x:bQ,y:bR});break}case'multiPoint':{return z.getSquaredDistanceToCenter(L.getMarkBounds(bS),{x:bQ,y:bR});break}case'empty':{return z.getSquaredDistanceToCenter(L.getMarkBounds(bS),{x:bQ,y:bR});break}default:{break}}return z.getSquaredDistanceToCenter(L.getMarkBounds(bS),{x:bQ,y:bR})};Z.multipolygonMarkRectangleAreaHitTest=function(L,bQ,bR){var bS=z.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bR));var bT='empty';var bU=L.getMarkGeometry(L.c.get('geometry').gv(bR));if(ss.isValue(bU)){bT=bU.geometryType}switch(bT){case'multiPolygon':{{if(z.multipolygonIntersectsDoubleRect(bU.multiPolygon,bS.transformRect(bQ))){return true}}return false;break}case'multiLineString':{{if(z.multiLineStringIntersectsDoubleRect(bU.multiLine,bS.transformRect(bQ),L.c.get('size').gv(bR))){return true}}return false;break}case'multiPoint':{{if(z.multipointIntersectsDoubleRect(bU.multiPoint,bS.transformRect(bQ),3.5)){return true}}return false;break}case'empty':{{if(z.circleIntersectsRect({center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:3},bQ)){return true}}return false;break}default:{break}}return true};Z.multipolygonMarkCircleAreaHitTest=function(L,bQ,bR,bS,bT){var bU=z.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bR));if(bT){var bV='empty';var bW=L.getMarkGeometry(L.c.get('geometry').gv(bR));if(ss.isValue(bW)){bV=bW.geometryType}switch(bV){case'multiPolygon':{break}case'multiLineString':{{{if(z.multiLineStringIntersectsCircle(bW.multiLine,bU.transformCircle(bQ),0)){return true}}return false}break}case'multiPoint':{{{if(z.multipointIntersectsCircle(bW.multiPoint,bU.transformCircle(bQ),0)){return true}}return false}break}case'empty':{{{return z.isPointInCircle({x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},bQ)}}break}default:{break}}}{var bX='empty';var bY=L.getMarkGeometry(L.c.get('geometry').gv(bR));if(ss.isValue(bY)){bX=bY.geometryType}switch(bX){case'multiPolygon':{{if(z.multipolygonIntersectsCircle(bY.multiPolygon,bU.transformCircle(bQ))){return true}}return false;break}case'multiLineString':{{if(z.multiLineStringIntersectsCircle(bY.multiLine,bU.transformCircle(bQ),L.c.get('size').gv(bR))){return true}}return false;break}case'multiPoint':{{if(z.multipointIntersectsCircle(bY.multiPoint,bU.transformCircle(bQ),3.5)){return true}}return false;break}case'empty':{{if(z.circleIntersectsCircle(bQ,{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:3})){return true}}return false;break}default:{break}}}return z.circleIntersectsRect(bQ,bS)};Z.multipolygonMarkPolygonAreaHitTest=function(L,bQ,bR,bS){var bT=z.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bR),L.c.get('y').gv(bR),L.c.get('size').gv(bR));var bU='empty';var bV=L.getMarkGeometry(L.c.get('geometry').gv(bR));if(ss.isValue(bV)){bU=bV.geometryType}switch(bU){case'multiPolygon':{{if(z.multipolygonIntersectsPolygon(bV.multiPolygon,bT.transformPolygon(bQ))){return true}}return false;break}case'multiLineString':{{if(z.multiLineStringIntersectsPolygon(bV.multiLine,bT.transformPolygon(bQ),L.c.get('size').gv(bR))){return true}}return false;break}case'multiPoint':{{if(z.multipointIntersectsPolygon(bV.multiPoint,bT.transformPolygon(bQ),3.5)){return true}}return false;break}case'empty':{{if(z.polygonIntersectsCircle(bQ,{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:3})){return true}}return false;break}default:{break}}return z.polygonIntersectsRect(bQ,bS)};Z.areaMarkBuildMarkBound=function(L,bQ){var bR=L.c.get('l_neighbor').gv(bQ);var bS=L.c.get('r_neighbor').gv(bQ);var bT=L.lineInterpolation;var bU={x:0,y:0,w:0,h:0};if(bR!==-1){var bV=tab.RectXYUtil.rectXYFromCorners$2(L.c.get('x1').gv(bQ),L.c.get('y1').gv(bQ),(L.c.get('x_next').gv(bR)+L.c.get('x_prev').gv(bQ))/2,(L.c.get('y_next').gv(bR)+L.c.get('y_prev').gv(bQ))/2);tab.RectXYUtil.unionInPlace(bU,bV);var bW=tab.RectXYUtil.rectXYFromCorners$2((L.c.get('x1').gv(bR)+L.c.get('x1').gv(bQ))/2,(L.c.get('y1').gv(bR)+L.c.get('y1').gv(bQ))/2,L.c.get('x_prev').gv(bQ),L.c.get('y_prev').gv(bQ));tab.RectXYUtil.unionInPlace(bU,bW);tab.RectXYUtil.outsetRectInPlace(bU,10,10)}if(bS!==-1){var bX=tab.RectXYUtil.rectXYFromCorners$2(L.c.get('x1').gv(bQ),L.c.get('y1').gv(bQ),(L.c.get('x_prev').gv(bS)+L.c.get('x_next').gv(bQ))/2,(L.c.get('y_prev').gv(bS)+L.c.get('y_next').gv(bQ))/2);tab.RectXYUtil.unionInPlace(bU,bX);var bY=tab.RectXYUtil.rectXYFromCorners$2((L.c.get('x1').gv(bS)+L.c.get('x1').gv(bQ))/2,(L.c.get('y1').gv(bS)+L.c.get('y1').gv(bQ))/2,L.c.get('x_next').gv(bQ),L.c.get('y_next').gv(bQ));tab.RectXYUtil.unionInPlace(bU,bY);tab.RectXYUtil.outsetRectInPlace(bU,10,10)}if(bR===-1&&bS===-1){var bZ=tab.RectXYUtil.rectXYFromCorners$2(L.c.get('x1').gv(bQ),L.c.get('y1').gv(bQ),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ));{var ca=20-bZ.w;var cb=20-bZ.h;if(ca>0||cb>0){bZ=tab.RectXYUtil.outsetRect(bZ,Math.max(0,Math.ceil(ca/2)),Math.max(0,Math.ceil(cb/2)))}}tab.RectXYUtil.unionInPlace(bU,bZ)}return bU};Z.areaMarkExactHitTest=function(L,bQ,bR,bS){var bT=L.c.get('l_neighbor').gv(bS);var bU=L.c.get('r_neighbor').gv(bS);var bV=L.lineInterpolation;if(bT!==-1){var bW=new Array(8);bW[0]=L.c.get('x1').gv(bS);bW[1]=L.c.get('y1').gv(bS);bW[2]=(L.c.get('x1').gv(bT)+L.c.get('x1').gv(bS))/2;bW[3]=(L.c.get('y1').gv(bT)+L.c.get('y1').gv(bS))/2;bW[4]=(L.c.get('x_next').gv(bT)+L.c.get('x_prev').gv(bS))/2;bW[5]=(L.c.get('y_next').gv(bT)+L.c.get('y_prev').gv(bS))/2;bW[6]=L.c.get('x_prev').gv(bS);bW[7]=L.c.get('y_prev').gv(bS);if(z.isPointInPoly(bW,{x:bQ,y:bR},0)){return true}}if(bU!==-1){var bX=new Array(8);bX[0]=L.c.get('x1').gv(bS);bX[1]=L.c.get('y1').gv(bS);bX[2]=(L.c.get('x1').gv(bU)+L.c.get('x1').gv(bS))/2;bX[3]=(L.c.get('y1').gv(bU)+L.c.get('y1').gv(bS))/2;bX[4]=(L.c.get('x_prev').gv(bU)+L.c.get('x_next').gv(bS))/2;bX[5]=(L.c.get('y_prev').gv(bU)+L.c.get('y_next').gv(bS))/2;bX[6]=L.c.get('x_next').gv(bS);bX[7]=L.c.get('y_next').gv(bS);if(z.isPointInPoly(bX,{x:bQ,y:bR},0)){return true}}if(bT===-1&&bU===-1){return true}return false};Z.areaMarkNearHitTest=function(L,bQ,bR,bS){var bT=L.c.get('l_neighbor').gv(bS);var bU=L.c.get('r_neighbor').gv(bS);var bV=L.lineInterpolation;if(bT!==-1){var bW=new Array(8);bW[0]=L.c.get('x1').gv(bS);bW[1]=L.c.get('y1').gv(bS);bW[2]=(L.c.get('x1').gv(bT)+L.c.get('x1').gv(bS))/2;bW[3]=(L.c.get('y1').gv(bT)+L.c.get('y1').gv(bS))/2;bW[4]=(L.c.get('x_next').gv(bT)+L.c.get('x_prev').gv(bS))/2;bW[5]=(L.c.get('y_next').gv(bT)+L.c.get('y_prev').gv(bS))/2;bW[6]=L.c.get('x_prev').gv(bS);bW[7]=L.c.get('y_prev').gv(bS);if(z.isPointInPoly(bW,{x:bQ,y:bR},10)){return true}}if(bU!==-1){var bX=new Array(8);bX[0]=L.c.get('x1').gv(bS);bX[1]=L.c.get('y1').gv(bS);bX[2]=(L.c.get('x1').gv(bU)+L.c.get('x1').gv(bS))/2;bX[3]=(L.c.get('y1').gv(bU)+L.c.get('y1').gv(bS))/2;bX[4]=(L.c.get('x_prev').gv(bU)+L.c.get('x_next').gv(bS))/2;bX[5]=(L.c.get('y_prev').gv(bU)+L.c.get('y_next').gv(bS))/2;bX[6]=L.c.get('x_next').gv(bS);bX[7]=L.c.get('y_next').gv(bS);if(z.isPointInPoly(bX,{x:bQ,y:bR},10)){return true}}if(bT===-1&&bU===-1){return true}return false};Z.areaMarkGetHitTestExpansion=function(L,bQ){return{w:0,h:0}};Z.areaMarkGetDistanceToMark=function(L,bQ,bR,bS){var bT=L.c.get('l_neighbor').gv(bS);var bU=L.c.get('r_neighbor').gv(bS);var bV=L.c.get('x1').gv(bS);var bW=L.c.get('y1').gv(bS);var bX=L.c.get('x_prev').gv(bS);var bY=L.c.get('y_prev').gv(bS);var bZ=L.c.get('x_next').gv(bS);var ca=L.c.get('y_next').gv(bS);var cb;{var cc=bQ-bV;var cd=bR-bW;var ce=cc*cc+cd*cd;cb=ce}if(bT!==-1){var cf=(L.c.get('x1').gv(bT)+bV)/2;var cg=(L.c.get('y1').gv(bT)+bW)/2;var ch=(L.c.get('x_next').gv(bT)+bV)/2;var ci=(L.c.get('y_next').gv(bT)+bW)/2;var cj={x:(bV+bX)/2,y:(bW+bY)/2};var ck={x:(cf+ch)/2,y:(cg+ci)/2};var cl=z.getSquaredDistanceToLineSegment({x:bQ,y:bR},cj,ck);cb=Math.min(cb,cl)}else{var cm={x:bV,y:bW};var cn={x:bZ,y:ca};var co=z.getSquaredDistanceToLineSegment({x:bQ,y:bR},cm,cn);cb=Math.min(cb,co)}if(bU!==-1){var cp=(L.c.get('x1').gv(bU)+bV)/2;var cq=(L.c.get('y1').gv(bU)+bW)/2;var cr=(L.c.get('x_prev').gv(bU)+bV)/2;var cs=(L.c.get('y_prev').gv(bU)+bW)/2;var ct={x:(bV+bZ)/2,y:(bW+ca)/2};var cu={x:(cp+cr)/2,y:(cq+cs)/2};var cv=z.getSquaredDistanceToLineSegment({x:bQ,y:bR},ct,cu);cb=Math.min(cb,cv)}else if(bT!==-1){var cw={x:bV,y:bW};var cx={x:bX,y:bY};var cy=z.getSquaredDistanceToLineSegment({x:bQ,y:bR},cw,cx);cb=Math.min(cb,cy)}return cb};Z.areaMarkRectangleAreaHitTest=function(L,bQ,bR){{if(z.circleIntersectsRect({center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:2.5},bQ)){return true}}{if(z.circleIntersectsRect({center:{x:L.c.get('x1').gv(bR),y:L.c.get('y1').gv(bR)},radius:2.5},bQ)){return true}}return false};Z.areaMarkCircleAreaHitTest=function(L,bQ,bR,bS,bT){if(bT){}{if(z.circleIntersectsCircle(bQ,{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:2.5})){return true}}{if(z.circleIntersectsCircle(bQ,{center:{x:L.c.get('x1').gv(bR),y:L.c.get('y1').gv(bR)},radius:2.5})){return true}}return false};Z.areaMarkPolygonAreaHitTest=function(L,bQ,bR,bS){{if(z.polygonIntersectsCircle(bQ,{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:2.5})){return true}}{if(z.polygonIntersectsCircle(bQ,{center:{x:L.c.get('x1').gv(bR),y:L.c.get('y1').gv(bR)},radius:2.5})){return true}}return false};Z.getMarkLabelBoundingBox=function(L,bQ){var bR={x:0,y:0,w:0,h:0};{var bS=L.getMarkLabelProperty('x',bQ);var bT=L.getMarkLabelProperty('y',bQ);var bU=L.getMarkLabelProperty('width',bQ);var bV=-L.getMarkLabelProperty('height',bQ);bS+=0;bT+=0;if(bV<0){bT+=bV;bV=Math.abs(bV)}tab.RectXYUtil.set$1(bR,Math.floor(bS),Math.floor(bT),Math.floor(bU),Math.floor(bV))}return bR};Z.pieMarkExactHitTest=function(L,bQ,bR,bS){var bT=L.c.get('size').gv(bS)/2;var bU=L.c.get('theta').gv(bS);var bV=L.c.get('theta1').gv(bS);if(bU>bV){var bW=bU;bU=bV;bV=bW}var bX={x:L.c.get('x').gv(bS),y:L.c.get('y').gv(bS)};var bY={center:bX,radius:bT};if(bV-bU>=1){return z.isPointInCircle({x:bQ,y:bR},bY)}bU=tab.CanvasRenderer.toCanvasAngle(bU);bV=tab.CanvasRenderer.toCanvasAngle(bV);bU=z.normalizeAngle(bU);bV=z.normalizeAngle(bV);return z.isPointInWedge({x:bQ,y:bR},bY,bU,bV)};Z.pieMarkRectangleAreaHitTest=function(L,bQ,bR){var bS=L.c.get('size').gv(bR)/2;var bT=L.c.get('theta').gv(bR);var bU=L.c.get('theta1').gv(bR);if(bT>bU){var bV=bT;bT=bU;bU=bV}var bW={x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)};var bX={center:bW,radius:bS};if(bU-bT>=1){return z.circleIntersectsRect(bX,bQ)}bT=tab.CanvasRenderer.toCanvasAngle(bT);bU=tab.CanvasRenderer.toCanvasAngle(bU);bT=z.normalizeAngle(bT);bU=z.normalizeAngle(bU);return z.rectIntersectsWedge(bQ,{center:bW,radius:bS},bT,bU)};Z.pieMarkPolygonAreaHitTest=function(L,bQ,bR){var bS=L.c.get('size').gv(bR)/2;var bT=L.c.get('theta').gv(bR);var bU=L.c.get('theta1').gv(bR);if(bT>bU){var bV=bT;bT=bU;bU=bV}var bW={x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)};var bX={center:bW,radius:bS};if(bU-bT>=1){return z.polygonIntersectsCircle(bQ,bX)}bT=tab.CanvasRenderer.toCanvasAngle(bT);bU=tab.CanvasRenderer.toCanvasAngle(bU);bT=z.normalizeAngle(bT);bU=z.normalizeAngle(bU);return z.polygonIntersectsWedge(bQ,{center:bW,radius:bS},bT,bU)};Z.pieMarkCircleAreaHitTest=function(L,bQ,bR,bS){if(bS){{{return z.isPointInCircle({x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},bQ)}}}var bT=L.c.get('size').gv(bR)/2;var bU=L.c.get('theta').gv(bR);var bV=L.c.get('theta1').gv(bR);if(bU>bV){var bW=bU;bU=bV;bV=bW}var bX={x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)};var bY={center:bX,radius:bT};if(bV-bU>=1){return z.circleIntersectsCircle(bY,bQ)}bU=tab.CanvasRenderer.toCanvasAngle(bU);bV=tab.CanvasRenderer.toCanvasAngle(bV);bU=z.normalizeAngle(bU);bV=z.normalizeAngle(bV);return z.circleIntersectsWedge(bQ,{center:bX,radius:bT},bU,bV)};Z.getPieBoundingBox=function(L,bQ){var bR={x:0,y:0,w:0,h:0};var bS=L.c.get('size').gv(bQ)/2;{tab.RectXYUtil.unionInPlace(bR,Z.$1(L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),bS,L.c.get('theta').gv(bQ),L.c.get('theta1').gv(bQ)))}if(L.c.get('draw_border').gv(bQ)){tab.RectXYUtil.unionInPlace(bR,Z.$1(L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),bS,L.c.get('theta').gv(bQ),L.c.get('theta1').gv(bQ)))}return bR};Z.textMarkBuildMarkBound=function(L,bQ){var bR={x:0,y:0,w:0,h:0};if(!(L.clipCase!==0&&L.useCellClipForSelection)){var bS=L.c.get('x').gv(bQ);var bT=L.c.get('y').gv(bQ);var bU=L.c.get('width').gv(bQ);var bV=-L.c.get('height').gv(bQ);bS+=-L.c.get('width').gv(bQ)/2;bT+=L.c.get('height').gv(bQ)/2;if(bV<0){bT+=bV;bV=Math.abs(bV)}tab.RectXYUtil.set$1(bR,Math.floor(bS),Math.floor(bT),Math.floor(bU),Math.floor(bV))}if(L.clipCase!==0&&L.useCellClipForSelection){var bW=L.c.get('x').gv(bQ);var bX=L.c.get('y').gv(bQ);var bY=L.c.get('clip_width').gv(bQ);var bZ=-L.c.get('clip_height').gv(bQ);bW+=-L.c.get('clip_width').gv(bQ)/2;bX+=L.c.get('clip_height').gv(bQ)/2;if(bZ<0){bX+=bZ;bZ=Math.abs(bZ)}tab.RectXYUtil.set$1(bR,Math.floor(bW),Math.floor(bX),Math.floor(bY),Math.floor(bZ))}return bR};Z.textMarkExactHitTest=function(L,bQ,bR,bS){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return Z.$7(L.c.get('y').gv(bS)+L.c.get('height').gv(bS)/2,L.c.get('x').gv(bS)+-L.c.get('width').gv(bS)/2,-L.c.get('height').gv(bS),L.c.get('width').gv(bS),0,0,L.minBarHeight,L.minBarWidth,bQ,bR)}if(L.clipCase!==0&&L.useCellClipForSelection){return Z.$7(L.c.get('y').gv(bS)+L.c.get('clip_height').gv(bS)/2,L.c.get('x').gv(bS)+-L.c.get('clip_width').gv(bS)/2,-L.c.get('clip_height').gv(bS),L.c.get('clip_width').gv(bS),0,0,L.minBarHeight,L.minBarWidth,bQ,bR)}return false};Z.textMarkNearHitTest=function(L,bQ,bR,bS){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return Z.$7(L.c.get('y').gv(bS)+(L.c.get('height').gv(bS)/2+10),L.c.get('x').gv(bS)+(-L.c.get('width').gv(bS)/2-10),-L.c.get('height').gv(bS)-20,L.c.get('width').gv(bS)+20,0,0,L.minBarHeight,L.minBarWidth,bQ,bR)}if(L.clipCase!==0&&L.useCellClipForSelection){return Z.$7(L.c.get('y').gv(bS)+L.c.get('clip_height').gv(bS)/2,L.c.get('x').gv(bS)+-L.c.get('clip_width').gv(bS)/2,-L.c.get('clip_height').gv(bS),L.c.get('clip_width').gv(bS),0,0,L.minBarHeight,L.minBarWidth,bQ,bR)}return false};Z.textMarkGetHitTestExpansion=function(L,bQ){var bR=null;if(!(L.clipCase!==0&&L.useCellClipForSelection)){bR={w:10,h:10}}if(L.clipCase!==0&&L.useCellClipForSelection){bR={w:L.c.get('clip_width').gv(bQ)/2,h:L.c.get('clip_height').gv(bQ)/2}}return bR};Z.textMarkGetDistanceToMark=function(L,bQ,bR,bS){var bT=L.getMarkBounds(bS);return z.getSquaredDistanceToNearestSide(bT,{x:bQ,y:bR})};Z.textMarkRectangleAreaHitTest=function(L,bQ,bR){return true};Z.textMarkCircleAreaHitTest=function(L,bQ,bR,bS,bT){if(bT){{{return z.isPointInCircle({x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},bQ)}}}return z.circleIntersectsRect(bQ,bS)};Z.textMarkPolygonAreaHitTest=function(L,bQ,bR,bS){return z.polygonIntersectsRect(bQ,bS)};Z.barMarkBuildMarkBound=function(L,bQ){var bR={x:0,y:0,w:0,h:0};var bS=ss.Int32.trunc(L.c.get('size').gv(bQ)+0.5)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var bT=L.c.get('y').gv(bQ);var bU=L.c.get('y1').gv(bQ);var bV=L.c.get('x').gv(bQ);var bW=L.c.get('x1').gv(bQ);Z.$2(L,bR,bT,bV,bU,bW)}if(!L.scaleMarksInX&&L.scaleMarksInY){var bX=L.c.get('y').gv(bQ);var bY=L.c.get('y1').gv(bQ);var bZ=L.c.get('x').gv(bQ)-bS;var ca=L.c.get('x').gv(bQ)+bS;Z.$2(L,bR,bX,bZ,bY,ca)}if(L.scaleMarksInX&&!L.scaleMarksInY){var cb=L.c.get('y').gv(bQ)-bS;var cc=L.c.get('y').gv(bQ)+bS;var cd=L.c.get('x').gv(bQ);var ce=L.c.get('x1').gv(bQ);Z.$2(L,bR,cb,cd,cc,ce)}if(!L.scaleMarksInX&&!L.scaleMarksInY){var cf=L.c.get('y').gv(bQ)-bS;var cg=L.c.get('y').gv(bQ)+bS;var ch=L.c.get('x').gv(bQ)-bS;var ci=L.c.get('x').gv(bQ)+bS;Z.$2(L,bR,cf,ch,cg,ci)}return bR};Z.barMarkExactHitTest=function(L,bQ,bR,bS){var bT=L.c.get('size').gv(bS)/2;var bU=L.c.get('size').gv(bS)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var bV=Math.floor(Math.min(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var bW=Math.ceil(Math.max(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var bX=Math.floor(Math.min(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var bY=Math.ceil(Math.max(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var bZ={x:bX,y:bV,w:bY-bX,h:bW-bV};tab.RectXYUtil.outsetRectInPlace(bZ,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(bZ,bQ,bR)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY){var ca=Math.floor(Math.min(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var cb=Math.ceil(Math.max(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var cc=Math.floor(Math.min(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cd=Math.ceil(Math.max(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var ce={x:cc,y:ca,w:cd-cc,h:cb-ca};tab.RectXYUtil.outsetRectInPlace(ce,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(ce,bQ,bR)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY){var cf=Math.floor(Math.min(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cg=Math.ceil(Math.max(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var ch=Math.floor(Math.min(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var ci=Math.ceil(Math.max(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var cj={x:ch,y:cf,w:ci-ch,h:cg-cf};tab.RectXYUtil.outsetRectInPlace(cj,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cj,bQ,bR)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY){var ck=Math.floor(Math.min(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cl=Math.ceil(Math.max(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cm=Math.floor(Math.min(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cn=Math.ceil(Math.max(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var co={x:cm,y:ck,w:cn-cm,h:cl-ck};tab.RectXYUtil.outsetRectInPlace(co,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(co,bQ,bR)){return true}}return false};Z.barMarkNearHitTest=function(L,bQ,bR,bS){var bT=L.c.get('clip_width').gv(bS)/2;var bU=L.c.get('clip_height').gv(bS)/2;var bV=L.c.get('size').gv(bS)/2;var bW=L.c.get('size').gv(bS)/2;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var bX=Math.floor(Math.min(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var bY=Math.ceil(Math.max(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var bZ=Math.floor(Math.min(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var ca=Math.ceil(Math.max(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var cb={x:bZ,y:bX,w:ca-bZ,h:bY-bX};tab.RectXYUtil.outsetRectInPlace(cb,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cb,bQ,bR)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cc=Math.floor(Math.min(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var cd=Math.ceil(Math.max(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var ce=Math.floor(Math.min(L.c.get('x').gv(bS)-bV,L.c.get('x').gv(bS)+bV));var cf=Math.ceil(Math.max(L.c.get('x').gv(bS)-bV,L.c.get('x').gv(bS)+bV));var cg={x:ce,y:cc,w:cf-ce,h:cd-cc};tab.RectXYUtil.outsetRectInPlace(cg,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cg,bQ,bR)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var ch=Math.floor(Math.min(L.c.get('y').gv(bS)-bW,L.c.get('y').gv(bS)+bW));var ci=Math.ceil(Math.max(L.c.get('y').gv(bS)-bW,L.c.get('y').gv(bS)+bW));var cj=Math.floor(Math.min(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var ck=Math.ceil(Math.max(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var cl={x:cj,y:ch,w:ck-cj,h:ci-ch};tab.RectXYUtil.outsetRectInPlace(cl,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cl,bQ,bR)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var cm=Math.floor(Math.min(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var cn=Math.ceil(Math.max(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var co=Math.floor(Math.min(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cp=Math.ceil(Math.max(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cq={x:co,y:cm,w:cp-co,h:cn-cm};tab.RectXYUtil.outsetRectInPlace(cq,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cq,bQ,bR)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var cr=Math.floor(Math.min(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cs=Math.ceil(Math.max(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var ct=Math.floor(Math.min(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var cu=Math.ceil(Math.max(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var cv={x:ct,y:cr,w:cu-ct,h:cs-cr};tab.RectXYUtil.outsetRectInPlace(cv,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cv,bQ,bR)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cw=Math.floor(Math.min(L.c.get('y').gv(bS)-bW,L.c.get('y').gv(bS)+bW));var cx=Math.ceil(Math.max(L.c.get('y').gv(bS)-bW,L.c.get('y').gv(bS)+bW));var cy=Math.floor(Math.min(L.c.get('x').gv(bS)-bV,L.c.get('x').gv(bS)+bV));var cz=Math.ceil(Math.max(L.c.get('x').gv(bS)-bV,L.c.get('x').gv(bS)+bV));var cA={x:cy,y:cw,w:cz-cy,h:cx-cw};tab.RectXYUtil.outsetRectInPlace(cA,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cA,bQ,bR)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var cB=Math.floor(Math.min(L.c.get('y').gv(bS)-bW,L.c.get('y').gv(bS)+bW));var cC=Math.ceil(Math.max(L.c.get('y').gv(bS)-bW,L.c.get('y').gv(bS)+bW));var cD=Math.floor(Math.min(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cE=Math.ceil(Math.max(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cF={x:cD,y:cB,w:cE-cD,h:cC-cB};tab.RectXYUtil.outsetRectInPlace(cF,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cF,bQ,bR)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var cG=Math.floor(Math.min(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cH=Math.ceil(Math.max(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cI=Math.floor(Math.min(L.c.get('x').gv(bS)-bV,L.c.get('x').gv(bS)+bV));var cJ=Math.ceil(Math.max(L.c.get('x').gv(bS)-bV,L.c.get('x').gv(bS)+bV));var cK={x:cI,y:cG,w:cJ-cI,h:cH-cG};tab.RectXYUtil.outsetRectInPlace(cK,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cK,bQ,bR)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cL=Math.floor(Math.min(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cM=Math.ceil(Math.max(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cN=Math.floor(Math.min(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cO=Math.ceil(Math.max(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cP={x:cN,y:cL,w:cO-cN,h:cM-cL};tab.RectXYUtil.outsetRectInPlace(cP,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cP,bQ,bR)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cQ=Math.floor(Math.min(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cR=Math.ceil(Math.max(L.c.get('y').gv(bS)-bU,L.c.get('y').gv(bS)+bU));var cS=Math.floor(Math.min(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var cT=Math.ceil(Math.max(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var cU={x:cS,y:cQ,w:cT-cS,h:cR-cQ};tab.RectXYUtil.outsetRectInPlace(cU,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cU,bQ,bR)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cV=Math.floor(Math.min(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var cW=Math.ceil(Math.max(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var cX=Math.floor(Math.min(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cY=Math.ceil(Math.max(L.c.get('x').gv(bS)-bT,L.c.get('x').gv(bS)+bT));var cZ={x:cX,y:cV,w:cY-cX,h:cW-cV};tab.RectXYUtil.outsetRectInPlace(cZ,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cZ,bQ,bR)){return true}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var da=Math.floor(Math.min(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var db=Math.ceil(Math.max(L.c.get('y').gv(bS),L.c.get('y1').gv(bS)));var dc=Math.floor(Math.min(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var dd=Math.ceil(Math.max(L.c.get('x').gv(bS),L.c.get('x1').gv(bS)));var de={x:dc,y:da,w:dd-dc,h:db-da};tab.RectXYUtil.outsetRectInPlace(de,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(de,bQ,bR)){return true}}return false};Z.barMarkGetHitTestExpansion=function(L,bQ){var bR=null;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bR={w:10,h:10}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bR={w:5,h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bR={w:10,h:5}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){bR={w:L.c.get('clip_width').gv(bQ)/2,h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){bR={w:10,h:L.c.get('clip_height').gv(bQ)/2}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bR={w:5,h:5}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){bR={w:5,h:L.c.get('clip_height').gv(bQ)}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){bR={w:L.c.get('clip_width').gv(bQ)/2,h:10}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bR={w:L.c.get('clip_width').gv(bQ)/2,h:L.c.get('clip_height').gv(bQ)/2}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bR={w:L.c.get('clip_width').gv(bQ)/2,h:L.c.get('clip_height').gv(bQ)/2}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bR={w:L.c.get('clip_width').gv(bQ)/2,h:L.c.get('clip_height').gv(bQ)/2}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bR={w:L.c.get('clip_width').gv(bQ)/2,h:L.c.get('clip_height').gv(bQ)/2}}return bR};Z.barMarkGetDistanceToMark=function(L,bQ,bR,bS){var bT=L.getMarkBounds(bS);return z.getSquaredDistanceToNearestSide(bT,{x:bQ,y:bR})};Z.barMarkRectangleAreaHitTest=function(L,bQ,bR){return true};Z.barMarkCircleAreaHitTest=function(L,bQ,bR,bS,bT){if(bT){if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){{return z.isPointInCircle({x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},bQ)}}}return z.circleIntersectsRect(bQ,bS)};Z.barMarkPolygonAreaHitTest=function(L,bQ,bR,bS){return z.polygonIntersectsRect(bQ,bS)};Z.lineMarkBuildMarkBound=function(L,bQ){var bR=L.c.get('l_neighbor').gv(bQ);var bS=L.c.get('r_neighbor').gv(bQ);var bT=L.lineInterpolation;var bU={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(bU,L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),(L.c.get('size').gv(bQ)+20)/2)}if(bR!==-1&&bT==='lim-linear'){Z.$0(bU,(L.c.get('x').gv(bR)+L.c.get('x').gv(bQ))/2,(L.c.get('y').gv(bR)+L.c.get('y').gv(bQ))/2,(L.c.get('size').gv(bR)+L.c.get('size').gv(bQ))/2+20,L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+20)}if(bS!==-1&&bT==='lim-linear'){Z.$0(bU,L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+20,(L.c.get('x').gv(bQ)+L.c.get('x').gv(bS))/2,(L.c.get('y').gv(bQ)+L.c.get('y').gv(bS))/2,(L.c.get('size').gv(bQ)+L.c.get('size').gv(bS))/2+20)}if(bS!==-1&&(bT==='lim-step'||bT==='lim-jump')){tab.RectXYUtil.encompassCircleInPlace(bU,L.c.get('x').gv(bS),L.c.get('y').gv(bQ),(L.c.get('size').gv(bQ)+20)/2)}if(bR!==-1&&bT==='lim-step'){Z.$0(bU,L.c.get('x').gv(bQ),L.c.get('y').gv(bR),L.c.get('size').gv(bR)+20,L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+20)}if(bS!==-1&&(bT==='lim-step'||bT==='lim-jump')){Z.$0(bU,L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+20,L.c.get('x').gv(bS),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+20)}return bU};Z.lineMarkExactHitTest=function(L,bQ,bR,bS){var bT=L.c.get('l_neighbor').gv(bS);var bU=L.c.get('r_neighbor').gv(bS);var bV=L.lineInterpolation;{if(z.isPointInCircle({x:bQ,y:bR},{center:{x:L.c.get('x').gv(bS),y:L.c.get('y').gv(bS)},radius:L.c.get('size').gv(bS)/2})){return true}}if(bT!==-1&&bV==='lim-linear'){if(Z.$8(bQ,bR,(L.c.get('x').gv(bT)+L.c.get('x').gv(bS))/2,(L.c.get('y').gv(bT)+L.c.get('y').gv(bS))/2,(L.c.get('size').gv(bT)+L.c.get('size').gv(bS))/2,L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS))){return true}}if(bU!==-1&&bV==='lim-linear'){if(Z.$8(bQ,bR,L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS),(L.c.get('x').gv(bS)+L.c.get('x').gv(bU))/2,(L.c.get('y').gv(bS)+L.c.get('y').gv(bU))/2,(L.c.get('size').gv(bS)+L.c.get('size').gv(bU))/2)){return true}}if(bU!==-1&&(bV==='lim-step'||bV==='lim-jump')){if(z.isPointInCircle({x:bQ,y:bR},{center:{x:L.c.get('x').gv(bU),y:L.c.get('y').gv(bS)},radius:L.c.get('size').gv(bS)/2})){return true}}if(bT!==-1&&bV==='lim-step'){if(Z.$8(bQ,bR,L.c.get('x').gv(bS),L.c.get('y').gv(bT),L.c.get('size').gv(bT),L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS))){return true}}if(bU!==-1&&(bV==='lim-step'||bV==='lim-jump')){if(Z.$8(bQ,bR,L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS),L.c.get('x').gv(bU),L.c.get('y').gv(bS),L.c.get('size').gv(bS))){return true}}return false};Z.lineMarkNearHitTest=function(L,bQ,bR,bS){var bT=L.c.get('l_neighbor').gv(bS);var bU=L.c.get('r_neighbor').gv(bS);var bV=L.lineInterpolation;{if(z.isPointInCircle({x:bQ,y:bR},{center:{x:L.c.get('x').gv(bS),y:L.c.get('y').gv(bS)},radius:(L.c.get('size').gv(bS)+20)/2})){return true}}if(bT!==-1&&bV==='lim-linear'){if(Z.$8(bQ,bR,(L.c.get('x').gv(bT)+L.c.get('x').gv(bS))/2,(L.c.get('y').gv(bT)+L.c.get('y').gv(bS))/2,(L.c.get('size').gv(bT)+L.c.get('size').gv(bS))/2+20,L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS)+20)){return true}}if(bU!==-1&&bV==='lim-linear'){if(Z.$8(bQ,bR,L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS)+20,(L.c.get('x').gv(bS)+L.c.get('x').gv(bU))/2,(L.c.get('y').gv(bS)+L.c.get('y').gv(bU))/2,(L.c.get('size').gv(bS)+L.c.get('size').gv(bU))/2+20)){return true}}if(bU!==-1&&(bV==='lim-step'||bV==='lim-jump')){if(z.isPointInCircle({x:bQ,y:bR},{center:{x:L.c.get('x').gv(bU),y:L.c.get('y').gv(bS)},radius:(L.c.get('size').gv(bS)+20)/2})){return true}}if(bT!==-1&&bV==='lim-step'){if(Z.$8(bQ,bR,L.c.get('x').gv(bS),L.c.get('y').gv(bT),L.c.get('size').gv(bT)+20,L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS)+20)){return true}}if(bU!==-1&&(bV==='lim-step'||bV==='lim-jump')){if(Z.$8(bQ,bR,L.c.get('x').gv(bS),L.c.get('y').gv(bS),L.c.get('size').gv(bS)+20,L.c.get('x').gv(bU),L.c.get('y').gv(bS),L.c.get('size').gv(bS)+20)){return true}}return false};Z.lineMarkGetHitTestExpansion=function(L,bQ){return{w:0,h:0}};Z.lineMarkGetDistanceToMark=function(L,bQ,bR,bS){var bT=L.c.get('l_neighbor').gv(bS);var bU=L.c.get('r_neighbor').gv(bS);var bV=L.c.get('x1').gv(bS);var bW=L.c.get('y1').gv(bS);var bX;{var bY=bQ-bV;var bZ=bR-bW;var ca=bY*bY+bZ*bZ;bX=ca}if(bT!==-1){var cb={x:(L.c.get('x').gv(bT)+bV)/2,y:(L.c.get('y').gv(bT)+bW)/2};var cc={x:bV,y:bW};var cd=z.getSquaredDistanceToLineSegment({x:bQ,y:bR},cb,cc);bX=Math.min(bX,cd)}if(bU!==-1){var ce={x:bV,y:bW};var cf={x:(L.c.get('x').gv(bU)+bV)/2,y:(L.c.get('y').gv(bU)+bW)/2};var cg=z.getSquaredDistanceToLineSegment({x:bQ,y:bR},ce,cf);bX=Math.min(bX,cg)}return bX};Z.lineMarkRectangleAreaHitTest=function(L,bQ,bR){{if(z.circleIntersectsRect({center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)/2},bQ)){return true}}return false};Z.lineMarkCircleAreaHitTest=function(L,bQ,bR,bS,bT){if(bT){{{return z.isPointInCircle({x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},bQ)}}}{if(z.circleIntersectsCircle(bQ,{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)/2})){return true}}return false};Z.lineMarkPolygonAreaHitTest=function(L,bQ,bR,bS){{if(z.polygonIntersectsCircle(bQ,{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)/2})){return true}}return false};Z.shapeMarkBuildMarkBound=function(L,bQ){var bR=L.c.get('shape_id').gv(bQ);switch(bR){case'shapeIDCircle':{var bS={x:0,y:0,w:0,h:0};{var bT=Math.round(L.c.get('x').gv(bQ));var bU=Math.round(L.c.get('y').gv(bQ));var bV=Math.ceil(L.c.get('size').gv(bQ)*0.958333333333333/2);var bW=2*bV;tab.RectXYUtil.unionInPlace$1(bS,bT-bV,bU-bV,bW,bW)}return bS}case'shapeIDFilledCircle':{var bX={x:0,y:0,w:0,h:0};{var bY=Math.round(L.c.get('x').gv(bQ));var bZ=Math.round(L.c.get('y').gv(bQ));var ca=Math.ceil(L.c.get('size').gv(bQ)*0.979166666666667/2);var cb=2*ca;tab.RectXYUtil.unionInPlace$1(bX,bY-ca,bZ-ca,cb,cb)}return bX}case'shapeIDUnscaledFilledCircle':{var cc={x:0,y:0,w:0,h:0};{var cd=Math.round(L.c.get('x').gv(bQ));var ce=Math.round(L.c.get('y').gv(bQ));var cf=Math.ceil(L.c.get('size').gv(bQ)/2);var cg=2*cf;tab.RectXYUtil.unionInPlace$1(cc,cd-cf,ce-cf,cg,cg)}return cc}case'shapeIDSquare':{var ch={x:0,y:0,w:0,h:0};{var ci=Math.round(L.c.get('x').gv(bQ));var cj=Math.round(L.c.get('y').gv(bQ));var ck=Math.ceil(L.c.get('size').gv(bQ)*0.895833333333333/2);var cl=2*ck;tab.RectXYUtil.unionInPlace$1(ch,ci-ck,cj-ck,cl,cl)}return ch}case'shapeIDFilledSquare':{var cm={x:0,y:0,w:0,h:0};{var cn=Math.round(L.c.get('x').gv(bQ));var co=Math.round(L.c.get('y').gv(bQ));var cp=Math.ceil(L.c.get('size').gv(bQ)*0.9375/2);var cq=2*cp;tab.RectXYUtil.unionInPlace$1(cm,cn-cp,co-cp,cq,cq)}return cm}case'shapeIDAsterisk':{var cr={x:0,y:0,w:0,h:0};{var cs=Math.round(L.c.get('x').gv(bQ));var ct=Math.round(L.c.get('y').gv(bQ));var cu=Math.ceil(L.c.get('size').gv(bQ)*0.958333333333333/2);var cv=2*cu;tab.RectXYUtil.unionInPlace$1(cr,cs-cu,ct-cu,cv,cv)}return cr}case'shapeIDPlus':{var cw={x:0,y:0,w:0,h:0};{var cx=Math.round(L.c.get('x').gv(bQ));var cy=Math.round(L.c.get('y').gv(bQ));var cz=Math.ceil(L.c.get('size').gv(bQ)*0.916666666666667/2);var cA=2*cz;tab.RectXYUtil.unionInPlace$1(cw,cx-cz,cy-cz,cA,cA)}return cw}case'shapeIDFilledPlus':{var cB={x:0,y:0,w:0,h:0};{var cC=Math.round(L.c.get('x').gv(bQ));var cD=Math.round(L.c.get('y').gv(bQ));var cE=Math.ceil(L.c.get('size').gv(bQ)*0.9375/2);var cF=2*cE;tab.RectXYUtil.unionInPlace$1(cB,cC-cE,cD-cE,cF,cF)}return cB}case'shapeIDTimes':{var cG={x:0,y:0,w:0,h:0};{var cH=Math.round(L.c.get('x').gv(bQ));var cI=Math.round(L.c.get('y').gv(bQ));var cJ=Math.ceil(L.c.get('size').gv(bQ)*0.875/2);var cK=2*cJ;tab.RectXYUtil.unionInPlace$1(cG,cH-cJ,cI-cJ,cK,cK)}return cG}case'shapeIDFilledTimes':{var cL={x:0,y:0,w:0,h:0};{var cM=Math.round(L.c.get('x').gv(bQ));var cN=Math.round(L.c.get('y').gv(bQ));var cO=Math.ceil(L.c.get('size').gv(bQ)*0.9375/2);var cP=2*cO;tab.RectXYUtil.unionInPlace$1(cL,cM-cO,cN-cO,cP,cP)}return cL}case'shapeIDDiamond':{var cQ={x:0,y:0,w:0,h:0};{var cR=Math.round(L.c.get('x').gv(bQ));var cS=Math.round(L.c.get('y').gv(bQ));var cT=Math.ceil(L.c.get('size').gv(bQ)*1.04166666666667/2);var cU=2*cT;tab.RectXYUtil.unionInPlace$1(cQ,cR-cT,cS-cT,cU,cU)}return cQ}case'shapeIDFilledDiamond':{var cV={x:0,y:0,w:0,h:0};{var cW=Math.round(L.c.get('x').gv(bQ));var cX=Math.round(L.c.get('y').gv(bQ));var cY=Math.ceil(L.c.get('size').gv(bQ)*1.04166666666667/2);var cZ=2*cY;tab.RectXYUtil.unionInPlace$1(cV,cW-cY,cX-cY,cZ,cZ)}return cV}case'shapeIDTriangle':{var da={x:0,y:0,w:0,h:0};{var db=Math.round(L.c.get('x').gv(bQ));var dc=Math.round(L.c.get('y').gv(bQ));var dd=Math.ceil(L.c.get('size').gv(bQ)*0.895833333333333/2);var de=2*dd;tab.RectXYUtil.unionInPlace$1(da,db-dd,dc-dd,de,de)}return da}case'shapeIDFilledTriangle':{var df={x:0,y:0,w:0,h:0};{var dg=Math.round(L.c.get('x').gv(bQ));var dh=Math.round(L.c.get('y').gv(bQ));var di=Math.ceil(L.c.get('size').gv(bQ)*0.916666666666667/2);var dj=2*di;tab.RectXYUtil.unionInPlace$1(df,dg-di,dh-di,dj,dj)}return df}case'shapeIDDownTriangle':{var dk={x:0,y:0,w:0,h:0};{var dl=Math.round(L.c.get('x').gv(bQ));var dm=Math.round(L.c.get('y').gv(bQ));var dn=Math.ceil(L.c.get('size').gv(bQ)*0.895833333333333/2);var dp=2*dn;tab.RectXYUtil.unionInPlace$1(dk,dl-dn,dm-dn,dp,dp)}return dk}case'shapeIDFilledDownTriangle':{var dq={x:0,y:0,w:0,h:0};{var dr=Math.round(L.c.get('x').gv(bQ));var ds=Math.round(L.c.get('y').gv(bQ));var dt=Math.ceil(L.c.get('size').gv(bQ)*0.916666666666667/2);var du=2*dt;tab.RectXYUtil.unionInPlace$1(dq,dr-dt,ds-dt,du,du)}return dq}case'shapeIDLeftTriangle':{var dv={x:0,y:0,w:0,h:0};{var dw=Math.round(L.c.get('x').gv(bQ));var dx=Math.round(L.c.get('y').gv(bQ));var dy=Math.ceil(L.c.get('size').gv(bQ)*0.895833333333333/2);var dz=2*dy;tab.RectXYUtil.unionInPlace$1(dv,dw-dy,dx-dy,dz,dz)}return dv}case'shapeIDFilledLeftTriangle':{var dA={x:0,y:0,w:0,h:0};{var dB=Math.round(L.c.get('x').gv(bQ));var dC=Math.round(L.c.get('y').gv(bQ));var dD=Math.ceil(L.c.get('size').gv(bQ)*0.916666666666667/2);var dE=2*dD;tab.RectXYUtil.unionInPlace$1(dA,dB-dD,dC-dD,dE,dE)}return dA}case'shapeIDRightTriangle':{var dF={x:0,y:0,w:0,h:0};{var dG=Math.round(L.c.get('x').gv(bQ));var dH=Math.round(L.c.get('y').gv(bQ));var dI=Math.ceil(L.c.get('size').gv(bQ)*0.895833333333333/2);var dJ=2*dI;tab.RectXYUtil.unionInPlace$1(dF,dG-dI,dH-dI,dJ,dJ)}return dF}case'shapeIDFilledRightTriangle':{var dK={x:0,y:0,w:0,h:0};{var dL=Math.round(L.c.get('x').gv(bQ));var dM=Math.round(L.c.get('y').gv(bQ));var dN=Math.ceil(L.c.get('size').gv(bQ)*0.916666666666667/2);var dO=2*dN;tab.RectXYUtil.unionInPlace$1(dK,dL-dN,dM-dN,dO,dO)}return dK}case'shapeIDFilledStar':{var dP={x:0,y:0,w:0,h:0};{var dQ=Math.round(L.c.get('x').gv(bQ));var dR=Math.round(L.c.get('y').gv(bQ));var dS=Math.ceil(L.c.get('size').gv(bQ)*1.09166666666667/2);var dT=2*dS;tab.RectXYUtil.unionInPlace$1(dP,dQ-dS,dR-dS,dT,dT)}return dP}default:{if(bR>null){var dU=Math.round(L.c.get('x').gv(bQ));var dV=Math.round(L.c.get('y').gv(bQ));var dW=Math.ceil(L.c.get('size').gv(bQ));var dX=Math.ceil(dW/2);var dY={x:dU-dX,y:dV-dX,w:dW,h:dW};return dY}break}}return{x:0,y:0,w:0,h:0}};Z.shapeMarkExactHitTest=function(L,bQ,bR,bS){var bT=L.c.get('shape_id').gv(bS);switch(bT){case'shapeIDCircle':{{if(z.isPointInCircle({x:bQ,y:bR},{center:{x:L.c.get('x').gv(bS),y:L.c.get('y').gv(bS)},radius:L.c.get('size').gv(bS)*0.958333333333333/2})){return true}}return false}case'shapeIDFilledCircle':{{if(z.isPointInCircle({x:bQ,y:bR},{center:{x:L.c.get('x').gv(bS),y:L.c.get('y').gv(bS)},radius:L.c.get('size').gv(bS)*0.979166666666667/2})){return true}}return false}case'shapeIDUnscaledFilledCircle':{{if(z.isPointInCircle({x:bQ,y:bR},{center:{x:L.c.get('x').gv(bS),y:L.c.get('y').gv(bS)},radius:L.c.get('size').gv(bS)/2})){return true}}return false}case'shapeIDSquare':{{var bU=L.c.get('size').gv(bS)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-bU,L.c.get('y').gv(bS)-bU,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('size').gv(bS)*0.895833333333333,bQ,bR)){return true}}return false}case'shapeIDFilledSquare':{{var bV=L.c.get('size').gv(bS)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-bV,L.c.get('y').gv(bS)-bV,L.c.get('size').gv(bS)*0.9375,L.c.get('size').gv(bS)*0.9375,bQ,bR)){return true}}return false}case'shapeIDAsterisk':{{var bW=L.c.get('size').gv(bS)*0.958333333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-bW,L.c.get('y').gv(bS)-bW,L.c.get('size').gv(bS)*0.958333333333333,L.c.get('size').gv(bS)*0.958333333333333,bQ,bR)){return true}}return false}case'shapeIDPlus':{{var bX=L.c.get('size').gv(bS)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-bX,L.c.get('y').gv(bS)-bX,L.c.get('size').gv(bS)*0.916666666666667,L.c.get('size').gv(bS)*0.916666666666667,bQ,bR)){return true}}return false}case'shapeIDFilledPlus':{{var bY=L.c.get('size').gv(bS)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-bY,L.c.get('y').gv(bS)-bY,L.c.get('size').gv(bS)*0.9375,L.c.get('size').gv(bS)*0.9375,bQ,bR)){return true}}return false}case'shapeIDTimes':{{var bZ=L.c.get('size').gv(bS)*0.875/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-bZ,L.c.get('y').gv(bS)-bZ,L.c.get('size').gv(bS)*0.875,L.c.get('size').gv(bS)*0.875,bQ,bR)){return true}}return false}case'shapeIDFilledTimes':{{var ca=L.c.get('size').gv(bS)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-ca,L.c.get('y').gv(bS)-ca,L.c.get('size').gv(bS)*0.9375,L.c.get('size').gv(bS)*0.9375,bQ,bR)){return true}}return false}case'shapeIDDiamond':{{var cb=L.c.get('size').gv(bS)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-cb,L.c.get('y').gv(bS)-cb,L.c.get('size').gv(bS)*1.04166666666667,L.c.get('size').gv(bS)*1.04166666666667,bQ,bR)){return true}}return false}case'shapeIDFilledDiamond':{{var cc=L.c.get('size').gv(bS)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-cc,L.c.get('y').gv(bS)-cc,L.c.get('size').gv(bS)*1.04166666666667,L.c.get('size').gv(bS)*1.04166666666667,bQ,bR)){return true}}return false}case'shapeIDTriangle':{{var cd=L.c.get('size').gv(bS)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-cd,L.c.get('y').gv(bS)-cd,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('size').gv(bS)*0.895833333333333,bQ,bR)){return true}}return false}case'shapeIDFilledTriangle':{{var ce=L.c.get('size').gv(bS)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-ce,L.c.get('y').gv(bS)-ce,L.c.get('size').gv(bS)*0.916666666666667,L.c.get('size').gv(bS)*0.916666666666667,bQ,bR)){return true}}return false}case'shapeIDDownTriangle':{{var cf=L.c.get('size').gv(bS)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-cf,L.c.get('y').gv(bS)-cf,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('size').gv(bS)*0.895833333333333,bQ,bR)){return true}}return false}case'shapeIDFilledDownTriangle':{{var cg=L.c.get('size').gv(bS)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-cg,L.c.get('y').gv(bS)-cg,L.c.get('size').gv(bS)*0.916666666666667,L.c.get('size').gv(bS)*0.916666666666667,bQ,bR)){return true}}return false}case'shapeIDLeftTriangle':{{var ch=L.c.get('size').gv(bS)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-ch,L.c.get('y').gv(bS)-ch,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('size').gv(bS)*0.895833333333333,bQ,bR)){return true}}return false}case'shapeIDFilledLeftTriangle':{{var ci=L.c.get('size').gv(bS)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-ci,L.c.get('y').gv(bS)-ci,L.c.get('size').gv(bS)*0.916666666666667,L.c.get('size').gv(bS)*0.916666666666667,bQ,bR)){return true}}return false}case'shapeIDRightTriangle':{{var cj=L.c.get('size').gv(bS)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-cj,L.c.get('y').gv(bS)-cj,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('size').gv(bS)*0.895833333333333,bQ,bR)){return true}}return false}case'shapeIDFilledRightTriangle':{{var ck=L.c.get('size').gv(bS)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-ck,L.c.get('y').gv(bS)-ck,L.c.get('size').gv(bS)*0.916666666666667,L.c.get('size').gv(bS)*0.916666666666667,bQ,bR)){return true}}return false}case'shapeIDFilledStar':{{var cl=L.c.get('size').gv(bS)*1.09166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-cl,L.c.get('y').gv(bS)-cl,L.c.get('size').gv(bS)*1.09166666666667,L.c.get('size').gv(bS)*1.09166666666667,bQ,bR)){return true}}return false}default:{if(bT>null){var cm=L.c.get('size').gv(bS);var cn=cm/2;return tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bS)-cn,L.c.get('y').gv(bS)-cn,cm,cm,bQ,bR)}break}}return true};Z.shapeMarkNearHitTest=function(L,bQ,bR,bS){var bT=L.c.get('shape_id').gv(bS);switch(bT){case'shapeIDCircle':{return true}case'shapeIDFilledCircle':{return true}case'shapeIDUnscaledFilledCircle':{return true}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return false};Z.shapeMarkGetHitTestExpansion=function(L,bQ){var bR=null;{bR={w:10,h:10}}return bR};Z.shapeMarkGetDistanceToMark=function(L,bQ,bR,bS){var bT=L.c.get('shape_id').gv(bS);switch(bT){case'shapeIDCircle':{var bU=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(bU,{x:bQ,y:bR})}case'shapeIDFilledCircle':{var bV=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(bV,{x:bQ,y:bR})}case'shapeIDUnscaledFilledCircle':{var bW=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(bW,{x:bQ,y:bR})}case'shapeIDSquare':{var bX=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(bX,{x:bQ,y:bR})}case'shapeIDFilledSquare':{var bY=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(bY,{x:bQ,y:bR})}case'shapeIDAsterisk':{var bZ=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(bZ,{x:bQ,y:bR})}case'shapeIDPlus':{var ca=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(ca,{x:bQ,y:bR})}case'shapeIDFilledPlus':{var cb=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(cb,{x:bQ,y:bR})}case'shapeIDTimes':{var cc=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(cc,{x:bQ,y:bR})}case'shapeIDFilledTimes':{var cd=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(cd,{x:bQ,y:bR})}case'shapeIDDiamond':{var ce=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(ce,{x:bQ,y:bR})}case'shapeIDFilledDiamond':{var cf=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(cf,{x:bQ,y:bR})}case'shapeIDTriangle':{var cg=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(cg,{x:bQ,y:bR})}case'shapeIDFilledTriangle':{var ch=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(ch,{x:bQ,y:bR})}case'shapeIDDownTriangle':{var ci=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(ci,{x:bQ,y:bR})}case'shapeIDFilledDownTriangle':{var cj=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(cj,{x:bQ,y:bR})}case'shapeIDLeftTriangle':{var ck=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(ck,{x:bQ,y:bR})}case'shapeIDFilledLeftTriangle':{var cl=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(cl,{x:bQ,y:bR})}case'shapeIDRightTriangle':{var cm=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(cm,{x:bQ,y:bR})}case'shapeIDFilledRightTriangle':{var cn=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(cn,{x:bQ,y:bR})}case'shapeIDFilledStar':{var co=L.getMarkBounds(bS);return z.getSquaredDistanceToCircumference(co,{x:bQ,y:bR})}default:{break}}return z.getSquaredDistanceToCenter(L.getMarkBounds(bS),{x:bQ,y:bR})};Z.shapeMarkRectangleAreaHitTest=function(L,bQ,bR){var bS=L.c.get('shape_id').gv(bR);switch(bS){case'shapeIDCircle':{return z.circleIntersectsRect({center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)*0.958333333333333/2},bQ)}case'shapeIDFilledCircle':{return z.circleIntersectsRect({center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)*0.979166666666667/2},bQ)}case'shapeIDUnscaledFilledCircle':{return z.circleIntersectsRect({center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)/2},bQ)}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return true};Z.shapeMarkCircleAreaHitTest=function(L,bQ,bR,bS){if(bS){{{return z.isPointInCircle({x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},bQ)}}}var bT=L.c.get('shape_id').gv(bR);switch(bT){case'shapeIDCircle':{return z.circleIntersectsCircle({center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)*0.958333333333333/2},bQ)}case'shapeIDFilledCircle':{return z.circleIntersectsCircle({center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)*0.979166666666667/2},bQ)}case'shapeIDUnscaledFilledCircle':{return z.circleIntersectsCircle({center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)/2},bQ)}case'shapeIDSquare':{var bU={x:0,y:0,w:0,h:0};{var bV=Math.round(L.c.get('x').gv(bR));var bW=Math.round(L.c.get('y').gv(bR));var bX=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var bY=2*bX;tab.RectXYUtil.unionInPlace$1(bU,bV-bX,bW-bX,bY,bY)}return z.circleIntersectsRect(bQ,bU)}case'shapeIDFilledSquare':{var bZ={x:0,y:0,w:0,h:0};{var ca=Math.round(L.c.get('x').gv(bR));var cb=Math.round(L.c.get('y').gv(bR));var cc=Math.ceil(L.c.get('size').gv(bR)*0.9375/2);var cd=2*cc;tab.RectXYUtil.unionInPlace$1(bZ,ca-cc,cb-cc,cd,cd)}return z.circleIntersectsRect(bQ,bZ)}case'shapeIDAsterisk':{var ce={x:0,y:0,w:0,h:0};{var cf=Math.round(L.c.get('x').gv(bR));var cg=Math.round(L.c.get('y').gv(bR));var ch=Math.ceil(L.c.get('size').gv(bR)*0.958333333333333/2);var ci=2*ch;tab.RectXYUtil.unionInPlace$1(ce,cf-ch,cg-ch,ci,ci)}return z.circleIntersectsRect(bQ,ce)}case'shapeIDPlus':{var cj={x:0,y:0,w:0,h:0};{var ck=Math.round(L.c.get('x').gv(bR));var cl=Math.round(L.c.get('y').gv(bR));var cm=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var cn=2*cm;tab.RectXYUtil.unionInPlace$1(cj,ck-cm,cl-cm,cn,cn)}return z.circleIntersectsRect(bQ,cj)}case'shapeIDFilledPlus':{var co={x:0,y:0,w:0,h:0};{var cp=Math.round(L.c.get('x').gv(bR));var cq=Math.round(L.c.get('y').gv(bR));var cr=Math.ceil(L.c.get('size').gv(bR)*0.9375/2);var cs=2*cr;tab.RectXYUtil.unionInPlace$1(co,cp-cr,cq-cr,cs,cs)}return z.circleIntersectsRect(bQ,co)}case'shapeIDTimes':{var ct={x:0,y:0,w:0,h:0};{var cu=Math.round(L.c.get('x').gv(bR));var cv=Math.round(L.c.get('y').gv(bR));var cw=Math.ceil(L.c.get('size').gv(bR)*0.875/2);var cx=2*cw;tab.RectXYUtil.unionInPlace$1(ct,cu-cw,cv-cw,cx,cx)}return z.circleIntersectsRect(bQ,ct)}case'shapeIDFilledTimes':{var cy={x:0,y:0,w:0,h:0};{var cz=Math.round(L.c.get('x').gv(bR));var cA=Math.round(L.c.get('y').gv(bR));var cB=Math.ceil(L.c.get('size').gv(bR)*0.9375/2);var cC=2*cB;tab.RectXYUtil.unionInPlace$1(cy,cz-cB,cA-cB,cC,cC)}return z.circleIntersectsRect(bQ,cy)}case'shapeIDDiamond':{var cD={x:0,y:0,w:0,h:0};{var cE=Math.round(L.c.get('x').gv(bR));var cF=Math.round(L.c.get('y').gv(bR));var cG=Math.ceil(L.c.get('size').gv(bR)*1.04166666666667/2);var cH=2*cG;tab.RectXYUtil.unionInPlace$1(cD,cE-cG,cF-cG,cH,cH)}return z.circleIntersectsRect(bQ,cD)}case'shapeIDFilledDiamond':{var cI={x:0,y:0,w:0,h:0};{var cJ=Math.round(L.c.get('x').gv(bR));var cK=Math.round(L.c.get('y').gv(bR));var cL=Math.ceil(L.c.get('size').gv(bR)*1.04166666666667/2);var cM=2*cL;tab.RectXYUtil.unionInPlace$1(cI,cJ-cL,cK-cL,cM,cM)}return z.circleIntersectsRect(bQ,cI)}case'shapeIDTriangle':{var cN={x:0,y:0,w:0,h:0};{var cO=Math.round(L.c.get('x').gv(bR));var cP=Math.round(L.c.get('y').gv(bR));var cQ=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var cR=2*cQ;tab.RectXYUtil.unionInPlace$1(cN,cO-cQ,cP-cQ,cR,cR)}return z.circleIntersectsRect(bQ,cN)}case'shapeIDFilledTriangle':{var cS={x:0,y:0,w:0,h:0};{var cT=Math.round(L.c.get('x').gv(bR));var cU=Math.round(L.c.get('y').gv(bR));var cV=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var cW=2*cV;tab.RectXYUtil.unionInPlace$1(cS,cT-cV,cU-cV,cW,cW)}return z.circleIntersectsRect(bQ,cS)}case'shapeIDDownTriangle':{var cX={x:0,y:0,w:0,h:0};{var cY=Math.round(L.c.get('x').gv(bR));var cZ=Math.round(L.c.get('y').gv(bR));var da=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var db=2*da;tab.RectXYUtil.unionInPlace$1(cX,cY-da,cZ-da,db,db)}return z.circleIntersectsRect(bQ,cX)}case'shapeIDFilledDownTriangle':{var dc={x:0,y:0,w:0,h:0};{var dd=Math.round(L.c.get('x').gv(bR));var de=Math.round(L.c.get('y').gv(bR));var df=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var dg=2*df;tab.RectXYUtil.unionInPlace$1(dc,dd-df,de-df,dg,dg)}return z.circleIntersectsRect(bQ,dc)}case'shapeIDLeftTriangle':{var dh={x:0,y:0,w:0,h:0};{var di=Math.round(L.c.get('x').gv(bR));var dj=Math.round(L.c.get('y').gv(bR));var dk=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var dl=2*dk;tab.RectXYUtil.unionInPlace$1(dh,di-dk,dj-dk,dl,dl)}return z.circleIntersectsRect(bQ,dh)}case'shapeIDFilledLeftTriangle':{var dm={x:0,y:0,w:0,h:0};{var dn=Math.round(L.c.get('x').gv(bR));var dp=Math.round(L.c.get('y').gv(bR));var dq=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var dr=2*dq;tab.RectXYUtil.unionInPlace$1(dm,dn-dq,dp-dq,dr,dr)}return z.circleIntersectsRect(bQ,dm)}case'shapeIDRightTriangle':{var ds={x:0,y:0,w:0,h:0};{var dt=Math.round(L.c.get('x').gv(bR));var du=Math.round(L.c.get('y').gv(bR));var dv=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var dw=2*dv;tab.RectXYUtil.unionInPlace$1(ds,dt-dv,du-dv,dw,dw)}return z.circleIntersectsRect(bQ,ds)}case'shapeIDFilledRightTriangle':{var dx={x:0,y:0,w:0,h:0};{var dy=Math.round(L.c.get('x').gv(bR));var dz=Math.round(L.c.get('y').gv(bR));var dA=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var dB=2*dA;tab.RectXYUtil.unionInPlace$1(dx,dy-dA,dz-dA,dB,dB)}return z.circleIntersectsRect(bQ,dx)}case'shapeIDFilledStar':{var dC={x:0,y:0,w:0,h:0};{var dD=Math.round(L.c.get('x').gv(bR));var dE=Math.round(L.c.get('y').gv(bR));var dF=Math.ceil(L.c.get('size').gv(bR)*1.09166666666667/2);var dG=2*dF;tab.RectXYUtil.unionInPlace$1(dC,dD-dF,dE-dF,dG,dG)}return z.circleIntersectsRect(bQ,dC)}default:{var dH=Math.round(L.c.get('x').gv(bR));var dI=Math.round(L.c.get('y').gv(bR));var dJ=Math.ceil(L.c.get('size').gv(bR));var dK=Math.ceil(dJ/2);var dL={x:dH-dK,y:dI-dK,w:dJ,h:dJ};return z.circleIntersectsRect(bQ,dL)}}};Z.shapeMarkPolygonAreaHitTest=function(L,bQ,bR){var bS=L.c.get('shape_id').gv(bR);switch(bS){case'shapeIDCircle':{return z.polygonIntersectsCircle(bQ,{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)*0.958333333333333/2})}case'shapeIDFilledCircle':{return z.polygonIntersectsCircle(bQ,{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)*0.979166666666667/2})}case'shapeIDUnscaledFilledCircle':{return z.polygonIntersectsCircle(bQ,{center:{x:L.c.get('x').gv(bR),y:L.c.get('y').gv(bR)},radius:L.c.get('size').gv(bR)/2})}case'shapeIDSquare':{var bT={x:0,y:0,w:0,h:0};{var bU=Math.round(L.c.get('x').gv(bR));var bV=Math.round(L.c.get('y').gv(bR));var bW=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var bX=2*bW;tab.RectXYUtil.unionInPlace$1(bT,bU-bW,bV-bW,bX,bX)}return z.polygonIntersectsRect(bQ,bT)}case'shapeIDFilledSquare':{var bY={x:0,y:0,w:0,h:0};{var bZ=Math.round(L.c.get('x').gv(bR));var ca=Math.round(L.c.get('y').gv(bR));var cb=Math.ceil(L.c.get('size').gv(bR)*0.9375/2);var cc=2*cb;tab.RectXYUtil.unionInPlace$1(bY,bZ-cb,ca-cb,cc,cc)}return z.polygonIntersectsRect(bQ,bY)}case'shapeIDAsterisk':{var cd={x:0,y:0,w:0,h:0};{var ce=Math.round(L.c.get('x').gv(bR));var cf=Math.round(L.c.get('y').gv(bR));var cg=Math.ceil(L.c.get('size').gv(bR)*0.958333333333333/2);var ch=2*cg;tab.RectXYUtil.unionInPlace$1(cd,ce-cg,cf-cg,ch,ch)}return z.polygonIntersectsRect(bQ,cd)}case'shapeIDPlus':{var ci={x:0,y:0,w:0,h:0};{var cj=Math.round(L.c.get('x').gv(bR));var ck=Math.round(L.c.get('y').gv(bR));var cl=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var cm=2*cl;tab.RectXYUtil.unionInPlace$1(ci,cj-cl,ck-cl,cm,cm)}return z.polygonIntersectsRect(bQ,ci)}case'shapeIDFilledPlus':{var cn={x:0,y:0,w:0,h:0};{var co=Math.round(L.c.get('x').gv(bR));var cp=Math.round(L.c.get('y').gv(bR));var cq=Math.ceil(L.c.get('size').gv(bR)*0.9375/2);var cr=2*cq;tab.RectXYUtil.unionInPlace$1(cn,co-cq,cp-cq,cr,cr)}return z.polygonIntersectsRect(bQ,cn)}case'shapeIDTimes':{var cs={x:0,y:0,w:0,h:0};{var ct=Math.round(L.c.get('x').gv(bR));var cu=Math.round(L.c.get('y').gv(bR));var cv=Math.ceil(L.c.get('size').gv(bR)*0.875/2);var cw=2*cv;tab.RectXYUtil.unionInPlace$1(cs,ct-cv,cu-cv,cw,cw)}return z.polygonIntersectsRect(bQ,cs)}case'shapeIDFilledTimes':{var cx={x:0,y:0,w:0,h:0};{var cy=Math.round(L.c.get('x').gv(bR));var cz=Math.round(L.c.get('y').gv(bR));var cA=Math.ceil(L.c.get('size').gv(bR)*0.9375/2);var cB=2*cA;tab.RectXYUtil.unionInPlace$1(cx,cy-cA,cz-cA,cB,cB)}return z.polygonIntersectsRect(bQ,cx)}case'shapeIDDiamond':{var cC={x:0,y:0,w:0,h:0};{var cD=Math.round(L.c.get('x').gv(bR));var cE=Math.round(L.c.get('y').gv(bR));var cF=Math.ceil(L.c.get('size').gv(bR)*1.04166666666667/2);var cG=2*cF;tab.RectXYUtil.unionInPlace$1(cC,cD-cF,cE-cF,cG,cG)}return z.polygonIntersectsRect(bQ,cC)}case'shapeIDFilledDiamond':{var cH={x:0,y:0,w:0,h:0};{var cI=Math.round(L.c.get('x').gv(bR));var cJ=Math.round(L.c.get('y').gv(bR));var cK=Math.ceil(L.c.get('size').gv(bR)*1.04166666666667/2);var cL=2*cK;tab.RectXYUtil.unionInPlace$1(cH,cI-cK,cJ-cK,cL,cL)}return z.polygonIntersectsRect(bQ,cH)}case'shapeIDTriangle':{var cM={x:0,y:0,w:0,h:0};{var cN=Math.round(L.c.get('x').gv(bR));var cO=Math.round(L.c.get('y').gv(bR));var cP=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var cQ=2*cP;tab.RectXYUtil.unionInPlace$1(cM,cN-cP,cO-cP,cQ,cQ)}return z.polygonIntersectsRect(bQ,cM)}case'shapeIDFilledTriangle':{var cR={x:0,y:0,w:0,h:0};{var cS=Math.round(L.c.get('x').gv(bR));var cT=Math.round(L.c.get('y').gv(bR));var cU=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var cV=2*cU;tab.RectXYUtil.unionInPlace$1(cR,cS-cU,cT-cU,cV,cV)}return z.polygonIntersectsRect(bQ,cR)}case'shapeIDDownTriangle':{var cW={x:0,y:0,w:0,h:0};{var cX=Math.round(L.c.get('x').gv(bR));var cY=Math.round(L.c.get('y').gv(bR));var cZ=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var da=2*cZ;tab.RectXYUtil.unionInPlace$1(cW,cX-cZ,cY-cZ,da,da)}return z.polygonIntersectsRect(bQ,cW)}case'shapeIDFilledDownTriangle':{var db={x:0,y:0,w:0,h:0};{var dc=Math.round(L.c.get('x').gv(bR));var dd=Math.round(L.c.get('y').gv(bR));var de=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var df=2*de;tab.RectXYUtil.unionInPlace$1(db,dc-de,dd-de,df,df)}return z.polygonIntersectsRect(bQ,db)}case'shapeIDLeftTriangle':{var dg={x:0,y:0,w:0,h:0};{var dh=Math.round(L.c.get('x').gv(bR));var di=Math.round(L.c.get('y').gv(bR));var dj=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var dk=2*dj;tab.RectXYUtil.unionInPlace$1(dg,dh-dj,di-dj,dk,dk)}return z.polygonIntersectsRect(bQ,dg)}case'shapeIDFilledLeftTriangle':{var dl={x:0,y:0,w:0,h:0};{var dm=Math.round(L.c.get('x').gv(bR));var dn=Math.round(L.c.get('y').gv(bR));var dp=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var dq=2*dp;tab.RectXYUtil.unionInPlace$1(dl,dm-dp,dn-dp,dq,dq)}return z.polygonIntersectsRect(bQ,dl)}case'shapeIDRightTriangle':{var dr={x:0,y:0,w:0,h:0};{var ds=Math.round(L.c.get('x').gv(bR));var dt=Math.round(L.c.get('y').gv(bR));var du=Math.ceil(L.c.get('size').gv(bR)*0.895833333333333/2);var dv=2*du;tab.RectXYUtil.unionInPlace$1(dr,ds-du,dt-du,dv,dv)}return z.polygonIntersectsRect(bQ,dr)}case'shapeIDFilledRightTriangle':{var dw={x:0,y:0,w:0,h:0};{var dx=Math.round(L.c.get('x').gv(bR));var dy=Math.round(L.c.get('y').gv(bR));var dz=Math.ceil(L.c.get('size').gv(bR)*0.916666666666667/2);var dA=2*dz;tab.RectXYUtil.unionInPlace$1(dw,dx-dz,dy-dz,dA,dA)}return z.polygonIntersectsRect(bQ,dw)}case'shapeIDFilledStar':{var dB={x:0,y:0,w:0,h:0};{var dC=Math.round(L.c.get('x').gv(bR));var dD=Math.round(L.c.get('y').gv(bR));var dE=Math.ceil(L.c.get('size').gv(bR)*1.09166666666667/2);var dF=2*dE;tab.RectXYUtil.unionInPlace$1(dB,dC-dE,dD-dE,dF,dF)}return z.polygonIntersectsRect(bQ,dB)}default:{var dG=Math.round(L.c.get('x').gv(bR));var dH=Math.round(L.c.get('y').gv(bR));var dI=Math.ceil(L.c.get('size').gv(bR));var dJ=Math.ceil(dI/2);var dK={x:dG-dJ,y:dH-dJ,w:dI,h:dI};return z.polygonIntersectsRect(bQ,dK)}}};Z.renderMultipolygonMarkHoverOverlayImage=function(L,bQ,bR){var bS='empty';var bT=bQ.getMarkGeometry(bQ.c.get('geometry').gv(bR));if(ss.isValue(bT)){bS=bT.geometryType}switch(bS){case'multiPolygon':{{var bU=bQ.getMarkInstanceOffsets(bR);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Z.$c(L,bX);{var bY=Z.$d();if(!bQ.hasPixelGeometry){L.save();L.translate(bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR));L.scale(bQ.c.get('size').gv(bR),bQ.c.get('size').gv(bR))}tab.CanvasRenderer.createMultipolygonPath(L,bT);if(!bQ.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-bY);L.set_strokeStyle(bQ.c.get('selected_halo_color').gv(bR)['colorOverrideNone']);L.stroke()}if(bX!==0){L.restore()}}}break}case'multiLineString':{{var bZ=bQ.getMarkInstanceOffsets(bR);var ca=bZ.length;for(var cb=0;cb<ca;cb++){var cc=bZ[cb];Z.$c(L,cc);var cd='colorOverrideNone';if(!bQ.hasPixelGeometry){L.save();L.translate(bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR));L.scale(bQ.c.get('size').gv(bR),bQ.c.get('size').gv(bR))}tab.CanvasRenderer.createMultiLinePath(L,bT);if(!bQ.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,bQ.c.get('size').gv(bR)+3.5,bQ.c.get('selected_halo_color').gv(bR)[cd]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,bT.multiLine,bQ.c.get('size').gv(bR)+3.5,1.75,bQ.c.get('selected_halo_color').gv(bR)[cd]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,bQ.c.get('size').gv(bR),bQ.c.get('selected_halo_color').gv(bR)[cd])}if(cc!==0){L.restore()}}}break}case'multiPoint':{{var ce=bQ.getMarkInstanceOffsets(bR);var cf=ce.length;for(var cg=0;cg<cf;cg++){var ch=ce[cg];Z.$c(L,ch);{var ci=Z.$d();if(!bQ.hasPixelGeometry){L.save();L.translate(bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR));L.scale(bQ.c.get('size').gv(bR),bQ.c.get('size').gv(bR))}tab.CanvasRenderer.createMultipointPath(L,7,bT);if(!bQ.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-ci);L.set_strokeStyle(bQ.c.get('selected_halo_color').gv(bR)['colorOverrideNone']);L.stroke()}if(ch!==0){L.restore()}}}break}case'empty':{{var cj=bQ.getMarkInstanceOffsets(bR);var ck=cj.length;for(var cl=0;cl<ck;cl++){var cm=cj[cl];Z.$c(L,cm);{var cn=Z.$d();tab.CanvasRenderer.createPlaceholderPath(L,bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR),7);L.set_lineWidth(1.75-cn);L.set_strokeStyle(bQ.c.get('selected_halo_color').gv(bR)['colorOverrideNone']);L.stroke()}if(cm!==0){L.restore()}}}break}default:{break}}};Z.renderMultipolygonMarkPressedOverlayImage=function(L,bQ,bR){var bS='empty';var bT=bQ.getMarkGeometry(bQ.c.get('geometry').gv(bR));if(ss.isValue(bT)){bS=bT.geometryType}switch(bS){case'multiPolygon':{{var bU=bQ.getMarkInstanceOffsets(bR);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Z.$c(L,bX);{var bY=Z.$d();if(!bQ.hasPixelGeometry){L.save();L.translate(bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR));L.scale(bQ.c.get('size').gv(bR),bQ.c.get('size').gv(bR))}tab.CanvasRenderer.createMultipolygonPath(L,bT);if(!bQ.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-bY);L.set_strokeStyle(bQ.c.get('selected_halo_color').gv(bR)['colorOverrideNone']);L.stroke()}if(bX!==0){L.restore()}}}break}case'multiLineString':{{var bZ=bQ.getMarkInstanceOffsets(bR);var ca=bZ.length;for(var cb=0;cb<ca;cb++){var cc=bZ[cb];Z.$c(L,cc);var cd='colorOverrideNone';if(!bQ.hasPixelGeometry){L.save();L.translate(bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR));L.scale(bQ.c.get('size').gv(bR),bQ.c.get('size').gv(bR))}tab.CanvasRenderer.createMultiLinePath(L,bT);if(!bQ.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,bQ.c.get('size').gv(bR)+5,bQ.c.get('selected_halo_color').gv(bR)[cd]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,bT.multiLine,bQ.c.get('size').gv(bR)+5,2.5,bQ.c.get('selected_halo_color').gv(bR)[cd]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,bQ.c.get('size').gv(bR),bQ.c.get('selected_halo_color').gv(bR)[cd])}if(cc!==0){L.restore()}}}break}case'multiPoint':{{var ce=bQ.getMarkInstanceOffsets(bR);var cf=ce.length;for(var cg=0;cg<cf;cg++){var ch=ce[cg];Z.$c(L,ch);{var ci=Z.$d();if(!bQ.hasPixelGeometry){L.save();L.translate(bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR));L.scale(bQ.c.get('size').gv(bR),bQ.c.get('size').gv(bR))}tab.CanvasRenderer.createMultipointPath(L,7,bT);if(!bQ.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-ci);L.set_strokeStyle(bQ.c.get('selected_halo_color').gv(bR)['colorOverrideNone']);L.stroke()}if(ch!==0){L.restore()}}}break}case'empty':{{var cj=bQ.getMarkInstanceOffsets(bR);var ck=cj.length;for(var cl=0;cl<ck;cl++){var cm=cj[cl];Z.$c(L,cm);{var cn=Z.$d();tab.CanvasRenderer.createPlaceholderPath(L,bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR),7);L.set_lineWidth(2.5-cn);L.set_strokeStyle(bQ.c.get('selected_halo_color').gv(bR)['colorOverrideNone']);L.stroke()}if(cm!==0){L.restore()}}}break}default:{break}}};Z.renderAreaMarkHoverOverlayImage=function(L,bQ,bR){var bS=false;if(bR-1>0&&!bQ.isMarkEndPrimitive(bR-1)){bS=bS||bQ.isMarkHighlighted(bR-1)}if(bR+1<bQ.markCount&&!bQ.isMarkEndPrimitive(bR)){bS=bS||bQ.isMarkHighlighted(bR+1)}var bT;var bU=bQ.c.get('x').gv(bR);var bV=bQ.c.get('y').gv(bR);if(bQ.isMarkSelected(bR)){bT=bQ.c.get('selected_halo_color').gv(bR)['colorOverrideOpaque'];{var bW=bQ.c.get('draw_border').gv(bR);var bX=7+(bW?2:0);tab.CanvasRenderer.renderCircle(L,0+bU,0+bV,bX,bT,4)}bT=bQ.getMarkColors(bR)['colorOverrideOpaque'];{var bY=bQ.getMarkInstanceOffsets(bR);var bZ=bY.length;for(var ca=0;ca<bZ;ca++){var cb=bY[ca];Z.$c(L,cb);tab.CanvasRenderer.renderFilledCircle(L,0+bU,0+bV,7,bT);if(cb!==0){L.restore()}}}bU=bQ.c.get('x1').gv(bR);bV=bQ.c.get('y1').gv(bR);bT=bQ.c.get('selected_halo_color').gv(bR)['colorOverrideOpaque'];{var cc=bQ.c.get('draw_border').gv(bR);var cd=7+(cc?2:0);tab.CanvasRenderer.renderCircle(L,0+bU,0+bV,cd,bT,4)}bT=bQ.getMarkColors(bR)['colorOverrideOpaque'];{var ce=bQ.getMarkInstanceOffsets(bR);var cf=ce.length;for(var cg=0;cg<cf;cg++){var ch=ce[cg];Z.$c(L,ch);tab.CanvasRenderer.renderFilledCircle(L,0+bU,0+bV,7,bT);if(ch!==0){L.restore()}}}}else if(bQ.isMarkHighlighted(bR)&&!bS){bT=bQ.c.get('selected_multi_prim_halo_color').gv(bR)['colorOverrideNone'];{var ci=bQ.getMarkInstanceOffsets(bR);var cj=ci.length;for(var ck=0;ck<cj;ck++){var cl=ci[ck];Z.$c(L,cl);{var cm=bQ.c.get('draw_border').gv(bR);var cn=7+(cm?2:0);tab.CanvasRenderer.renderCircle(L,0+bU,0+bV,cn,bT,4)}if(cl!==0){L.restore()}}}bT=bQ.getMarkColors(bR)['colorOverrideNone'];{var co=bQ.getMarkInstanceOffsets(bR);var cp=co.length;for(var cq=0;cq<cp;cq++){var cr=co[cq];Z.$c(L,cr);tab.CanvasRenderer.renderFilledCircle(L,0+bU,0+bV,7,bT);if(cr!==0){L.restore()}}}bU=bQ.c.get('x1').gv(bR);bV=bQ.c.get('y1').gv(bR);bT=bQ.c.get('selected_multi_prim_halo_color').gv(bR)['colorOverrideNone'];{var cs=bQ.getMarkInstanceOffsets(bR);var ct=cs.length;for(var cu=0;cu<ct;cu++){var cv=cs[cu];Z.$c(L,cv);{var cw=bQ.c.get('draw_border').gv(bR);var cx=7+(cw?2:0);tab.CanvasRenderer.renderCircle(L,0+bU,0+bV,cx,bT,4)}if(cv!==0){L.restore()}}}bT=bQ.getMarkColors(bR)['colorOverrideNone'];{var cy=bQ.getMarkInstanceOffsets(bR);var cz=cy.length;for(var cA=0;cA<cz;cA++){var cB=cy[cA];Z.$c(L,cB);tab.CanvasRenderer.renderFilledCircle(L,0+bU,0+bV,7,bT);if(cB!==0){L.restore()}}}}else{bT=(bQ.drawBorder?bQ.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var cC=bQ.getMarkInstanceOffsets(bR);var cD=cC.length;for(var cE=0;cE<cD;cE++){var cF=cC[cE];Z.$c(L,cF);tab.CanvasRenderer.renderFilledCircle(L,0+bU,0+bV,5,bT);if(cF!==0){L.restore()}}}bU=bQ.c.get('x1').gv(bR);bV=bQ.c.get('y1').gv(bR);bT=(bQ.drawBorder?bQ.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var cG=bQ.getMarkInstanceOffsets(bR);var cH=cG.length;for(var cI=0;cI<cH;cI++){var cJ=cG[cI];Z.$c(L,cJ);tab.CanvasRenderer.renderFilledCircle(L,0+bU,0+bV,5,bT);if(cJ!==0){L.restore()}}}}};Z.renderAreaMarkPressedOverlayImage=function(L,bQ,bR){var bS=(bQ.drawBorder?bQ.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];var bT=bQ.c.get('x').gv(bR);var bU=bQ.c.get('y').gv(bR);{var bV=bQ.getMarkInstanceOffsets(bR);var bW=bV.length;for(var bX=0;bX<bW;bX++){var bY=bV[bX];Z.$c(L,bY);tab.CanvasRenderer.renderFilledCircle(L,0+bT,0+bU,7,bS);if(bY!==0){L.restore()}}}bT=bQ.c.get('x1').gv(bR);bU=bQ.c.get('y1').gv(bR);{var bZ=bQ.getMarkInstanceOffsets(bR);var ca=bZ.length;for(var cb=0;cb<ca;cb++){var cc=bZ[cb];Z.$c(L,cc);tab.CanvasRenderer.renderFilledCircle(L,0+bT,0+bU,7,bS);if(cc!==0){L.restore()}}}};Z.renderPieHoverOverlayImage=function(L,bQ,bR){var bS=bQ.getMarkInstanceOffsets(bR);var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU];Z.$c(L,bV);var bW=bQ.c.get('size').gv(bR)/2;var bX=bQ.c.get('draw_border').gv(bR);var bY=(!!bX?1:0);var bZ=bQ.c.get('selected_halo_color').gv(bR)['colorOverrideNone'];var ca=bQ.c.get('theta').gv(bR);var cb=bQ.c.get('theta1').gv(bR);var cc=ca>cb;if(Math.abs(ca-cb)>=1){tab.CanvasRenderer.renderCircle(L,bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR),(bW+bY)*2,bZ,1)}else{tab.CanvasRenderer.renderWedge(L,bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR),bW,ca,cb,bZ,1+bY,cc)}if(bV!==0){L.restore()}}};Z.renderPiePressedOverlayImage=function(L,bQ,bR){var bS=bQ.getMarkInstanceOffsets(bR);var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU];Z.$c(L,bV);var bW=bQ.c.get('size').gv(bR)/2;var bX=bQ.c.get('draw_border').gv(bR);var bY=(!!bX?1:0);var bZ=bQ.c.get('selected_halo_color').gv(bR)['colorOverrideNone'];var ca=bQ.c.get('theta').gv(bR);var cb=bQ.c.get('theta1').gv(bR);var cc=ca>cb;if(Math.abs(ca-cb)>=1){tab.CanvasRenderer.renderCircle(L,bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR),(bW+bY)*2,bZ,2)}else{tab.CanvasRenderer.renderWedge(L,bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR),bW,ca,cb,bZ,2+bY,cc)}if(bV!==0){L.restore()}}};Z.renderTextHoverOverlayImage=function(L,bQ,bR){if(!(bQ.clipCase!==0&&bQ.useCellClipForSelection)){{var bS=bQ.getMarkInstanceOffsets(bR);var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU];Z.$c(L,bV);var bW=-bQ.c.get('width').gv(bR)/2;var bX=bQ.c.get('height').gv(bR)/2-1;var bY=bQ.c.get('x').gv(bR)+bW;var bZ=bQ.c.get('y').gv(bR)+bX;var ca=bQ.c.get('x').gv(bR)+bQ.c.get('width').gv(bR)+bW;var cb=bQ.c.get('y').gv(bR)+bX;var cc=1;var cd=ca-bY;var ce=[bY,bZ+cc-1,bY+cd,bZ+cc-1];L.set_lineCap('square');L.set_lineWidth(cc);L.set_strokeStyle(bQ.getMarkColors(bR)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,ce,false,true);if(bV!==0){L.restore()}}}}if(bQ.clipCase!==0&&bQ.useCellClipForSelection){{var cf=bQ.getMarkInstanceOffsets(bR);var cg=cf.length;for(var ch=0;ch<cg;ch++){var ci=cf[ch];Z.$c(L,ci);{var cj=2;var ck=bQ.c.get('x').gv(bR)-bQ.c.get('clip_width').gv(bR)/2+cj;var cl=bQ.c.get('x').gv(bR)+bQ.c.get('clip_width').gv(bR)/2-cj;var cm=bQ.c.get('y').gv(bR)-bQ.c.get('clip_height').gv(bR)/2+cj;var cn=bQ.c.get('y').gv(bR)+bQ.c.get('clip_height').gv(bR)/2-cj;Z.$3(L,bQ,bR,ck,cl,cm,cn,bQ.getMarkColors(bR),!!false,Math.floor(1))}if(ci!==0){L.restore()}}}}};Z.renderTextPressedOverlayImage=function(L,bQ,bR){if(!(bQ.clipCase!==0&&bQ.useCellClipForSelection)){{var bS=bQ.getMarkInstanceOffsets(bR);var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU];Z.$c(L,bV);var bW=-bQ.c.get('width').gv(bR)/2;var bX=bQ.c.get('height').gv(bR)/2-1;var bY=bQ.c.get('x').gv(bR)+bW;var bZ=bQ.c.get('y').gv(bR)+bX;var ca=bQ.c.get('x').gv(bR)+bQ.c.get('width').gv(bR)+bW;var cb=bQ.c.get('y').gv(bR)+bX;var cc=2;var cd=ca-bY;var ce=[bY,bZ+cc-1,bY+cd,bZ+cc-1];L.set_lineCap('square');L.set_lineWidth(cc);L.set_strokeStyle(bQ.getMarkColors(bR)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,ce,false,true);if(bV!==0){L.restore()}}}}if(bQ.clipCase!==0&&bQ.useCellClipForSelection){{var cf=bQ.getMarkInstanceOffsets(bR);var cg=cf.length;for(var ch=0;ch<cg;ch++){var ci=cf[ch];Z.$c(L,ci);{var cj=2;var ck=bQ.c.get('x').gv(bR)-bQ.c.get('clip_width').gv(bR)/2+cj;var cl=bQ.c.get('x').gv(bR)+bQ.c.get('clip_width').gv(bR)/2-cj;var cm=bQ.c.get('y').gv(bR)-bQ.c.get('clip_height').gv(bR)/2+cj;var cn=bQ.c.get('y').gv(bR)+bQ.c.get('clip_height').gv(bR)/2-cj;Z.$3(L,bQ,bR,ck,cl,cm,cn,bQ.getMarkColors(bR),!!false,Math.floor(2))}if(ci!==0){L.restore()}}}}};Z.renderBarHoverOverlayImage=function(L,bQ,bR){var bS=ss.Int32.trunc(bQ.c.get('size').gv(bR)+0.5)/2;var bT=1;if(bQ.scaleMarksInX&&bQ.scaleMarksInY){{var bU=bQ.getMarkInstanceOffsets(bR);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Z.$c(L,bX);{var bY=0;var bZ=bQ.c.get('x').gv(bR)+bY;var ca=bQ.c.get('x1').gv(bR)-bY;var cb=bQ.c.get('y').gv(bR)+bY;var cc=bQ.c.get('y1').gv(bR)-bY;Z.$3(L,bQ,bR,bZ,ca,cb,cc,bQ.c.get('selected_halo_color').gv(bR),!!false,Math.floor(bT))}if(bX!==0){L.restore()}}}}if(!bQ.scaleMarksInX&&bQ.scaleMarksInY){{var cd=bQ.getMarkInstanceOffsets(bR);var ce=cd.length;for(var cf=0;cf<ce;cf++){var cg=cd[cf];Z.$c(L,cg);{var ch=0;var ci=bQ.c.get('x').gv(bR)-bS+ch;var cj=bQ.c.get('x').gv(bR)+bS-ch;var ck=bQ.c.get('y').gv(bR)+ch;var cl=bQ.c.get('y1').gv(bR)-ch;Z.$3(L,bQ,bR,ci,cj,ck,cl,bQ.c.get('selected_halo_color').gv(bR),!!false,Math.floor(bT))}if(cg!==0){L.restore()}}}}if(bQ.scaleMarksInX&&!bQ.scaleMarksInY){{var cm=bQ.getMarkInstanceOffsets(bR);var cn=cm.length;for(var co=0;co<cn;co++){var cp=cm[co];Z.$c(L,cp);{var cq=0;var cr=bQ.c.get('x').gv(bR)+cq;var cs=bQ.c.get('x1').gv(bR)-cq;var ct=bQ.c.get('y').gv(bR)-bS+cq;var cu=bQ.c.get('y').gv(bR)+bS-cq;Z.$3(L,bQ,bR,cr,cs,ct,cu,bQ.c.get('selected_halo_color').gv(bR),!!false,Math.floor(bT))}if(cp!==0){L.restore()}}}}if(!bQ.scaleMarksInX&&!bQ.scaleMarksInY){{var cv=bQ.getMarkInstanceOffsets(bR);var cw=cv.length;for(var cx=0;cx<cw;cx++){var cy=cv[cx];Z.$c(L,cy);{var cz=0;var cA=bQ.c.get('x').gv(bR)-bS+cz;var cB=bQ.c.get('x').gv(bR)+bS-cz;var cC=bQ.c.get('y').gv(bR)-bS+cz;var cD=bQ.c.get('y').gv(bR)+bS-cz;Z.$3(L,bQ,bR,cA,cB,cC,cD,bQ.c.get('selected_halo_color').gv(bR),!!true,Math.floor(bT))}if(cy!==0){L.restore()}}}}};Z.renderBarPressedOverlayImage=function(L,bQ,bR){var bS=ss.Int32.trunc(bQ.c.get('size').gv(bR)+0.5)/2;var bT=2;if(bQ.scaleMarksInX&&bQ.scaleMarksInY){{var bU=bQ.getMarkInstanceOffsets(bR);var bV=bU.length;for(var bW=0;bW<bV;bW++){var bX=bU[bW];Z.$c(L,bX);{var bY=0;var bZ=bQ.c.get('x').gv(bR)+bY;var ca=bQ.c.get('x1').gv(bR)-bY;var cb=bQ.c.get('y').gv(bR)+bY;var cc=bQ.c.get('y1').gv(bR)-bY;Z.$3(L,bQ,bR,bZ,ca,cb,cc,bQ.c.get('selected_halo_color').gv(bR),!!false,Math.floor(bT))}if(bX!==0){L.restore()}}}}if(!bQ.scaleMarksInX&&bQ.scaleMarksInY){{var cd=bQ.getMarkInstanceOffsets(bR);var ce=cd.length;for(var cf=0;cf<ce;cf++){var cg=cd[cf];Z.$c(L,cg);{var ch=0;var ci=bQ.c.get('x').gv(bR)-bS+ch;var cj=bQ.c.get('x').gv(bR)+bS-ch;var ck=bQ.c.get('y').gv(bR)+ch;var cl=bQ.c.get('y1').gv(bR)-ch;Z.$3(L,bQ,bR,ci,cj,ck,cl,bQ.c.get('selected_halo_color').gv(bR),!!false,Math.floor(bT))}if(cg!==0){L.restore()}}}}if(bQ.scaleMarksInX&&!bQ.scaleMarksInY){{var cm=bQ.getMarkInstanceOffsets(bR);var cn=cm.length;for(var co=0;co<cn;co++){var cp=cm[co];Z.$c(L,cp);{var cq=0;var cr=bQ.c.get('x').gv(bR)+cq;var cs=bQ.c.get('x1').gv(bR)-cq;var ct=bQ.c.get('y').gv(bR)-bS+cq;var cu=bQ.c.get('y').gv(bR)+bS-cq;Z.$3(L,bQ,bR,cr,cs,ct,cu,bQ.c.get('selected_halo_color').gv(bR),!!false,Math.floor(bT))}if(cp!==0){L.restore()}}}}if(!bQ.scaleMarksInX&&!bQ.scaleMarksInY){{var cv=bQ.getMarkInstanceOffsets(bR);var cw=cv.length;for(var cx=0;cx<cw;cx++){var cy=cv[cx];Z.$c(L,cy);{var cz=0;var cA=bQ.c.get('x').gv(bR)-bS+cz;var cB=bQ.c.get('x').gv(bR)+bS-cz;var cC=bQ.c.get('y').gv(bR)-bS+cz;var cD=bQ.c.get('y').gv(bR)+bS-cz;Z.$3(L,bQ,bR,cA,cB,cC,cD,bQ.c.get('selected_halo_color').gv(bR),!!true,Math.floor(bT))}if(cy!==0){L.restore()}}}}};Z.renderLineMarkHoverOverlayImage=function(L,bQ,bR){var bS=false;if(bR-1>0&&!bQ.isMarkEndPrimitive(bR-1)){bS=bS||bQ.isMarkHighlighted(bR-1)}if(bR+1<bQ.markCount&&!bQ.isMarkEndPrimitive(bR)){bS=bS||bQ.isMarkHighlighted(bR+1)}var bT;var bU=bQ.c.get('x').gv(bR);var bV=bQ.c.get('y').gv(bR);if(bQ.isMarkSelected(bR)){bT=bQ.c.get('selected_halo_color').gv(bR)['colorOverrideOpaque'];{var bW=bQ.c.get('draw_border').gv(bR);var bX=bQ.c.get('size').gv(bR)+4+4+(bW?2:0);tab.CanvasRenderer.renderCircle(L,0+bU,0+bV,bX,bT,4)}bT=bQ.getMarkColors(bR)['colorOverrideOpaque'];{var bY=bQ.getMarkInstanceOffsets(bR);var bZ=bY.length;for(var ca=0;ca<bZ;ca++){var cb=bY[ca];Z.$c(L,cb);tab.CanvasRenderer.renderFilledCircle(L,0+bU,0+bV,bQ.c.get('size').gv(bR)+4+4,bT);if(cb!==0){L.restore()}}}}else if(bQ.isMarkHighlighted(bR)&&!bS){bT=bQ.c.get('selected_multi_prim_halo_color').gv(bR)['colorOverrideNone'];{var cc=bQ.getMarkInstanceOffsets(bR);var cd=cc.length;for(var ce=0;ce<cd;ce++){var cf=cc[ce];Z.$c(L,cf);{var cg=bQ.c.get('draw_border').gv(bR);var ch=bQ.c.get('size').gv(bR)+4+4+(cg?2:0);tab.CanvasRenderer.renderCircle(L,0+bU,0+bV,ch,bT,4)}if(cf!==0){L.restore()}}}bT=bQ.getMarkColors(bR)['colorOverrideNone'];{var ci=bQ.getMarkInstanceOffsets(bR);var cj=ci.length;for(var ck=0;ck<cj;ck++){var cl=ci[ck];Z.$c(L,cl);tab.CanvasRenderer.renderFilledCircle(L,0+bU,0+bV,bQ.c.get('size').gv(bR)+4+4,bT);if(cl!==0){L.restore()}}}}else{bT=bQ.getMarkColors(bR)['colorOverrideNone'];{var cm=bQ.getMarkInstanceOffsets(bR);var cn=cm.length;for(var co=0;co<cn;co++){var cp=cm[co];Z.$c(L,cp);tab.CanvasRenderer.renderFilledCircle(L,0+bU,0+bV,bQ.c.get('size').gv(bR)+4,bT);if(cp!==0){L.restore()}}}}};Z.renderLineMarkPressedOverlayImage=function(L,bQ,bR){var bS=bQ.getMarkColors(bR)['colorOverrideNone'];var bT=bQ.c.get('x').gv(bR);var bU=bQ.c.get('y').gv(bR);{var bV=bQ.getMarkInstanceOffsets(bR);var bW=bV.length;for(var bX=0;bX<bW;bX++){var bY=bV[bX];Z.$c(L,bY);tab.CanvasRenderer.renderFilledCircle(L,0+bT,0+bU,bQ.c.get('size').gv(bR)+8,bS);if(bY!==0){L.restore()}}}};Z.shapeHasLayerContent=function(L,bQ){var bR=false;switch(L){case'shapeIDCircle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledCircle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDSquare':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledSquare':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDAsterisk':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDPlus':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledPlus':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDTimes':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledTimes':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDDiamond':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledDiamond':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDTriangle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledTriangle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDDownTriangle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDLeftTriangle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDRightTriangle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}case'shapeIDFilledStar':{switch(bQ){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bR=true;break}default:{break}}break}default:{bR=true;break}}return bR};Z.getShapeMarkSpriteSize=function(L,bQ,bR){var bS=0;switch(L){case'shapeIDCircle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+6);break}case'pressedOverlay':{bS=Math.ceil(bR+8);break}default:{break}}break}case'shapeIDFilledCircle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'border':{bS=Math.ceil(bR+2);break}case'hoverOverlay':{bS=Math.ceil(bR+2);break}case'pressedOverlay':{bS=Math.ceil(bR+6);break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'border':{bS=Math.ceil(bR+2);break}case'hoverOverlay':{bS=Math.ceil(bR+4);break}case'pressedOverlay':{bS=Math.ceil(bR+6);break}default:{break}}break}case'shapeIDSquare':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+4);break}case'pressedOverlay':{bS=Math.ceil(bR+6);break}default:{break}}break}case'shapeIDFilledSquare':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'border':{bS=Math.ceil(bR+2);break}case'hoverOverlay':{bS=Math.ceil(bR+2);break}case'pressedOverlay':{bS=Math.ceil(bR+4);break}default:{break}}break}case'shapeIDAsterisk':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+6);break}case'pressedOverlay':{bS=Math.ceil(bR+8);break}default:{break}}break}case'shapeIDPlus':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+4);break}case'pressedOverlay':{bS=Math.ceil(bR+6);break}default:{break}}break}case'shapeIDFilledPlus':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+3);break}case'pressedOverlay':{bS=Math.ceil(bR+5);break}default:{break}}break}case'shapeIDTimes':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+4);break}case'pressedOverlay':{bS=Math.ceil(bR+6);break}default:{break}}break}case'shapeIDFilledTimes':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+4);break}case'pressedOverlay':{bS=Math.ceil(bR+6);break}default:{break}}break}case'shapeIDDiamond':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+6);break}case'pressedOverlay':{bS=Math.ceil(bR+8);break}default:{break}}break}case'shapeIDFilledDiamond':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+5);break}case'pressedOverlay':{bS=Math.ceil(bR+7);break}default:{break}}break}case'shapeIDTriangle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+6);break}case'pressedOverlay':{bS=Math.ceil(bR+8);break}default:{break}}break}case'shapeIDFilledTriangle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+2);break}case'pressedOverlay':{bS=Math.ceil(bR+4);break}default:{break}}break}case'shapeIDDownTriangle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+4);break}case'pressedOverlay':{bS=Math.ceil(bR+4);break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+2);break}case'pressedOverlay':{bS=Math.ceil(bR+4);break}default:{break}}break}case'shapeIDLeftTriangle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+4);break}case'pressedOverlay':{bS=Math.ceil(bR+4);break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+2);break}case'pressedOverlay':{bS=Math.ceil(bR+4);break}default:{break}}break}case'shapeIDRightTriangle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+4);break}case'pressedOverlay':{bS=Math.ceil(bR+6);break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+4);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+4);break}case'hoverOverlay':{bS=Math.ceil(bR+2);break}case'pressedOverlay':{bS=Math.ceil(bR+4);break}default:{break}}break}case'shapeIDFilledStar':{switch(bQ){case'normalUnder':{bS=Math.ceil(bR+6);break}case'normalOn':{bS=Math.ceil(bR+2);break}case'selectedUnder':{bS=Math.ceil(bR+6);break}case'hoverOverlay':{bS=Math.ceil(bR+10);break}case'pressedOverlay':{bS=Math.ceil(bR+14);break}default:{break}}break}default:{break}}return bS};Z.renderShapeHoverOverlayImage=function(L,bQ,bR){var bS=bQ.c.get('shape_id').gv(bR);var bT=bQ.c.get('x').gv(bR);var bU=bQ.c.get('y').gv(bR);if(bQ.shouldStampThisShapeMark(bR)){var bV=bQ.c.get('size').gv(bR);var bW=Z.getShapeMarkSpriteSize(bS,'normalOn',bV)+2;var bX=bW/2;bT=(bT-bX+0.5<<0)+bX;bU=(bU-bX+0.5<<0)+bX}switch(bS){case'shapeIDCircle':{Z.renderShapeIDCircleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledCircle':{Z.renderShapeIDFilledCircleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDUnscaledFilledCircle':{Z.renderShapeIDUnscaledFilledCircleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDSquare':{Z.renderShapeIDSquareHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledSquare':{Z.renderShapeIDFilledSquareHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDAsterisk':{Z.renderShapeIDAsteriskHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDPlus':{Z.renderShapeIDPlusHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledPlus':{Z.renderShapeIDFilledPlusHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDTimes':{Z.renderShapeIDTimesHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledTimes':{Z.renderShapeIDFilledTimesHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDDiamond':{Z.renderShapeIDDiamondHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledDiamond':{Z.renderShapeIDFilledDiamondHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDTriangle':{Z.renderShapeIDTriangleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledTriangle':{Z.renderShapeIDFilledTriangleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDDownTriangle':{Z.renderShapeIDDownTriangleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledDownTriangle':{Z.renderShapeIDFilledDownTriangleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDLeftTriangle':{Z.renderShapeIDLeftTriangleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledLeftTriangle':{Z.renderShapeIDFilledLeftTriangleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDRightTriangle':{Z.renderShapeIDRightTriangleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledRightTriangle':{Z.renderShapeIDFilledRightTriangleHoverOverlayImage(L,bQ,bT,bU,bR);break}case'shapeIDFilledStar':{Z.renderShapeIDFilledStarHoverOverlayImage(L,bQ,bT,bU,bR);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(bS))){var bY=bQ.getMarkInstanceOffsets(bR);var bZ=bY.length;for(var ca=0;ca<bZ;ca++){var cb=bY[ca];if(cb!==0){L.save();L.translate(cb,0)}Z.$a(L,bQ,bR,'hoverOverlay','colorOverrideNone');if(cb!==0){L.restore()}}}else{Z.renderShapeIDCircleHoverOverlayImage(L,bQ,bT,bU,bR)}break}}};Z.renderShapePressedOverlayImage=function(L,bQ,bR){var bS=bQ.getMarkIndexFromTupleId(bR);var bT=bQ.c.get('shape_id').gv(bS);var bU=bQ.c.get('x').gv(bS);var bV=bQ.c.get('y').gv(bS);if(bQ.shouldStampThisShapeMark(bS)){var bW=bQ.c.get('size').gv(bS);var bX=Z.getShapeMarkSpriteSize(bT,'normalOn',bW)+2;var bY=bX/2;bU=(bU-bY+0.5<<0)+bY;bV=(bV-bY+0.5<<0)+bY}switch(bT){case'shapeIDCircle':{Z.renderShapeIDCirclePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledCircle':{Z.renderShapeIDFilledCirclePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDUnscaledFilledCircle':{Z.renderShapeIDUnscaledFilledCirclePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDSquare':{Z.renderShapeIDSquarePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledSquare':{Z.renderShapeIDFilledSquarePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDAsterisk':{Z.renderShapeIDAsteriskPressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDPlus':{Z.renderShapeIDPlusPressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledPlus':{Z.renderShapeIDFilledPlusPressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDTimes':{Z.renderShapeIDTimesPressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledTimes':{Z.renderShapeIDFilledTimesPressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDDiamond':{Z.renderShapeIDDiamondPressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledDiamond':{Z.renderShapeIDFilledDiamondPressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDTriangle':{Z.renderShapeIDTrianglePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledTriangle':{Z.renderShapeIDFilledTrianglePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDDownTriangle':{Z.renderShapeIDDownTrianglePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledDownTriangle':{Z.renderShapeIDFilledDownTrianglePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDLeftTriangle':{Z.renderShapeIDLeftTrianglePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledLeftTriangle':{Z.renderShapeIDFilledLeftTrianglePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDRightTriangle':{Z.renderShapeIDRightTrianglePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledRightTriangle':{Z.renderShapeIDFilledRightTrianglePressedOverlayImage(L,bQ,bU,bV,bS);break}case'shapeIDFilledStar':{Z.renderShapeIDFilledStarPressedOverlayImage(L,bQ,bU,bV,bS);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(bT))){var bZ=bQ.getMarkInstanceOffsets(bS);var ca=bZ.length;for(var cb=0;cb<ca;cb++){var cc=bZ[cb];if(cc!==0){L.save();L.translate(cc,0)}Z.$a(L,bQ,bS,'pressedOverlay','colorOverrideNone');if(cc!==0){L.restore()}}}else{Z.renderShapeIDCirclePressedOverlayImage(L,bQ,bU,bV,bS)}break}}};Z.renderShapeIDCircleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=bQ.c.get('draw_border').gv(bT);var cc=bQ.c.get('size').gv(bT)*0.958333333333333+2+(cb?2:0);tab.CanvasRenderer.renderCircle(L,0+bV,0+bW,cc,bU,1)}if(ca!==0){L.restore()}}}};Z.renderShapeIDCirclePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=bQ.c.get('draw_border').gv(bT);var cc=bQ.c.get('size').gv(bT)*0.958333333333333+3+(cb?2:0);tab.CanvasRenderer.renderCircle(L,0+bV,0+bW,cc,bU,2)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledCircleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=bQ.c.get('draw_border').gv(bT);var cc=bQ.c.get('size').gv(bT)*0.979166666666667+(cb?2:0);tab.CanvasRenderer.renderCircle(L,0+bV,0+bW,cc,bU,1)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledCirclePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=bQ.c.get('draw_border').gv(bT);var cc=bQ.c.get('size').gv(bT)*0.979166666666667+1+(cb?2:0);tab.CanvasRenderer.renderCircle(L,0+bV,0+bW,cc,bU,2)}if(ca!==0){L.restore()}}}};Z.renderShapeIDUnscaledFilledCircleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=bQ.c.get('draw_border').gv(bT);var cc=bQ.c.get('size').gv(bT)+(cb?2:0);tab.CanvasRenderer.renderCircle(L,0+bV,0+bW,cc,bU,1)}if(ca!==0){L.restore()}}}};Z.renderShapeIDUnscaledFilledCirclePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=bQ.c.get('draw_border').gv(bT);var cc=bQ.c.get('size').gv(bT)+1+(cb?2:0);tab.CanvasRenderer.renderCircle(L,0+bV,0+bW,cc,bU,2)}if(ca!==0){L.restore()}}}};Z.renderShapeIDSquareHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);tab.CanvasRenderer.renderRectangle(L,bV+0,bW+0,bQ.c.get('size').gv(bT)*0.895833333333333+3,bQ.c.get('size').gv(bT)*0.895833333333333+3,bU,1);if(ca!==0){L.restore()}}}};Z.renderShapeIDSquarePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);tab.CanvasRenderer.renderRectangle(L,bV+0,bW+0,bQ.c.get('size').gv(bT)*0.895833333333333+4,bQ.c.get('size').gv(bT)*0.895833333333333+4,bU,2);if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledSquareHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);tab.CanvasRenderer.renderRectangle(L,bV+0,bW+0,bQ.c.get('size').gv(bT)*0.9375+1,bQ.c.get('size').gv(bT)*0.9375+1,bU,1);if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledSquarePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);tab.CanvasRenderer.renderRectangle(L,bV+0,bW+0,bQ.c.get('size').gv(bT)*0.9375+2,bQ.c.get('size').gv(bT)*0.9375+2,bU,2);if(ca!==0){L.restore()}}}};Z.renderShapeIDAsteriskHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(36);var cc=(bQ.c.get('size').gv(bT)*0.958333333333333+2)/2;var cd=0.899999976158142*cc;var ce=(bQ.c.get('size').gv(bT)*0.958333333333333+6)/4;var cf=2.5;var cg=1.5;cb[0]=-cf+bV;cb[1]=0+bW;cb[2]=-cd+bV;cb[3]=ce-cf+bW;cb[4]=cg-cd+bV;cb[5]=ce+bW;cb[6]=-cg+bV;cb[7]=cf+bW;cb[8]=-cg+bV;cb[9]=cc+bW;cb[10]=cg+bV;cb[11]=cc+bW;cb[12]=cg+bV;cb[13]=cf+bW;cb[14]=cd-cg+bV;cb[15]=ce+bW;cb[16]=cd+bV;cb[17]=ce-cf+bW;cb[18]=cf+bV;cb[19]=0+bW;cb[20]=cd+bV;cb[21]=cf-ce+bW;cb[22]=cd-cg+bV;cb[23]=-ce+bW;cb[24]=cg+bV;cb[25]=-cf+bW;cb[26]=cg+bV;cb[27]=-cc+bW;cb[28]=-cg+bV;cb[29]=-cc+bW;cb[30]=-cg+bV;cb[31]=-cf+bW;cb[32]=cg-cd+bV;cb[33]=-ce+bW;cb[34]=-cd+bV;cb[35]=cf-ce+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDAsteriskPressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(36);var cc=(bQ.c.get('size').gv(bT)*0.958333333333333+4)/2;var cd=0.899999976158142*cc;var ce=(bQ.c.get('size').gv(bT)*0.958333333333333+8)/4;var cf=3;var cg=2;cb[0]=-cf+bV;cb[1]=0+bW;cb[2]=-cd+bV;cb[3]=ce-cf+bW;cb[4]=cg-cd+bV;cb[5]=ce+bW;cb[6]=-cg+bV;cb[7]=cf+bW;cb[8]=-cg+bV;cb[9]=cc+bW;cb[10]=cg+bV;cb[11]=cc+bW;cb[12]=cg+bV;cb[13]=cf+bW;cb[14]=cd-cg+bV;cb[15]=ce+bW;cb[16]=cd+bV;cb[17]=ce-cf+bW;cb[18]=cf+bV;cb[19]=0+bW;cb[20]=cd+bV;cb[21]=cf-ce+bW;cb[22]=cd-cg+bV;cb[23]=-ce+bW;cb[24]=cg+bV;cb[25]=-cf+bW;cb[26]=cg+bV;cb[27]=-cc+bW;cb[28]=-cg+bV;cb[29]=-cc+bW;cb[30]=-cg+bV;cb[31]=-cf+bW;cb[32]=cg-cd+bV;cb[33]=-ce+bW;cb[34]=-cd+bV;cb[35]=cf-ce+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDPlusHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(24);var cc=(bQ.c.get('size').gv(bT)*0.916666666666667+2)/2;var cd=1.5;cb[0]=-cd+bV;cb[1]=-cc+bW;cb[2]=-cd+bV;cb[3]=-cd+bW;cb[4]=-cc+bV;cb[5]=-cd+bW;cb[6]=-cc+bV;cb[7]=cd+bW;cb[8]=-cd+bV;cb[9]=cd+bW;cb[10]=-cd+bV;cb[11]=cc+bW;cb[12]=cd+bV;cb[13]=cc+bW;cb[14]=cd+bV;cb[15]=cd+bW;cb[16]=cc+bV;cb[17]=cd+bW;cb[18]=cc+bV;cb[19]=-cd+bW;cb[20]=cd+bV;cb[21]=-cd+bW;cb[22]=cd+bV;cb[23]=-cc+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDPlusPressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(24);var cc=(bQ.c.get('size').gv(bT)*0.916666666666667+3)/2;var cd=2;cb[0]=-cd+bV;cb[1]=-cc+bW;cb[2]=-cd+bV;cb[3]=-cd+bW;cb[4]=-cc+bV;cb[5]=-cd+bW;cb[6]=-cc+bV;cb[7]=cd+bW;cb[8]=-cd+bV;cb[9]=cd+bW;cb[10]=-cd+bV;cb[11]=cc+bW;cb[12]=cd+bV;cb[13]=cc+bW;cb[14]=cd+bV;cb[15]=cd+bW;cb[16]=cc+bV;cb[17]=cd+bW;cb[18]=cc+bV;cb[19]=-cd+bW;cb[20]=cd+bV;cb[21]=-cd+bW;cb[22]=cd+bV;cb[23]=-cc+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledPlusHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(24);var cc=bQ.c.get('size').gv(bT)*0.9375/2;var cd=cc/3;cb[0]=-cd+bV;cb[1]=-cc+bW;cb[2]=-cd+bV;cb[3]=-cd+bW;cb[4]=-cc+bV;cb[5]=-cd+bW;cb[6]=-cc+bV;cb[7]=cd+bW;cb[8]=-cd+bV;cb[9]=cd+bW;cb[10]=-cd+bV;cb[11]=cc+bW;cb[12]=cd+bV;cb[13]=cc+bW;cb[14]=cd+bV;cb[15]=cd+bW;cb[16]=cc+bV;cb[17]=cd+bW;cb[18]=cc+bV;cb[19]=-cd+bW;cb[20]=cd+bV;cb[21]=-cd+bW;cb[22]=cd+bV;cb[23]=-cc+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledPlusPressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(24);var cc=(bQ.c.get('size').gv(bT)*0.9375+1)/2;var cd=(bQ.c.get('size').gv(bT)*0.9375+3)/6;cb[0]=-cd+bV;cb[1]=-cc+bW;cb[2]=-cd+bV;cb[3]=-cd+bW;cb[4]=-cc+bV;cb[5]=-cd+bW;cb[6]=-cc+bV;cb[7]=cd+bW;cb[8]=-cd+bV;cb[9]=cd+bW;cb[10]=-cd+bV;cb[11]=cc+bW;cb[12]=cd+bV;cb[13]=cc+bW;cb[14]=cd+bV;cb[15]=cd+bW;cb[16]=cc+bV;cb[17]=cd+bW;cb[18]=cc+bV;cb[19]=-cd+bW;cb[20]=cd+bV;cb[21]=-cd+bW;cb[22]=cd+bV;cb[23]=-cc+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDTimesHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(24);var cc=(bQ.c.get('size').gv(bT)*0.875+4)/2;var cd=2;cb[0]=-cc+cd+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=-cc+cd+bW;cb[4]=-cd+bV;cb[5]=0+bW;cb[6]=-cc+bV;cb[7]=cc-cd+bW;cb[8]=-cc+cd+bV;cb[9]=cc+bW;cb[10]=0+bV;cb[11]=cd+bW;cb[12]=cc-cd+bV;cb[13]=cc+bW;cb[14]=cc+bV;cb[15]=cc-cd+bW;cb[16]=cd+bV;cb[17]=0+bW;cb[18]=cc+bV;cb[19]=-cc+cd+bW;cb[20]=cc-cd+bV;cb[21]=-cc+bW;cb[22]=0+bV;cb[23]=-cd+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDTimesPressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(24);var cc=(bQ.c.get('size').gv(bT)*0.875+4)/2;var cd=3;cb[0]=-cc+cd+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=-cc+cd+bW;cb[4]=-cd+bV;cb[5]=0+bW;cb[6]=-cc+bV;cb[7]=cc-cd+bW;cb[8]=-cc+cd+bV;cb[9]=cc+bW;cb[10]=0+bV;cb[11]=cd+bW;cb[12]=cc-cd+bV;cb[13]=cc+bW;cb[14]=cc+bV;cb[15]=cc-cd+bW;cb[16]=cd+bV;cb[17]=0+bW;cb[18]=cc+bV;cb[19]=-cc+cd+bW;cb[20]=cc-cd+bV;cb[21]=-cc+bW;cb[22]=0+bV;cb[23]=-cd+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledTimesHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(24);var cc=bQ.c.get('size').gv(bT)*0.9375/2;var cd=bQ.c.get('size').gv(bT)*0.9375/4;cb[0]=-cd+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=-cd+bW;cb[4]=-cd+bV;cb[5]=0+bW;cb[6]=-cc+bV;cb[7]=cd+bW;cb[8]=-cd+bV;cb[9]=cc+bW;cb[10]=0+bV;cb[11]=cd+bW;cb[12]=cd+bV;cb[13]=cc+bW;cb[14]=cc+bV;cb[15]=cd+bW;cb[16]=cd+bV;cb[17]=0+bW;cb[18]=cc+bV;cb[19]=-cd+bW;cb[20]=cd+bV;cb[21]=-cc+bW;cb[22]=0+bV;cb[23]=-cd+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledTimesPressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(24);var cc=bQ.c.get('size').gv(bT)*0.9375/2;var cd=bQ.c.get('size').gv(bT)*0.9375/4;cb[0]=-cd+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=-cd+bW;cb[4]=-cd+bV;cb[5]=0+bW;cb[6]=-cc+bV;cb[7]=cd+bW;cb[8]=-cd+bV;cb[9]=cc+bW;cb[10]=0+bV;cb[11]=cd+bW;cb[12]=cd+bV;cb[13]=cc+bW;cb[14]=cc+bV;cb[15]=cd+bW;cb[16]=cd+bV;cb[17]=0+bW;cb[18]=cc+bV;cb[19]=-cd+bW;cb[20]=cd+bV;cb[21]=-cc+bW;cb[22]=0+bV;cb[23]=-cd+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDDiamondHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(8);var cc=(bQ.c.get('size').gv(bT)*1.04166666666667+3)/2;cb[0]=0+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=0+bW;cb[4]=0+bV;cb[5]=cc+bW;cb[6]=cc+bV;cb[7]=0+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDDiamondPressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(8);var cc=(bQ.c.get('size').gv(bT)*1.04166666666667+4)/2;cb[0]=0+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=0+bW;cb[4]=0+bV;cb[5]=cc+bW;cb[6]=cc+bV;cb[7]=0+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledDiamondHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(8);var cc=bQ.c.get('size').gv(bT)*1.04166666666667/2;cb[0]=0+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=0+bW;cb[4]=0+bV;cb[5]=cc+bW;cb[6]=cc+bV;cb[7]=0+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledDiamondPressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(8);var cc=(bQ.c.get('size').gv(bT)*1.04166666666667+2)/2;cb[0]=0+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=0+bW;cb[4]=0+bV;cb[5]=cc+bW;cb[6]=cc+bV;cb[7]=0+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDTriangleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.895833333333333+3)/2;var cd=(bQ.c.get('size').gv(bT)*0.895833333333333+6)/2;cb[0]=0+bV;cb[1]=-cd+bW;cb[2]=-cc+bV;cb[3]=cc+bW;cb[4]=cc+bV;cb[5]=cc+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDTrianglePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.895833333333333+4)/2;var cd=(bQ.c.get('size').gv(bT)*0.895833333333333+8)/2;cb[0]=0+bV;cb[1]=-cd+bW;cb[2]=-cc+bV;cb[3]=cc+bW;cb[4]=cc+bV;cb[5]=cc+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledTriangleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=bQ.c.get('size').gv(bT)*0.916666666666667/2;cb[0]=0+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=cc+bW;cb[4]=cc+bV;cb[5]=cc+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledTrianglePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.916666666666667+1)/2;cb[0]=0+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=cc+bW;cb[4]=cc+bV;cb[5]=cc+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDDownTriangleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.895833333333333+2.5)/2;var cd=(bQ.c.get('size').gv(bT)*0.895833333333333+6)/2;cb[0]=0+bV;cb[1]=cd+bW;cb[2]=-cc+bV;cb[3]=-cc+bW;cb[4]=cc+bV;cb[5]=-cc+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDDownTrianglePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.895833333333333+4)/2;var cd=(bQ.c.get('size').gv(bT)*0.895833333333333+8)/2;cb[0]=0+bV;cb[1]=cd+bW;cb[2]=-cc+bV;cb[3]=-cc+bW;cb[4]=cc+bV;cb[5]=-cc+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledDownTriangleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=bQ.c.get('size').gv(bT)*0.916666666666667/2;cb[0]=0+bV;cb[1]=cc+bW;cb[2]=-cc+bV;cb[3]=-cc+bW;cb[4]=cc+bV;cb[5]=-cc+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledDownTrianglePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.916666666666667+1)/2;cb[0]=0+bV;cb[1]=cc+bW;cb[2]=-cc+bV;cb[3]=-cc+bW;cb[4]=cc+bV;cb[5]=-cc+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDLeftTriangleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.895833333333333+3)/2;var cd=(bQ.c.get('size').gv(bT)*0.895833333333333+6)/2;cb[0]=-cd+bV;cb[1]=0+bW;cb[2]=cc+bV;cb[3]=-cc+bW;cb[4]=cc+bV;cb[5]=cc+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDLeftTrianglePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.895833333333333+4)/2;var cd=(bQ.c.get('size').gv(bT)*0.895833333333333+8)/2;cb[0]=-cd+bV;cb[1]=0+bW;cb[2]=cc+bV;cb[3]=-cc+bW;cb[4]=cc+bV;cb[5]=cc+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledLeftTriangleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=bQ.c.get('size').gv(bT)*0.916666666666667/2;cb[0]=-cc+bV;cb[1]=0+bW;cb[2]=cc+bV;cb[3]=-cc+bW;cb[4]=cc+bV;cb[5]=cc+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledLeftTrianglePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.916666666666667+1)/2;cb[0]=-cc+bV;cb[1]=0+bW;cb[2]=cc+bV;cb[3]=-cc+bW;cb[4]=cc+bV;cb[5]=cc+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDRightTriangleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.895833333333333+3)/2;var cd=(bQ.c.get('size').gv(bT)*0.895833333333333+6)/2;cb[0]=-cc+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=cc+bW;cb[4]=cd+bV;cb[5]=0+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDRightTrianglePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.895833333333333+4)/2;var cd=(bQ.c.get('size').gv(bT)*0.895833333333333+8)/2;cb[0]=-cc+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=cc+bW;cb[4]=cd+bV;cb[5]=0+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledRightTriangleHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=bQ.c.get('size').gv(bT)*0.916666666666667/2;cb[0]=-cc+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=cc+bW;cb[4]=cc+bV;cb[5]=0+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledRightTrianglePressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(6);var cc=(bQ.c.get('size').gv(bT)*0.916666666666667+1)/2;cb[0]=-cc+bV;cb[1]=-cc+bW;cb[2]=-cc+bV;cb[3]=cc+bW;cb[4]=cc+bV;cb[5]=0+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledStarHoverOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(20);var cc=bQ.c.get('size').gv(bT)*1.09166666666667+2;var cd=cc*0.3877;var ce=cc/2;cb[0]=0+bV;cb[1]=-ce+cc*0.0246+bW;cb[2]=-ce+cc*0.3817+bV;cb[3]=-ce+cd+bW;cb[4]=-ce+bV;cb[5]=-ce+cd+bW;cb[6]=-ce+cc*0.3088+bV;cb[7]=-ce+cc*0.612+bW;cb[8]=-ce+cc*0.1909+bV;cb[9]=-ce+cc*0.9751+bW;cb[10]=0+bV;cb[11]=-ce+cc*0.7507+bW;cb[12]=-ce+cc*0.8085+bV;cb[13]=-ce+cc*0.9751+bW;cb[14]=-ce+cc*0.6905+bV;cb[15]=-ce+cc*0.612+bW;cb[16]=ce+bV;cb[17]=-ce+cd+bW;cb[18]=-ce+cc*0.6176+bV;cb[19]=-ce+cd+bW;L.set_lineWidth(1);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.renderShapeIDFilledStarPressedOverlayImage=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('selected_halo_color').gv(bT)['colorOverrideNone'];var bV=bR;var bW=bS;{var bX=bQ.getMarkInstanceOffsets(bT);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];Z.$c(L,ca);{var cb=new Array(20);var cc=bQ.c.get('size').gv(bT)*1.09166666666667+4;var cd=cc*0.3877;var ce=cc/2;cb[0]=0+bV;cb[1]=-ce+cc*0.0246+bW;cb[2]=-ce+cc*0.3817+bV;cb[3]=-ce+cd+bW;cb[4]=-ce+bV;cb[5]=-ce+cd+bW;cb[6]=-ce+cc*0.3088+bV;cb[7]=-ce+cc*0.612+bW;cb[8]=-ce+cc*0.1909+bV;cb[9]=-ce+cc*0.9751+bW;cb[10]=0+bV;cb[11]=-ce+cc*0.7507+bW;cb[12]=-ce+cc*0.8085+bV;cb[13]=-ce+cc*0.9751+bW;cb[14]=-ce+cc*0.6905+bV;cb[15]=-ce+cc*0.612+bW;cb[16]=ce+bV;cb[17]=-ce+cd+bW;cb[18]=-ce+cc*0.6176+bV;cb[19]=-ce+cd+bW;L.set_lineWidth(2);L.set_strokeStyle(bU);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,cb,true,true)}if(ca!==0){L.restore()}}}};Z.$d=function(){return(tab.BrowserSupport.get_isChrome()?0.400000005960464:0)};Z.$c=function(L,bQ){if(!tab.DoubleUtil.isApproximatelyEqual(bQ,0)){L.save();L.translate(bQ,0)}};Z.$2=function(L,bQ,bR,bS,bT,bU){var bV=Math.min(bR,bT);var bW=Math.max(bR,bT);var bX=Math.min(bS,bU);var bY=Math.max(bS,bU);var bZ=Z.roundStartAndExtent(bV,bW-bV,L.minBarHeight);var ca=Z.roundStartAndExtent(bX,bY-bX,L.minBarWidth);tab.RectXYUtil.unionInPlace$1(bQ,ca.item1,bZ.item1,Math.floor(ca.item2),Math.floor(bZ.item2))};Z.$3=function(L,bQ,bR,bS,bT,bU,bV,bW,bX,bY){var bZ=bQ.c.get('draw_border').gv(bR);var ca=(bZ?1:0);var cb=((bQ.markType==='text')?0:1);var cc=Math.min(bS,bT);var cd=Math.min(bU,bV);var ce=Math.abs(bT-bS);var cf=Math.abs(bV-bU);var cg=Z.roundStartAndExtent(cd,cf,bQ.minBarHeight);var ch=Z.roundStartAndExtent(cc,ce,bQ.minBarWidth);cc=ch.item1-cb;cd=cg.item1-cb;ce=ch.item2+bY+ca+cb-1;cf=cg.item2+bY+ca+cb-1;if(bX){ce=cf=Math.min(ce,cf)}if(!bQ.isWrappedDomain){var ci=bQ.getUserPaneRectByMark(bR);if(!tab.RectXYUtil.intersectsWith$1(ci,Math.floor(cc),Math.floor(cd),Math.floor(ce),Math.floor(cf))){return}if(ci.x>=cc){var cj=ci.x+bY-1;ce-=cj-cc;cc=cj}if(ci.x+ci.w<=cc+ce){ce=ci.x+ci.w-cc-1}if(ci.y>=cd){var ck=ci.y+bY-1;cf-=ck-cd;cd=ck}if(ci.y+ci.h<=cd+cf){cf=ci.y+ci.h-cd-1}}L.set_lineJoin('miter');Z.$9(L,cc,cd,ce,cf,bW['colorOverrideNone'],bY,bQ.minBarWidth,bQ.minBarHeight,false)};Z.bBoxGeometry=function(L,bQ,bR,bS){var bT={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY};switch(bS.geometryType){case'multiPolygon':{tab.CanvasRenderer.boundsMultipolygon(bS.multiPolygon,bT);break}case'multiLineString':{tab.CanvasRenderer.boundsMultilineString(bS.multiLine,bT);break}case'multiPoint':{tab.CanvasRenderer.boundsCoordinateArray(bS.multiPoint.pointsF,bT);break}default:{return}}var bU=bQ.transformBounds(bT);tab.DoubleRectXYUtil.outsetRectInPlace(bU,bR,bR);tab.RectXYUtil.unionInPlace(L,tab.DoubleRectXYUtil.toEncompassingRectXY(bU))};Z.$6=function(L,bQ,bR,bS){switch(bR){case'highlightedUnder':case'normalUnder':{return L.c.get('halo_color').gv(bQ)[bS]}case'selectedOn':case'highlightedOn':case'normalOn':{return L.getMarkColors(bQ)[bS]}case'border':{return L.getBorderColors(bQ)[bS]}case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{return L.c.get('selected_halo_color').gv(bQ)[bS]}}return Z.$f};Z.$5=function(L,bQ,bR,bS,bT,bU){var bV=Math.atan2(bT-bQ,bS-L);var bW=Math.cos(bV);var bX=Math.sin(bV);bR/=2;bU/=2;var bY=bR*bX;var bZ=bU*bX;var ca=bR*bW;var cb=bU*bW;var cc=new Array(8);cc[0]=L+bY;cc[1]=bQ-ca;cc[2]=bS+bZ;cc[3]=bT-cb;cc[4]=bS-bZ;cc[5]=bT+cb;cc[6]=L-bY;cc[7]=bQ+ca;return cc};Z.$8=function(L,bQ,bR,bS,bT,bU,bV,bW){var bX=Z.$5(bR,bS,bT,bU,bV,bW);return z.isPointInPoly(bX,{x:L,y:bQ})};Z.$0=function(L,bQ,bR,bS,bT,bU,bV){var bW=Z.$5(bQ,bR,bS,bT,bU,bV);var bX=bW[0];var bY=bX;var bZ=bW[1];var ca=bZ;var cb=bW.length;for(var cc=0;cc<cb;cc=cc+2){bX=Math.min(bX,bW[cc]);bY=Math.max(bY,bW[cc]);bZ=Math.min(bZ,bW[cc+1]);ca=Math.max(ca,bW[cc+1])}tab.RectXYUtil.unionInPlace(L,{x:bX<<0,y:bZ<<0,w:(bY-bX<<0)+1,h:(ca-bZ<<0)+1})};Z.$1=function(L,bQ,bR,bS,bT){if(bS>bT){var bU=bS;bS=bT;bT=bU}if(bT-bS>=1){var bV=Math.ceil(2*bR);return{x:Math.floor(L-bR),y:Math.floor(bQ-bR),w:bV,h:bV}}var bW=tab.CanvasRenderer.toCanvasAngle(bS);var bX=tab.CanvasRenderer.toCanvasAngle(bT);var bY=[];bY.push({x:L,y:bQ});bY.push({x:L+bR*Math.cos(bW),y:bQ+bR*Math.sin(bW)});bY.push({x:L+bR*Math.cos(bX),y:bQ+bR*Math.sin(bX)});var bZ=bY;bW=z.normalizeAngle(bW);bX=z.normalizeAngle(bX);if(z.isInBetweenAngles(0,bW,bX)){bZ.push({x:L+bR,y:bQ})}if(z.isInBetweenAngles(tab.CanvasRenderer.halfPI,bW,bX)){bZ.push({x:L,y:bQ+bR})}if(z.isInBetweenAngles(tab.CanvasRenderer.onePI,bW,bX)){bZ.push({x:L-bR,y:bQ})}if(z.isInBetweenAngles(tab.CanvasRenderer.oneAndHalfPI,bW,bX)){bZ.push({x:L,y:bQ-bR})}var ca=Number.POSITIVE_INFINITY;var cb=Number.POSITIVE_INFINITY;var cc=Number.NEGATIVE_INFINITY;var cd=Number.NEGATIVE_INFINITY;for(var ce=0;ce<bZ.length;ce++){var cf=bZ[ce];ca=Math.min(ca,cf.x);cb=Math.min(cb,cf.y);cc=Math.max(cc,cf.x);cd=Math.max(cd,cf.y)}return tab.RectXYUtil.rectXYFromMinAndMax(ca,cb,cc,cd)};Z.roundStartAndExtent=function(L,bQ,bR){var bS=Math.round(L+bQ);L=Math.round(L);bQ=Math.max(Math.abs(bS-L),bR);return{item1:L,item2:bQ}};Z.$7=function(L,bQ,bR,bS,bT,bU,bV,bW,bX,bY){if(bR<0){L+=bR;bR=Math.abs(bR)}if(bS<0){bQ+=bS;bS=Math.abs(bS)}var bZ=Z.roundStartAndExtent(L-bT,bR+bT+bT,bV+bT+bT);var ca=Z.roundStartAndExtent(bQ-bU,bS+bU+bU,bW+bU+bU);var cb={x:ss.Int32.trunc(ca.item1),y:ss.Int32.trunc(bZ.item1),w:ss.Int32.trunc(ca.item2),h:ss.Int32.trunc(bZ.item2)};if(tab.RectXYUtil.inRectPointF(cb,{x:bX,y:bY})){return true}return false};Z.$a=function(L,bQ,bR,bS,bT){var bU=bQ.c.get('shape_id').gv(bR);if(ss.isValue(bU)){var bV=tab.ApplicationModel.get_instance().get_shapeManager();var bW=bV.getImageElement(bU);if(!ss.isValue(bW)){tab.CanvasRenderer.renderCircle(L,bQ.c.get('x').gv(bR),bQ.c.get('y').gv(bR),bQ.c.get('size').gv(bR),Z.$6(bQ,bR,bS,bT),2);return}if(!bW.complete){return}var bX=bQ.hasConstantColor;var bY=bQ.c.get('size').gv(bR);var bZ=bQ.c.get('left').gv(bR);var ca=bQ.c.get('top').gv(bR);var cb;var cc;if(bW.naturalWidth>bW.naturalHeight){var cd=bW.naturalWidth/bW.naturalHeight;cb=bY;cc=bY/cd;ca+=Math.round((bY-cc)/2)}else{var ce=bW.naturalHeight/bW.naturalWidth;cb=bY/ce;cc=bY;bZ+=Math.round((bY-cb)/2)}cb=Math.round(cb);cc=Math.round(cc);var cf=Z.$4(bQ,bR,bS,bT);bS=((bS==='normalOn'&&bT==='colorOverrideOpaque')?'selectedOn':bS);var cg=tab.ShapeManager.getCacheKey$1(bU,bS,bT,cf.toString(),cb,cc);var ch=bV.getCachedCanvas(cg);if(ss.isNullOrUndefined(ch)){var ci=null;switch(bS){case'normalUnder':case'highlightedUnder':case'selectedUnder':{ci=function(){return bv.generateSelectedUnderCustomShape(bW,cf,tab.ShapeManager.selectionBorderSize,cb,cc)};break}case'normalOn':{if(bX){if(bT==='colorOverrideFog'){ci=function(){return bv.applyFoggingToImage(bW,bQ.foggedBackgroundColor,bQ.fogBlendFactor,cb,cc)}}}else{ci=function(){return bv.colorTransformImage(bW,cf,cb,cc)}}break}case'highlightedOn':{if(!bX){ci=function(){return bv.colorTransformImage(bW,cf,cb,cc)}}break}case'selectedOn':{if(!bX){ci=function(){cf=tab.ColorModel.fromColorModelPlusAlpha(cf,255);return bv.colorTransformImage(bW,cf,cb,cc)}}break}case'hoverOverlay':{ci=function(){return bv.generateOverlayForShape(bW,cf,tab.ShapeManager.selectionBorderSize,cb,cc)};break}case'pressedOverlay':{ci=function(){return bv.generateOverlayForShape(bW,cf,tab.ShapeManager.selectionBorderSize*2,cb,cc)};break}}if(!ss.isValue(ci)){ci=function(){return bv.generateCanvasAndPrescaleAsNeeded(bW,cb,cc)}}ch=bV.generateCachedCanvas(cg,ci)}if(ss.isValue(ch)){switch(bS){case'normalUnder':case'highlightedUnder':case'selectedUnder':case'hoverOverlay':{L.drawImage3(ch,bZ-tab.ShapeManager.selectionBorderSize,ca-tab.ShapeManager.selectionBorderSize,ch.width,ch.height);break}case'pressedOverlay':{L.drawImage3(ch,bZ-tab.ShapeManager.selectionBorderSize*2,ca-tab.ShapeManager.selectionBorderSize*2,ch.width,ch.height);break}case'normalOn':{L.set_alpha(cf.get_a());L.drawImage3(ch,bZ,ca,cb,cc);break}default:{L.drawImage3(ch,bZ,ca,cb,cc);break}}}else{}}};Z.$4=function(L,bQ,bR,bS){var bT=Z.$6(L,bQ,bR,bS);return tab.ColorModel.fromColorCode(bT)};Z.$9=function(L,bQ,bR,bS,bT,bU,bV,bW,bX,bY){L.set_lineWidth(bV);L.set_strokeStyle(bU);var bZ=((Math.round(bV)%2===0)?0:0.5);var ca=Z.roundStartAndExtent(bR,bT,bX);var cb=Z.roundStartAndExtent(bQ,bS,bW);if(bY){var cc=Math.min(cb.item2,ca.item2);cb={item1:cb.item1,item2:cc};ca={item1:ca.item1,item2:cc}}L.strokeRect(cb.item1+bZ,ca.item1+bZ,cb.item2,ca.item2)};Z.$b=function(L,bQ,bR,bS,bT,bU,bV,bW,bX){L.set_shapeFillStyle(bU);{var bY=Z.roundStartAndExtent(bR,bT,bW);bR=bY.item1;bT=bY.item2;var bZ=Z.roundStartAndExtent(bQ,bS,bV);bQ=bZ.item1;bS=bZ.item2}if(bX){bS=bT=Math.min(bS,bT)}L.fillRect(bQ,bR,bS,bT)};global.tab.MarksRenderer=Z;var ba=function(){};ba.__typeName='tab.NodeType';global.tab.NodeType=ba;var bb=function(){this.hasPixelGeometry=false;this.$k=tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction');this.worldWidth=0;this.sceneInfo=null;this.c=new Map;this.labelColumnIterators=null;this.textRunColumnIterators=null;this.textStyleColumnIterators=null;this.domainExtents=null;this.$n=0;this.paneMarks=null;this.pdMarksKey=null;this.tupleToIndexMap=new Map;this.$g=null;this.$l=null;this.markInstanceOffsets=null;this.markLabelInstanceOffsets=null;this.$m=null;this.$i=new Set;this.$o=false;this.shapeMarkStampingDecision=null;this.$h=null;this.$j=null;this.truncateLabelToCell=false;this.markCount=0;this.markType=null;this.showLabels=false;this.labelMode=null;this.fogBlendFactor=0;this.foggedBackgroundColor=null;this.forceOpaqueColors=false;this.drawBorder=false;this.isWrappedDomain=false;this.paneColumn=0;this.paneRow=0;this.paneRect=null;this.clipCase=0;this.globalAlpha=0;this.paneDrawInfoKey=null;this.userPaneCount=0;this.hasUserPanes=false;this.customShapes=null;this.geometries=null;this.scaleMarksInX=false;this.scaleMarksInY=false;this.useCellClipForSelection=false;this.paneHasCellsX=false;this.paneHasCellsY=false;this.mapExtents=null;this.hasConstantColor=false;this.skipClipping=false;this.markWorldOffsets=null;this.markLabelWorldOffsets=null;this.$f=null;this.minBarHeight=0;this.lineInterpolation=null;this.minBarWidth=0;if(ss.isNullOrUndefined(bb.$f)){bb.$f=new Map;bb.$f.set(1,0);bb.$f.set(2,-Math.PI*0.5);bb.$f.set(3,Math.PI*0.5)}if(ss.isNullOrUndefined(bb.$d)){bb.$d=new Map;bb.$d.set('theta',{x:0,y:1});bb.$d.set('theta1',{x:0,y:1});bb.$d.set('size',{x:0,y:4096});bb.$d.set('text_run_x',{x:0,y:4096});bb.$d.set('text_run_direction_x',{x:0,y:4096});bb.$d.set('text_run_y',{x:0,y:4096});bb.$d.set('text_run_direction_y',{x:0,y:4096});for(var L=0;L<bb.$7.length;L++){var bQ=bb.$7[L];bb.$d.set(bQ,{x:0,y:0})}for(var bR=0;bR<bb.$8.length;bR++){var bS=bb.$8[bR];bb.$d.set(bS,{x:0,y:0})}}if(ss.isNullOrUndefined(bb.$e)){bb.$e=[];bb.$e.push(0)}this.setDefaultLabelLookupValues()};bb.__typeName='tab.PaneDrawInfo';bb.$ctor1=function(L,bQ,bR,bS,bT,bU,bV,bW){bb.call(this);if(ss.isNullOrUndefined(bR)){throw new ss.ArgumentNullException('pane')}if(ss.isNullOrUndefined(bS)){throw new ss.ArgumentNullException('paneMarks')}this.skipClipping=false;this.paneDrawInfoKey=bU;this.sceneInfo=bQ;this.paneMarks=bS;this.forceOpaqueColors=false;this.pdMarksKey=L;this.paneColumn=bR.Column;this.paneRow=bR.Row;this.paneRect={x:bR.Rect[0],y:bR.Rect[1],w:bR.Rect[2],h:bR.Rect[3]};this.domainExtents=null;var bX=ss.isValue(bV.Viewpoint)&&ss.isValue(bV.Viewpoint.PerPaneExtents);if(bX){this.domainExtents=bb.getPaneDomainExtents(bV.Viewpoint.PerPaneExtents,bW)}this.markCount=bb.getNumPaneItems(this.paneMarks);var bY=bV.PDMarks[L];var bZ=bY.MarkLayoutData;var ca=bZ.Parameters;this.markType=tab.EnumConversions.primitiveFromInt(ca.PrimitiveType);this.showLabels=ss.isValue(bY.ShowLabels)&&bY.ShowLabels;this.labelMode=(ss.isValue(bY.LabelMode)?bY.LabelMode:'mlm-default');this.set_paneFlags(ca.pane_flags);this.hasPixelGeometry=this.scaleMarksInX&&this.scaleMarksInY;this.c=bb.$3(bV.PDMarks[L],bS.get_startIndex(),this.markCount);this.hasConstantColor=!bY.has_per_mark_color_encoding;var cb=tab.ColorModel.white;if(this.c.has('background_color')){var cc=this.c.get('background_color');cb=tab.ColorModel.fromArgbInt(cc.v[(cc.c?0:0)])}this.fogBlendFactor=tab.SceneDataUtil.getFogBlendFactor(cb);this.foggedBackgroundColor=tab.SceneDataUtil.applyFogToBackgroundColor(cb,this.fogBlendFactor);this.transformColumnData(this.c);this.setUserPaneInfo(bQ.sceneUserPaneInfo);this.processColors(bT);this.initStaticProperties();this.setDefaultLabelLookupValues();if(this.markType==='line'||this.markType==='area'){this.prepareLeftRight()}var cd=ss.isValue(bZ.TextCompositionInputKeys)&&bZ.TextCompositionInputKeys.is_text_table===true;this.parseTextInfo(bY.TextRunTable,bY.TextStyleTable,false,cd);if(ss.isValue(this.paneRect)&&ss.isValue(this.paneRect.w)&&ss.isValue(this.domainExtents)&&ss.isValue(this.domainExtents.w)&&this.domainExtents.w!==0){this.worldWidth=this.paneRect.w/this.domainExtents.w}this.clipCase=tab.SceneDataUtil.calcCellClip(this.get_paneFlags());this.mapExtents=null;if(bX){this.mapExtents=bb.buildMapExtentsRect(bV.Viewpoint.PerPaneExtents,bW,this.domainExtents,this.paneRect)}this.setupBoundingBoxes();if(this.markType==='shape'){this.setupCustomShapePositions();this.setupShapeMarkStampingMap()}this.buildTupleLookup()};bb.getNumPaneItems=function(L){return L.get_endIndex()-L.get_startIndex()};bb.getPaneDomainExtents=function(L,bQ){return tab.DoubleRectXYUtil.constructDoubleRectXY(L.DomainLeft[bQ],L.DomainTop[bQ],L.DomainRight[bQ],L.DomainBottom[bQ])};bb.buildMapExtentsRect=function(L,bQ,bR,bS){if(ss.isNullOrUndefined(L.MapDomainBottom)||ss.isNullOrUndefined(L.MapDomainTop)||ss.isNullOrUndefined(L.MapDomainLeft)||ss.isNullOrUndefined(L.MapDomainRight)||L.MapDomainLeft[bQ]===L.MapDomainRight[bQ]||L.MapDomainBottom[bQ]===L.MapDomainTop[bQ]){return null}return{x:ss.Int32.trunc(bb.domainToPixelX(L.MapDomainLeft[bQ],bR,bS)),y:ss.Int32.trunc(bb.domainToPixelY(L.MapDomainTop[bQ],bR,bS)),w:ss.Int32.trunc(bb.domainToPixelWidth(L.MapDomainRight[bQ]-L.MapDomainLeft[bQ],bR,bS)),h:ss.Int32.trunc(bb.domainToPixelHeight(L.MapDomainBottom[bQ]-L.MapDomainTop[bQ],bR,bS))}};bb.$3=function(L,bQ,bR){var bS=new Map;var bT=L;var bU=new ss.ObjectEnumerator(bT);try{while(bU.moveNext()){var bV=bU.current();if(!ss.referenceEquals(bV.value,L.Encodings)&&!ss.referenceEquals(bV.value,L.MarkLayoutData)){var bW=[bV.value];bS.set(bV.key,tab.VisualColumnIterator.create(bW))}}}finally{bU.dispose()}var bX=L.MarkLayoutData.Parameters;var bY=new ss.ObjectEnumerator(bX);try{while(bY.moveNext()){var bZ=bY.current();var ca=[bZ.value];bS.set(bZ.key,tab.VisualColumnIterator.create(ca))}}finally{bY.dispose()}var cb=L.Encodings;var cc=new ss.ObjectEnumerator(cb);try{while(cc.moveNext()){var cd=cc.current();var ce=cd.value;bS.set(cd.key,tab.VisualColumnIterator.create(Array.prototype.slice.call(ce,bQ,bQ+bR)))}}finally{cc.dispose()}return bS};bb.domainToPixelX=function(L,bQ,bR){return z.$5(L,bQ.x,bR.x,bR.w/bQ.w)};bb.domainToPixelY=function(L,bQ,bR){return z.$5(L,bQ.y,bR.y,bR.h/bQ.h)};bb.domainToPixelWidth=function(L,bQ,bR){return L/bQ.w*bR.w};bb.domainToPixelHeight=function(L,bQ,bR){return L/bQ.h*bR.h};bb.$0=function(L,bQ){var bR=new ss.StringBuilder;if(ss.keyExists(L,'font_style')&&parseInt(L['font_style'].dataValues[bQ].toString())===1){bR.append('italic ')}if(ss.keyExists(L,'font_weight')&&parseInt(L['font_weight'].dataValues[bQ].toString())===1){bR.append('bold ')}var bS=parseInt(L['font_size'].dataValues[bQ].toString());bS=Math.max(6,bS);var bT=L['font'].dataValues[bQ];bT=p.$1(bT);bR.append(bS+'pt '+bT);return bR.toString()};bb.$1=function(L,bQ){var bR=new ss.StringBuilder;if(!ss.isNullOrUndefined(L.font_style)&&parseInt(L.font_style[bQ].toString())===1){bR.append('italic ')}if(!ss.isNullOrUndefined(L.font_weight)&&parseInt(L.font_weight[bQ].toString())===1){bR.append('bold ')}var bS=parseInt(L.font_size[bQ].toString());bS=Math.max(6,bS);var bT=L.font[bQ];bT=p.$1(bT);bR.append(bS+'pt '+bT);return bR.toString()};bb.getMarkBoundingBox=function(L,bQ,bR,bS){var bT;switch(L){case'shape':{bT=Z.shapeMarkBuildMarkBound(bR,bQ);break}case'bar':case'square':{bT=Z.barMarkBuildMarkBound(bR,bQ);break}case'pie':{bT=Z.getPieBoundingBox(bR,bQ);break}case'text':{bT=Z.textMarkBuildMarkBound(bR,bQ);break}case'label':{bT=Z.getMarkLabelBoundingBox(bR,bQ);break}case'line':{bT=Z.lineMarkBuildMarkBound(bR,bQ);break}case'area':{bT=Z.areaMarkBuildMarkBound(bR,bQ);break}case'multipolygon':{bT=Z.multipolygonMarkBuildMarkBound(bR,bQ);break}default:{bT=bb.$2(bR,bQ);break}}if(bR.hasUserPanes){tab.RectXYUtil.intersectInPlace(bT,bS)}return bT};bb.$2=function(L,bQ){var bR=L.c.get('x').gv(bQ);var bS=L.c.get('y').gv(bQ);var bT=L.c.get('size').gv(bQ);var bU=Math.ceil(bT);return{x:Math.floor(bR-bT/2+0.5),y:Math.floor(bS-bT/2+0.5),w:bU,h:bU}};global.tab.PaneDrawInfo=bb;var bc=function(L,bQ){this.$o=null;this.$p=null;tab.CanvasRenderer.call(this,L,bQ);var bR=(ss.isValue(this.$p)?this.$p.colorModel:M.defaultColors);this.$o=new p(L,bQ,bR)};bc.__typeName='tab.PaneTable2DRenderer';bc.renderHoverOverlay=function(L,bQ,bR){if(ss.isNullOrUndefined(bR)||ss.isNullOrUndefined(bQ)){return}{var bS=tabBootstrap.MetricsController.createContext('RenderHoverOverlay',32,null);try{var bT=bQ.getMarkIndexFromTupleId(L);switch(bQ.markType){case'area':{Z.renderAreaMarkHoverOverlayImage(bR,bQ,bT);break}case'bar':case'square':{Z.renderBarHoverOverlayImage(bR,bQ,bT);break}case'line':{Z.renderLineMarkHoverOverlayImage(bR,bQ,bT);break}case'multipolygon':{Z.renderMultipolygonMarkHoverOverlayImage(bR,bQ,bT);break}case'pie':{Z.renderPieHoverOverlayImage(bR,bQ,bT);break}case'shape':{Z.renderShapeHoverOverlayImage(bR,bQ,bT);break}case'text':{Z.renderTextHoverOverlayImage(bR,bQ,bT);break}}}finally{if(ss.isValue(bS)){bS.dispose()}}}};bc.renderPressedOverlay=function(L,bQ,bR){if(ss.isNullOrUndefined(bR)||ss.isNullOrUndefined(bQ)){return}{var bS=tabBootstrap.MetricsController.createContext('RenderPressedOverlay',32,null);try{var bT=bQ.getMarkIndexFromTupleId(L);switch(bQ.markType){case'area':{Z.renderAreaMarkPressedOverlayImage(bR,bQ,bT);break}case'bar':case'square':{Z.renderBarPressedOverlayImage(bR,bQ,bT);break}case'line':{Z.renderLineMarkPressedOverlayImage(bR,bQ,bT);break}case'multipolygon':{Z.renderMultipolygonMarkPressedOverlayImage(bR,bQ,bT);break}case'pie':{Z.renderPiePressedOverlayImage(bR,bQ,bT);break}case'shape':{Z.renderShapePressedOverlayImage(bR,bQ,L);break}case'text':{Z.renderTextPressedOverlayImage(bR,bQ,bT);break}}}finally{if(ss.isValue(bS)){bS.dispose()}}}};bc.$1=function(L,bQ,bR){L[0]=bQ.x;L[1]=bQ.y;L[2]=bR.x;L[3]=bR.y};bc.$0=function(L,bQ,bR,bS){var bT=bR==='draw-polyline'||bR==='draw-path'||bR==='draw-rect'||bR==='draw-fill-rect';if(bQ==='selected'&&bT){if(tab.ColorModel.isFullyTransparent(L)){return'rgba(0,0,0,1)'}return L.toString()}if(bQ==='hover'&&bT){var bU=77;var bV=new tab.ColorModel(255,255,255,0.449999988079071);var bW=new tab.ColorModel(0,0,0,0.449999988079071);var bX=(L.isValueAboveThreshold(bU)?bW:bV);return((L.get_a()<1)?bX.toString():tab.ColorModel.alphaBlend(bX,L).toString())}if(bQ==='normal'&&ss.isValue(bS)){return tab.SceneDataUtil.fogColorTransform(L,bS.item2,bS.item1).toString()}return L.toString()};global.tab.PaneTable2DRenderer=bc;var bd=function(L,bQ,bR){ss.makeGenericType(bJ,[bh]).call(this,L,bQ,bR);this.renderer=new bc(this.canvasElt,this.context);var bS=_.keys(L.get_vizRegionMap());for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];if(!ss.contains(bh.blackListVisualParts,bU)){L.get_vizRegionMap()[bU].add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))}}};bd.__typeName='tab.PaneTableCanvasView';global.tab.PaneTableCanvasView=bd;var be=function(L,bQ,bR){this.$T=null;this.$N=[];this.$M=new f('hover');this.$Q=new f('press');this.$K=false;this.$R=null;this.$L=false;this.$I=[];this.$P=null;this.$J=null;this.$O='normal';this.$S=false;ss.makeGenericType(bJ,[bh]).call(this,L,bQ,'transparent');this.renderer=new bc(this.canvasElt,this.context);this.$T=bR;var bS=$(this.canvasElt);bS.css('position','absolute');bS.css('left','0px');bS.css('top','0px')};be.__typeName='tab.PaneTableOverlayView';be.$0=function(L,bQ){var bR=new Set;if(ss.isValue(L)&&L.length>0){tab.SetUtilities.addAll(ss.Int32).call(null,bR,L)}if(ss.isValue(bQ)&&bQ.length>0){var bS=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,bS,bQ);bR=tab.SetUtilities.symmetricDifferenceWith(ss.Int32).call(null,bR,bS)}return tab.SetUtilities.getValues(ss.Int32).call(null,bR)};global.tab.PaneTableOverlayView=be;var bf=function(L){this.enclosingDiv=null;this.yLabel=null;this.leftAxis=null;this.rightAxis=null;this.xLabel=null;this.bottomAxis=null;this.topAxis=null;this.view=null;this.title=null;this.caption=null;this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.bottomRightSpacer=null;this.borders=null;spiff.Template.call(this,L);var bQ=ss.mkdel(this,this.getElementBySelector);this.enclosingDiv=bQ('.tab-clip');this.yLabel=bQ('.tab-tvYLabel');this.leftAxis=bQ('.tab-tvLeftAxis');this.rightAxis=bQ('.tab-tvRightAxis');this.xLabel=bQ('.tab-tvXLabel');this.bottomAxis=bQ('.tab-tvBottomAxis');this.topAxis=bQ('.tab-tvTopAxis');this.view=bQ('.tab-tvView');this.title=bQ('.tab-tvTitle');this.caption=bQ('.tab-tvCaption');this.topLeftSpacer=bQ('.tab-tvTLSpacer');this.topRightSpacer=bQ('.tab-tvTRSpacer');this.bottomLeftSpacer=bQ('.tab-tvBLSpacer');this.bottomRightSpacer=bQ('.tab-tvBRSpacer');this.borders=bQ('.tvViewportBorders');this.borders.append($(bf.$0))};bf.__typeName='tab.PaneTableTemplate';global.tab.PaneTableTemplate=bf;var bg=function(L,bQ){this.regions={};this.floatingZoomToolbarView=null;this.isPointerToolLocked=false;this.mapsSearchView=null;this.wasPressOverlayJustUpdated=false;this.lastVizHoverPoint=null;this.$W=[];this.$11=0;this.$10={x:0,y:0};this.$Z=0;this.$14=null;this.isAnimationOccurring=false;this.vizTooltip=null;this.$13=null;this.$O=null;this.$Q=false;this.$X=null;this.$T=0;this.$Y=null;this.$U=null;this.$V=null;this.$M=null;this.$L=null;this.$S=false;this.$12=null;this.$N=null;this.$R=null;this.$P=new j;this.regionParts=null;this.geometry=null;this.visibleGeometry=null;this.dom=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.titleHeight=0;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).call(this,L,bQ);this.dom=bQ;this.regionParts=new bi(bQ);this.get_controller().setTiledViewer(this);this.$11=(new Date).getTime();this.dom.view.attr('id','view'+this.$g());this.dom.domRoot.attr('tb-test-id',tableau.format.escapeHTML(this.get_paneTableVM().get_visualId().worksheet));this.floatingZoomToolbarView=new y(this);var bR=L.get_visualModel();this.$I(bR);this.$C(bR);this.$B();this.$A();this.$y();this.get_paneTableVM().add_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().add_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().add_textUpdated(ss.mkdel(this,this.$i));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().remove_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().remove_textUpdated(ss.mkdel(this,this.$i))})))};bg.__typeName='tab.PaneTableView';bg.addVizDragApprover=function(L){bg.removeVizDragApprover(L);bg.$7.push(L)};bg.removeVizDragApprover=function(L){ss.remove(bg.$7,L)};bg.addVizDragHandler=function(L){bg.removeVizDragHandler(L);bg.$8.push(L)};bg.addAsyncVizDragHandler=function(L){bg.removeAsyncVizDragHandler(L);bg.$4.push(L)};bg.removeVizDragHandler=function(L){ss.remove(bg.$8,L)};bg.removeAsyncVizDragHandler=function(L){ss.remove(bg.$4,L)};bg.$1=function(L,bQ){if(bQ==='viz'){return L[1]}return(ss.contains(bi.headerRegions,bQ)?L[2]:L[0])};bg.$2=function(L,bQ,bR){var bS=bQ.length;for(var bT=0;bT<bS;bT++){var bU=bQ[bT];if(bR.x+bU<=L){bR.x+=bU}else{bR.w=bU;return}}};bg.$3=function(L,bQ,bR){var bS=bQ.length;for(var bT=0;bT<bS;bT++){var bU=bQ[bT];if(bR.y+bU<=L){bR.y+=bU}else{bR.h=bU;return}}};bg.findTitles=function(){return $('.tab-tvTitle')};bg.$0=function(L,bQ){var bR=2;var bS={x:L.x,y:L.y};if(bQ.w>4){bS=tab.RectXYUtil.horizontalShiftCoordsTowardsCenter(bS,bQ,bR)}else{bS={x:bQ.x+ss.Int32.div(bQ.w,2),y:bS.y}}if(bQ.h>4){bS=tab.RectXYUtil.verticalShiftCoordsTowardsCenter(bS,bQ,bR)}else{bS={x:bS.x,y:bQ.y+ss.Int32.div(bQ.h,2)}}return bS};bg.guessTooltipTargetTypeFromRegion=function(L){switch(L){case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return'header'}case'color':{return'legenditem'}default:{return'unspecified'}}};bg.isViewDataAccessEnabled=function(){return tab.ApplicationModel.get_instance().get_toolbar().isLegacyMenuItemEnabled('exportdata')};global.tab.PaneTableView=bg;var bh=function(L){this.$z={};this.$x=null;this.$v=null;this.$t=null;this.$s=null;this.$p=null;this.$y=null;this.$r=null;this.$u=false;this.$w=null;this.$q=null;this.$o=null;this.borderHighlighted=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.deferredResizerFactory=null;this.deferredHeaderResizerManagerViewModel=null;this.deferredCellResizerManagerViewModel=null;this.$2$7=null;this.$2$8=null;spiff.BaseViewModel.call(this);this.$x=L;this.$r=[];this.$v=new bp;if(ss.isValue(this.$x)){if(ss.isValue(this.$x.get_selectionsModel())){this.$w=this.$x.get_selectionsModel().createSelectionsToken()}if(ss.isValue(this.$x.get_selectionsModel().tupleSelection)){this.$x.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$c))}this.$x.get_impliedSelectionModel().add_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$x.get_brushingsModel().tupleSelection)){this.$x.get_brushingsModel().add_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$x.get_sceneModel())){this.$x.get_sceneModel().add_newSceneModel(ss.mkdel(this,this.$b));this.$b();this.$u=false}if(ss.isValue(this.$x.get_labelsModel())){this.$x.get_labelsModel().add_newSceneModel(ss.mkdel(this,this.$b))}this.$x.add_newHiddenTuples(ss.mkdel(this,this.$8));this.$x.add_newFilteredTuples(ss.mkdel(this,this.$7));this.$x.add_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$x.add_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$x.add_vizNavigationSettingChanged(ss.mkdel(this,this.$f));this.$x.add_newVisual(ss.mkdel(this,this.$e));this.$x.add_newVisual(ss.mkdel(this,this.$a));this.$x.add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6));if(tab.FeatureFlags.isEnabled('RichTextEditingAnnotation')){this.$x.add_annotationHitBoxesChanged(ss.mkdel(this,this.$d))}}var bQ=ss.mkdel(this,function(){this.notifyPropertyChanged('font');this.$j()});this.$y=new bB('viz',(ss.isValue(this.$x)?this.$x.get_defaultMapTool():'no-tools'));this.set_floatingToolbarContainerVM(new v(this.$y));this.set_smoothTooltipsOnboardingVM(new by);this.$i();this.$h();this.$g();tab.ServerFontLoader.get_instance().add_fontPreparationComplete(bQ);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(bQ)}));this.$m()};bh.__typeName='tab.PaneTableViewModel';bh.updateSceneInfoFromVisualModel=function(L,bQ){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(bQ)){return}var bR=bQ.pm.colorDictionary;var bS=bQ.pm.scene;var bT=(ss.isValue(bQ.get_selectionsModel().tupleSelection)?bQ.get_selectionsModel():null);var bU=(ss.isValue(bQ.get_impliedSelectionModel())?bQ.get_impliedSelectionModel():null);var bV=(ss.isValue(bQ.get_brushingsModel().tupleSelection)?bQ.get_brushingsModel():null);var bW=bQ.get_hiddenTuples();var bX=bQ.get_filteredTuples();L.setSceneData(bS,bT,bU,bV,bR,bW,bX,bQ.get_runtimeData());if(ss.isValue(bQ.get_labelsModel())&&ss.isValue(bQ.get_labelsModel().pm)){if(ss.isValue(bQ.get_runtimeData())){L.setLabelInfo(bQ.get_runtimeData(),bS.currentPage)}else{throw new ss.Exception('Need non null runtimeData!')}}L.setIsTargetOfBrushingAction(bQ.get_isBrushedFromAction());L.setEmptyHighlightFogAll(bQ.get_emptyHighlightFogAll())};bh.$0=function(L,bQ,bR){switch(L.get_reason()){case 1:{if(bQ.hasTupleSelection()){return true}return ss.isValue(bR)&&bR.get_selectionType()==='tuples'&&bR.get_ids().length>0}case 2:{return L.get_invalidateViz()||L.get_objectIds().length>0}default:{return false}}};global.tab.PaneTableViewModel=bh;var bi=function(L){this.$1=null;this.$2=null;this.$1=L;this.$2=this.$0()};bi.__typeName='tab.PaneTableViewRegionParts';global.tab.PaneTableViewRegionParts=bi;var bj=function(L,bQ){this.$k=null;this.$l=null;this.$j=null;this.$m=false;this.$p='';this.$i=null;this.$n=null;this.$o=null;bt.call(this,L,"<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>",'tvdrag_svg_div');this.$k=[];this.$l=[];this.$j={};this.$m=bQ||false;this.$n=null;this.$o=null};bj.__typeName='tab.PolyShapeSelector';bj.$0=function(L,bQ,bR){return L>=bQ&&bQ>=bR||L<=bQ&&bQ<=bR};global.tab.PolyShapeSelector=bj;var bk=function(){this.$0=null;this.$1=0;bu.call(this);this.$0=[];this.$1=0};bk.__typeName='tab.PolyShapeState';global.tab.PolyShapeState=bk;var bl=function(){this.$d=null;this.$e=null;bt.call(this,{x:0,y:0,w:0,h:0},'<div></div>','tvdrag');this.$d={x:0,y:0,w:0,h:0};this.$e={x:0,y:0,w:0,h:0}};bl.__typeName='tab.RectShapeSelector';global.tab.RectShapeSelector=bl;var bm=function(){this.$0=null;this.$1=null;bu.call(this);this.$0={x:0,y:0,w:0,h:0};this.$1={x:0,y:0,w:0,h:0}};bm.__typeName='tab.RectShapeState';global.tab.RectShapeState=bm;var bn=function(L,bQ,bR){this.$2=0;this.$1=0;this.$a=0;this.$9=0;this.$7=0;this.$8=0;this.$d=0;this.$0=0;this.$c=0;this.$b=0;this.$6=0;this.$5=0;this.$4=0;this.$3=0;if(ss.isValue(L.title)){this.$1=bn.$0(this.$1,L.title)}if(ss.isValue(L.xheader)){this.$7=L.xheader.x;this.$a=L.xheader.w;this.$1=bn.$0(this.$1,L.xheader)}if(ss.isValue(L.bottomaxis)){this.$7=L.bottomaxis.x;this.$a=L.bottomaxis.w;this.$1=bn.$0(this.$1,L.bottomaxis)}if(ss.isValue(L.topaxis)){this.$1=bn.$0(this.$1,L.topaxis)}if(ss.isValue(L.viz)){this.$7=L.viz.x;this.$a=L.viz.w;this.$1=bn.$0(this.$1,L.viz)}if(ss.isValue(L.caption)){this.$1=bn.$0(this.$1,L.caption)}if(ss.isValue(L.yheader)){this.$8=L.yheader.y;this.$9=L.yheader.h;this.$2=bn.$1(this.$2,L.yheader)}if(ss.isValue(L.leftaxis)){this.$8=L.leftaxis.y;this.$9=L.leftaxis.h;this.$2=bn.$1(this.$2,L.leftaxis)}if(ss.isValue(L.rightaxis)){this.$2=bn.$1(this.$2,L.rightaxis)}if(ss.isValue(L.viz)){this.$8=L.viz.y;this.$9=L.viz.h;this.$2=bn.$1(this.$2,L.viz)}if(this.$9>0){var bS=this.$1;if(this.$2>bQ){bS+=tab.Metrics.get_scrollH()}if(bS>bR){this.$6=tab.Metrics.get_scrollW()}}if(this.$a>0&&this.$2>bQ){this.$5=tab.Metrics.get_scrollH()}if(tab.BrowserSupport.get_isIE()&&this.$6>0){this.$6+=1}if(tab.BrowserSupport.get_isIE()&&this.$5>0){this.$5+=1}if(this.$9>0){var bT=this.$1-this.$9;this.$b=bR-bT-this.$5;this.$b=Math.min(this.$9,this.$b);this.$0=this.$9-this.$b}if(this.$a>0){var bU=this.$2-this.$a;this.$c=bQ-bU-this.$6;this.$c=Math.min(this.$a,this.$c);this.$d=this.$a-this.$c}this.$3=Math.min(this.$1-this.$0,bR);this.$4=Math.min(this.$2-this.$d,bQ);if(this.$b<0){this.$b=0}if(this.$c<0){this.$c=0}};bn.__typeName='tab.RegionGeometry';bn.$1=function(L,bQ){var bR=bQ.x+bQ.w;return Math.max(L,bR)};bn.$0=function(L,bQ){var bR=bQ.y+bQ.h;return Math.max(L,bR)};global.tab.RegionGeometry=bn;var bo=function(){};bo.__typeName='tab.RuntimeUIModule';bo.get_instance=function(){if(ss.isNullOrUndefined(bo.$0)){tab.ModuleManager.load(O).call(null,[]).done(function(L){bo.$0=L})}return bo.$0};global.tab.RuntimeUIModule=bo;var bp=function(){this.$k=new Map;this.$r=new Map;this.$p=new Map;this.$o=new Map;this.$j=new Map;this.$n=false;this.$h=false;this.$m=null;this.$l=new Map;this.$i=new Map;this.$q=new Map;this.$s=null;this.scene=null;this.customShapes=null;this.brushings=null;this.selections=null;this.sceneUserPaneInfo=null;this.colorModel=null;this.$f=0;this.$g=0;this.customShapes=[];this.$f=0;this.$g=0};bp.__typeName='tab.SceneInfo';bp.getPaneMarksKey$1=function(L,bQ,bR){return L+'_'+bQ['columnIndex'.toString()]+'_'+bQ['rowIndex'.toString()]+'_'+bR};bp.getPaneMarksKey=function(L){return bp.getPaneMarksKey$1(L.get_paneKey(),L.get_paneId(),L.get_paneIndex())};bp.extractCustomShapes=function(L){var bQ=[];if(!ss.isValue(L)){return bQ}var bR=L.get_finalDataStore();var bS=bR.PDMarks;var bT=_.keys(bS);for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];var bW=bS[bV];var bX=bW.Encodings;if(ss.isValue(bX.shape_id)){var bY=bX.shape_id;for(var bZ=0;bZ<bY.length;bZ++){var ca=bY[bZ];if(ss.isValue(ca)&&tab.SceneDataUtil.isCustomShape(ca)){bQ.push(ca)}}}var cb=bW.MarkLayoutData;var cc=cb.Parameters;if(ss.isValue(cc.shape_id)){var cd=cc.shape_id;if(tab.SceneDataUtil.isCustomShape(cd)){bQ.push(cd)}}}return bQ};bp.$0=function(L,bQ,bR){var bS=L.paneRect.x;var bT=L.paneRect.y;bQ.forEach(function(bU,bV){tab.RectXYUtil.offsetRectXYInPlace(bU,bS,bT);bR.set(bV,bU)})};global.tab.SceneInfo=bp;var bq=function(L){bq.$0.call(this,L.xPixelOffsets,L.yPixelOffsets)};bq.__typeName='tab.SceneUserPaneInfo';bq.$0=function(L,bQ){this.$3=null;this.$4=null;this.$1=false;this.$2=false;this.$0=0;this.$5=0;this.$3=L;this.$4=bQ;this.$1=ss.isValue(L)&&L.length>0;this.$2=ss.isValue(bQ)&&bQ.length>0;this.$0=(this.$1?(L.length-1):1);this.$5=(this.$2?(bQ.length-1):1)};global.tab.SceneUserPaneInfo=bq;var br=function(L,bQ){bL.call(this,L,bQ)};br.__typeName='tab.ServerRenderVizHitTester';global.tab.ServerRenderVizHitTester=br;var bs=function(L){this.$3=new Set;this.$2=null;this.$2=L;tab.ApplicationModel.get_instance().get_shapeManager().add_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))};bs.__typeName='tab.ShapeDependencyManager';global.tab.ShapeDependencyManager=bs;var bt=function(L,bQ,bR){this.$b=null;this.$a=null;this.$7=null;this.$4=null;this.$5=null;this.$9=null;this.$8={x:0,y:0};this.$6={x:0,y:0};this.$3={x:0,y:0,w:0,h:0};this.$c={x:0,y:0};this.$2={x:0,y:0};this.$b=(ss.isNullOrUndefined(L)?'0':L.w.toString());this.$a=(ss.isNullOrUndefined(L)?'0':L.h.toString());this.$7=bQ;this.$4=bR};bt.__typeName='tab.ShapeSelectorBase';global.tab.ShapeSelectorBase=bt;var bu=function(){};bu.__typeName='tab.ShapeStateBase';global.tab.ShapeStateBase=bu;var bv=function(){};bv.__typeName='tab.ShapeUtil';bv.generateSelectedUnderCustomShape=function(L,bQ,bR,bS,bT){var bU=bv.colorTransformImage(L,bQ,bS,bT);var bV=document.createElement('canvas');var bW=bR*2;bV.width=Math.ceil(bS+bW);bV.height=Math.ceil(bT+bW);var bX=bV.getContext('2d');bX.drawImage(bU,0,0,bS,bT);bX.drawImage(bU,bR,0,bS,bT);bX.drawImage(bU,bW,0,bS,bT);bX.drawImage(bU,bW,bR,bS,bT);bX.drawImage(bU,bW,bW,bS,bT);bX.drawImage(bU,bR,bW,bS,bT);bX.drawImage(bU,0,bW,bS,bT);bX.drawImage(bU,0,bR,bS,bT);return bV};bv.generateOverlayForShape=function(L,bQ,bR,bS,bT){var bU=bv.generateSelectedUnderCustomShape(L,bQ,bR,bS,bT);var bV=bU.getContext('2d');bV.globalCompositeOperation='destination-out';bV.drawImage(L,bR,bR,bS,bT);return bU};bv.colorTransformImage=function(L,bQ,bR,bS){var bT=bv.generateCanvasAndPrescaleAsNeeded(L,bR,bS);var bU=bT.getContext('2d');var bV=bU.getImageData(0,0,bT.width,bT.height);var bW=bV.data.length;for(var bX=0;bX<bW;bX+=4){if(bV.data[bX+3]>0){bV.data[bX]=bQ.get_r();bV.data[bX+1]=bQ.get_g();bV.data[bX+2]=bQ.get_b()}}bU.putImageData(bV,0,0);return bT};bv.applyFoggingToImage=function(L,bQ,bR,bS,bT){var bU=bv.generateCanvasAndPrescaleAsNeeded(L,bS,bT);var bV=bU.getContext('2d');var bW=bV.getImageData(0,0,bU.width,bU.height);for(var bX=0;bX<bW.data.length;bX+=4){if(bW.data[bX+3]>0){bW.data[bX]=Math.round(bQ.get_r()+bW.data[bX]*bR);bW.data[bX+1]=Math.round(bQ.get_g()+bW.data[bX+1]*bR);bW.data[bX+2]=Math.round(bQ.get_b()+bW.data[bX+2]*bR)}}bV.putImageData(bW,0,0);return bU};bv.generateCanvasAndPrescaleAsNeeded=function(L,bQ,bR){var bS=document.createElement('canvas');if(!ss.isValue(L)){return bS}if(L.width>bQ*2&&L.height>bR*2){bS.width=Math.max(ss.Int32.div(L.naturalWidth,2),1);bS.height=Math.max(ss.Int32.div(L.naturalHeight,2),1)}else{bS.width=L.naturalWidth;bS.height=L.naturalHeight}var bT=bS.getContext('2d');bT.drawImage(L,0,0,bS.width,bS.height);return bS};global.tab.ShapeUtil=bv;var bw=function(L,bQ,bR){this.$p=null;ss.makeGenericType(bJ,[bF]).call(this,L,bQ,(bR.get_visualModel().get_backgroundColor().get_isOpaque()?'opaque':'transparent'));var bS=(ss.isValue(bR.get_scene())?bR.get_scene().colorModel:M.defaultColors);this.renderer=new p(this.canvasElt,this.context,bS);this.$p=bR;this.$p.add_propertyChanged(ss.mkdel(this,this.$o))};bw.__typeName='tab.SimpleRegionCanvasView';global.tab.SimpleRegionCanvasView=bw;var bx=function(L,bQ){this.$3=null;this.$5=null;this.$2=false;this.$4=0;React.Component.call(this,L,bQ);this.$3=ss.mkdel(this,function(bR){this.$0()});this.state={visible:L.visible,transitionDurationMs:L.transitionDurationMs,transitionDelayMs:L.transitionDelayMs,animationId:0}};bx.__typeName='tab.SmoothTooltipsOnboardingComponent';global.tab.SmoothTooltipsOnboardingComponent=bx;var by=function(){this.$a=false;this.$9=0;this.$8=0;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};by.__typeName='tab.SmoothTooltipsOnboardingViewModel';global.tab.SmoothTooltipsOnboardingViewModel=by;var bz=function(L,bQ,bR,bS,bT,bU){this.$6=null;this.backgroundMap=new Q;this.disposables=new tab.DisposableHolder;this.allowPanZoomActions=null;this.connectNode=null;this.domPanZoomRect=null;this.domDragImage=null;this.domDragMask=null;this.regionContent=null;this.scroller=null;this.isScrolling=false;this.wasScrolling=false;this.waitingOnPanZoomServerResponse=null;this.paneTableViewModel=null;this.backgroundDiv=null;this.resetIsWaitingOnTransition=false;this.$7=null;this.$a=null;this.$9=null;this.$8=null;this.$5=false;this.$4=false;this.$c=null;this.$d=null;this.$b=null;this.$7=L;this.connectNode=$(bQ);this.backgroundDiv=this.connectNode.find('.tvBackgroundContainer');this.$6=this.connectNode.find('.tvimagesContainer');this.allowPanZoomActions=bR;this.domPanZoomRect=new bl;this.$9=new bl;this.$a=bS;this.paneTableViewModel=bT;this.waitingOnPanZoomServerResponse='waitingOnServer';this.$b=bU;if(this.$7==='viz'){this.makeDomDrag()}this.get_toolModeViewModel().add_toolbarToolModeUpdated(ss.mkdel(this,this.updateForToolMode));if(ss.isValue(this.paneTableViewModel)&&ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().add_tileSourceChanged(ss.mkdel(this,this.$2))}this.$c=new bG};bz.__typeName='tab.TiledViewerRegion';bz.getCanvasElement=function(L){return L.find('canvas').get(0)};global.tab.TiledViewerRegion=bz;var bA=function(L,bQ,bR,bS,bT){this.$c=null;this.$d=null;this.$f=null;this.$k=null;this.$h=null;this.$i=null;this.$o=0;this.$p=0;this.$m=null;this.$b=null;this.$n=0;this.$g=null;this.$r=null;this.$q=0;this.$j=0;this.$l=false;this.$e=false;this.$1$1=null;this.$g=bS;this.$c=L;this.$k=bQ;this.$r=bR;this.$l=bT;this.$f={x:0,y:0,w:0,h:0,r:''};this.$m={w:0,h:0};this.$d=new r;this.$d.add_imageLoaded(ss.mkdel(this,this.$5));this.$d.add_imageTimedOut(ss.mkdel(this,this.$6));this.$d.add_complete(ss.mkdel(this,this.$7));this.$i=[];this.$h=$('.tvimagesContainer',this.$c);this.$e=true};bA.__typeName='tab.TiledWindow';global.tab.TiledWindow=bA;var bB=function(L,bQ){this.$5=null;this.$8=null;this.$7=false;this.$6=null;this.$2$1=null;this.$2$2=null;this.defaultPointerToolMode=null;this.currentModifierKeyToolMode=null;this.isDeferringModeChanges=false;spiff.BaseViewModel.call(this);this.set_isAppendMode(false);this.isDeferringModeChanges=false;if(L==='viz'){this.currentModifierKeyToolMode='no-tools'}this.setLockedPointerToolMode(bQ)};bB.__typeName='tab.ToolModeViewModel';global.tab.ToolModeViewModel=bB;var bC=function(L,bQ){tab.TooltipBaseMode.call(this,'disabled',L,bQ)};bC.__typeName='tab.TooltipDisabledMode';global.tab.TooltipDisabledMode=bC;var bD=function(L,bQ,bR,bS){this.$D=null;this.$F=null;this.$E=null;this.$C=null;this.$B=false;this.$A=false;tab.TooltipBaseMode.call(this,'smooth',L,bQ);var bT=this.get_currentBehavior();bT.attach();bT.add_onMouseStop(ss.mkdel(this,this.$y));this.$C=bR;this.$A=bS;this.$D=bD.$0();this.$F=bD.$2();this.$E=bD.$1();this.$t();this.get_tooltip().add_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().add_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_closed(ss.mkdel(this,this.$z))};bD.__typeName='tab.TooltipResponsiveMode';bD.$0=function(){bD.$3++;return'mousemove.TooltipResponsiveMode'+bD.$3};bD.$2=function(){bD.$3++;return'touchmove.TooltipResponsiveMode'+bD.$3};bD.$1=function(){bD.$3++;return'mouseout.TooltipResponsiveMode'+bD.$3};global.tab.TooltipResponsiveMode=bD;var bE=function(L,bQ){this.$g=null;this.$b=0;this.$d=null;this.$e=null;this.$c=null;this.$f=null;this.$h=null;this.$g=L;var bR=L.$1;var bS=L.$2;var bT=L.$5*L.$0;this.$d=new Array(bT+1);this.$h=new Array(bT);this.$c=(bR?new Array(bT):null);this.$f=(bS?new Array(bT):null);this.$e=new Array(bQ.markCount);this.$b=this.$2(bQ)};bE.__typeName='tab.UserPaneInfo';global.tab.UserPaneInfo=bE;var bF=function(L,bQ,bR,bS,bT){this.$6=null;this.$a=null;this.$8=null;this.$9=null;this.$3=null;this.$5=null;this.$4=null;this.$7=null;spiff.BaseViewModel.call(this);this.$6=L;this.$a=bQ;this.$8=bR;this.$6.add_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(bS)){this.$9=bS.nodeSelection;this.$9.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(bT)){this.$3=bT.nodeSelection;this.$3.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(bS)||ss.isValue(bT)){this.$2()}var bU=ss.mkdel(this,function(){this.notifyPropertyChanged('font')});tab.ServerFontLoader.get_instance().add_fontPreparationComplete(bU);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(bU)}))};bF.__typeName='tab.VisualListViewModel';global.tab.VisualListViewModel=bF;var bG=function(){this.$4=null;this.$6=null;this.$5=null};bG.__typeName='tab.VisualObjectBoundsComputerAndHitTester';global.tab.VisualObjectBoundsComputerAndHitTester=bG;var bH=function(){};bH.__typeName='tab.VisualPartsHitTest';bH.hitTestAnnotationsHelper=function(L,bQ,bR){var bS=[];for(var bT=L.length-1;bT>=0;bT--){var bU=bH.$1(L[bT],bQ,bR);if(bU.get_hitType()===3){if(bR){return[bU]}else{bS.push(bU)}}}return bS};bH.hitTestRefLines=function(L,bQ,bR){var bS=G.createEmptyHitTestResult();var bT=[];for(var bU=0;bU<L.length;bU++){var bV=L[bU];var bW=bH.hitTestRefLine(bV.drawItems,bQ,bR);if(bW.get_hitType()!==0){if(bR){bS=G.tieBreak(bW,bS)}else{bT.push(bW)}}}if(bR){if(bS.get_hitType()===0){return[]}return[bS]}return bT};bH.hitTestRefLine=function(L,bQ,bR){var bS=G.createEmptyHitTestResult();var bT=bH.$0(L,'refpart-text');bS=bH.$2(bT,5,bQ,bR,bS);if(bS.get_hitType()===3){return bS}var bU=bH.$0(L,'refpart-geom');bS=bH.$2(bU,4,bQ,bR,bS);return bS};bH.hitTestTrendLines=function(L,bQ,bR){var bS=G.createEmptyHitTestResult();var bT=[];for(var bU=L.length-1;bU>=0;bU--){var bV=bH.$4(L[bU],bQ,bR);if(bV.get_hitType()===3){if(bR){return[bV]}else{bT.push(bV)}}if(bR&&bV.get_hitType()===2&&bS.get_hitType()===0){bS=bV}}if(bR){if(bS.get_hitType()===0){return[]}return[bS]}return bT};bH.$2=function(L,bQ,bR,bS,bT){for(var bU=L.length-1;bU>=0;bU--){var bV=L[bU];var bW=bH.$3(bV.drawItems,bQ,bR,bS,bV.objectId);if(bW.get_hitType()===3){return bW}if(bW.get_hitType()===2&&bT.get_hitType()===0){bT=bW}}return bT};bH.$3=function(L,bQ,bR,bS,bT){var bU=tab.RectXYUtil.dialate(bR,bH.visualPartNearHitTestExpansionPixels);var bV=1;var bW=new G.$ctor1(bT,bQ,0);for(var bX=0;bX<L.length;bX++){var bY=L[bX];switch(bY.type){case'draw-pen':{var bZ=bY;if(ss.isValue(bZ.strokeWidth)){bV=bZ.strokeWidth}break}case'draw-polyline':case'draw-fill-rect':{var ca=bY;var cb=ss.isValue(ca.useForOverlayHitTest)&&!ca.useForOverlayHitTest;var cc={x:ca.points[0],y:ca.points[1]};var cd={x:ca.points[2],y:ca.points[3]};var ce=tab.RectXYUtil.rectXYFromCorners$1(cc,cd);if(bY.type==='draw-polyline'){if(bV<3){ce=tab.RectXYUtil.dialate(ce,1)}}var cf=bS&&tab.RectXYUtil.intersectsWith(bU,ce);var cg=(!bS||cf)&&tab.RectXYUtil.intersectsWith(bR,ce);if(cg){bW=new G.$ctor1(bT,bQ,3);if(cb){bW.doNotRenderOverlay()}return bW}if(cf){bW=new G.$ctor1(bT,bQ,2);if(cb){bW.doNotRenderOverlay()}}break}default:{break}}}return bW};bH.$4=function(L,bQ,bR){var bS=G.createEmptyHitTestResult();if(bR){var bT=tab.RectXYUtil.dialate(bQ,bH.visualPartNearHitTestExpansionPixels);var bU=bH.$5(L,bT);if(ss.isValue(bU)){bS=new G.$ctor1(ss.unbox(bU),3,2)}}if(bS.get_hitType()===2||!bR){var bV=bH.$5(L,bQ);if(ss.isValue(bV)){bS=new G.$ctor1(ss.unbox(bV),3,3)}}return bS};bH.$1=function(L,bQ,bR){if(tab.RectXYUtil.intersectsWith(bQ,L.get_boundingBox())&&bR){return new G.$ctor1(L.get_objectId(),2,3)}else{return G.createEmptyHitTestResult()}};bH.$5=function(L,bQ){var bR=new Array;bR.push(L);while(bR.length>0){var bS=bR.pop();var bT=tab.RectXYUtil.intersectsWith(bS.get_boundingBox(),bQ);if(bT){if(bS.get_nodeType()===4||bS.get_nodeType()===0){var bU=bS.get_children();bU.forEach(function(bV){bR.push(bV)})}else if(bS.get_nodeType()===5){return bS.get_objectId()}}}return null};bH.$0=function(L,bQ){var bR=[];for(var bS=0;bS<L.length;bS++){var bT=L[bS];if(bT.type==='clip-rect'&&bQ==='refpart-clip-rect'){bR.push(bT)}else if(bT.type==='draw-group'){var bU=bT;var bV=_.find(bU.drawItems,function(bW){return bW.type==='draw-text'});if(bQ==='refpart-text'&&ss.isValue(bV)){bR.push(bT)}else if(bQ==='refpart-geom'&&ss.isNullOrUndefined(bV)){bR.push(bT)}}}return bR};global.tab.VisualPartsHitTest=bH;var bI=function(){};bI.__typeName='tab.VisualPartTargetState';global.tab.VisualPartTargetState=bI;var bJ=function(L){var bQ=function(bR,bS,bT){this.renderer=null;this.completeDocSize={w:0,h:0};this.containers=null;this.$n=null;this.$4$1=null;ss.makeGenericType(m,[L]).call(this,bR,bT);this.$n=bS;this.containers=$('.tvimagesContainer',this.$n);this.add_sizeChange(ss.mkdel(this,this.$l))};ss.registerGenericClassInstance(bQ,bJ,[L],{add_loadComplete:function(bR){this.$4$1=ss.delegateCombine(this.$4$1,bR)},remove_loadComplete:function(bR){this.$4$1=ss.delegateRemove(this.$4$1,bR)},get_docSize:function(){return this.completeDocSize},destroy:function(){this.dispose()},dispose:function(){this.remove_sizeChange(ss.mkdel(this,this.$l));this.renderer=null;ss.makeGenericType(m,[L]).prototype.dispose.call(this)},refreshImages:function(bR){},reset:function(bR,bS){if(ss.isNullOrUndefined(bR)){return}var bT={w:bR.w,h:bR.h};var bU=ss.isValue(this.completeDocSize)&&!tab.SizeUtil.equals(bT,this.completeDocSize);this.completeDocSize=bT;this.containers.width(bR.w);this.containers.height(bR.h);if(bU){this.$m()}},copyContent:function(bR){bR.drawImage1(this.canvasElt,0,0)},redraw:function(){if(!this.get_needsRedraw()||ss.isNullOrUndefined(this.renderer)){return}this.renderer.reset();this.context.save();this.context.setClip(this.$k());tab.CanvasUtil.scaleCanvasDrawing(this.context,this.get_pixelRatio());this.renderer.set_renderOffset(this.scrollOffset);this.performRender();this.context.restore();this.postRenderFinalPass();this.clearDirty();this.raiseLoadComplete()},redrawFinished:function(){},raiseLoadComplete:function(){if(ss.isValue(this.$4$1)){this.$4$1(this,ss.EventArgs.Empty)}},onViewModelPropertyChanged:function(bR,bS){this.invalidate(false)},performRender:null,postRenderFinalPass:null,$k:function(){var bR=this.get_pixelRatio();var bS=this.get_dirtyRect();var bT=bS.x*bR;var bU=bS.y*bR;var bV=(bS.x+bS.w)*bR;var bW=(bS.y+bS.h)*bR;var bX=Math.floor(bT);var bY=Math.floor(bU);return{x:bX,y:bY,w:Math.ceil(bV)-bX,h:Math.ceil(bW)-bY}},$l:function(){this.$m()},$m:function(){var bR=this.get_effectiveViewSize();var bS={x:Math.min(this.completeDocSize.w-bR.w,this.scrollOffset.x),y:Math.min(this.completeDocSize.h-bR.h,this.scrollOffset.y)};bS.x=Math.max(0,bS.x);bS.y=Math.max(0,bS.y);this.set_scrollPos(bS)}},function(){return ss.makeGenericType(m,[L])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[L]),spiff.IScrollable,N]});return bQ};bJ.__typeName='tab.VisualRegionCanvasView$1';ss.initGenericClass(bJ,a,1);global.tab.VisualRegionCanvasView$1=bJ;var bK=function(L,bQ,bR,bS,bT,bU,bV){this.$0=null;this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=0;this.$1$5=0;this.$1$6=null;this.$1$7=null;this.set_instanceId(++bK.$0);this.set_region(L);this.set_paneId(bQ);this.set_paneColumnIndex(bR);this.set_paneRowIndex(bS);this.set_regionCoordinates(bT);this.set_pageCoordinates(bU);this.$0=bV};bK.__typeName='tab.VizHitInfo';global.tab.VizHitInfo=bK;var bL=function(L,bQ){this.$0=null;this.$1=null;this.paneTable=null;this.region=null;this.lastEvent=null;this.$1$1=null;tab.Param.verifyValue(L,'paneTable');tab.Param.verifyValue(bQ,'region');this.paneTable=L;this.region=bQ;this.$1=new tab.Debouncer(ss.mkdel(this,function(){var bR=this.region.toLocalCoordsEvent(this.lastEvent,false);var bS=tab.PointUtil.add(bR,this.region.getLocalOffsetPoint(false));this.hitTest(bR,bS)}),250)};bL.__typeName='tab.VizHitTester';global.tab.VizHitTester=bL;var bM=function(){};bM.__typeName='tab.VizZoneFactory';global.tab.VizZoneFactory=bM;var bN=function(L,bQ){this.$1=0;this.$0=null;ss.EventArgs.call(this);this.$1=L;this.$0=bQ};bN.__typeName='tab.WorkerDoneEventArgs';global.tab.WorkerDoneEventArgs=bN;var bO=function(L){this.$0=0;ss.EventArgs.call(this);this.$0=L};bO.__typeName='tab.WorkerTimeoutEventArgs';global.tab.WorkerTimeoutEventArgs=bO;var bP=function(){};bP.__typeName='tab.ZoomComputer';bP.resolveDesiredZoom=function(L,bQ){var bR=ss.coalesce(L.mapIntermediateLevels,1);var bS=Math.floor(bQ*bR)/bR;bS+=Math.log(ss.coalesce(L.mapMaxStretch,1))/Math.LN2;var bT=Math.ceil(bQ*bR)/bR;bT+=Math.log(ss.coalesce(L.mapMinShrink,1))/Math.LN2;return((bQ+0.05<bT)?Math.min(bS,bQ):Math.max(bT,bQ))};bP.resolveDesiredScale=function(L,bQ){var bR=Math.log(bQ)/Math.LN2;var bS=bP.resolveDesiredZoom(L,L.mapRequestZoom+bR);var bT=bS-L.mapRequestZoom;var bU=Math.pow(2,bT);return bU};bP.incrementZoom=function(L,bQ){var bR=L+bQ;return bR};bP.combineTileZoomAndStretch=function(L,bQ){return L+Math.log(bQ)/Math.LN2};global.tab.ZoomComputer=bP;ss.initClass(b,a,{$1:function(){return this.$5},$0:function(){return this.$4}});ss.initClass(c,a,{$0:function(L){L.set_alpha(this.$1);L.set_lineJoin(this.$4);L.set_lineCap(this.$3);L.set_linePattern(this.$5);L.set_strokeStyle(this.$8);L.set_lineWidth(this.$6);L.set_textAngle(this.$a);L.set_font(this.$2);L.set_shapeFillStyle(this.$7);L.set_textFillStyle(this.$b);L.set_textAlign(this.$9)}});ss.initClass(d,a,{});ss.initInterface(K,a,{get_template:null,get_mapsSearchViewRootElement:null});ss.initClass(e,a,{get_template:function(){return this},get_mapsSearchViewRootElement:function(){return this.$1}},spiff.Template,[ss.IDisposable,K]);ss.initClass(f,a,{$7:function(){return this.$c},$4:function(){return this.$9},$5:function(){if(!this.$4()){}return this.$a},$6:function(){return(this.$9?this.$b:null)},$3:function(L,bQ,bR){this.$a=L;this.$8=bQ;this.$9=true;this.$b=bR},$0:function(){this.$9=false;this.$b=null},$2:function(L,bQ){return this.$1(L,bQ)&&this.$9},$1:function(L,bQ){return this.$a===L&&this.$8===bQ}});ss.initClass(g,a,{$d:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},$e:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},$f:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},$g:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},$8:function(){return!this.$9},$1:function(){this.$0()},$7:function(L){if(ss.isNullOrUndefined(L)){this.$5();return}if(this.$c!==-1){window.clearTimeout(this.$c);this.$c=-1}this.$b=L;this.$9=false;this.$0();var bQ=true;var bR=L.get_imageNode();var bS=$(bR);if(ss.isNullOrUndefined(bR)){var bT=document.createElement('img');L.set_imageNode(bT);bR=bT;bS=$(bR)}else{bQ=tab.DoubleUtil.roundToInt(bS.width())!==L.get_bounds().w||tab.DoubleUtil.roundToInt(bS.height())!==L.get_bounds().h;bR.style.visibility=''}if(bQ){$(bR).css(ss.mkdict(['left',L.get_bounds().l+'px','top',L.get_bounds().t+'px']))}bS.on('load',ss.mkdel(this,this.$3));bS.on('error',ss.mkdel(this,this.$2));bS.on('abort',ss.mkdel(this,this.$3));this.$c=window.setTimeout(ss.mkdel(this,function(){this.$4()}),600000);var bU=bS.attr('src');if(!tab.BrowserSupport.get_imageLoadIsSynchronous()){bS.attr('src',L.get_src())}else{window.setTimeout(function(){bS.attr('src',L.get_src())},0)}if(ss.referenceEquals(L.get_src(),bU)&&!tab.BrowserSupport.get_raisesEventOnImageReassignment()){window.setTimeout(ss.mkdel(this,function(){this.$3(null)}),0)}},$0:function(){if(ss.isValue(this.$b)&&ss.isValue(this.$b.get_imageNode())){var L=$(this.$b.get_imageNode());if(ss.isValue(L)){L.on('load',ss.mkdel(this,this.$3));L.on('error',ss.mkdel(this,this.$3));L.on('abort',ss.mkdel(this,this.$3))}}},$2:function(L){if(ss.isValue(L.currentTarget)){L.currentTarget.style.visibility='none'}this.$3(L)},$3:function(L){window.clearTimeout(this.$c);this.$c=-1;if(this.$9){return}this.$9=true;this.$5()},$4:function(){this.$9=true;this.$c=-1;this.$0();this.$6()},$5:function(){if(ss.isValue(this.$1$1)){this.$1$1(this,new bN(this.$a,this.$b))}},$6:function(){if(ss.isValue(this.$1$2)){this.$1$2(this,new bO(this.$a))}}});ss.initClass(h,a,{$0:function(){return this.$1$1},$1:function(L){this.$1$1=L},$2:function(){return this.$1$2},$3:function(L){this.$1$2=L}});ss.initClass(i,a,{$4:function(){return this.$8.get(0)},$5:function(){return tab.DoubleUtil.roundToInt(this.$8.width())},$3:function(L){var bQ=ss.mkdict(['backgroundColor',L]);this.$6.css(bQ);this.$7.css(bQ);this.$8.css(bQ)},$1:function(L,bQ){var bR=ss.mkdict(['width',L+'px']);if(bQ){this.$6.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated');this.$7.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated')}this.$6.css(bR);this.$7.css(bR)},$2:function(){this.$6.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated');this.$7.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated')}},spiff.Template,[ss.IDisposable]);ss.initClass(j,a,{$1:function(){this.$3=[]},$2:function(L,bQ,bR){if(ss.isValue(bR)){var bS=j.$0(L,'canvas');var bT=tab.RenderUtil.calculatePixelRatio();var bU=L[0];tab.CanvasUtil.setCanvasSizeAndDensify(bS,bT,{w:bU.offsetWidth,h:bU.offsetHeight})}else if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){j.$0(L,'div')}else{j.$0(L,'img');this.$3.push({name:bQ,node:L})}},$0:function(L,bQ,bR){if(this.$3.length>0){var bS=this.$3.length;for(var bT=0;bT<bS;bT++){var bU=this.$3[bT].node;if(ss.isValue(bU)){var bV=bQ.formatRegionTileURL(L,this.$3[bT].name,bR);var bW=bU.children().first();var bX=tab.RenderUtil.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(bX,1)){bW.css('width',bU[0].offsetWidth+'px')}bW.attr('src',bV)}}}}});ss.initClass(k,a,{$2:function(){return this.$4},$3:function(L){this.$4=L},$0:function(L,bQ){if(!ss.isValue(this.$4)){return false}return ss.referenceEquals(this.$4.getAttribute('src'),L)&&this.$1===bQ}});ss.initClass(l,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bt,a,{get_dom:function(){return this.$5},get_pi:function(){return this.$9},set_pi:function(L){this.$9=L},get_dragStart:function(){return this.$6},get_connectNodePos:function(){return this.$3},get_totalScrollOffset:function(){return this.$c},get_drawOffsets:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?{x:0,y:0}:this.get_totalScrollOffset())},get_autoScrollOffset:function(){return this.$2},get_tooltipAnchor:function(){return{x:this.$8.x+this.$c.x,y:this.$8.y+this.$c.y}},get_hitTestingBox:null,isSingleSelect:null,setSingleSelectPoint:function(L){this.$8={x:L.x,y:L.y}},dragStarted:function(L,bQ,bR){this.$6={x:L,y:bQ};this.$3=bR;this.$2={x:0,y:0}},recordScrollingOffsets:function(L){this.$c={x:L.x,y:L.y}},updateAndRenderShape:function(L){this.constrainShape(L);this.updateSpecificShape(this.$8);this.renderShape()},constrainShape:function(L){this.$8={x:L.pageX-this.$3.x,y:L.pageY-this.$3.y};if(ss.isInstanceOfType(this,n)){return}this.$8.y=Math.max(0,Math.min(this.$8.y,this.$3.h));this.$8.x=Math.max(0,Math.min(this.$8.x,this.$3.w))},shapeScrolled:function(L,bQ){this.get_dragStart().x-=L;this.get_dragStart().y-=bQ;this.$c.x+=L;this.$c.y+=bQ;this.$2.x+=L;this.$2.y+=bQ;this.updateSpecificShape(this.$8);this.renderShape()},updateSpecificShape:null,renderShape:null,createDomAndAppend:function(L){this.$5=$(this.$7);this.$5.addClass(this.$4);this.$5.css('display','none');this.$5.find('svg').attr('width',this.$b).attr('height',this.$a);L.append(this.$5)},show:null,hide:null,hitTest:function(L,bQ,bR){var bS=bQ||this.isSingleSelect();return(bS?this.$0(L,bR):this.$1(L,bR))},$0:function(L,bQ){var bR={x:this.$8.x,y:this.$8.y,w:1,h:1};var bS=L.hitTestBoundingBoxes(bR,true,bQ);return L.hitTestSingle(bR,bQ,bS)},$1:function(L,bQ){var bR=L.hitTestBoundingBoxes(this.get_hitTestingBox(),false,bQ);var bS=[];var bT=this.get_hitTestingBox();for(var bU=bR.length-1;bU>=0;bU--){var bV=bR[bU];var bW=bV.get_objectId();if(bW<0){continue}var bX=D.findPaneNode(bV);if(ss.isNullOrUndefined(bX)){continue}var bY=bQ.getPaneDrawInfoFromKey(bX.get_paneKey());var bZ=F.getTransformInfo(bY,bV);var ca=tab.RectXYUtil.intersect(bT,bX.get_boundingBox());var cb=this.shapeAreaHit(ca,bY,bV,bZ);if(cb){bS.push(new G.$ctor1(bY.c.get('tuple_id').gv(bW),6,1))}}return bS},shapeAreaHit:null,sendSelectionCommand:null,updateLastState:function(L){if(this.isStateObjectTypeCorrect(L)){L.updateLastState()}},getStateDiff:function(L){if(this.isStateObjectTypeCorrect(L)){this.saveCurrentState(L);return L.getStateDiff()}var bQ=new Array(1);bQ[0]=this.get_hitTestingBox();return bQ},retrieveStateObject:null,saveCurrentState:null,isStateObjectTypeCorrect:null});ss.initClass(n,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$f(true))},isSingleSelect:function(){return this.$i.radius<1},$f:function(L){return tab.CircleUtil.boundingBox((L?this.$j:this.$i))},updateSpecificShape:function(L){var bQ=this.get_dragStart().x-this.get_connectNodePos().x;var bR=this.get_dragStart().y-this.get_connectNodePos().y;var bS=Math.sqrt(Math.pow(bQ-L.x,2)+Math.pow(bR-L.y,2));this.$i={center:{x:bQ+this.get_drawOffsets().x,y:bR+this.get_drawOffsets().y},radius:bS};this.$j={center:{x:bQ+this.get_totalScrollOffset().x,y:bR+this.get_totalScrollOffset().y},radius:bS};if(this.$g()){this.$h()}},$g:function(){return ss.isValue(this.$k)&&ss.isValue(this.$k.get_radialSelectionDistanceInfoPresModel())&&this.$k.get_shouldShowDistance()},$h:function(){var L={x:this.$i.center.x+this.$i.radius,y:this.$i.center.y};var bQ=this.$d(L);if(bQ>0){this.displayDistance(bQ)}},$d:function(L){var bQ=this.$k.get_latLongRect();if(ss.isNullOrUndefined(bQ)||this.$k.get_mapWidth()<=0||this.$k.get_mapHeight()<=0){return 0}var bR={x:this.$i.center.x%this.$k.get_mapWidth(),y:this.$i.center.y%this.$k.get_mapHeight()};var bS={x:bR.x+(L.x-this.$i.center.x),y:bR.y};var bT=(bQ.maxLatitude-bQ.minLatitude)/this.$k.get_mapHeight();var bU=bQ.maxLatitude-bT*bR.y;var bV={item1:bQ.minLongitude,item2:bU};var bW={item1:bQ.maxLongitude,item2:bU};var bX=z.haversineDistance(bV,bW,this.$k.get_earthRadius());var bY=bX/this.$k.get_mapWidth();return Math.abs(bS.x-bR.x)*bY},displayDistance:function(L){var bQ=this.get_dom().find('.tabDistanceReadout');bQ.text(this.$e(L));var bR={x:ss.round(this.$i.center.x+this.$i.radius+this.$k.get_readoutOffsetPixels()),y:ss.round(this.$i.center.y)-ss.Int32.div(tab.DoubleUtil.roundToInt(bQ.height()),2)};bQ.css('left',bR.x+'px');bQ.css('top',bR.y+'px')},$e:function(L){var bQ=this.$k.get_smallUnitDisplay();if(L>=this.$k.get_unitTransition()){L/=this.$k.get_smallToLargeUnitDivisor();bQ=this.$k.get_largeUnitDisplay()}var bR=tab.DoubleUtil.sigFigs(L,this.$k.get_sigFigs());var bS=0;if(bR!==0){var bT=Math.floor(Math.log(Math.abs(bR))/Math.log(10))+1;bS=Math.max(0,this.$k.get_sigFigs()-bT)}var bU=bR.toFixed(bS);if(this.$k.get_decimalMark()===','&&bU.indexOf('.')!==-1){bU=ss.replaceAllString(bU,'.',this.$k.get_decimalMark())}return ss.formatString('{0}  {1}',bU,bQ)},formatReadoutTestHook:function(L){return this.$e(L)},computeRadialDistanceTestHook:function(L){return this.$d(L)},renderShape:function(){var L=this.get_dom().find('.circle_crosshair');var bQ=this.get_dom().find('.circle_radius');this.get_dom().find('svg circle').attr('cx',this.$i.center.x.toString()).attr('cy',this.$i.center.y.toString()).attr('r',this.$i.radius.toString());L.eq(0).attr('x1',(this.$i.center.x-4).toString()).attr('x2',(this.$i.center.x+4).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString());L.eq(1).attr('x1',this.$i.center.x.toString()).attr('x2',this.$i.center.x.toString()).attr('y1',(this.$i.center.y-4).toString()).attr('y2',(this.$i.center.y+4).toString());bQ.attr('x1',this.$i.center.x.toString()).attr('x2',(this.$i.center.x+this.$i.radius).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString())},show:function(){var L=this.get_dom().find('.tabDistanceReadout');var bQ=this.get_dom().find('.circle_radius');if(this.$g()){L.css('font-size',this.$k.get_fontSizePixels());L.css('color',this.$k.get_fontColor());L.show();bQ.show()}else{L.hide();bQ.hide()}this.get_dom().show()},hide:function(){this.get_dom().hide()},shapeAreaHit:function(L,bQ,bR,bS){var bT=this.$g();return F.circleAreaHit(bQ,bR.get_boundingBox(),this.$j,bR.get_objectId(),bS,bQ.markType,bT)},sendSelectionCommand:function(L,bQ,bR,bS){var bT=this.$g();tab.SelectionClientCommands.selectCircleRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$j,bQ,bR,bS,bT)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new o)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var bQ=L;bQ.saveCurrentState(this.$j)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),o)){return true}}return false}},bt);ss.initClass(bu,a,{updateLastState:null,getStateDiff:null});ss.initClass(o,a,{saveCurrentState:function(L){this.$0=tab.CircleUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.CircleUtil.isEmpty(this.$1)){return tab.CircleUtil.getChangedRects(this.$0,this.$1)}var L=new Array(1);L[0]=tab.CircleUtil.boundingBox(this.$0);return L}},bu);ss.initClass(p,a,{renderVisualListHelper:function(L,bQ){var bR=L.get_visualListPM().drawItems;this.renderDrawItems(bR,L,bQ,null)},renderDrawItems:function(L,bQ,bR,bS){var bT=this.get_currentContext();var bU=bT.get_numberSavedStates();var bV=4;for(var bW=0;bW<L.length;++bW){var bX=L[bW];if(true&&bW<bV&&bX.type==='transform'){}else if(bX.type==='draw-group'){var bY=bX;this.$9(bQ,bY,bR,bS)}else{this.$b(bT,bX,bR,null,bS,false)}}while(bT.get_numberSavedStates()>bU){bT.restore()}},renderVisualList:function(L,bQ){this.cachedVisibleRect=null;this.cachedVisibleRect=this.get_visibleRect();if(ss.isValue(L.get_defaultBackgroundColor())){this.get_currentContext().set_shapeFillStyle(L.get_defaultBackgroundColor());this.get_currentContext().fillRect(this.get_visibleRect().x,this.get_visibleRect().y,this.get_visibleRect().w,this.get_visibleRect().h)}this.renderVisualListHelper(L,bQ);this.cachedVisibleRect=null},renderDrawItemList:function(L){this.renderDrawItems(L,null,null,null)},renderCanvasBorders:function(L){var bQ=L.get_visualListPM().visualPart;var bR=L.get_visualListPM().drawItems;for(var bS=0;bS<bR.length;bS++){var bT=bR[bS];if(bT.type==='draw-pen'||bT.type==='draw-solid-brush'){this.renderDrawItemDefaultOptions(this.get_currentContext(),bT)}else if(bT.type==='draw-polyline'){var bU=this.get_currentCanvas().width;var bV=this.get_currentCanvas().height;var bW=bT;var bX=bW.points;if(ss.contains(p.$b,bQ)){if(Math.abs(bX[3]-bX[1])>=bV){var bY={};bY.type=bT.type;bY.points=[0,0,0,bV];this.renderDrawItemDefaultOptions(this.get_currentContext(),bY);bY.points[0]+=bU-1;bY.points[2]+=bU-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),bY);return}}else if(ss.contains(p.$c,bQ)){if(Math.abs(bX[2]-bX[0])>=this.get_currentCanvas().width){var bZ={};bZ.type=bT.type;bZ.points=[0,0,bU,0];this.renderDrawItemDefaultOptions(this.get_currentContext(),bZ);bZ.points[1]+=bV-1;bZ.points[3]+=bV-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),bZ);return}}}}},renderDrawItemDefaultOptions:function(L,bQ){this.$b(L,bQ,null,null,null,false)},$b:function(L,bQ,bR,bS,bT,bU){if(!ss.isValue(L)||!ss.isValue(bQ)){return}switch(bQ.type){case'draw-pen':{{var bV=bQ;L.set_lineJoin((ss.isValue(bV.lineJoin)?tab.CanvasRenderer.toCanvasLineJoin(bV.lineJoin):tab.TabRenderContext2D.defaultLineJoin));var bW='butt';var bX=bV.linePattern||tab.TabRenderContext2D.defaultLinePattern;if(bX!=='dashed'&&bX!=='dotted'){bW=(ss.isValue(bV.lineCap)?tab.CanvasRenderer.toCanvasLineCap(bV.lineCap):tab.TabRenderContext2D.defaultLineCap)}L.set_lineCap(bW);L.set_linePattern(bX);L.set_strokeStyle(tab.ColorModel.convertColorForCanvas(bV.color)||'rgb(0,0,0)');L.set_lineWidth(bV.strokeWidth||1)}break}case'draw-solid-brush':{{var bY=bQ;L.set_shapeFillStyle(tab.ColorModel.convertColorForCanvas(bY.color))}break}case'draw-gradient-brush':{{var bZ=bQ;var ca=bZ.pt1;var cb=bZ.pt2;var cc=L.createLinearGradient(ca.x,ca.y,cb.x,cb.y);cc.addColorStop(0,tab.ColorModel.convertColorForCanvas(bZ.color1));cc.addColorStop(1,tab.ColorModel.convertColorForCanvas(bZ.color2));L.set_shapeFillStyle(cc)}break}case'draw-rect':{{var cd=bQ;if(cd.points.length!==4){return}var ce=q.rectXYFromDrawRect(cd.points);L.strokeRect(ce.x,ce.y,ce.w,ce.h)}break}case'draw-fill-rect':{{var cf=bQ;if(cf.points.length!==4){return}var cg=q.rectXYFromDrawRect(cf.points);L.fillRect(cg.x,cg.y,cg.w,cg.h)}break}case'draw-ellipse':{{p.$2(L,bQ,false)}break}case'draw-fill-ellipse':{{p.$2(L,bQ,true)}break}case'draw-polyline':{{var ch=bQ;var ci=ch.points;tab.CanvasRenderer.strokePath(L,ci,false,true)}break}case'draw-polygon':{{var cj=bQ;tab.CanvasRenderer.strokePath(L,cj.points,true,true)}break}case'draw-fill-polygon':{{var ck=bQ;tab.CanvasRenderer.fillPath(L,ck.points,true)}break}case'draw-fill-path':{{p.$3(L,bQ,true)}break}case'draw-path':{{p.$3(L,bQ,false)}break}case'clip-rect':{{var cl=bQ;if(cl.points.length===4){if(true&&cl.points[2]-cl.points[0]===2){break}L.setClip({x:cl.points[0],y:cl.points[1],w:cl.points[2]-cl.points[0],h:cl.points[3]-cl.points[1]})}}break}case'draw-text':{{var cm=bQ;if(cm.points.length!==2){return}var cn=cm.points[0];var co=cm.points[1];var cp=-1;if(ss.isValue(bS)&&bS.w!==0&&bS.h!==0){var cq;var cr;if(L.get_isTextAngleHorizontal()){cq=((bS.x>cn)?cn:(cn-bS.x));cr=bS.w}else{cq=((bS.y>co)?co:(co-bS.y));cr=bS.h}cp=Math.max(cq,cr-cq)}this.renderText(cm.text,cn,co,cp,null,bU)}break}case'draw-text-props':{{p.$0(L,bQ)}break}case'transform':{{var cs=bQ;if(ss.isValue(cs.transformOffset)&&cs.transformOffset.length===2){L.translate(cs.transformOffset[0],cs.transformOffset[1])}if(ss.isValue(cs.transformScale)&&cs.transformScale.length===2){L.scale(cs.transformScale[0],cs.transformScale[1])}if(ss.isValue(cs.transformAngle)){L.rotate(cs.transformAngle*Math.PI/180)}}break}case'transform-pop':{{var ct=new c(L);L.restore();ct.$0(L)}break}case'transform-push':{{L.save()}break}case'draw-antialias':{{var cu=bQ;L.set_shouldAntialias(cu.state)}break}case'draw-image':{{var cv=bQ;if(ss.isValue(bR)&&bR.has(cv.imageHash)){var cw=bR.get(cv.imageHash);if(ss.isValue(cw)&&cw.complete){L.save();if(ss.isValue(bT)){L.setClip(bT)}L.set_alpha(cv.alpha);L.drawImage4(cw,cv.destBox[0],cv.destBox[1],cv.destBox[2]-cv.destBox[0],cv.destBox[3]-cv.destBox[1]);L.restore()}}else{}}break}default:{{}break}}},$9:function(L,bQ,bR,bS){var bT=ss.isValue(L)&&L.get_visualListPM().visualPart==='annotations';this.clearPrevTextRunInfo();var bU=this.get_currentContext();var bV=false;bQ.extentsX=bQ.extentsX||0;bQ.extentsY=bQ.extentsY||0;bQ.extentsWidth=bQ.extentsWidth||0;bQ.extentsHeight=bQ.extentsHeight||0;var bW={x:bQ.extentsX,y:bQ.extentsY,w:bQ.extentsWidth,h:bQ.extentsHeight};var bX=tab.RectXYUtil.offsetRect(bU.dirtyRect,this.get_renderOffset());if(bQ.extentsWidth>0&&bQ.extentsHeight>0&&(!this.isRectVisible(bW)||!tab.RectXYUtil.intersectsWith(bX,bW))){bV=true}var bY=this.$a(L,bQ,bV);var bZ=p.$6(bQ.drawItems,bT);for(var ca=0;ca<bZ.length;ca++){var cb=bZ[ca];if(bY.$0()&&cb.type==='draw-solid-brush'){var cc=cb;bY.$2=tab.ColorModel.convertColorForCanvas(cc.color)}else{var cd=null;if(bY.$0()&&cb.type==='draw-text-props'){var ce=cb;bY.$3=tab.ColorModel.convertColorForCanvas(ce.color);cd=bU.get_textFillStyle()}if(!bV||p.$5(cb)){this.$b(bU,cb,bR,bW,bS,bT)}if(ss.isValue(cd)){bU.set_textFillStyle(cd)}}}if(bY.$0()){bU.set_shapeFillStyle(bY.$2);bU.set_textFillStyle(bY.$3)}},$a:function(L,bQ,bR){var bS=null;if(!bR&&ss.isValue(L)){if(L.isSelected(bQ)){bS=new b('selected')}else if(L.isBrushed(bQ)){bS=new b('highlighted')}else if(L.isNodeOrAxisHovered(bQ)){bS=new b('hover')}}if(ss.isNullOrUndefined(bS)){return new b('normal')}var bT=this.get_currentContext();bS.$2=bT.get_shapeFillStyle();bS.$3=bT.get_textFillStyle();switch(bS.$1()){case'selected':{bT.set_textFillStyle(this.$c.selectionTextColor.toRgba());bT.set_shapeFillStyle(this.$c.selectionBgColor.toRgba());break}case'highlighted':{bT.set_textFillStyle(this.$c.highlightTextColor.toRgba());bT.set_shapeFillStyle(this.$c.highlightBgColor.toRgba());break}case'hover':{bT.set_textFillStyle('rgb(0,0,0)');bT.set_shapeFillStyle('rgb(245,245,245)');break}}var bU=ss.isValue(bQ.offsetX)||ss.isValue(bQ.offsetY);if(bU){bQ.offsetX=bQ.offsetX||0;bQ.offsetY=bQ.offsetY||0;bT.translate(-bQ.offsetX,-bQ.offsetY)}bT.fillRect(bQ.extentsX,bQ.extentsY,bQ.extentsWidth,bQ.extentsHeight);if(bU){bT.translate(bQ.offsetX,bQ.offsetY)}return bS}},tab.CanvasRenderer);ss.initClass(q,a,{});ss.initClass(r,a,{add_complete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_complete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},add_imageLoaded:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},remove_imageLoaded:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},add_imageTimedOut:function(L){this.$1$3=ss.delegateCombine(this.$1$3,L)},remove_imageTimedOut:function(L){this.$1$3=ss.delegateRemove(this.$1$3,L)},addImage:function(L){if(!ss.isValue(L)){return}for(var bQ=0,bR=this.$3.length;bQ<bR;bQ++){if(!this.$3[bQ].$8()){this.$2++;this.$3[bQ].$7(L);return}}if(this.$3.length<2){var bS=new g(this.$3.length);bS.$d(ss.mkdel(this,this.onWorkerFinished));bS.$f(ss.mkdel(this,this.onWorkerTimedOut));this.$3.push(bS);this.$2++;bS.$7(L)}else{this.$1.push(L)}},clear:function(){ss.clear(this.$1)},destroy:function(){for(var L=0;L<this.$3.length;L++){var bQ=this.$3[L];bQ.$1()}ss.clear(this.$1);this.$1$2=null;this.$1$3=null;this.$1$1=null},onWorkerFinished:function(L,bQ){if(ss.isValue(this.$1$2)){this.$1$2(this,new J(bQ.get_image()))}this.$0(bQ.get_workerID())},onWorkerTimedOut:function(L,bQ){if(ss.isValue(this.$1$3)){this.$1$3(this,ss.EventArgs.Empty)}this.$0(bQ.get_workerID())},$0:function(L){this.$2--;if(this.$1.length===0){if(this.$2===0){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}}else{this.$3[L].$7(this.$1.shift());this.$2++}}});ss.initClass(s,a,{render:function(){var L='fztButton';if(this.props.isSelected){L+=' selected'}var bQ=['tab-fzt-toggle-button-icon',this.props.iconClassName,(this.props.shouldShowAppendSubIcon?'tab-select-tool-append-mode':null)].join(' ');var bR=(ss.isNullOrEmptyString(this.props.buttonTooltip)?null:spiff.DOMElements.div({className:'tab-mobileTooltip'},this.props.buttonTooltip));var bS=(this.props.shouldShowFlyoutCaret?spiff.DOMElements.div({className:'tab-floating-toolbar-flyout-caret'}):null);return spiff.EventForwarder.span(this.$0(),{className:L,title:this.props.buttonTooltip,role:'button'},[spiff.DOMElements.div({className:bQ}),bS,bR])},$1:function(L){this.props.onTap(this.props.buttonId)},$0:function(){return{tap:ss.mkdel(this,this.$1)}}},React.Component);ss.initEnum(t,a,{radialSelect:0,lassoSelect:1,rectangleSelect:2,appendSelect:3,pan:4,zoomHome:5});ss.initClass(u,a,{render:function(){return(this.props.showToolbar?ss.mkdel(this,this.renderContainer)():null)},renderContainer:function(){return React.createElement(w,{getAnchorPosition:this.props.getAnchorPosition},[this.$2(),(this.props.showMapsSearch?ss.mkdel(this,this.$3)():null),this.$7()])},$2:function(){return spiff.EventForwarder.div(this.$0(),{className:'tab-floating-toolbar-close-button-container',role:'button',title:tab.Strings.PanZoomSelectToolsCloseButtonTooltipMobile},[spiff.DOMElements.div({className:'tab-floating-toolbar-close-button'})])},$3:function(){return React.createElement(V,this.props.mapsSearchProps)},$7:function(){var L=this.props.showTools||this.props.showPanAndZoom&&!this.props.isHomeButtonHidden;return spiff.DOMElements.div({className:['FloatingZoomToolbar','tabSuppressVizTooltipsAndOverlays'].join(' ')},(L?ss.mkdel(this,this.$6)():null),this.$8())},$6:function(){return spiff.DOMElements.div({className:'fztButtonContainer'},(this.props.showTools?ss.mkdel(this,this.$5)():null),((this.props.showTools&&this.props.showPanAndZoom)?ss.mkdel(this,this.$4)():null),((this.props.showPanAndZoom&&!this.props.isHomeButtonHidden)?ss.mkdel(this,this.$9)():null))},$5:function(){return spiff.DOMElements.div({className:'fztSelectionToolContainer'},React.createElement(s,this.props.selectedButtonProps))},$4:function(){return React.createElement(s,this.props.panButtonProps)},$9:function(){return React.createElement(s,this.props.homeButtonProps)},$8:function(){var L=spiff.DOMElements.div({className:'fztFlyOutContainer'},spiff.DOMElements.div({className:'fztFlyOutButtons'},React.createElement(s,this.props.radialSelectButtonProps),React.createElement(s,this.props.lassoSelectButtonProps),React.createElement(s,this.props.rectangleSelectButtonProps),React.createElement(s,this.props.appendSelectButtonProps)));return(this.props.isFlyoutCollapsed?null:L)},$1:function(L){this.props.onClose()},$0:function(){return{tap:ss.mkdel(this,this.$1)}}},React.Component);ss.initClass(v,a,{add_dismissRequested:function(L){this.$3$1=ss.delegateCombine(this.$3$1,L)},remove_dismissRequested:function(L){this.$3$1=ss.delegateRemove(this.$3$1,L)},add_toolSelectionRequested:function(L){this.$3$2=ss.delegateCombine(this.$3$2,L)},remove_toolSelectionRequested:function(L){this.$3$2=ss.delegateRemove(this.$3$2,L)},add_appendModeSettingRequested:function(L){this.$3$3=ss.delegateCombine(this.$3$3,L)},remove_appendModeSettingRequested:function(L){this.$3$3=ss.delegateRemove(this.$3$3,L)},add_zoomHomeRequested:function(L){this.$3$4=ss.delegateCombine(this.$3$4,L)},remove_zoomHomeRequested:function(L){this.$3$4=ss.delegateRemove(this.$3$4,L)},get_mapsSearchViewModel:function(){return this.$3$5},set_mapsSearchViewModel:function(L){this.$3$5=L},$f:function(){return this.$n.buttonId},$g:function(){return this.$i[3].isSelected},$h:function(){return this.$m.isSelected},showToolbar:function(L){this.$q=true;this.$j=L;this.incrementProps()},hideToolbar:function(){if(!this.$q){return}this.$q=false;this.incrementProps()},showTools:function(L){this.$r=L;if(!L){this.$k=true}this.incrementProps()},showMapsSearch:function(){this.$o=true;this.incrementProps()},hideMapsSearch:function(){this.$o=false;this.incrementProps()},shouldEnablePanAndZoom:function(L){this.$p=L;this.incrementProps()},updateZoomHomeState:function(L){this.$l=L;this.incrementProps()},$9:function(L){if(L==='pan-map'){this.$c()}else{var bQ=v.$0(L);this.$d(bQ)}},$8:function(L){this.$i[3].isSelected=L;this.$n.shouldShowAppendSubIcon=L;this.incrementProps()},$c:function(){this.$m.isSelected=true;this.$i[this.$f()].isSelected=false;this.$n.isSelected=false;this.incrementProps()},$d:function(L){this.$i[this.$f()].isSelected=false;this.$i[L].isSelected=true;this.$n.buttonId=this.$i[L].buttonId;this.$n.iconClassName=this.$i[L].iconClassName;this.$n.buttonTooltip=this.$i[L].buttonTooltip;this.$n.isSelected=true;this.$m.isSelected=false;this.incrementProps()},$6:function(){this.$k=true;this.incrementProps()},$5:function(L){var bQ=!this.$g();this.raiseActionEvent$1(Boolean).call(this,this.$3$3,bQ);this.$6()},$e:function(L){this.raiseActionEvent$1(Object).call(this,this.$3$2,v.$1(L));this.$6()},$7:function(L){this.raiseActionEvent(this.$3$4);this.$6()},$b:function(L){if(this.$h()){this.raiseActionEvent$1(Object).call(this,this.$3$2,v.$1(L))}else{this.$k=!this.$k;this.incrementProps()}},$a:function(){this.raiseActionEvent(this.$3$1)},createInitialProps:function(){return{onClose:ss.mkdel(this,this.$a),homeButtonProps:{buttonId:5,iconClassName:'tab-map-home',buttonTooltip:tab.Strings.PanZoomSelectToolsZoomHomeTooltip,onTap:ss.mkdel(this,this.$7)}}},createUpdatedProps:function(){return{mapsSearchProps:{viewModel:this.get_mapsSearchViewModel()},showToolbar:this.$q,showTools:this.$r,showMapsSearch:this.$o,showPanAndZoom:this.$p,panButtonProps:this.$m,radialSelectButtonProps:this.$i[0],lassoSelectButtonProps:this.$i[1],rectangleSelectButtonProps:this.$i[2],appendSelectButtonProps:this.$i[3],selectedButtonProps:this.$n,isFlyoutCollapsed:this.$k,isHomeButtonHidden:this.$l,getAnchorPosition:this.$j}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(w,a,{$0:function(){tab.ViewportChangeDetector.get_instance().add_viewportChanged(ss.mkdel(this,this.$2));tab.Application.get_instance().get_client().get_dashboardViewport().add_scrolled(ss.mkdel(this,this.$2))},$3:function(){tab.ViewportChangeDetector.get_instance().remove_viewportChanged(ss.mkdel(this,this.$2));tab.Application.get_instance().get_client().get_dashboardViewport().remove_scrolled(ss.mkdel(this,this.$2))},componentDidMount:function(){this.$5();this.$0();this.$2()},componentWillUnmount:function(){this.$3()},$5:function(){if(ss.isValue(this.$8)){this.$8.style.display='none'}},$6:function(){if(ss.isValue(this.$8)){this.$8.style.display=''}},$2:function(){if(ss.isNullOrUndefined(tab.ViewportChangeDetector.get_instance().get_lastViewportRect())){return}this.$5();tab.WindowHelper.cancelAnimationFrame(this.$9);this.$a=tab.DateUtil.get_nowAsTime();this.$9=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))},$1:function(){var L=tab.DateUtil.get_nowAsTime();if(L-this.$a>=300){this.$4()}else{this.$9=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,this.$1))}},$4:function(){if(ss.isValue(this.$8)){var L=tab.Application.get_instance().get_client().get_dashboardViewport();var bQ=tab.ViewportChangeDetector.get_instance().get_lastViewportRect();var bR={x:bQ.l,y:bQ.t};var bS=L.convertPointFromPageToDashboardCoords(bR);var bT={l:bS.x,t:bS.y,w:bQ.w,h:bQ.h};var bU=tab.RectUtil.intersect(bT,L.get_visibleRect());var bV=this.props.getAnchorPosition();var bW=L.convertPointFromPageToDashboardCoords(bV);this.$8.style.left=Math.max(bW.x,bU.l)+'px';this.$8.style.top=Math.max(bW.y,bU.t)+'px';this.$6()}},render:function(){return spiff.DOMElements.div({className:'tab-floating-toolbar-container',ref:this.$7},this.props.children)}},React.Component);ss.initClass(x,a,{get_currentToolMode:function(){return this.$8},set_currentToolMode:function(L){if(L!==this.$8){var bQ=this.$8;this.$8=L;this.toolModeChanged(bQ)}else if(L===this.api.defaultPointerToolMode()){this.updateFlyOutVisibility(false);this.updateButtonState(L,true)}},get_floatingToolbarType:function(){return this.toolbarType},dispose:function(){try{this.disposables.dispose()}catch(L){}if(ss.isValue(this.buttonContainer)){this.buttonContainer.remove()}if(ss.isValue(this.flyOutButtons)){this.flyOutButtons.remove()}if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.remove()}this.api=null;this.buttonContainer=null;this.flyOutButtons=null;this.flyOutContainer=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomAreaButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;spiff.Widget.prototype.dispose.call(this)},setZoomHomePossibility:function(L){this.canZoomHome=L;if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(this.canZoomHome)}},setActiveState:function(L){if(this.toolbarType==='homeOnlyToolbar'&&!this.canZoomHome){this.element.css({display:'none'})}else{this.element.css({display:(L?'':'none')})}if(!L){this.updateFlyOutVisibility(false)}},resetPointerToolMode:function(){this.set_currentToolMode(this.api.defaultPointerToolMode());this.api.setPointerToolMode(this.get_currentToolMode(),false);this.updateFlyOutVisibility(false)},resetVisualState:function(){this.updateFlyOutVisibility(false)},enableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')});this.$7=L},init:function(){this.createButtons();this.resetPointerToolMode();this.setActiveState(false)},createButtons:null,setupEventHandling:function(){if(ss.isValue(this.rectSelectButton)){this.disposables.add$1(this.rectSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('rectangular-selection')}})));this.disposables.add$1(this.rectSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true)})))}if(ss.isValue(this.panButton)){this.disposables.add$1(this.panButton.onClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('pan-map')}})));this.disposables.add$1(this.panButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true)})))}if(ss.isValue(this.radialSelectButton)){this.disposables.add$1(this.radialSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('radial-selection')}})));this.disposables.add$1(this.radialSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true)})))}if(ss.isValue(this.lassoSelectButton)){this.disposables.add$1(this.lassoSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('lasso-selection')}})));this.disposables.add$1(this.lassoSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true)})))}if(ss.isValue(this.zoomHomeButton)){this.disposables.add$1(this.zoomHomeButton.onClick(ss.mkdel(this,function(){this.clickZoomHome()})))}},updateFlyOutVisibility:function(L){if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.css({display:(L?'':'none')})}},toggleFlyout:function(L){if(!this.$7){return}if(this.flyOutContainer.is(':visible')){this.updateFlyOutVisibility(false)}else{var bQ=this.flyOutButton.element.position();var bR=tab.DoubleUtil.roundToInt(this.flyOutButton.element.width());this.flyOutContainer.css({top:bQ.top+'px',left:bR+'px'});this.updateFlyOutVisibility(true)}},addButton:function(L,bQ,bR){var bS=new spiff.Button($(document.createElement('div')));bS.set_hoverTooltipText(bR);var bT=bS;this.$6(L,bT,bQ);return bT},addToggleButton:function(L,bQ,bR){var bS=new spiff.ToggleButton($(document.createElement('span')));bS.set_hoverTooltipText(bR);var bT=bS;this.$6(L,bT,bQ);return bT},addSpacer:function(){var L=$(document.createElement('div'));L.addClass('fztSpacer');this.buttonContainer.append(L)},$6:function(L,bQ,bR){bQ.element.addClass(bR);bQ.element.addClass('fztButton');L.append(bQ.element);this.disposables.add$1(bQ)},setToolMode:function(L,bQ){if(L===this.get_currentToolMode()){this.set_currentToolMode(this.api.defaultPointerToolMode())}else{this.set_currentToolMode(L)}this.api.setPointerToolMode(this.get_currentToolMode(),bQ)},clickZoomHome:function(){if(this.canZoomHome){this.api.zoomHome()}},createButtonContainer:function(){this.buttonContainer=$("<div class='fztButtonContainer'/>");this.element.append(this.buttonContainer);if(ss.isValue(this.parent)){this.parent.append(this.element)}},createButtonFlyOut:function(){this.flyOutContainer=$("<div class='fztFlyOutContainer'/>");this.updateFlyOutVisibility(false);this.element.append(this.flyOutContainer);this.flyOutButtons=$("<div class='fztFlyOutButtons'/>");this.flyOutContainer.append(this.flyOutButtons)},updateButtonState:function(L,bQ){switch(L){case'area-zoom':case'zoom-out':{this.selectButton(this.zoomAreaButton,bQ);break}case'pan-map':{if(ss.isValue(this.panButton)){this.selectButton(this.panButton,bQ)}break}case'rectangular-selection':{if(ss.isValue(this.rectSelectButton)){this.selectButton(this.rectSelectButton,bQ)}break}case'radial-selection':{this.selectButton(this.radialSelectButton,bQ);break}case'lasso-selection':{this.selectButton(this.lassoSelectButton,bQ);break}default:{break}}},selectButton:function(L,bQ){var bR=ss.safeCast(L,spiff.ToggleButton);if(ss.isValue(bR)){bR.set_selected(bQ)}},toolModeChanged:function(L){this.updateButtonState(L,false);this.updateButtonState(this.get_currentToolMode(),true);this.updateFlyOutVisibility(false)}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(y,a,{get_toolBarIsOffOrHome:function(){return ss.isNullOrUndefined(this.zoomToolbar)||this.zoomToolbar.get_floatingToolbarType()==='homeOnlyToolbar'},resetPointerToolbarMode:function(){if(ss.isNullOrUndefined(this.zoomToolbar)&&this.$1!=='hide'){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetPointerToolMode();return true}return false},updateZoomToolbar:function(L){this.$1=L;if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose();this.zoomToolbar=null;if(this.$1!=='hide'){this.createZoomToolbar();this.showFloatingZoomToolbar(true)}}if(this.$0.get_shouldEnableZoomHomeToolbar()&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$0.get_shouldEnableZoomHomeToolbar())}},determineToolbarType:function(){var L='fullToolbar';if(!this.$0.get_shouldShowTools()){L='homeOnlyToolbar'}else if(!this.$0.allowPanZoomActions()){L='disablePanZoomToolbar'}if(tsConfig.is_mobile){if(L==='fullToolbar'&&this.$0.isVizLargerThanScreen()){return'disablePanZoomToolbar'}}return L},showFloatingZoomToolbar:function(L){if(L&&this.$1!=='hide'&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$0.get_shouldEnableZoomHomeToolbar());this.zoomToolbar.setActiveState(L)}},createZoomToolbar:function(){if(!tsConfig.allow_filter){return}var L=tsConfig.is_mobile&&tab.FeatureFlags.isEnabled('TouchSmoothTooltips');if(ss.isNullOrUndefined(this.zoomToolbar)&&!L){var bQ=this.$0.get_zoomToolbarContainerDiv();var bR=this.$0.get_isMapSearchEnabled();var bS=this.$0.get_zoomToolbarOperations();var bT=this.determineToolbarType();var bU=this.$0.get_zoomToolbarOffset();var bV=tab.ObjectRegistry.resolve(x).call(null,[bQ,bS,bT,bU,bR]);bV.addClass('tabSuppressVizTooltipsAndOverlays');this.zoomToolbar=bV}},enableUserInteraction:function(L){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(L)}},resetVisualState:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetVisualState()}},setToolMode:function(L,bQ){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setToolMode(L,bQ);return true}return false},dispose:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose()}}},null,[ss.IDisposable]);ss.initClass(z,a,{});ss.initClass(A,a,{get_button:function(){return this.$a},$9:function(){var L={timeout:6000,enableHighAccuracy:true};window.navigator.geolocation.getCurrentPosition(ss.mkdel(this,this.$7),ss.mkdel(this,this.$8),L)},$7:function(L){var bQ={};var bR=Math.abs(0.0063306021306998);var bS=Math.abs(L.coords.latitude);var bT=89.9936693978693;if(bS>bT){bQ.minLatitude=((L.coords.latitude<0)?-90:(L.coords.latitude-bR));bQ.maxLatitude=((L.coords.latitude<0)?(L.coords.latitude+bR):90)}else{bQ.minLatitude=L.coords.latitude-bR;bQ.maxLatitude=L.coords.latitude+bR}var bU;var bV=Math.cos(z.degreeToRad(bS));var bW=3.49343234718729E-05;if(bV<bW){bU=180}else{bU=0.7/(111.32*bV)}bQ.minLongitude=L.coords.longitude-bU;bQ.maxLongitude=L.coords.longitude+bU;tab.PaneClientCommands.boundingBoxPan(this.$b,bQ)},$6:function(L){var bQ='';if(L.code===L.PERMISSION_DENIED){if(A.$0()){bQ=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{bQ=tab.Strings.GotoMyLocationPermissionDeniedError}}else if(L.code===L.TIMEOUT){bQ=tab.Strings.GotoMyLocationTimeoutError}else if(L.code===L.POSITION_UNAVAILABLE){if(A.$0()){bQ=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{bQ=tab.Strings.GotoMyLocationPositionUnavailableError}}else{bQ=tab.Strings.GotoMyLocationPositionUnavailableError}return bQ},$8:function(L){var bQ=this.$6(L);var bR=this.element.offset();var bS={x:tab.DoubleUtil.roundToInt(bR.left)+tab.DoubleUtil.roundToInt(this.element.width())+8,y:tab.DoubleUtil.roundToInt(bR.top)};if(tsConfig.is_mobile){bS.y+=ss.Int32.div(tab.DoubleUtil.roundToInt(this.element.height()),4)}tab.NotificationViewModel.showGeoLocationNotification(bQ,-1,{x:bS.x,y:bS.y})}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(Z,a,{renderMultipolygonMark:function(L,bQ,bR){var bS=L.get_hasSelection();var bT=L.get_hasBrushing();var bU='colorOverrideNone';var bV=L.getUserPaneMarkRange(bQ);var bW=bV.firstMark;var bX=bV.lastMark;var bY=L.getUserPaneRectByIndex(bQ);this.get_currentContext().save();switch(bR){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,cb,'normalUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}if(bS||bT){bU='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,cb,'normalUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,cb,'normalOn',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bS||bT){bU='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,cb,'normalOn',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bS||bT){bU='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,cb,'selectedUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bS||bT){bU='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,cb,'normalOn',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawMultipolygonMarkLayer:function(L,bQ,bR,bS){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bQ),L.c.get('cell_y').gv(bQ),L.c.get('clip_width').gv(bQ),L.c.get('clip_height').gv(bQ))}var bT=((bR!=='normalOn')?0:Z.$d());var bU='empty';var bV=L.getMarkGeometry(L.c.get('geometry').gv(bQ));if(ss.isValue(bV)){bU=bV.geometryType}switch(bU){case'multiPolygon':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(bQ),L.c.get('y').gv(bQ));this.get_currentContext().scale(L.c.get('size').gv(bQ),L.c.get('size').gv(bQ))}tab.CanvasRenderer.createMultipolygonPath(this.get_currentContext(),bV);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(bR){case'normalUnder':{{this.strokeCurrentPath(2-bT,L.c.get('halo_color').gv(bQ)[bS])}break}case'selectedUnder':{{this.strokeCurrentPath(2-bT,L.c.get('selected_halo_color').gv(bQ)[bS])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(bQ)[bS])}if(L.c.get('draw_border').gv(bQ)){this.strokeCurrentPath(1-bT,L.c.get('border_color').gv(bQ)[bS])}break}default:{break}}break}case'multiLineString':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(bQ),L.c.get('y').gv(bQ));this.get_currentContext().scale(L.c.get('size').gv(bQ),L.c.get('size').gv(bQ))}tab.CanvasRenderer.createMultiLinePath(this.get_currentContext(),bV);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(bR){case'normalUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(bQ)+4,L.c.get('halo_color').gv(bQ)[bS])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),bV.multiLine,L.c.get('size').gv(bQ)+4,2,L.c.get('halo_color').gv(bQ)[bS])}break}case'selectedUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(bQ)+4,L.c.get('selected_halo_color').gv(bQ)[bS])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),bV.multiLine,L.c.get('size').gv(bQ)+4,2,L.c.get('selected_halo_color').gv(bQ)[bS])}break}case'normalOn':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(bQ),L.getMarkColors(bQ)[bS])}break}default:{break}}break}case'multiPoint':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(bQ),L.c.get('y').gv(bQ));this.get_currentContext().scale(L.c.get('size').gv(bQ),L.c.get('size').gv(bQ))}tab.CanvasRenderer.createMultipointPath(this.get_currentContext(),7,bV);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(bR){case'normalUnder':{{this.strokeCurrentPath(2-bT,L.c.get('halo_color').gv(bQ)[bS])}break}case'selectedUnder':{{this.strokeCurrentPath(2-bT,L.c.get('selected_halo_color').gv(bQ)[bS])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(bQ)[bS])}if(L.c.get('draw_border').gv(bQ)){this.strokeCurrentPath(1-bT,L.c.get('border_color').gv(bQ)[bS])}break}default:{break}}break}case'empty':{tab.CanvasRenderer.createPlaceholderPath(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),7);switch(bR){case'normalUnder':{{this.strokeCurrentPath(2-bT,L.c.get('halo_color').gv(bQ)[bS])}break}case'selectedUnder':{{this.strokeCurrentPath(2-bT,L.c.get('selected_halo_color').gv(bQ)[bS])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(bQ)[bS])}if(L.c.get('draw_border').gv(bQ)){this.strokeCurrentPath(1-bT,L.c.get('border_color').gv(bQ)[bS])}break}default:{break}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderAreaMark:function(L,bQ,bR){var bS=L.get_hasSelection();var bT=L.get_hasBrushing();var bU='colorOverrideNone';var bV=L.getUserPaneMarkRange(bQ);var bW=bV.firstMark;var bX=bV.lastMark;var bY=L.getUserPaneRectByIndex(bQ);var bZ=L.get_lineDrawState();this.get_currentContext().save();switch(bR){case'normalUnderPass':{break}case'normalOnPass':{if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}var ca=bZ.get_lineAttributes();for(var cb=0;cb<ca.length;cb++){var cc=ca[cb];if(cc.get_lineState()!=='lineStateNormal'){continue}var cd=cc.worldOffsets;var ce=cd.length;for(var cf=0;cf<ce;cf++){var cg=cd[cf];Z.$c(this.get_currentContext(),cg);{for(var ch=0;ch<cc.marksNeedingDraw.length;ch++){var ci=cc.marksNeedingDraw[ch];this.drawAreaMarkLayer(L,ci,'edgeOn',bU,cc.startIndex)}}if(cg!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bS||bT){bU='colorOverrideNone';var cj=bZ.get_lineAttributes();for(var ck=0;ck<cj.length;ck++){var cl=cj[ck];if(cl.get_lineState()!=='lineStateHighlighted'){continue}var cm=cl.worldOffsets;var cn=cm.length;for(var co=0;co<cn;co++){var cp=cm[co];Z.$c(this.get_currentContext(),cp);{for(var cq=0;cq<cl.marksNeedingDraw.length;cq++){var cr=cl.marksNeedingDraw[cq];this.drawAreaMarkLayer(L,cr,'edgeOn',bU,cl.startIndex)}}if(cp!==0){this.get_currentContext().restore()}}}var cs=bZ.get_lineAttributes();for(var ct=0;ct<cs.length;ct++){var cu=cs[ct];if(cu.get_lineState()!=='lineStateHighlighted'){continue}var cv=cu.worldOffsets;var cw=cv.length;for(var cx=0;cx<cw;cx++){var cy=cv[cx];Z.$c(this.get_currentContext(),cy);if(!cu.get_allHighlighted()){{for(var cz=0;cz<cu.marksNeedingDraw.length;cz++){var cA=cu.marksNeedingDraw[cz];if(L.getMarkState(cA)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cA,'highlightedUnder1',bU,cu.startIndex);this.drawAreaMarkLayer(L,cA,'highlightedUnder',bU,cu.startIndex)}}}{for(var cB=0;cB<cu.marksNeedingDraw.length;cB++){var cC=cu.marksNeedingDraw[cB];if(L.getMarkState(cC)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cC,'highlightedOn1',bU,cu.startIndex);this.drawAreaMarkLayer(L,cC,'highlightedOn',bU,cu.startIndex)}}}}if(cy!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(bS||bT){bU='colorOverrideOpaque';var cD=bZ.get_lineAttributes();for(var cE=0;cE<cD.length;cE++){var cF=cD[cE];if(cF.get_lineState()!=='lineStateSelected'){continue}var cG=cF.worldOffsets;var cH=cG.length;for(var cI=0;cI<cH;cI++){var cJ=cG[cI];Z.$c(this.get_currentContext(),cJ);{for(var cK=0;cK<cF.marksNeedingDraw.length;cK++){var cL=cF.marksNeedingDraw[cK];this.drawAreaMarkLayer(L,cL,'edgeOn',bU,cF.startIndex)}}if(cJ!==0){this.get_currentContext().restore()}}}var cM=bZ.get_lineAttributes();for(var cN=0;cN<cM.length;cN++){var cO=cM[cN];if(cO.get_lineState()!=='lineStateSelected'){continue}var cP=cO.worldOffsets;var cQ=cP.length;for(var cR=0;cR<cQ;cR++){var cS=cP[cR];Z.$c(this.get_currentContext(),cS);if(!cO.get_allHighlighted()){{for(var cT=0;cT<cO.marksNeedingDraw.length;cT++){var cU=cO.marksNeedingDraw[cT];if(L.getMarkState(cU)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cU,'highlightedUnder1',bU,cO.startIndex);this.drawAreaMarkLayer(L,cU,'highlightedUnder',bU,cO.startIndex)}}}{for(var cV=0;cV<cO.marksNeedingDraw.length;cV++){var cW=cO.marksNeedingDraw[cV];if(L.getMarkState(cW)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cW,'highlightedOn1',bU,cO.startIndex);this.drawAreaMarkLayer(L,cW,'highlightedOn',bU,cO.startIndex)}}}}if(cS!==0){this.get_currentContext().restore()}}}var cX=bZ.get_lineAttributes();for(var cY=0;cY<cX.length;cY++){var cZ=cX[cY];if(cZ.get_lineState()!=='lineStateSelected'){continue}var da=cZ.worldOffsets;var db=da.length;for(var dc=0;dc<db;dc++){var dd=da[dc];Z.$c(this.get_currentContext(),dd);{for(var de=0;de<cZ.marksNeedingDraw.length;de++){var df=cZ.marksNeedingDraw[de];if(L.getMarkState(df)==='markStateSelected'){this.drawAreaMarkLayer(L,df,'selectedUnder1',bU,cZ.startIndex);this.drawAreaMarkLayer(L,df,'selectedUnder',bU,cZ.startIndex)}}}{for(var dg=0;dg<cZ.marksNeedingDraw.length;dg++){var dh=cZ.marksNeedingDraw[dg];if(L.getMarkState(dh)==='markStateSelected'){this.drawAreaMarkLayer(L,dh,'selectedOn1',bU,cZ.startIndex);this.drawAreaMarkLayer(L,dh,'selectedOn',bU,cZ.startIndex)}}}if(dd!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawAreaMarkLayer:function(L,bQ,bR,bS,bT){var bU=L.c.get('l_neighbor').gv(bQ);var bV=L.c.get('r_neighbor').gv(bQ);var bW=L.clipCase;if(bW!==0){this.get_currentContext().save();this.$9(bW,L.c.get('cell_x').gv(bQ),L.c.get('cell_y').gv(bQ),L.c.get('clip_width').gv(bQ),L.c.get('clip_height').gv(bQ))}var bX=L.drawBorder;switch(bR){case'edgeOn':{if(L.c.get('r_neighbor').gv(bQ)!==-1){var bY=[Math.round(L.c.get('x1').gv(bQ)),Math.round(L.c.get('y1').gv(bQ)),Math.round(L.c.get('x1').gv(bV)),Math.round(L.c.get('y1').gv(bV)),Math.round(L.c.get('x_prev').gv(bV)),Math.round(L.c.get('y_prev').gv(bV)),Math.round(L.c.get('x_next').gv(bQ)),Math.round(L.c.get('y_next').gv(bQ))];this.get_currentContext().set_lineJoin('miter');this.$c(bY,L.getMarkColors(bT)[bS])}if(bX&&L.c.get('r_neighbor').gv(bQ)!==-1){var bZ=[L.c.get('x1').gv(bQ),L.c.get('y1').gv(bQ),L.c.get('x1').gv(bV),L.c.get('y1').gv(bV)];this.$d(bZ,1,L.c.get('border_color').gv(bQ)[bS],true)}if(bX&&L.c.get('r_neighbor').gv(bQ)!==-1){var ca=[L.c.get('x_next').gv(bQ),L.c.get('y_next').gv(bQ),L.c.get('x_prev').gv(bV),L.c.get('y_prev').gv(bV)];this.$d(ca,1,L.c.get('border_color').gv(bQ)[bS],true)}if(bX&&(L.c.get('l_neighbor').gv(bQ)!==-1&&L.c.get('r_neighbor').gv(bQ)!==-1)){var cb=[L.c.get('x_prev').gv(bQ),L.c.get('y_prev').gv(bQ),L.c.get('x_next').gv(bQ),L.c.get('y_next').gv(bQ)];this.$d(cb,1,L.c.get('border_color').gv(bQ)[bS],true)}if(bX&&L.c.get('l_neighbor').gv(bQ)===-1){var cc=[L.c.get('x1').gv(bQ),L.c.get('y1').gv(bQ),L.c.get('x_next').gv(bQ),L.c.get('y_next').gv(bQ)];this.$d(cc,1,L.c.get('border_color').gv(bQ)[bS],true)}if(bX&&L.c.get('r_neighbor').gv(bQ)===-1){var cd=[L.c.get('x1').gv(bQ),L.c.get('y1').gv(bQ),L.c.get('x_prev').gv(bQ),L.c.get('y_prev').gv(bQ)];this.$d(cd,1,L.c.get('border_color').gv(bQ)[bS],true)}if(!bX&&L.c.get('r_neighbor').gv(bQ)!==-1){var ce=[L.c.get('x1').gv(bQ),L.c.get('y1').gv(bQ),L.c.get('x1').gv(bV),L.c.get('y1').gv(bV)];this.$d(ce,1,L.getMarkColors(bT)[bS],true)}if(!bX&&L.c.get('r_neighbor').gv(bQ)!==-1){var cf=[L.c.get('x_next').gv(bQ),L.c.get('y_next').gv(bQ),L.c.get('x_prev').gv(bV),L.c.get('y_prev').gv(bV)];this.$d(cf,1,L.getMarkColors(bT)[bS],true)}if(!bX&&(L.c.get('l_neighbor').gv(bQ)!==-1&&L.c.get('r_neighbor').gv(bQ)!==-1)){var cg=[L.c.get('x_prev').gv(bQ),L.c.get('y_prev').gv(bQ),L.c.get('x_next').gv(bQ),L.c.get('y_next').gv(bQ)];this.$d(cg,1,L.getMarkColors(bT)[bS],true)}if(!bX&&L.c.get('l_neighbor').gv(bQ)===-1){var ch=[L.c.get('x1').gv(bQ),L.c.get('y1').gv(bQ),L.c.get('x_next').gv(bQ),L.c.get('y_next').gv(bQ)];this.$d(ch,1,L.getMarkColors(bT)[bS],true)}if(!bX&&L.c.get('r_neighbor').gv(bQ)===-1){var ci=[L.c.get('x1').gv(bQ),L.c.get('y1').gv(bQ),L.c.get('x_prev').gv(bQ),L.c.get('y_prev').gv(bQ)];this.$d(ci,1,L.getMarkColors(bT)[bS],true)}break}case'selectedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(bQ),0+L.c.get('y1').gv(bQ),5,L.getMarkColors(bQ)[bS])}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(bQ),0+L.c.get('y1').gv(bQ),5,L.c.get('selected_halo_color').gv(bQ)[bS],4)}break}case'selectedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),5,L.getMarkColors(bQ)[bS])}break}case'selectedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),5,L.c.get('selected_halo_color').gv(bQ)[bS],4)}break}case'highlightedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(bQ),0+L.c.get('y1').gv(bQ),5,L.getMarkColors(bQ)[bS])}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(bQ),0+L.c.get('y1').gv(bQ),5,L.c.get('selected_multi_prim_halo_color').gv(bQ)[bS],4)}break}case'highlightedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),5,L.getMarkColors(bQ)[bS])}break}case'highlightedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),5,L.c.get('selected_multi_prim_halo_color').gv(bQ)[bS],4)}break}default:{break}}if(bW!==0){this.get_currentContext().restore()}},renderMarkLabels:function(L,bQ,bR){var bS=L.get_hasSelection();var bT=L.get_hasBrushing();var bU='colorOverrideNone';var bV=L.getUserPaneMarkRange(bQ);var bW=bV.firstMark;var bX=bV.lastMark;var bY=L.getUserPaneRectByIndex(bQ);this.get_currentContext().save();var bZ=this.$B(L);switch(bR){case'normalUnderPass':{if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{var ca=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cb=bW;cb<=bX;cb++){if(!L.markHasLabel(cb)||!L.markLabelNeedsDraw(cb,ca)){continue}if(L.getMarkLabelState(cb)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cb),L.c.get('cell_y').gv(cb),L.c.get('clip_width').gv(cb),L.c.get('clip_height').gv(cb))}var cc=L.getMarkLabelInstanceOffsets(cb);var cd=cc.length;for(var ce=0;ce<cd;ce++){var cf=cc[ce];if(cf!==0){this.get_currentContext().save();this.get_currentContext().translate(cf,0)}this.drawMarkLabelLayer(L,cb,'normalUnder',bU);if(cf!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}bU='colorOverrideNone';{var cg=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ch=bW;ch<=bX;ch++){if(!L.markHasLabel(ch)||!L.markLabelNeedsDraw(ch,cg)){continue}if(L.getMarkLabelState(ch)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(ch),L.c.get('cell_y').gv(ch),L.c.get('clip_width').gv(ch),L.c.get('clip_height').gv(ch))}var ci=L.getMarkLabelInstanceOffsets(ch);var cj=ci.length;for(var ck=0;ck<cj;ck++){var cl=ci[ck];if(cl!==0){this.get_currentContext().save();this.get_currentContext().translate(cl,0)}this.drawMarkLabelLayer(L,ch,'normalUnder',bU);if(cl!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}bU='colorOverrideNone';{var cm=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cn=bW;cn<=bX;cn++){if(!L.markHasLabel(cn)||!L.markLabelNeedsDraw(cn,cm)){continue}if(L.getMarkLabelState(cn)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cn),L.c.get('cell_y').gv(cn),L.c.get('clip_width').gv(cn),L.c.get('clip_height').gv(cn))}var co=L.getMarkLabelInstanceOffsets(cn);var cp=co.length;for(var cq=0;cq<cp;cq++){var cr=co[cq];if(cr!==0){this.get_currentContext().save();this.get_currentContext().translate(cr,0)}this.drawMarkLabelLayer(L,cn,'normalUnder',bU);if(cr!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'normalOnPass':{if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{var cs=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ct=bW;ct<=bX;ct++){if(!L.markHasLabel(ct)||!L.markLabelNeedsDraw(ct,cs)){continue}if(L.getMarkLabelState(ct)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(ct),L.c.get('cell_y').gv(ct),L.c.get('clip_width').gv(ct),L.c.get('clip_height').gv(ct))}var cu=L.getMarkLabelInstanceOffsets(ct);var cv=cu.length;for(var cw=0;cw<cv;cw++){var cx=cu[cw];if(cx!==0){this.get_currentContext().save();this.get_currentContext().translate(cx,0)}var cy=this.get_currentContext().get_textAlign()==='end';var cz=L.getMarkLabelProperty('text_run_offset',ct);var cA=L.getMarkLabelProperty('text_run_count',ct);var cB=cA>1;for(var cC=0;cC<cA;cC++){var cD=cC+cz;if(cy){cD=cz+cA-cC-1}this.drawLabelRunLayer(L,ct,'normalOn',bU,cD,cB,bZ)}this.clearPrevTextRunInfo();if(cx!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bS||bT){bU='colorOverrideNone';{var cE=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cF=bW;cF<=bX;cF++){if(!L.markHasLabel(cF)||!L.markLabelNeedsDraw(cF,cE)){continue}if(L.getMarkLabelState(cF)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cF),L.c.get('cell_y').gv(cF),L.c.get('clip_width').gv(cF),L.c.get('clip_height').gv(cF))}var cG=L.getMarkLabelInstanceOffsets(cF);var cH=cG.length;for(var cI=0;cI<cH;cI++){var cJ=cG[cI];if(cJ!==0){this.get_currentContext().save();this.get_currentContext().translate(cJ,0)}var cK=this.get_currentContext().get_textAlign()==='end';var cL=L.getMarkLabelProperty('text_run_offset',cF);var cM=L.getMarkLabelProperty('text_run_count',cF);var cN=cM>1;for(var cO=0;cO<cM;cO++){var cP=cO+cL;if(cK){cP=cL+cM-cO-1}this.drawLabelRunLayer(L,cF,'highlightedOn',bU,cP,cN,bZ)}this.clearPrevTextRunInfo();if(cJ!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(bS||bT){bU='colorOverrideOpaque';{var cQ=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cR=bW;cR<=bX;cR++){if(!L.markHasLabel(cR)||!L.markLabelNeedsDraw(cR,cQ)){continue}if(L.getMarkLabelState(cR)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cR),L.c.get('cell_y').gv(cR),L.c.get('clip_width').gv(cR),L.c.get('clip_height').gv(cR))}var cS=L.getMarkLabelInstanceOffsets(cR);var cT=cS.length;for(var cU=0;cU<cT;cU++){var cV=cS[cU];if(cV!==0){this.get_currentContext().save();this.get_currentContext().translate(cV,0)}this.drawMarkLabelLayer(L,cR,'selectedUnder',bU);if(cV!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(bS||bT){bU='colorOverrideOpaque';{var cW=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cX=bW;cX<=bX;cX++){if(!L.markHasLabel(cX)||!L.markLabelNeedsDraw(cX,cW)){continue}if(L.getMarkLabelState(cX)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cX),L.c.get('cell_y').gv(cX),L.c.get('clip_width').gv(cX),L.c.get('clip_height').gv(cX))}var cY=L.getMarkLabelInstanceOffsets(cX);var cZ=cY.length;for(var da=0;da<cZ;da++){var db=cY[da];if(db!==0){this.get_currentContext().save();this.get_currentContext().translate(db,0)}var dc=this.get_currentContext().get_textAlign()==='end';var dd=L.getMarkLabelProperty('text_run_offset',cX);var de=L.getMarkLabelProperty('text_run_count',cX);var df=de>1;for(var dg=0;dg<de;dg++){var dh=dg+dd;if(dc){dh=dd+de-dg-1}this.drawLabelRunLayer(L,cX,'normalOn',bU,dh,df,bZ)}this.clearPrevTextRunInfo();if(db!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawMarkLabelLayer:function(L,bQ,bR,bS){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bQ),L.c.get('cell_y').gv(bQ),L.c.get('clip_width').gv(bQ),L.c.get('clip_height').gv(bQ))}switch(bR){case'normalUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var bT=L.getMarkLabelProperty('x',bQ);var bU=L.getMarkLabelProperty('y',bQ);var bV=L.getMarkLabelProperty('width',bQ);var bW=-L.getMarkLabelProperty('height',bQ);if(bW<0){bU+=bW;bW=Math.abs(bW)}var bX=0;var bY=0;var bZ;if(L.isMarkImpliedSelected(bQ)){bZ=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{bZ=L.getMarkLabelProperty('halo_color',bQ)[bS]}Z.$b(this.get_currentContext(),bT+bX,bU+bY,bV,bW,bZ,0,0,false)}}{if(L.isMarkDebug(bQ)){var ca=L.getMarkLabelProperty('x',bQ);var cb=L.getMarkLabelProperty('y',bQ);var cc=L.getMarkLabelProperty('width',bQ);var cd=-L.getMarkLabelProperty('height',bQ);if(cd<0){cb+=cd;cd=Math.abs(cd)}var ce=0;var cf=0;var cg;if(L.isMarkImpliedSelected(bQ)){cg=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{cg=L.c.get('halo_color').gv(bQ)[bS]}Z.$b(this.get_currentContext(),ca+ce,cb+cf,cc,cd,cg,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var ch=L.getMarkLabelProperty('x',bQ);var ci=L.getMarkLabelProperty('y',bQ);var cj=L.getMarkLabelProperty('width',bQ);var ck=-L.getMarkLabelProperty('height',bQ);if(ck<0){ci+=ck;ck=Math.abs(ck)}var cl=0;var cm=0;var cn;if(L.isMarkImpliedSelected(bQ)){cn=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{cn=L.getMarkLabelProperty('halo_color',bQ)[bS]}Z.$b(this.get_currentContext(),ch+cl,ci+cm,cj,ck,cn,0,0,false)}}{if(L.isMarkDebug(bQ)){var co=L.getMarkLabelProperty('x',bQ);var cp=L.getMarkLabelProperty('y',bQ);var cq=L.getMarkLabelProperty('width',bQ);var cr=-L.getMarkLabelProperty('height',bQ);if(cr<0){cp+=cr;cr=Math.abs(cr)}var cs=0;var ct=0;var cu;if(L.isMarkImpliedSelected(bQ)){cu=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{cu=L.c.get('halo_color').gv(bQ)[bS]}Z.$b(this.get_currentContext(),co+cs,cp+ct,cq,cr,cu,0,0,false)}}break}case'highlightedOn':{break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawTextRunLayer:function(L,bQ,bR,bS,bT,bU,bV){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bQ),L.c.get('cell_y').gv(bQ),L.c.get('clip_width').gv(bQ),L.c.get('clip_height').gv(bQ))}switch(bR){case'normalUnder':{break}case'normalOn':{var bW=L.getTextRunProperty('text_style_id',bT);bV(bW);var bX=L.$7(bW,bQ,bS);var bY=L.getTextRunProperty('text_run',bT);var bZ=L.getMarkLabelProperty('x',bQ)+L.getTextRunProperty('text_run_x',bT);var ca=L.getMarkLabelProperty('y',bQ)+L.getTextRunProperty('text_run_y',bT);var cb=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bQ):L.getMarkLabelProperty('height',bQ));this.renderText(bY,bZ,ca,cb,bX,bU);break}case'highlightedUnder':{break}case'highlightedOn':{var cc=L.getTextRunProperty('text_style_id',bT);bV(cc);var cd=L.$7(cc,bQ,bS);var ce=L.getTextRunProperty('text_run',bT);var cf=L.getMarkLabelProperty('x',bQ)+L.getTextRunProperty('text_run_x',bT);var cg=L.getMarkLabelProperty('y',bQ)+L.getTextRunProperty('text_run_y',bT);var ch=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bQ):L.getMarkLabelProperty('height',bQ));this.renderText(ce,cf,cg,ch,cd,bU);break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawLabelRunLayer:function(L,bQ,bR,bS,bT,bU,bV){if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bQ),L.c.get('cell_y').gv(bQ),L.c.get('clip_width').gv(bQ),L.c.get('clip_height').gv(bQ))}switch(bR){case'normalUnder':{break}case'normalOn':{var bW=L.getTextRunProperty('text_style_id',bT);bV(bW);var bX=L.$7(bW,bQ,bS);var bY=L.getTextRunProperty('text_run',bT);var bZ=L.getMarkLabelProperty('x',bQ)+L.getTextRunProperty('text_run_x',bT);var ca=L.getMarkLabelProperty('y',bQ)+L.getTextRunProperty('text_run_y',bT);var cb=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bQ):L.getMarkLabelProperty('height',bQ));this.renderText(bY,bZ,ca,cb,bX,bU);break}case'highlightedUnder':{break}case'highlightedOn':{var cc=L.getTextRunProperty('text_style_id',bT);bV(cc);var cd=L.$7(cc,bQ,bS);var ce=L.getTextRunProperty('text_run',bT);var cf=L.getMarkLabelProperty('x',bQ)+L.getTextRunProperty('text_run_x',bT);var cg=L.getMarkLabelProperty('y',bQ)+L.getTextRunProperty('text_run_y',bT);var ch=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bQ):L.getMarkLabelProperty('height',bQ));this.renderText(ce,cf,cg,ch,cd,bU);break}case'selectedUnder':{break}default:{break}}if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().restore()}},renderPieMark:function(L,bQ,bR){var bS=L.get_hasSelection();var bT=L.get_hasBrushing();var bU='colorOverrideNone';var bV=L.getUserPaneMarkRange(bQ);var bW=bV.firstMark;var bX=bV.lastMark;var bY=L.getUserPaneRectByIndex(bQ);var bZ=L.get_lineDrawState();this.get_currentContext().save();switch(bR){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}var ca=bZ.get_lineAttributes();for(var cb=0;cb<ca.length;cb++){var cc=ca[cb];var cd=cc.worldOffsets;var ce=cd.length;for(var cf=0;cf<ce;cf++){var cg=cd[cf];Z.$c(this.get_currentContext(),cg);{for(var ch=0;ch<cc.marksNeedingDraw.length;ch++){var ci=cc.marksNeedingDraw[ch];this.drawPieMarkLayer(L,ci,'normalUnder',bU)}}if(cg!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}var cj=bZ.get_lineAttributes();for(var ck=0;ck<cj.length;ck++){var cl=cj[ck];if(cl.get_lineState()!=='lineStateNormal'){continue}var cm=cl.worldOffsets;var cn=cm.length;for(var co=0;co<cn;co++){var cp=cm[co];Z.$c(this.get_currentContext(),cp);{for(var cq=0;cq<cl.marksNeedingDraw.length;cq++){var cr=cl.marksNeedingDraw[cq];this.drawPieMarkLayer(L,cr,'normalOn',bU)}}if(cp!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bS||bT){var cs=bZ.get_lineAttributes();for(var ct=0;ct<cs.length;ct++){var cu=cs[ct];if(cu.get_lineState()!=='lineStateHighlighted'){continue}var cv=cu.worldOffsets;var cw=cv.length;for(var cx=0;cx<cw;cx++){var cy=cv[cx];Z.$c(this.get_currentContext(),cy);bU='colorOverrideFog';{for(var cz=0;cz<cu.marksNeedingDraw.length;cz++){var cA=cu.marksNeedingDraw[cz];if(L.getMarkState(cA)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,cA,'normalOn',bU)}}bU='colorOverrideNone';{for(var cB=0;cB<cu.marksNeedingDraw.length;cB++){var cC=cu.marksNeedingDraw[cB];if(L.getMarkState(cC)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,cC,'highlightedOn',bU)}}if(cy!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(bS||bT){var cD=bZ.get_lineAttributes();for(var cE=0;cE<cD.length;cE++){var cF=cD[cE];if(cF.get_lineState()!=='lineStateSelected'){continue}var cG=cF.worldOffsets;var cH=cG.length;for(var cI=0;cI<cH;cI++){var cJ=cG[cI];Z.$c(this.get_currentContext(),cJ);bU='colorOverrideFog';{for(var cK=0;cK<cF.marksNeedingDraw.length;cK++){var cL=cF.marksNeedingDraw[cK];if(L.getMarkState(cL)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,cL,'normalOn',bU)}}bU='colorOverrideNone';{for(var cM=0;cM<cF.marksNeedingDraw.length;cM++){var cN=cF.marksNeedingDraw[cM];if(L.getMarkState(cN)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,cN,'highlightedOn',bU)}}bU='colorOverrideOpaque';{for(var cO=0;cO<cF.marksNeedingDraw.length;cO++){var cP=cF.marksNeedingDraw[cO];if(L.getMarkState(cP)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,cP,'selectedUnder',bU)}}{for(var cQ=0;cQ<cF.marksNeedingDraw.length;cQ++){var cR=cF.marksNeedingDraw[cQ];if(L.getMarkState(cR)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,cR,'selectedOn',bU)}}if(cJ!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawPieMarkLayer:function(L,bQ,bR,bS){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bQ),L.c.get('cell_y').gv(bQ),L.c.get('clip_width').gv(bQ),L.c.get('clip_height').gv(bQ))}switch(bR){case'normalUnder':{var bT=L.c.get('size').gv(bQ)/2;{var bU=L.c.get('theta').gv(bQ);var bV=L.c.get('theta1').gv(bQ);var bW=bU>bV;var bX=L.c.get('halo_color').gv(bQ)[bS];var bY=false;if(Math.abs(bU-bV)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),bT*2,bX,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),bT,bU,bV,bX,4,bW,bY)}}break}case'normalOn':{var bZ=L.c.get('size').gv(bQ)/2;{var ca=L.c.get('theta').gv(bQ);var cb=L.c.get('theta1').gv(bQ);if(ca>cb){var cc=ca;ca=cb;cb=cc}var cd=L.c.get('x').gv(bQ);var ce=L.c.get('y').gv(bQ);var cf=L.getMarkColors(bQ)[bS];if(L.c.get('alpha').gv(bQ)>=1){var cg=tab.CanvasRenderer.toCanvasAngle(ca);var ch=tab.CanvasRenderer.toCanvasAngle(cb);if(Math.abs(ch-cg)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(cf);this.get_currentContext().moveTo(cd,ce);this.get_currentContext().lineTo(cd+Math.cos(cg)*bZ,ce+Math.sin(cg)*bZ);this.get_currentContext().stroke()}}if(Math.abs(ca-cb)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),cd,ce,bZ*2,cf)}else{this.renderFilledWedge(cd,ce,bZ,ca,cb,cf)}}if(L.c.get('draw_border').gv(bQ)){var ci=L.c.get('theta').gv(bQ);var cj=L.c.get('theta1').gv(bQ);var ck=ci>cj;var cl=L.c.get('border_color').gv(bQ)[bS];var cm=true;if(Math.abs(ci-cj)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),bZ*2,cl,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),bZ,ci,cj,cl,1,ck,cm)}}break}case'highlightedUnder':{var cn=L.c.get('size').gv(bQ)/2;{var co=L.c.get('theta').gv(bQ);var cp=L.c.get('theta1').gv(bQ);var cq=co>cp;var cr=L.c.get('halo_color').gv(bQ)[bS];var cs=false;if(Math.abs(co-cp)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),cn*2,cr,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),cn,co,cp,cr,4,cq,cs)}}break}case'highlightedOn':{var ct=L.c.get('size').gv(bQ)/2;{var cu=L.c.get('theta').gv(bQ);var cv=L.c.get('theta1').gv(bQ);if(cu>cv){var cw=cu;cu=cv;cv=cw}var cx=L.c.get('x').gv(bQ);var cy=L.c.get('y').gv(bQ);var cz=L.getMarkColors(bQ)[bS];if(L.c.get('alpha').gv(bQ)>=1){var cA=tab.CanvasRenderer.toCanvasAngle(cu);var cB=tab.CanvasRenderer.toCanvasAngle(cv);if(Math.abs(cB-cA)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(cz);this.get_currentContext().moveTo(cx,cy);this.get_currentContext().lineTo(cx+Math.cos(cA)*ct,cy+Math.sin(cA)*ct);this.get_currentContext().stroke()}}if(Math.abs(cu-cv)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),cx,cy,ct*2,cz)}else{this.renderFilledWedge(cx,cy,ct,cu,cv,cz)}}if(L.c.get('draw_border').gv(bQ)){var cC=L.c.get('theta').gv(bQ);var cD=L.c.get('theta1').gv(bQ);var cE=cC>cD;var cF=L.c.get('border_color').gv(bQ)[bS];var cG=true;if(Math.abs(cC-cD)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),ct*2,cF,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),ct,cC,cD,cF,1,cE,cG)}}break}case'selectedUnder':{var cH=L.c.get('size').gv(bQ)/2;{var cI=L.c.get('theta').gv(bQ);var cJ=L.c.get('theta1').gv(bQ);var cK=cI>cJ;var cL=L.c.get('selected_halo_color').gv(bQ)[bS];var cM=false;if(Math.abs(cI-cJ)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),cH*2,cL,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),cH,cI,cJ,cL,4,cK,cM)}}break}case'selectedOn':{var cN=L.c.get('size').gv(bQ)/2;{var cO=L.c.get('theta').gv(bQ);var cP=L.c.get('theta1').gv(bQ);if(cO>cP){var cQ=cO;cO=cP;cP=cQ}var cR=L.c.get('x').gv(bQ);var cS=L.c.get('y').gv(bQ);var cT=L.getMarkColors(bQ)[bS];if(L.c.get('alpha').gv(bQ)>=1){var cU=tab.CanvasRenderer.toCanvasAngle(cO);var cV=tab.CanvasRenderer.toCanvasAngle(cP);if(Math.abs(cV-cU)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(cT);this.get_currentContext().moveTo(cR,cS);this.get_currentContext().lineTo(cR+Math.cos(cU)*cN,cS+Math.sin(cU)*cN);this.get_currentContext().stroke()}}if(Math.abs(cO-cP)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),cR,cS,cN*2,cT)}else{this.renderFilledWedge(cR,cS,cN,cO,cP,cT)}}if(L.c.get('draw_border').gv(bQ)){var cW=L.c.get('theta').gv(bQ);var cX=L.c.get('theta1').gv(bQ);var cY=cW>cX;var cZ=L.c.get('border_color').gv(bQ)[bS];var da=true;if(Math.abs(cW-cX)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),cN*2,cZ,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bQ),L.c.get('y').gv(bQ),cN,cW,cX,cZ,1,cY,da)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderTextMarks:function(L,bQ,bR){var bS=L.get_hasSelection();var bT=L.get_hasBrushing();var bU='colorOverrideNone';var bV=L.getUserPaneMarkRange(bQ);var bW=bV.firstMark;var bX=bV.lastMark;var bY=L.getUserPaneRectByIndex(bQ);this.get_currentContext().save();var bZ=this.$B(L);switch(bR){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(ca,cb){Z.$c(this.get_currentContext(),cb);for(var cc=bW;cc<=bX;cc++){if(ca.has(cc)){continue}if(!L.markNeedsDraw(cc)){continue}if(L.getMarkState(cc)!=='markStateNormal'){continue}this.drawTextMarkLayer(L,cc,'normalUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(cb,0)){this.get_currentContext().restore()}}))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(ca,cb){Z.$c(this.get_currentContext(),cb);for(var cc=bW;cc<=bX;cc++){if(ca.has(cc)){continue}if(!L.markNeedsDraw(cc)){continue}if(L.getMarkState(cc)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,cc,'normalUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(cb,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(ca,cb){Z.$c(this.get_currentContext(),cb);for(var cc=bW;cc<=bX;cc++){if(ca.has(cc)){continue}if(!L.markNeedsDraw(cc)){continue}if(L.getMarkState(cc)!=='markStateNormal'){continue}var cd=this.get_currentContext().get_textAlign()==='end';var ce=L.c.get('text_run_offset').gv(cc);var cf=L.c.get('text_run_count').gv(cc);var cg=cf>1;for(var ch=0;ch<cf;ch++){var ci=ch+ce;if(cd){ci=ce+cf-ch-1}this.drawTextRunLayer(L,cc,'normalOn',bU,ci,cg,bZ)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(cb,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{if(bS||bT){if(!(L.get_hasBackground()&&L.get_hasHalos())){bU='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(ca,cb){Z.$c(this.get_currentContext(),cb);for(var cc=bW;cc<=bX;cc++){if(ca.has(cc)){continue}if(!L.markNeedsDraw(cc)){continue}if(L.getMarkState(cc)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,cc,'highlightedUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(cb,0)){this.get_currentContext().restore()}}))}}}break}case'highlightedOnPass':{if(bS||bT){bU='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(ca,cb){Z.$c(this.get_currentContext(),cb);for(var cc=bW;cc<=bX;cc++){if(ca.has(cc)){continue}if(!L.markNeedsDraw(cc)){continue}if(L.getMarkState(cc)!=='markStateHighlighted'){continue}var cd=this.get_currentContext().get_textAlign()==='end';var ce=L.c.get('text_run_offset').gv(cc);var cf=L.c.get('text_run_count').gv(cc);var cg=cf>1;for(var ch=0;ch<cf;ch++){var ci=ch+ce;if(cd){ci=ce+cf-ch-1}this.drawTextRunLayer(L,cc,'normalOn',bU,ci,cg,bZ)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(cb,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bS||bT){bU='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(ca,cb){Z.$c(this.get_currentContext(),cb);for(var cc=bW;cc<=bX;cc++){if(ca.has(cc)){continue}if(!L.markNeedsDraw(cc)){continue}if(L.getMarkState(cc)!=='markStateSelected'){continue}this.drawTextMarkLayer(L,cc,'selectedUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(cb,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bS||bT){bU='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(ca,cb){Z.$c(this.get_currentContext(),cb);for(var cc=bW;cc<=bX;cc++){if(ca.has(cc)){continue}if(!L.markNeedsDraw(cc)){continue}if(L.getMarkState(cc)!=='markStateSelected'){continue}var cd=this.get_currentContext().get_textAlign()==='end';var ce=L.c.get('text_run_offset').gv(cc);var cf=L.c.get('text_run_count').gv(cc);var cg=cf>1;for(var ch=0;ch<cf;ch++){var ci=ch+ce;if(cd){ci=ce+cf-ch-1}this.drawTextRunLayer(L,cc,'normalOn',bU,ci,cg,bZ)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(cb,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawTextMarkLayer:function(L,bQ,bR,bS){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bQ),L.c.get('cell_y').gv(bQ),L.c.get('clip_width').gv(bQ),L.c.get('clip_height').gv(bQ))}switch(bR){case'normalUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var bT=L.c.get('x').gv(bQ);var bU=L.c.get('y').gv(bQ);var bV=L.c.get('width').gv(bQ);var bW=-L.c.get('height').gv(bQ);if(bW<0){bU+=bW;bW=Math.abs(bW)}var bX=-L.c.get('width').gv(bQ)/2;var bY=L.c.get('height').gv(bQ)/2;var bZ;if(L.isMarkImpliedSelected(bQ)){bZ=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{bZ=L.c.get('halo_color').gv(bQ)[bS]}Z.$b(this.get_currentContext(),bT+bX,bU+bY,bV,bW,bZ,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var ca=L.c.get('x').gv(bQ);var cb=L.c.get('y').gv(bQ);var cc=L.c.get('clip_width').gv(bQ);var cd=-L.c.get('clip_height').gv(bQ);if(cd<0){cb+=cd;cd=Math.abs(cd)}var ce=-L.c.get('clip_width').gv(bQ)/2;var cf=L.c.get('clip_height').gv(bQ)/2;var cg;if(L.isMarkImpliedSelected(bQ)){cg=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{cg=L.c.get('halo_color').gv(bQ)[bS]}Z.$b(this.get_currentContext(),ca+ce,cb+cf,cc,cd,cg,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasHaloHighlightColor()&&!(L.clipCase!==0&&L.useCellClipForSelection)){var ch=L.c.get('x').gv(bQ);var ci=L.c.get('y').gv(bQ);var cj=L.c.get('width').gv(bQ);var ck=-L.c.get('height').gv(bQ);if(ck<0){ci+=ck;ck=Math.abs(ck)}var cl=-L.c.get('width').gv(bQ)/2;var cm=L.c.get('height').gv(bQ)/2;var cn;if(L.isMarkImpliedSelected(bQ)){cn=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{cn=L.c.get('highlighted_halo_color').gv(bQ)[bS]}Z.$b(this.get_currentContext(),ch+cl,ci+cm,cj,ck,cn,0,0,false)}}{if(L.get_hasHaloHighlightColor()&&(L.clipCase!==0&&L.useCellClipForSelection)){var co=L.c.get('x').gv(bQ);var cp=L.c.get('y').gv(bQ);var cq=L.c.get('clip_width').gv(bQ);var cr=-L.c.get('clip_height').gv(bQ);if(cr<0){cp+=cr;cr=Math.abs(cr)}var cs=-L.c.get('clip_width').gv(bQ)/2;var ct=L.c.get('clip_height').gv(bQ)/2;var cu;if(L.isMarkImpliedSelected(bQ)){cu=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{cu=L.c.get('highlighted_halo_color').gv(bQ)[bS]}Z.$b(this.get_currentContext(),co+cs,cp+ct,cq,cr,cu,0,0,false)}}break}case'selectedUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var cv=L.c.get('x').gv(bQ);var cw=L.c.get('y').gv(bQ);var cx=L.c.get('width').gv(bQ);var cy=-L.c.get('height').gv(bQ);if(cy<0){cw+=cy;cy=Math.abs(cy)}var cz=-L.c.get('width').gv(bQ)/2;var cA=L.c.get('height').gv(bQ)/2;var cB;if(L.isMarkImpliedSelected(bQ)){cB=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{cB=L.c.get('selected_halo_color').gv(bQ)[bS]}Z.$b(this.get_currentContext(),cv+cz,cw+cA,cx,cy,cB,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var cC=L.c.get('x').gv(bQ);var cD=L.c.get('y').gv(bQ);var cE=L.c.get('clip_width').gv(bQ);var cF=-L.c.get('clip_height').gv(bQ);if(cF<0){cD+=cF;cF=Math.abs(cF)}var cG=-L.c.get('clip_width').gv(bQ)/2;var cH=L.c.get('clip_height').gv(bQ)/2;var cI;if(L.isMarkImpliedSelected(bQ)){cI=L.c.get('selected_halo_color').gv(bQ)['colorOverrideOpaque']}else{cI=L.c.get('selected_halo_color').gv(bQ)[bS]}Z.$b(this.get_currentContext(),cC+cG,cD+cH,cE,cF,cI,0,0,false)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderBarMark:function(L,bQ,bR){var bS=L.get_hasSelection();var bT=L.get_hasBrushing();var bU='colorOverrideNone';var bV=L.getUserPaneMarkRange(bQ);var bW=bV.firstMark;var bX=bV.lastMark;var bY=L.getUserPaneRectByIndex(bQ);this.get_currentContext().save();this.get_currentContext().set_lineJoin('miter');switch(bR){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,bY,cb,'normalUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}bU='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,bY,cb,'normalUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,bY,cb,'normalOn',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bS||bT){bU='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,bY,cb,'highlightedOn',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bS||bT){bU='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,bY,cb,'selectedUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bS||bT){bU='colorOverrideOpaque';if(L.clipCase!==3){this.get_currentContext().save();this.get_currentContext().setClip(L.getInsetPaneClipRect(bQ,2))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,bY,cb,'selectedOn',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}if(L.clipCase!==3){this.get_currentContext().restore()}}break}}this.get_currentContext().restore()},drawBarMarkLayer:function(L,bQ,bR,bS,bT){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bR),L.c.get('cell_y').gv(bR),L.c.get('clip_width').gv(bR),L.c.get('clip_height').gv(bR))}switch(bS){case'normalUnder':{var bU=ss.Int32.trunc(L.c.get('size').gv(bR)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var bV=L.c.get('x').gv(bR);var bW=L.c.get('x1').gv(bR);var bX=L.c.get('y').gv(bR);var bY=L.c.get('y1').gv(bR);var bZ=Math.min(bV,bW);var ca=Math.min(bX,bY);var cb=Math.abs(bW-bV)+0;var cc=Math.abs(bY-bX)+0;Z.$9(this.get_currentContext(),bZ,ca,cb,cc,L.c.get('halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var cd=L.c.get('x').gv(bR)-bU;var ce=L.c.get('x').gv(bR)+bU;var cf=L.c.get('y').gv(bR);var cg=L.c.get('y1').gv(bR);var ch=Math.min(cd,ce);var ci=Math.min(cf,cg);var cj=Math.abs(ce-cd)+0;var ck=Math.abs(cg-cf)+0;Z.$9(this.get_currentContext(),ch,ci,cj,ck,L.c.get('halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var cl=L.c.get('x').gv(bR);var cm=L.c.get('x1').gv(bR);var cn=L.c.get('y').gv(bR)-bU;var co=L.c.get('y').gv(bR)+bU;var cp=Math.min(cl,cm);var cq=Math.min(cn,co);var cr=Math.abs(cm-cl)+0;var cs=Math.abs(co-cn)+0;Z.$9(this.get_currentContext(),cp,cq,cr,cs,L.c.get('halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var ct=L.c.get('x').gv(bR)-bU;var cu=L.c.get('x').gv(bR)+bU;var cv=L.c.get('y').gv(bR)-bU;var cw=L.c.get('y').gv(bR)+bU;var cx=Math.min(ct,cu);var cy=Math.min(cv,cw);var cz=Math.abs(cu-ct)+0;var cA=Math.abs(cw-cv)+0;Z.$9(this.get_currentContext(),cx,cy,cz,cA,L.c.get('halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,true)}}break}case'normalOn':{var cB=ss.Int32.trunc(L.c.get('size').gv(bR)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var cC=L.c.get('x').gv(bR);var cD=L.c.get('x1').gv(bR);var cE=L.c.get('y').gv(bR);var cF=L.c.get('y1').gv(bR);var cG=Math.min(cC,cD);var cH=Math.min(cE,cF);var cI=Math.abs(cD-cC)+0;var cJ=Math.abs(cF-cE)+0;Z.$b(this.get_currentContext(),cG-0,cH-0,cI+0,cJ+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var cK=L.c.get('x').gv(bR);var cL=L.c.get('x1').gv(bR);var cM=L.c.get('y').gv(bR);var cN=L.c.get('y1').gv(bR);var cO=Math.min(cK,cL);var cP=Math.min(cM,cN);var cQ=Math.abs(cL-cK)+0;var cR=Math.abs(cN-cM)+0;Z.$9(this.get_currentContext(),cO,cP,cQ,cR,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var cS=L.c.get('x').gv(bR)-cB;var cT=L.c.get('x').gv(bR)+cB;var cU=L.c.get('y').gv(bR);var cV=L.c.get('y1').gv(bR);var cW=Math.min(cS,cT);var cX=Math.min(cU,cV);var cY=Math.abs(cT-cS)+0;var cZ=Math.abs(cV-cU)+0;Z.$b(this.get_currentContext(),cW-0,cX-0,cY+0,cZ+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var da=L.c.get('x').gv(bR)-cB;var db=L.c.get('x').gv(bR)+cB;var dc=L.c.get('y').gv(bR);var dd=L.c.get('y1').gv(bR);var de=Math.min(da,db);var df=Math.min(dc,dd);var dg=Math.abs(db-da)+0;var dh=Math.abs(dd-dc)+0;Z.$9(this.get_currentContext(),de,df,dg,dh,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var di=L.c.get('x').gv(bR);var dj=L.c.get('x1').gv(bR);var dk=L.c.get('y').gv(bR)-cB;var dl=L.c.get('y').gv(bR)+cB;var dm=Math.min(di,dj);var dn=Math.min(dk,dl);var dp=Math.abs(dj-di)+0;var dq=Math.abs(dl-dk)+0;Z.$b(this.get_currentContext(),dm-0,dn-0,dp+0,dq+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var dr=L.c.get('x').gv(bR);var ds=L.c.get('x1').gv(bR);var dt=L.c.get('y').gv(bR)-cB;var du=L.c.get('y').gv(bR)+cB;var dv=Math.min(dr,ds);var dw=Math.min(dt,du);var dx=Math.abs(ds-dr)+0;var dy=Math.abs(du-dt)+0;Z.$9(this.get_currentContext(),dv,dw,dx,dy,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var dz=L.c.get('x').gv(bR)-cB;var dA=L.c.get('x').gv(bR)+cB;var dB=L.c.get('y').gv(bR)-cB;var dC=L.c.get('y').gv(bR)+cB;var dD=Math.min(dz,dA);var dE=Math.min(dB,dC);var dF=Math.abs(dA-dz)+0;var dG=Math.abs(dC-dB)+0;Z.$b(this.get_currentContext(),dD-0,dE-0,dF+0,dG+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var dH=L.c.get('x').gv(bR)-cB;var dI=L.c.get('x').gv(bR)+cB;var dJ=L.c.get('y').gv(bR)-cB;var dK=L.c.get('y').gv(bR)+cB;var dL=Math.min(dH,dI);var dM=Math.min(dJ,dK);var dN=Math.abs(dI-dH)+0;var dO=Math.abs(dK-dJ)+0;Z.$9(this.get_currentContext(),dL,dM,dN,dO,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedUnder':{var dP=ss.Int32.trunc(L.c.get('size').gv(bR)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var dQ=L.c.get('x').gv(bR);var dR=L.c.get('x1').gv(bR);var dS=L.c.get('y').gv(bR);var dT=L.c.get('y1').gv(bR);var dU=Math.min(dQ,dR);var dV=Math.min(dS,dT);var dW=Math.abs(dR-dQ)+0;var dX=Math.abs(dT-dS)+0;Z.$9(this.get_currentContext(),dU,dV,dW,dX,L.c.get('halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var dY=L.c.get('x').gv(bR)-dP;var dZ=L.c.get('x').gv(bR)+dP;var ea=L.c.get('y').gv(bR);var eb=L.c.get('y1').gv(bR);var ec=Math.min(dY,dZ);var ed=Math.min(ea,eb);var ee=Math.abs(dZ-dY)+0;var ef=Math.abs(eb-ea)+0;Z.$9(this.get_currentContext(),ec,ed,ee,ef,L.c.get('halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var eg=L.c.get('x').gv(bR);var eh=L.c.get('x1').gv(bR);var ei=L.c.get('y').gv(bR)-dP;var ej=L.c.get('y').gv(bR)+dP;var ek=Math.min(eg,eh);var el=Math.min(ei,ej);var em=Math.abs(eh-eg)+0;var en=Math.abs(ej-ei)+0;Z.$9(this.get_currentContext(),ek,el,em,en,L.c.get('halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var eo=L.c.get('x').gv(bR)-dP;var ep=L.c.get('x').gv(bR)+dP;var eq=L.c.get('y').gv(bR)-dP;var er=L.c.get('y').gv(bR)+dP;var es=Math.min(eo,ep);var et=Math.min(eq,er);var eu=Math.abs(ep-eo)+0;var ev=Math.abs(er-eq)+0;Z.$9(this.get_currentContext(),es,et,eu,ev,L.c.get('halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedOn':{var ew=ss.Int32.trunc(L.c.get('size').gv(bR)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var ex=L.c.get('x').gv(bR);var ey=L.c.get('x1').gv(bR);var ez=L.c.get('y').gv(bR);var eA=L.c.get('y1').gv(bR);var eB=Math.min(ex,ey);var eC=Math.min(ez,eA);var eD=Math.abs(ey-ex)+0;var eE=Math.abs(eA-ez)+0;Z.$b(this.get_currentContext(),eB-0,eC-0,eD+0,eE+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var eF=L.c.get('x').gv(bR);var eG=L.c.get('x1').gv(bR);var eH=L.c.get('y').gv(bR);var eI=L.c.get('y1').gv(bR);var eJ=Math.min(eF,eG);var eK=Math.min(eH,eI);var eL=Math.abs(eG-eF)+0;var eM=Math.abs(eI-eH)+0;Z.$9(this.get_currentContext(),eJ,eK,eL,eM,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var eN=L.c.get('x').gv(bR)-ew;var eO=L.c.get('x').gv(bR)+ew;var eP=L.c.get('y').gv(bR);var eQ=L.c.get('y1').gv(bR);var eR=Math.min(eN,eO);var eS=Math.min(eP,eQ);var eT=Math.abs(eO-eN)+0;var eU=Math.abs(eQ-eP)+0;Z.$b(this.get_currentContext(),eR-0,eS-0,eT+0,eU+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var eV=L.c.get('x').gv(bR)-ew;var eW=L.c.get('x').gv(bR)+ew;var eX=L.c.get('y').gv(bR);var eY=L.c.get('y1').gv(bR);var eZ=Math.min(eV,eW);var fa=Math.min(eX,eY);var fb=Math.abs(eW-eV)+0;var fc=Math.abs(eY-eX)+0;Z.$9(this.get_currentContext(),eZ,fa,fb,fc,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var fd=L.c.get('x').gv(bR);var fe=L.c.get('x1').gv(bR);var ff=L.c.get('y').gv(bR)-ew;var fg=L.c.get('y').gv(bR)+ew;var fh=Math.min(fd,fe);var fi=Math.min(ff,fg);var fj=Math.abs(fe-fd)+0;var fk=Math.abs(fg-ff)+0;Z.$b(this.get_currentContext(),fh-0,fi-0,fj+0,fk+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var fl=L.c.get('x').gv(bR);var fm=L.c.get('x1').gv(bR);var fn=L.c.get('y').gv(bR)-ew;var fo=L.c.get('y').gv(bR)+ew;var fp=Math.min(fl,fm);var fq=Math.min(fn,fo);var fr=Math.abs(fm-fl)+0;var fs=Math.abs(fo-fn)+0;Z.$9(this.get_currentContext(),fp,fq,fr,fs,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var ft=L.c.get('x').gv(bR)-ew;var fu=L.c.get('x').gv(bR)+ew;var fv=L.c.get('y').gv(bR)-ew;var fw=L.c.get('y').gv(bR)+ew;var fx=Math.min(ft,fu);var fy=Math.min(fv,fw);var fz=Math.abs(fu-ft)+0;var fA=Math.abs(fw-fv)+0;Z.$b(this.get_currentContext(),fx-0,fy-0,fz+0,fA+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var fB=L.c.get('x').gv(bR)-ew;var fC=L.c.get('x').gv(bR)+ew;var fD=L.c.get('y').gv(bR)-ew;var fE=L.c.get('y').gv(bR)+ew;var fF=Math.min(fB,fC);var fG=Math.min(fD,fE);var fH=Math.abs(fC-fB)+0;var fI=Math.abs(fE-fD)+0;Z.$9(this.get_currentContext(),fF,fG,fH,fI,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedUnder':{var fJ=ss.Int32.trunc(L.c.get('size').gv(bR)+0.5)/2;var fK=1;{var fL=L.c.get('x').gv(bR);var fM=L.c.get('x1').gv(bR);var fN=L.c.get('y').gv(bR);var fO=L.c.get('y1').gv(bR);var fP=Math.min(fL,fM);var fQ=Math.min(fN,fO);var fR=Math.abs(fM-fL)+0;var fS=Math.abs(fO-fN)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&!this.$a(bQ,fP,fQ,fR,fS)){Z.$9(this.get_currentContext(),fP,fQ,fR,fS,L.c.get('selected_halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{var fT=L.c.get('x').gv(bR);var fU=L.c.get('x1').gv(bR);var fV=L.c.get('y').gv(bR);var fW=L.c.get('y1').gv(bR);var fX=Math.min(fT,fU);var fY=Math.min(fV,fW);var fZ=Math.abs(fU-fT)+0;var ga=Math.abs(fW-fV)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&this.$a(bQ,fX,fY,fZ,ga)){Z.$b(this.get_currentContext(),fX-2,fY-2,fZ+4,ga+4,L.c.get('selected_halo_color').gv(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var gb=L.c.get('x').gv(bR);var gc=L.c.get('x1').gv(bR);var gd=L.c.get('y').gv(bR);var ge=L.c.get('y1').gv(bR);var gf=Math.min(gb,gc);var gg=Math.min(gd,ge);var gh=Math.abs(gc-gb)+fK;var gi=Math.abs(ge-gd)+fK;Z.$9(this.get_currentContext(),gf,gg,gh,gi,L.c.get('selected_halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{var gj=L.c.get('x').gv(bR)-fJ;var gk=L.c.get('x').gv(bR)+fJ;var gl=L.c.get('y').gv(bR);var gm=L.c.get('y1').gv(bR);var gn=Math.min(gj,gk);var go=Math.min(gl,gm);var gp=Math.abs(gk-gj)+0;var gq=Math.abs(gm-gl)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&!this.$a(bQ,gn,go,gp,gq)){Z.$9(this.get_currentContext(),gn,go,gp,gq,L.c.get('selected_halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{var gr=L.c.get('x').gv(bR)-fJ;var gs=L.c.get('x').gv(bR)+fJ;var gt=L.c.get('y').gv(bR);var gu=L.c.get('y1').gv(bR);var gv=Math.min(gr,gs);var gw=Math.min(gt,gu);var gx=Math.abs(gs-gr)+0;var gy=Math.abs(gu-gt)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&this.$a(bQ,gv,gw,gx,gy)){Z.$b(this.get_currentContext(),gv-2,gw-2,gx+4,gy+4,L.c.get('selected_halo_color').gv(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var gz=L.c.get('x').gv(bR)-fJ;var gA=L.c.get('x').gv(bR)+fJ;var gB=L.c.get('y').gv(bR);var gC=L.c.get('y1').gv(bR);var gD=Math.min(gz,gA);var gE=Math.min(gB,gC);var gF=Math.abs(gA-gz)+fK;var gG=Math.abs(gC-gB)+fK;Z.$9(this.get_currentContext(),gD,gE,gF,gG,L.c.get('selected_halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{var gH=L.c.get('x').gv(bR);var gI=L.c.get('x1').gv(bR);var gJ=L.c.get('y').gv(bR)-fJ;var gK=L.c.get('y').gv(bR)+fJ;var gL=Math.min(gH,gI);var gM=Math.min(gJ,gK);var gN=Math.abs(gI-gH)+0;var gO=Math.abs(gK-gJ)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&!this.$a(bQ,gL,gM,gN,gO)){Z.$9(this.get_currentContext(),gL,gM,gN,gO,L.c.get('selected_halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{var gP=L.c.get('x').gv(bR);var gQ=L.c.get('x1').gv(bR);var gR=L.c.get('y').gv(bR)-fJ;var gS=L.c.get('y').gv(bR)+fJ;var gT=Math.min(gP,gQ);var gU=Math.min(gR,gS);var gV=Math.abs(gQ-gP)+0;var gW=Math.abs(gS-gR)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&this.$a(bQ,gT,gU,gV,gW)){Z.$b(this.get_currentContext(),gT-2,gU-2,gV+4,gW+4,L.c.get('selected_halo_color').gv(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var gX=L.c.get('x').gv(bR);var gY=L.c.get('x1').gv(bR);var gZ=L.c.get('y').gv(bR)-fJ;var ha=L.c.get('y').gv(bR)+fJ;var hb=Math.min(gX,gY);var hc=Math.min(gZ,ha);var hd=Math.abs(gY-gX)+fK;var he=Math.abs(ha-gZ)+fK;Z.$9(this.get_currentContext(),hb,hc,hd,he,L.c.get('selected_halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,false)}}{var hf=L.c.get('x').gv(bR)-fJ;var hg=L.c.get('x').gv(bR)+fJ;var hh=L.c.get('y').gv(bR)-fJ;var hi=L.c.get('y').gv(bR)+fJ;var hj=Math.min(hf,hg);var hk=Math.min(hh,hi);var hl=Math.abs(hg-hf)+0;var hm=Math.abs(hi-hh)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&!this.$a(bQ,hj,hk,hl,hm)){Z.$9(this.get_currentContext(),hj,hk,hl,hm,L.c.get('selected_halo_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,true)}}{var hn=L.c.get('x').gv(bR)-fJ;var ho=L.c.get('x').gv(bR)+fJ;var hp=L.c.get('y').gv(bR)-fJ;var hq=L.c.get('y').gv(bR)+fJ;var hr=Math.min(hn,ho);var hs=Math.min(hp,hq);var ht=Math.abs(ho-hn)+0;var hu=Math.abs(hq-hp)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&this.$a(bQ,hr,hs,ht,hu)){Z.$b(this.get_currentContext(),hr-2,hs-2,ht+4,hu+4,L.c.get('selected_halo_color').gv(bR)[bT],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var hv=L.c.get('x').gv(bR)-fJ;var hw=L.c.get('x').gv(bR)+fJ;var hx=L.c.get('y').gv(bR)-fJ;var hy=L.c.get('y').gv(bR)+fJ;var hz=Math.min(hv,hw);var hA=Math.min(hx,hy);var hB=Math.abs(hw-hv)+fK;var hC=Math.abs(hy-hx)+fK;Z.$9(this.get_currentContext(),hz,hA,hB,hC,L.c.get('border_color').gv(bR)[bT],4,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedOn':{var hD=ss.Int32.trunc(L.c.get('size').gv(bR)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var hE=L.c.get('x').gv(bR);var hF=L.c.get('x1').gv(bR);var hG=L.c.get('y').gv(bR);var hH=L.c.get('y1').gv(bR);var hI=Math.min(hE,hF);var hJ=Math.min(hG,hH);var hK=Math.abs(hF-hE)+0;var hL=Math.abs(hH-hG)+0;Z.$b(this.get_currentContext(),hI-0,hJ-0,hK+0,hL+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var hM=L.c.get('x').gv(bR);var hN=L.c.get('x1').gv(bR);var hO=L.c.get('y').gv(bR);var hP=L.c.get('y1').gv(bR);var hQ=Math.min(hM,hN);var hR=Math.min(hO,hP);var hS=Math.abs(hN-hM)+0;var hT=Math.abs(hP-hO)+0;Z.$9(this.get_currentContext(),hQ,hR,hS,hT,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var hU=L.c.get('x').gv(bR)-hD;var hV=L.c.get('x').gv(bR)+hD;var hW=L.c.get('y').gv(bR);var hX=L.c.get('y1').gv(bR);var hY=Math.min(hU,hV);var hZ=Math.min(hW,hX);var ia=Math.abs(hV-hU)+0;var ib=Math.abs(hX-hW)+0;Z.$b(this.get_currentContext(),hY-0,hZ-0,ia+0,ib+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var ic=L.c.get('x').gv(bR)-hD;var id=L.c.get('x').gv(bR)+hD;var ie=L.c.get('y').gv(bR);var ig=L.c.get('y1').gv(bR);var ih=Math.min(ic,id);var ii=Math.min(ie,ig);var ij=Math.abs(id-ic)+0;var ik=Math.abs(ig-ie)+0;Z.$9(this.get_currentContext(),ih,ii,ij,ik,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var il=L.c.get('x').gv(bR);var im=L.c.get('x1').gv(bR);var io=L.c.get('y').gv(bR)-hD;var ip=L.c.get('y').gv(bR)+hD;var iq=Math.min(il,im);var ir=Math.min(io,ip);var it=Math.abs(im-il)+0;var iu=Math.abs(ip-io)+0;Z.$b(this.get_currentContext(),iq-0,ir-0,it+0,iu+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var iv=L.c.get('x').gv(bR);var iw=L.c.get('x1').gv(bR);var ix=L.c.get('y').gv(bR)-hD;var iy=L.c.get('y').gv(bR)+hD;var iz=Math.min(iv,iw);var iA=Math.min(ix,iy);var iB=Math.abs(iw-iv)+0;var iC=Math.abs(iy-ix)+0;Z.$9(this.get_currentContext(),iz,iA,iB,iC,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var iD=L.c.get('x').gv(bR)-hD;var iE=L.c.get('x').gv(bR)+hD;var iF=L.c.get('y').gv(bR)-hD;var iG=L.c.get('y').gv(bR)+hD;var iH=Math.min(iD,iE);var iI=Math.min(iF,iG);var iJ=Math.abs(iE-iD)+0;var iK=Math.abs(iG-iF)+0;Z.$b(this.get_currentContext(),iH-0,iI-0,iJ+0,iK+0,L.getMarkColors(bR)[bT],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var iL=L.c.get('x').gv(bR)-hD;var iM=L.c.get('x').gv(bR)+hD;var iN=L.c.get('y').gv(bR)-hD;var iO=L.c.get('y').gv(bR)+hD;var iP=Math.min(iL,iM);var iQ=Math.min(iN,iO);var iR=Math.abs(iM-iL)+0;var iS=Math.abs(iO-iN)+0;Z.$9(this.get_currentContext(),iP,iQ,iR,iS,L.c.get('border_color').gv(bR)[bT],1,L.minBarWidth,L.minBarHeight,true)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderLineMark:function(L,bQ,bR){var bS=L.get_hasSelection();var bT=L.get_hasBrushing();var bU='colorOverrideNone';var bV=L.getUserPaneMarkRange(bQ);var bW=bV.firstMark;var bX=bV.lastMark;var bY=L.getUserPaneRectByIndex(bQ);var bZ=L.get_lineDrawState();this.get_currentContext().save();switch(bR){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}var ca=bZ.get_lineAttributes();for(var cb=0;cb<ca.length;cb++){var cc=ca[cb];if(cc.get_lineState()!=='lineStateNormal'){continue}var cd=cc.worldOffsets;var ce=cd.length;for(var cf=0;cf<ce;cf++){var cg=cd[cf];Z.$c(this.get_currentContext(),cg);{for(var ch=0;ch<cc.marksNeedingDraw.length;ch++){var ci=cc.marksNeedingDraw[ch];if(L.c.get('l_neighbor').gv(ci)!==-1||L.c.get('r_neighbor').gv(ci)!==-1){this.drawLineMarkLayer(L,ci,'normalUnder',bU)}}}{for(var cj=0;cj<cc.marksNeedingDraw.length;cj++){var ck=cc.marksNeedingDraw[cj];this.drawLineMarkLayer(L,ck,'edgeUnder',bU);if(L.c.get('l_neighbor').gv(ck)===-1&&L.c.get('r_neighbor').gv(ck)===-1||L.shouldShowMarker(ck)){this.drawLineMarkLayer(L,ck,'blobUnder',bU)}}}if(cg!==0){this.get_currentContext().restore()}}}var cl=bZ.get_lineAttributes();for(var cm=0;cm<cl.length;cm++){var cn=cl[cm];if(cn.get_lineState()!=='lineStateHighlighted'){continue}var co=cn.worldOffsets;var cp=co.length;for(var cq=0;cq<cp;cq++){var cr=co[cq];Z.$c(this.get_currentContext(),cr);{for(var cs=0;cs<cn.marksNeedingDraw.length;cs++){var ct=cn.marksNeedingDraw[cs];if(L.c.get('l_neighbor').gv(ct)!==-1||L.c.get('r_neighbor').gv(ct)!==-1){this.drawLineMarkLayer(L,ct,'normalUnder',bU)}}}{for(var cu=0;cu<cn.marksNeedingDraw.length;cu++){var cv=cn.marksNeedingDraw[cu];this.drawLineMarkLayer(L,cv,'edgeUnder',bU);if(L.c.get('l_neighbor').gv(cv)===-1&&L.c.get('r_neighbor').gv(cv)===-1||L.shouldShowMarker(cv)){this.drawLineMarkLayer(L,cv,'blobUnder',bU)}}}if(cr!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}var cw=bZ.get_lineAttributes();for(var cx=0;cx<cw.length;cx++){var cy=cw[cx];if(cy.get_lineState()!=='lineStateNormal'){continue}var cz=cy.worldOffsets;var cA=cz.length;for(var cB=0;cB<cA;cB++){var cC=cz[cB];Z.$c(this.get_currentContext(),cC);var cD=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){cD=cy.endIndex-cy.startIndex>1}if(cD){var cE=((!L.isWrappedDomain&&L.markType==='line')?cy.sloppyBoundingBox:null);this.beginOffScreenRender(cE);L.forceOpaqueColors=true}}{for(var cF=0;cF<cy.marksNeedingDraw.length;cF++){var cG=cy.marksNeedingDraw[cF];if(L.c.get('l_neighbor').gv(cG)!==-1||L.c.get('r_neighbor').gv(cG)!==-1){this.drawLineMarkLayer(L,cG,'normalOn',bU)}else{this.drawLineMarkLayer(L,cG,'blobOn',bU)}}}{for(var cH=0;cH<cy.marksNeedingDraw.length;cH++){var cI=cy.marksNeedingDraw[cH];this.drawLineMarkLayer(L,cI,'edgeOn',bU)}}if(L.get_hasGlobalTransparency()){if(cD){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var cJ=0;cJ<cy.marksNeedingDraw.length;cJ++){var cK=cy.marksNeedingDraw[cJ];if(L.shouldShowMarker(cK)){this.drawLineMarkLayer(L,cK,'blobOn',bU)}}}if(cC!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bS||bT){bU='colorOverrideNone';var cL=bZ.get_lineAttributes();for(var cM=0;cM<cL.length;cM++){var cN=cL[cM];if(cN.get_lineState()!=='lineStateHighlighted'){continue}var cO=cN.worldOffsets;var cP=cO.length;for(var cQ=0;cQ<cP;cQ++){var cR=cO[cQ];Z.$c(this.get_currentContext(),cR);var cS=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){cS=cN.endIndex-cN.startIndex>1}if(cS){var cT=((!L.isWrappedDomain&&L.markType==='line')?cN.sloppyBoundingBox:null);this.beginOffScreenRender(cT);L.forceOpaqueColors=true}}{for(var cU=0;cU<cN.marksNeedingDraw.length;cU++){var cV=cN.marksNeedingDraw[cU];if(!(L.getMarkState(cV)==='markStateHighlighted')){bU='colorOverrideFog'}if(!(L.getMarkState(cV)==='markStateHighlighted'&&!cN.get_allHighlighted())){if(L.c.get('l_neighbor').gv(cV)!==-1||L.c.get('r_neighbor').gv(cV)!==-1){this.drawLineMarkLayer(L,cV,'normalOn',bU)}else{this.drawLineMarkLayer(L,cV,'blobOn',bU)}}bU='colorOverrideNone'}}{for(var cW=0;cW<cN.marksNeedingDraw.length;cW++){var cX=cN.marksNeedingDraw[cW];if(L.getMarkState(cX)!=='markStateHighlighted'||L.c.get('r_neighbor').gv(cX)!==-1&&L.getMarkState(L.c.get('r_neighbor').gv(cX))!=='markStateHighlighted'){bU='colorOverrideFog'}this.drawLineMarkLayer(L,cX,'edgeOn',bU);bU='colorOverrideNone'}}if(L.get_hasGlobalTransparency()){if(cS){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var cY=0;cY<cN.marksNeedingDraw.length;cY++){var cZ=cN.marksNeedingDraw[cY];if(!(L.getMarkState(cZ)==='markStateHighlighted')){bU='colorOverrideFog'}if(!(L.getMarkState(cZ)==='markStateHighlighted'&&!cN.get_allHighlighted())){if(L.shouldShowMarker(cZ)){this.drawLineMarkLayer(L,cZ,'blobOn',bU)}}bU='colorOverrideNone'}}{for(var da=0;da<cN.marksNeedingDraw.length;da++){var db=cN.marksNeedingDraw[da];if(L.getMarkState(db)==='markStateHighlighted'&&!cN.get_allHighlighted()){this.drawLineMarkLayer(L,db,'highlightedUnder',bU)}}}{for(var dc=0;dc<cN.marksNeedingDraw.length;dc++){var dd=cN.marksNeedingDraw[dc];if(L.getMarkState(dd)==='markStateHighlighted'&&!cN.get_allHighlighted()){this.drawLineMarkLayer(L,dd,'highlightedOn',bU)}}}if(cR!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(bS||bT){bU='colorOverrideNone';var de=bZ.get_lineAttributes();for(var df=0;df<de.length;df++){var dg=de[df];if(dg.get_lineState()!=='lineStateSelected'){continue}var dh=dg.worldOffsets;var di=dh.length;for(var dj=0;dj<di;dj++){var dk=dh[dj];Z.$c(this.get_currentContext(),dk);{for(var dl=0;dl<dg.marksNeedingDraw.length;dl++){var dm=dg.marksNeedingDraw[dl];this.drawLineMarkLayer(L,dm,'selectedUnder1',bU);this.drawLineMarkLayer(L,dm,'selectedEdgeUnder',bU)}}if(dk!==0){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(bS||bT){bU='colorOverrideOpaque';var dn=bZ.get_lineAttributes();for(var dp=0;dp<dn.length;dp++){var dq=dn[dp];if(dq.get_lineState()!=='lineStateSelected'){continue}var dr=dq.worldOffsets;var ds=dr.length;for(var dt=0;dt<ds;dt++){var du=dr[dt];Z.$c(this.get_currentContext(),du);{for(var dv=0;dv<dq.marksNeedingDraw.length;dv++){var dw=dq.marksNeedingDraw[dv];if(L.c.get('l_neighbor').gv(dw)!==-1||L.c.get('r_neighbor').gv(dw)!==-1){this.drawLineMarkLayer(L,dw,'normalOn',bU)}else{this.drawLineMarkLayer(L,dw,'blobOn',bU)}}}{for(var dx=0;dx<dq.marksNeedingDraw.length;dx++){var dy=dq.marksNeedingDraw[dx];this.drawLineMarkLayer(L,dy,'edgeOn',bU)}}{for(var dz=0;dz<dq.marksNeedingDraw.length;dz++){var dA=dq.marksNeedingDraw[dz];if(L.shouldShowMarker(dA)){this.drawLineMarkLayer(L,dA,'blobOn',bU)}}}if(!dq.get_allHighlighted()){{for(var dB=0;dB<dq.marksNeedingDraw.length;dB++){var dC=dq.marksNeedingDraw[dB];if(L.getMarkState(dC)==='markStateHighlighted'){this.drawLineMarkLayer(L,dC,'highlightedUnder',bU)}}}{for(var dD=0;dD<dq.marksNeedingDraw.length;dD++){var dE=dq.marksNeedingDraw[dD];if(L.getMarkState(dE)==='markStateHighlighted'){this.drawLineMarkLayer(L,dE,'highlightedOn',bU)}}}}{for(var dF=0;dF<dq.marksNeedingDraw.length;dF++){var dG=dq.marksNeedingDraw[dF];if(L.getMarkState(dG)==='markStateSelected'){this.drawLineMarkLayer(L,dG,'selectedUnder',bU)}}}{for(var dH=0;dH<dq.marksNeedingDraw.length;dH++){var dI=dq.marksNeedingDraw[dH];if(L.getMarkState(dI)==='markStateSelected'){this.drawLineMarkLayer(L,dI,'highlightedOn',bU)}}}if(du!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawLineMarkLayer:function(L,bQ,bR,bS){var bT=L.c.get('l_neighbor').gv(bQ);var bU=L.c.get('r_neighbor').gv(bQ);switch(bR){case'normalUnder':{var bV=bU!==-1;var bW=L.lineInterpolation;{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('halo_color').gv(bQ)[bS],4)}if(bV&&(bW==='lim-step'||bW==='lim-jump')){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bU)-L.c.get('x').gv(bQ)+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('halo_color').gv(bQ)[bS],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.getMarkColors(bQ)[bS])}}break}case'blobUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+3,L.c.get('halo_color').gv(bQ)[bS],4)}break}case'blobOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+3,L.getMarkColors(bQ)[bS])}}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+4,L.c.get('selected_multi_prim_halo_color').gv(bQ)[bS],4)}break}case'highlightedOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+4,L.getMarkColors(bQ)[bS])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ)+4,L.c.get('selected_halo_color').gv(bQ)[bS],4)}break}case'selectedUnder1':{var bX=bU!==-1;var bY=L.lineInterpolation;{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('selected_multi_prim_halo_color').gv(bQ)[bS],4)}if(bX&&(bY==='lim-step'||bY==='lim-jump')){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bU)-L.c.get('x').gv(bQ)+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('selected_multi_prim_halo_color').gv(bQ)[bS],4)}break}case'edgeUnder':{var bZ=bU!==-1;var ca=L.lineInterpolation;if(bZ&&ca==='lim-linear'){this.$e(L.c.get('x').gv(bQ),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bU),L.c.get('size').gv(bQ),L.c.get('size').gv(bU),L.c.get('halo_color').gv(bQ)[bS],4)}if(bZ&&ca==='lim-step'){this.$e(L.c.get('x').gv(bQ),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('size').gv(bQ),L.c.get('halo_color').gv(bQ)[bS],4)}if(bZ&&ca==='lim-step'){this.$e(L.c.get('x').gv(bU),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bU),L.c.get('size').gv(bQ),L.c.get('size').gv(bU),L.c.get('halo_color').gv(bQ)[bS],4)}if(bZ&&ca==='lim-jump'){this.$e(L.c.get('x').gv(bQ),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('size').gv(bQ),L.c.get('halo_color').gv(bQ)[bS],4)}break}case'selectedEdgeUnder':{var cb=bU!==-1;var cc=L.lineInterpolation;if(cb&&cc==='lim-linear'){this.$e(L.c.get('x').gv(bQ),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bU),L.c.get('size').gv(bQ),L.c.get('size').gv(bU),L.c.get('selected_multi_prim_halo_color').gv(bQ)[bS],4)}if(cb&&cc==='lim-step'){this.$e(L.c.get('x').gv(bQ),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('size').gv(bQ),L.c.get('selected_multi_prim_halo_color').gv(bQ)[bS],4)}if(cb&&cc==='lim-step'){this.$e(L.c.get('x').gv(bU),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bU),L.c.get('size').gv(bQ),L.c.get('size').gv(bU),L.c.get('selected_multi_prim_halo_color').gv(bQ)[bS],4)}if(cb&&cc==='lim-jump'){this.$e(L.c.get('x').gv(bQ),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('size').gv(bQ),L.c.get('selected_multi_prim_halo_color').gv(bQ)[bS],4)}break}case'edgeOn':{var cd=bU!==-1;var ce=L.lineInterpolation;if(cd&&ce==='lim-linear'){if(L.isLineSegmentVisible(bQ,bU)){var cf=bS;if(L.isLineSegmentFiltered(bQ,bU)){bS='colorOverrideFog'}this.$b(L.c.get('x').gv(bQ),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bU),L.c.get('size').gv(bQ),L.c.get('size').gv(bU),L.getMarkColors(bQ)[bS],L.getMarkColors(bU)[bS])}}if(cd&&(ce==='lim-step'||ce==='lim-jump')){if(L.isLineSegmentVisible(bQ,bU)){var cg=bS;if(L.isLineSegmentFiltered(bQ,bU)){bS='colorOverrideFog'}this.$b(L.c.get('x').gv(bQ),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.c.get('size').gv(bQ),L.getMarkColors(bQ)[bS],L.getMarkColors(bQ)[bS])}}if(cd&&(ce==='lim-step'||ce==='lim-jump')){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),L.c.get('x').gv(bU)-L.c.get('x').gv(bQ)+L.c.get('x').gv(bQ),0+L.c.get('y').gv(bQ),L.c.get('size').gv(bQ),L.getMarkColors(bQ)[bS])}if(cd&&ce==='lim-step'){if(L.isLineSegmentVisible(bQ,bU)){var ch=bS;if(L.isLineSegmentFiltered(bQ,bU)){bS='colorOverrideFog'}this.$b(L.c.get('x').gv(bU),L.c.get('x').gv(bU),L.c.get('y').gv(bQ),L.c.get('y').gv(bU),L.c.get('size').gv(bQ),L.c.get('size').gv(bU),L.getMarkColors(bQ)[bS],L.getMarkColors(bU)[bS])}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderShapeMark:function(L,bQ,bR){var bS=L.get_hasSelection();var bT=L.get_hasBrushing();var bU='colorOverrideNone';var bV=L.getUserPaneMarkRange(bQ);var bW=bV.firstMark;var bX=bV.lastMark;var bY=L.getUserPaneRectByIndex(bQ);switch(bR){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,cb,'normalUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}if(bS||bT){bU='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,cb,'normalUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(bS||bT){bU='colorOverrideFog'}else{bU='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,cb,'normalOn',bU);if(L.drawBorder){this.drawShapeMarkLayer(L,cb,'border',bU)}}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bS||bT){bU='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,cb,'normalOn',bU);if(L.drawBorder){this.drawShapeMarkLayer(L,cb,'border',bU)}}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bS||bT){bU='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,cb,'selectedUnder',bU)}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bS||bT){bU='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bZ,ca){Z.$c(this.get_currentContext(),ca);for(var cb=bW;cb<=bX;cb++){if(bZ.has(cb)){continue}if(!L.markNeedsDraw(cb)){continue}if(L.getMarkState(cb)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,cb,'normalOn',bU);if(L.drawBorder){this.drawShapeMarkLayer(L,cb,'border',bU)}}if(!tab.DoubleUtil.isApproximatelyEqual(ca,0)){this.get_currentContext().restore()}}))}}break}}},drawShapeMarkLayer:function(L,bQ,bR,bS){var bT=L.c.get('shape_id').gv(bQ);if(!Z.shapeHasLayerContent(bT,bR)){return}var bU=L.c.get('x').gv(bQ);var bV=L.c.get('y').gv(bQ);var bW=L.shouldStampThisShapeMark(bQ);if(!bW){this.renderShapeMarkLayer(L,bU,bV,bQ,bR,bS,false);return}var bX=L.c.get('size').gv(bQ);var bY=Z.$6(L,bQ,bR,bS);var bZ=Z.getShapeMarkSpriteSize(bT,bR,bX)+2;var ca=bZ/2;var cb=bV-ca;var cc=bU-ca;var cd=this.get_currentContext();var ce=tab.ShapeManager.getCacheKey(bT,bR,bS,bY,bX);var cf=tab.ApplicationModel.get_instance().get_shapeManager().getCachedStampCanvas(ce);if(ss.isNullOrUndefined(cf)){var cg=function(){var ch=document.createElement('canvas');var ci=new tab.TabRenderContext2D(ch.getContext('2d'));tab.CanvasUtil.sizeCanvasWithHighDPISupport(ch,ci,{w:bZ,h:bZ});if(tab.FeatureParamsLookup.getBool(38)){ci.set_shapeFillStyle('rgba(255, 0, 0, 0.12)');ci.fillRect(0,0,bZ,bZ)}var cj=new Z(ch,ci);cj.renderShapeMarkLayer(L,ca,ca,bQ,bR,bS,true);return ch};cf=tab.ApplicationModel.get_instance().get_shapeManager().generateCachedStampCanvas(ce,cg)}if(ss.isValue(cf)){cd.drawImage3(cf,cc+0.5<<0,cb+0.5<<0,bZ,bZ)}else{this.renderShapeMarkLayer(L,bU,bV,bQ,bR,bS,false)}},renderShapeMarkLayer:function(L,bQ,bR,bS,bT,bU,bV){var bW=L.clipCase!==0&&!bV;if(bW){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bS),L.c.get('cell_y').gv(bS),L.c.get('clip_width').gv(bS),L.c.get('clip_height').gv(bS))}var bX=L.c.get('shape_id').gv(bS);switch(bX){case'shapeIDCircle':{this.$h(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledCircle':{this.$k(L,bQ,bR,bS,bT,bU);break}case'shapeIDUnscaledFilledCircle':{this.$A(L,bQ,bR,bS,bT,bU);break}case'shapeIDSquare':{this.$x(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledSquare':{this.$q(L,bQ,bR,bS,bT,bU);break}case'shapeIDAsterisk':{this.$g(L,bQ,bR,bS,bT,bU);break}case'shapeIDPlus':{this.$v(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledPlus':{this.$o(L,bQ,bR,bS,bT,bU);break}case'shapeIDTimes':{this.$y(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledTimes':{this.$s(L,bQ,bR,bS,bT,bU);break}case'shapeIDDiamond':{this.$i(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledDiamond':{this.$l(L,bQ,bR,bS,bT,bU);break}case'shapeIDTriangle':{this.$z(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledTriangle':{this.$t(L,bQ,bR,bS,bT,bU);break}case'shapeIDDownTriangle':{this.$j(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledDownTriangle':{this.$m(L,bQ,bR,bS,bT,bU);break}case'shapeIDLeftTriangle':{this.$u(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledLeftTriangle':{this.$n(L,bQ,bR,bS,bT,bU);break}case'shapeIDRightTriangle':{this.$w(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledRightTriangle':{this.$p(L,bQ,bR,bS,bT,bU);break}case'shapeIDFilledStar':{this.$r(L,bQ,bR,bS,bT,bU);break}default:{Z.$a(this.get_currentContext(),L,bS,bT,bU);break}}if(bW){this.get_currentContext().restore()}},$h:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS)*0.958333333333333,L.c.get('halo_color').gv(bS)[bU],4)}break}case'normalOn':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS)*0.958333333333333,L.getMarkColors(bS)[bU],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS)*0.958333333333333,L.c.get('selected_halo_color').gv(bS)[bU],4)}break}default:{break}}},$k:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS)*0.979166666666667,L.c.get('halo_color').gv(bS)[bU],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS)*0.979166666666667,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS)*0.979166666666667,L.c.get('selected_halo_color').gv(bS)[bU],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS)*0.979166666666667,L.c.get('border_color').gv(bS)[bU],1)}break}default:{break}}},$A:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS),L.c.get('halo_color').gv(bS)[bU],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS),L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS),L.c.get('selected_halo_color').gv(bS)[bU],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bQ,0+bR,L.c.get('size').gv(bS),L.c.get('border_color').gv(bS)[bU],1)}break}default:{break}}},$x:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bQ+0,bR+0,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('halo_color').gv(bS)[bU],4)}break}case'normalOn':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bQ+0,bR+0,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('size').gv(bS)*0.895833333333333,L.getMarkColors(bS)[bU],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bQ+0,bR+0,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('size').gv(bS)*0.895833333333333,L.c.get('selected_halo_color').gv(bS)[bU],4)}break}default:{break}}},$q:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bQ+0,bR+0,L.c.get('size').gv(bS)*0.9375,L.c.get('size').gv(bS)*0.9375,L.c.get('halo_color').gv(bS)[bU],4)}break}case'normalOn':{{this.renderFilledRectangle(bQ+0,bR+0,L.c.get('size').gv(bS)*0.9375,L.c.get('size').gv(bS)*0.9375,L.getMarkColors(bS)[bU])}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bQ+0,bR+0,L.c.get('size').gv(bS)*0.9375,L.c.get('size').gv(bS)*0.9375,L.c.get('selected_halo_color').gv(bS)[bU],4)}break}case'border':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bQ+0,bR+0,L.c.get('size').gv(bS)*0.9375,L.c.get('size').gv(bS)*0.9375,L.c.get('border_color').gv(bS)[bU],1)}break}default:{break}}},$g:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.958333333333333/2;var bW=0.899999976158142*bV;var bX=L.c.get('size').gv(bS)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var bY=bQ;var bZ=bR;var ca=new Array(4);ca[0]=bY+0;ca[1]=bZ+-bV;ca[2]=bY+0;ca[3]=bZ+bV;this.$d(ca,4,L.c.get('halo_color').gv(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var cb=bQ;var cc=bR;var cd=new Array(4);cd[0]=cb+-bW;cd[1]=cc+-bX;cd[2]=cb+bW;cd[3]=cc+bX;this.$d(cd,4,L.c.get('halo_color').gv(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var ce=bQ;var cf=bR;var cg=new Array(4);cg[0]=ce+bW;cg[1]=cf+-bX;cg[2]=ce+-bW;cg[3]=cf+bX;this.$d(cg,4,L.c.get('halo_color').gv(bS)[bU],true)}}break}case'normalOn':{var ch=L.c.get('size').gv(bS)*0.958333333333333/2;var ci=0.899999976158142*ch;var cj=L.c.get('size').gv(bS)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var ck=bQ;var cl=bR;var cm=new Array(4);cm[0]=ck+0;cm[1]=cl+-ch;cm[2]=ck+0;cm[3]=cl+ch;this.$d(cm,2,L.getMarkColors(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var cn=bQ;var co=bR;var cp=new Array(4);cp[0]=cn+-ci;cp[1]=co+-cj;cp[2]=cn+ci;cp[3]=co+cj;this.$d(cp,2,L.getMarkColors(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var cq=bQ;var cr=bR;var cs=new Array(4);cs[0]=cq+ci;cs[1]=cr+-cj;cs[2]=cq+-ci;cs[3]=cr+cj;this.$d(cs,2,L.getMarkColors(bS)[bU],true)}}break}case'selectedUnder':{var ct=L.c.get('size').gv(bS)*0.958333333333333/2;var cu=0.899999976158142*ct;var cv=L.c.get('size').gv(bS)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var cw=bQ;var cx=bR;var cy=new Array(4);cy[0]=cw+0;cy[1]=cx+-ct;cy[2]=cw+0;cy[3]=cx+ct;this.$d(cy,4,L.c.get('selected_halo_color').gv(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var cz=bQ;var cA=bR;var cB=new Array(4);cB[0]=cz+-cu;cB[1]=cA+-cv;cB[2]=cz+cu;cB[3]=cA+cv;this.$d(cB,4,L.c.get('selected_halo_color').gv(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var cC=bQ;var cD=bR;var cE=new Array(4);cE[0]=cC+cu;cE[1]=cD+-cv;cE[2]=cC+-cu;cE[3]=cD+cv;this.$d(cE,4,L.c.get('selected_halo_color').gv(bS)[bU],true)}}break}default:{break}}},$v:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var bW=bQ;var bX=bR;var bY=new Array(4);bY[0]=bW+0;bY[1]=bX+-bV;bY[2]=bW+0;bY[3]=bX+bV;this.$d(bY,4,L.c.get('halo_color').gv(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var bZ=bQ;var ca=bR;var cb=new Array(4);cb[0]=bZ+-bV;cb[1]=ca+0;cb[2]=bZ+bV;cb[3]=ca+0;this.$d(cb,4,L.c.get('halo_color').gv(bS)[bU],true)}}break}case'normalOn':{var cc=L.c.get('size').gv(bS)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var cd=bQ;var ce=bR;var cf=new Array(4);cf[0]=cd+0;cf[1]=ce+-cc;cf[2]=cd+0;cf[3]=ce+cc;this.$d(cf,2,L.getMarkColors(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var cg=bQ;var ch=bR;var ci=new Array(4);ci[0]=cg+-cc;ci[1]=ch+0;ci[2]=cg+cc;ci[3]=ch+0;this.$d(ci,2,L.getMarkColors(bS)[bU],true)}}break}case'selectedUnder':{var cj=L.c.get('size').gv(bS)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var ck=bQ;var cl=bR;var cm=new Array(4);cm[0]=ck+0;cm[1]=cl+-cj;cm[2]=ck+0;cm[3]=cl+cj;this.$d(cm,4,L.c.get('selected_halo_color').gv(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var cn=bQ;var co=bR;var cp=new Array(4);cp[0]=cn+-cj;cp[1]=co+0;cp[2]=cn+cj;cp[3]=co+0;this.$d(cp,4,L.c.get('selected_halo_color').gv(bS)[bU],true)}}break}default:{break}}},$o:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.9375/2;var bW=bV/3;{{var bX=bQ;var bY=bR;var bZ=new Array(24);bZ[0]=bX+-bW;bZ[1]=bY+-bV;bZ[2]=bX+-bW;bZ[3]=bY+-bW;bZ[4]=bX+-bV;bZ[5]=bY+-bW;bZ[6]=bX+-bV;bZ[7]=bY+bW;bZ[8]=bX+-bW;bZ[9]=bY+bW;bZ[10]=bX+-bW;bZ[11]=bY+bV;bZ[12]=bX+bW;bZ[13]=bY+bV;bZ[14]=bX+bW;bZ[15]=bY+bW;bZ[16]=bX+bV;bZ[17]=bY+bW;bZ[18]=bX+bV;bZ[19]=bY+-bW;bZ[20]=bX+bW;bZ[21]=bY+-bW;bZ[22]=bX+bW;bZ[23]=bY+-bV;this.get_currentContext().set_lineJoin('miter');this.$f(bZ,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var ca=L.c.get('size').gv(bS)*0.9375/2;var cb=ca/3;{{var cc=bQ;var cd=bR;var ce=new Array(24);ce[0]=cc+-cb;ce[1]=cd+-ca;ce[2]=cc+-cb;ce[3]=cd+-cb;ce[4]=cc+-ca;ce[5]=cd+-cb;ce[6]=cc+-ca;ce[7]=cd+cb;ce[8]=cc+-cb;ce[9]=cd+cb;ce[10]=cc+-cb;ce[11]=cd+ca;ce[12]=cc+cb;ce[13]=cd+ca;ce[14]=cc+cb;ce[15]=cd+cb;ce[16]=cc+ca;ce[17]=cd+cb;ce[18]=cc+ca;ce[19]=cd+-cb;ce[20]=cc+cb;ce[21]=cd+-cb;ce[22]=cc+cb;ce[23]=cd+-ca;this.$c(ce,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cf=L.c.get('size').gv(bS)*0.9375/2;var cg=cf/3;{{var ch=bQ;var ci=bR;var cj=new Array(24);cj[0]=ch+-cg;cj[1]=ci+-cf;cj[2]=ch+-cg;cj[3]=ci+-cg;cj[4]=ch+-cf;cj[5]=ci+-cg;cj[6]=ch+-cf;cj[7]=ci+cg;cj[8]=ch+-cg;cj[9]=ci+cg;cj[10]=ch+-cg;cj[11]=ci+cf;cj[12]=ch+cg;cj[13]=ci+cf;cj[14]=ch+cg;cj[15]=ci+cg;cj[16]=ch+cf;cj[17]=ci+cg;cj[18]=ch+cf;cj[19]=ci+-cg;cj[20]=ch+cg;cj[21]=ci+-cg;cj[22]=ch+cg;cj[23]=ci+-cf;this.get_currentContext().set_lineJoin('miter');this.$f(cj,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$y:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.875/2;{{this.get_currentContext().set_lineCap('square');var bW=bQ;var bX=bR;var bY=new Array(4);bY[0]=bW+-bV;bY[1]=bX+-bV;bY[2]=bW+bV;bY[3]=bX+bV;this.$d(bY,4,L.c.get('halo_color').gv(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var bZ=bQ;var ca=bR;var cb=new Array(4);cb[0]=bZ+-bV;cb[1]=ca+bV;cb[2]=bZ+bV;cb[3]=ca+-bV;this.$d(cb,4,L.c.get('halo_color').gv(bS)[bU],true)}}break}case'normalOn':{var cc=L.c.get('size').gv(bS)*0.875/2;{{this.get_currentContext().set_lineCap('square');var cd=bQ;var ce=bR;var cf=new Array(4);cf[0]=cd+-cc;cf[1]=ce+-cc;cf[2]=cd+cc;cf[3]=ce+cc;this.$d(cf,2,L.getMarkColors(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var cg=bQ;var ch=bR;var ci=new Array(4);ci[0]=cg+-cc;ci[1]=ch+cc;ci[2]=cg+cc;ci[3]=ch+-cc;this.$d(ci,2,L.getMarkColors(bS)[bU],true)}}break}case'selectedUnder':{var cj=L.c.get('size').gv(bS)*0.875/2;{{this.get_currentContext().set_lineCap('square');var ck=bQ;var cl=bR;var cm=new Array(4);cm[0]=ck+-cj;cm[1]=cl+-cj;cm[2]=ck+cj;cm[3]=cl+cj;this.$d(cm,4,L.c.get('selected_halo_color').gv(bS)[bU],true)}}{{this.get_currentContext().set_lineCap('square');var cn=bQ;var co=bR;var cp=new Array(4);cp[0]=cn+-cj;cp[1]=co+cj;cp[2]=cn+cj;cp[3]=co+-cj;this.$d(cp,4,L.c.get('selected_halo_color').gv(bS)[bU],true)}}break}default:{break}}},$s:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.9375/2;var bW=L.c.get('size').gv(bS)*0.9375/4;{{var bX=bQ;var bY=bR;var bZ=new Array(24);bZ[0]=bX+-bW;bZ[1]=bY+-bV;bZ[2]=bX+-bV;bZ[3]=bY+-bW;bZ[4]=bX+-bW;bZ[5]=bY+0;bZ[6]=bX+-bV;bZ[7]=bY+bW;bZ[8]=bX+-bW;bZ[9]=bY+bV;bZ[10]=bX+0;bZ[11]=bY+bW;bZ[12]=bX+bW;bZ[13]=bY+bV;bZ[14]=bX+bV;bZ[15]=bY+bW;bZ[16]=bX+bW;bZ[17]=bY+0;bZ[18]=bX+bV;bZ[19]=bY+-bW;bZ[20]=bX+bW;bZ[21]=bY+-bV;bZ[22]=bX+0;bZ[23]=bY+-bW;this.get_currentContext().set_lineJoin('miter');this.$f(bZ,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var ca=L.c.get('size').gv(bS)*0.9375/2;var cb=L.c.get('size').gv(bS)*0.9375/4;{{var cc=bQ;var cd=bR;var ce=new Array(24);ce[0]=cc+-cb;ce[1]=cd+-ca;ce[2]=cc+-ca;ce[3]=cd+-cb;ce[4]=cc+-cb;ce[5]=cd+0;ce[6]=cc+-ca;ce[7]=cd+cb;ce[8]=cc+-cb;ce[9]=cd+ca;ce[10]=cc+0;ce[11]=cd+cb;ce[12]=cc+cb;ce[13]=cd+ca;ce[14]=cc+ca;ce[15]=cd+cb;ce[16]=cc+cb;ce[17]=cd+0;ce[18]=cc+ca;ce[19]=cd+-cb;ce[20]=cc+cb;ce[21]=cd+-ca;ce[22]=cc+0;ce[23]=cd+-cb;this.$c(ce,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cf=L.c.get('size').gv(bS)*0.9375/2;var cg=L.c.get('size').gv(bS)*0.9375/4;{{var ch=bQ;var ci=bR;var cj=new Array(24);cj[0]=ch+-cg;cj[1]=ci+-cf;cj[2]=ch+-cf;cj[3]=ci+-cg;cj[4]=ch+-cg;cj[5]=ci+0;cj[6]=ch+-cf;cj[7]=ci+cg;cj[8]=ch+-cg;cj[9]=ci+cf;cj[10]=ch+0;cj[11]=ci+cg;cj[12]=ch+cg;cj[13]=ci+cf;cj[14]=ch+cf;cj[15]=ci+cg;cj[16]=ch+cg;cj[17]=ci+0;cj[18]=ch+cf;cj[19]=ci+-cg;cj[20]=ch+cg;cj[21]=ci+-cf;cj[22]=ch+0;cj[23]=ci+-cg;this.get_currentContext().set_lineJoin('miter');this.$f(cj,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$i:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*1.04166666666667/2;{{var bW=bQ;var bX=bR;var bY=new Array(8);bY[0]=bW+0;bY[1]=bX+-bV;bY[2]=bW+-bV;bY[3]=bX+0;bY[4]=bW+0;bY[5]=bX+bV;bY[6]=bW+bV;bY[7]=bX+0;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*1.04166666666667/2;{{var ca=bQ;var cb=bR;var cc=new Array(8);cc[0]=ca+0;cc[1]=cb+-bZ;cc[2]=ca+-bZ;cc[3]=cb+0;cc[4]=ca+0;cc[5]=cb+bZ;cc[6]=ca+bZ;cc[7]=cb+0;this.get_currentContext().set_lineJoin('miter');this.$f(cc,2,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*1.04166666666667/2;{{var ce=bQ;var cf=bR;var cg=new Array(8);cg[0]=ce+0;cg[1]=cf+-cd;cg[2]=ce+-cd;cg[3]=cf+0;cg[4]=ce+0;cg[5]=cf+cd;cg[6]=ce+cd;cg[7]=cf+0;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$l:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*1.04166666666667/2;{{var bW=bQ;var bX=bR;var bY=new Array(8);bY[0]=bW+0;bY[1]=bX+-bV;bY[2]=bW+-bV;bY[3]=bX+0;bY[4]=bW+0;bY[5]=bX+bV;bY[6]=bW+bV;bY[7]=bX+0;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*1.04166666666667/2;{{var ca=bQ;var cb=bR;var cc=new Array(8);cc[0]=ca+0;cc[1]=cb+-bZ;cc[2]=ca+-bZ;cc[3]=cb+0;cc[4]=ca+0;cc[5]=cb+bZ;cc[6]=ca+bZ;cc[7]=cb+0;this.$c(cc,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*1.04166666666667/2;{{var ce=bQ;var cf=bR;var cg=new Array(8);cg[0]=ce+0;cg[1]=cf+-cd;cg[2]=ce+-cd;cg[3]=cf+0;cg[4]=ce+0;cg[5]=cf+cd;cg[6]=ce+cd;cg[7]=cf+0;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$z:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.895833333333333/2;{{var bW=bQ;var bX=bR;var bY=new Array(6);bY[0]=bW+0;bY[1]=bX+-bV;bY[2]=bW+-bV;bY[3]=bX+bV;bY[4]=bW+bV;bY[5]=bX+bV;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*0.895833333333333/2;{{var ca=bQ;var cb=bR;var cc=new Array(6);cc[0]=ca+0;cc[1]=cb+-bZ;cc[2]=ca+-bZ;cc[3]=cb+bZ;cc[4]=ca+bZ;cc[5]=cb+bZ;this.get_currentContext().set_lineJoin('miter');this.$f(cc,2,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*0.895833333333333/2;{{var ce=bQ;var cf=bR;var cg=new Array(6);cg[0]=ce+0;cg[1]=cf+-cd;cg[2]=ce+-cd;cg[3]=cf+cd;cg[4]=ce+cd;cg[5]=cf+cd;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$t:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.916666666666667/2;{{var bW=bQ;var bX=bR;var bY=new Array(6);bY[0]=bW+0;bY[1]=bX+-bV;bY[2]=bW+-bV;bY[3]=bX+bV;bY[4]=bW+bV;bY[5]=bX+bV;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*0.916666666666667/2;{{var ca=bQ;var cb=bR;var cc=new Array(6);cc[0]=ca+0;cc[1]=cb+-bZ;cc[2]=ca+-bZ;cc[3]=cb+bZ;cc[4]=ca+bZ;cc[5]=cb+bZ;this.$c(cc,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*0.916666666666667/2;{{var ce=bQ;var cf=bR;var cg=new Array(6);cg[0]=ce+0;cg[1]=cf+-cd;cg[2]=ce+-cd;cg[3]=cf+cd;cg[4]=ce+cd;cg[5]=cf+cd;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$j:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.895833333333333/2;{{var bW=bQ;var bX=bR;var bY=new Array(6);bY[0]=bW+0;bY[1]=bX+bV;bY[2]=bW+-bV;bY[3]=bX+-bV;bY[4]=bW+bV;bY[5]=bX+-bV;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*0.895833333333333/2;{{var ca=bQ;var cb=bR;var cc=new Array(6);cc[0]=ca+0;cc[1]=cb+bZ;cc[2]=ca+-bZ;cc[3]=cb+-bZ;cc[4]=ca+bZ;cc[5]=cb+-bZ;this.get_currentContext().set_lineJoin('miter');this.$f(cc,2,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*0.895833333333333/2;{{var ce=bQ;var cf=bR;var cg=new Array(6);cg[0]=ce+0;cg[1]=cf+cd;cg[2]=ce+-cd;cg[3]=cf+-cd;cg[4]=ce+cd;cg[5]=cf+-cd;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$m:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.916666666666667/2;{{var bW=bQ;var bX=bR;var bY=new Array(6);bY[0]=bW+0;bY[1]=bX+bV;bY[2]=bW+-bV;bY[3]=bX+-bV;bY[4]=bW+bV;bY[5]=bX+-bV;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*0.916666666666667/2;{{var ca=bQ;var cb=bR;var cc=new Array(6);cc[0]=ca+0;cc[1]=cb+bZ;cc[2]=ca+-bZ;cc[3]=cb+-bZ;cc[4]=ca+bZ;cc[5]=cb+-bZ;this.$c(cc,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*0.916666666666667/2;{{var ce=bQ;var cf=bR;var cg=new Array(6);cg[0]=ce+0;cg[1]=cf+L.c.get('size').gv(bS)*0.916666666666667/2;cg[2]=ce+-cd;cg[3]=cf+-cd;cg[4]=ce+cd;cg[5]=cf+-cd;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$u:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.895833333333333/2;{{var bW=bQ;var bX=bR;var bY=new Array(6);bY[0]=bW+-bV;bY[1]=bX+0;bY[2]=bW+bV;bY[3]=bX+-bV;bY[4]=bW+bV;bY[5]=bX+bV;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*0.895833333333333/2;{{var ca=bQ;var cb=bR;var cc=new Array(6);cc[0]=ca+-bZ;cc[1]=cb+0;cc[2]=ca+bZ;cc[3]=cb+-bZ;cc[4]=ca+bZ;cc[5]=cb+bZ;this.get_currentContext().set_lineJoin('miter');this.$f(cc,2,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*0.895833333333333/2;{{var ce=bQ;var cf=bR;var cg=new Array(6);cg[0]=ce+-cd;cg[1]=cf+0;cg[2]=ce+cd;cg[3]=cf+-cd;cg[4]=ce+cd;cg[5]=cf+cd;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$n:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.916666666666667/2;{{var bW=bQ;var bX=bR;var bY=new Array(6);bY[0]=bW+-bV;bY[1]=bX+0;bY[2]=bW+bV;bY[3]=bX+-bV;bY[4]=bW+bV;bY[5]=bX+bV;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*0.916666666666667/2;{{var ca=bQ;var cb=bR;var cc=new Array(6);cc[0]=ca+-bZ;cc[1]=cb+0;cc[2]=ca+bZ;cc[3]=cb+-bZ;cc[4]=ca+bZ;cc[5]=cb+bZ;this.$c(cc,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*0.916666666666667/2;{{var ce=bQ;var cf=bR;var cg=new Array(6);cg[0]=ce+-cd;cg[1]=cf+0;cg[2]=ce+cd;cg[3]=cf+-cd;cg[4]=ce+cd;cg[5]=cf+cd;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$w:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.895833333333333/2;{{var bW=bQ;var bX=bR;var bY=new Array(6);bY[0]=bW+-bV;bY[1]=bX+-bV;bY[2]=bW+-bV;bY[3]=bX+bV;bY[4]=bW+bV;bY[5]=bX+0;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*0.895833333333333/2;{{var ca=bQ;var cb=bR;var cc=new Array(6);cc[0]=ca+-bZ;cc[1]=cb+-bZ;cc[2]=ca+-bZ;cc[3]=cb+bZ;cc[4]=ca+bZ;cc[5]=cb+0;this.get_currentContext().set_lineJoin('miter');this.$f(cc,2,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*0.895833333333333/2;{{var ce=bQ;var cf=bR;var cg=new Array(6);cg[0]=ce+-cd;cg[1]=cf+-cd;cg[2]=ce+-cd;cg[3]=cf+cd;cg[4]=ce+cd;cg[5]=cf+0;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$p:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*0.916666666666667/2;{{var bW=bQ;var bX=bR;var bY=new Array(6);bY[0]=bW+-bV;bY[1]=bX+-bV;bY[2]=bW+-bV;bY[3]=bX+bV;bY[4]=bW+bV;bY[5]=bX+0;this.get_currentContext().set_lineJoin('miter');this.$f(bY,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var bZ=L.c.get('size').gv(bS)*0.916666666666667/2;{{var ca=bQ;var cb=bR;var cc=new Array(6);cc[0]=ca+-bZ;cc[1]=cb+-bZ;cc[2]=ca+-bZ;cc[3]=cb+bZ;cc[4]=ca+bZ;cc[5]=cb+0;this.$c(cc,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bS)*0.916666666666667/2;{{var ce=bQ;var cf=bR;var cg=new Array(6);cg[0]=ce+-cd;cg[1]=cf+-cd;cg[2]=ce+-cd;cg[3]=cf+cd;cg[4]=ce+cd;cg[5]=cf+0;this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},$r:function(L,bQ,bR,bS,bT,bU){switch(bT){case'normalUnder':{var bV=L.c.get('size').gv(bS)*1.09166666666667;var bW=bV/2;var bX=bV*0.3877;{{var bY=bQ;var bZ=bR;var ca=new Array(20);ca[0]=bY+0;ca[1]=bZ+(-bW+bV*0.0246);ca[2]=bY+(-bW+bV*0.3817);ca[3]=bZ+(-bW+bX);ca[4]=bY+-bW;ca[5]=bZ+(-bW+bX);ca[6]=bY+(-bW+bV*0.3088);ca[7]=bZ+(-bW+bV*0.612);ca[8]=bY+(-bW+bV*0.1909);ca[9]=bZ+(-bW+bV*0.9751);ca[10]=bY+0;ca[11]=bZ+(-bW+bV*0.7507);ca[12]=bY+(-bW+bV*0.8085);ca[13]=bZ+(-bW+bV*0.9751);ca[14]=bY+(-bW+bV*0.6905);ca[15]=bZ+(-bW+bV*0.612);ca[16]=bY+bW;ca[17]=bZ+(-bW+bX);ca[18]=bY+(-bW+bV*0.6176);ca[19]=bZ+(-bW+bX);this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('halo_color').gv(bS)[bU])}}break}case'normalOn':{var cb=L.c.get('size').gv(bS)*1.09166666666667;var cc=cb/2;var cd=cb*0.3877;{{var ce=bQ;var cf=bR;var cg=new Array(20);cg[0]=ce+0;cg[1]=cf+(-cc+cb*0.0246);cg[2]=ce+(-cc+cb*0.3817);cg[3]=cf+(-cc+cd);cg[4]=ce+-cc;cg[5]=cf+(-cc+cd);cg[6]=ce+(-cc+cb*0.3088);cg[7]=cf+(-cc+cb*0.612);cg[8]=ce+(-cc+cb*0.1909);cg[9]=cf+(-cc+cb*0.9751);cg[10]=ce+0;cg[11]=cf+(-cc+cb*0.7507);cg[12]=ce+(-cc+cb*0.8085);cg[13]=cf+(-cc+cb*0.9751);cg[14]=ce+(-cc+cb*0.6905);cg[15]=cf+(-cc+cb*0.612);cg[16]=ce+cc;cg[17]=cf+(-cc+cd);cg[18]=ce+(-cc+cb*0.6176);cg[19]=cf+(-cc+cd);this.$c(cg,L.getMarkColors(bS)[bU])}}break}case'selectedUnder':{var ch=L.c.get('size').gv(bS)*1.09166666666667;var ci=ch/2;var cj=ch*0.3877;{{var ck=bQ;var cl=bR;var cm=new Array(20);cm[0]=ck+0;cm[1]=cl+(-ci+ch*0.0246);cm[2]=ck+(-ci+ch*0.3817);cm[3]=cl+(-ci+cj);cm[4]=ck+-ci;cm[5]=cl+(-ci+cj);cm[6]=ck+(-ci+ch*0.3088);cm[7]=cl+(-ci+ch*0.612);cm[8]=ck+(-ci+ch*0.1909);cm[9]=cl+(-ci+ch*0.9751);cm[10]=ck+0;cm[11]=cl+(-ci+ch*0.7507);cm[12]=ck+(-ci+ch*0.8085);cm[13]=cl+(-ci+ch*0.9751);cm[14]=ck+(-ci+ch*0.6905);cm[15]=cl+(-ci+ch*0.612);cm[16]=ck+ci;cm[17]=cl+(-ci+cj);cm[18]=ck+(-ci+ch*0.6176);cm[19]=cl+(-ci+cj);this.get_currentContext().set_lineJoin('miter');this.$f(cm,4,L.c.get('selected_halo_color').gv(bS)[bU])}}break}default:{break}}},drawPredictionBandLayer:function(L,bQ,bR,bS,bT,bU){switch(bR){case'normalUnder':{var bV=bT.qrgbColor;if(L.isTupleVisible(bT.tupleIds[bQ])){if((bQ===0||!L.isTupleVisible(bT.tupleIds[bQ-1]))&&(bQ+1>=bT.upperEnd.length||!L.isTupleVisible(bT.tupleIds[bQ+1]))){var bW=ss.Int32.div(bT.widths[bQ],2)+2.5;if(bT.useYAxis){var bX=L.thisDomainToPixelY(bT.upperEnd[bQ]);var bY=L.thisDomainToPixelY(bT.lowerEnd[bQ]);var bZ=L.thisDomainToPixelX(bT.oppositeAxis[bQ]);{var ca=[bZ-bW,bX,bZ-bW,bY,bZ+bW,bY,bZ+bW,bX];this.$c(ca,L.getOneColorAlpha(bV,bS,bU))}}else{var cb=L.thisDomainToPixelX(bT.upperEnd[bQ]);var cc=L.thisDomainToPixelX(bT.lowerEnd[bQ]);var cd=L.thisDomainToPixelY(bT.oppositeAxis[bQ]);{var ce=[cb,cd-bW,cc,cd-bW,cc,cd+bW,cb,cd+bW];this.$c(ce,L.getOneColorAlpha(bV,bS,bU))}}}else if(bQ+1<bT.tupleIds.length&&L.isTupleVisible(bT.tupleIds[bQ+1])){var cf=L.lineInterpolation;if(bT.useYAxis){var cg=L.thisDomainToPixelY(bT.upperEnd[bQ]);var ch=L.thisDomainToPixelY(bT.lowerEnd[bQ]);var ci=L.thisDomainToPixelX(bT.oppositeAxis[bQ]);var cj=L.thisDomainToPixelX(bT.oppositeAxis[bQ+1]);if(cf==='lim-step'||cf==='lim-jump'){{var ck=[ci,ch,cj,ch,cj,cg,ci,cg];this.$c(ck,L.getOneColorAlpha(bV,bS,bU))}}else{var cl=L.thisDomainToPixelY(bT.upperEnd[bQ+1]);var cm=L.thisDomainToPixelY(bT.lowerEnd[bQ+1]);{var cn=[ci,ch,cj,cm,cj,cl,ci,cg];this.$c(cn,L.getOneColorAlpha(bV,bS,bU))}}}else{var co=L.thisDomainToPixelX(bT.upperEnd[bQ]);var cp=L.thisDomainToPixelX(bT.lowerEnd[bQ]);var cq=L.thisDomainToPixelX(bT.upperEnd[bQ+1]);var cr=L.thisDomainToPixelX(bT.lowerEnd[bQ+1]);var cs=L.thisDomainToPixelY(bT.oppositeAxis[bQ]);var ct=L.thisDomainToPixelY(bT.oppositeAxis[bQ+1]);if(cf==='lim-step'||cf==='lim-jump'){{var cu=[cp,cs,cp,ct,co,ct,co,cs];this.$c(cu,L.getOneColorAlpha(bV,bS,bU))}}else{{var cv=[cp,cs,cr,ct,cq,ct,co,cs];this.$c(cv,L.getOneColorAlpha(bV,bS,bU))}}}}}break}}},renderPredictionBand:function(L,bQ,bR,bS){var bT='colorOverrideNone';var bU=255;var bV=bR;var bW=0;var bX=1;var bY=2;var bZ=bW;for(var ca=0;ca<bV.lineTupleIds.length;ca++){var cb=bV.lineTupleIds[ca];if(L.isTupleSelected(cb)){bZ=bY;break}if(bZ!==bX&&L.isTupleHighlighted(cb)){bZ=bX}}if(bZ!==bY){for(var cc=0;cc<bV.tupleIds.length;cc++){var cd=bV.tupleIds[cc];if(L.isTupleSelected(cd)){bZ=bY;break}if(bZ!==bX&&L.isTupleHighlighted(cd)){bZ=bX}}}switch(bQ){case'normalUnderPass':{if(bZ===bW&&bS==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){bT='colorOverrideFog'}else{bT='colorOverrideNone'}var ce=bV.tupleIds.length;for(var cf=0;cf<ce;cf++){this.drawPredictionBandLayer(L,cf,'normalUnder',bT,bV,bU)}}break}case'highlightedUnderPass':{if(bZ===bX&&bS==='underMark'){var cg=bV.tupleIds.length;for(var ch=0;ch<cg;ch++){if(L.isTupleHighlighted(bV.tupleIds[ch])&&((ch===0||!L.isTupleVisible(bV.tupleIds[ch-1]))&&(ch+1>=bV.upperEnd.length||!L.isTupleVisible(bV.tupleIds[ch+1]))||ch+1<bV.tupleIds.length&&L.isTupleVisible(bV.tupleIds[ch+1])&&L.isTupleHighlighted(bV.tupleIds[ch+1]))){bT='colorOverrideNone'}else{bT='colorOverrideFog'}this.drawPredictionBandLayer(L,ch,'normalUnder',bT,bV,bU)}}break}case'selectedUnderPass':{if(bZ===bY&&bS==='underMark'){bT='colorOverrideReplaceAlpha';bU=76.5;var ci=bV.tupleIds.length;for(var cj=0;cj<ci;cj++){this.drawPredictionBandLayer(L,cj,'normalUnder',bT,bV,bU)}}break}}},drawPredictionWhiskerLayer:function(L,bQ,bR,bS,bT,bU){switch(bR){case'border':{if(L.isTupleVisible(bT.tupleIds[bQ])){var bV=ss.Int32.div(bT.widths[bQ]-1,2);if(bT.useYAxis){var bW=ss.Int32.trunc(L.thisDomainToPixelX(bT.oppositeAxis[bQ]));var bX=ss.Int32.trunc(L.thisDomainToPixelY(bT.upperEnd[bQ]));var bY=ss.Int32.trunc(L.thisDomainToPixelY(bT.lowerEnd[bQ]));var bZ=bX-0.5;var ca=bY+1.5;var cb=bW-0.5-bV;var cc=bW+1.5+bV;var cd=bX+1.5;var ce=bY-0.5;var cf=bW-0.5;var cg=bW+1.5;{var ch=[cb,bZ,cc,bZ,cc,cd,cg,cd,cg,ce,cc,ce,cc,ca,cb,ca,cb,ce,cf,ce,cf,cd,cb,cd];this.renderLineLoop(ch,1,L.getOneColorAlpha(bT.qrgbColor,bS,bU))}}else{var ci=ss.Int32.trunc(L.thisDomainToPixelY(bT.oppositeAxis[bQ]));var cj=ss.Int32.trunc(L.thisDomainToPixelX(bT.lowerEnd[bQ]));var ck=ss.Int32.trunc(L.thisDomainToPixelX(bT.upperEnd[bQ]));var cl=ci-0.5-bV;var cm=ci+1.5+bV;var cn=cj-0.5;var co=ck+1.5;var cp=ci-0.5;var cq=ci+1.5;var cr=cj+1.5;var cs=ck-0.5;{var ct=[cn,cl,cr,cl,cr,cp,cs,cp,cs,cl,co,cl,co,cm,cs,cm,cs,cq,cr,cq,cr,cm,cn,cm];this.renderLineLoop(ct,1,L.getOneColorAlpha(bT.qrgbColor,bS,bU))}}}break}case'normalUnder':{if(L.isTupleVisible(bT.tupleIds[bQ])){var cu=ss.Int32.div(bT.widths[bQ]-1,2);var cv=bT.qrgbColors[bQ];if(bT.useYAxis){var cw=ss.Int32.trunc(L.thisDomainToPixelX(bT.oppositeAxis[bQ]));var cx=ss.Int32.trunc(L.thisDomainToPixelY(bT.upperEnd[bQ]));var cy=ss.Int32.trunc(L.thisDomainToPixelY(bT.lowerEnd[bQ]));{var cz=[cw-cu,cx+0.5,cw+cu+1,cx+0.5];this.$d(cz,1,L.getOneColorAlpha(cv,bS,bU),false)}{var cA=[cw-cu,cy+0.5,cw+cu+1,cy+0.5];this.$d(cA,1,L.getOneColorAlpha(cv,bS,bU),false)}{var cB=[cw+0.5,cx+1,cw+0.5,cy];this.$d(cB,1,L.getOneColorAlpha(cv,bS,bU),false)}}else{var cC=ss.Int32.trunc(L.thisDomainToPixelY(bT.oppositeAxis[bQ]));var cD=ss.Int32.trunc(L.thisDomainToPixelX(bT.lowerEnd[bQ]));var cE=ss.Int32.trunc(L.thisDomainToPixelX(bT.upperEnd[bQ]));{var cF=[cD+0.5,cC-cu,cD+0.5,cC+cu+1];this.$d(cF,1,L.getOneColorAlpha(cv,bS,bU),false)}{var cG=[cE+0.5,cC-cu,cE+0.5,cC+cu+1];this.$d(cG,1,L.getOneColorAlpha(cv,bS,bU),false)}{var cH=[cD+1,cC+0.5,cE,cC+0.5];this.$d(cH,1,L.getOneColorAlpha(cv,bS,bU),false)}}}break}}},renderPredictionWhisker:function(L,bQ,bR,bS){var bT='colorOverrideNone';var bU=255;var bV=bR;switch(bQ){case'normalUnderPass':{if(!bV.renderOnTop&&bS==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){bT='colorOverrideFog'}else{bT='colorOverrideNone'}var bW=bV.tupleIds.length;for(var bX=0;bX<bW;bX++){if(!L.isTupleHighlighted(bV.tupleIds[bX])&&!L.isTupleSelected(bV.tupleIds[bX])){this.drawPredictionWhiskerLayer(L,bX,'border',bT,bV,bU);this.drawPredictionWhiskerLayer(L,bX,'normalUnder',bT,bV,bU)}}}break}case'normalOnPass':{if(bV.renderOnTop&&bS==='underLabel'){if(L.get_hasSelection()||L.get_hasBrushing()){bT='colorOverrideFog'}else{bT='colorOverrideNone'}var bY=bV.tupleIds.length;for(var bZ=0;bZ<bY;bZ++){if(!L.isTupleHighlighted(bV.tupleIds[bZ])&&!L.isTupleSelected(bV.tupleIds[bZ])){this.drawPredictionWhiskerLayer(L,bZ,'border',bT,bV,bU);this.drawPredictionWhiskerLayer(L,bZ,'normalUnder',bT,bV,bU)}}}break}case'selectedUnderPass':{if(!bV.renderOnTop&&bS==='underMark'){var ca=bV.tupleIds.length;for(var cb=0;cb<ca;cb++){if(L.isTupleSelected(bV.tupleIds[cb])){bT='colorOverrideReplaceAlpha';bU=63.75;this.drawPredictionWhiskerLayer(L,cb,'border',bT,bV,bU);bT='colorOverrideReplaceAlpha';bU=bV.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,cb,'normalUnder',bT,bV,bU)}}}break}case'selectedOnPass':{if(bV.renderOnTop&&bS==='underLabel'){var cc=bV.tupleIds.length;for(var cd=0;cd<cc;cd++){if(L.isTupleSelected(bV.tupleIds[cd])){bT='colorOverrideReplaceAlpha';bU=63.75;this.drawPredictionWhiskerLayer(L,cd,'border',bT,bV,bU);bT='colorOverrideReplaceAlpha';bU=bV.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,cd,'normalUnder',bT,bV,bU)}}}break}case'highlightedUnderPass':{if(!bV.renderOnTop&&bS==='underMark'){bT='colorOverrideNone';var ce=bV.tupleIds.length;for(var cf=0;cf<ce;cf++){if(L.isTupleHighlighted(bV.tupleIds[cf])){this.drawPredictionWhiskerLayer(L,cf,'border',bT,bV,bU);this.drawPredictionWhiskerLayer(L,cf,'normalUnder',bT,bV,bU)}}}break}case'highlightedOnPass':{if(bV.renderOnTop&&bS==='underLabel'){bT='colorOverrideNone';var cg=bV.tupleIds.length;for(var ch=0;ch<cg;ch++){if(L.isTupleHighlighted(bV.tupleIds[ch])){this.drawPredictionWhiskerLayer(L,ch,'border',bT,bV,bU);this.drawPredictionWhiskerLayer(L,ch,'normalUnder',bT,bV,bU)}}}break}}},$a:function(L,bQ,bR,bS,bT){var bU=1;var bV=2*bU;return!tab.RectXYUtil.completelyContains$1(L,ss.Int32.trunc(bQ)-bU,ss.Int32.trunc(bR)-bU,ss.Int32.trunc(bS)+bV,ss.Int32.trunc(bT)+bV)},$9:function(L,bQ,bR,bS,bT){var bU=100000;switch(L){case 0:{return}case 1:{bR=-100000;bT=200000;break}case 2:{bQ=-100000;bS=200000;break}}var bV=Z.roundStartAndExtent(bR,bT,0);var bW=Z.roundStartAndExtent(bQ,bS,0);this.get_currentContext().setClip({x:ss.Int32.trunc(bW.item1),y:ss.Int32.trunc(bV.item1),w:ss.Int32.trunc(bW.item2),h:ss.Int32.trunc(bV.item2)})},$d:function(L,bQ,bR,bS){var bT=this.get_currentContext();bT.set_linePattern('solid');bT.set_lineWidth(bQ);bT.set_strokeStyle(bR);tab.CanvasRenderer.strokePath(bT,L,false,bS)},renderLineLoop:function(L,bQ,bR){var bS=this.get_currentContext();bS.set_linePattern('solid');bS.set_lineWidth(bQ);bS.set_strokeStyle(bR);tab.CanvasRenderer.strokePath(bS,L,true,false)},$e:function(L,bQ,bR,bS,bT,bU,bV,bW){var bX=this.get_currentContext();bX.set_linePattern('solid');bX.set_lineWidth(bW);bX.set_strokeStyle(bV);var bY=Math.atan2(bS-bR,bQ-L);var bZ=Math.cos(bY);var ca=Math.sin(bY);bT/=2;bU/=2;var cb=bT*ca;var cc=bU*ca;var cd=bT*bZ;var ce=bU*bZ;bX.beginPath();bX.moveTo(L+cb,bR-cd);bX.lineTo(bQ+cc,bS-ce);bX.lineTo(bQ-cc,bS+ce);bX.lineTo(L-cb,bR+cd);bX.closePath();bX.stroke()},$b:function(L,bQ,bR,bS,bT,bU,bV,bW){var bX;var bY=this.get_currentContext();if(ss.referenceEquals(bV,bW)){bX=bV}else{var bZ=bY.createLinearGradient(L,bR,bQ,bS);bZ.addColorStop(0,bV);bZ.addColorStop(1,bW);bX=bZ}if(bT===bU){bY.set_lineWidth(bT);bY.set_linePattern('solid');bY.set_strokeStyle(bX);bY.beginPath();bY.moveTo(L,bR);bY.lineTo(bQ,bS);bY.closePath();bY.stroke()}else{var ca=Math.atan2(bS-bR,bQ-L);var cb=Math.cos(ca);var cc=Math.sin(ca);bT/=2;bU/=2;var cd=bT*cc;var ce=bU*cc;var cf=bT*cb;var cg=bU*cb;bY.beginPath();bY.moveTo(L+cd,bR-cf);bY.lineTo(bQ+ce,bS-cg);bY.lineTo(bQ-ce,bS+cg);bY.lineTo(L-cd,bR+cf);bY.closePath();bY.set_shapeFillStyle(bX);bY.fill()}},$f:function(L,bQ,bR){var bS=this.get_currentContext();bS.set_lineWidth(bQ);bS.set_strokeStyle(bR);tab.CanvasRenderer.strokePath(bS,L,true,true)},$c:function(L,bQ){var bR=this.get_currentContext();bR.set_shapeFillStyle(bQ);tab.CanvasRenderer.fillPath(bR,L,true)},$B:function(L){this.get_currentContext().set_shapeFillStyle(L.$7(0,-1,'colorOverrideNone'));var bQ=this.createStyleSettersAndSetDominantStyle(L.get_textStyleColumns());return bQ}},tab.CanvasRenderer);ss.initClass(B,a,{get_currentContext:function(){if(ss.isValue(this.$D)){return this.$D}return tab.CanvasRenderer.prototype.get_currentContext.call(this)},$C:function(L){var bQ={};bQ.dataValues=new Array(L);return bQ},containsShape:function(L){return ss.isValue(this.$F[L.toString()])},renderSwatch:function(L,bQ,bR){this.$D=L;var bS=(bR?'colorOverrideFog':'colorOverrideOpaque');this.drawShapeMarkLayer(this.$E,this.$F[bQ.toString()],'normalOn',bS)}},Z);ss.initEnum(C,a,{noHit:0,areaHit:1,nearHit:2,exactHit:3});ss.initClass(D,a,{get_objectId:function(){return this.$4},get_worldOffset:function(){return this.$9},get_nodeType:function(){return this.$3},get_boundingBox:function(){return this.$0},get_labelBox:function(){return this.$2},get_children:function(){return this.$1},get_parent:function(){return this.$8},set_parent:function(L){this.$8=L},get_paneKey:function(){return this.$6},set_paneKey:function(L){this.$6=L},get_paneIndex:function(){return this.$5},set_paneIndex:function(L){this.$5=L},get_paneOrderIndex:function(){return this.$7},set_paneOrderIndex:function(L){this.$7=L},addNode:function(L){this.$1.push(L);L.set_parent(this)},addNodes:function(L){ss.arrayAddRange(this.$1,L);for(var bQ=0;bQ<L.length;bQ++){var bR=L[bQ];bR.set_parent(this)}},resetChildren:function(){ss.clear(this.$1)}});ss.initClass(E,a,{get_context2D:function(){return this.$2.getContext('2d')},debugDrawBoundingBoxesHierarchy:function(L){this.clear();this.$0(L)},debugDrawBoundingBoxesHierarchies:function(L){this.clear();for(var bQ=0;bQ<L.length;bQ++){var bR=L[bQ];this.$0(bR)}},clear:function(){this.get_context2D().clearRect(0,0,this.$2.width,this.$2.height)},done:function(){this.$4.style.position=this.$3;this.$1.removeChild(this.$2)},$0:function(L){var bQ=new Array;bQ.push(L);while(bQ.length>0){var bR=bQ.shift();if(bR.get_nodeType()===2){var bS=bR.get_boundingBox();this.get_context2D().save();if(E.$0%2===0){this.get_context2D().fillStyle='rgba(120, 255, 20, 0.1)'}else{this.get_context2D().fillStyle='rgba(20, 255, 120, 0.1)'}this.get_context2D().fillRect(bS.x,bS.y,bS.w,bS.h);this.get_context2D().restore();++E.$0}if(bR.get_nodeType()===3||bR.get_nodeType()===5){var bT=bR.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(255, 0, 0, 0.2)';this.get_context2D().fillRect(bT.x,bT.y,bT.w,bT.h);this.get_context2D().restore()}if(bR.get_nodeType()===4){var bU=bR.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(0, 0, 255, 0.2)';this.get_context2D().fillRect(bU.x,bU.y,bU.w,bU.h);this.get_context2D().restore()}var bV=bR.get_children();bV.forEach(function(bW){bQ.push(bW)})}}});ss.initClass(F,a,{hitTestPanes:function(L){var bQ=[];var bR=new Array;bR.push(this.$5);while(bR.length>0){var bS=bR.pop();var bT=tab.RectXYUtil.intersectsWith(bS.get_boundingBox(),L);if(bT){if(bS.get_nodeType()===1){bQ.push(bS.get_paneKey())}else{var bU=bS.get_children();bU.forEach(function(bV){bR.push(bV)})}}}return bQ},hitTest:function(L,bQ,bR){if(tab.RectXYUtil.isEmpty(L)){return[]}var bS=this.hitTestBoundingBoxes(L,bQ,bR);return(bQ?this.hitTestSingle(L,bR,bS):this.$1(L,bR,bS))},hitTestSingle:function(L,bQ,bR){var bS=L.x+ss.Int32.div(L.w,2);var bT=L.y+ss.Int32.div(L.h,2);var bU={};var bV=[];for(var bW=bR.length-1;bW>=0;bW--){var bX=bR[bW];if(bX.get_objectId()<0){continue}var bY=D.findPaneNode(bX);if(ss.isNullOrUndefined(bY)){continue}if(ss.isNullOrUndefined(bU[bY.get_paneIndex()])){bU[bY.get_paneIndex()]=[];bV.push(bY)}bU[bY.get_paneIndex()].push(bX)}var bZ=[];var ca=[];var cb={};for(var cc=0;cc<bV.length;cc++){var cd=bV[cc];var ce=bQ.getPaneDrawInfoFromKey(cd.get_paneKey());var cf=tab.RectXYUtil.offsetRect(L,{x:-ce.paneRect.x,y:-ce.paneRect.y});var cg=bU[cd.get_paneIndex()];for(var ch=0;ch<cg.length;ch++){var ci=cg[ch];var cj=ce.getMarkState(ci.get_objectId());var ck=ci.get_worldOffset();var cl=ce.c.get('tuple_id').gv(ci.get_objectId());var cm=false;if(ss.isValue(ci.get_labelBox())){cm=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(ci.get_labelBox(),L)}if(cm){bZ.push(new G.$ctor1(cl,7,3));cb[cl]={item1:cd.get_paneOrderIndex(),item2:cj}}var cn=F.$0(ce,cf,ci.get_objectId(),ck,ce.markType);if(cn){bZ.push(new G.$ctor1(cl,6,3));cb[cl]={item1:cd.get_paneOrderIndex(),item2:cj}}else if(bZ.length===0){var co=F.$1(ce,cf,ci.get_objectId(),ck,ce.markType);if(co){var cp;switch(ce.markType){case'line':{cp=Z.lineMarkGetDistanceToMark(ce,bS,bT,ci.get_objectId());break}case'bar':case'square':{cp=Z.barMarkGetDistanceToMark(ce,bS,bT,ci.get_objectId());break}case'shape':{cp=Z.shapeMarkGetDistanceToMark(ce,bS,bT,ci.get_objectId());break}case'text':{cp=Z.textMarkGetDistanceToMark(ce,bS,bT,ci.get_objectId());break}case'area':{cp=Z.areaMarkGetDistanceToMark(ce,bS,bT,ci.get_objectId());break}default:{cp=z.getSquaredDistanceToCenter(ci.get_boundingBox(),{x:bS,y:bT});break}}var cq=new G.$ctor1(cl,6,2);ca.push({item1:cq,item2:cp});cb[cl]={item1:cd.get_paneOrderIndex(),item2:cj}}else{}}}}if(bZ.length>0){var cr=this.$4(bZ,cb);if(cr.get_hitType()===3){return[cr]}}if(ca.length>0){var cs=this.$3(ca,cb);if(cs.get_hitType()===2){return[cs]}}return[]},$1:function(L,bQ,bR){var bS=[];for(var bT=bR.length-1;bT>=0;bT--){var bU=bR[bT];var bV=bU.get_objectId();if(bV<0){continue}var bW=D.findPaneNode(bU);if(ss.isNullOrUndefined(bW)){continue}var bX=bQ.getPaneDrawInfoFromKey(bW.get_paneKey());var bY=F.getTransformInfo(bX,bU);var bZ=F.rectangleAreaHit(bX,bU.get_boundingBox(),L,bV,bY,bX.markType);if(bZ){bS.push(new G.$ctor1(bX.c.get('tuple_id').gv(bV),6,1))}}return bS},hitTestBoundingBoxes:function(L,bQ,bR){if(tab.RectXYUtil.isEmpty(L)){return[]}var bS=[];var bT=new Array;var bU={};bT.push(this.$5);while(bT.length>0){var bV=bT.pop();var bW=L;if(bQ&&ss.isValue(bR)&&bV.get_nodeType()===3){var bX=D.findPaneNode(bV);if(ss.isValue(bX)){var bY=bX.get_paneKey();if(ss.keyExists(bU,bY)){bW=bU[bY]}else{var bZ=bR.getPaneDrawInfoFromKey(bX.get_paneKey());if(ss.isValue(bZ)){var ca;switch(bZ.markType){case'multipolygon':{ca=Z.multipolygonMarkGetHitTestExpansion(bZ,bV.get_objectId());break}case'bar':case'square':{ca=Z.barMarkGetHitTestExpansion(bZ,bV.get_objectId());break}case'shape':{ca=Z.shapeMarkGetHitTestExpansion(bZ,bV.get_objectId());break}case'text':{ca=Z.textMarkGetHitTestExpansion(bZ,bV.get_objectId());break}case'area':{ca=Z.areaMarkGetHitTestExpansion(bZ,bV.get_objectId());break}default:{ca=null;break}}if(ss.isValue(ca)&&!tab.SizeUtil.isEmpty(ca)){bW=tab.RectXYUtil.outsetRectSizeF(bW,ca)}}bU[bY]=bW}}}var cb=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(bV.get_boundingBox(),bW);if(!cb&&bQ&&ss.isValue(bV.get_labelBox())){cb=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(bV.get_labelBox(),L)}if(cb){if(bV.get_nodeType()===3){bS.push(bV)}else{var cc=bV.get_children();cc.forEach(function(cd){bT.push(cd)})}}}return bS},$4:function(L,bQ){if(L.length===0){return G.createEmptyHitTestResult()}var bR=G.createEmptyHitTestResult();L.sort(function(bV,bW){return((bV.get_id()>bW.get_id())?-1:1)});for(var bS=0;bS<L.length;bS++){var bT=L[bS];if(!ss.keyExists(bQ,bT.get_id())){continue}if(bQ[bT.get_id()].item2==='markStateInvisible'){continue}if(bR.get_hitType()===0){bR=bT}else{var bU=this.$0(bT.get_id(),bR.get_id(),bQ);if(bU>0){bR=bT}else if(bU===0){if(bT.get_hitObjectType()>bR.get_hitObjectType()){bR=bT}}}}return bR},$3:function(L,bQ){if(L.length===0){return G.createEmptyHitTestResult()}var bR=G.createEmptyHitTestResult();var bS=null;L.sort(function(bX,bY){return((bX.item1.get_id()>bY.item1.get_id())?-1:1)});for(var bT=0;bT<L.length;bT++){var bU=L[bT];var bV=bU.item1;var bW=bU.item2;if(!ss.keyExists(bQ,bV.get_id())){continue}if(bQ[bV.get_id()].item2==='markStateInvisible'){continue}if(bR.get_hitType()===0){bR=bV;bS=bW}else if(ss.Nullable$1.lt(bW,bS)){bR=bV;bS=bW}else if(bW===bS&&this.$0(bV.get_id(),bR.get_id(),bQ)>0){bR=bV}}return bR},$0:function(L,bQ,bR){var bS=bR[L];var bT=bR[bQ];var bU=this.$2(bS.item2);var bV=this.$2(bT.item2);if(bU>bV){return 1}if(bU===bV){var bW=bS.item1;var bX=bT.item1;if(bW>bX){return 1}if(bW===bX){return 0}}return-1},$2:function(L){switch(L){case'markStateInvisible':{return 0}case'markStateNormal':{return 1}case'markStateHighlighted':{return 2}case'markStateSelected':{return 3}default:{return-1}}}});ss.initClass(G,a,{get_id:function(){return this.$2},get_hitObjectType:function(){return this.$0},get_hitType:function(){return this.$1},get_shouldRenderOverlay:function(){return this.$3},get_overlayTargetType:function(){switch(this.$0){case 4:case 5:{return'ref-line'}case 3:{return'trend-line'}case 6:case 7:{return'mark'}default:{return'unspecified'}}},get_tooltipTargetType:function(){switch(this.$0){case 4:case 5:case 3:{return'visualparts'}case 6:case 7:{return'mark'}default:{return'unspecified'}}},doNotRenderOverlay:function(){this.$3=false}},null,[tab.IHitTestResult]);G.$ctor1.prototype=G.prototype;ss.initClass(H,a,{});ss.initClass(I,a,{get_imageNode:function(){return this.$2},set_imageNode:function(L){this.$2=L},get_index:function(){return this.$1},get_src:function(){return this.$3},get_bounds:function(){return this.$0},get_version:function(){return this.$4}});ss.initClass(J,a,{get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(M,a,{});ss.initInterface(N,a,{add_loadComplete:null,remove_loadComplete:null,refreshImages:null,destroy:null,reset:null},[spiff.IScrollable]);ss.initInterface(O,a,{createNonMarksRenderer:null,renderGridLines:null,createPaneDrawInfo:null});ss.initInterface(P,a,{get_zoomToolbarContainerDiv:null,get_isMapSearchEnabled:null,get_shouldEnableZoomHomeToolbar:null,get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,get_shouldShowTools:null,allowPanZoomActions:null,isVizLargerThanScreen:null});ss.initClass(Q,a,{get_enabled:function(){return ss.isValue(this.$i)&&this.$l.get_useFastMaps()},$g:function(){if(this.$l.get_allowLocalPanAndZoom()&&ss.isValue(this.$k)){return this.$k.$0()}else{return new L.LatLng(this.$l.get_centerLatitude(),this.$l.get_centerLongitude())}},$h:function(){if(this.$l.get_allowLocalPanAndZoom()&&ss.isValue(this.$k)){return this.$k.$2()}else{return this.$l.get_zoom()}},zoomOnPoint:function(bQ,bR){this.$9(ss.mkdel(this,function(bS){var bT=bP.incrementZoom(this.$h(),bR);var bU;if(ss.isNullOrUndefined(bQ)){bU=bS.getCenter()}else{bU=bS.containerPointToLatLng(new L.Point(bQ.x,bQ.y))}_.defer(ss.mkdel(this,function(){this.$d(bU,bT,true)}))}))},animateAnchorZoom:function(bQ,bR){var bS=new L.LatLng(bR.x,bR.y);_.defer(ss.mkdel(this,function(){this.$e(bS,bQ)}))},zoomRect:function(bQ){var bR=$.Deferred();this.$9(ss.mkdel(this,function(bS){var bT=new L.Point(bQ.x,bQ.y+bQ.h);var bU=new L.Point(bQ.x+bQ.w,bQ.y);var bV=new L.LatLngBounds(bS.containerPointToLatLng(bT),bS.containerPointToLatLng(bU));var bW=new L.Point(bQ.x+ss.Int32.div(bQ.w,2),bQ.y+ss.Int32.div(bQ.h,2));var bX=bS.containerPointToLatLng(bW);bR=this.$a(bV,bX,true)}));return bR},moveToBounds:function(bQ){if(!this.get_enabled()){return}var bR=new L.LatLngBounds(new L.LatLng(bQ.minLatitude,bQ.minLongitude),new L.LatLng(bQ.maxLatitude,bQ.maxLongitude));var bS=new L.LatLng((bQ.maxLatitude+bQ.minLatitude)*0.5,(bQ.maxLongitude+bQ.minLongitude)*0.5);var bT=this.$a(bR,bS,true);bT.done(ss.mkdel(this,function(L){if(!L){this.removeMarkOverlay()}}))},$a:function(L,bQ,bR){var bS=$.Deferred();this.$i.done(ss.mkdel(this,function(bT){var bU=bT.getBoundsZoom(L,true);var bV=bP.resolveDesiredZoom(this.$l.get_mapServerPresModel(),bU);bR=bR&&Math.abs(bT.getZoom()-bV)<=2;_.defer(ss.mkdel(this,function(){this.$d(bQ,bV,bR)}));bS.resolve(bR)}));return bS},panTo:function(bQ,bR){this.$9(ss.mkdel(this,function(bS){var bT=bS.latLngToContainerPoint(this.$g());var bU=new L.Point(bT.x-bQ,bT.y-bR);var bV=bS.containerPointToLatLng(bU);var bW=new Object;bW.animate=false;var bX=bW;bS.panTo(bV,bX)}))},updateLocalCenter:function(bQ,bR){this.$9(ss.mkdel(this,function(bS){var bT=bS.latLngToContainerPoint(this.$g());var bU=new L.Point(bT.x-bQ,bT.y-bR);var bV=bS.containerPointToLatLng(bU);var bW=this.$h();this.$k=new h(bV,bW)}))},updateLocalMapDataForZoomAround:function(bQ,bR){this.$9(ss.mkdel(this,function(bS){var bT=Math.pow(2,bR-this.$h());var bU=bS.getSize().divideBy(2);var bV=bS.containerPointToLatLng(new L.Point(bQ.x,bQ.y));var bW=(new L.Point(bV.lat,bV.lng)).subtract(bU).multiplyBy(1-1/bT);var bX=bS.containerPointToLatLng(bU.add(bW));this.$k=new h(bX,bR)}))},getPointLatLong:function(bQ){var bR=new L.Point(bQ.x,bQ.y);var bS=$.Deferred();this.$i.done(function(L){var bT=L.containerPointToLatLng(bR);var bU={x:bT.lat,y:bT.lng};bS.resolve(bU)});return bS},touchMove:function(bQ,bR,bS){if(isNaN(bS)||isNaN(bR)||isNaN(bQ)){return}if(tab.DoubleUtil.isApproximatelyEqual(bS,1)&&!this.$o){this.panTo(bQ,bR);return}this.$i.done(ss.mkdel(this,function(bT){if(!this.$o){var bU=bT.getPanes();$(bU.mapPane).addClass('leaflet-touching');$(bU.overlayPane).addClass('leaflet-touching');this.$j=new L.Point(bQ,bR)}this.$o=true;tab.WindowHelper.cancelAnimationFrame(this.$q);this.$q=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){var L=bP.combineTileZoomAndStretch(this.$h(),bS);this.$1(bT,L,bS,bQ,bR)}))}))},touchEnd:function(L,bQ,bR){this.$9(ss.mkdel(this,function(bS){this.$c(bS);if(this.$o){var bT=bP.combineTileZoomAndStretch(this.$h(),bR);var bU=bP.resolveDesiredZoom(this.$l.get_mapServerPresModel(),bT);bR=Math.pow(2,bU-this.$h());this.$1(bS,bU,bR,L,bQ)}this.$o=false}))},splatOverlayToMapForTransition:function(bQ){if(ss.isNullOrUndefined(this.$i)||ss.isValue(this.$n)){return}var bR=tabBootstrap.MetricsController.createContext('Leaflet Marks Splat',32,null);var bS=ss.mkdel(this,function(bT){var bU=tab.RenderUtil.calculatePixelRatio(true);if(!tab.CanvasUtil.canvasDensified(bQ)){bU=1}var bV=Math.floor(2*bU);var bW={x:bV,y:bV,w:bQ.width-2*bV,h:bQ.height-2*bV};var bX=Math.floor(bT.latLngToContainerPoint(Q.$1(Q.$6)).y*bU);var bY=Math.floor(bT.latLngToContainerPoint(Q.$1(Q.$8)).y*bU);if(bY<bQ.height){bW.h=bY}if(bX>0){bW.y+=bX;bW.h-=bX}var bZ=new Object;bZ.pixelRatio=bU;var ca=bZ;this.$n=new L.CanvasOverlay(bT.getBounds(),ca);bT.addLayer(this.$n);var cb=this.$n.getCanvas();var cc=tab.CanvasRenderer.getRenderContext(cb,'transparent');var cd={x:bV,y:bV,w:bW.w,h:bW.h};cc.drawImage5(bQ,bW.x,bW.y,bW.w,bW.h,cd.x,cd.y,cd.w,cd.h);bQ.width=bQ.width;bR.dispose()});this.$i.done(bS)},$3:function(L,bQ){tab.ModuleManager.loadCss(tsConfig.external_static_asset_prefix+'/css/leaflet.css');this.$l=bQ;this.$6();var bR=this.$5();this.$p=new i;this.$p.domRoot.appendTo(L);var bS=$.Deferred();this.$i=bS;tab.ModuleManager.load$1('leaflet',[]).done(ss.mkdel(this,function(bT){if(this.get_enabled()){this.$2(bS,bR)}}))},$2:function(bQ,bR){var bS=this.$4();var bT=new L.Map(this.$p.$4(),bS);bQ.resolve(bT);this.$m=new L.TileLayer(this.$l.get_tileUrl(),bR);this.$f();bT.addLayer(this.$m);this.$l.add_newMapServerInfo(ss.mkdel(this,this.$8));if(this.$l.get_hasWashout()){var bU=this.$l.get_washoutColor();var bV=Q.$0(bU.toRgb());bR=this.$5();bR.opacity=bU.get_a();bT.addLayer(new L.TileLayer(bV,bR))}this.$p.$3(this.$l.get_mapBGFillColor());this.$0(this.$h(),false)},$f:function(){var L=(this.$l.get_hasValidTileLayer()?1:0);this.$m.setOpacity(L)},$6:function(){if(ss.isValue(this.$i)){this.$i.done(function(L){L.remove()});this.$i=null;if(ss.isValue(this.$l)){this.$l.remove_newMapServerInfo(ss.mkdel(this,this.$8))}this.$l=null;this.$p.dispose();this.$p=null}},$8:function(){this.$9(ss.mkdel(this,function(L){if(L._animatingZoom){window.setTimeout(ss.mkdel(this,this.$8),10)}else{this.$f();this.$k=null;var bQ=this.$g();var bR=L.latLngToContainerPoint(L.getCenter());var bS=L.latLngToContainerPoint(bQ);var bT=Math.abs(L.getZoom()-this.$h());if(bT>0.001){}var bU=bT<0.01&&bR.distanceTo(bS)<8;this.$d(bQ,this.$h(),bU);this.$7(L)}}))},$7:function(L){var bQ=$(L.getPanes().tilePane).find('.leaflet-tile-container');for(var bR=0;bR<bQ.length;++bR){if(!tab.MiscUtil.isNullOrEmpty$3(bQ[bR].style.visibility)){L._onZoomTransitionEnd();break}}},$b:function(L,bQ){this.$9(ss.mkdel(this,function(bR){tab.DomUtil.setMarginBox(bR.getContainer(),{l:0,t:0,w:L,h:bQ});bR.invalidateSize(false);this.$0(this.$h(),false);this.$p.$2()}))},setScrollX:function(L){this.$9(function(bQ){bQ.getContainer().style.left=-L+'px'})},setScrollY:function(L){this.$9(function(bQ){bQ.getContainer().style.top=-L+'px'})},removeMarkOverlay:function(){if(ss.isValue(this.$n)){this.$i.done(ss.mkdel(this,function(L){L.removeLayer(this.$n);this.$7(L);this.$c(L)}))}this.$n=null},dispose:function(){this.$6()},$4:function(){var L=new Object;L.center=this.$g();L.zoom=this.$h();L.zoomControl=false;L.attributionControl=false;return L},$5:function(){var L=new Object;L.maxZoom=100;L.maxNativeZoom=this.$l.get_maxZoom();L.minZoom=this.$l.get_minZoom();L.continuousZoom=true;L.intermediateTileLevels=ss.isValue(this.$l.get_intermediateTileLevels())&&this.$l.get_intermediateTileLevels()>1;var bQ=this.$l.get_mapServerPresModel().mapTileSize;L.zoomOffset=tab.MapUtil.getLeafletZoomOffsetForTileSize(bQ);L.tileSize=bQ;return L},$e:function(L,bQ){var bR=new Object;bR.animate=true;var bS=bR;if(bQ<0){return}this.$i.done(ss.mkdel(this,function(bT){if(bT._animatingZoom){this.$7(bT)}bT.setZoomAround(L,bQ,bS);this.$0(bQ,true)}))},$d:function(L,bQ,bR){var bS=new Object;bS.animate=bR;var bT=bS;if(bQ<0){return}this.$i.done(ss.mkdel(this,function(bU){if(bU._animatingZoom){this.$7(bU)}this.$k=new h(L,bQ);bU.setView(L,bQ,bT);this.$0(bQ,bR)}))},$0:function(L,bQ){var bR=L+tab.MapUtil.getLeafletZoomOffsetForTileSize(this.$l.get_tilePixelSize());var bS=tab.MapUtil.getVisiblePixelWidth(bR,this.$l.get_numWorldRepeats(),this.$l.get_tilePixelSize());var bT=this.$p.$5();var bU=Math.ceil((bT-bS)/2);bU=Math.max(bU,0);this.$p.$1(bU,bQ)},$1:function(bQ,bR,bS,bT,bU){var bV=new L.Point(bT,bU);bV=bV.subtract(this.$j);var bW=bQ.containerPointToLayerPoint(bQ.getSize().divideBy(2));var bX=(new L.Point(0,0)).subtract(bV).divideBy(bS);var bY=bW.add(bX);var bZ=bQ.layerPointToLatLng(bY);if(isNaN(bZ.lat)||isNaN(bZ.lng)){return}bQ._animateZoom(bZ,bR,bW,bS,bV);this.$0(bR,false)},$c:function(L){$(L.getPanes().mapPane).removeClass('leaflet-touching');$(L.getPanes().overlayPane).removeClass('leaflet-touching');tab.WindowHelper.cancelAnimationFrame(this.$q)},$9:function(L){if(!this.get_enabled()){return}this.$i.done(L)}},null,[ss.IDisposable]);ss.initClass(R,a,{get_allHighlighted:function(){return this.highlightedCount>=this.endIndex-this.startIndex+1},get_lineState:function(){if(this.selectedCount>0){return'lineStateSelected'}else if(this.highlightedCount>0){return'lineStateHighlighted'}else{return'lineStateNormal'}}});ss.initClass(S,a,{get_lineAttributes:function(){return this.$1},$0:function(L){ss.clear(this.$1);var bQ=L.markCount;var bR=new R(0);for(var bS=0;bS<bQ;bS++){var bT=L.getMarkBounds(bS);tab.RectXYUtil.unionInPlace(bR.boundingBox,bT);var bU=L.getMarkState(bS);if(bU==='markStateSelected'){bR.selectedCount++;if(L.isMarkHighlighted(bS)){bR.highlightedCount++}}else if(bU==='markStateHighlighted'){bR.highlightedCount++}if(L.markNeedsDraw(bS)){bR.marksNeedingDraw.push(bS)}if(L.isMarkEndPrimitive(bS)){bR.worldOffsets=L.getWorldInstanceOffsets(bR.boundingBox.x,bR.boundingBox.x+bR.boundingBox.w);bR.endIndex=bS;bR.sloppyBoundingBox=tab.RectXYUtil.outsetRect(bR.boundingBox,4,4);this.$1.push(bR);bR=new R(bS+1)}}}});ss.initClass(bL,a,{add_updated:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_updated:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_current:function(){return this.$0},get_hasHit:function(){return ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())&&this.$0.get_result().get_hitObjectType()!==0},dispose:function(){this.paneTable=null;this.$1.dispose();this.lastEvent=null;this.setCurrent(null)},isWithinLastHitTestDistance:function(L){if(this.get_hasHit()){var bQ=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.isWithinDistance(this.$0.get_regionCoordinates(),bQ,20)}return false},getLastHitTestDistance:function(L){if(ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())){var bQ=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.distance(this.$0.get_regionCoordinates(),bQ)}return-1},getAsync:function(L){var bQ=$.Deferred();if(this.isWithinLastHitTestDistance(L)){bQ.resolve(this.$0)}else{var bR=null;bR=ss.mkdel(this,function(bS){this.remove_updated(bR);bQ.resolve(bS)});this.add_updated(bR);this.update(L)}return bQ.promise()},update:function(L){this.lastEvent=L;this.$1.invokeActionDelayed()},makePaneSpecId:function(L,bQ){return bQ*this.paneTable.get_numColumns()+L},setCurrent:function(L){this.$0=L;if(ss.isValue(this.$1$1)){this.$1$1(L)}},hitTest:null},null,[ss.IDisposable,tab.IVizHitTester]);ss.initClass(T,a,{hitTest:function(L,bQ){var bR=this.region.getPaneDrawInfoFromSelectionAnchor(L);if(ss.isValue(bR)){var bS=this.region.hitTestSingleMarksAndVisualParts(L,false);var bT=this.makePaneSpecId(bR.paneColumn,bR.paneRow);this.setCurrent(new bK(this.region,bT,bR.paneColumn,bR.paneRow,L,bQ,bS))}else{this.setCurrent(null)}}},bL,[ss.IDisposable,tab.IVizHitTester]);ss.initClass(U,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(V,a,{handleWidgetPropertyChanged:function(L,bQ){},updateWidgetState:function(L){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[W,Object,Object]));ss.initClass(W,a,{get_compositeSearchWidget:function(){return this.$l},get_isCollapsed:function(){return this.$m},set_isCollapsed:function(L){this.$m=L;this.mapsSearchView.toggleClass('tabMapsSearchViewCollapsed',this.$m);this.mapsSearchView.parent().toggleClass('tabMapsSearchContainerCollapsed',this.$m)},get_isVisible:function(){return this.$n},set_isVisible:function(L){if(tab.FeatureParamsLookup.getBool(28)===true){L=true}if(this.$n===L){return}this.$n=L;this.mapsSearchViewTemplate.get_template().domRoot.css('display',(this.$n?'':'none'))},$e:function(L){this.mapsSearchView.removeClass('tabMapsSearchViewTranslucent')},$f:function(L){this.mapsSearchView.addClass('tabMapsSearchViewTranslucent')},$b:function(L){this.$h();if(L.trim().length===0){this.handleRemoveSuggestionList()}else{this.$k();this.$j()}},showNewSuggestions:function(L,bQ){if(!ss.referenceEquals(L,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(bQ)){return}this.$o=tab.MiscUtil.dispose(this.$o);this.$o=[];for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];this.$o.push(spiff.ListItemViewModel.newListItem(bR.toString(),bS,false,false,false))}this.get_compositeSearchWidget().showList(this.$o,this,this.mapsSearchView)},$k:function(){if(ss.isNullOrUndefined(this.$o)){return}this.get_compositeSearchWidget().showList(this.$o,this,this.mapsSearchView)},$9:function(L){var bQ=$("<span class='tab-list-item-label'/>");var bR='<span/>';var bS=$(bR);var bT=$(bR);bS.addClass('tabMapsSearchViewSuggestionDisplayName');var bU=L.geographicSearchCandidateDisplayName;var bV=ss.trimEndString(this.$l.get_textInputView().get_text());if(ss.startsWithString(bU.toLowerCase(),bV.toLowerCase())){var bW=$(bR);bW.addClass('tabMapsSearchViewSuggestionActiveSearchText');bW.text(bU.substr(0,bV.length));bS.append(bW);var bX=$(bR);bX.text(bU.substr(bV.length));bS.append(bX)}else{bS.text(L.geographicSearchCandidateDisplayName)}bQ.append(bS);bT.addClass('tabMapsSearchViewSuggestionParentName');bT.text(L.geographicSearchCandidateParentName);bQ.append(bT);return bQ},handleEnterKeyPress:function(){this.$h();if(ss.isValue(this.get_compositeSearchWidget().get_listViewModel())){this.mapsSearchViewModel.moveMapToCandidateBounds(this.get_compositeSearchWidget().get_listViewModel().get_collection()[0].get_data());this.handleRemoveSuggestionList()}else{this.mapsSearchViewModel.commitToSearchString(this.get_compositeSearchWidget().get_textInputView().get_text())}},handleListItemClick:function(L){this.$h();this.handleRemoveSuggestionList();this.mapsSearchViewModel.moveMapToSuggestionListItem(L)},handleCollapseSearchWidget:function(){this.set_isCollapsed(true)},$d:function(L){this.set_isVisible(L)},$c:function(){this.get_compositeSearchWidget().get_textInputView().set_text('')},handleRemoveSuggestionList:function(){this.$l.removeList();this.$o=tab.MiscUtil.dispose(this.$o)},$a:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},setGeoLocationButtonVisibility:function(L){if(L){this.gotoMyLocationButton.element.css('display','inline-block')}else{this.gotoMyLocationButton.element.css('display','none')}},handleSearchButtonClick:function(){this.$h();this.set_isCollapsed(!this.$m);if(!this.$m){if(!tab.BrowserSupport.get_isIE()){this.$l.get_textInputView().get_inputElement().focus()}if(this.get_compositeSearchWidget().get_textInputView().get_text().length>0){this.selectAllSearchText()}}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$g),200)},$h:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$g:function(){this.mapsSearchViewModel.getSuggestionsForSearchString(this.get_compositeSearchWidget().get_textInputView().get_text());this.$h()},updateSearchTextValue:function(L){var bQ=L.geographicSearchCandidateDisplayName;if(!ss.isNullOrEmptyString(L.geographicSearchCandidateParentName)){bQ+=', '+L.geographicSearchCandidateParentName}this.get_compositeSearchWidget().setSearchText(bQ)},selectAllSearchText:function(){tab.DomUtil.selectAllInputText(this.$l.get_textInputView().get_inputElement())},handleEnableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')})},createListItemContent:function(L){return this.$9(L.get_data())},$i:function(){var L=this.get_compositeSearchWidget().get_textInputView().get_inputElement();if(!ss.staticEquals(this.mapsSearchViewModel.get_focusInHandler(),null)){L.focusin(this.mapsSearchViewModel.get_focusInHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_focusOutHandler(),null)){L.focusout(this.mapsSearchViewModel.get_focusOutHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_keypressHandler(),null)){L.keypress(this.mapsSearchViewModel.get_keypressHandler())}},dispose:function(){this.$l.dispose();if(ss.isValue(this.gotoMyLocationButton)){this.gotoMyLocationButton.dispose()}ss.makeGenericType(spiff.BaseView$1,[X]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[X]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[X]),spiff.IListItemContentCreator]);ss.initClass(X,a,{add_receivedNewSuggestions:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_receivedNewSuggestions:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_updateTextInputValue:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_updateTextInputValue:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_onMoveMapToBounds:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_onMoveMapToBounds:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_visibilityChanged:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_visibilityChanged:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},add_userInteractionEnabled:function(L){this.$2$6=ss.delegateCombine(this.$2$6,L)},remove_userInteractionEnabled:function(L){this.$2$6=ss.delegateRemove(this.$2$6,L)},add_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateCombine(this.$2$7,L)},remove_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateRemove(this.$2$7,L)},add_suggestionListRemoved:function(L){this.$2$8=ss.delegateCombine(this.$2$8,L)},remove_suggestionListRemoved:function(L){this.$2$8=ss.delegateRemove(this.$2$8,L)},add_blurInputElementCalled:function(L){this.$2$9=ss.delegateCombine(this.$2$9,L)},remove_blurInputElementCalled:function(L){this.$2$9=ss.delegateRemove(this.$2$9,L)},get_visualID:function(){return this.$2},get_gotoMyLocationButtonEnabled:function(){return tab.FeatureParamsLookup.getBool(32)===true&&tab.BrowserSupport.get_isGeolocationSupported()},get_focusInHandler:function(){return this.$2$10},set_focusInHandler:function(L){this.$2$10=L},get_focusOutHandler:function(){return this.$2$11},set_focusOutHandler:function(L){this.$2$11=L},get_keypressHandler:function(){return this.$2$12},set_keypressHandler:function(L){this.$2$12=L},commitToSearchString:function(L){L=L.trim();this.sendGeographicSearchQuery(L,1,ss.mkdel(this,this.moveToTopGeographicCandidate))},getSuggestionsForSearchString:function(L){this.sendGeographicSearchQuery(L,5,ss.mkdel(this,this.processGeographicSuggestions))},moveMapToCandidateBounds:function(L){if(ss.isValue(this.$2$2)){this.$2$2(L)}if(ss.isValue(this.$2$3)){this.$2$3(L.mapLatLongRect)}tab.PaneClientCommands.boundingBoxPan(this.$2,L.mapLatLongRect)},moveMapToSuggestionListItem:function(L){var bQ=L.get_data();this.moveMapToCandidateBounds(bQ)},moveToTopGeographicCandidate:function(L){var bQ=L.geographicSearchCandidateList;if(bQ.length===0){}else{var bR=bQ[0];this.moveMapToCandidateBounds(bR)}},processGeographicSuggestions:function(L){if(!ss.isValue(this.$2$1)){return}var bQ=[];for(var bR=0;bR<L.geographicSearchCandidateList.length;bR++){bQ.push(L.geographicSearchCandidateList[bR])}this.$2$1(L.geographicSearchSearchString,bQ)},sendGeographicSearchQuery:function(L,bQ,bR){var bS=tsConfig.workbookLocale||'en_us';tab.PaneClientCommands.geographicSearchQuery(this.$2,L,bS,bQ,bR)},collapseSearchWidget:function(){this.raiseActionEvent(this.$2$4)},setVisible:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$5,L)},enableUserInteraction:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$6,L)},restoreInitialTextInputValue:function(){this.raiseActionEvent(this.$2$7)},removeSuggestionList:function(){this.raiseActionEvent(this.$2$8)},blurInputElement:function(){this.raiseActionEvent(this.$2$9)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(Y,a,{});ss.initEnum(ba,a,{root:0,pane:1,bin:2,mark:3,lineSegmentUnionRect:4,trendLineSegment:5,userPane:6,annotation:7});ss.initClass(bb,a,{setDefaultLabelLookupValues:function(){this.c.set('label_index',tab.VisualColumnIterator.create([-1]))},addLabelInfo:function(L,bQ,bR){this.labelColumnIterators=bb.$3(L,bQ,bR-bQ);this.transformColumnData(this.labelColumnIterators);var bS=this.labelColumnIterators.get('tuple_id');var bT=[];if(ss.isValue(bS)){var bU=new Array(this.markCount);for(var bV=0;bV<this.markCount;bV++){bU[bV]=-1}for(var bW=0;bW<bS.length;bW++){var bX=this.tupleToIndexMap.get(bS.v[(bS.c?0:bW)]);if(ss.isValue(bX)){bU[bX]=bW;bT.push(bX)}}this.c.set('label_index',tab.VisualColumnIterator.create(bU))}bS=this.c.get('tuple_id');var bY=new Map;var bZ=new Array(this.markCount);this.$e(bT,ss.mkdel(this,function(cf,cg){if(ss.isValue(cf)){var ch=bb.getMarkBoundingBox('label',cf,this,cg);bY.set(bS.v[(bS.c?0:cf)],ch);bZ[cf]=ch}}));var ca=this.$1(bZ);this.markLabelWorldOffsets=ca.$1;this.markLabelInstanceOffsets=ca.$0;var cb;if(this.labelColumnIterators.has('pane_flags')){var cc=this.labelColumnIterators.get('pane_flags');cb=cc.v[(cc.c?0:0)]}else{cb=0}var cd=cb;this.truncateLabelToCell=tab.SceneDataUtil.isPaneFlagSet(cd,'clip-to-cell-x');var ce=ss.isValue(L.MarkLayoutData)&&ss.isValue(L.MarkLayoutData.TextCompositionInputKeys)&&L.MarkLayoutData.TextCompositionInputKeys.is_text_table===true;this.parseTextInfo(L.TextRunTable,L.TextStyleTable,true,ce);this.sceneInfo.$1(this,bY)},get_hasLabels:function(){return ss.isValue(this.labelColumnIterators)},get_hasSelection:function(){return this.sceneInfo.get_hasSelection()},get_hasBrushing:function(){return this.sceneInfo.get_hasBrushing()},get_lineDrawState:function(){if(this.$j===null){this.$j=new S(this)}return this.$j},get_hasBackground:function(){var L=this.c.has('pane_has_background');if(L){var bQ=this.c.get('pane_has_background');L=bQ.v[(bQ.c?0:0)]===true}return L},get_hasHalos:function(){var L=this.c.has('has_halos');if(L){var bQ=this.c.get('has_halos');L=bQ.v[(bQ.c?0:0)]===true}return L},get_hasHaloHighlightColor:function(){return this.c.has('highlighted_halo_color')&&this.c.get('highlighted_halo_color').isValid},get_borderColor:function(){var L;if(this.c.has('border_color')){var bQ=this.c.get('border_color');L=bQ.v[(bQ.c?0:0)]}else{L=null}return L},get_textStyleColumns:function(){return this.textStyleColumnIterators},get_mapExtentOrPaneRect:function(){return this.mapExtents||this.paneRect},get_clipLabelToCell:function(){return this.truncateLabelToCell},get_paneDescriptorKey:function(){return this.paneMarks.get_paneKey()},get_hasGlobalTransparency:function(){return this.globalAlpha<1},get_extents:function(){return this.domainExtents},get_paneFlags:function(){return this.$n},set_paneFlags:function(L){this.$n=L;this.$9()},getTextRunProperty:function(L,bQ){if(ss.isNullOrUndefined(this.textRunColumnIterators)||!this.textRunColumnIterators.has(L)||ss.isNullOrUndefined(this.textRunColumnIterators.get(L))){return null}var bR=this.textRunColumnIterators.get(L);return bR.v[(bR.c?0:bQ)]},markHasLabel:function(L){if(this.$k){if(!this.showLabels){return false}if(this.labelMode==='mlm-selection'&&this.getMarkState(L)!=='markStateSelected'){return false}if(this.labelMode==='mlm-highlight'&&this.getMarkState(L)!=='markStateHighlighted'){return false}}return this.c.get('label_index').gv(L)!==-1},getOneColorAlpha:function(L,bQ,bR){var bS=null;this.$h=this.$h||new Map;if(!this.$h.has(L)){bS=tab.ColorModel.fromArgbInt(L);var bT=tab.SceneDataUtil.createColorCollection(bS,this.foggedBackgroundColor,this.fogBlendFactor);this.$h.set(L,bT)}var bU=this.$h.get(L);if(bQ==='colorOverrideReplaceAlpha'){bS=bS||tab.ColorModel.fromArgbInt(L);return tab.ColorModel.fromColorModelPlusAlpha(bS,bR/255).toRgba()}return bU[bQ]},$6:function(L,bQ){var bR=this.c.get(bQ).gv(L);if(this.$i.has(L)){var bS={};bS['colorOverrideFog']=bR['colorOverrideFog'];bS['colorOverrideNone']=bR['colorOverrideFog'];bS['colorOverrideOpaque']=bR['colorOverrideFog'];bR=bS}return bR},getMarkColors:function(L){var bQ='color';if(this.forceOpaqueColors&&this.c.get('opaque_color').isValid){bQ='opaque_color'}return this.$6(L,bQ)},getBorderColors:function(L){return this.$6(L,'border_color')},getMarkGeometry:function(L){return this.sceneInfo.$7(this.pdMarksKey,L)},isMarkPropertyConstant:function(L){return this.c.get(L).c},computeDirtyMarks:function(L){this.$g=new Map;var bQ=tab.RectXYUtil.completelyContains(L,this.paneRect);var bR=this.c.get('tuple_id');for(var bS=0;bS<this.markCount;bS++){var bT=bR.v[(bR.c?0:bS)];if(!this.isTupleVisible(bT)){continue}if(bQ){this.$g.set(bS,true);continue}if(this.markType==='line'||this.markType==='area'){this.$g.set(bS,true)}else{var bU=this.$8(bT);var bV=this.getMarkInstanceOffsets(bS);if(tab.RectXYUtil.intersectsWithAny$1(L,bU,bV)){this.$g.set(bS,true)}}}},clearDirtyMarks:function(){this.$g=null},markNeedsDraw:function(L){return ss.isValue(this.$g)&&this.$g.has(L)},markLabelNeedsDraw:function(L,bQ){if(this.getMarkState(L)==='markStateInvisible'){return false}var bR=this.getMarkLabelBounds(L);var bS=this.getMarkLabelInstanceOffsets(L);return tab.RectXYUtil.intersectsWithAny$1(bQ,bR,bS)},refreshMarkState:function(){this.$l=this.sceneInfo.computeTupleStates(this.c.get('tuple_id'));this.$i=this.sceneInfo.computeFilteredMarks(this.c.get('tuple_id'));this.$m=new Map;for(var L=0;L<this.markCount;L++){if(this.$3(L)){this.$m.set(L,true)}}if(this.$a()){this.$j=new S(this)}},getMarkState:function(L){if(ss.isValue(this.$l)&&this.$l.length>L){return this.$l[L]}return this.$2(L)},getMarkLabelState:function(L){if(this.$a()){var bQ=this.get_lineDrawState().get_lineAttributes();for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];if(bS.startIndex<=L&&L<=bS.endIndex){switch(bS.get_lineState()){case'lineStateHighlighted':{return(this.$b(L)?'markStateHighlighted':this.getMarkState(L))}case'lineStateSelected':{if(this.markType==='pie'&&!this.$b(L)){return this.getMarkState(L)}return'markStateSelected'}case'lineStateNormal':{return'markStateNormal'}}return'markStateNormal'}}}return this.getMarkState(L)},getMarkLabelProperty:function(L,bQ){if(this.markType==='text'){return this.c.get(L).gv(bQ)}var bR=this.c.get('label_index').gv(bQ);if(bR===-1){return null}var bS=this.labelColumnIterators.get(L);return bS.v[(bS.c?0:bR)]},getAllMarkBounds:function(){var L=new Array(this.markCount);var bQ=this.c.get('tuple_id');var bR=this.c.get('label_index');for(var bS=0;bS<this.markCount;bS++){var bT=bQ.v[(bQ.c?0:bS)];var bU=this.sceneInfo.getMarkBoundingBox(bT);var bV=((bR.v[(bR.c?0:bS)]===-1)?null:this.sceneInfo.$6(bT));L[bS]={item1:bU,item2:bV}}return L},getMarkBounds:function(L){var bQ=this.c.get('tuple_id');return this.$8(bQ.v[(bQ.c?0:L)])},getMarkIndexFromTupleId:function(L){return this.tupleToIndexMap.get(L)},containsTuple:function(L){return this.tupleToIndexMap.has(L)},getMarkLabelBounds:function(L){var bQ=this.sceneInfo;var bR=this.c.get('tuple_id');return bQ.$6(bR.v[(bR.c?0:L)])},getInsetPaneClipRect:function(L,bQ){var bR=2*bQ;var bS=this.getUserPaneRectByIndex(L);return{x:bS.x+bQ,y:bS.y+bQ,w:bS.w-bR,h:bS.h-bR}},getUserPaneRectByMark:function(L){if(this.hasUserPanes){return this.$f.$8(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByIndex:function(L){if(this.hasUserPanes){return this.$f.$7(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByTupleId:function(L){if(this.hasUserPanes){return this.$f.$8(this.getMarkIndexFromTupleId(L))}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneMarkCount:function(L){if(!this.hasUserPanes){return this.markCount}else{return this.$f.$5(L)}},getUserPaneMarkRange:function(L){if(!this.hasUserPanes){return{firstMark:0,lastMark:this.markCount-1}}else{return this.$f.$6(L)}},getUserPaneIndexByMark:function(L){if(!this.hasUserPanes){return 0}else{return this.$f.$4(L)}},initStaticProperties:function(){var L=this.c.has('draw_border');if(L){var bQ=this.c.get('draw_border');L=bQ.v[(bQ.c?0:0)]}this.drawBorder=L;var bR=this.c.has('wrap_domain');if(bR){var bS=this.c.get('wrap_domain');bR=bS.v[(bS.c?0:0)]}this.isWrappedDomain=bR;var bT;if(this.c.has('alpha')){var bU=this.c.get('alpha');bT=bU.v[(bU.c?0:0)]}else{bT=1}this.globalAlpha=bT;var bV;if(this.c.has('line_interp')){var bW=this.c.get('line_interp');bV=bW.v[(bW.c?0:0)]}else{bV='lim-linear'}this.lineInterpolation=bV;var bX;if(this.c.has('min_bar_width')){var bY=this.c.get('min_bar_width');bX=bY.v[(bY.c?0:0)]}else{bX=0}this.minBarWidth=bX;var bZ;if(this.c.has('min_bar_height')){var ca=this.c.get('min_bar_height');bZ=ca.v[(ca.c?0:0)]}else{bZ=0}this.minBarHeight=bZ},$d:function(L){if(!this.hasUserPanes){var bQ=this.getUserPaneRectByIndex(0);var bR=this.markCount;for(var bS=0;bS<bR;++bS){L(bS,bQ)}}else{this.$f.$9(L)}},$e:function(L,bQ){if(!this.hasUserPanes){var bR=this.getUserPaneRectByIndex(0);for(var bS=0;bS<L.length;bS++){var bT=L[bS];bQ(bT,bR)}}else{this.$f.$a(L,bQ)}},getMarkInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markInstanceOffsets)){return bb.$e}return this.markInstanceOffsets[L]},getMarkLabelInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markLabelInstanceOffsets)){return bb.$e}return this.markLabelInstanceOffsets[L]},getWorldInstanceOffsets:function(L,bQ){if(!this.isWrappedDomain){return bb.$e}var bR=Math.min(ss.Int32.trunc(this.worldWidth),this.paneRect.w);L-=bR;bQ+=bR;var bS=this.get_mapExtentOrPaneRect();var bT=Math.ceil((bS.x-bQ)/this.worldWidth);var bU=Math.floor((bS.x+bS.w-L)/this.worldWidth);var bV=bU-bT+1;var bW=new Array(bV);var bX=bT*this.worldWidth;for(var bY=0;bY<bV;bY++,bX+=this.worldWidth){bW[bY]=bX}return bW},getWorldOffsetBounds:function(L){var bQ=[];var bR=this.getWorldInstanceOffsets(L.x,L.x+L.w);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];if(bU!==0){var bV=tab.RectXYUtil.offsetRectXY(L,ss.Int32.trunc(bU)|0,0);bQ.push(bV)}else{bQ.push(L)}}return bQ},isTupleSelected:function(L){return L!==0&&this.sceneInfo.$b(L)},isMarkSelected:function(L){var bQ=this.c.get('tuple_id');return this.isTupleSelected(bQ.v[(bQ.c?0:L)])},isMarkImpliedSelected:function(L){var bQ=this.c.get('tuple_id');var bR=bQ.v[(bQ.c?0:L)];return bR!==0&&this.sceneInfo.$a(bR)},isTupleHighlighted:function(L){return L!==0&&this.sceneInfo.$9(L)},isMarkHighlighted:function(L){var bQ=this.c.get('tuple_id');var bR=bQ.v[(bQ.c?0:L)];return this.isTupleHighlighted(bR)},isTupleVisible:function(L){return L!==0&&this.sceneInfo.$c(L)},isLineSegmentVisible:function(L,bQ){return this.getMarkState(L)!=='markStateInvisible'&&this.getMarkState(bQ)!=='markStateInvisible'},isLineSegmentFiltered:function(L,bQ){return this.$i.has(L)||this.$i.has(bQ)},shouldStampThisShapeMark:function(L){if(this.$o){return true}if(ss.isNullOrUndefined(this.shapeMarkStampingDecision)){return false}if(L>=this.markCount){return false}return this.shapeMarkStampingDecision[L]},isMarkEndPrimitive:function(L){var bQ=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(bQ,'endprimitive')},isMarkDebug:function(L){var bQ=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(bQ,'debug')},shouldShowMarker:function(L){if(ss.isNullOrUndefined(this.$m)){return this.$3(L)}return this.$m.has(L)},$7:function(L,bQ,bR){var bS=null;if(bQ>=0&&!this.hasConstantColor&&this.markType==='text'){bS=this.getMarkColors(bQ)}else if(ss.isValue(this.textStyleColumnIterators)&&this.textStyleColumnIterators.has('text_style_color')){var bT=this.textStyleColumnIterators.get('text_style_color');bS=bT.v[(bT.c?0:L)]}if(ss.isNullOrUndefined(bS)){return'black'}if(bQ!==-1&&this.$i.has(bQ)){bR='colorOverrideFog'}return bS[bR]},thisDomainToPixelX:function(L){return bb.domainToPixelX(L,this.domainExtents,this.paneRect)},thisDomainToPixelY:function(L){return bb.domainToPixelY(L,this.domainExtents,this.paneRect)},thisDomainToPixelWidth:function(L){return bb.domainToPixelWidth(L,this.domainExtents,this.paneRect)},thisDomainToPixelHeight:function(L){return bb.domainToPixelHeight(L,this.domainExtents,this.paneRect)},$a:function(){return this.markType==='line'||this.markType==='area'||this.markType==='pie'},$b:function(L){return this.getMarkLabelProperty('label_one_per_group',L)},$3:function(L){var bQ=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(bQ,'marked')||tab.SceneDataUtil.isMarkFlagSet(bQ,'markediflabel')&&this.markHasLabel(L)&&!this.$b(L)},setUserPaneInfo:function(L){if(ss.isNullOrUndefined(L)){return}if(this.markType==='text'){return}this.$f=new bE(L,this);this.userPaneCount=this.$f.$b;this.hasUserPanes=true},processColors:function(L){var bQ=this.$c();if(ss.isNullOrUndefined(L)||!this.c.has('color_idx')){if(bQ){this.$0()}return}var bR=tab.VisualColumnHelpers.buildColorTable(L,this.c,this.foggedBackgroundColor,this.fogBlendFactor);var bS=null;if(bQ){bS=tab.VisualColumnHelpers.buildOpaqueColorTable(bR)}var bT=this.c.get('color_idx');var bU=bT.length;var bV=new Array(bU);var bW=(bQ?new Array(bU):null);for(var bX=0;bX<bU;bX++){var bY=bT.v[(bT.c?0:bX)];bV[bX]=bR[bY];if(bQ){bW[bX]=bS[bY]}}this.c.set('color',tab.VisualColumnIterator.create(bV));if(bQ){this.c.set('opaque_color',tab.VisualColumnIterator.create(bW))}this.c.delete('color_idx')},$0:function(){var L=this.c.get('color');if(ss.isValue(L)){var bQ=new Array(L.length);for(var bR=0;bR<L.length;++bR){bQ[bR]=tab.SceneDataUtil.createOpaqueColorCollection(L.v[(L.c?0:bR)])}this.c.set('opaque_color',tab.VisualColumnIterator.create(bQ))}},buildTupleLookup:function(){this.tupleToIndexMap.clear();var L=this.c.get('tuple_id');if(!ss.isNullOrUndefined(L)){var bQ=L.length;for(var bR=0;bR<bQ;bR++){this.tupleToIndexMap.set(L.v[(L.c?0:bR)],bR)}}},$8:function(L){return this.sceneInfo.getMarkBoundingBox(L)},$c:function(){return this.markType==='line'&&this.get_hasGlobalTransparency()},transformColumnData:function(L){var bQ=tab.VisualColumnHelpers.transformColumn(L.get('alpha'),function(cg){return cg/255});for(var bR=0;bR<bb.$4.length;bR++){var bS=bb.$4[bR];var bT={$:bQ&&(bS==='color'&&!tab.FeatureFlags.isEnabled('RuntimeWebRenderFromFinalDatastore')||bS==='text_style_color')};var bU;if(bT.$){var bV=L.get('alpha');bU=bV.v[(bV.c?0:0)]}else{bU=1}var bW={$:bU};tab.VisualColumnHelpers.transformColumn(L.get(bS),ss.mkdel({useAlpha:bT,colorAlpha:bW,$this:this},function(cg){var ch=tab.ColorModel.fromArgbInt(cg);if(this.useAlpha.$){ch=new tab.ColorModel(ch.get_r(),ch.get_g(),ch.get_b(),this.colorAlpha.$*ch.get_a())}return tab.SceneDataUtil.createColorCollection(ch,this.$this.foggedBackgroundColor,this.$this.fogBlendFactor)}))}tab.VisualColumnHelpers.transformColumn(L.get('shape_id'),function(cg){return tab.SceneDataUtil.shapeMapping[cg]||cg});tab.VisualColumnHelpers.transformColumn(L.get('line_interp'),function(cg){return tab.SceneDataUtil.lineInterpolationMapping[cg]||cg});if(ss.isValue(this.paneRect)&&ss.isValue(this.domainExtents)&&this.domainExtents.w!==0&&this.domainExtents.h!==0){bb.$d.forEach(ss.mkdel(this,function(cg,ch){var ci;var cj;var ck=ch+'_int';if(ss.contains(bb.$7,ch)){var cl=100*Math.max(1,this.paneRect.w);ci=this.domainExtents.w/cl;cj=this.domainExtents.x}else if(ss.contains(bb.$8,ch)){var cm=100*Math.max(1,this.paneRect.h);ci=this.domainExtents.h/cm;cj=this.domainExtents.y}else{ci=(bb.$d.get(ch).y-bb.$d.get(ch).x)/32767;cj=bb.$d.get(ch).x}var cn=tab.VisualColumnHelpers.transformColumn(L.get(ck),function(co){return(ss.isValue(co)?(co*ci+cj):null)});if(cn){L.set(ch,L.get(ck));L.delete(ck)}}));var bX={x:0,y:0,w:this.paneRect.w,h:this.paneRect.h};for(var bY=0;bY<bb.$7.length;bY++){var bZ=bb.$7[bY];tab.VisualColumnHelpers.transformColumn(L.get(bZ),ss.mkdel(this,function(cg){return bb.domainToPixelX(cg,this.domainExtents,bX)}))}for(var ca=0;ca<bb.$6.length;ca++){var cb=bb.$6[ca];tab.VisualColumnHelpers.transformColumn(L.get(cb),ss.mkdel(this,function(cg){return bb.domainToPixelWidth(cg,this.domainExtents,this.paneRect)}))}for(var cc=0;cc<bb.$8.length;cc++){var cd=bb.$8[cc];tab.VisualColumnHelpers.transformColumn(L.get(cd),ss.mkdel(this,function(cg){return bb.domainToPixelY(cg,this.domainExtents,bX)}))}for(var ce=0;ce<bb.$5.length;ce++){var cf=bb.$5[ce];tab.VisualColumnHelpers.transformColumn(L.get(cf),ss.mkdel(this,function(cg){return bb.domainToPixelHeight(cg,this.domainExtents,this.paneRect)}))}}},$4:function(L,bQ){var bR=new Map;if(ss.keyExists(L,'font')){var bS=L['font'];var bT=bS.dataValues.length;var bU=new Array(bT);for(var bV=0;bV<bT;++bV){bU[bV]=bb.$0(L,bV)}bR.set('font',tab.VisualColumnIterator.create(bU));var bW=_.keys(L);for(var bX=0;bX<bW.length;bX++){var bY=bW[bX];if(!ss.contains(bb.$9,bY)){var bZ=L[bY];bR.set(bY,tab.VisualColumnHelpers.createDataArray(bZ,0,bZ.dataValues.length))}}if(bQ){var ca=this.c.get('alpha').gv(0);if(ss.isValue(ca)){bR.set('alpha',tab.VisualColumnIterator.create([ca*255]))}}this.transformColumnData(bR);tab.VisualColumnHelpers.transformColumn(bR.get('text_orientation'),function(cb){return bb.$f.get(cb)});tab.VisualColumnHelpers.transformColumn(bR.get('text_alignment'),function(cb){var cc='start';var cd=cb;if(cd===2){cc='end'}return cc})}return bR},$5:function(L,bQ){var bR=new Map;if(!ss.isNullOrUndefined(L.font)){var bS=L.font;var bT=bS.length;var bU=new Array(bT);for(var bV=0;bV<bT;++bV){bU[bV]=bb.$1(L,bV)}bR.set('font',tab.VisualColumnIterator.create(bU));var bW=L;var bX=_.keys(bW);for(var bY=0;bY<bX.length;bY++){var bZ=bX[bY];if(!ss.contains(bb.$9,bZ)){var ca=bW[bZ];bR.set(bZ,tab.VisualColumnIterator.create(tab.VisualColumnHelpers.copyArray(ca,0,ca.length)))}}if(bQ){var cb=this.c.get('alpha').gv(0);if(ss.isValue(cb)){bR.set('alpha',tab.VisualColumnIterator.create([cb*255]))}}this.transformColumnData(bR);tab.VisualColumnHelpers.transformColumn(bR.get('text_orientation'),function(cc){return bb.$f.get(cc)});tab.VisualColumnHelpers.transformColumn(bR.get('text_alignment'),function(cc){var cd='start';var ce=cc;if(ce===2){cd='end'}return cd})}return bR},prepareLeftRight:function(){var L=new Array(this.markCount);var bQ=new Array(this.markCount);for(var bR=0;bR<this.markCount;++bR){L[bR]=-1;bQ[bR]=-1}var bS=0;var bT=this.c.get('mark_flags');for(var bU=0;bU<this.markCount;bU++){var bV=bT.v[(bT.c?0:bU)];if(!tab.SceneDataUtil.isMarkFlagSet(bV,'end')){bQ[bU]=bU+1;L[bU+1]=bU}if(tab.SceneDataUtil.isMarkFlagSet(bV,'closedprimitive')){bQ[bU]=bS;L[bS]=bU}if(tab.SceneDataUtil.isMarkFlagSet(bV,'endprimitive')){bS=bU+1}}this.c.set('l_neighbor',tab.VisualColumnIterator.create(L));this.c.set('r_neighbor',tab.VisualColumnIterator.create(bQ))},setupBoundingBoxes:function(){var L=this.c.get('tuple_id');var bQ=new Map;var bR=new Array(this.markCount);this.$d(ss.mkdel(this,function(cb,cc){var cd=bb.getMarkBoundingBox(this.markType,cb,this,cc);bQ.set(L.v[(L.c?0:cb)],cd);bR[cb]=cd}));if(this.markType==='pie'){var bS=new S(this);var bT=bS.get_lineAttributes();for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];var bW=[];var bX=L.v[(L.c?0:bV.startIndex)];bW.push(bX);var bY=tab.RectXYUtil.clone(bQ.get(bX));for(var bZ=bV.startIndex+1;bZ<=bV.endIndex;++bZ){bX=L.v[(L.c?0:bZ)];bW.push(bX);tab.RectXYUtil.unionInPlace(bY,bQ.get(bX))}this.sceneInfo.$0(this,bY,bW)}}var ca=this.$1(bR);this.markWorldOffsets=ca.$1;this.markInstanceOffsets=ca.$0;this.sceneInfo.$2(this,bQ)},setupCustomShapePositions:function(){if(this.markType==='shape'&&this.sceneInfo.customShapes.length>0){var L=[];var bQ=[];var bR=this.c.get('shape_id');var bS=this.c.get('x');var bT=this.c.get('y');var bU=this.c.get('size');for(var bV=0;bV<this.markCount;++bV){if(tab.SceneDataUtil.isCustomShape(bR.v[(bR.c?0:bV)])){var bW=bU.v[(bU.c?0:bV)]/2;L[bV]=Math.round(bS.v[(bS.c?0:bV)]-bW);bQ[bV]=Math.round(bT.v[(bT.c?0:bV)]-bW)}}if(L.length>0){this.c.set('left',tab.VisualColumnIterator.create(L));this.c.set('top',tab.VisualColumnIterator.create(bQ))}}},setupShapeMarkStampingMap:function(){if(this.markCount<bb.shapeMarkStampingRatio){return}if(tab.BrowserSupport.get_isIE()){this.shapeMarkStampingDecision=null;if(!this.sceneInfo.get_isSingleUserPane()){return}if(this.clipCase!==0){return}}var L=this.isMarkPropertyConstant('color');var bQ=this.isMarkPropertyConstant('size');var bR=this.isMarkPropertyConstant('shape_id');if(bR){var bS=this.c.get('shape_id').gv(0);if(!tab.SceneDataUtil.isSupportedStampShape(bS)){return}if(L&&bQ){this.$o=true;return}}var bT=this.c.get('size');var bU=this.c.get('shape_id');var bV={};var bW=new Array(this.markCount);for(var bX=0;bX<this.markCount;bX++){bW[bX]=false;var bY=[];if(!bQ){bY.push(bT.v[(bT.c?0:bX)])}if(!bR){var bZ=bU.v[(bU.c?0:bX)];if(!tab.SceneDataUtil.isSupportedStampShape(bZ)){continue}bY.push(bZ)}if(!L){var ca=this.getMarkColors(bX);bY.push(ca['colorOverrideNone'])}var cb=bY.toString();if(!ss.keyExists(bV,cb)){bV[cb]=[]}bV[cb].push(bX)}var cc=false;var cd=0;var ce=_.keys(bV);for(var cf=0;cf<ce.length;cf++){var cg=ce[cf];var ch=bV[cg];if(ch.length>=bb.shapeMarkStampingRatio){for(var ci=0;ci<ch.length;ci++){var cj=ch[ci];bW[cj]=true;cd++}cc=true}}if(cd===this.markCount){this.$o=true;this.shapeMarkStampingDecision=null}else if(cc){this.shapeMarkStampingDecision=bW}else{this.shapeMarkStampingDecision=null}},parseTextInfo:function(L,bQ,bR,bS){if(!ss.isNullOrUndefined(L)){this.textRunColumnIterators=new Map;var bT=L;var bU=new ss.ObjectEnumerator(bT);try{while(bU.moveNext()){var bV=bU.current();var bW=bV.value;this.textRunColumnIterators.set(bV.key,tab.VisualColumnIterator.create(tab.VisualColumnHelpers.copyArray(bW,0,bW.length)))}}finally{bU.dispose()}if(!bR&&!bS){this.textRunColumnIterators.set('text_run_x',this.textRunColumnIterators.get('text_run_x_remote'));this.textRunColumnIterators.set('text_run_y',this.textRunColumnIterators.get('text_run_y_remote'))}}if(ss.isValue(bQ)){this.textStyleColumnIterators=this.$5(bQ,!bR)}},$1:function(L){var bQ=new Map;var bR=null;if(!this.isWrappedDomain){bQ.set(0,new Set);return new d(bQ,bR)}var bS=L.length;bR=new Array(bS);for(var bT=0;bT<bS;bT++){var bU=L[bT];if(ss.isNullOrUndefined(bU)){continue}bR[bT]=this.getWorldInstanceOffsets(bU.x+this.paneRect.x,bU.x+bU.w+this.paneRect.x);var bV=bR[bT];for(var bW=0;bW<bV.length;bW++){var bX=bV[bW];if(!bQ.has(bX)){bQ.set(bX,new Set);for(var bY=0;bY<this.markCount;bY++){bQ.get(bX).add(bY)}}bQ.get(bX).delete(bT)}}var bZ=new d(bQ,bR);return bZ},$9:function(){this.scaleMarksInX=tab.SceneDataUtil.isPaneFlagSet(this.$n,'enable-scale-x');this.scaleMarksInY=tab.SceneDataUtil.isPaneFlagSet(this.$n,'enable-scale-y');this.useCellClipForSelection=tab.SceneDataUtil.isPaneFlagSet(this.$n,'clip-to-cell-for-selection');this.paneHasCellsX=tab.SceneDataUtil.isPaneFlagSet(this.$n,'has-cells-x');this.paneHasCellsY=tab.SceneDataUtil.isPaneFlagSet(this.$n,'has-cells-y')},$2:function(L){var bQ=this.c.get('tuple_id');var bR=[bQ.v[(bQ.c?0:L)]];var bS=this.sceneInfo.computeTupleStates(tab.VisualColumnIterator.create(bR));return bS[0]}});bb.$ctor1.prototype=bb.prototype;ss.initClass(bc,a,{drawReferenceLineAndTrendLineGroup:function(L,bQ,bR,bS,bT){var bU=false;var bV=null;var bW=null;var bX=null;for(var bY=0;bY<L.length;bY++){var bZ=L[bY];var ca=bZ.type==='draw-fill-rect'||bZ.type==='draw-text';var cb=bQ==='hover'||bQ==='selected';var cc=true;if(ca&&cb){var cd=tab.ColorModel.fromColorCode(bR.get_shapeFillStyle());if(cd.get_a()<1){if(bQ==='hover'){continue}cc=false}}var ce=bZ.type==='draw-pen'||bZ.type==='draw-solid-brush'||bZ.type==='draw-text-props';if(bS||ce){if((ce||!cc)&&bU){bR.set_strokeStyle(bV.toString());bR.set_shapeFillStyle(bW.toString());bR.set_textFillStyle(bX.toString());bU=false}if((ss.isValue(bT)||bQ!=='normal')&&!bU&&!ce&&cc){bV=tab.ColorModel.fromColorCode(bR.get_strokeStyle());bW=tab.ColorModel.fromColorCode(bR.get_shapeFillStyle());bX=tab.ColorModel.fromColorCode(bR.get_textFillStyle());var cf=bc.$0(bV,bQ,bZ.type,bT);var cg=bc.$0(bW,bQ,bZ.type,bT);var ch=bc.$0(bX,bQ,bZ.type,bT);bU=!ss.referenceEquals(cf,bV.toString())||!ss.referenceEquals(cg,bW.toString())||!ss.referenceEquals(ch,bX.toString());if(bU){bR.set_strokeStyle(cf);bR.set_shapeFillStyle(cg);bR.set_textFillStyle(ch)}}this.renderVisualParts(bR,bZ)}}if(bU){bR.set_strokeStyle(bV.toString());bR.set_shapeFillStyle(bW.toString());bR.set_textFillStyle(bX.toString())}},renderScene:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$p=L.get_scene();var bQ=this.$p.scene;if(!ss.isValue(bQ)){return}this.$o.setRenderOffsetNoTranslate(this.get_renderOffset());var bR=this.get_currentContext().get_numberSavedStates();var bS=L.get_mapServerModel().get_useFastMaps();if(!bS){this.$n(L.get_vizRegionMap(),L.get_drawFirstParts())}var bT=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());var bU=3;bT=tab.RectXYUtil.outsetRect(bT,bU,bU);this.$p.prepareForDraw(bT);var bV=(ss.isValue(this.$p.get_runtimeData())?this.$p.get_runtimeData().get_finalDataStore().AnnexedData.Panes:null);this.$j(bV,bS);this.$p.cleanupFromDraw();this.$n(L.get_vizRegionMap(),L.get_drawLastParts());while(this.get_currentContext().get_numberSavedStates()>bR){this.get_currentContext().restore()}},renderViewportBorders:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$p=L.get_scene();var bQ=this.$p.scene;if(ss.isNullOrUndefined(bQ)){return}var bR=null;var bS=L.get_scene().get_runtimeData();if(bS===Object(bS)){bR=this.$a(L.get_scene().get_runtimeData().get_panes())}if(ss.isNullOrUndefined(bR)){return}var bT=[];var bU=this.get_currentCanvas().width-1;var bV=this.get_currentCanvas().height-1;var bW={x:0,y:0};var bX={x:bU,y:0};var bY={x:0,y:bV};var bZ={x:bU,y:bV};var ca=false;var cb=false;for(var cc=0;cc<bR.drawItems.length;cc++){var cd=bR.drawItems[cc];if(cd.type==='clip-rect'||cd.type==='transform'){continue}if(cd.type==='draw-polyline'){var ce=tab.MiscUtil.cloneObject(cd);if(ce.points[1]===ce.points[3]){if(ca){bc.$1(ce.points,bY,bZ)}else{bc.$1(ce.points,bW,bX)}ca=true}else{if(cb){bc.$1(ce.points,bX,bZ)}else{bc.$1(ce.points,bW,bY)}cb=true}bT.push(ce)}else{bT.push(cd)}}this.get_currentContext().save();this.$e(bT,null,'pane-borders');this.get_currentContext().restore()},renderAxisRulers:function(L,bQ,bR){var bS=L.get_vizRegionMap()['axis-rules'];if(ss.isValue(bS)){var bT=function(cb,cc){var cd={type:'draw-polyline',points:new Array(4)};bc.$1(cd.points,cb,cc);return cd};var bU=tab.RenderUtil.calculatePixelRatio();var bV=this.get_currentCanvas().height-1;var bW=[];var bX=bS.get_visualListPM().drawItems;for(var bY=0;bY<bX.length;bY++){var bZ=bX[bY];if(bZ.type==='draw-pen'){bW.push(bZ)}else if(bZ.type==='draw-polyline'){var ca=bZ;if(ca.points[0]===ca.points[2]){bW.push(bT({x:0,y:-bR.y},{x:0,y:Math.round(bU*bQ.h)-bR.y}))}else if(ca.points[1]===ca.points[3]){bW.push(bT({x:-bR.x,y:bV},{x:Math.round(bU*bQ.w)-bR.x,y:bV}))}}}this.get_currentContext().save();this.$e(bW,null,'axis-rules');this.get_currentContext().restore()}},$a:function(L){for(var bQ=0;bQ<L.length;bQ++){var bR=L[bQ];for(var bS=0;bS<bR.drawPane.length;bS++){var bT=bR.drawPane[bS];if(bT.visualPart==='pane-borders'){return bT}}}return null},$n:function(L,bQ){if(tab.MiscUtil.isNullOrEmpty$2(L)||ss.getKeyCount(L)===0){return}for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];var bT=L[bS];if(!ss.contains(bh.blackListVisualParts,bS)&&bS!=='axis-rules'){if(ss.isValue(bT)){this.get_currentContext().save();var bU=this.$p.get_imageDictionary();this.$o.renderVisualListHelper(bT,bU);this.get_currentContext().restore()}}}},$l:function(L,bQ){if(!ss.isValue(L)){return}this.get_currentContext().save();this.$e(L.drawItems,bQ,L.visualPart);this.get_currentContext().restore()},$j:function(L,bQ){if(!ss.isValue(L)){return}if(!bQ){this.$m(L,'background')}this.$g(L);this.$m(L,'foreground')},$m:function(L,bQ){for(var bR=0;bR<L.length;bR++){var bS=L[bR];if(!this.$c(bS)){continue}var bT=bS.DrawPanes;for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];var bW=bV;var bX=tab.EnumConversions.visualPartFromInt(bW[0]);if(bQ===this.$9(bX)){var bY=tab.RuntimeUtil.visualListFromDrawPane(bV);this.$l(bY,this.$b(bS))}}}},$b:function(L){var bQ=L.DrawPanes;for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];var bT=bS;var bU=tab.EnumConversions.visualPartFromInt(bT[0]);if(bU==='marks'){var bV=bT[1];return this.$p.getPaneDrawInfo$1(bV,L.Row,L.Column)}}return null},$g:function(L){var bQ=[];var bR=[];for(var bS=0;bS<L.length;bS++){var bT=L[bS];if(this.$c(bT)){bQ.push(bT);bR.push(this.$b(bT))}}for(var bU=0;bU<bc.$5.length;bU++){var bV=bc.$5[bU];for(var bW=0;bW<bc.$4.length;bW++){var bX=bc.$4[bW];var bY=0;for(var bZ=0;bZ<bQ.length;bZ++){var ca=bQ[bZ];var cb=bR[bY];bY++;if(ss.isNullOrUndefined(cb)){continue}if(bX==='marks'||bX==='label'){var cc=ca.DrawPanes;for(var cd=0;cd<cc.length;cd++){var ce=cc[cd];var cf=ce;var cg=tab.EnumConversions.visualPartFromInt(cf[0]);if(cg==='marks'){if(bX==='marks'){this.$i(cb,bV);break}else if(bX==='label'){if(cb.get_hasLabels()){this.$h(cb,bV);break}}}}}else if(!ss.isNullOrUndefined(ca.PredictionMarks)){for(var ch=0;ch<ca.PredictionMarks.length;ch++){var ci=ca.PredictionMarks[ch];var cj=tab.RuntimeUtil.renderNodeFromPredictionMark(ci);switch(cj.type){case'prediction-band':{var ck=new Z(this.get_currentCanvas(),this.get_currentContext());ck.setRenderOffsetNoTranslate(this.get_renderOffset());ck.renderPredictionBand(cb,bV,cj,bX);break}case'prediction-whisker':{var cl=new Z(this.get_currentCanvas(),this.get_currentContext());cl.setRenderOffsetNoTranslate(this.get_renderOffset());cl.renderPredictionWhisker(cb,bV,cj,bX);break}}}}}}}},$e:function(L,bQ,bR){if(!ss.isValue(L)){return}var bS=this.$p.get_imageDictionary();if(bR!=='ref-lines'&&bR!=='ref-bands'&&bR!=='trend-lines'){var bT=null;if(bR==='decoration'){if(ss.isValue(bQ)){bT=bQ.mapExtents}}this.$o.renderDrawItems(L,null,bS,bT)}else{var bU=this.$p.selections.refLineSelection;var bV=!bU.isEmpty;var bW=this.$p.selections.trendLineSelection;var bX=!bW.isEmpty;var bY=this.$p.brushings.trendLineSelection;var bZ=null;for(var ca=0;ca<L.length;ca++){var cb=L[ca];if(cb.type==='draw-group'){var cc=cb;var cd=false;var ce=false;switch(bR){case'ref-lines':{cd=bU.isObjectSelected(cc.objectId);ce=!cd&&(bV||bX);break}case'ref-bands':{ce=(bV||bX)&&!bU.isObjectSelected(cc.objectId);break}case'trend-lines':{if(cc.objectId>2147483647){if(!bY.isEmpty){continue}cd=false;ce=false}else{cd=bW.isObjectSelected(cc.objectId);ce=!cd&&!bY.isObjectSelected(cc.objectId)&&(this.$p.get_hasBrushing()||this.$p.get_hasSelection())}break}}var cf=(cd?'selected':'normal');if(ce&&ss.isNullOrUndefined(bZ)){if(ss.isValue(bQ)&&ss.isValue(bQ.fogBlendFactor)&&ss.isValue(bQ.foggedBackgroundColor)){bZ={item1:bQ.fogBlendFactor,item2:bQ.foggedBackgroundColor}}else{var cg=tab.ColorModel.fromColorCode('rgba(255,255,255,255)');var ch=tab.SceneDataUtil.getFogBlendFactor(cg);var ci=tab.SceneDataUtil.applyFogToBackgroundColor(cg,ch);bZ={item1:ch,item2:ci}}}this.drawReferenceLineAndTrendLineGroup(cc.drawItems,cf,this.get_currentContext(),true,(ce?bZ:null))}else{this.renderVisualParts(this.get_currentContext(),cb)}}}},renderVisualParts:function(L,bQ){this.$o.renderDrawItemDefaultOptions(L,bQ)},$c:function(L){return this.isRectVisible({x:L.Rect[0],y:L.Rect[1],w:L.Rect[2],h:L.Rect[3]})},$k:function(L,bQ,bR,bS,bT,bU){this.get_currentContext().save();if(!L.skipClipping){this.get_currentContext().setClip(bU)}this.get_currentContext().translate(L.paneRect.x,L.paneRect.y);bT(L,bQ,bR,bS);this.get_currentContext().restore()},$d:function(L,bQ,bR){if(L.markCount===0){return}var bS=new Z(this.get_currentCanvas(),this.get_currentContext());bS.setRenderOffsetNoTranslate(this.get_renderOffset());if(!L.hasUserPanes){this.$k(L,0,bS,bQ,bR,L.get_mapExtentOrPaneRect());return}var bT=L.userPaneCount;var bU=L.paneRect.x;var bV=L.paneRect.y;for(var bW=0;bW<bT;++bW){var bX=L.getUserPaneRectByIndex(bW);bX=tab.RectXYUtil.offsetRectXY(bX,bU,bV);var bY=L.getUserPaneMarkCount(bW);if(bY>0&&this.isRectVisible(bX)){this.$k(L,bW,bS,bQ,bR,bX)}}},$i:function(L,bQ){this.$d(L,bQ,ss.mkdel(this,this.$f))},$h:function(L,bQ){this.$d(L,bQ,function(bR,bS,bT,bU){bT.renderMarkLabels(bR,bS,bU)})},$f:function(L,bQ,bR,bS){var bT=L.markType;switch(bT){case'shape':{{bR.renderShapeMark(L,bQ,bS)}break}case'square':case'bar':{{bR.renderBarMark(L,bQ,bS)}break}case'pie':{{bR.renderPieMark(L,bQ,bS)}break}case'line':{{bR.renderLineMark(L,bQ,bS)}break}case'area':{{bR.renderAreaMark(L,bQ,bS)}break}case'text':{{bR.renderTextMarks(L,bQ,bS)}break}case'multipolygon':{{bR.renderMultipolygonMark(L,bQ,bS)}break}default:{break}}},$9:function(L){switch(L){case'background':case'decoration':case'ref-bands':case'cell-borders':{return'background'}case'mark-trails':case'marks':case'mark-labels':{return'marks'}case'borders':case'trend-lines':case'ref-lines':case'pane-borders':case'annotations':case'axis-rules':{return'foreground'}}return'background'}},tab.CanvasRenderer);ss.initClass(bd,a,{get_paneTableVM:function(){return this.get_viewModel()},get_paneTableRenderer:function(){return this.renderer},get_isContentOpaque:function(){return!this.get_paneTableVM().get_mapServerModel().get_useFastMaps()},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},performRender:function(){var L={};L['viz']=this.get_paneTableVM().get_sheetId();{var bQ=tabBootstrap.MetricsController.createContext('RNDRPT'.toString(),4,L);try{this.renderer.clear();this.get_paneTableRenderer().renderScene(this.get_paneTableVM())}finally{if(ss.isValue(bQ)){bQ.dispose()}}}},onViewModelPropertyChanged:function(L,bQ){if(bQ.get_propertyName()==='borderHighlight'){return}var bR=this.get_paneTableVM().getAndClearInvalidationRects();if(bR.length===0){this.invalidate(false)}else{var bS=tab.RectXYUtil.unionAll(bR);var bT=3;tab.RectXYUtil.outsetRectInPlace(bS,bT,bT);tab.RectXYUtil.offsetRectXYInPlace(bS,-this.get_scrollPos().x,-this.get_scrollPos().y);this.invalidateRect(bS,false)}},postRenderFinalPass:function(){this.get_paneTableRenderer().renderViewportBorders(this.get_paneTableVM());this.get_paneTableRenderer().renderAxisRulers(this.get_paneTableVM(),this.get_docSize(),this.get_scrollPos())}},ss.makeGenericType(bJ,[bh]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bh]),spiff.IScrollable,N]);ss.initClass(be,a,{get_paneTableVM:function(){return this.get_viewModel()},get_lastTargetState:function(){return this.$O},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},clearOverlays:function(){this.$u();this.$v();this.$t();this.$o();this.$S=false},hoverOverWhitespace:function(){this.$L=false},setScrollPosition:function(L){this.set_scrollPos(L);this.$I=[];this.invalidate(true)},setDragOverlayTuples:function(L){this.$u();this.$v();this.$o();if(this.$S){return}this.$P=L;var bQ=be.$0(this.$J,L);var bR=bQ.length;if(bR>0){var bS=this.get_paneTableVM().get_scene();var bT=[];for(var bU=0;bU<bR;bU++){var bV=bQ[bU];var bW=this.$w(bV,bS);bT.push(bW)}var bX=this.$T.get_shapeSelector();this.$R=bX.retrieveStateObject(this.$R);var bY=bX.getStateDiff(this.$R);var bZ=bY.length;var ca=new Set;var cb=new Array(bZ);for(var cc=0;cc<bZ;cc++){var cd=bY[cc];var ce={x:0,y:0,w:0,h:0};for(var cf=0;cf<bR;cf++){if(ca.has(cf)){continue}var cg=bT[cf];if(tab.RectXYUtil.intersectsWithAny(cd,cg)){ce=tab.RectXYUtil.union(tab.RectXYUtil.unionAll(cg),ce);ca.add(cf)}}cb[cc]=(tab.RectXYUtil.isEmpty(ce)?ce:tab.RectXYUtil.outsetRect(ce,3,3))}cb=tab.RectXYUtil.reduceRectangles(cb);this.$I=cb;if(be.$1){this.invalidate(false)}var ch=tab.RectXYUtil.unionAll(cb);ch=tab.RectXYUtil.offsetRect(ch,{x:-this.get_scrollPos().x,y:-this.get_scrollPos().y});this.invalidateRect(ch,true)}else{this.$I=[];this.clearDirty();this.$P=null}},setHoverOverlayTarget:function(L,bQ){this.$O='hover';if(!this.$M.$1(L,bQ)){this.$L=false}if(this.$M.$2(L,bQ)||ss.isValue(this.$J)&&this.$J.length>0){return false}this.$p();var bR=this.$x(L,bQ);this.$y(bR);this.$M.$3(L,bQ,bR);this.$D();return true},setPressedOverlayTarget:function(L,bQ){this.$L=true;this.$O='press';if(this.$Q.$2(L,bQ)){return false}this.$p();var bR=this.$x(L,bQ);this.$y(bR);this.$Q.$3(L,bQ,bR);this.$D();return true},$C:function(L,bQ){if(bQ.get_propertyName()==='scene'||bQ.get_propertyName()==='vizdata'){this.$H()}},performRender:function(){var L=tabBootstrap.MetricsController.createContext('Render Overlay Panetable',32,null);{if(this.$I.length>0||ss.isValue(this.$J)&&this.$J.length>0){this.$E()}else{this.renderer.clear();var bQ=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),{x:this.get_scrollPos().x,y:this.get_scrollPos().y});if(this.$M.$4()){if(this.$M.$8==='mark'){var bR=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$M.$5());if(!ss.isNullOrUndefined(bR)){this.$q(this.$M.$5(),bR,bQ);bc.renderHoverOverlay(this.$M.$5(),bR,this.context)}}else{this.$G(this.$M)}}else if(this.$Q.$4()){if(this.$Q.$8==='mark'){var bS=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$Q.$5());if(!ss.isNullOrUndefined(bS)){this.$q(this.$Q.$5(),bS,bQ);bc.renderPressedOverlay(this.$Q.$5(),bS,this.context)}}else{this.$G(this.$Q)}}}}L.dispose()},$s:function(L,bQ,bR){var bS=tab.RectXYUtil.offsetRectXY(L,bQ.paneRect.x,bQ.paneRect.y);var bT=bQ.mapExtents;if(ss.isValue(bT)){tab.RectXYUtil.intersectInPlace(bS,bT)}tab.RectXYUtil.intersectInPlace(bS,bR);this.context.setClip(bS);this.context.translate(bQ.paneRect.x,bQ.paneRect.y)},$q:function(L,bQ,bR){var bS=bQ.getUserPaneRectByTupleId(L);this.$s(bS,bQ,bR)},$r:function(L,bQ,bR){var bS=bQ.getUserPaneRectByIndex(L);this.$s(bS,bQ,bR)},$E:function(){var L=75;var bQ=(new Date).getTime();if(ss.isNullOrUndefined(this.$P)){this.$P=this.$J}if(this.$I.length===0){var bR={x:this.get_scrollPos().x,y:this.get_scrollPos().y,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};this.$I.push(bR)}if(this.$P.length===0){this.renderer.clear();return}if(be.$1){this.renderer.clear()}var bS={};var bT={};var bU={};var bV=this.get_paneTableVM().get_scene();for(var bW=0;bW<this.$P.length;bW++){var bX=this.$P[bW];var bY=bV.getPaneDrawInfoFromTupleId(bX);var bZ=bY.paneDrawInfoKey;bS[bZ]=ss.coalesce(bS[bZ],new Set);bS[bZ].add(bX);bT[bZ]=bY;var ca=bV.getMarkBoundingBox(bX);var cb=bY.getWorldOffsetBounds(ca);bU[bX]=cb}var cc=0;var cd=this.$I.length;for(var ce=0;ce<cd;ce++){var cf=this.$I[ce];this.context.clearRect(cf.x,cf.y,cf.w,cf.h);if(be.$1){this.context.set_strokeStyle('rgb(255,0,0)');this.context.strokeRect(cf.x,cf.y,cf.w,cf.h)}var cg=new ss.ObjectEnumerator(bS);try{while(cg.moveNext()){var ch=cg.current();var ci=bT[ch.key];var cj=tab.RectXYUtil.intersect(cf,ci.get_mapExtentOrPaneRect());if(tab.RectXYUtil.isEmpty(cj)){continue}var ck=false;var cl=ci.hasUserPanes;var cm=-1;var cn=false;var co=tab.SetUtilities.getValues(ss.Int32).call(null,ch.value);for(var cp=0;cp<co.length;cp++){var cq=co[cp];if(cc>=L){if((new Date).getTime()-bQ>145){cn=true;break}cc=0}++cc;if(!tab.RectXYUtil.intersectsWithAny(cj,bU[cq])){continue}var cr=0;if(cl){cr=ci.getUserPaneIndexByMark(ci.getMarkIndexFromTupleId(cq));if(cr!==cm){if(ck){this.context.restore();ck=false}cm=cr}}if(!ck){this.context.save();this.$r(cr,ci,cf);ck=true}bc.renderHoverOverlay(cq,ci,this.context)}if(ck){this.context.restore()}if(cn){this.$S=true;this.renderer.clear();return}}}finally{cg.dispose()}}},$G:function(L){var bQ=[];if(L.$7()==='hover'&&tsConfig.is_authoring){switch(L.$8){case'ref-line':{bQ=this.get_paneTableVM().get_refLineVisualLists();break}case'trend-line':{bQ=this.get_paneTableVM().get_trendLineVisualLists();break}}}for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];var bT=[];ss.arrayAddRange(bT,bS.drawItems);this.$F(bT,L)}},$F:function(L,bQ){var bR=bQ.$7();var bS=bQ.$5();this.context.save();var bT=this.renderer;var bU=ss.getEnumerator(L);try{while(bU.moveNext()){var bV=bU.current();if(bV.type==='draw-group'){var bW=bV;var bX=true;if(this.$L){switch(bQ.$8){case'ref-line':{bX=!this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(bW.objectId);break}case'trend-line':{bX=!this.get_paneTableVM().get_scene().selections.trendLineSelection.isObjectSelected(bW.objectId);break}}}if(bX){bT.drawReferenceLineAndTrendLineGroup(bW.drawItems,bR,this.context,bS===bW.objectId,null)}}else{bT.renderVisualParts(this.context,bV)}}}finally{bU.dispose()}this.context.restore()},postRenderFinalPass:function(){},redrawFinished:function(){this.$J=this.$P;this.$P=null;this.$T.get_shapeSelector().updateLastState(this.$R);this.$I=[];if(this.$S){this.$t()}},$D:function(){if(this.$K||tab.MiscUtil.isNullOrEmpty$1(this.$N)){this.$K=false;this.invalidate(true)}else{var L=tab.RectXYUtil.unionAll(this.$N);ss.clear(this.$N);var bQ={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};L=tab.RectXYUtil.offsetRect(L,bQ);L=tab.RectXYUtil.outsetRect(L,3,3);this.invalidateRect(L,true)}},$o:function(){if(this.$K||!tab.MiscUtil.isNullOrEmpty$1(this.$N)){this.$D()}},$H:function(){if(!this.$z(this.$M)){this.$M.$0()}if(!this.$z(this.$Q)){this.$Q.$0()}if(ss.isValue(this.$J)){var L=new Set;for(var bQ=0;bQ<this.$J.length;bQ++){var bR=this.$J[bQ];if(this.$A(bR)){L.add(bR)}}this.$J=tab.SetUtilities.getValues(ss.Int32).call(null,L)}},$z:function(L){if(!L.$4()){return false}switch(L.$8){case'mark':{return this.$A(L.$5())}case'ref-line':{return this.$B(this.get_paneTableVM().get_refLineVisualLists(),L.$5())}case'trend-line':{return this.$B(this.get_paneTableVM().get_trendLineVisualLists(),L.$5())}case'unspecified':default:{return false}}},$A:function(L){var bQ=this.get_paneTableVM().get_visualModel().get_vizDataModel();var bR=this.get_paneTableVM().get_scene();return ss.isValue(bQ)&&bQ.hasTupleId(L)&&!bR.isMarkFiltered(L)},$B:function(L,bQ){for(var bR=0;bR<L.length;bR++){var bS=L[bR];var bT=bS.drawItems;for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];if(bV.objectId===bQ){return true}}}return false},$p:function(){this.$u();this.$v();this.$t()},$x:function(L,bQ){if(bQ==='mark'){return this.$w(L)}else{return null}},$y:function(L){if(ss.isNullOrUndefined(L)){this.$K=true;ss.clear(this.$N);return}for(var bQ=0;bQ<L.length;bQ++){var bR=L[bQ];this.$N.push(bR)}},$w:function(L,bQ){bQ=bQ||this.get_paneTableVM().get_scene();var bR=bQ.getMarkBoundingBox(L);var bS=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L);var bT=bS.getWorldOffsetBounds(bR);return bT},$u:function(){if(this.$M.$4()){this.$y(this.$M.$6());this.$M.$0()}},$v:function(){if(this.$Q.$4()){this.$y(this.$M.$6());this.$Q.$0()}},$t:function(){if(ss.isValue(this.$J)){var L=this.get_paneTableVM().get_scene();for(var bQ=0;bQ<this.$J.length;bQ++){var bR=this.$J[bQ];ss.arrayAddRange(this.$N,this.$w(bR,L))}this.$J=null}this.$P=null;this.$I=[];this.$R=null}},ss.makeGenericType(bJ,[bh]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bh]),spiff.IScrollable,N]);ss.initClass(bf,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bg,a,{get_zoomToolbarContainerDiv:function(){return this.dom.view.get(0)},get_isMapSearchEnabled:function(){return this.get_paneTableVM().get_mapSearchEnabled()},get_shouldEnableZoomHomeToolbar:function(){return this.get_paneTableVM().shouldEnableZoomHomeToolbar()},get_vizHitTester:function(){return this.$3$1},set_vizHitTester:function(L){this.$3$1=L},get_sortIndicators:function(){return this.get_paneTableVM().get_sortIndicators()},get_tableViewPosition:function(){return tab.PointUtil.fromPosition(this.dom.domRoot.offset())},get_sheetid:function(){return this.get_paneTableVM().get_sheetId()},get_session:function(){return this.get_controller().get_viewSession()},get_numColumns:function(){return(ss.isValue(this.geometry)?this.geometry.pi.xWidths.length:0)},get_numRows:function(){return(ss.isValue(this.geometry)?this.geometry.pi.yHeights.length:0)},get_scrollPosition:function(){return this.$10},set_scrollPosition:function(L){this.$10=L;this.$u(this.$10);this.$F()},get_controller:function(){var L=this.get_paneTableVM();var bQ=L.get_viewController();return bQ},get_visualId:function(){return this.get_paneTableVM().get_visualId()},get_isSameVisualID:function(){return ss.referenceEquals(this.get_visualId(),this.vizTooltip.get_visualIDPresModel())},get_paneTableVM:function(){return this.get_viewModel()},get_vizToolTip:function(){this.$e();return this.vizTooltip},get_tooltipMode:function(){return this.get_paneTableVM().get_visualModel().get_tooltipMode()},get_mapToolSelectionMode:function(){return this.get_paneTableVM().get_visualModel().get_defaultMapTool()},get_isTooltipAllowed:function(){return ss.isNullOrUndefined(tsConfig.allow_tooltip)||tsConfig.allow_tooltip},get_vizRegion:function(){return this.regions['viz']},set_vizRegion:function(L){this.regions['viz']=L},get_vizRegionDomNode:function(){return this.dom.view.children().first()},get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,get_shouldDisablePanTool:function(){return this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'},get_shouldShowTools:function(){var L=this.get_paneTableVM().get_visualModel().get_floatingToolbarVisibility()==='show'||this.get_paneTableVM().get_visualModel().get_floatingToolbarVisibility()==='auto'&&this.allowPanZoomActions();return L},init:function(){this.$n();this.makeConnections();this.makeRegions();this.initEventHandlers();this.makeRegionContentProviders();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.set_vizHitTester(tab.MiscUtil.dispose$1(this.get_vizHitTester()));if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.set_vizHitTester(new T(this,this.get_vizRegion()))}else{this.set_vizHitTester(new br(this,this.get_vizRegion()))}}},dispose:function(){this.$Q=true;if(ss.isValue(this.get_vizHitTester())){this.get_vizHitTester().dispose()}this.destroyInputHandlers();this.destroyRegions();this.disposables.dispose();this.visibleGeometry=null;this.disposeOfOverlays();if(ss.isValue(this.get_paneTableVM())){this.get_paneTableVM().remove_vizRegionMapChange(ss.mkdel(this,this.$H));if(ss.isValue(this.get_vizRegion())){var L=this.get_paneTableVM();var bQ=this.get_vizRegion();L.remove_propertyChanged(ss.mkdel(bQ,bQ.$0))}}this.floatingZoomToolbarView.dispose();if(ss.isValue(this.$13)){this.$13.dispose()}if(ss.isValue(this.$O)){this.$O.dispose()}if(ss.isValue(this.$U)){this.$U.dispose()}if(ss.isValue(this.$V)){this.$V.dispose()}if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));this.vizTooltip.remove_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));this.vizTooltip.remove_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));this.vizTooltip.remove_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted));this.vizTooltip.dispose()}if(ss.isValue(this.$X)){this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this.$X,this.$X.$C));this.$X.dispose()}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.dispose()}ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).prototype.dispose.call(this)},$f:function(L,bQ,bR){if(L.moveNext()&&!ss.staticEquals(L.current(),null)){L.current()(this,bQ).done(ss.mkdel(this,function(bS){if(bS){bR.resolve(true);return}this.$f(L,bQ,bR)}))}else{bR.resolve(false)}},initEventHandlers:function(){this.$a();this.makeInputHandlers();this.setupDrilling();this.setupSortIndicators();this.setupAxisContextMenuIndicator();this.refreshScrollingAndDrilling()},callAsyncVizDragHandlers:function(L,bQ){var bR=$.Deferred();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.$f(ss.getEnumerator(bg.$4),L,bR)}else{bR.resolve(false)}bR.done(ss.mkdel(this,function(bS){if(bS){this.get_vizToolTip().close();return}bQ(L)}))},callVizDragHandlers:function(L,bQ){if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){for(var bR=0;bR<bg.$8.length;bR++){if(bg.$8[bR](this,L)){this.get_vizToolTip().close();return}}}bQ(L)},getVizDragApproval:function(L){if(ss.isValue(L)){for(var bQ=0;bQ<bg.$7.length;bQ++){if(bg.$7[bQ](L)){return true}}}return false},zoomHome:function(){tab.PanZoomCommands.requestRestoreFixedAxes(this.get_visualId());if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableVM().get_mapsSearchViewModel().restoreInitialTextInputValue()}},doTiledViewerRefreshImages:function(L){this.refreshImages(L)},setPointerToolMode:function(L,bQ){this.isPointerToolLocked=bQ;if(this.isPointerToolLocked){this.get_paneTableVM().get_vizRegionToolModeViewModel().setLockedPointerToolMode(L)}this.get_paneTableVM().get_vizRegionToolModeViewModel().setPointerToolMode(L)},defaultPointerToolMode:function(){if(ss.isValue(this.get_vizRegion())){return this.get_paneTableVM().get_vizRegionToolModeViewModel().defaultPointerToolMode}return'rectangular-selection'},resetPointerToolMode:function(){var L=this.floatingZoomToolbarView.resetPointerToolbarMode();if(!L&&ss.isValue(this.get_vizRegion())){this.get_paneTableVM().get_vizRegionToolModeViewModel().resetPointerToolMode()}},connectTooltipEventHandlers:function(){var L=this.get_vizToolTip();L.add_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));L.add_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));L.add_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));L.add_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted))},updateRegionBackgroundColor:function(){var L=this.get_paneTableVM().get_visualModel();var bQ=[L.get_backgroundColor().toString(),L.get_paneBGColor(),L.get_headerBGColor()];if(ss.isValue(this.$L)&&_.isEqual(this.$L,bQ)){return}this.$L=bQ;var bR=!tab.ApplicationModel.get_instance().get_isLocalRenderMode();for(var bS=0;bS<bi.contentRegions.length;bS++){var bT=bi.contentRegions[bS];var bU=this.regionParts.getSelectorForRegion(bT);if(ss.isNullOrUndefined(bU)){continue}var bV=bg.$1(bQ,bT);bU.css('background-color',bV);if(bR){var bW=$('.tvimagesContainer',bU);bW.css('background-color',bV)}}this.$D(bQ[2])},$D:function(L){for(var bQ=0;bQ<bi.spacerRegions.length;bQ++){var bR=bi.spacerRegions[bQ];this.regionParts.getSelectorForRegion(bR).css('background-color',L)}},$m:function(L,bQ){for(var bR=0;bR<bi.nonVizContentRegions.length;bR++){var bS=bi.nonVizContentRegions[bR];var bT=this.regionParts.getSelectorForRegion(bS);var bU=this.makeTiledWindow(bT,this.get_session(),this.get_controller(),ss.mkdel(this,this.$h),null);this.regions[bS].set_contentProvider(bU)}this.get_vizRegion().set_contentProvider(this.makeTiledWindow(L,this.get_session(),this.get_controller(),ss.mkdel(this,this.$h),bQ))},makeRegionContentProvidersHelper:function(L,bQ){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_paneTableVM().add_vizRegionMapChange(ss.mkdel(this,this.$H));var bR='transparent';var bS=new bd(this.get_paneTableVM(),this.getDomNodeForContentRegion(L),bR);var bT=$('.tvimagesContainer',L);bT.get(0).appendChild(bS.element.get(0));this.get_vizRegion().set_contentProvider(bS);this.$H();this.$X=this.makePaneTableOverlayView(this.getDomNodeForContentRegion(L));this.get_paneTableVM().add_propertyChanged(ss.mkdel(this.$X,this.$X.$C));bT.get(0).appendChild(this.$X.element.get(0))}else{this.$m(L,bQ)}var bU=this.get_paneTableVM();var bV=this.get_vizRegion();bU.add_propertyChanged(ss.mkdel(bV,bV.$0));this.updateRegionBackgroundColor()},makePaneTableOverlayView:function(L){return new be(this.get_paneTableVM(),L,this.get_vizRegion())},makeTiledWindowHelper:function(L,bQ,bR,bS,bT,bU){var bV=new bA(this.getDomNodeForContentRegion(L),bQ,bR,bS,bU);if(ss.isValue(bT)){bV.add_loadComplete(bT);this.disposables.add$1(new tab.CallOnDispose(function(){bV.remove_loadComplete(bT)}))}return bV},destroyRegions:function(){var L=ss.getEnumerator(Object.keys(this.regions));try{while(L.moveNext()){var bQ=L.current();if(ss.isValue(this.regions[bQ])){this.regions[bQ].destroy()}}}finally{L.dispose()}},checkForHoverOverlay:null,isUserDragging:null,onTooltipClosed:function(){},$z:function(L){if(ss.keyExists(L.commandParams,'tupleId')){var bQ=parseInt(L.commandParams['tupleId'].toString(),10);var bR=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(bQ);if(ss.isNullOrUndefined(bR)){return false}}if(ss.keyExists(L.commandParams,'selection')){var bS=L.commandParams['selection'];if(ss.isValue(bS)){try{var bT=JSON.parse(bS);if(bT.selectionType==='tuples'){for(var bU=0;bU<bT.objectIds.length;bU++){var bV=bT.objectIds[bU];var bW=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(bV);if(ss.isNullOrUndefined(bW)){return false}}}}catch(bX){return false}}}return true},onCommandExecuted:function(L,bQ){if(ss.isNullOrUndefined(bQ)||ss.isNullOrUndefined(bQ.command)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(bQ.command.command)&&!this.$z(bQ.command.command)){return}if(bQ.command.get_commandType()===7){this.get_session().executeCommand(bQ.command)}else{tab.UberTipClientCommands.executeUbertipCommand(bQ.command)}},onActionExecuted:function(L,bQ){if(ss.isNullOrUndefined(bQ)||ss.isNullOrUndefined(bQ.action)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(bQ.action.command)&&!this.$z(bQ.action.command)){return}var bR=function(){L.hideSpinner()};var bS=function(bT){L.hideSpinner()};this.get_session().executeAction(bQ.action,bS,bR)},doDoubleTap:function(L,bQ,bR){if(!tsConfig.allow_filter){return}if(L.get_regionPart()!=='viz'||!this.allowPanZoomActionsOnDoubleTap()){return}if(this.get_paneTableVM().get_isMapWithBaseLayer()&&!L.allowMapZoomAtCurrentLevel(bR)){return}this.get_controller().incrementCacheVersion();var bS=tab.DeferLayoutImpl.get_instance();bS.setDeferLayoutUpdates(true);var bT=this.resolvePane(L.toLocalCoordsEvent(bQ,false));L.zoomPoint(bT,L.toLocalCoordsEvent(bQ,false),bR,true,bS);this.get_vizToolTip().close();this.disposeOfOverlays()},$o:function(L,bQ){if(!ss.referenceEquals(L,this.get_controller().get_sheetName())){return}this.checkForHoverOverlay();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_vizRegion().reset()}},dragOverride:function(L,bQ){if(this.isUserDragging()){return}this.callVizDragHandlers(L,bQ)},dragOverrideAsync:function(L,bQ){if(this.isUserDragging()){return}this.callAsyncVizDragHandlers(L,bQ)},clearSelection:function(){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())},refreshImages:function(L){this.$Z+=1;var bQ=ss.getEnumerator(Object.keys(this.regions));try{while(bQ.moveNext()){var bR=bQ.current();this.regions[bR].refreshImages(L)}}finally{bQ.dispose()}this.$P.$0(L,this.get_session(),this.$h())},$K:function(L,bQ){var bR={item1:bQ,item2:L};var bS=ss.isValue(this.$M)&&_.isEqual(bR,this.$M);if(!bS){this.$M=bR}return bS},$l:function(L){var bQ={};$.extend(true,bQ,L);this.geometry=bQ;var bR=bQ.ri.length;for(var bS=0;bS<bR;bS++){bQ[bQ.ri[bS].r]=bQ.ri[bS]}return bQ},$9:function(L,bQ,bR){var bS=[L.yheader,L.rightaxis,L.leftaxis,L.viz];for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];if(ss.isValue(bU)){bU.h+=bR}}var bV=[L.xheader,L.bottomaxis,L.topaxis,L.viz];for(var bW=0;bW<bV.length;bW++){var bX=bV[bW];if(ss.isValue(bX)){bX.w+=bQ}}},$x:function(L,bQ){var bR=0;if(ss.isValue(L.title)&&this.dom.title.css('display')!=='none'){this.titleHeight=L.title.h;var bS={l:0,t:L.title.y,w:L.title.w+bQ.get_scrollWidth(),h:L.title.h};var bT=tab.DomUtil.getMarginBoxJQ(this.dom.title);if(!_.isEqual(bS,bT)){tab.DomUtil.setAbsolutePositionBox(this.dom.title,bS);this.$13.handleNewTextRegion();bR=L.title.h+L.title.y}}return bR},$r:function(L,bQ){var bR=0;if(ss.isValue(this.$O)&&this.dom.caption.css('display')!=='none'){var bS;if(ss.isValue(L.caption)){bR=L.caption.h+8+bQ.get_scrollHeight();bS={l:L.caption.x,t:L.caption.y-bQ.get_heightScrollOffset(),w:L.caption.w,h:L.caption.h}}else{bS={l:0,t:0,w:0,h:0}}var bT=tab.DomUtil.getMarginBoxJQ(this.dom.caption);if(!_.isEqual(bS,bT)){tab.DomUtil.setAbsolutePositionBox(this.dom.caption,bS);this.$O.handleNewTextRegion()}}return bR},$t:function(L,bQ){if(this.$K(L,bQ)){this.refreshScrollingAndDrilling();return}this.$P.$1();this.$Z+=1;var bR=this.$l(L);var bS=new bn(bR,bQ.w,bQ.h);var bT=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var bU=((bT&&ss.isValue(bR.bottomaxis))?1:0);var bV=((bT&&ss.isValue(bR.rightaxis))?1:0);if(bT){this.$9(bR,bV,bU)}this.titleHeight=0;var bW=bS.get_overallHeight();var bX=this.$x(bR,bS);bW=Math.max(bW,bX);var bY=this.$r(bR,bS);bW-=bY;var bZ=bS.getVisibleGeometry(bR,bQ.w,bU,bV);this.visibleGeometry=bZ;this.$v(bZ,bR);this.setGeometryForWebScrollbars(bS,bW);this.refreshScrollingAndDrilling();this.setRegionResizersForWeb();this.refreshTooltipIfNeeded()},$v:function(L,bQ){var bR=null;if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var bS=this.get_paneTableVM().get_vizRegionMap()['background'];if(ss.isValue(bS)){bR=bS.get_visualListPM().drawItems}}this.$s(L.uleftArea,bR,this.dom.topLeftSpacer,'uleft');if(ss.isValue(bQ.uleft)){this.tlspacerAreaY=$.extend({},L.uleftArea);if(ss.isValue(bQ.di)&&bQ.uleft.h>=40){this.tlspacerAreaY.t=bQ.uleft.y+bQ.uleft.h-40;this.tlspacerAreaY.h=40}this.tlspacerAreaX=null;if(ss.isValue(bQ.di)&&ss.isValue(bQ.di.xy)&&ss.isValue(bQ.di.xy[0])){var bT=18;var bU=bQ.xheader;if(ss.isValue(bU)&&bU.h>bQ.di.xs){var bV=bQ.di.xy.length;for(var bW=0;bW<bV;bW++){if(bQ.di.xy[bW][1]>0){this.tlspacerAreaX={l:this.tlspacerAreaY.l+this.tlspacerAreaY.w-bT,t:bQ.uleft.y,w:bT,h:bQ.uleft.h};this.tlspacerAreaY.w=this.tlspacerAreaX.l;break}}}}}else{this.tlspacerAreaY=null;this.tlspacerAreaX=null}this.$w(bQ.yheader,this.dom.yLabel,'yheader',bQ.ts,L.yheaderArea);this.$w(bQ.leftaxis,this.dom.leftAxis,'leftaxis',bQ.ts,L.leftaxisArea);this.$w(bQ.rightaxis,this.dom.rightAxis,'rightaxis',bQ.ts,L.rightaxisArea);this.$w(bQ.xheader,this.dom.xLabel,'xheader',bQ.ts,L.xheaderArea);this.$w(bQ.bottomaxis,this.dom.bottomAxis,'bottomaxis',bQ.ts,L.bottomaxisArea);this.$w(bQ.topaxis,this.dom.topAxis,'topaxis',bQ.ts,L.topaxisArea);this.$s(L.urightArea,bR,this.dom.topRightSpacer,'uright');this.$s(L.lleftArea,bR,this.dom.bottomLeftSpacer,'lleft');this.blspacerArea=L.lleftArea;this.$s(L.lrightArea,bR,this.dom.bottomRightSpacer,'lright');this.$w(bQ.viz,this.dom.view,'viz',bQ.ts,L.vizArea)},$s:function(L,bQ,bR,bS){if(ss.isValue(L)){tab.DomUtil.setAbsolutePositionBox(bR,L);this.setRegionGeometryHelper(bR,L);bR.show();this.$P.$2(bR,bS,bQ)}else{bR.hide()}},$w:function(L,bQ,bR,bS,bT){if(ss.isValue(L)){tab.DomUtil.setAbsolutePositionBox(bQ,bT);this.setRegionGeometryHelper(bQ,bT);bQ.show();this.regions[bR].setGeometry(L,bT,bS);if(bR==='viz'&&ss.isValue(this.$X)){this.$X.set_actualViewSize({w:bT.w,h:bT.h});this.$X.reset(L,bS)}}else{bQ.hide()}},resolvePane:function(L){var bQ=this.geometry.pi;var bR={canDragH:bQ.hasXQAxis,canDragV:bQ.hasYQAxis,x:0,y:0,w:0,h:0};bg.$2(L.x,bQ.xWidths,bR);bg.$3(L.y,bQ.yHeights,bR);return bR},allowPanZoomActions:null,allowPanZoomActionsOnDoubleTap:null,isVizLargerThanScreen:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var L=this.geometry.viz.w;var bQ=this.geometry.viz.h;var bR=this.get_vizRegion();var bS=bR.get_contentProvider();if(ss.isNullOrUndefined(bS)){return false}var bT=bS.get_effectiveViewSize().w;var bU=bS.get_effectiveViewSize().h;return L>bT||bQ>bU}return false},isOneVisiblePane:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var L,bQ;var bR=this.geometry.viz.w;var bS=this.geometry.viz.h;var bT=this.geometry.pi.xWidths;var bU=this.geometry.pi.yHeights;bQ=bT.length;for(L=0;L<bQ;L++){if(Math.abs(bR-bT[L])>1){return false}}bQ=bU.length;for(L=0;L<bQ;L++){if(Math.abs(bS-bU[L])>1){return false}}}return true},maybeShowOverlayImages:null,createOverlayImageFromDataUri:function(L){var bQ=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),'data:image/png;base64,'+L);return bQ},createOverlayImageFromFile:function(L){var bQ=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),this.get_session().formatSessionTempfileReference(L,false,false));return bQ},updateOverlayTarget:function(L,bQ,bR){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}switch(bQ){case'press':{this.$X.setPressedOverlayTarget(L,bR);break}case'hover':{this.$X.setHoverOverlayTarget(L,bR);break}default:{break}}},updateOverlayForLastTargetState:function(L,bQ){this.updateOverlayTarget(L,this.$X.get_lastTargetState(),bQ)},hoverOverWhitespace:function(){this.$X.hoverOverWhitespace()},updateHoveredCategoricalHeadersAndQuantitativeAxes:function(L,bQ,bR){var bS=this.get_paneTableVM().get_vizRegionMap()[bR];if(ss.isNullOrUndefined(bS)){return}switch(bQ){case'press':{bS.set_hoveredNodeOrAxis(null);break}case'hover':{bS.set_hoveredNodeOrAxis(L);break}default:{break}}},showOverlayImages:function(L,bQ){if(ss.isValue(bQ)&&ss.isValue(L)&&bQ.length>0){this.disposeOfOverlayImages();for(var bR=1;bR<bQ.length;++bR){var bS=L.clone();this.$W.push(bS);bS.show(bQ[bR])}this.$W.push(L);L.show(bQ[0])}},setRegionGeometryHelper:null,getDomNodeForContentRegion:null,clickTitle:function(L){},clickCaption:function(L){},makeConnections:function(){},makeMapsSearchViewConnections:null,makeRegions:null,makeInputHandlers:null,makeRegionContentProviders:null,setupDrilling:function(){},refreshScrollingAndDrilling:null,refreshTooltipIfNeeded:function(){},setupSortIndicators:function(){},setupAxisContextMenuIndicator:function(){},destroyInputHandlers:null,setGeometryForWebScrollbars:function(L,bQ){},setRegionResizersForWeb:function(){},makeTooltipLegacyMode:null,makeTooltip:function(){if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='smooth'){return new bD(this.get_paneTableVM().get_tooltipContextProvider(),this.get_visualId(),this.dom.view,true)}else if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='sticky'){return this.makeTooltipLegacyMode(this.get_paneTableVM().get_tooltipContextProvider())}else{return new bC(this.get_paneTableVM().get_tooltipContextProvider(),this.get_visualId())}},onHoverOverlay:function(L,bQ){if(this.isUserDragging()){return}if(this.wasPressOverlayJustUpdated){this.wasPressOverlayJustUpdated=false;return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&L.get_regionPart()==='viz'){if(!this.isAnimationOccurring&&(L.get_toolModeViewModel().get_isSelectingToolActive()||!L.get_isDragTracking()&&L.get_toolModeViewModel().get_currentPointerToolMode()==='pan-map')){var bR=L.toLocalCoordsEvent(bQ,false);var bS={x:bQ.pageX,y:bQ.pageY};this.lastVizHoverPoint=bR;if(this.get_vizToolTip().isHoverAllowed(bS)){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(true)}}else{this.lastVizHoverPoint=null}}},hitTestAndSetHoverOverMarkOrVisualPartHelper:function(L){var bQ=this.get_vizRegion();var bR=bQ.hitTestSingleMarksAndVisualParts(this.lastVizHoverPoint,true);this.onHoverOverVisualPart(bQ,bR.get_hitType()!==0);if(bR.get_hitType()===0){this.hoverOverWhitespace()}if(bR.get_shouldRenderOverlay()){if(!L){this.updateOverlayForLastTargetState(bR.get_id(),bR.get_overlayTargetType())}else{this.updateOverlayTarget(bR.get_id(),'hover',bR.get_overlayTargetType())}}else{this.disposeOfOverlayImages()}},onHoverOverVisualPart:null,onHoverTooltip:function(L,bQ){if(this.isUserDragging()){return}if(tab.BaseSession.get_waitHandler().isBusy()){return}var bR=this.get_vizToolTip();if(bR.get_isTooltipShown()&&bR.shownTooltipIsStatic()){return}var bS=L.toLocalCoordsEvent(bQ,false);var bT=tab.PointUtil.add(bS,L.getLocalOffsetPoint(false));if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var bU=bg.guessTooltipTargetTypeFromRegion(L.get_regionPart());bR.hoverOverCoordinates(bT,bS,bU,L.get_regionPart(),null,null,false);return}var bV=false;if(L.get_regionPart()==='viz'){this.$c();L.get_shapeSelector().setSingleSelectPoint(bS);var bW=this.get_vizRegion();var bX=bW.hitTestSingleMarksAndVisualParts(bS,true);bV=bX.get_hitType()!==0;this.onHoverOverVisualPart(bW,bV);if(bV){switch(bX.get_hitObjectType()){case 6:case 7:{var bY=this.get_paneTableVM().get_scene().getMarkBoundingBox(bX.get_id());bS=bg.$0(bS,bY);var bZ=this.get_paneTableVM().get_visualModel().get_selectionsModel();var ca=bZ.tupleSelection.isObjectSelected(bX.get_id());var cb=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(bX.get_id());var cc=cb.get_paneDescriptorKey();bR.hoverOverObject(bT,tab.PointUtil.add(bS,{x:this.geometry.viz.x,y:this.geometry.viz.y}),bS,bX.get_id(),ca,cc,'mark',L.get_regionPart());break}case 4:case 5:case 3:{this.$14=window.setTimeout(function(){bR.hoverOverCoordinates(bT,bS,'visualparts',L.get_regionPart(),null,null,false)},120);break}case 2:{if(bR.get_isTooltipShown()){bR.close()}break}default:{break}}}}else if(ss.isValue(L.get_contentProvider())){var cd=L.hitTestNodes(bS);if(ss.isValue(cd)){var ce=tab.SelectionUtils.nodeSelectionFromDrawGroup(cd);var cf=tab.BrushingComputer.getTuplesAssociatedWithSelectedNodes(this.get_paneTableVM().get_visualModel(),[ce]);bR.hoverOverHeader(bT,bS,'header',L.get_regionPart(),cf);bV=true}}if(!bV){bR.hoverOverWhitespace(bT,L.get_regionPart())}},$c:function(){if(ss.isValue(this.$14)){window.clearTimeout(ss.unbox(this.$14));this.$14=null}},makeTiledWindow:null,shouldInformTooltipOfLocalTapOnViz:null,disposeOfOverlays:function(){this.disposeOfOverlayImages()},disposeOfOverlayImages:function(){for(var L=0;L<this.$W.length;L++){var bQ=this.$W[L];if(ss.isValue(bQ)){bQ.dispose()}}ss.clear(this.$W);if(ss.isValue(this.$X)){this.$X.clearOverlays()}this.$Y=tab.MiscUtil.clearTimeout(this.$Y)},$u:function(L){if(ss.isValue(this.$X)){this.$X.setScrollPosition(L)}},checkForDragOverlays:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.$Y)){return}var L=(new Date).getTime()-this.$T;if(L>=30){this.$d()}else{this.$Y=window.setTimeout(ss.mkdel(this,this.$d),30-L)}}},$d:function(){this.$Y=null;var L=G.getIdsFromHitTestResults(this.get_vizRegion().hitTestMarksAgainstSelectionShape(),true);this.$X.setDragOverlayTuples(L);this.$T=(new Date).getTime()},updateRegionContentProvider:function(L,bQ){this.regions[L].set_contentProvider(bQ)},isSelectActionOnVizAllowed:function(L){return true},handleLocalTap:function(L,bQ,bR,bS,bT,bU){var bV=false;if(this.isSelectActionOnVizAllowed(bQ)){if(L.get_regionPart()==='viz'){var bW=ss.mkdel(this,function(ca){if(this.shouldInformTooltipOfLocalTapOnViz(ca,bU)){this.$j(ca,L,bR,bS)}});var bX=L.doSelectFromPoint(bS,bQ,bW,bT);bV=bX.get_hitType()!==0}else if(ss.isValue(L.get_contentProvider())){var bY=L.hitTestNodes(bS);if(ss.isValue(bY)){var bZ=ss.mkdel(this,function(){this.get_vizToolTip().singleSelectCoordinates(bR,bS,L.get_regionPart(),'header',null)});L.selectNode(bS,bY,bQ,bZ);bV=true}else{tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}}if(!bV){this.get_vizToolTip().hoverOverWhitespace(bR,L.get_regionPart())}}},$j:function(L,bQ,bR,bS){var bT=null;if(ss.isValue(this.get_paneTableVM())&&ss.isValue(this.get_paneTableVM().get_scene())&&L.get_tooltipTargetType()==='mark'){var bU=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L.get_id());if(ss.isValue(bU)){bT=bU.get_paneDescriptorKey()}}var bV=tab.ActionUtils.couldSheetFilterActionsModifyItself(this.get_visualId().worksheet);var bW=!bV&&ss.isValue(bT);if(!bW){this.get_vizToolTip().singleSelectCoordinates(bR,bS,bQ.get_regionPart(),L.get_tooltipTargetType(),null)}else{this.get_vizToolTip().singleSelectComplete(bR,tab.PointUtil.add(bS,{x:this.geometry.viz.x,y:this.geometry.viz.y}),bS,L.get_id(),bT,L.get_tooltipTargetType(),bQ.get_regionPart())}},$i:function(){this.$p()},$p:function(){var L=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(L)){return}var bQ=L.get_geometryModel().pm;this.$q(bQ)},$q:function(L){j.$1(L,this.get_paneTableVM(),this.dom)},handleNewVisual:function(){if(this.get_paneTableVM().isInvalidSheet()){$('<div/>').text(tab.Strings.BaseClientInvalidSheet(this.get_paneTableVM().get_sheetId())).addClass('wcInvalidSheet').appendTo(this.get_template().domRoot).get(0);return}if(this.$Q){return}var L=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(L)){return}this.get_vizRegion().$3();this.$I(L);this.$C(L);this.$A();this.updateTooltipMode(L);var bQ=L.get_geometryModel().pm;{this.$t(bQ,L.get_containerGeometry())}this.$J(L);this.floatingZoomToolbarView.setToolMode(this.defaultPointerToolMode(),true);this.updateRegionBackgroundColor();this.$G();this.$E();this.$q(bQ);this.isAnimationOccurring=false},$J:function(L){this.updateMapsSearchView();if(L.get_isMap()&&this.get_shouldDisablePanTool()&&(this.get_paneTableVM().get_vizRegionToolModeViewModel().get_isPanToolActive()||this.get_paneTableVM().get_vizRegionToolModeViewModel().get_isZoomToolActive())){this.setPointerToolMode(L.get_defaultMapTool(),true)}this.get_paneTableVM().get_vizRegionToolModeViewModel().updateDefaultToolMode(this.allowPanZoomActions());this.floatingZoomToolbarView.updateZoomToolbar(L.get_floatingToolbarVisibility());if(tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){this.get_paneTableVM().get_floatingToolbarContainerVM().showTools(this.get_shouldShowTools());this.get_paneTableVM().get_floatingToolbarContainerVM().shouldEnablePanAndZoom(!this.get_shouldDisablePanTool());this.get_paneTableVM().get_floatingToolbarContainerVM().updateZoomHomeState(!this.get_paneTableVM().shouldEnableZoomHomeToolbar())}},updateMapsSearchView:function(){if(this.get_paneTableVM().get_mapSearchEnabled()){if(ss.isNullOrUndefined(this.get_paneTableVM().get_mapsSearchViewModel())||ss.isNullOrUndefined(this.mapsSearchView)){this.$b();this.buildMapsSearchView()}this.addMapsSearchViewToDomIfNeeded()}else{this.removeMapsSearchViewFromDomIfNeeded()}},$b:function(){this.get_paneTableVM().set_mapsSearchViewModel(new X(this.get_paneTableVM().get_visualId()));this.get_paneTableVM().get_mapsSearchViewModel().add_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().get_mapsSearchViewModel().remove_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds))})))},buildMapsSearchView:function(){this.mapsSearchView=tab.ObjectRegistry.newView(W).call(null,[this.get_paneTableVM().get_mapsSearchViewModel()]);this.makeMapsSearchViewConnections();this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.mapsSearchView.addClass('tabSuppressVizTooltipsAndOverlays')},addMapsSearchViewToDomIfNeeded:function(){if(!this.$S){this.mapsSearchView.addToDom(this.dom.view);this.$S=true}},removeMapsSearchViewFromDomIfNeeded:function(){if(ss.isValue(this.mapsSearchView)){if(this.$S){var L=this.mapsSearchView.element[0].parentNode;if(ss.isValue(L)){L.removeChild(this.mapsSearchView.element[0]);this.$S=false}}this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableVM().get_mapsSearchViewModel().setVisible(false)}},handlePropertyChanged:function(L,bQ){switch(bQ.get_propertyName()){case'vizNavigationSetting':{this.$a();this.makeInputHandlers();break}case'borderHighlight':{this.dom.borders.toggleClass('tvBorderHighlight',this.get_paneTableVM().get_highlightBorder());break}case'images':{this.$p();break}default:{break}}},updateTooltipMode:function(L){if(ss.isValue(this.vizTooltip)&&L.get_tooltipMode()!==this.vizTooltip.get_currentTooltipMode()){this.vizTooltip.close();this.vizTooltip.dispose();this.vizTooltip=null}},$I:function(L){if(this.get_paneTableVM().get_hasTitle()){if(ss.isValue(this.$13)){return}this.dom.title.css('display','');var bQ=new tab.TextRegionViewModel(L.get_titleModel());bQ.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var bR=bQ;this.$13=new tab.TextRegionView(bR);this.$12='title'+this.$g();this.$13.element.attr('id',this.$12);this.$13.addToDom(this.dom.title)}else if(ss.isValue(this.$13)){this.dom.title.css('display','none');this.$13.get_viewModel().dispose();this.$13=null}},$C:function(L){if(this.get_paneTableVM().get_hasCaption()){if(ss.isValue(this.$O)){return}this.dom.caption.css('display','');var bQ=new tab.TextRegionViewModel(L.get_captionModel());bQ.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var bR=bQ;this.$O=new tab.TextRegionView(bR);this.$N='caption'+this.$g();this.$O.element.attr('id',this.$N);this.$O.addToDom(this.dom.caption)}else if(ss.isValue(this.$O)){this.dom.caption.css('display','none');this.$O.get_viewModel().dispose();this.$O=null;this.$N=''}},$B:function(){if(ss.isNullOrUndefined(this.$R)){var L='instructions'+this.$g();this.$R=$('<div/>').attr('id',L).css('display','none');this.$R.appendTo(this.dom.enclosingDiv)}var bQ=tab.Strings.AccessibilityClearSelectionInstructions+' '+(bg.isViewDataAccessEnabled()?tab.Strings.AccessibilityViewDataInstructions:tab.Strings.AccessibilityViewDataDisabled);this.$R.text(bQ)},$A:function(){this.dom.view.attr('tabindex','0').attr('role','img').attr('aria-describedby',ss.coalesce(this.$N,'')+' '+(ss.isValue(this.$R)?this.$R[0].id:''));if(this.get_paneTableVM().get_hasTitle()){this.dom.view.removeAttr('aria-label').attr('aria-labelledby',this.$12)}else{this.dom.view.removeAttr('aria-labelledby').attr('aria-label',tab.Strings.AccessibilityDataVisualizationTitleAttr)}},$y:function(){var L=this.dom.view;L.focus(ss.mkdel(this,function(bQ){tab.SelectionClientCommands.setActiveZone(this.get_paneTableVM().get_zonePresModel().zoneId,null);this.$B()}));this.dom.domRoot.focus(ss.mkdel(this,function(bQ){tab.SelectionClientCommands.setActiveZone(this.get_paneTableVM().get_zonePresModel().zoneId,null)}));L.keydown(ss.mkdel(this,function(bQ){if(bQ.which===13&&bg.isViewDataAccessEnabled()&&ss.referenceEquals(bQ.target,bQ.currentTarget)){bQ.preventDefault();bQ.stopPropagation();tab.ToolbarServerCommands.exportData()}else if(bQ.which===27){bQ.preventDefault();bQ.stopPropagation();this.clearSelection()}}))},$g:function(){return tab.ModelUtils.findContentDashboard().getViewId(this.get_sheetid())},$G:function(){if(this.get_paneTableVM().get_isMap()){var L=ss.isNullOrUndefined(this.get_paneTableVM().get_mapScaleViewModel())||ss.isNullOrUndefined(this.$V);if(L&&ss.isValue(this.get_paneTableVM().get_mapServerModel())){this.get_paneTableVM().set_mapScaleViewModel(new tab.MapScaleViewModel(this.get_paneTableVM().get_mapServerModel().get_mapScaleInfoModel()));this.$V=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[tab.MapScaleViewModel,tab.MapScaleComponent,Object])).call(null,[this.get_paneTableVM().get_mapScaleViewModel()]);this.$V.addToDom(this.dom.view)}}else if(ss.isValue(this.$V)){this.$V.dispose();this.$V=null}},$E:function(){var L=this.get_paneTableVM().get_mapServerModel();if(ss.isValue(L)&&L.get_hasPresModel()&&L.get_isAttributionVisible()){if(ss.isNullOrUndefined(this.$U)){this.$U=new U;this.$U.attributionBackground.css('background-color',L.get_attributionBGColor());this.$U.attributionLink.text(L.get_attributionText());this.$U.attributionLink.css('color',L.get_attributionTextColor());this.$U.attributionLink.css('font-size',L.get_attributionTextSize());this.$U.attributionLink.attr('href',L.get_attributionUrl());this.$U.attributionLink.attr('target','_blank');this.dom.view.append(this.$U.domRoot);this.$F()}}else if(ss.isValue(this.$U)){this.$U.dispose();this.$U=null}},$F:function(){if(ss.isValue(this.$U)){var L=1;var bQ=1;var bR=this.get_vizRegion().get_contentProvider().get_effectiveViewSize();var bS=this.get_vizRegion().get_contentProvider().get_docSize();var bT=Math.min(0,bR.h+this.$10.y-bS.h);bT+=L;var bU=Math.min(0,-this.$10.x);bU+=bQ;this.$U.domRoot.css('bottom',bT+'px');this.$U.domRoot.css('left',bU+'px')}},$k:function(){var L=this.get_paneTableVM().get_cacheUrlInfo();this.refreshImages(L)},$H:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_vizRegion().$1();var L=ss.getEnumerator(Object.keys(this.get_paneTableVM().get_vizRegionMap()));try{while(L.moveNext()){var bQ=L.current();var bR=tab.ModelUtils.visualPartToRegionMap[bQ];if(ss.isValue(bR)&&ss.isValue(this.regions[bR])){var bS=this.regions[bR].get_contentProvider();if(!ss.isNullOrUndefined(bS)&&!ss.referenceEquals(bS.get_viewModel(),this.get_paneTableVM().get_vizRegionMap()[bQ])){bS.destroy();bS=null}if(ss.isNullOrUndefined(bS)){var bT=this.regionParts.getSelectorForRegion(bR);if(ss.isValue(bT)){var bU=this.get_paneTableVM().get_vizRegionMap()[bQ];var bV=new bw(bU,this.getDomNodeForContentRegion(bT),this.get_paneTableVM());bT.find('.tvimagesContainer').append(bV.element);this.updateRegionContentProvider(bR,bV);bV.invalidate(false);this.$M=null}}else{this.regions[bR].$1()}}}}finally{L.dispose()}var bW=ss.getEnumerator(Object.keys(tab.ModelUtils.visualPartToRegionMap));try{while(bW.moveNext()){var bX=bW.current();var bY=tab.ModelUtils.visualPartToRegionMap[bX];if(!ss.keyExists(this.get_paneTableVM().get_vizRegionMap(),bX)&&ss.isValue(this.regions[bY])&&ss.isValue(this.regions[bY].get_contentProvider())){this.regions[bY].get_contentProvider().destroy();this.regions[bY].set_contentProvider(null)}}}finally{bW.dispose()}}},$h:function(){return this.$11+'Z'+this.$Z},handleMoveMapToBounds:function(L){if(ss.isValue(this.get_vizRegion())&&tab.FeatureParamsLookup.getBool(19)){this.get_vizRegion().moveMapToBounds(L)}},$a:function(){var L={tap:ss.mkdel(this,function(bT){bT.stopPropagation();bT.preventDefault();this.clearSelection()})};var bQ=ss.mkdel(this,function(bT){this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(bT.get(0),L))});for(var bR=0;bR<bi.regionsThatClearSelectionOnTap.length;bR++){var bS=bi.regionsThatClearSelectionOnTap[bR];bQ(this.regionParts.getSelectorForRegion(bS))}},$n:function(){tab.ViewController.add_selectionChanged(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ViewController.remove_selectionChanged(ss.mkdel(this,this.$o))})))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);var L=ss.mkdict(['top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(L);this.handleNewVisual();if(this.get_paneTableVM().get_visualModel().get_isVisualValidAndUpToDate()){this.$k()}if(tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){this.get_paneTableVM().get_vizRegionToolModeViewModel().initializeToolModesForVizRegion(!this.get_shouldDisablePanTool())}else{this.get_paneTableVM().get_vizRegionToolModeViewModel().initializeToolModesForVizRegion(this.allowPanZoomActions())}},checkForSuppressTooltipsAndOverlays:function(L){var bQ=$(L);var bR=bQ.hasClass('tabSuppressVizTooltipsAndOverlays')||bQ.parents('.tabSuppressVizTooltipsAndOverlays').length>0;if(bR){this.disposeOfOverlayImages();var bS=this.get_vizToolTip();bS.clearTooltipWithFakeHover()}this.get_vizToolTip().suppress(bR)},$e:function(){if(ss.isNullOrUndefined(this.vizTooltip)||!this.get_isSameVisualID()){this.vizTooltip=this.makeTooltip();this.connectTooltipEventHandlers()}}},ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),tab.IPaneTableView,P]);ss.initClass(bh,a,{add_vizRegionMapChange:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_vizRegionMapChange:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_newPaneTable:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_newPaneTable:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_textUpdated:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_textUpdated:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_differentMarkBrushing:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_differentMarkBrushing:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_differentMarkSelection:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_differentMarkSelection:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},get_isMap:function(){return this.$x.get_isMap()},get_isMapWithBaseLayer:function(){return this.get_isMap()&&this.get_mapServerModel().get_hasPresModel()},get_mapSearchEnabled:function(){return tsConfig.allow_filter&&this.get_isMap()&&this.get_visualModel().get_geoSearchVisibility()==='on'&&!tab.ApplicationModel.get_instance().get_isOffline()},get_tooltipContextProvider:function(){return(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?new tab.TooltipContextProvider(this.get_visualModel().get_selectionsModel()):null)},get_scene:function(){return this.$v},get_vizRegionMap:function(){return this.$z},get_refLineVisualLists:function(){return this.$n().get_refLineVisualLists()},get_trendLineVisualLists:function(){return this.$n().get_trendLineVisualLists()},get_drawFirstParts:function(){return this.$n().get_drawFirstParts()},get_drawLastParts:function(){return this.$n().get_drawLastParts()},get_zonePresModel:function(){return this.$x.get_zone().pm},get_viewController:function(){return this.$2$6},set_viewController:function(L){this.$2$6=L},get_sheetId:function(){return this.get_visualModel().get_worksheetName()},get_sortIndicators:function(){return this.$x.get_sortIndicatorsModel().get_sortIndicatorsPresModel()},get_selectionsModel:function(){return this.$x.get_selectionsModel()},get_cacheUrlInfo:function(){return this.$x.get_cacheUrlInfo()},get_hasTitle:function(){return this.get_zonePresModel().zoneCommon.hasTitle},get_hasCaption:function(){return this.get_zonePresModel().hasCaption},get_visualModel:function(){return this.$x},$n:function(){return this.$x.get_sceneModel()},get_visualId:function(){return this.$x.get_visualId()},get_mapServerModel:function(){return this.get_visualModel().get_mapServerModel()},get_mapsSearchViewModel:function(){return this.$t},set_mapsSearchViewModel:function(L){this.$t=L},get_mapScaleViewModel:function(){return this.$s},set_mapScaleViewModel:function(L){this.$s=L},get_vizRegionToolModeViewModel:function(){return this.$y},get_floatingToolbarContainerVM:function(){return this.$2$7},set_floatingToolbarContainerVM:function(L){this.$2$7=L},get_smoothTooltipsOnboardingVM:function(){return this.$2$8},set_smoothTooltipsOnboardingVM:function(L){this.$2$8=L},get_highlightBorder:function(){return this.borderHighlighted},set_highlightBorder:function(L){if(this.borderHighlighted===L){return}this.borderHighlighted=L;this.notifyPropertyChanged('borderHighlight')},$i:function(){var L=$.Deferred();this.deferredResizerFactory=L.promise();if(tsConfig.is_authoring&&(tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')||tab.FeatureFlags.isEnabled('WebAuthoringResizeHeadersPhase2'))){tab.ModuleManager.load(tab.IResizeHeadersModule).call(null,[]).done(function(bQ){L.resolve(bQ)})}},$h:function(){if(tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')&&tsConfig.is_authoring&&ss.isValue(this.$x.resizeInfoModel)){var L=$.Deferred();this.deferredHeaderResizerManagerViewModel=L.promise();this.deferredResizerFactory.done(ss.mkdel(this,function(bQ){L.resolve(bQ.newHeaderResizerManagerViewModel(this.$x.resizeInfoModel,this.$x.get_visualId()))}))}},$g:function(){if(tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeadersPhase2')&&tsConfig.is_authoring&&ss.isValue(this.$x.resizeInfoModel)){var L=$.Deferred();this.deferredCellResizerManagerViewModel=L.promise();this.deferredResizerFactory.done(ss.mkdel(this,function(bQ){L.resolve(bQ.newCellResizerManagerViewModel(this.$x.resizeInfoModel,this.$x.get_visualId()))}))}},dispose:function(){if(ss.isValue(this.$t)){this.$t.dispose()}if(ss.isValue(this.$s)){this.$s.dispose()}if(ss.isValue(this.$x)){if(ss.isValue(this.$x.get_selectionsModel().tupleSelection)){this.$x.get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$c))}this.$x.get_impliedSelectionModel().remove_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$x.get_brushingsModel().tupleSelection)){this.$x.get_brushingsModel().remove_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$x.get_sceneModel())){this.$x.get_sceneModel().remove_newSceneModel(ss.mkdel(this,this.$b))}if(ss.isValue(this.$x.get_labelsModel())){this.$x.get_labelsModel().remove_newSceneModel(ss.mkdel(this,this.$b))}this.$x.remove_newHiddenTuples(ss.mkdel(this,this.$8));this.$x.remove_newFilteredTuples(ss.mkdel(this,this.$7));this.$x.remove_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$x.remove_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$x.remove_vizNavigationSettingChanged(ss.mkdel(this,this.$f));this.$x.remove_newVisual(ss.mkdel(this,this.$e));this.$x.remove_newVisual(ss.mkdel(this,this.$a));this.$x.remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6));this.$p=tab.MiscUtil.dispose$1(this.$p)}var L=new ss.ObjectEnumerator(this.$z);try{while(L.moveNext()){var bQ=L.current();bQ.value.dispose()}}finally{L.dispose()}this.$y.dispose();this.get_floatingToolbarContainerVM().dispose();this.get_smoothTooltipsOnboardingVM().dispose();spiff.BaseViewModel.prototype.dispose.call(this)},getAndClearInvalidationRects:function(){var L=this.$r;this.$r=[];return L},handleAnnotationClicked:function(L){var bQ=this.get_visualModel().get_worksheetName();tab.RichTextClientCommands.createAnnotationRichTextEditor(bQ,L);tab.FormattingTelemetryClient.logRichTextEditorEvent(['RichTextEditorOpenedBy','DoubleClick','RichTextEditorOpenedFrom','Annotation'])},$9:function(){this.notifyPropertyChanged('images')},$f:function(){this.notifyPropertyChanged('vizNavigationSetting')},$c:function(){var L=this.$x.get_selectionsModel().computeSelectionsDiff(this.$w,this.$q,this.$x.get_impliedSelectionModel());if(!ss.staticEquals(this.$2$5,null)&&bh.$0(L,this.$x.get_selectionsModel(),this.$x.get_impliedSelectionModel())){this.$2$5()}this.$w=this.$x.get_selectionsModel().createSelectionsToken();this.$q=this.$x.get_impliedSelectionModel().createSelectionToken();this.$l(L,'selection')},$3:function(){var L=this.$x.get_brushingsModel().computeSelectionsDiff(this.$o,null,null);if(!ss.staticEquals(this.$2$4,null)&&bh.$0(L,this.$x.get_brushingsModel(),null)){this.$2$4()}this.$o=this.$x.get_brushingsModel().createSelectionsToken();this.$v.setEmptyHighlightFogAll(this.$x.get_emptyHighlightFogAll());this.$l(L,'brushing')},$l:function(L,bQ){if(!L.get_invalidateViz()){if(L.get_objectIds().length===0){return}var bR=this.$v.getMarksInvalidationRects(L.get_objectIds());this.$2(bR)}this.notifyPropertyChanged(bQ)},$4:function(){this.$v.setIsTargetOfBrushingAction(this.$x.get_isBrushedFromAction());this.notifyPropertyChanged('brushing')},$6:function(){this.$v.setEmptyHighlightFogAll(this.$x.get_emptyHighlightFogAll());this.$u=true},$8:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$x.get_hiddenTuples(),this.$v.get_hiddenTuples());if(L.length===0){return}var bQ=this.$v.getMarksInvalidationRects(L);this.$2(bQ);this.$v.set_hiddenTuples(this.$x.get_hiddenTuples());this.notifyPropertyChanged('scene')},$7:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$x.get_filteredTuples(),this.$v.get_filteredTuples());if(L.length===0){return}var bQ=this.$v.getMarksInvalidationRects(L);this.$2(bQ);this.$v.set_filteredTuples(this.$x.get_filteredTuples());this.notifyPropertyChanged('scene')},$5:function(){this.$u=true},$2:function(L){ss.arrayAddRange(this.$r,L)},$d:function(){this.notifyPropertyChanged('scene')},$b:function(){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var L=false;var bQ=ss.getEnumerator(Object.keys(this.$n().get_visualListModels()));try{while(bQ.moveNext()){var bR=bQ.current();var bS=this.$n().get_visualListModels()[bR];var bT=this.$z[bR];if(ss.isValue(bT)&&ss.referenceEquals(bT.get_visualList(),bS)){}else{tab.MiscUtil.dispose$1(this.$z[bR]);delete this.$z[bR];if(ss.contains(bh.blackListVisualParts,bR)){this.$z[bR]=new bF(bS,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[bR],this.$x.get_selectionsModel(),this.$x.get_brushingsModel())}else{this.$z[bR]=new bF(bS,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[bR],null,null)}L=true}}}finally{bQ.dispose()}var bU=Object.keys(this.$z);var bV=ss.getEnumerator(bU);try{while(bV.moveNext()){var bW=bV.current();if(!ss.keyExists(this.$n().get_visualListModels(),bW)){tab.MiscUtil.dispose$1(this.$z[bW]);delete this.$z[bW];L=true}}}finally{bV.dispose()}var bX=(this.$n().get_backgroundColor()||this.get_visualModel().get_backgroundColor()).toString();var bY=ss.getEnumerator(Object.keys(this.$z));try{while(bY.moveNext()){var bZ=bY.current();this.$z[bZ].set_defaultBackgroundColor(bX)}}finally{bY.dispose()}if(L){this.$k()}this.$u=true},$e:function(){if(this.$u){this.$m();this.notifyPropertyChanged('scene')}this.$u=false},$k:function(){if(ss.isValue(this.$2$1)){this.$2$1()}},$m:function(){bh.updateSceneInfoFromVisualModel(this.$v,this.$x);if(this.$v.customShapes.length>0){this.$p=this.$p||new bs(ss.mkdel(this,function(){this.notifyPropertyChanged('images')}));this.$p.initialize(this.$v.customShapes)}if(ss.isValue(this.$x)&&ss.isValue(this.$x.pm)&&ss.isValue(this.$x.pm.imageDictionary)){this.$v.updateImageMap(this.$x.pm.imageDictionary,ss.mkdel(this,this.$9))}},isInvalidSheet:function(){return _.any(this.$x.get_invalidSheets(),ss.mkdel(this,function(L){return _.isEqual(this.get_visualId(),L)}))},$a:function(){this.raiseActionEvent(this.$2$2)},shouldEnableZoomHomeToolbar:function(){return this.get_visualModel().get_hasModifiedAxes()},$j:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,tab.IPaneTableViewModel]);ss.initClass(bi,a,{$0:function(){var L={};L['uleft']=this.$1.topLeftSpacer;L['uright']=this.$1.topRightSpacer;L['lleft']=this.$1.bottomLeftSpacer;L['lright']=this.$1.bottomRightSpacer;L['title']=this.$1.title;L['caption']=this.$1.caption;L['xheader']=this.$1.xLabel;L['yheader']=this.$1.yLabel;L['leftaxis']=this.$1.leftAxis;L['rightaxis']=this.$1.rightAxis;L['bottomaxis']=this.$1.bottomAxis;L['topaxis']=this.$1.topAxis;L['viz']=this.$1.view;return L},getSelectorForRegion:function(L){return this.$2[L]}});ss.initClass(bj,a,{get_hitTestingBox:function(){return((this.$k.length===0)?{x:0,y:0,w:0,h:0}:tab.RectXYUtil.nonemptyify(this.$g(true)))},get_autoScrollAdjustment:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?this.get_autoScrollOffset():{x:0,y:0})},isSingleSelect:function(){return this.$k.length===0},$g:function(L){var bQ=(L?this.$l:this.$k);var bR=bQ[0].x;var bS=bR;var bT=bQ[0].y;var bU=bT;for(var bV=0;bV<bQ.length;bV++){var bW=bQ[bV];if(bW.x<bR){bR=bW.x}else if(bW.x>bS){bS=bW.x}if(bW.y<bT){bT=bW.y}else if(bW.y>bU){bU=bW.y}}return{x:bR,y:bT,w:bS-bR,h:bU-bT}},updateSpecificShape:function(L){if(this.$k.length===0){var bQ=this.get_dragStart().x-this.get_connectNodePos().x;var bR=this.get_dragStart().y-this.get_connectNodePos().y;this.$d(bQ,bR)}var bS=L.x;var bT=L.y;this.$d(bS,bT)},renderShape:function(){if(ss.isNullOrEmptyString(this.$p)){return}this.get_dom().find('svg path').attr('d',this.$p);this.$i=tab.MiscUtil.clearTimeout(this.$i);this.$i=window.setTimeout(ss.mkdel(this,function(){this.$f()}),300);this.get_dom().css('display','')},$f:function(){this.$i=tab.MiscUtil.clearTimeout(this.$i);this.get_dom().find('svg path').attr('d',this.$p+'Z')},show:function(){this.$e();this.renderShape();this.get_dom().find('.selectionShape').show()},hide:function(){this.get_dom().find('.selectionShape').hide()},shapeAreaHit:function(L,bQ,bR,bS){var bT=bR.get_objectId();var bU=bQ.markType;var bV=F.rectangleAreaHit(bQ,bR.get_boundingBox(),L,bT,bS,bU);if(!bV){return false}var bW=0;var bX=0;if(bS.get_transformType()===3){bW=bS.get_translateX();bX=bS.get_translateY()}var bY=this.$h(bW,bX);return F.polyAreaHit(bQ,bR.get_boundingBox(),bY,bT,bS,bU)},sendSelectionCommand:function(L,bQ,bR,bS){tab.SelectionClientCommands.selectPolyRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$l,bQ,bR,bS)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bk)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var bQ=L;bQ.saveCurrentState(this.$l)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bk)){return true}}return false},$e:function(){ss.clear(this.$k);ss.clear(this.$l);ss.clearKeys(this.$j);this.$p='';this.$n=null;this.$o=null},$d:function(L,bQ){var bR=2;var bS=1;if(this.$m&&ss.isValue(this.$n)&&ss.isValue(this.$o)){if(Math.abs(L-ss.unbox(this.$n))<bR&&Math.abs(bQ-ss.unbox(this.$o))<bR){return}}var bT=L+this.get_drawOffsets().x+this.get_autoScrollAdjustment().x;var bU=bQ+this.get_drawOffsets().y+this.get_autoScrollAdjustment().y;var bV=L+this.get_totalScrollOffset().x;var bW=bQ+this.get_totalScrollOffset().y;var bX=false;var bY=false;var bZ=false;var ca=this.$l.length;if(this.$m){if(ca>1){var cb=this.$l[ca-1];var cc=this.$l[ca-2];var cd=Math.abs(bV-cc.x);var ce=Math.abs(bV-cb.x);var cf=Math.abs(bW-cc.y);var cg=Math.abs(bW-cb.y);bX=cf<=bS&&cg<=bS;if(bX){bX=bj.$0(bV,cb.x,cc.x)}else{bY=cd<=bS&&ce<=bS;if(bY){bY=bj.$0(bW,cb.y,cc.y)}else{bZ=cd*cg===cf*ce&&bj.$0(bV,cb.x,cc.x)}}}}var ch=ca-1;if(bX){this.$k[ch].x=bT;this.$l[ch].x=bV}else if(bY){this.$k[ch].y=bU;this.$l[ch].y=bW}else if(bZ){this.$k[ch].x=bT;this.$k[ch].y=bU;this.$l[ch].x=bV;this.$l[ch].y=bW}else{this.$k.push({x:bT,y:bU});this.$l.push({x:bV,y:bW})}this.$p='';var ci=this.get_autoScrollAdjustment();var cj='M';for(var ck=0;ck<this.$k.length;ck++){var cl=this.$k[ck];this.$p+=cj+(cl.x-ci.x)+','+(cl.y-ci.y);cj='L'}this.$n=L;this.$o=bQ},$h:function(L,bQ){var bR=0;var bS=this.$l.length;var bT=L.toString()+':'+bQ.toString();var bU=this.$j[bT];if(ss.isNullOrUndefined(bU)){bU=new Array(bS*2);this.$j[bT]=bU}else{bR=ss.Int32.div(bU.length,2);if(this.$m){bR-=1}bU.length=bS*2}var bV=Math.round(L);var bW=Math.round(bQ);for(var bX=bR,bY=bR*2;bX<bS;bX++,bY+=2){var bZ=this.$l[bX];bU[bY]=bZ.x-bV;bU[bY+1]=bZ.y-bW}return bU}},bt);ss.initClass(bk,a,{saveCurrentState:function(L){if(L.length<this.$1){}this.$0=ss.arrayClone(L)},updateLastState:function(){this.$1=Math.max(0,this.$0.length-1)},getStateDiff:function(){if(this.$0.length===0){return[]}var L=this.$0[0].y;var bQ=L;var bR=this.$0[0].x;var bS=bR;for(var bT=this.$1,bU=this.$0.length;bT<bU;bT++){L=Math.min(L,this.$0[bT].y);bQ=Math.max(bQ,this.$0[bT].y);bR=Math.min(bR,this.$0[bT].x);bS=Math.max(bS,this.$0[bT].x)}var bV=new Array(1);bV[0]=tab.RectXYUtil.nonemptyify({x:bR,y:L,w:bS-bR,h:bQ-L});return bV}},bu);ss.initClass(bl,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$e)},isSingleSelect:function(){return this.$d.w<=1&&this.$d.h<=1},updateSpecificShape:function(L){var bQ=this.get_dragStart().x-this.get_connectNodePos().x;var bR=this.get_dragStart().y-this.get_connectNodePos().y;var bS=Math.round(Math.min(L.x,bQ));var bT=Math.round(Math.max(L.x,bQ));var bU=Math.round(Math.min(L.y,bR));var bV=Math.round(Math.max(L.y,bR));var bW=bT-bS;var bX=bV-bU;this.$d={x:bS+this.get_drawOffsets().x,y:bU+this.get_drawOffsets().y,w:bW,h:bX};this.$e={x:bS+this.get_totalScrollOffset().x,y:bU+this.get_totalScrollOffset().y,w:bW,h:bX}},renderShape:function(){var L={l:this.$d.x,t:this.$d.y,w:this.$d.w,h:this.$d.h};tab.DomUtil.setMarginBoxJQ(this.get_dom(),L);this.get_dom().css('display','')},show:function(){this.get_dom().addClass('tvdrag_marquee')},hide:function(){this.get_dom().removeClass('tvdrag_marquee')},shapeAreaHit:function(L,bQ,bR,bS){return F.rectangleAreaHit(bQ,bR.get_boundingBox(),L,bR.get_objectId(),bS,bQ.markType)},sendSelectionCommand:function(L,bQ,bR,bS){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(L,this.get_hitTestingBox(),bQ,bR,bS,'default',null)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bm)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var bQ=L;bQ.saveCurrentState(this.get_hitTestingBox())}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bm)){return true}}return false}},bt);ss.initClass(bm,a,{saveCurrentState:function(L){this.$0=tab.RectXYUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.RectXYUtil.isEmpty(this.$1)){return tab.RectXYUtil.getChangedRects(this.$1,this.$0)}var L=new Array(1);L[0]=this.$0;return L}},bu);ss.initClass(bn,a,{get_neededWidth:function(){return this.$2},get_neededHeight:function(){return this.$1},get_scrollableWidth:function(){return this.$a},get_scrollableHeight:function(){return this.$9},get_scrollXLeft:function(){return this.$7},get_scrollYTop:function(){return this.$8},get_widthScrollOffset:function(){return this.$d},get_heightScrollOffset:function(){return this.$0},get_viewWidth:function(){return this.$c},get_viewHeight:function(){return this.$b},get_scrollWidth:function(){return this.$6},get_scrollHeight:function(){return this.$5},get_overallWidth:function(){return this.$4},get_overallHeight:function(){return this.$3},getVisibleGeometry:function(L,bQ,bR,bS){var bT={};bT.uleftArea=null;if(ss.isValue(L.uleft)){bT.uleftArea={l:L.uleft.x,t:L.uleft.y,w:Math.min(L.uleft.w,bQ-this.get_scrollWidth()),h:L.uleft.h}}bT.yheaderArea=null;if(ss.isValue(L.yheader)){bT.yheaderArea={l:L.yheader.x,t:L.yheader.y,w:Math.min(L.yheader.w,bQ-this.get_scrollWidth()),h:this.get_viewHeight()+bR}}bT.leftaxisArea=null;if(ss.isValue(L.leftaxis)){bT.leftaxisArea={l:L.leftaxis.x,t:L.leftaxis.y,w:L.leftaxis.w,h:this.get_viewHeight()+bR}}bT.rightaxisArea=null;if(ss.isValue(L.rightaxis)){bT.rightaxisArea={l:L.rightaxis.x-this.get_widthScrollOffset(),t:L.rightaxis.y,w:L.rightaxis.w,h:this.get_viewHeight()+bR}}bT.xheaderArea=null;if(ss.isValue(L.xheader)){bT.xheaderArea={l:L.xheader.x,t:L.xheader.y,w:this.get_viewWidth()+bS,h:L.xheader.h}}bT.bottomaxisArea=null;if(ss.isValue(L.bottomaxis)){bT.bottomaxisArea={l:L.bottomaxis.x,t:L.bottomaxis.y-this.get_heightScrollOffset(),w:this.get_viewWidth()+bS,h:L.bottomaxis.h}}bT.topaxisArea=null;if(ss.isValue(L.topaxis)){bT.topaxisArea={l:L.topaxis.x,t:L.topaxis.y,w:this.get_viewWidth()+bS,h:L.topaxis.h}}bT.urightArea=null;if(ss.isValue(L.uright)){bT.urightArea={l:L.uright.x-this.get_widthScrollOffset(),t:L.uright.y,w:Math.min(L.uright.w,bQ-this.get_scrollWidth()),h:L.uright.h}}bT.lleftArea=null;if(ss.isValue(L.lleft)){bT.lleftArea={l:L.lleft.x,t:L.lleft.y-this.get_heightScrollOffset(),w:L.lleft.w,h:L.lleft.h}}bT.lrightArea=null;if(ss.isValue(L.lright)){bT.lrightArea={l:L.lright.x-this.get_widthScrollOffset(),t:L.lright.y-this.get_heightScrollOffset(),w:L.lright.w,h:L.lright.h}}bT.vizArea=null;if(ss.isValue(L.viz)){bT.vizArea={l:L.viz.x,t:L.viz.y,w:this.get_viewWidth()+bS,h:this.get_viewHeight()+bR}}return bT}});ss.initClass(bo,a,{});ss.initClass(bp,a,{get_hasSelection:function(){return ss.isValue(this.selections)&&this.selections.get_hasPaneTableObjectSelection()},get_hasBrushing:function(){return this.$n||ss.isValue(this.brushings)&&this.brushings.get_hasPaneTableObjectSelection()||ss.isValue(this.$m)&&!this.$m.isEmpty||this.$h},get_imageDictionary:function(){return this.$k},get_hiddenTuples:function(){return this.$l},set_hiddenTuples:function(L){this.$l=L||new Map},get_isSingleUserPane:function(){return this.scene.panes.length===1&&ss.isNullOrUndefined(this.sceneUserPaneInfo)},get_filteredTuples:function(){return this.$i},set_filteredTuples:function(L){this.$i=L||new Map},get_runtimeData:function(){return this.$s},set_runtimeData:function(L){this.$s=L},setSceneData:function(L,bQ,bR,bS,bT,bU,bV,bW){this.$p.clear();this.$j.clear();this.$o.clear();this.$r.clear();this.$q.clear();this.sceneUserPaneInfo=null;this.scene=L;this.$s=bW;this.set_hiddenTuples(bU);this.set_filteredTuples(bV);if(ss.isValue(L)&&(ss.isValue(L.pdMarksMap)||ss.isValue(L.runtimeFinalDatastore))){var bX=bW.get_finalDataStore();this.customShapes=bp.extractCustomShapes(bW);if(ss.isValue(bX.AnnexedData.Panes)){var bY=bX.AnnexedData.Panes;if(ss.isValue(L.userPaneInfo)){this.sceneUserPaneInfo=new bq(L.userPaneInfo)}this.$d(bW);for(var bZ=0;bZ<bY.length;bZ++){var ca=bY[bZ];var cb=ca.DrawPanes;for(var cc=0;cc<cb.length;++cc){var cd=cb[cc];var ce=tab.EnumConversions.visualPartFromInt(cd[0]);var cf=cd[1];if(ce==='marks'){var cg=new tab.PaneMarksInfo.$ctor1(bW.get_finalDataStore().Viewpoint.PerPaneExtents,bW.get_paneStoreTable(),cf,L.currentPage,ca.Row,ca.Column);var ch=cg.get_paneKey();var ci=bp.getPaneMarksKey$1(ch,cg.get_paneId(),cf);var cj=new bb.$ctor1(ch,this,ca,cg,bT,ci,bW.get_finalDataStore(),cf);this.$r.set(ci,cj)}}}}}if(ss.isValue(bQ)){this.selections=bQ;this.$m=bR}if(ss.isValue(bS)){this.brushings=bS}this.colorModel=M.extractInteractionColors(this.scene)},getMarkBoundingBox:function(L){if(this.$p.has(L)){return this.$p.get(L)}else{return bp.$1}},$7:function(L,bQ){if(this.$q.has(L)&&bQ>=0&&bQ<this.$q.get(L).length){return this.$q.get(L)[bQ]}return null},computeFilteredMarks:function(L){var bQ=new Set;var bR=this.$i.size;if(bR===0){return bQ}var bS=0;if(!ss.isNullOrUndefined(L)){bS=L.length}for(var bT=0;bT<bS;bT++){var bU=L.v[(L.c?0:bT)];if(this.$i.has(bU.toString())){bQ.add(bT);if(bQ.size===bR){break}}}return bQ},computeTupleStates:function(L){var bQ=this.get_hasSelection();var bR=this.selections;var bS=(ss.isValue(bR)?bR.tupleSelection:null);var bT=new Set;if(ss.isValue(bS)){tab.SetUtilities.addAll(ss.Int32).call(null,bT,bS.get_ids())}var bU=this.get_hasBrushing();var bV=this.brushings;var bW=(ss.isValue(bV)?bV.tupleSelection:null);var bX=new Set;if(ss.isValue(bW)){tab.SetUtilities.addAll(ss.Int32).call(null,bX,bW.get_ids())}var bY=new Set;if(ss.isValue(this.$m)){tab.SetUtilities.addAll(ss.Int32).call(null,bY,this.$m.get_ids())}var bZ=0;if(!ss.isNullOrUndefined(L)){bZ=L.length}var ca=new Array(bZ);for(var cb=0;cb<bZ;cb++){var cc=L.v[(L.c?0:cb)];var cd='markStateNormal';if(this.$l.has(cc.toString())){cd='markStateInvisible'}else if(bQ&&bT.has(cc)){cd='markStateSelected'}else if(bU&&(bX.has(cc)||bY.has(cc))){cd='markStateHighlighted'}ca[cb]=cd}return ca},prepareForDraw:function(L){this.$4(L);this.$e()},cleanupFromDraw:function(){this.$3()},$6:function(L){if(this.$o.has(L)){return this.$o.get(L)}else{return bp.$1}},getMarksInvalidationRects:function(L){var bQ=[];for(var bR=0;bR<L.length;bR++){var bS=L[bR];var bT=this.$8(bS);for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];bQ.push(bV)}}return bQ},$8:function(L){var bQ=false;var bR=[];var bS=this.$s.get_panes();for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];if(_.isArray(bU.renderNodes)&&bU.renderNodes.length>0){bQ=true;break}}var bV=this.getPaneDrawInfoFromTupleId(L);if(ss.isNullOrUndefined(bV)){return bR}var bW=bV.markType;if(bQ){bR.push(bV.paneRect)}else if(bW==='area'||bW==='line'){bR.push(bV.paneRect)}else{var bX=this.$5(L);var bY=bV.getWorldOffsetBounds(bX);for(var bZ=0;bZ<bY.length;bZ++){var ca=bY[bZ];bR.push(ca)}var cb=this.$6(L);if(!tab.RectXYUtil.isNull(cb)){var cc=bV.getWorldOffsetBounds(cb);for(var cd=0;cd<cc.length;cd++){var ce=cc[cd];bR.push(ce)}}}return bR},updateImageMap:function(L,bQ){if(ss.isValue(L)&&ss.isValue(L.imageMap)){var bR=new ss.ObjectEnumerator(L.imageMap);try{while(bR.moveNext()){var bS=bR.current();var bT=bS.key;if(!this.$k.has(bT)){var bU=bS.value;var bV={$:document.createElement('img')};bV.$.src='data:image/jpeg;base64,'+bU;this.$k.set(bT,bV.$);var bW={$:null};bW.$=ss.mkdel({imgElt:bV,imageFinishedLoad:bW},function(){if(ss.isValue(bQ)){bQ()}this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)});bV.$.addEventListener('load',bW.$,false)}}}finally{bR.dispose()}this.$k.forEach(ss.mkdel(this,function(bX,bY){if(!ss.keyExists(L.imageMap,bY)){this.$k.delete(bY)}}))}},$b:function(L){return this.get_hasSelection()&&this.selections.tupleSelection.isObjectSelected(L)},$9:function(L){return this.get_hasBrushing()&&(ss.isValue(this.brushings)&&this.brushings.tupleSelection.isObjectSelected(L)||this.$a(L))},$a:function(L){return ss.isValue(this.$m)&&this.$m.isObjectSelected(L)},$c:function(L){return!this.$l.has(L.toString())},isMarkFiltered:function(L){return this.$i.has(L.toString())},setLabelInfo:function(L,bQ){var bR=L.get_finalDataStore().AnnexedData.LabelStore;if(ss.isValue(bR)&&ss.isValue(bR.Panes)){for(var bS=0;bS<bR.Panes.length;bS++){var bT=bR.Panes[bS];var bU=bT.DrawPanes;for(var bV=0;bV<bU.length;++bV){var bW=bU[bV];var bX=tab.EnumConversions.visualPartFromInt(bW[0]);var bY=bW[1];var bZ=new tab.PaneMarksInfo.$ctor1(L.get_finalDataStore().Viewpoint.PerPaneExtents,L.get_labelsPaneStoreTable(),bY,bQ,bT.Row,bT.Column);if(bX==='marks'){var ca=bp.getPaneMarksKey$1(bZ.get_paneKey(),bZ.get_paneId(),bY);if(this.$r.has(ca)){var cb=this.$r.get(ca);var cc=bZ.get_paneKey();var cd=bR.PDMarks[cc];cb.addLabelInfo(cd,bZ.get_startIndex(),bZ.get_endIndex())}}}}}},getPaneDrawInfo:function(L){var bQ=null;if(ss.isValue(L)){bQ=this.$r.get(bp.getPaneMarksKey(L))}return bQ},getPaneDrawInfo$1:function(L,bQ,bR){var bS=new tab.PaneMarksInfo.$ctor1(this.$s.get_finalDataStore().Viewpoint.PerPaneExtents,this.$s.get_paneStoreTable(),L,this.$f,bQ,bR);return this.$r.get(bp.getPaneMarksKey(bS))},getPaneDrawInfoFromKey:function(L){return this.$r.get(L)},getPaneDrawInfoFromTupleId:function(L){var bQ=null;tab.MapUtility.forEachWithInterrupt(String,bb).call(null,this.$r,function(bR){if(bR.containsTuple(L)){bQ=bR;throw new tab.LoopBreakException}});return bQ},setIsTargetOfBrushingAction:function(L){this.$n=L},setEmptyHighlightFogAll:function(L){this.$h=L},$2:function(L,bQ){bp.$0(L,bQ,this.$p)},$1:function(L,bQ){bp.$0(L,bQ,this.$o)},$0:function(L,bQ,bR){tab.RectXYUtil.offsetRectXYInPlace(bQ,L.paneRect.x,L.paneRect.y);for(var bS=0;bS<bR.length;bS++){var bT=bR[bS];this.$j.set(bT,bQ)}},$d:function(L){if(!ss.isValue(L)){return}var bQ=L.get_finalDataStore();var bR=bQ.Viewpoint.PerPaneExtents;var bS=bQ.PDMarks;var bT=_.keys(bS);for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];var bW=bS[bV];var bX=bW.MarkLayoutData.geoTable;if(!ss.isValue(bX)){continue}var bY=bW.MarkLayoutData.Parameters.pane_flags;var bZ=tab.SceneDataUtil.isPaneFlagSet(bY,'enable-scale-x')&&tab.SceneDataUtil.isPaneFlagSet(bY,'enable-scale-y');var ca=null;var cb=null;var cc=false;if(bZ){var cd=bQ.AnnexedData.Panes;for(var ce=0;ce<cd.length;ce++){var cf=cd[ce];for(var cg=0;cg<cf.DrawPanes.length;cg++){var ch=cf.DrawPanes[cg];var ci=ch;var cj=ci[1];if(ss.referenceEquals(bR.PaneKey[cj],bV)){ca=tab.DoubleRectXYUtil.constructDoubleRectXY(bR.DomainLeft[cj],bR.DomainTop[cj],bR.DomainRight[cj],bR.DomainBottom[cj]);cb=tab.RectXYUtil.constructRectXY(bR.pane_px_left[cj],bR.pane_px_top[cj],bR.pane_px_right[cj],bR.pane_px_bottom[cj]);cc=true;break}}if(cc){break}}}var ck=bX.length;var cl=new Array(ck);for(var cm=0;cm<ck;cm++){var cn;cl[cm]=null;if(ss.isInstanceOfType(bX[cm],Float32Array)){if(bX[cm].length<1){continue}var co=new tab.LinearFloatGeometryDecoder(bX[cm]);cn=co.processEncodedGeometry()}else{var cp;if(ss.isInstanceOfType(bX[cm],Uint8Array)){cp=tab.Utf8TextDecoder.decode(bX[cm])}else{cp=bX[cm]}if(tab.MiscUtil.isNullOrEmpty$3(cp)){continue}cn=JSON.parse(cp)}if(z.isGeometryPresModelFeatureEmpty(cn)){continue}if(bZ&&cc){z.domainToPixelGeometry(cn,ca,cb,true)}cl[cm]=cn}this.$q.set(bV,cl)}},$5:function(L){var bQ=this.$j.get(L);if(ss.isNullOrUndefined(bQ)){bQ=this.getMarkBoundingBox(L)}return bQ},$4:function(L){this.$r.forEach(function(bQ){bQ.computeDirtyMarks(L)})},$3:function(){this.$r.forEach(function(L){L.clearDirtyMarks()})},$e:function(){this.$r.forEach(function(L){L.refreshMarkState()})}});ss.initClass(bq,a,{});bq.$0.prototype=bq.prototype;ss.initClass(br,a,{hitTest:function(L,bQ){var bR=new tab.HitTestSceneCmd;bR.c['pt1']=tab.PointUtil.toPresModel(L);bR.c['visualIdPresModel']=this.region.get_visualId();bR.invoke().done(ss.mkdel(this,function(bS){var bT=bS.$$c['sceneElements'];if(ss.isValue(bT)&&bT.length>0&&ss.isValue(this.paneTable)){var bU=new tab.SceneElementModel(bT[0]);var bV=bU.get_paneId();var bW=this.makePaneSpecId(bV.get_columnIndex(),bV.get_rowIndex());var bX=new G(bU);this.setCurrent(new bK(this.region,bW,bV.get_columnIndex(),bV.get_rowIndex(),L,bQ,bX))}else{this.setCurrent(null)}}))}},bL,[ss.IDisposable,tab.IVizHitTester]);ss.initClass(bs,a,{dispose:function(){this.$2=null;tab.ApplicationModel.get_instance().get_shapeManager().remove_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))},initialize:function(L){this.$3.clear();for(var bQ=0;bQ<L.length;bQ++){var bR=L[bQ];this.$0(bR)}this.$1()},$0:function(L){if(tab.SceneDataUtil.isCustomShape(L)&&!tab.ApplicationModel.get_instance().get_shapeManager().hasShape(L)){this.$3.add(L)}},onShapeLoaded:function(L){if(!this.$3.has(L)){return}this.$3.delete(L);this.$1()},$1:function(){if(this.$3.size===0&&ss.isValue(this.$2)){this.$2()}}},null,[ss.IDisposable]);ss.initClass(bv,a,{});ss.initClass(bw,a,{get_displayListRenderer:function(){return this.renderer},get_visualListVM:function(){return this.get_viewModel()},get_backgroundFillColor:function(){return this.$p.get_visualModel().get_backgroundColor()},$o:function(L,bQ){if(bQ.get_propertyName()==='images'){this.invalidate(false)}},performRender:function(){var L=tabBootstrap.MetricsController.createContext('RNDRRG'.toString(),32,null);try{this.get_displayListRenderer().clear();this.get_displayListRenderer().renderVisualList(this.get_visualListVM(),this.$p.get_scene().get_imageDictionary())}finally{if(ss.isValue(L)){L.dispose()}}},postRenderFinalPass:function(){this.get_displayListRenderer().renderCanvasBorders(this.get_visualListVM())},onViewModelPropertyChanged:function(L,bQ){if(bQ.get_propertyName()==='HoverNode'){var bR={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};this.invalidateRect(this.get_visualListVM().dirtyRect(bR),true)}else{ss.makeGenericType(bJ,[bF]).prototype.onViewModelPropertyChanged.call(this,L,bQ)}}},ss.makeGenericType(bJ,[bF]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bF]),spiff.IScrollable,N]);ss.initClass(bx,a,{$0:function(){this.$2=false;window.clearTimeout(this.$4);if(ss.isValue(this.$5)){this.$1(this.$5);this.$5=null}},$1:function(L){this.setState({visible:L.visible,transitionDurationMs:L.transitionDurationMs,transitionDelayMs:L.transitionDelayMs,animationId:this.state.animationId+1})},componentWillReceiveProps:function(L){var bQ=L.transitionDelayMs>0;var bR=this.$2&&bQ;if(bR){this.$5=L}else{this.$5=null;this.$1(L)}},shouldComponentUpdate:function(L,bQ){var bR=this.state.animationId!==bQ.animationId;return bR},componentWillUpdate:function(L,bQ){this.$2=true;var bR=bQ.transitionDelayMs+bQ.transitionDurationMs+200;this.$4=window.setTimeout(ss.mkdel(this,this.$0),bR)},componentWillUnmount:function(){window.clearTimeout(this.$4)},render:function(){var L={opacity:(this.state.visible?1:0),transitionDuration:tab.DomUtil.toMsString(this.state.transitionDurationMs),transitionDelay:tab.DomUtil.toMsString(this.state.transitionDelayMs)};return spiff.DOMElements.div({className:'tab-smooth-tooltips-tip',style:L,onTransitionEnd:this.$3},spiff.DOMElements.p({className:'tip-text',children:tab.Strings.SmoothTooltipsOnboardingText}))}},React.Component);ss.initClass(by,a,{$7:function(L){this.$a=true;this.$9=100;this.$8=(L?150:0);this.incrementProps()},$5:function(L){this.$a=false;this.$9=300;this.$8=(L?1000:0);this.incrementProps()},createSuppressTipCookie:function(){tab.CookieHelper.setCookie('twoFingerScrollOnboardingTipWasAcknowledged',true.toString(),'/',null)},$6:function(){var L=tab.CookieHelper.getValueForCookie('twoFingerScrollOnboardingTipWasAcknowledged');var bQ=tab.MiscUtil.toBoolean(L,false);return tab.FeatureFlags.isEnabled('SmoothTooltipsOnboarding')&&tsConfig.is_mobile&&!bQ},showTipImmediatelyIfNotSuppressed:function(){if(this.$6()){this.$7(false)}},hideTipWithDelayIfNotSuppressed:function(){if(this.$a){this.$5(true)}},hideTipImmediatelyIfNotSuppressed:function(){this.$5(false)},suppressTip:function(){if(this.$6()){this.$5(false);this.createSuppressTipCookie()}},createUpdatedProps:function(){return{visible:this.$a,transitionDurationMs:this.$9,transitionDelayMs:this.$8}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bz,a,{get_isDragTracking:function(){return false},get_isScrollable:function(){return this.get_contentProvider().get_canScrollX()||this.get_contentProvider().get_canScrollY()},get_name:function(){return this.get_regionPart().toString()},get_regionPart:function(){return this.$7},get_visualId:function(){return this.paneTableViewModel.get_visualId()},get_sheetid:function(){return this.$a},get_contentProvider:function(){return this.regionContent},set_contentProvider:function(L){if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}this.regionContent=L;if(ss.isValue(this.regionContent)){this.regionContent.add_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}},get_sceneInfo:function(){if(this.$7!=='viz'){return null}var L=ss.safeCast(this.regionContent,bd);if(ss.isNullOrUndefined(L)){return null}var bQ=L.get_viewModel();return bQ.get_scene()},get_visualListVM:function(){var L=this.get_contentProvider();return L.get_viewModel()},get_shapeSelector:function(){return this.$9},get_visualObjectBoundsComputerAndHitTester:function(){return this.$c},get_toolModeViewModel:function(){return this.$b},sendSelectionCommand:function(L,bQ,bR,bS){this.get_shapeSelector().sendSelectionCommand(L,bQ,bR,bS)},turnOnWindowLogging:function(){if(!ss.isValue(bz.windowLog)){bz.windowLog=tab.Logger.getLoggerWithName('WindowAppender')}},reset:function(){this.get_toolModeViewModel().handleDeferredModeChangeIfNeeded();if(this.shouldResetVisualState()){return}this.resetVisualState()},resetVisualState:function(){this.backgroundMap.removeMarkOverlay();this.setViewportBorderVisibility(false);this.hideDomDrag();this.$d=tab.MiscUtil.dispose$1(this.$d)},destroy:function(){this.disposables.dispose();this.allowPanZoomActions=null;if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent.destroy()}if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().remove_tileSourceChanged(ss.mkdel(this,this.$2))}this.backgroundMap.$6();this.backgroundMap.dispose();this.get_toolModeViewModel().remove_toolbarToolModeUpdated(ss.mkdel(this,this.updateForToolMode))},setGeometry:function(L,bQ,bR){if(ss.isValue(this.regionContent)){this.regionContent.set_actualViewSize({w:bQ.w,h:bQ.h});this.regionContent.reset(L,bR);this.backgroundMap.$b(L.w,L.h);this.$8={x:0,y:0,w:L.w,h:L.h};this.updateSelectorShape(this.get_toolModeViewModel().get_currentPointerToolMode())}},refreshImages:function(L){if(ss.isValue(this.regionContent)){this.regionContent.refreshImages(L)}},onZoomBoxMouseMove:function(L){this.onSelectorMouseMove(L,this.domPanZoomRect)},onMarqueeMouseMove:function(L){this.onSelectorMouseMove(L,this.$9)},onSelectorMouseMove:function(L,bQ){L.preventDefault();bQ.recordScrollingOffsets({x:this.scroller.get_scrollPos().x,y:this.scroller.get_scrollPos().y});var bR=bQ.get_connectNodePos();var bS=L.get_gestureInfo().pageX-bR.x;var bT=L.get_gestureInfo().pageY-bR.y;var bU=((bS<0)?bS:((bS>bR.w)?(bS-bR.w):0));var bV=((bT<0)?bT:((bT>bR.h)?(bT-bR.h):0));var bW=this.determineScrollDirection(0,bU);var bX=this.determineScrollDirection(1,bV);var bY=((Math.max(Math.abs(bU),Math.abs(bV))>15)?'fast':'slow');if(bW!==0||bX!==0){this.startScrolling(bW,bX,bY);bQ.constrainShape(L.get_gestureInfo())}else{this.stopScrolling();bQ.updateAndRenderShape(L.get_gestureInfo())}},onDoubleTapAxis:function(L){var bQ=this.toLocalCoordsEvent(L,false);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(this.get_contentProvider())){tab.EditAxisDialogCommands.showEditAxisDialogInServerRenderedMode(this.get_visualId(),bQ,this.get_regionPart());return}var bR=true;var bS=this.hitTestNodes(bQ);if(ss.isNullOrUndefined(bS)){return}if(this.get_regionPart()==='bottomaxis'){bR=tab.SelectionUtils.isQuantitative(bS)}if(bR){tab.EditAxisDialogCommands.showEditAxisDialogInBrowserRenderedMode(bS.node)}},debugWindowLog:function(L){if(ss.isValue(bz.windowLog)){}},toLocalCoords:function(L,bQ){var bR=this.getLocalOffsetPoint(bQ);var bS={x:L.x-bR.x,y:L.y-bR.y};return bS},toLocalCoordsRect:function(L,bQ){var bR=this.getLocalOffset(bQ);var bS={x:bR.x,y:bR.y};var bT={x:L.x-bS.x,y:L.y-bS.y,w:L.w,h:L.h};return bT},toLocalCoordsEvent:function(L,bQ){var bR={x:L.get_gestureInfo().pageX,y:L.get_gestureInfo().pageY};return this.toLocalCoords(bR,bQ)},getLocalOffset:function(L){var bQ=tab.DomUtil.getRectXY(this.connectNode);if(L||ss.isNullOrUndefined(this.regionContent)){return bQ}bQ.x-=this.regionContent.get_scrollPos().x;bQ.y-=this.regionContent.get_scrollPos().y;return bQ},getLocalOffsetPoint:function(L){var bQ=this.getLocalOffset(L);var bR={x:bQ.x,y:bQ.y};return bR},getPaneDrawInfoFromSelectionAnchor:function(L){var bQ=this.get_visualObjectBoundsComputerAndHitTester().$2(L,this.get_sceneInfo());if(bQ.length===0){return null}return this.get_sceneInfo().getPaneDrawInfoFromKey(bQ[0])},hitTestAnnotationsOnSelection:function(L){return this.get_visualObjectBoundsComputerAndHitTester().hitTestAnnotations(L,this.paneTableViewModel)},hitTestObjectsOtherThanAnnotations:function(L){var bQ=this.get_visualObjectBoundsComputerAndHitTester().hitTestMarks(L,true,this.$9,this.get_sceneInfo());var bR=this.hitTestVisualPartsHelper(L,bQ);return G.tieBreakHits(bQ,bR)},hitTestVisualPartsHelper:function(L,bQ){return(G.hasExactHit(bQ)?[]:this.get_visualObjectBoundsComputerAndHitTester().$3(L,this.paneTableViewModel))},hitTestMarksAgainstSelectionShape:function(){return this.get_visualObjectBoundsComputerAndHitTester().hitTestMarks(null,false,this.$9,this.get_sceneInfo())},selectNode:function(L,bQ,bR,bS){var bT=this.get_visualListVM();bT.selectNode(L,bQ,bR,bS)},hitTestNodes:function(L){var bQ=this.get_visualListVM();var bR=_.find(bQ.get_groupItemNodes(),function(bS){var bT=bS.extentsX||0;var bU=bS.extentsY||0;var bV={x:bT,y:bU,w:bS.extentsWidth,h:bS.extentsHeight};return tab.RectXYUtil.inRect(bV,L)});return bR},doSelectFromPoint:function(L,bQ,bR,bS){var bT=this.hitTestSingleMarksAndVisualParts(L,false);switch(bT.get_tooltipTargetType()){case'mark':{tab.SelectionClientCommands.selectMarksLocal([bT.get_id()],this.get_visualId(),bQ,false,function(){bR(bT)});break}case'visualparts':{var bU={x:L.x,y:L.y,w:1,h:1};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(this.$7,bU,bQ,this.get_visualId(),function(){bR(bT)},bS,null);break}default:{if(bT.get_hitType()!==0){bR(bT)}var bV=bS==='always-clear'||bS==='default'&&bQ==='simple';if(bV){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}break}}return bT},hitTestSingleMarksAndVisualParts:function(L,bQ){var bR={x:L.x,y:L.y,w:1,h:1};var bS=G.createEmptyHitTestResult();if(tsConfig.current_sheet_type!=='story'&&tab.FeatureFlags.isEnabled('RichTextEditingAnnotation')){var bT=this.hitTestAnnotationsOnSelection(bR);if(G.hasExactHit(bT)){bS=bT[0];if(!bQ){return bS}}}if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return bS}return G.tieBreak(bS,this.hitTestObjectsOtherThanAnnotations(bR))},doSelectMarkAndUbertipFromSelectionShape:function(L,bQ){var bR=G.getIdsFromHitTestResults(this.hitTestMarksAgainstSelectionShape(),false);if(tab.MiscUtil.isNullOrEmpty$2(bR)){if(L==='simple'){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}}else{tab.SelectionClientCommands.selectMarksLocal(bR,this.get_visualId(),L,true,bQ)}return bR},moveMapToBounds:function(L){if(this.paneTableViewModel.get_visualModel().get_shouldUpdate()){this.backgroundMap.splatOverlayToMapForTransition(bz.getCanvasElement(this.connectNode));this.setViewportBorderVisibility(true);this.backgroundMap.moveToBounds(L)}},isExistingSelection:function(){var L=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel().tupleSelection;return L.get_ids().length!==0},$0:function(L,bQ){if(bQ.get_propertyName()==='scene'||bQ.get_propertyName()==='vizdata'){this.get_visualObjectBoundsComputerAndHitTester().$0()}},$1:function(){this.get_contentProvider().set_scrollPos({x:0,y:0})},suppressTooltips:function(){},zoomPoint:function(L,bQ,bR,bS,bT){if(this.resetIsWaitingOnTransition){return}if(this.paneTableViewModel.get_visualModel().shouldDoLocalCommand()&&this.waitingOnPanZoomServerResponse!=='normal'){return}this.setWaitingOnPanZoomServerResponseState();this.suppressTooltips();var bU=(L.canDragH?bR:1);var bV=(L.canDragV?bR:1);var bW=bQ||this.getCenterPoint(L);var bX=((bR>1)?1:-1);this.backgroundMap.zoomOnPoint(bQ,bX);var bY=this.paneTableViewModel.get_visualModel().get_cacheUrlInfo();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isValue(bY)&&bY.useUrl){this.$d=new spiff.Glass;this.$d.show();this.animateZoomOnPoint(L,bW,bU,bV)}var bZ=ss.mkdel(this,function(){this.reset()});var ca=ss.mkdel(this,function(){var cb=1/bR;if(bS){tab.PanZoomCommands.zoomDoubleClick(bW,bR>1,bT,cb,bZ,this.$a)}else if(bR>1){tab.PanZoomCommands.zoomIn(bW,bW,cb,bZ,this.$a)}else{tab.PanZoomCommands.zoomOut(bW,cb,bZ,this.$a)}});this.doZoomWithDelay(ca,null)},makeDomDrag:function(){this.domPanZoomRect.createDomAndAppend(this.connectNode);this.domDragImage=$('<div></div>');this.addHiddenDiv(this.domDragImage,'tvdrag_image',this.domPanZoomRect.get_dom());this.domDragMask=$('<div></div>');this.addHiddenDiv(this.domDragMask,'tvdrag_mask',this.domPanZoomRect.get_dom())},hideDomDrag:function(){if(this.$7!=='viz'||!this.$4){return}this.domDragMask.css('display','none');this.domDragImage.css('display','none');this.domPanZoomRect.get_dom().css('display','none');this.get_shapeSelector().get_dom().css('display','none');this.domDragImage.html('');this.$4=false},showDomDragImage:function(L){this.$4=true;this.setViewportBorderVisibility(true);if(this.backgroundMap.get_enabled()){this.backgroundMap.splatOverlayToMapForTransition(bz.getCanvasElement(this.connectNode))}else{var bQ=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?this.scroller.get_scrollPos():{x:0,y:0});var bR={l:L.x-bQ.x+1,t:L.y-bQ.y+1,w:L.w+1-2,h:L.h+1-2};var bS=this.$6.clone();if(ss.isInstanceOfType(this.regionContent,bd)){var bT=bz.getCanvasElement(bS);var bU=tab.CanvasRenderer.getRenderContext(bT,'transparent');this.regionContent.copyContent(bU)}bS.removeClass();bS.addClass('tvdrag_imageContainer');this.domDragImage.append(bS);this.domDragImage.css('display','');var bV=1;tab.DomUtil.setMarginBoxJQ(bS,{l:-bR.l-bV,t:-bR.t-bV,w:tab.DoubleUtil.roundToInt(bS.width())-2,h:tab.DoubleUtil.roundToInt(bS.height())-2});tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:bQ.x+bV,t:bQ.y+bV,w:bR.w-2,h:bR.h-2});this.domDragMask.css('background-color',this.getPanZoomFillColor());this.domDragMask.css('display','');tab.DomUtil.setMarginBoxJQ(this.domPanZoomRect.get_dom(),bR);this.domPanZoomRect.get_dom().css('display','')}},getCenterPoint:function(L){var bQ=Math.floor(L.w/2)+L.x;var bR=Math.floor(L.h/2)+L.y;return{x:bQ,y:bR}},addHiddenDiv:function(L,bQ,bR){L.addClass(bQ);L.css('display','none');bR.append(L)},animateZoomOnPoint:function(L,bQ,bR,bS){var bT=((bR<1)?-1:((bR>1)?1:0));var bU=((bS<1)?-1:((bS>1)?1:0));var bV={x:bT,y:bU};var bW=this.getCenterPoint(L);var bX=Math.floor((bW.x-bQ.x)*bV.x*bR);var bY=Math.floor((bW.y-bQ.y)*bV.y*bS);var bZ={scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};bZ.translateX=bX;bZ.translateY=bY;bZ.scaleX=bR;bZ.scaleY=bS;bZ.time=777;this.showDomDragImage(L);this.animateZoomWithCSSTransitions(bZ)},mapIsBrowserRendered:function(){return this.backgroundMap.get_enabled()},animateAnchorZoomLeaflet:function(L,bQ,bR){this.showDomDragImage(L);if(this.mapIsBrowserRendered()){this.backgroundMap.animateAnchorZoom(bR,bQ)}},animateAnchorZoom:function(L,bQ,bR){var bS=1/bR;var bT=((L.x>0)?(bQ.x%L.x):bQ.x);var bU=((L.y>0)?(bQ.y%L.y):bQ.y);var bV={x:bT,y:bU};var bW={scaleX:bS,scaleY:bS,time:500,scale:1,translateX:0,translateY:0,transformOrigin:null};this.showDomDragImage(L);bW.transformOrigin=bV;this.animateZoomWithCSSTransitions(bW)},getPointLatLong:function(L){return this.backgroundMap.getPointLatLong(L)},animateZoomWithCSSTransitions:function(L){var bQ=this.domDragImage.get(0);this.get_toolModeViewModel().deferModeChanges();this.resetIsWaitingOnTransition=true;window.setTimeout(ss.mkdel(this,function(){tableau.util.transform(bQ,L);this.$5=true;var bR=500;window.setTimeout(ss.mkdel(this,function(){this.resetIsWaitingOnTransition=false;if(!this.get_toolModeViewModel().isDeferringModeChanges){this.reset()}}),bR)}),50)},stopScrolling:null,startScrolling:null,determineScrollDirection:null,onRegionContentLoadComplete:function(L,bQ){if(this.waitingOnPanZoomServerResponse==='waitingOnLocal'){this.waitingOnPanZoomServerResponse='waitingOnServer'}else if(this.waitingOnPanZoomServerResponse==='waitingOnServer'){this.waitingOnPanZoomServerResponse='normal'}if(this.$7==='viz'){if(!this.isScrolling&&this.$4){this.hideDomDrag()}if(this.$5){tableau.util.transform(this.domDragImage.get(0),null);this.$5=false}}},getPanZoomFillColor:function(){var L='rgb(255,255,255)';if(this.$7==='viz'){if(this.paneTableViewModel.get_mapServerModel().get_hasPresModel()){L=this.paneTableViewModel.get_mapServerModel().get_mapBGFillColor()}else if(ss.isValue(this.paneTableViewModel.get_scene().scene)){L=this.paneTableViewModel.get_scene().scene.bgColor}}return L},$2:function(){if(this.backgroundMap.get_enabled()){this.backgroundMap.$6()}this.$3()},$3:function(){if(this.$7!=='viz'){return}this.setViewportBorderVisibility(false);var L=this.paneTableViewModel.get_mapServerModel();if(L.get_hasPresModel()){if(L.get_useFastMaps()&&!this.backgroundMap.get_enabled()){this.backgroundMap.$3(this.backgroundDiv,this.paneTableViewModel.get_mapServerModel());if(ss.isValue(this.$8)&&!tab.RectXYUtil.isEmpty(this.$8)){this.backgroundMap.$b(this.$8.w,this.$8.h)}}}else{this.backgroundMap.$6()}},setViewportBorderVisibility:function(L){this.paneTableViewModel.set_highlightBorder(L)},updateForToolMode:function(L){this.updateSelectorShape(L)},updateSelectorShape:function(L){if(ss.isValue(this.$9)){if(ss.isValue(this.$9.get_dom())){this.$9.get_dom().remove()}this.$9=null}switch(L){case'lasso-selection':{this.$9=new bj(this.$8,tab.ApplicationModel.get_instance().get_isLocalRenderMode());break}case'radial-selection':{var bQ=this.paneTableViewModel.get_mapServerModel();this.$9=new n(this.$8,bQ.get_radialSelectionDistanceInfoModel());break}case'rectangular-selection':default:{this.$9=new bl;break}}this.$9.createDomAndAppend(this.connectNode)},shouldResetVisualState:function(){return!tsConfig.is_mobile&&this.resetIsWaitingOnTransition},doZoomWithDelay:function(L,bQ){var bR=this.paneTableViewModel.get_visualModel().shouldDoLocalCommand();if(ss.isValue(bQ)){bQ.done(function(bS){bR=bS})}if(bR){window.setTimeout(L,350)}else{L()}},setWaitingOnPanZoomServerResponseState:function(){var L=this.paneTableViewModel.get_visualModel();if(L.shouldDoLocalCommand()&&L.get_runtimeReady()){this.waitingOnPanZoomServerResponse='waitingOnLocal'}else{this.waitingOnPanZoomServerResponse='waitingOnServer'}},isWaitingOnPanZoomServerResponse:function(){return this.waitingOnPanZoomServerResponse!=='normal'},allowMapZoomAtCurrentLevel:function(L){if(L<1){var bQ=1;if(this.mapIsBrowserRendered()){bQ=this.backgroundMap.$h()}else{var bR=this.paneTableViewModel.get_mapServerModel();bQ=(bR.get_hasPresModel()?bR.get_zoom():1)}return tab.MapUtil.allowZoomAtCurrentLevel(bQ,1/L)}return true},updateLocalMapDataForZoomAround:function(L,bQ){this.backgroundMap.updateLocalMapDataForZoomAround(L,bQ)}});ss.initClass(bA,a,{add_loadComplete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_loadComplete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_actualViewSize:function(){return{w:this.$c.clientWidth,h:this.$c.clientHeight}},set_actualViewSize:function(L){},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.get_left(),y:this.get_top()}},set_scrollPos:function(L){this.set_left(L.x);this.set_top(L.y);this.$3(false)},get_canScrollX:function(){return this.get_docSize().w>this.get_effectiveViewSize().w},get_canScrollY:function(){return this.get_docSize().h>this.get_effectiveViewSize().h},get_docSize:function(){return{w:this.$f.w,h:this.$f.h}},get_left:function(){return this.$j},set_left:function(L){this.$j=L;if(this.$l){this.$c.scrollLeft=L}},get_top:function(){return this.$q},set_top:function(L){this.$q=L;if(this.$l){this.$c.scrollTop=L}},destroy:function(){this.$d.destroy();if(this.$n>0){this.$k.decrementWait();tab.ImageTileTracker.decrementPendingCount();this.$n=0}this.$g=null;this.$r=null},refreshImages:function(L){if(this.$2()){return}if(ss.isNullOrUndefined(L)){return}this.$b=L;this.$1();this.$3(!tab.ProgressiveLoader.get_progressiveLoadEnabled()||!this.$e);this.$e=false},reset:function(L,bQ){var bR=this.$f;this.$f=L;var bS=this.$m;this.$m=bQ;if(this.$2()){return}if(this.$4(bR,bS)){return}this.$o=Math.ceil(this.$f.w/this.$m.w);this.$p=Math.ceil(this.$f.h/this.$m.h);this.$8();this.$a()},$8:function(){this.$h.width(this.$f.w);this.$h.height(this.$f.h)},$a:function(){var L=this.$f.h-this.$c.offsetHeight;var bQ=this.$f.w-this.$c.offsetWidth;L=Math.max(0,L);bQ=Math.max(0,bQ);this.set_top(Math.min(this.get_top(),L));this.set_left(Math.min(this.get_left(),bQ))},$4:function(L,bQ){return tab.RegionRectUtil.sizesAreEqual(L,this.$f)&&tab.SizeUtil.equals(bQ,this.$m)},$2:function(){if(ss.isNullOrUndefined(this.$f)){return true}return this.$f.w===0&&this.$f.h===0},setXPos:function(L){this.set_scrollPos({x:L,y:this.get_scrollPos().y})},setYPos:function(L){this.set_scrollPos({x:this.get_scrollPos().x,y:L})},$0:function(L){var bQ=$(L);if(!!bQ.prop('_deferredClear')){bQ.prop('_deferredClear',null);bQ.empty()}},$3:function(L){if(!ss.isValue(L)){L=false}if(this.$2()){return}if(!ss.isValue(this.$b)){return}this.$d.clear();if(!ss.isValue(this.$k)){return}var bQ=this.get_left();var bR=bQ+this.$c.clientWidth;var bS=this.get_top();var bT=bS+this.$c.clientHeight;var bU=Math.max(Math.floor(bQ/this.$m.w),0);var bV=Math.min(Math.ceil(bR/this.$m.w),this.$o);var bW=Math.max(Math.floor(bS/this.$m.h),0);var bX=Math.min(Math.ceil(bT/this.$m.h),this.$p);var bY=this.$n;this.$n=Math.max((bV-bU)*(bX-bW),0);if(bY<=0&&this.$n>0){if(L){this.$k.incrementWait(false,true)}tab.ImageTileTracker.incrementPendingCount()}var bZ='';var ca=0;if(ss.isValue(this.$g)){bZ=this.$g()}if(ss.isValue(this.$r)){ca=this.$r.get_cacheVersion()}var cb=false;for(var cc=bU;cc<bV;cc++){var cd=Math.min(this.$m.w,this.$f.w-cc*this.$m.w);for(var ce=bW;ce<bX;++ce){var cf=Math.min(this.$m.h,this.$f.h-ce*this.$m.h);var cg=ce*this.$o+cc;var ch={l:cc*this.$m.w,t:ce*this.$m.h,w:cd,h:cf};var ci=this.$k.formatTileURL(this.$b,this.$f.r,cc,ce,'',bZ);if(ss.isValue(this.$i[cg])&&this.$i[cg].$0(ci,ca)){if(L){this.$9()}var cj=this.$i[cg].$2();var ck=cj.width!==ch.w||cj.height!==ch.h;if(ck){$(cj).css(ss.mkdict(['left',ch.l+'px','top',ch.t+'px']));tab.RenderUtil.ensureImageEltSize(cj,ch)}}else{cb=true;this.$i[cg]=this.$i[cg]||new k;var cl=new I(this.$i[cg].$2(),cg,ci,ch,ca);this.$d.addImage(cl)}}}if(!cb){this.$h.each(ss.mkdel(this,function(cm,cn){this.$0(cn)}))}},$1:function(){this.$i=[];this.$h.prop('_deferredClear',true)},$9:function(){if(this.$n>0){this.$n--;if(this.$n===0){this.$k.decrementWait();tab.ImageTileTracker.decrementPendingCount()}}},$5:function(L,bQ){this.$9();if(ss.isValue(bQ.get_image().get_imageNode())){var bR=bQ.get_image().get_imageNode();tab.RenderUtil.ensureImageEltSize(bR,bQ.get_image().get_bounds());var bS=bQ.get_image().get_index();var bT=this.$r.get_cacheVersion();if(!ss.isValue(this.$i[bS])){return}if((!ss.isValue(this.$i[bS].$2())||!ss.referenceEquals($(this.$i[bS].$2()).attr('src'),$(bR).attr('src')))&&bQ.get_image().get_version()===bT){this.$i[bS].$3(bR);this.$i[bS].$1=bT;var bU=bR;var bV=0;var bW=this.$h.length;this.$h.each(ss.mkdel(this,function(bX,bY){this.$0(bY);bY.appendChild(bU);if(bV<bW-1){bU=bU.cloneNode(false)}bV++}))}}},$6:function(L,bQ){this.$9()},$7:function(L,bQ){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}},null,[spiff.IScrollable,N]);ss.initClass(bB,a,{add_toolbarToolModeUpdated:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_toolbarToolModeUpdated:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_appendModeUpdated:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_appendModeUpdated:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},get_isAppendMode:function(){return this.$7},set_isAppendMode:function(L){if(this.$7!==L){this.$7=L;this.raiseActionEvent$1(Boolean).call(this,this.$2$2,this.$7)}},get_currentToolbarToolMode:function(){return this.$5},set_currentToolbarToolMode:function(L){if(tsConfig.allow_filter){this.$5=L}},get_currentPointerToolMode:function(){return((this.currentModifierKeyToolMode==='no-tools')?this.get_currentToolbarToolMode():this.currentModifierKeyToolMode)},get_isPanToolActive:function(){return this.get_currentPointerToolMode()==='pan-map'},get_isSelectingToolActive:function(){return this.get_currentPointerToolMode()==='rectangular-selection'||this.get_currentPointerToolMode()==='lasso-selection'||this.get_currentPointerToolMode()==='radial-selection'},get_isZoomToolActive:function(){return this.get_currentPointerToolMode()==='area-zoom'||this.get_currentPointerToolMode()==='zoom-out'},initializeToolModesForVizRegion:function(L){this.defaultPointerToolMode=this.$3(L);this.$5=this.defaultPointerToolMode;this.resetPointerToolMode()},setPointerToolMode:function(L){if(ss.isNullOrUndefined(L)){L=this.defaultPointerToolMode}this.$4(L)},$3:function(L){if(tsConfig.is_mobile){var bQ='pan-map';if(L||tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){if(L&&tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){bQ='pan-map'}else{bQ=this.$8;if(bQ==='area-zoom'){bQ='rectangular-selection'}}}return bQ}else{return this.$8}},updateDefaultToolMode:function(L){this.defaultPointerToolMode=this.$3(L)},setLockedPointerToolMode:function(L){this.$8=L},resetPointerToolMode:function(){this.setPointerToolMode(this.defaultPointerToolMode)},$4:function(L){if(!tsConfig.is_mobile){if(this.$2(L)){return}}this.set_currentToolbarToolMode(L);this.raiseActionEvent$1(Object).call(this,this.$2$1,L)},deferModeChanges:function(){this.isDeferringModeChanges=true},handleDeferredModeChangeIfNeeded:function(){if(tsConfig.is_mobile){return}this.isDeferringModeChanges=false;if(ss.isValue(this.$6)){var L=ss.unbox(this.$6);this.$6=null;this.currentModifierKeyToolMode='no-tools';this.$4(L)}},$2:function(L){if(this.isDeferringModeChanges){this.$6=L;return true}return false}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bC,a,{get_multiSelectCompleteBehavior:function(){return'disabled'},get_currentTooltipMode:function(){return'none'},getSingleSelectBehaviorCallback:function(L){return function(){}},buildBehaviorsDictionary:function(){var L=new tab.DisabledTooltipBehavior;this.tooltipBehaviors['disabled']=L},suppressHoverIfNecesary:function(){}},tab.TooltipBaseMode);ss.initClass(bD,a,{get_ubertipShouldEnforceButtonOrdering:function(){return true},get_currentTooltipMode:function(){return'smooth'},dispose:function(){var L=this.tooltipBehaviors['smooth'];L.remove_onMouseStop(ss.mkdel(this,this.$y));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().remove_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_closed(ss.mkdel(this,this.$z));this.$u();tab.TooltipBaseMode.prototype.dispose.call(this)},buildBehaviorsDictionary:function(){var L=tab.ObjectRegistry.newLegacyTooltipBehavior(tab.ITooltipBehavior).call(null,tab.ITooltipBehavior,this.get_tooltip());var bQ=new tab.SmoothTooltipBehavior(this.get_tooltip());this.tooltipBehaviors['sticky']=L;this.tooltipBehaviors['smooth']=bQ},getSingleSelectBehaviorCallback:function(L){return ss.mkdel(this,function(bQ){this.get_currentBehavior().singleSelectComplete(L);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}if(!this.isUbertipObjectSelected(bQ)){this.switchTooltipMode('smooth');this.$v();if(tab.FeatureFlags.isEnabled('TouchSmoothTooltips')&&tsConfig.is_mobile&&this.get_tooltip().get_isShown()){this.get_tooltip().close()}}})},shouldShowCommandButtons:function(){var L=tab.TooltipBaseMode.prototype.shouldShowCommandButtons.call(this);var bQ=this.get_ubertip().get_model();if(!L||ss.isNullOrUndefined(bQ)){return L}var bR=bQ.tupleId===0;if(!bR){L=this.isUbertipObjectSelected(bQ)}return L},getSingleSelectBehavior:function(L){return'sticky'},getHoverBehavior:function(L){var bQ=this.get_defaultBehaviorType();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(L==='header'||L==='visualparts'){bQ='sticky'}else if(L==='mark'){bQ='smooth'}else{}}else if(L==='header'){bQ='sticky'}else{bQ='smooth'}return bQ},onPanOrDragStart:function(L){this.$u();tab.TooltipBaseMode.prototype.onPanOrDragStart.call(this,L)},onDragEnd:function(L){this.get_tooltip().close();this.$t();tab.TooltipBaseMode.prototype.onDragEnd.call(this,L)},onBehaviorSwitch:function(){if(this.get_currentBehaviorType()==='smooth'){this.$t()}else{this.$u()}},$z:function(){this.get_ubertip().hideMenuActionsAndCommandButtons(true)},$w:function(L){if(this.readyForHover&&this.get_currentBehaviorType()==='smooth'&&this.get_isTooltipShown()){this.get_currentBehavior().onMouseMove(L)}},$x:function(L){if(this.get_currentBehaviorType()==='sticky'&&this.get_tooltip().isInSafeZone({x:L.pageX,y:L.pageY},false)){return}if(this.get_isTooltipShown()){this.get_tooltip().close()}},$y:function(L){if(ss.isNullOrUndefined(this.get_ubertip().get_model())){return}if(!this.$A){return}var bQ=false;var bR=this.isUbertipObjectSelected(this.get_ubertip().get_model());if(bR){bQ=this.switchTooltipMode('sticky')}this.$v();if(bQ&&this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},$v:function(){if(!this.get_tooltip().get_isShown()&&ss.isValue(this.get_tooltip().get_lastLocation())&&this.get_currentBehaviorType()==='sticky'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_tooltip().show(this.get_tooltip().get_body().children()[0],this.get_tooltip().get_lastLocation())}else if(this.get_tooltip().get_isShown()&&this.get_currentBehaviorType()==='smooth'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())){this.get_tooltip().close()}},$t:function(){if(this.$B){return}if(tsConfig.is_mobile){this.$C.on(this.$F,ss.mkdel(this,this.$w))}else{this.$C.on(this.$D,ss.mkdel(this,this.$w))}this.$C.on(this.$E,ss.mkdel(this,this.$x));this.$B=true},$u:function(){if(!this.$B){return}if(tsConfig.is_mobile){this.$C.off(this.$F)}else{this.$C.off(this.$D)}this.$C.off(this.$E);this.$B=false}},tab.TooltipBaseMode);ss.initClass(bE,a,{$3:function(L,bQ,bR){var bS={x:0,y:0,w:L.w,h:L.h};if(bQ>=0&&this.$g.$1){var bT=this.$g.$3[bQ];var bU=this.$g.$3[bQ+1];bS.x+=Math.round(bT);bS.w=Math.round(bU-bT)}if(bR>=0&&this.$g.$2){var bV=this.$g.$4[bR];var bW=this.$g.$4[bR+1];bS.y+=Math.round(bV);bS.h=Math.round(bW-bV)}return bS},$7:function(L){return this.$h[L]},$8:function(L){var bQ=this.$e[L];return this.$h[bQ]},$4:function(L){return this.$e[L]},$5:function(L){return this.$d[L+1]-this.$d[L]},$6:function(L){return{firstMark:this.$d[L],lastMark:this.$d[L+1]-1}},$2:function(L){var bQ=L.c.get('user_pane_col');var bR=L.c.get('user_pane_row');var bS=L.paneRect;var bT=L.markCount;var bU=0;var bV=-1;var bW=-1;var bX=ss.isNullOrUndefined(bR);var bY=ss.isNullOrUndefined(bQ);if(!bX||!bY){for(var bZ=0;bZ<bT;++bZ){var ca=(bY?-1:bQ.v[(bQ.c?0:bZ)]);var cb=(bX?-1:bR.v[(bR.c?0:bZ)]);if(ca!==bV||cb!==bW){this.$1(bZ,bU,ca,cb,bS);bV=ca;bW=cb;bU+=1}}}this.$d[bU]=bT;this.$0(bU);return bU},$0:function(L){if(L===0){return}var bQ=L-1;var bR=this.$d[bQ];var bS=this.$d[L];for(var bT=bR;bT<bS;++bT){this.$e[bT]=bQ}},$1:function(L,bQ,bR,bS,bT){if(ss.isValue(this.$c)){this.$c[bQ]=bR}if(ss.isValue(this.$f)){this.$f[bQ]=bS}this.$h[bQ]=this.$3(bT,bR,bS);this.$d[bQ]=L;this.$0(bQ)},$9:function(L){for(var bQ=0;bQ<this.$b;++bQ){var bR=this.$7(bQ);var bS=this.$6(bQ);var bT=bS.firstMark;var bU=bS.lastMark;for(var bV=bT;bV<=bU;++bV){L(bV,bR)}}},$a:function(L,bQ){var bR=-1;var bS=null;for(var bT=0;bT<L.length;bT++){var bU=L[bT];var bV=this.$e[bU];if(bV!==bR){bR=bV;bS=this.$7(bV)}bQ(bU,bS)}}});ss.initClass(bF,a,{get_visualList:function(){return this.$6},get_groupItemNodes:function(){return this.$6.get_groupItemNodes()},get_visualListPM:function(){return this.$6.get_visualListPresModel()},get_defaultBackgroundColor:function(){return this.$5},set_defaultBackgroundColor:function(L){this.$5=L},get_hoveredNodeOrAxis:function(){return this.$4},set_hoveredNodeOrAxis:function(L){if(!ss.referenceEquals(this.$4,L)){this.$7=this.$4;this.$4=L;this.notifyPropertyChanged('HoverNode')}},dirtyRect:function(L){var bQ={x:0,y:0,w:0,h:0};var bR=[this.$7,this.$4];for(var bS=0;bS<bR.length;bS++){var bT=bR[bS];if(ss.isValue(bT)){var bU={x:bT.extentsX,y:bT.extentsY,w:bT.extentsWidth,h:bT.extentsHeight};bQ=tab.RectXYUtil.union(bQ,bU)}}return tab.RectXYUtil.offsetRect(bQ,L)},isNodeOrAxisHovered:function(L){return ss.referenceEquals(L,this.$4)},isSelected:function(L){return ss.isValue(this.$9)&&this.$9.isNodeSelected(L)},isBrushed:function(L){return ss.isValue(this.$3)&&this.$3.isNodeSelected(L)},selectNode:function(L,bQ,bR,bS){tab.SelectionClientCommands.selectNode(this.$8,L,bR,this.$6,bQ,this.$a,bS)},handleModelChange:function(){this.notifyPropertyChanged('visualList')},$2:function(){this.notifyPropertyChanged('selection')},dispose:function(){this.$6.remove_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(this.$9)){this.$9.remove_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(this.$3)){this.$3.remove_newSelection(ss.mkdel(this,this.$2))}spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bG,a,{$0:function(){this.$4=null;this.$6=null;this.$5=null},computeBoundsOfSelectedMarks:function(L,bQ){var bR=L.get_selectionsModel().tupleSelection;var bS={x:0,y:0,w:0,h:0};var bT=bR.get_ids();for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];var bW=bQ.getMarkBoundingBox(bV);bS=tab.RectXYUtil.union(bS,bW)}return bS},computeBoundsOfSelectedNodes:function(L,bQ){var bR=L.get_selectionsModel().nodeSelection;var bS={x:0,y:0,w:0,h:0};var bT=bQ;if(ss.isNullOrUndefined(bT)){return bS}var bU=bT.get_groupItemNodes();for(var bV=0;bV<bU.length;bV++){var bW=bU[bV];if(!bR.isNodeSelected(bW)){continue}var bX=bW.extentsX||0;var bY=bW.extentsY||0;var bZ={x:bX,y:bY,w:bW.extentsWidth,h:bW.extentsHeight};bS=tab.RectXYUtil.union(bS,bZ)}return bS},computeBoundsOfSelectedRefLines:function(L,bQ){var bR=L.get_selectionsModel().refLineSelection;var bS={x:0,y:0,w:0,h:0};if(bR.isEmpty){return bS}for(var bT=0;bT<bQ.length;bT++){var bU=bQ[bT];for(var bV=0;bV<bU.drawItems.length;bV++){var bW=bU.drawItems[bV];var bX=bW;if(!bR.isObjectSelected(bX.objectId)){continue}for(var bY=0;bY<bX.drawItems.length;bY++){var bZ=bX.drawItems[bY];if(bZ.type!=='draw-polyline'&&bZ.type!=='draw-fill-rect'){continue}var ca=bZ;if(ca.points.length<4){continue}var cb={x:ca.points[0],y:ca.points[1]};var cc={x:ca.points[2],y:ca.points[3]};var cd=tab.RectXYUtil.rectXYFromCorners$1(cb,cc);cd=tab.RectXYUtil.nonemptyify(cd);bS=tab.RectXYUtil.union(bS,cd)}}}return bS},computeBoundsOfSelectedTrendLines:function(L,bQ){var bR=L.get_selectionsModel().trendLineSelection;var bS={x:0,y:0,w:0,h:0};if(bR.isEmpty){return bS}var bT=this.ensureAndReturnLineHitTestStructures(bQ);var bU=new Array;for(var bV=0;bV<bT.length;bV++){var bW=bT[bV];bU.push(bW)}while(bU.length!==0){var bX=bU.pop();if(bX.get_nodeType()===4||bX.get_nodeType()===0){var bY=bX.get_children();for(var bZ=0;bZ<bY.length;bZ++){var ca=bY[bZ];bU.push(ca)}}else if(bX.get_nodeType()===5){if(bR.isObjectSelected(bX.get_objectId())){bS=tab.RectXYUtil.union(bS,bX.get_boundingBox())}}}return bS},annotationHitTestStructures:function(L){if(ss.isValue(this.$4)){return this.$4}this.$4=[];var bQ=L.get_visualModel().getAnnotationList();if(!ss.isValue(bQ)){return this.$4}for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];var bT=tab.RecordCast.rectPresModelAsRectXY(bS.areaRect);this.$4.push(new D(bT,7,bS.annotationId));if(ss.isValue(bS.textRect)){this.$4.push(new D(tab.RecordCast.rectPresModelAsRectXY(bS.textRect),7,bS.annotationId))}}return this.$4},ensureAndReturnLineHitTestStructures:function(L){if(ss.isValue(this.$6)){return this.$6}this.$6=[];var bQ=L.get_trendLineVisualLists();if(!ss.isValue(bQ)){return this.$6}for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];var bT=bS.drawItems;var bU=1;for(var bV=0;bV<bT.length;bV++){var bW=bT[bV];if(bW.type==='draw-group'){var bX=bW;for(var bY=0;bY<bX.drawItems.length;bY++){var bZ=bX.drawItems[bY];switch(bZ.type){case'draw-pen':{var ca=bZ;if(ss.isValue(ca.strokeWidth)){bU=ca.strokeWidth}break}case'draw-path':{var cb=bZ;var cc=H.buildTrendLineHitTestStructure(cb,bU,bX.objectId);this.$6.push(cc);break}default:{break}}}}}}return this.$6},$3:function(L,bQ){var bR;var bS=tabBootstrap.MetricsController.createContext('HitTestVisualParts',16,null);{var bT=[];var bU=[];var bV=bQ.get_refLineVisualLists();if(ss.isValue(bV)){bT=bH.hitTestRefLines(bV,L,true);if(bT.length!==0&&bT[0].get_hitType()!==0){}}if(!G.hasExactHit(bT)){var bW=this.ensureAndReturnLineHitTestStructures(bQ);bU=bH.hitTestTrendLines(bW,L,true);if(bU.length!==0&&bU[0].get_hitType()!==0){}}var bX=G.tieBreakHits(bT,bU);bR=((bX.get_hitType()===0)?[]:[bX])}bS.dispose();return bR},hitTestAnnotations:function(L,bQ){var bR;var bS=this.annotationHitTestStructures(bQ);bR=bH.hitTestAnnotationsHelper(bS,L,true);if(bR.length!==0&&bR[0].get_hitType()!==0){}return bR},$1:function(L){if(ss.isNullOrUndefined(this.$5)){var bQ=H.buildLinearHitTestStructure(L);this.$5=new F(bQ)}return this.$5},$2:function(L,bQ){var bR=this.$1(bQ);var bS={x:L.x,y:L.y,w:1,h:1};var bT=bR.hitTestPanes(bS);return bT},hitTestMarks:function(L,bQ,bR,bS){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return[]}var bT;{var bU=tabBootstrap.MetricsController.createContext('HitTestMarks',16,null);try{var bV=this.$1(bS);bT=(ss.isNullOrUndefined(L)?bR.hitTest(bV,bQ,bS):bV.hitTest(L,bQ,bS))}finally{if(ss.isValue(bU)){bU.dispose()}}}if(bT.length>0){}return bT}});ss.initClass(bH,a,{});ss.initEnum(bI,a,{normal:'normal',hover:'hover',press:'press',highlighted:'highlighted',selected:'selected'},true);ss.initClass(bK,a,{get_instanceId:function(){return this.$1$1},set_instanceId:function(L){this.$1$1=L},get_region:function(){return this.$1$2},set_region:function(L){this.$1$2=L},get_visualId:function(){return this.get_region().get_visualId()},get_sheetId:function(){return this.get_region().get_sheetid()},get_regionPart:function(){return this.get_region().get_regionPart()},get_paneId:function(){return this.$1$3},set_paneId:function(L){this.$1$3=L},get_paneColumnIndex:function(){return this.$1$4},set_paneColumnIndex:function(L){this.$1$4=L},get_paneRowIndex:function(){return this.$1$5},set_paneRowIndex:function(L){this.$1$5=L},get_regionCoordinates:function(){return this.$1$6},set_regionCoordinates:function(L){this.$1$6=L},get_pageCoordinates:function(){return this.$1$7},set_pageCoordinates:function(L){this.$1$7=L},get_result:function(){return this.$0}},null,[tab.IVizHitInfo]);ss.initClass(bM,a,{createPaneTableView:null,createPaneTableViewModel:function(L){return new bh(L)},addVizDragHandler:function(L){bg.addVizDragHandler(L)},addAsyncVizDragHandler:function(L){bg.addAsyncVizDragHandler(L)},addVizDragApprover:function(L){bg.addVizDragApprover(L)}},null,[tab.IVizZoneModule]);ss.initClass(bN,a,{get_workerID:function(){return this.$1},get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(bO,a,{get_workerID:function(){return this.$0}},ss.EventArgs);ss.initClass(bP,a,{});(function(){e.$0="<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"})();(function(){i.$0="<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"})();(function(){M.defaultHighlightBgColor=new tab.ColorModel(245,245,171,1);M.defaultSelectionBgColor=new tab.ColorModel(140,196,211,1);M.defaultHighlightTextColor=new tab.ColorModel(0,0,0,1);M.defaultSelectionTextColor=new tab.ColorModel(0,0,0,1);var L=new M;L.highlightBgColor=M.defaultHighlightBgColor;L.selectionBgColor=M.defaultSelectionBgColor;L.highlightTextColor=M.defaultHighlightTextColor;L.selectionTextColor=M.defaultSelectionTextColor;M.defaultColors=L})();(function(){p.$8='rgb(0,0,0)';p.$7='rgb(245,245,245)';p.$b=['x-labels','bottom-axis','top-axis'];p.$c=['y-labels','left-axis','right-axis'];p.$a=new tab.FifoCache(20);p.$9=true})();(function(){l.$0="<canvas class='tabCanvas'></canvas>"})();(function(){z.halfPI=0.5*Math.PI;z.onePI=Math.PI;z.oneAndHalfPI=1.5*Math.PI;z.twoPI=2*Math.PI;z.$a=Math.PI*0.15})();(function(){G.$0=ss.mkdict(['no-hit',0,'area-hit',1,'near-hit',2,'exact-hit',3]);G.$1=ss.mkdict(['annotations',2,'ref-lines',4,'trend-lines',3,'ref-bands',4,'marks',6,'mark-labels',7])})();(function(){Z.$e=0.400000005960464;Z.$f='rgb(255,255,255)'})();(function(){n.$5='tvdrag_svg_div';n.$8='circle_radius';n.$0='circle_crosshair';n.$1=4;n.$3='tabDistanceReadout';n.$4="<div class='tabDistanceReadout'></div>";n.$6="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";n.$2="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";n.$9="<line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line>";n.$7="<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>"})();(function(){r.$0=2})();(function(){w.repositionTimeoutMs=300})();(function(){X.$0=5})();(function(){A.$4=0.7;A.$7=110.574;A.$8=111.32;A.$2=90;A.$1=180;A.$5=6000;A.$3=8;A.$6="<div class='tabGotoMyLocationButtonContainer'></div>"})();(function(){W.widgetClassName='tabMapsSearchView';W.$0='tabMapsSearchViewCollapsed';W.$1='tabMapsSearchContainerCollapsed';W.widgetClassNameTranslucent='tabMapsSearchViewTranslucent';W.suggestionDisplayClassName='tabMapsSearchViewSuggestionDisplayName';W.suggestionActiveSearchTextClassName='tabMapsSearchViewSuggestionActiveSearchText';W.suggestionParentClassName='tabMapsSearchViewSuggestionParentName';W.queryDelayTimerMs=200;W.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';tab.ObjectRegistry.registerType(W,W).call(null)})();(function(){u.closeButtonContainerClass='tab-floating-toolbar-close-button-container';u.closeButtonClass='tab-floating-toolbar-close-button';u.toolButtonsRootClass='FloatingZoomToolbar';u.toolButtonsContainerClass='fztButtonContainer';u.selectionToolContainerClass='fztSelectionToolContainer';u.toolFlyoutContainerClass='fztFlyOutContainer';u.toolFlyoutButtonsClass='fztFlyOutButtons'})();(function(){x.$0="<div class='FloatingZoomToolbar'></div>"})();(function(){bb.shapeMarkStampingRatio=32;bb.$c='_int';bb.$a=32767;bb.$b=100;bb.$9=['font','font_size','font_style','font_weight'];bb.$4=['color','border_color','halo_color','selected_halo_color','highlighted_halo_color','selected_multi_prim_halo_color','text_style_color','background_color'];bb.$7=['x','x1','x_prev','x_next','cell_x'];bb.$6=['clip_width'];bb.$8=['y','y1','y_prev','y_next','cell_y'];bb.$5=['clip_height'];bb.$e=null;bb.$f=null;bb.$d=null})();(function(){bp.$1={x:0,y:0,w:0,h:0}})();(function(){E.$1=null;E.$0=0})();(function(){bP.$0=0.05})();(function(){Q.$4=100;Q.$2='/css/leaflet.css';Q.$5=2;Q.$9=10;Q.$a=0.01;Q.$7=8;Q.$3='leaflet-touching';Q.$6={item1:90,item2:0};Q.$8={item1:-90,item2:0}})();(function(){bK.$0=0})();(function(){bL.hitTestDelay=250;bL.maxHitTestDistance=20})();(function(){U.$0="<div class='tabMapAttribution'><div class='tabMapAttributionBackground' /><a class='tabMapAttributionLink'></a></div>"})();(function(){bF.propertyHoverNode='HoverNode'})();(function(){by.twoFingerScrollOnboardingTipWasAcknowledgedCookie='twoFingerScrollOnboardingTipWasAcknowledged';by.fadeInDurationMs=100;by.fadeOutDurationMs=300;by.fadeInDelayMs=150;by.fadeOutDelayMs=1000})();(function(){var L=[];L.push('left-axis');L.push('right-axis');L.push('y-labels');L.push('x-labels');L.push('top-axis');L.push('bottom-axis');L.push('title');L.push('caption');L.push('background');bh.blackListVisualParts=L;bh.zoomToolbarTopOffset=10;bh.vizNavigationSettingPropertyName='vizNavigationSetting';bh.borderHighlightPropertyName='borderHighlight';bh.imageLoadedPropertyName='images'})();(function(){bc.$3='rgba(0,0,0,1)';bc.$2='rgba(255,255,255,255)';bc.$5=['normalUnderPass','normalOnPass','highlightedUnderPass','highlightedOnPass','selectedUnderPass','selectedOnPass'];bc.$4=['background','underMark','marks','underLabel','label','foreground']})();(function(){be.$2=3;be.$3=145;be.$1=false})();(function(){bf.$0="<div class='tvViewportBorder tvLeftBorder' /><div class='tvViewportBorder tvRightBorder' /><div class='tvViewportBorder tvTopBorder' /><div class='tvViewportBorder tvBottomBorder' />"})();(function(){bi.scrollableXRegions=['xheader','bottomaxis','topaxis','viz'];bi.scrollableYRegions=['yheader','leftaxis','rightaxis','viz'];bi.scrollableRegions=['xheader','bottomaxis','topaxis','yheader','leftaxis','rightaxis','viz'];bi.axisRegions=['leftaxis','rightaxis','bottomaxis','topaxis'];bi.headerRegions=['yheader','xheader','leftaxis','rightaxis','bottomaxis','topaxis','uleft','uright'];bi.regionsThatMightContainCategoricalHeader=['yheader','xheader','bottomaxis','topaxis'];bi.nonVizContentRegions=['yheader','leftaxis','rightaxis','xheader','bottomaxis','topaxis'];bi.contentRegions=['yheader','leftaxis','rightaxis','xheader','bottomaxis','topaxis','viz'];bi.regionsThatClearSelectionOnTap=['uleft','uright','lleft','lright','caption'];bi.spacerRegions=['uleft','uright','lleft','lright']})();(function(){bD.$3=0})();(function(){bg.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';bg.titleClass='tab-tvTitle';bg.$5=8;bg.$6=30;bg.$4=[];bg.$8=[];bg.$7=[]})();(function(){bj.$5='M';bj.$4='L';bj.$1='Z';bj.$2='tvdrag_svg_div';bj.$3="<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>";bj.$6=300})();(function(){bl.$1='<div></div>';bl.$0='tvdrag';bl.$2='tvdrag_marquee'})();(function(){bo.$0=null;tab.ModuleManager.register(O).call(null,'RuntimeUI',null).andMarkAsAlreadyLoadedInGlobalNamespace()})();(function(){bx.rootElementClass='tab-smooth-tooltips-tip';bx.textClass='tip-text';bx.transitionEndFailSafeTimeoutMs=200})();(function(){bH.visualPartNearHitTestExpansionPixels=7})();(function(){bz.windowLog=null;bz.paneBorderMaskSize=2;bz.canvasBorderPixels=1;bz.zoomAnimationTime=777;bz.minZoomAnimationTime=500;bz.zoomToAnchorAnimationTime=500;bz.$0=350})()})();;
/*! BEGIN SpiffUIWeb */
(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffuiweb');var b=function(){};b.__typeName='spiff.ChangeSpotlightedItemMode';global.spiff.ChangeSpotlightedItemMode=b;var c=function(i){spiff.ComboBoxView.call(this,i,new spiff.ComboBoxTemplate)};c.__typeName='spiff.ComboBoxViewWeb';global.spiff.ComboBoxViewWeb=c;var d=function(){this.$w=null;this.$v=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;spiff.CompositeSearchWidget.call(this,new spiff.CompositeSearchWidgetTemplate);this.compositeSearchWidgetTemplate.get_textInputView().get_inputElement().keydown(ss.mkdel(this,this.$u));this.set_spotlightedItemLogic(null)};d.__typeName='spiff.CompositeSearchWidgetWeb';global.spiff.CompositeSearchWidgetWeb=d;var e=function(){};e.__typeName='spiff.ICompositeSearchWidgetSpotlightedItemLogic';global.spiff.ICompositeSearchWidgetSpotlightedItemLogic=e;var f=function(i){this.$v=0;this.$w=0;spiff.MenuView.call(this,i,new g);this.updateMenu();this.menuViewModel.add_menuItemFocusChanged(ss.mkdel(this,this.$n));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.menuViewModel.remove_menuItemFocusChanged(ss.mkdel(this,this.$n))})));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keypress',ss.mkdel(this,this.$t)));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$s)))};f.__typeName='spiff.MenuViewWeb';f.$0=function(i){return i.prop('scrollHeight')>i.prop('clientHeight')+1};global.spiff.MenuViewWeb=f;var g=function(){spiff.MenuTemplate.call(this)};g.__typeName='spiff.MenuViewWebTemplate';global.spiff.MenuViewWebTemplate=g;var h=function(i){spiff.UberPopupView.call(this,i,new spiff.UberPopupTemplate)};h.__typeName='spiff.UberPopupViewWeb';global.spiff.UberPopupViewWeb=h;ss.initEnum(b,a,{moveUp:0,moveDown:1,moveToFirst:2,moveToLast:3,moveToListItem:4});ss.initClass(c,a,{},spiff.ComboBoxView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.ComboBoxViewModel])]);ss.initClass(d,a,{add_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateCombine(this.$3$1,i)},remove_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateRemove(this.$3$1,i)},add_tabKeyPressed:function(i){this.$3$2=ss.delegateCombine(this.$3$2,i)},remove_tabKeyPressed:function(i){this.$3$2=ss.delegateRemove(this.$3$2,i)},get_spotlightedItemLogic:function(){return this.$3$3},set_spotlightedItemLogic:function(i){this.$3$3=i},resetSpotlightedItem:function(){var i=this.$w;this.$w=null;this.$t(i)},$t:function(i){if(ss.referenceEquals(i,this.$w)){return}this.$v=(ss.isValue(this.$w)?this.get_listViewModel().get_collection()[this.$w]:null);if(ss.isValue(this.$w)){this.get_listViewModel().spotlightItemAtIndex(ss.unbox(this.$w))}else{this.get_listViewModel().clearSpotlighting()}if(ss.staticEquals(this.$3$1,null)){return}this.$3$1(this.$v)},handleRemoveList:function(){this.resetSpotlightedItem();spiff.CompositeSearchWidget.prototype.handleRemoveList.call(this)},changeSpotlightedListItem:function(i,j){if(ss.isNullOrUndefined(this.get_listViewModel())||this.get_listViewModel().get_collection().length===0||i===4&&ss.isNullOrUndefined(j)){this.resetSpotlightedItem();return}var k=null;var l=this.$w;if(i===4){k=ss.indexOf(this.get_listViewModel().get_collection(),j);this.$w=k}if(ss.isNullOrUndefined(this.get_spotlightedItemLogic())){return}this.$w=this.get_spotlightedItemLogic().calculateNewSpotlightedItemIndex(l,i,k);this.$t(l)},$u:function(i){switch(i.which){case 38:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(0,null)}break}case 40:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(1,null)}break}case 36:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(2,null)}break}case 35:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(3,null)}break}case 9:{if(!ss.staticEquals(this.$3$2,null)){i.preventDefault();this.$3$2()}break}}}},spiff.CompositeSearchWidget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initInterface(e,a,{calculateNewSpotlightedItemIndex:null});ss.initClass(f,a,{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.dom.domRoot.focus()},showSubmenu:function(i,j,k){$('body').append(k.domRoot);spiff.SpiffBrowserViewport.getViewport(ss.mkdel(this,function(l){this.$u(l,j,k);k.domRoot.show()}))},buildMenu:function(i,j){spiff.MenuView.prototype.buildMenu.call(this,i,j);i.domRoot.on('mouseenter'+this.get_eventNamespace(),'.tabMenuItem',ss.mkdel(this,this.$p))},$u:function(i,j,k){var l=tab.DoubleUtil.roundToInt(k.domRoot.outerWidth(false));var m=tab.DoubleUtil.roundToInt(k.domRoot.outerHeight(false));var n=tab.DoubleUtil.roundToInt(j.outerWidth(false));var o=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset$1(j));var p=o.x+n;var q=o.y-parseInt(k.domRoot.children('.tabMenuContent').css('padding-top'));var r=i.getVisibleRoom({x:p,y:q});var s=null;if(r.roomBelow>=m){}else if(r.roomAbove+r.roomBelow>m){q-=ss.Int32.trunc(m-r.roomBelow)}else{var t=5;q-=ss.Int32.trunc(r.roomAbove);s=r.roomAbove-5+r.roomBelow}if(r.roomRight<l){p=Math.max(0,p-l-n)}var u={};u['top']=q+'px';u['left']=p+'px';u['max-height']=(ss.isValue(s)?(s+'px'):'');u['z-index']=tab.DomUtil.getComputedZIndex(j[0]);k.domRoot.css(u)},shown:function(i){spiff.MenuView.prototype.shown.call(this,i);var j=this.menuViewModel.get_focusedItem();var k=this.menuViewModel.get_menu().menuItems;if(ss.isValue(j)){this.$r(j)}else if(ss.isValue(k)){for(var l=0;l<k.length;l++){if(k[l].enabled){this.menuViewModel.set_focusedItem(k[l]);break}}}},onSized:function(){var i=this.dom.domRoot;if(f.$0(i)){i.css('overflow-y','scroll')}else{i.css('overflow-y','hidden')}},$p:function(i){if(i.pageX===this.$v&&i.pageY===this.$w){return}this.$v=i.pageX+0;this.$w=i.pageY+0;var j=$(i.currentTarget);var k=spiff.MenuView.getMenuItem(j);this.$q(spiff.MenuView.getMenuItemLevel(j));if(ss.isValue(k)){this.menuViewModel.set_focusedItem(k);if(ss.isValue(k.subMenu)){this.activateSubmenu(k,j)}}},$q:function(i){if(i<1){this.menuViewModel.hide();return}for(var j=this.menuStack.length-1;j>=i;j--){var k={$:this.menuStack[j]};k.$.domRoot.fadeOut(50,ss.mkdel({subMenu:k},function(){this.subMenu.$.dispose()}));ss.removeAt(this.menuStack,j)}},$s:function(i){var j=0,k,l,m;$sm1:for(;;){switch(j){case 0:{k=this.menuViewModel.get_focusedItem();l=this.menuViewModel.findMenuForMenuItem(k)||this.menuViewModel.get_menu();if(ss.isNullOrUndefined(l)){return}if(i.which===32||i.which===13){if(ss.isNullOrUndefined(k)){return}if(ss.isValue(k.subMenu)){this.$m()}else{this.menuViewModel.clickMenuItem(k)}j=1;continue $sm1}else if(i.which===36){this.menuViewModel.iterateFocus(1,-1);j=1;continue $sm1}else if(i.which===35){this.menuViewModel.iterateFocus(-1,l.menuItems.length);j=1;continue $sm1}else if(i.which===40){this.menuViewModel.iterateFocus(1,null);j=1;continue $sm1}else if(i.which===38){this.menuViewModel.iterateFocus(-1,null);j=1;continue $sm1}else if(i.which===39){this.$m();j=1;continue $sm1}else if(i.which===27){if(this.menuStack.length<=1){this.menuViewModel.hide()}else{j=2;continue $sm1}j=1;continue $sm1}else if(i.which===37){j=2;continue $sm1}else{return}j=1;continue $sm1}case 2:{if(!ss.referenceEquals(l,this.menuViewModel.get_menu())){m=this.getElementForMenuItem(k);if(ss.isNullOrUndefined(m)){return}this.$q(spiff.MenuView.getMenuItemLevel(m)-1);this.menuViewModel.set_focusedItem(this.menuViewModel.findItemContainingSubMenu(l))}j=1;continue $sm1}case 1:{i.preventDefault();i.stopPropagation();j=-1;break $sm1}default:{break $sm1}}}},$t:function(i){if(i.which>=97&&i.which<=122||i.which>=65&&i.which<=90||i.which>=48&&i.which<=57||i.which>127){this.menuViewModel.focusByNamePrefix(String.fromCharCode(i.which))}},$m:function(){if(ss.isValue(this.menuViewModel.get_focusedItem())&&ss.isValue(this.menuViewModel.get_focusedItem().subMenu)){var i=this.getElementForMenuItem(this.menuViewModel.get_focusedItem());if(ss.isValue(i)){this.activateSubmenu(this.menuViewModel.get_focusedItem(),i);var j=((this.menuViewModel.get_focusedItem().subMenu.menuItems.length>0)?this.menuViewModel.get_focusedItem().subMenu.menuItems[0]:null);if(ss.isValue(j)){this.menuViewModel.set_focusedItem(j)}}}},$n:function(i,j){var k=this.getElementForMenuItem(i);if(ss.isNullOrUndefined(k)){return}k.toggleClass('tabMenuFocusedItem',j);if(!j){return}this.$o(i);if(k.is(':visible')){var l=this.getMenuElementForMenuItem(i);if(ss.isNullOrUndefined(l)){return}var m=tab.DoubleUtil.roundToInt(k.position().top);if(m<0){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+m)}else{var n=tab.DoubleUtil.roundToInt(l.height());var o=m+tab.DoubleUtil.roundToInt(k.outerHeight());if(n<o){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+(o-n))}}}},$r:function(i){var j=this.getElementForMenuItem(i);j.toggleClass('tabMenuFocusedItem',true);var k=this.dom.domRoot;k.scrollTop(tab.DoubleUtil.roundToInt(k.scrollTop())+tab.DoubleUtil.roundToInt(j.position().top)-ss.Int32.div(tab.DoubleUtil.roundToInt(j.height()),2));this.$o(i)},$o:function(i){var j=this.getElementForMenuItem(i);if(i.isTextInput){this.element.removeAttr('aria-activedescendant');j.find('input').focus()}else{var k='tab-'+i.id;j.attr('id',k);this.element.attr('aria-activedescendant',k).focus()}}},spiff.MenuView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.MenuViewModel])]);ss.initClass(g,a,{},spiff.MenuTemplate,[ss.IDisposable]);ss.initClass(h,a,{get_uberPopupShadowHeight:function(){return 2}},spiff.UberPopupView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.UberPopupViewModel])]);(function(){tab.ObjectRegistry.registerType(spiff.ComboBoxView,c).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.CompositeSearchWidget,d).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.MenuView,f).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.UberPopupView,h).call(null)})()})();;
/*! BEGIN UIWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqluiweb');var b=function(g,h){tab.ApplicationViewModel.call(this,g,h);$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.resize(false)}))};b.__typeName='tab.ApplicationViewModelWeb';global.tab.ApplicationViewModelWeb=b;var c=function(g){this.$y=null;this.$A=null;this.$z=null;tab.DataHighlighterView.call(this,g,new tab.DataHighlighterViewTemplate);this.$y=this.get_compositeSearchWidget();this.$y.add_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.add_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.add_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$y.remove_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.remove_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.remove_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));this.$y.set_spotlightedItemLogic(this)};c.__typeName='tab.DataHighlighterViewWeb';global.tab.DataHighlighterViewWeb=c;var d=function(g){this.$3=false;this.$5='vertical';this.$4=false;this.$7=null;this.$6=0;this.$1$1=false;this.$3=g;this.forgetInputDevice()};d.__typeName='tab.ScrollAdjuster';global.tab.ScrollAdjuster=d;var e=function(){};e.__typeName='tab.ScrollAdjusterUtil';e.getProperty=function(g,h){var i=g[h];return ss.coalesce(i,0)};e.adjustVerticalScrollDeltaForTouchpad=function(g){if(g%tab.MapUtil.defaultWheelDeltaIncrement!==0){var h=Math.abs(g);var i=ss.Int32.div(h,tab.MapUtil.defaultWheelDeltaIncrement)+1;if(g<0){i*=-1}g=tab.MapUtil.defaultWheelDeltaIncrement*i}return g};global.tab.ScrollAdjusterUtil=e;var f=function(g,h){this.$0=null;this.$1=null;this.$0=g.get(0);this.$1=h.get(0)};f.__typeName='tab.WebScroller';global.tab.WebScroller=f;ss.initClass(b,a,{destroy:function(){$(window).off(this.createNamespacedEventName('resize'));tab.ApplicationViewModel.prototype.destroy.call(this)}},tab.ApplicationViewModel,[tab.IWidget,tab.IAppendableView,ss.IDisposable,tab.IClient,tab.IApiStorytellingClient]);ss.initClass(c,a,{$x:function(g){this.$z=g;if(ss.isValue(this.$z)){var h=this.$z.get_data();this.get_viewModel().highlightItems([h.objectId])}else if(this.currentListPopulationMode===2){this.get_viewModel().restoreSearchResultsHighlighting()}else{this.get_viewModel().clearHighlighting()}},$r:function(g){if(ss.isNullOrUndefined(g.get_data())){return}this.$y.changeSpotlightedListItem(4,g);if(ss.isNullOrUndefined(this.$A)){var h=$(document).find('.tabDataHighlighterViewSearchResultList');this.$A=spiff.EventUtil.bindWithDispose(h,'mouseleave',ss.mkdel(this,this.$v));this.disposables.add$1(this.$A)}},$t:function(g){this.$r(g)},$u:function(g){this.$r(g)},$v:function(g){this.$y.resetSpotlightedItem();this.$w()},removeList:function(){this.$w();tab.DataHighlighterView.prototype.removeList.call(this)},$w:function(){if(ss.isNullOrUndefined(this.$A)){return}this.$A.dispose();this.$A=null},handleEnterKeyPress:function(){if(ss.isValue(this.$z)){this.handleListItemSelected(this.$z);return}tab.DataHighlighterView.prototype.handleEnterKeyPress.call(this)},handleListItemSelected:function(g){this.removeList();tab.DataHighlighterView.prototype.handleListItemSelected.call(this,g)},$s:function(){var g;if(ss.isNullOrUndefined(this.$z)){var h=this.$y.get_listViewModel();if(ss.isNullOrUndefined(h)||h.get_collection().length===0){return}var i=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(i===0){this.removeList();return}g=h.get_collection()[0].get_data()}else{g=this.$z.get_data()}this.get_compositeSearchWidget().setSearchText(g.text);this.dataHighlighterViewModel.sendSearchQuery(g.text,false)},populateAndDisplayList:function(g,h){tab.DataHighlighterView.prototype.populateAndDisplayList.call(this,g,h);this.$y.resetSpotlightedItem()},calculateNewSpotlightedItemIndex:function(g,h,i){var j=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-(this.notShownResultsListItemIsVisible?2:1);if(h===4){if(ss.Nullable$1.gt(i,j)){i=j}return i}if(ss.isNullOrUndefined(g)){return 0}var k=g;switch(h){case 1:{k=ss.Nullable$1.add(k,1);if(ss.Nullable$1.gt(k,j)){k=j}break}case 0:{k=ss.Nullable$1.sub(k,1);if(ss.Nullable$1.lt(k,0)){k=null}break}case 2:{k=0;break}case 3:{k=j;break}}return k}},tab.DataHighlighterView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.DataHighlighterViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(d,a,{get_isFromTouchpad:function(){return this.$1$1},set_isFromTouchpad:function(g){this.$1$1=g},forgetInputDevice:function(){this.set_isFromTouchpad(false);this.$4=false;this.$6=0;this.$7=null},normalizeScrollWheelDeltas:function(g){var h,i;var j=e.getProperty(g,'wheelDeltaY');var k=e.getProperty(g,'wheelDeltaX');var l=e.getProperty(g,'deltaY');var m=e.getProperty(g,'deltaX');var n=e.getProperty(g,'detail');if(n!==0){var o=g['axis'];var p=g['HORIZONTAL_AXIS'];i=(ss.referenceEquals(o,p)?0:n);h=(ss.referenceEquals(o,p)?n:0)}else if(j!==0||k!==0){if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=7){var q=Math.abs(k);var r=Math.abs(j);var s=Math.max(q,r);if(this.get_isFromTouchpad()){if(s%3===0){k=ss.Int32.div(k,3);j=ss.Int32.div(j,3)}}else if(s%12===0){k=((k<0)?-120:120);j=((j<0)?-120:120)}}i=-j;h=-k}else if(l!==0||m!==0){var t=(this.get_isFromTouchpad()?3:40);if(tab.BrowserSupport.get_isMac()){t*=3;if(Math.abs(l)>0&&Math.abs(l)<1||Math.abs(m)>0&&Math.abs(m)<1){t*=10}}else{this.$1()}i=t*l;h=t*m}else{i=-g['wheelDelta'];h=0}this.$0(i,l);return((this.get_isFromTouchpad()&&this.$3)?this.$2(h,i):{x:h,y:i})},$1:function(){if(this.$4){return}if(ss.staticEquals(this.$7,null)){this.$7=new Date}else{var g=this.$6>10;if(g||new Date-this.$7>100){this.set_isFromTouchpad(g);this.$4=true}}this.$6++},$0:function(g,h){if(this.$4){return}if(!tab.BrowserSupport.get_isFF()){var i=Math.abs(g);if(i>0){this.$4=true;if(i<12){this.set_isFromTouchpad(true)}}}else{var j=Math.abs(h);if(j>0){this.$4=true;if(tab.BrowserSupport.get_isMac()){this.set_isFromTouchpad(Math.abs(h)>=1)}}}},$2:function(g,h){var i=((g!==0&&h!==0)?this.$5:((g===0)?'vertical':'horizontal'));if(this.$5==='vertical'){g=0}if(this.$5==='horizontal'){h=0}this.$5=i;return{x:g,y:h}}});ss.initClass(e,a,{});ss.initClass(f,a,{get_canScrollX:function(){return this.get_maxScroll().x>0},get_canScrollY:function(){return this.get_maxScroll().y>0},get_scrollPos:function(){var g=(ss.isNullOrUndefined(this.$0)?0:$(this.$0).scrollLeft());var h=(ss.isNullOrUndefined(this.$1)?0:tab.DoubleUtil.roundToInt($(this.$1).scrollTop()));return{x:g,y:h}},get_maxScroll:function(){return{x:(ss.isNullOrUndefined(this.$0)?0:(this.$0.scrollWidth-this.$0.offsetWidth)),y:(ss.isNullOrUndefined(this.$1)?0:(this.$1.scrollHeight-this.$1.offsetHeight))}},get_visibleArea:function(){return{w:(ss.isNullOrUndefined(this.$0)?0:this.$0.offsetWidth),h:(ss.isNullOrUndefined(this.$1)?0:this.$1.offsetHeight)}},scrollX:function(g){if(this.get_canScrollX()){this.$0.scrollLeft+=g}},scrollY:function(g){if(this.get_canScrollY()){this.$1.scrollTop+=g}},setScrollTarget:function(g){},refresh:function(){}},null,[spiff.IScroller]);(function(){tab.ObjectRegistry.registerType(tab.DataHighlighterView,c).call(null)})();(function(){d.$4=120;d.$5=12;d.$7=3;d.$6=40;d.$8=3;d.$2=3;d.$3=10;d.$1=10;d.$0=100})()})();;
/*! BEGIN VizZoneWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzoneweb');var b=function(){};b.__typeName='tab.$0';var c=function(){this.$5=false;this.$6=false;this.$7=false;this.$4=false;this.$3=false;this.$1=false;this.$2=false;this.$8=true;this.$9=null;this.$a=null};c.__typeName='tab.$1';var d=function(){this.$0=null;this.$1=0};d.__typeName='tab.$2';var e=function(x,y,z,A,B,C){this.$4=null;this.$2=null;this.$3=0;this.$0=null;this.$5=null;this.$1=false;this.$4=x;this.$2=y;this.$3=z;this.$0=A;this.$5=B;this.$1=C};e.__typeName='tab.$3';var f=function(x,y,z){this.$1=0;this.$2=0;this.$0=0;this.$1=x;this.$2=y;this.$0=z};f.__typeName='tab.$4';var g=function(x,y){this.$j=null;this.$k=null;this.$m=null;this.$n=null;this.$o=null;this.$l=null;r.call(this,$(document.createElement('div')),$(y));this.$m=x;this.element.addClass('tab-tiledViewerAxisContextMenu');this.$j=spiff.LabelButton.newNativeButton();this.$j.element.addClass('axisContextMenuButton');this.$j.element.css('border','0');this.$j.element.css('position','absolute');this.$j.element.css('background','transparent');this.$j.element.css('padding','0px');this.$j.element.append("<span class='axisContextMenuDropdownArrow'></span>");this.element.append(this.$j.element);this.$k=this.$j.element;this.$o=null;y.appendChild(this.element.get(0));this.$9();this.set_enabled(true);this.$k.css('display','none')};g.__typeName='tab.AxisContextMenu';global.tab.AxisContextMenu=g;var h=function(){};h.__typeName='tab.CursorKey';global.tab.CursorKey=h;var i=function(x,y){this.$w=null;this.$x=null;this.$y=null;this.$q=null;this.$r=null;this.$z=null;this.$t=false;this.$u=null;this.$s=null;this.$v=null;this.$A=null;r.call(this,$(document.createElement('div')),$(y));this.$z=x;this.$w=this.$z.get_inputHandlers();this.element.addClass('tab-tiledViewerDrill');this.$q=$("<span class='tab-tvLevelDrillDown tab-levelDrillingIcon tvDrillDown' />").appendTo(this.element);this.$x=new spiff.Button(this.$q);this.$x.add_press(ss.mkdel(this,this.$f));this.$r=$("<span class='tab-tvLevelDrillUp tab-levelDrillingIcon tvDrillUp' />").appendTo(this.element);this.$y=new spiff.Button(this.$r);this.$y.add_press(ss.mkdel(this,this.$g));y.appendChild(this.element.get(0));this.$i();this.turnDrillWidgetsOff()};i.__typeName='tab.Drilling';global.tab.Drilling=i;var j=function(x){this.$0=null;this.$0=x};j.__typeName='tab.FloatingZoomToolbarOperationsWeb';global.tab.FloatingZoomToolbarOperationsWeb=j;var k=function(x,y,z,A,B){tab.FloatingZoomToolbar.call(this,x,y,z,A,B);this.init()};k.__typeName='tab.FloatingZoomToolbarWeb';k.$0=function(x){return x+'\n'+tab.Strings.SelectionToolsLockTooltip};global.tab.FloatingZoomToolbarWeb=k;var l=function(x){this.$0=null;this.$0=x};l.__typeName='tab.HoverApi';global.tab.HoverApi=l;var m=function(x){this.$j=null;this.$i=null;this.$k=null;this.$c=new tab.DisposableHolder;this.$b=null;this.$f=null;this.$g=false;this.$h=null;this.$e=false;this.$d=false;tab.Param.verifyValue(x,'tooltip');this.$j=x;this.$i=[];this.$k=m.$0()};m.__typeName='tab.LegacyTooltipBehavior';m.$0=function(){m.$6++;return'mousemove.LegacyTooltipBehavior'+m.$6.toString()};global.tab.LegacyTooltipBehavior=m;var n=function(x){this.$u=null;tab.MapsSearchView.call(this,x,tab.MapsSearchView.newMapsSearchViewTemplate());this.get_compositeSearchWidget().get_textInputView().get_inputElement().mouseup(ss.mkdel(this,this.$r));var y=this.get_compositeSearchWidget();y.add_spotlightedListItemChanged(ss.mkdel(this,this.$q));y.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){y.remove_spotlightedListItemChanged(ss.mkdel(this,this.$q));y.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));y.set_spotlightedItemLogic(this)};n.__typeName='tab.MapsSearchViewWeb';global.tab.MapsSearchViewWeb=n;var o=function(x,y){this.$3=null;this.$2(x,y)};o.__typeName='tab.PaneTableMouseCapture';o.$0=function(){return!tsConfig.is_mobile&&tab.BrowserSupport.get_addEventListener()};global.tab.PaneTableMouseCapture=o;var p=function(){this.scrollX=null;this.scrollY=null;tab.PaneTableTemplate.call(this,$("<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"));var x=ss.mkdel(this,this.getElementBySelector);this.scrollX=x('.tab-tvScrollX');this.scrollY=x('.tab-tvScrollY')};p.__typeName='tab.PaneTableTemplateWeb';global.tab.PaneTableTemplateWeb=p;var q=function(x){this.$2k={};this.$2c=null;this.$2g=false;this.$2j=false;this.$2e=null;this.$2x=null;this.$2r=null;this.$2h=null;this.$2w=null;this.$2a=null;this.$2u=null;this.$2v=null;this.$2t=null;this.$2i=null;this.$2l=false;this.$2s=null;this.$2f=null;this.$2z=null;this.$2y=null;this.$2m=false;this.$2p=0;this.$2b=null;this.$2n=null;this.$2q=0;this.$2d=null;this.$2o=null;this.deferredHeaderResizerManager=null;this.deferredCellResizerManager=null;this.deferredAxisResizerManager=null;tab.PaneTableView.call(this,x,new p);this.$2c=this.dom;this.$26();this.$2m=false;var y={tap:ss.mkdel(this,function(z){if(ss.referenceEquals(z.currentTarget,z.target)){this.clearSelection()}})};this.$1C();this.$1B();this.$1A();this.disposables.add$1(new o(document.body,this));this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(this.dom.enclosingDiv.get(0),y));this.init()};q.__typeName='tab.PaneTableViewWeb';q.$1=function(x,y){return x.x>y.pageX||x.x+x.w<=y.pageX||x.y>y.pageY||x.y+x.h<=y.pageY};q.$0=function(x,y){var z=ss.round(y['clientX']);var A=ss.round(y['clientY']);var B={x:z,y:A};var C=x.toLocalCoords(B,false);return C};q.$3=function(x,y){if(x.get_regionPart()==='viz'){return tab.SelectActionResolver.fromNormalizedEvent(y,1)}return tab.SelectActionResolver.fromNormalizedEvent(y,2)};q.$2=function(){};global.tab.PaneTableViewWeb=q;var r=function(x,y){this.$6=0;this.$8=null;this.$7=null;spiff.Widget.call(this,x);this.$6=r.$0.length;r.$0.push(this);this.$8=y};r.__typeName='tab.SortDrillBase';global.tab.SortDrillBase=r;var s=function(x,y){this.$E=null;this.$A=null;this.$C=null;this.$D=null;this.$F=null;this.$B=null;this.$G=null;this.$I=null;this.$H=null;r.call(this,$(document.createElement('div')),$(y));this.$D=x;this.element.addClass('tab-tiledViewerSort');this.$C=this.$b();this.$E=spiff.LabelButton.newNativeButton();this.$E.element.addClass('tab-tvSortIndicator');this.$E.element.css('border','0');this.$E.element.css('position','absolute');this.$E.element.css('padding','0px');this.element.append(this.$E.element);this.$A=this.$E.element;$(y).find('.tab-tiledViewerSort').remove();y.appendChild(this.element.get(0));this.$9();this.$t();this.$A.css('display','none')};s.__typeName='tab.Sorting';global.tab.Sorting=s;var t=function(){this.geometry=null;this.visibleGeometry=null;this.sortIndicators=null;this.posTVx=0;this.posTVy=0;this.dom=null;this.sheetid=null;this.layoutSession=null;this.session=null;this.inputHandlers=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.regions=null;this.titleHeight=0};t.__typeName='tab.TiledViewerModel';global.tab.TiledViewerModel=t;var u=function(x,y,z,A,B,C,D,E,F){this.$N=false;this.$V=null;this.$Q=null;this.$P=null;this.$T=null;this.$U=null;this.$O=null;this.$R=false;this.$S=false;tab.TiledViewerRegion.call(this,x,y,C,D,E,F);this.$Q=z;if(this.get_regionPart()==='viz'){u.$2();tab.ModifierKeyState.add_modifierKeysChanged(ss.mkdel(this,this.$q));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ModifierKeyState.remove_modifierKeysChanged(ss.mkdel(this,this.$q))})))}this.$N=true;this.scroller=new tab.WebScroller(A,B)};u.__typeName='tab.TiledViewerRegionWeb';u.$2=function(){if(ss.isValue(u.$6)){return}var x='default';u.$6={};u.$6['zoomIn']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomin.png',true)+') 8 7, '+x));u.$6['zoomOut']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomout.png',true)+') 8 7, '+x));u.$6['panDrag']=(tab.BrowserSupport.get_isIE()?'move':('url('+tableau.util.assetUrl('cursors/pandrag.png',true)+') 9 9, '+x));u.$6['rectSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdrag.png',true)+') 2 2, '+x));u.$6['lassoSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodrag.png',true)+') 2 2, '+x));u.$6['radialSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdrag.png',true)+') 2 2, '+x));u.$6['rectExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdragextended.png',true)+') 2 2, '+x));u.$6['lassoExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodragextended.png',true)+') 2 2, '+x));u.$6['radialExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdragextended.png',true)+') 2 2, '+x));u.$6['dragSelect']='crosshair';u.$6['select']='pointer';u.$6['defaultKey']='default'};u.$0=function(x){return x.shiftKey&&!spiff.EventUtil.isCtrlKey(x)};u.$1=function(x){return!x.altKey&&x.shiftKey&&spiff.EventUtil.isCtrlKey(x)};global.tab.TiledViewerRegionWeb=u;var v=function(x,y){tab.TooltipBaseLegacyMode.call(this,x,y);this.get_tooltip().add_showed(ss.mkdel(this,this.showCommandAreaAndActions))};v.__typeName='tab.TooltipLegacyMode';global.tab.TooltipLegacyMode=v;var w=function(){tab.VizZoneFactory.call(this)};w.__typeName='tab.VizZoneWebFactory';global.tab.VizZoneWebFactory=w;ss.initEnum(b,a,{$3:0,$1:1,$2:2,$0:3});ss.initClass(c,a,{$0:function(){return!this.$5&&!this.$7&&!this.$6&&!this.$4&&!this.$3&&!this.$1&&!this.$2}});ss.initClass(d,a,{});ss.initClass(e,a,{});ss.initClass(f,a,{});ss.initClass(r,a,{get_enabled:function(){return ss.isValue(this.$7)},set_enabled:function(x){if(this.get_widgetFeatureEnabled()){if(x){if(ss.isNullOrUndefined(this.$7)){this.$7=spiff.EventUtil.bindWithDispose(this.$8,'mousemove',ss.mkdel(this,function(y){this.onMouseMove(y)}))}}else{this.$7=tab.MiscUtil.dispose$1(this.$7)}}},get_widgetFeatureEnabled:null,dispose:function(){ss.remove(r.$0,this);this.element.remove();this.$7=tab.MiscUtil.dispose$1(this.$7);spiff.Widget.prototype.dispose.call(this)},isOtherActiveInRect:function(x){for(var y=0;y<r.$0.length;y++){if(y!==this.$6){var z=r.$0[y];if(z.isActiveInRect(x)){return true}}}return false},isActiveInRect:function(x){return false},onMouseMove:null,getSIRegionFromName:function(x,y){var z,A;var B=ss.replaceAllString(y,'Area','');var C=x.get_sortIndicators();var D=C.sortIndicatorRegions;for(z=0,A=D.length;z<A;z++){if(ss.referenceEquals(D[z].sortRegion.toString(),B)){return D[z]}}return null},showNodeAt:function(x,y,z){$(x).css('top',y+'px');$(x).css('left',z+'px');$(x).css('display','')},getWidgetPos:function(x,y,z){if(x==='level'){if(z==='y'){return{x:y.l+ss.Int32.div(y.w,2)-4,y:y.t+2}}else{return{x:y.l+2,y:y.t+ss.Int32.div(y.h,2)-4}}}else{return{x:y['x']+2,y:y['y']+2}}},hideNode:function(x){$(x).css('display','none')},regionHitTest:function(x,y){var z=x;var A=new ss.ObjectEnumerator(z);try{while(A.moveNext()){var B=A.current();if(ss.isValue(B.value)&&tab.RectUtil.inRect(B.value,y)){return B.key}}}finally{A.dispose()}return null},clone:function(x){if(ss.isNullOrUndefined(x)){return x}return this.mixin(new Object,x)},mixin:function(x,y){var z=y;var A=new ss.ObjectEnumerator(z);try{while(A.moveNext()){var B=A.current();var C=x[B.key];if(ss.isNullOrUndefined(C)||!ss.referenceEquals(C,z[B.key])){x[B.key]=z[B.key]}}}finally{A.dispose()}return x},getPaneTableViewMousePositionFromEvent:function(x,y){return{x:x.pageX-y.get_tableViewPosition().x,y:x.pageY-y.get_tableViewPosition().y}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(g,a,{get_widgetFeatureEnabled:function(){return tab.FeatureFlags.isEnabled('EditAxisWebAffordance')&&tsConfig.is_authoring},dispose:function(){this.$m=null;this.$j.element.remove();this.$j.dispose();r.prototype.dispose.call(this)},setLocalCoords:function(x){this.$l=x},onUpdate:function(){this.$n=this.$m.visibleGeometry;this.$d(this.$m.get_capturedPaneTableViewMousePosition())},$c:function(){this.hideNode(this.$k.get(0))},onMouseMove:function(x){this.$e(x)},isActiveInRect:function(x){return false},$9:function(){this.$k.click(ss.mkdel(this,this.$f))},$e:function(x){if(x.button>0){return}var y=this.getPaneTableViewMousePositionFromEvent(x,this.$m);this.$d(y)},$i:function(x){this.$o=null;if(ss.isNullOrUndefined(x)){return}else if(x.indexOf('leftaxis'.toString())!==-1){this.$o='leftaxis'}else if(x.indexOf('rightaxis'.toString())!==-1){this.$o='rightaxis'}else if(x.indexOf('topaxis'.toString())!==-1){this.$o='topaxis'}else if(x.indexOf('bottomaxis'.toString())!==-1){this.$o='bottomaxis'}},$d:function(x){if(ss.isNullOrUndefined(x)||!this.get_widgetFeatureEnabled()){return}var y=this.regionHitTest(this.$n,x);this.$i(y);if(ss.isNullOrUndefined(this.$o)){this.$c();return}var z=this.$n;this.$g(z[y])},$f:function(x){spiff.EventUtil.stopEvent(x);this.$a(x);this.$b()},$a:function(x){var y=this.getPaneTableViewMousePositionFromEvent(x,this.$m);var z=this.regionHitTest(this.$n,y);if(ss.isNullOrUndefined(z)){return}var A=this.$n;y.x-=A[z].l;y.y-=A[z].t;this.setLocalCoords(y)},$b:function(){var x=new spiff.ShowMenuOptions(this.$k,false);var y=new tab.BuildServerAxisContextMenuCmd;y.c['visualIdPresModel']=this.$m.get_visualId();y.c['regionPoint']=tab.PointUtil.toPresModel(this.$l);y.c['r']=this.$o;y.invoke().then(function(z){var A=z.$$c['commands'];var B=tab.WidgetUtil.menuViewModelFromCommands(A,tab.WidgetUtil.commandMenuItemClicked,null);B.show(x)})},$h:function(x,y){x.style.width=y.w+'px';x.style.height=y.h+'px';this.showNodeAt(x,y.t,y.l)},$g:function(x){var y={l:x.l+x.w-16,t:x.t+1,w:15,h:15};this.$h(this.$k.get(0),y)}},r,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initEnum(h,a,{zoomIn:'zoomIn',zoomOut:'zoomOut',panDrag:'panDrag',rectSelect:'rectSelect',lassoSelect:'lassoSelect',radialSelect:'radialSelect',rectExtended:'rectExtended',lassoExtended:'lassoExtended',radialExtended:'radialExtended',dragSelect:'dragSelect',select:'select',defaultKey:'defaultKey'},true);ss.initClass(i,a,{get_widgetFeatureEnabled:function(){return tsConfig.allow_filter},dispose:function(){r.prototype.dispose.call(this);this.$z=null;this.$x.dispose();this.$y.dispose()},onUpdate:function(){this.$t=false;this.$v=this.$z.geometry;this.$A=this.$z.visibleGeometry;this.$c(this.$z.get_capturedPaneTableViewMousePosition())},onMouseMove:function(x){this.$d(x)},isActiveInRect:function(x){if($(this.$q.get(0)).css('display')!=='none'||$(this.$r.get(0)).css('display')!=='none'){if(ss.isValue(this.$s)&&tab.RectXYUtil.intersectsWith(this.$s,x)){return true}}return false},turnDrillWidgetsOff:function(){var x=['bottomaxis','xheader','yheader'];for(var y=0;y<x.length;y++){var z=x[y];if(ss.isValue(this.$w[z])){this.$w[z].unsuppressHover()}}this.hideNode(this.$q.get(0));this.hideNode(this.$r.get(0));this.$u=new d},$i:function(){this.set_enabled(true)},$d:function(x){if(x.button>0){return}var y=this.getPaneTableViewMousePositionFromEvent(x,this.$z);this.$c(y)},$b:function(x){var y=new c;if(ss.isValue(this.$A.xheaderArea)){y.$5=tab.RectUtil.inRect(this.$A.xheaderArea,x)}if(ss.isValue(this.$A.leftaxisArea)){y.$2=tab.RectUtil.inRect(this.$A.leftaxisArea,x)}y.$9=this.$z.tlspacerAreaX;y.$a=this.$z.tlspacerAreaY;if(y.$5&&ss.isValue(y.$9)&&ss.isValue(y.$a)&&ss.isValue(this.$A.uleftArea)){y.$a.w=y.$9.l;y.$8=false}if(ss.isValue(this.$A.bottomaxisArea)&&!y.$5){y.$6=tab.RectUtil.inRect(this.$A.bottomaxisArea,x)}if(ss.isValue(this.$A.yheaderArea)&&!y.$5&&!y.$6){y.$7=tab.RectUtil.inRect(this.$A.yheaderArea,x)}if(ss.isValue(y.$a)&&!y.$5&&!y.$6&&ss.isValue(this.$A.yheaderArea)){y.$4=tab.RectUtil.inRect(y.$a,x)}if(ss.isValue(y.$9)&&!y.$4&&!y.$7&&!y.$6&&ss.isValue(this.$A.xheaderArea)){y.$3=tab.RectUtil.inRect(y.$9,x)}var z=this.$z.blspacerArea;if(ss.isValue(z)&&!y.$4&&!y.$3){y.$1=tab.RectUtil.inRect(z,x)}return y},$l:function(x,y){if(x.$0()){this.turnDrillWidgetsOff()}else if(x.$3){x.$8=false;this.$n(y)}else if(x.$5){x.$8=false;this.$n(y)}else if(x.$7){this.$o(y)}else if(x.$6||x.$1){this.$m()}else if(x.$2){this.$k()}else if(x.$4){this.$o(y)}if(x.$8&&ss.isValue(x.$a)&&ss.isValue(this.$A.uleftArea)){x.$a.w=this.$A.uleftArea.w}},$a:function(x){if(ss.isNullOrUndefined(x)){return false}if(this.$t){return false}var y=new Object;if(ss.isNullOrUndefined(this.$v)||ss.isNullOrUndefined(this.$v.di)||ss.referenceEquals(this.$v.di,y)||!tsConfig.allow_filter){return false}return true},$c:function(x){if(this.$a(x)){var y=this.$b(x);this.$l(y,x)}},$f:function(){this.$e('down')},$g:function(){this.$e('up')},$e:function(x){this.$t=true;if(tsConfig.allow_filter&&!ss.isNullOrUndefined(this.$u.$0)){var y=((this.$u.$0.toString()==='yheader')?'rows-shelf':'columns-shelf');var z=false;if(x==='up'){z=true}tab.FilterClientCommands.levelDrill(this.$z.get_visualId(),this.$u.$1,y,z)}this.turnDrillWidgetsOff()},$n:function(x){var y=this.$v.di.xs+this.$z.titleHeight;var z=this.$9(x.y,y,this.$v.di.xy);if(z.$0>=0&&z.$0<this.$v.di.xy.length){this.$p('x',z,this.$v.di.xy)}else{this.turnDrillWidgetsOff()}},$k:function(){if(ss.isNullOrUndefined(this.$A.leftaxisArea)){return}var x=this.$v.di.yx.length-1;if(x<0){return}var y=Math.min(this.$A.leftaxisArea.l,17);var z={l:this.$A.leftaxisArea.l-y,t:this.$A.leftaxisArea.t,w:this.$A.leftaxisArea.w+y,h:this.$A.leftaxisArea.h};this.$h(z,this.$v.di.yx[x][1],'y');this.$u.$1=x;this.$u.$0='yheader'},$o:function(x){var y=this.$9(x.x,this.$v.di.ys,this.$v.di.yx);var z=y.$0;if(z>=0&&z<this.$v.di.yx.length){this.$p('y',y,this.$v.di.yx)}else{this.turnDrillWidgetsOff()}},$m:function(){if(ss.isNullOrUndefined(this.$A.bottomaxisArea)){return}var x=this.$v.di.xy.length-1;var y=Math.min(this.$A.bottomaxisArea.l,20);var z=null;if(y===0){z={l:this.$A.bottomaxisArea.l+17,t:this.$A.bottomaxisArea.t,w:this.$A.bottomaxisArea.w+17,h:this.$A.bottomaxisArea.h}}else{z={l:this.$A.bottomaxisArea.l-y,t:this.$A.bottomaxisArea.t,w:this.$A.bottomaxisArea.w+y,h:this.$A.bottomaxisArea.h}}this.$h(z,this.$v.di.xy[x][1],'x');this.$u.$1=x;this.$u.$0='bottomaxis'},$p:function(x,y,z){var A;var B=0;if(x==='x'){if(ss.isValue(this.$A.uleftArea)){B=Math.min(this.$A.xheaderArea.l,17)}A={l:this.$A.xheaderArea.l-B,t:y.$1,w:this.$A.xheaderArea.w+B,h:y.$2-y.$1}}else{if(ss.isValue(this.$A.uleftArea)){B=Math.min(this.$A.yheaderArea.t,17)}A={l:y.$1,t:this.$A.yheaderArea.t-B,w:y.$2-y.$1,h:this.$A.yheaderArea.h+B}}this.$h(A,z[y.$0][1],x);this.$u.$1=y.$0;this.$u.$0=x+'header'},$j:function(x,y,z){var A=this.getWidgetPos('level',y,z);var B=tab.DoubleUtil.roundToInt(this.$q.outerHeight());var C=tab.DoubleUtil.roundToInt(this.$q.outerWidth());this.$s={x:A.x,y:A.y,w:C,h:B};if(this.isOtherActiveInRect(this.$s)){return}this.showNodeAt(x,A.y,A.x)},$h:function(x,y,z){switch(y){case 0:{this.hideNode(this.$q.get(0));this.hideNode(this.$r.get(0));break}case 1:{this.$j(this.$q.get(0),x,z);this.hideNode(this.$r.get(0));break}case 2:{this.$j(this.$r.get(0),x,z);this.hideNode(this.$q.get(0));break}case 3:{if(z==='x'){this.$j(this.$r.get(0),x,z);var A={l:x.l+17,t:x.t,w:x.w+17,h:x.h};this.$j(this.$q.get(0),A,z)}else if(z==='y'){this.$j(this.$r.get(0),x,z);var B={l:x.l+10,t:x.t,w:x.w+17,h:x.h};this.$j(this.$q.get(0),B,z)}break}}},$9:function(x,y,z){var A=-1;var B=y-1;var C=-1;if(ss.isNullOrUndefined(z)){return new f(-1,-1,-1)}while(B<x&&C<z.length-1){C+=1;A=B;B+=z[C][0]}if(B<x){return new f(-1,-1,-1)}return new f(A,B,C)}},r,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(j,a,{get_appendMode:function(){return false},set_appendMode:function(x){},zoomHome:function(){this.$0.zoomHome()},zoomIn:function(){this.$0.$28(2)},zoomOut:function(){this.$0.$28(0.5)},setPointerToolMode:function(x,y){this.$0.setPointerToolMode(x,y)},anyButtonTouched:function(){},defaultPointerToolMode:function(){return this.$0.defaultPointerToolMode()}});ss.initClass(k,a,{clickZoomHome:function(){tab.FloatingZoomToolbar.prototype.clickZoomHome.call(this);if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(false)}},$l:function(x){var y=k.$0(tab.Strings.PanZoomSelectToolsRadialSelectionTooltip);this.radialSelectButton=this.addToggleButton(x,'buttonRadialSelect',y)},$m:function(x){var y=k.$0(tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip);this.rectSelectButton=this.addToggleButton(x,'buttonRectSelect',y)},$j:function(x){var y=k.$0(tab.Strings.PanZoomSelectToolsLassoSelectionTooltip);this.lassoSelectButton=this.addToggleButton(x,'buttonLassoSelect',y)},$k:function(x){var y=k.$0(tab.Strings.PanZoomSelectToolsPanTooltip);this.panButton=this.addToggleButton(x,'buttonPan',y)},createButtons:function(){this.createButtonContainer();if(this.toolbarType==='fullToolbar'){this.zoomInButton=this.addButton(this.buttonContainer,'buttonZoomIn',tab.Strings.PanZoomSelectToolsZoomInTooltip);this.zoomOutButton=this.addButton(this.buttonContainer,'buttonZoomOut',tab.Strings.PanZoomSelectToolsZoomOutTooltip);this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip);this.addSpacer();this.flyOutButton=this.addButton(this.buttonContainer,'buttonFlyOut','');this.createButtonFlyOut();this.$i()}else if(this.toolbarType==='disablePanZoomToolbar'){if(this.geoSearchEnabled){this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.$m(this.buttonContainer);this.$l(this.buttonContainer);this.$j(this.buttonContainer)}else{this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.setupEventHandling()},$i:function(){if(this.toolbarType==='fullToolbar'){var x=k.$0((tab.BrowserSupport.get_isMac()?tab.Strings.PanZoomSelectToolsZoomAreaTooltipMac:tab.Strings.PanZoomSelectToolsZoomAreaTooltip));this.zoomAreaButton=this.addToggleButton(this.flyOutButtons,'buttonZoomArea',x);this.$k(this.flyOutButtons);this.$m(this.flyOutButtons);this.$l(this.flyOutButtons);this.$j(this.flyOutButtons)}},setupEventHandling:function(){tab.FloatingZoomToolbar.prototype.setupEventHandling.call(this);if(this.toolbarType==='fullToolbar'){this.disposables.add$1(this.zoomInButton.onClick(ss.mkdel(this,function(){this.api.zoomIn()})));this.disposables.add$1(this.zoomOutButton.onClick(ss.mkdel(this,function(){this.api.zoomOut()})));this.disposables.add$1(this.zoomAreaButton.onClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('area-zoom')}})));this.disposables.add$1(this.zoomAreaButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true)})));this.flyOutContainer.mouseout(ss.mkdel(this,this.$o));var x=this.flyOutButton.element;x.mouseout(ss.mkdel(this,this.$n));x.mouseenter(ss.mkdel(this,this.toggleFlyout))}if(this.geoSearchEnabled||this.toolbarType!=='disablePanZoomToolbar'){this.zoomHomeButton.add_hover(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.zoomHomeButton.remove_hover(ss.mkdel(this,this.$p))})))}},$p:function(){if(!this.canZoomHome){this.zoomHomeButton.element.removeClass(this.zoomHomeButton.get_hoverClass())}},$o:function(x){var y=this.flyOutContainer.offset();if(y.top>=x.pageY){this.updateFlyOutVisibility(false);return}var z=tab.DoubleUtil.roundToInt(y.left)+tab.DoubleUtil.roundToInt(this.flyOutContainer.width());var A=tab.DoubleUtil.roundToInt(y.top)+tab.DoubleUtil.roundToInt(this.flyOutContainer.height());if(x.pageX>=z||x.pageY>=A){this.updateFlyOutVisibility(false)}},$n:function(x){var y=this.flyOutButton.element.offset();if(y.left>=x.pageX||y.top>=x.pageY){this.updateFlyOutVisibility(false);return}var z=tab.DoubleUtil.roundToInt(y.top)+tab.DoubleUtil.roundToInt(this.flyOutButton.element.height());if(x.pageY>=z){this.updateFlyOutVisibility(false)}}},tab.FloatingZoomToolbar,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(l,a,{dispose:function(){this.$0=null},unsuppressHover:function(x){var y=this.$0.get_inputHandlers()[x.get_regionPart()];if(ss.isValue(y)){y.unsuppressHover()}var z=this.$0.get_responsiveMouseHandler();if(ss.isValue(z)){z.unsuppressHover()}},suppressHover:function(x){var y=this.$0.get_inputHandlers()[x.get_regionPart()];if(ss.isValue(y)){y.suppressHover()}var z=this.$0.get_responsiveMouseHandler();if(ss.isValue(z)){z.suppressHover()}}},null,[ss.IDisposable]);ss.initClass(m,a,{attach:function(){this.$j.add_showed(ss.mkdel(this,this.$7));this.$j.add_closed(ss.mkdel(this,this.$5));this.$j.add_disposed(ss.mkdel(this,this.$a));var x={};spiff.EventHandleSpecExtensions.setHandler(x,'hover',ss.mkdel(this,this.$8));this.$c.add$1(new spiff.TableauEventHandler.$ctor1(this.$j.element[0],x));$(window.document.documentElement).on(this.$k,ss.mkdel(this,this.$6))},detach:function(){this.$0();this.$c.dispose();if(ss.isValue(this.$j)){this.$j.remove_showed(ss.mkdel(this,this.$7));this.$j.remove_closed(ss.mkdel(this,this.$5));this.$j.remove_disposed(ss.mkdel(this,this.$a))}this.$9()},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(x){return!(this.$j.get_isShown()&&this.$j.isInSafeZone(x,!this.$d))},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(x){this.$e=x},handleUbertipMenuClose:function(){this.$j.close()},hoverOverObject:function(x,y,z,A){this.showTooltip(x)},hoverOverWhitespace:function(x){if(this.$j.get_isShown()&&!this.$j.isInSafeZone(x,false)){this.$j.close()}},multiSelectComplete:function(x){this.showTooltip(x)},singleSelectComplete:function(x){this.showTooltip(x)},selectionMoved:function(x){},repositionWithinRegion:function(x){},onPanningOrDragging:function(){if(this.$j.get_isShown()){this.$j.close()}},onScroll:function(){if(this.$j.get_isShown()){this.$j.close()}},mouseDown:function(x,y){this.$j.close()},showTooltip:function(x){if(spiff.DragDropManager.get_isDragging()){return}if(this.$j.get_isShown()&&tab.PointUtil.equals(this.$j.get_location(),x)){return}if(this.$j.get_isShown()&&this.$j.isInSafeZone(x,false)){return}this.$j.show(this.$j.get_body().children()[0],x)},$7:function(){this.$0();this.$g=false;this.$d=false;this.$h=new Date;this.$j.set_lastLocation({x:this.$j.get_calculatedShownArgs().origX,y:this.$j.get_calculatedShownArgs().origY});this.$1(10000)},$5:function(){this.$j.element.off('.LegacyTooltipBehavior');this.$j.set_lastLocation(null);this.$0();this.$h=null;this.$d=false},$6:function(x){var y=this.$j.get_lastLocation();this.$j.set_lastLocation({x:x.pageX,y:x.pageY});if(ss.isNullOrUndefined(y)||!this.$j.get_isShown()){return}if(this.$4(this.$j.get_lastLocation())){this.$d=true;return}if(!this.$e&&!this.$j.isInSafeZone(this.$j.get_lastLocation(),!this.$d)){this.$j.close();return}var z=tab.PointUtil.distance(y,this.$j.get_lastLocation());var A=new Date-this.$h;if(z>10&&A>500){this.$g=true;if(ss.isValue(this.$b)){ss.remove(this.$i,ss.unbox(this.$b));this.$b=tab.MiscUtil.clearTimeout(this.$b)}this.$2()}else if(this.$g){if(!ss.isValue(this.$b)){this.$b=this.$1(1200)}}},$2:function(){this.$f=tab.MiscUtil.clearTimeout(this.$f);this.$f=window.setTimeout(ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$b)){this.$b=this.$1(1200)}}),250)},$9:function(){$(window.document.documentElement).off(this.$k)},$4:function(x){if(ss.isNullOrUndefined(x)){return false}var y=this.$3();return tab.RectUtil.inRect(y,x)},$3:function(){var x=this.$j.element.position();var y={l:tab.DoubleUtil.roundToInt(x.left),t:tab.DoubleUtil.roundToInt(x.top),w:tab.DoubleUtil.roundToInt(this.$j.element.width()),h:tab.DoubleUtil.roundToInt(this.$j.element.height())};return y},$1:function(x){var y=window.setTimeout(ss.mkdel(this,function(){if(this.$4(this.$j.get_lastLocation())){return}this.$j.close()}),x);this.$i.push(y);return y},$8:function(x){if(this.$4(this.$j.get_lastLocation())){return}this.$0()},$a:function(x,y){this.dispose()},$0:function(){for(var x=0;x<this.$i.length;x++){var y=this.$i[x];window.clearTimeout(y)}ss.clear(this.$i);this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$f=tab.MiscUtil.clearTimeout(this.$f)}},null,[tab.ITooltipBehavior,ss.IDisposable]);ss.initClass(n,a,{updateSearchTextValue:function(x){this.$t(x,true)},$t:function(x,y){tab.MapsSearchView.prototype.updateSearchTextValue.call(this,x);if(y===true){this.selectAllSearchText()}},$r:function(x){if(this.get_compositeSearchWidget().get_textInputView().get_text().length===0){return}var y=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionStart');var z=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionEnd');if(ss.isValue(y)&&ss.isValue(z)&&!ss.referenceEquals(y,z)){return}this.selectAllSearchText()},$q:function(x){this.$u=x;if(ss.isValue(x)){var y=x.get_data();this.$t(y,false)}},handleEnterKeyPress:function(){if(ss.isValue(this.$u)){this.mapsSearchViewModel.moveMapToCandidateBounds(this.$u.get_data());this.get_compositeSearchWidget().removeList();return}tab.MapsSearchView.prototype.handleEnterKeyPress.call(this)},$s:function(){if(ss.isNullOrUndefined(this.get_compositeSearchWidget().get_listViewModel())||ss.isValue(this.queryDelayTimer)||ss.isValue(this.$u)){return}var x=this.get_compositeSearchWidget();x.changeSpotlightedListItem(2,null)},handleSearchButtonClick:function(){tab.MapsSearchView.prototype.handleSearchButtonClick.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},handleCollapseSearchWidget:function(){tab.MapsSearchView.prototype.handleCollapseSearchWidget.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},calculateNewSpotlightedItemIndex:function(x,y,z){if(y===4){return z}var A=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-1;if(ss.isNullOrUndefined(x)){switch(y){case 1:case 2:{return 0}case 0:case 3:{return A}}}var B=x;switch(y){case 1:{B=ss.Nullable$1.add(B,1);if(ss.Nullable$1.gt(B,A)){B=0}break}case 0:{B=ss.Nullable$1.sub(B,1);if(ss.Nullable$1.lt(B,0)){B=A}break}case 2:{B=0;break}case 3:{B=A;break}}return B}},tab.MapsSearchView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.MapsSearchViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(o,a,{$2:function(x,y){tab.Param.verifyValue(x,'element');tab.Param.verifyValue(y,'handler');if(o.$0()){this.$1();document.addEventListener('mousemove',ss.mkdel(this,this.$0),true);this.$3=y}},$1:function(){if(o.$0()){document.removeEventListener('mousemove',ss.mkdel(this,this.$0),true)}},$0:function(x){if(ss.isValue(this.$3)){this.$3.handleCapturedMouseMove(x)}},dispose:function(){this.$1()}},null,[ss.IDisposable]);ss.initClass(p,a,{exportAsAxisResizerDomElements:function(){var x=new tab.AxisResizerDomElements(this.topLeftSpacer,this.topRightSpacer,this.bottomLeftSpacer,this.view,this.topAxis,this.rightAxis,this.bottomAxis,this.leftAxis);return x}},tab.PaneTableTemplate,[ss.IDisposable]);ss.initClass(q,a,{get_inputHandlers:function(){return this.$2k},get_domWeb:function(){return this.$2c},get_responsiveMouseHandler:function(){return this.$2s},$29:function(){return this.getWebRegion('viz')},get_zoomToolbarOffset:function(){var x=41;var y=10;if(this.get_paneTableVM().get_mapSearchEnabled()){y+=x}return y},get_zoomToolbarOperations:function(){return new j(this)},get_capturedPaneTableViewMousePosition:function(){return this.$1w()},$1C:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')&&ss.isValue(this.get_paneTableVM().deferredHeaderResizerManagerViewModel)&&ss.isValue(this.get_paneTableVM().deferredResizerFactory)){var x=$.Deferred();this.deferredHeaderResizerManager=x.promise();this.get_paneTableVM().deferredHeaderResizerManagerViewModel.done(ss.mkdel(this,function(y){this.get_paneTableVM().deferredResizerFactory.done(ss.mkdel(this,function(z){x.resolve(z.newHeaderResizerManager(y,this.get_domWeb().yLabel,this.get_domWeb().xLabel))}))}))}},$1B:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeadersPhase2')&&ss.isValue(this.get_paneTableVM().deferredCellResizerManagerViewModel)&&ss.isValue(this.get_paneTableVM().deferredResizerFactory)){var x=$.Deferred();this.deferredCellResizerManager=x.promise();this.get_paneTableVM().deferredCellResizerManagerViewModel.done(ss.mkdel(this,function(y){this.get_paneTableVM().deferredResizerFactory.done(ss.mkdel(this,function(z){x.resolve(z.newCellResizerManager(y,this.get_domWeb().yLabel,this.get_domWeb().xLabel))}))}))}},$1A:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeAxes')&&ss.isValue(this.get_paneTableVM().deferredResizerFactory)){var x=$.Deferred();this.deferredAxisResizerManager=x.promise();this.get_paneTableVM().deferredResizerFactory.done(ss.mkdel(this,function(y){x.resolve(y.newAxisResizerManager(this.get_domWeb().exportAsAxisResizerDomElements(),this.get_paneTableVM().get_visualId()))}))}},$28:function(x){if(this.get_paneTableVM().get_isMapWithBaseLayer()&&!this.$29().allowMapZoomAtCurrentLevel(x)){return}var y=this.resolvePane({x:1,y:1});this.disposeOfOverlays();this.$29().$L(y,x)},initEventHandlers:function(){var x=null;var y=null;var z=ss.thisFix(ss.mkdel(this,function(){x=tab.MiscUtil.dispose$1(x);y=tab.MiscUtil.dispose$1(y);tab.PaneTableView.prototype.initEventHandlers.call(this)}));var A=this.dom.domRoot[0];x=spiff.EventUtil.addEventListenerWithDispose(A,'mouseenter',z,true);y=spiff.EventUtil.addEventListenerWithDispose(A,'touchstart',z,true);this.disposables.add$1(x);this.disposables.add$1(y)},getDomNodeForContentRegion:function(x){return x.get(0)},connectTooltipEventHandlers:function(){tab.PaneTableView.prototype.connectTooltipEventHandlers.call(this);this.get_vizToolTip().add_mouseExitedTooltip(ss.mkdel(this,this.$1P))},makeConnections:function(){this.$2c.scrollX.scroll(ss.mkdel(this,function(x){this.$1T()}));this.$2c.scrollY.scroll(ss.mkdel(this,function(x){this.$1U()}));this.dom.domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),ss.mkdel(this,this.$1R));this.dom.domRoot.mouseout(ss.mkdel(this,this.onMouseOut));this.dom.domRoot.mousemove(ss.mkdel(this,this.onMouseMove));this.dom.view.mouseover(ss.mkdel(this,this.onViewMouseOver));this.dom.view.mouseout(ss.mkdel(this,this.onViewMouseOut));this.dom.view.mousemove(ss.mkdel(this,this.onViewMouseMove));this.dom.domRoot.attr('tabindex','-1');this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.dom.domRoot,'keyup',ss.mkdel(this,this.$1O)))},makeMapsSearchViewConnections:function(){if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().set_focusInHandler(ss.mkdel(this,function(x){this.checkForSuppressTooltipsAndOverlays(x.target)}));this.get_paneTableVM().get_mapsSearchViewModel().set_focusOutHandler(ss.mkdel(this,function(x){this.checkForSuppressTooltipsAndOverlays(x.relatedTarget)}));this.get_paneTableVM().get_mapsSearchViewModel().set_keypressHandler(ss.mkdel(this,function(x){this.checkForSuppressTooltipsAndOverlays(x.target)}))}},makeRegions:function(){var x=this.makeHoverApi();ss.clearKeys(this.regions);var y=function(){return false};for(var z=0;z<tab.PaneTableViewRegionParts.nonVizContentRegions.length;z++){var A=tab.PaneTableViewRegionParts.nonVizContentRegions[z];var B=this.regionParts.getSelectorForRegion(A);var C=new tab.ToolModeViewModel(A,this.get_paneTableVM().get_visualModel().get_defaultMapTool());this.regions[A]=new u(A,B.get(0),x,this.$2c.scrollX,this.$2c.scrollY,y,this.get_sheetid(),this.get_paneTableVM(),C)}var D=ss.mkdel(this,this.allowPanZoomActions);this.set_vizRegion(new u('viz',this.get_vizRegionDomNode().get(0),x,this.$2c.scrollX,this.$2c.scrollY,D,this.get_sheetid(),this.get_paneTableVM(),this.get_paneTableVM().get_vizRegionToolModeViewModel()));this.get_paneTableVM().get_vizRegionToolModeViewModel().initializeToolModesForVizRegion(D())},getWebRegion:function(x){return ss.safeCast(this.regions[x],u)},makeTooltipLegacyMode:function(x){return new v(x,this.get_visualId())},cancelHover:function(){},makeInputHandlers:function(){var x=ss.getEnumerator(Object.keys(this.$2k));try{while(x.moveNext()){var y=x.current();this.$2k[y]=tab.MiscUtil.dispose$1(this.$2k[y])}}finally{x.dispose()}ss.clearKeys(this.$2k);for(var z=0;z<tab.PaneTableViewRegionParts.nonVizContentRegions.length;z++){var A=tab.PaneTableViewRegionParts.nonVizContentRegions[z];var B=this.regionParts.getSelectorForRegion(A);var C=this.makeMouseSpec(this.getWebRegion(A));this.$2k[A]=new spiff.TableauEventHandler.$ctor1(B.get(0),C)}this.$27();var D=this.get_vizRegionDomNode();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){var E={hoverDelay:20,hover:ss.mkdel(this,function(I){this.get_vizHitTester().update(I)})};var F=ss.mkdel(this,function(I){this.onHitTestUpdated(this.$29(),I)});this.get_vizHitTester().add_updated(F);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_vizHitTester().remove_updated(F)})));this.$2x=new spiff.TableauEventHandler.$ctor1(D.get(0),E);this.disposables.add$1(this.$2x)}var G={};spiff.EventHandleSpecExtensions.setHandler(G,'dragStart',function(I){});this.$2e=new spiff.TableauEventHandler.$ctor1(document.body,G);this.disposables.add$1(this.$2e);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var H={hover:ss.mkdel(this,function(I){this.onHoverOverlay(this.$29(),I)}),hoverDelay:0};this.$2s=new spiff.TableauEventHandler.$ctor1(D.get(0),H);this.disposables.add$1(this.$2s)}this.$1F();D.addClass('tvmodeRectSelect')},$27:function(){this.$2k['viz']=tab.MiscUtil.dispose$1(this.$2k['viz']);var x=this.makeMouseSpec(this.$29());this.$2k['viz']=new spiff.TableauEventHandler.$ctor1(this.get_vizRegionDomNode().get(0),x)},updateTooltipMode:function(x){tab.PaneTableView.prototype.updateTooltipMode.call(this,x);if(ss.isNullOrUndefined(this.vizTooltip)){this.$27()}},$1F:function(){var x=ss.mkdel(this,function(D){var E={hover:ss.mkdel(this,function(G){this.$1N(this.getWebRegion(D),G)}),hoverDelay:0,firstTouch:ss.mkdel(this,function(G){this.$1M(this.getWebRegion(D))})};var F=this.regionParts.getSelectorForRegion(D);this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(F.get(0),E));F.mouseout(ss.mkdel(this,function(G){this.$1Q(D)}))});for(var y=0;y<tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader.length;y++){var z=tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader[y];x(z)}if(tab.FeatureFlags.isEnabled('EditAxisWebAffordance')&&tsConfig.is_authoring){var A=tab.ListExtensions.where(Object).call(null,tab.PaneTableViewRegionParts.axisRegions,function(D){return!ss.contains(tab.PaneTableViewRegionParts.regionsThatMightContainCategoricalHeader,D)});for(var B=0;B<A.length;B++){var C=A[B];x(C)}}},makeHoverApi:function(){if(ss.isNullOrUndefined(this.$2i)){this.$2i=new l(this);this.disposables.add$1(this.$2i)}return this.$2i},doAnnotationDoubleTap:function(x,y){if(tsConfig.current_sheet_type!=='story'&&tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('RichTextEditingAnnotation')){var z=this.getHitTestResults(x,y);if(z.get_hitObjectType()===2){this.get_paneTableVM().handleAnnotationClicked([z.get_id()]);return true}}return false},makeMouseSpec:function(x){var y={hover:ss.mkdel(this,function(B){this.onHoverTooltip(x,B)}),hoverDelay:(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?120:150)};var z=this.get_paneTableVM().get_visualModel().get_tooltipMode();if(z!=='sticky'){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&x.get_regionPart()==='viz'){y.hoverDelay=0}else{var A=tab.FeatureParamsLookup.getInt(12);y.hoverDelay=ss.coalesce(A,120)}}y.firstTouch=ss.mkdel(this,function(B){this.$1L(x,B)});y.tap=ss.mkdel(this,function(B){this.$1V(x,B)});if(tab.FeatureFlags.isEnabled('EditAxisDialog')&&tsConfig.is_authoring&&ss.contains(tab.PaneTableViewRegionParts.axisRegions,x.get_regionPart())){y.doubleTap=ss.mkdel(x,x.onDoubleTapAxis)}if(x.get_regionPart()==='viz'){y.dragStart=ss.mkdel(this,function(B){this.dragOverride(B,ss.mkdel(this,function(C){this.$1K(x,B)}))});if(tsConfig.allow_filter){y.doubleTap=ss.mkdel(this,function(B){this.$1H(x,B)});y.press=function(B){q.$2()};y.cancelPotentialDoubleTap=ss.mkdel(this,function(B){this.$1G()});y.pressDragStart=ss.mkdel(this,function(B){this.dragOverride(B,ss.mkdel(this,function(C){this.$1S(x,B)}))})}}return y},makeRegionContentProviders:function(){var x=ss.mkdel(this,function(y,z){this.get_vizRegion().reset()});this.makeRegionContentProvidersHelper(this.get_vizRegionDomNode(),x);this.$2v=this.makeTiledWindow(this.$2c.scrollY,null,null,null,null);this.$2u=this.makeTiledWindow(this.$2c.scrollX,null,null,null,null)},makeTiledWindow:function(x,y,z,A,B){return this.makeTiledWindowHelper(x,y,z,A,B,true)},shouldInformTooltipOfLocalTapOnViz:function(x,y){return true},refreshScrollingAndDrilling:function(){var x=this.$2r;this.$2r=null;if(typeof(x)==='function'){x()}this.tryUpdateSortAndDrillWidgets()},tryUpdateSortAndDrillWidgets:function(){if(ss.isValue(this.$2h)){this.$2h.onUpdate()}if(ss.isValue(this.$2w)){this.$2w.onUpdate()}if(ss.isValue(this.$2a)){this.$2a.onUpdate()}},destroyRegions:function(){tab.PaneTableView.prototype.destroyRegions.call(this);this.$2v.destroy();this.$2u.destroy()},destroyInputHandlers:function(){var x=ss.getEnumerator(Object.keys(this.$2k));try{while(x.moveNext()){var y=x.current();this.$2k[y]=tab.MiscUtil.dispose$1(this.$2k[y])}}finally{x.dispose()}ss.clearKeys(this.$2k);if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_mouseExitedTooltip(ss.mkdel(this,this.$1P))}this.$1Y()},refreshImages:function(x){tab.PaneTableView.prototype.refreshImages.call(this,x);this.$2v.refreshImages(x);this.$2u.refreshImages(x)},onTooltipClosed:function(){tab.PaneTableView.prototype.onTooltipClosed.call(this);this.disposeOfOverlayImages();this.$1o(false)},$1P:function(x){var y=tab.DomUtil.getRectXY(this.dom.view);if(y.x>x.x||y.x+y.w<=x.x||y.y>x.y||y.y+y.h<=x.y){this.disposeOfOverlays();if(this.get_vizToolTip().get_isTooltipShown()){this.get_vizToolTip().clearTooltipWithFakeHover()}}},onViewMouseOver:function(x){this.$2l=true;this.floatingZoomToolbarView.showFloatingZoomToolbar(true);if(ss.isValue(this.mapsSearchView)&&this.get_paneTableVM().get_mapSearchEnabled()){this.get_paneTableVM().get_mapsSearchViewModel().setVisible(true)}this.checkForSuppressTooltipsAndOverlays(x.target)},$1D:function(x){var y=tab.DomUtil.getRectXY(this.dom.domRoot);return q.$1(y,x)},$1E:function(x){var y=tab.DomUtil.getRectXY(this.dom.view);return q.$1(y,x)},isPointOutsideOfRelevantVizRegions:function(x){if(!this.$1E(x)){return false}if(!q.$1(tab.DomUtil.getRectXY(this.dom.yLabel),x)){return false}if(!q.$1(tab.DomUtil.getRectXY(this.dom.xLabel),x)){return false}if(!q.$1(tab.DomUtil.getRectXY(this.dom.caption),x)){return false}if(!q.$1(tab.DomUtil.getRectXY(this.dom.leftAxis),x)){return false}if(!q.$1(tab.DomUtil.getRectXY(this.dom.rightAxis),x)){return false}if(!q.$1(tab.DomUtil.getRectXY(this.dom.bottomAxis),x)){return false}if(!q.$1(tab.DomUtil.getRectXY(this.dom.topAxis),x)){return false}return true},onMouseOut:function(x){if(this.$1D(x)){if(ss.isValue(this.$2w)){this.$2w.onMouseOutOfParentPaneTableView()}if(ss.isValue(this.$2h)){this.$2h.turnDrillWidgetsOff()}}if(this.isPointOutsideOfRelevantVizRegions(x)){this.get_vizToolTip().clearTooltipWithFakeHover();this.$1p()}},$1p:function(){if(!this.$2g){this.disposeOfOverlayImages()}},onMouseMove:function(x){var y=this.get_vizToolTip();if(y.get_isTooltipShown()&&!y.shownTooltipIsStatic()&&this.$1E(x)){var z=tab.DomUtil.getRectXY(this.dom.view);y.hoverOverWhitespace({x:z.x,y:z.y},'viz')}},onViewMouseOut:function(x){this.$2l=false;this.$2o=null;var y=this.get_vizToolTip();if(this.$1E(x)){this.floatingZoomToolbarView.showFloatingZoomToolbar(false);if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().setVisible(false)}if(y.get_isTooltipShown()&&!y.shownTooltipIsStatic()){var z=tab.DomUtil.getRectXY(this.dom.view);y.hoverOverWhitespace({x:z.x,y:z.y},'viz')}}if(!y.get_isTooltipShown()){this.$1p()}this.checkForSuppressTooltipsAndOverlays(x.relatedTarget);this.get_vizToolTip().onMouseLeaveTheView()},onViewMouseMove:function(x){this.$2l=true;this.checkForSuppressTooltipsAndOverlays(x.target)},setupSortIndicators:function(){this.$2w=new s(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$2w)},setupAxisContextMenuIndicator:function(){this.$2a=new g(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$2a)},setupDrilling:function(){this.$2h=new i(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$2h)},setRegionGeometryHelper:function(x,y){if(ss.isValue(x)&&x.children().first().hasClass('tvScrollContainer')){tab.DomUtil.setAbsolutePositionBox(x.children().first(),{l:0,t:0,w:y.w,h:y.h})}},setGeometryForWebScrollbars:function(x,y){var z=x.get_scrollWidth()>0;var A=x.get_scrollHeight()>0;this.$1W(x,z);this.$1X(x,y,A);var B=!!(A^z);this.$2t=new tab.ScrollAdjuster(B);this.$21(x,z,A)},$1W:function(x,y){var z=this.$2c.scrollY;if(y){var A=Math.max(tab.Metrics.get_minScrollHeight(),x.get_viewHeight());var B={l:x.get_overallWidth(),t:x.get_scrollYTop(),w:x.get_scrollWidth(),h:A};tab.DomUtil.setAbsolutePositionBox(z,B)}z.toggle(y)},$1X:function(x,y,z){var A=this.$2c.scrollX;if(z){var B=Math.max(tab.Metrics.get_minScrollWidth(),x.get_viewWidth());var C={l:x.get_scrollXLeft(),t:y,w:B,h:x.get_scrollHeight()};tab.DomUtil.setAbsolutePositionBox(A,C)}A.toggle(z)},$21:function(x,y,z){this.$22(x,y);this.$20(x,z)},$22:function(x,y){this.$2v.setYPos(this.$1y());var z=(y?{x:0,y:0,w:1,h:x.get_scrollableHeight(),r:null}:null);this.$2v.reset(z,this.geometry.ts)},$20:function(x,y){this.$2u.setXPos(this.$1x());var z=(y?{x:0,y:0,w:x.get_scrollableWidth(),h:1,r:null}:null);this.$2u.reset(z,this.geometry.ts)},maybeShowOverlayImages:function(x){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var y=null;if(ss.isValue(x)&&ss.isValue(x.overlayImage)){y=this.createOverlayImageFromDataUri(x.overlayImage)}else if(ss.isValue(x.overlayImageKey)){y=this.createOverlayImageFromFile(x.overlayImageKey)}this.showOverlayImages(y,x.overlayAnchors)}},setRegionResizersForWeb:function(){this.$1u();this.$25();this.$1t()},$1u:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')&&ss.isValue(this.deferredHeaderResizerManager)){this.deferredHeaderResizerManager.done(function(x){x.handleResizerUpdate()})}},$1t:function(){if(this.$1n()){this.deferredCellResizerManager.done(ss.mkdel(this,function(x){x.scrollX(this.$1x())}));this.deferredCellResizerManager.done(ss.mkdel(this,function(x){x.scrollY(this.$1y())}));this.deferredCellResizerManager.done(function(x){x.handleCellResizerUpdate()})}},$1n:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeadersPhase2')&&ss.isValue(this.deferredCellResizerManager)){return true}return false},$25:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeAxes')&&ss.isValue(this.deferredAxisResizerManager)){this.deferredAxisResizerManager.done(function(x){x.setAxisResizers()})}},$26:function(){this.$2y={x:0,y:0};this.$2q=0;this.$2b=null;this.$2p=0;this.$2n=null;if(ss.isValue(this.$2t)){this.$2t.forgetInputDevice()}},$1R:function(x){var y=null;if(ss.isValue(x['originalEvent'])){y=x['originalEvent']}var z=this.$2t.normalizeScrollWheelDeltas(y);if(this.isOneVisiblePane()&&this.get_paneTableVM().get_isMap()&&this.allowPanZoomActions()){if(this.$2t.get_isFromTouchpad()){z.y=tab.ScrollAdjusterUtil.adjustVerticalScrollDeltaForTouchpad(z.y);this.$2q++;if(this.$2q%tab.MapUtil.touchEventSamplingRate!==0){x.preventDefault();return}}if(this.$2m){x.preventDefault();return}this.$2y.y+=z.y;if(!this.$1E(x)){var A=this.$29();var B=q.$0(A,y);this.$1l(B,A,x);return}}var C=this.$1y();var D=this.$1x();this.$2c.scrollY.scrollTop(C+z.y);this.$2c.scrollX.scrollLeft(D+z.x);if(C!==this.$1y()){this.$24();x.preventDefault()}if(D!==this.$1x()){this.$23();x.preventDefault()}this.get_vizToolTip().onScroll();this.disposeOfOverlays()},$1l:function(x,y,z){if(ss.isNullOrUndefined(this.$2b)&&this.get_paneTableVM().get_visualModel().shouldDoLocalCommand()&&y.isWaitingOnPanZoomServerResponse()){return}var A=null;if(ss.isNullOrUndefined(this.$2b)){if(y.mapIsBrowserRendered()){A=y.getPointLatLong(x);A.done(ss.mkdel(this,function(F){this.$2n=F}))}this.$2b=x}if(y.mapIsBrowserRendered()){this.$2p=ss.Int32.div(this.$2y.y,tab.MapUtil.defaultWheelDeltaIncrement)*tab.MapUtil.minimumZoomLevelIncrement}var B=this.get_paneTableVM().get_mapServerModel();var C=(B.get_hasPresModel()?B.get_zoom():1);var D=tab.MapUtil.calculateZoomFactor(this.$2y.y);if(y.mapIsBrowserRendered()&&!tab.MapUtil.allowZoomAtCurrentLevelLeaflet(C,this.$2p)||!tab.MapUtil.allowZoomAtCurrentLevel(C,D)){this.$2p=C;D=tab.MapUtil.getZoomFactorForDesiredZoomLevel(C,0);this.$2y.y=tab.MapUtil.getScrollDeltaForZoomFactor(D)}var E=ss.mkdel(this,function(F){this.$1m(y,C,D,F)});if(!this.$2m){if(ss.isValue(A)){A.done(function(F){E(F)})}else{E(this.$2n)}z.preventDefault()}y.setWaitingOnPanZoomServerResponseState();this.$1q();this.$2z=window.setTimeout(ss.mkdel(this,function(){this.$2m=true;var F=function(){y.reset()};tab.PanZoomCommands.zoomWithAnchorPoint(y.get_regionPart(),this.$2b,D,F,ss.mkdel(this,function(){this.$2m=false}),this.get_sheetid());y.updateLocalMapDataForZoomAround(this.$2b,C-this.$2p);this.$26()}),500)},$1m:function(x,y,z,A){this.isAnimationOccurring=true;var B=this.resolvePane(this.$2b);if(x.mapIsBrowserRendered()){var C=y-this.$2p;x.animateAnchorZoomLeaflet(B,A,C)}else{x.animateAnchorZoom(B,this.$2b,z)}this.disposeOfOverlays()},$1U:function(){this.get_vizToolTip().onScroll();this.$24()},$24:function(){var x=this.$1y();for(var y=0;y<tab.PaneTableViewRegionParts.scrollableYRegions.length;y++){var z=tab.PaneTableViewRegionParts.scrollableYRegions[y];this.getWebRegion(z).setYPos(x)}this.set_scrollPosition({x:this.$1x(),y:x});if(this.$1n()){this.deferredCellResizerManager.done(function(A){A.scrollY(x)})}},$1T:function(){this.get_vizToolTip().onScroll();this.$23()},$23:function(){var x=this.$1x();for(var y=0;y<tab.PaneTableViewRegionParts.scrollableXRegions.length;y++){var z=tab.PaneTableViewRegionParts.scrollableXRegions[y];this.getWebRegion(z).setXPos(x)}this.set_scrollPosition({x:x,y:this.$1y()});if(this.$1n()){this.deferredCellResizerManager.done(function(A){A.scrollX(x)})}},$1O:function(x){if(this.$29().get_isDragTracking()){return}if(!ss.referenceEquals(x.target,this.element.get(0))&&!ss.referenceEquals(x.target,this.dom.view.get(0))&&!ss.referenceEquals(x.target,this.dom.view.find('.tvimagesContainer').get(0))){return}var y;switch(x.which){case 68:{y='lasso-selection';break}case 83:{y='radial-selection';break}case 65:{y='rectangular-selection';break}default:{return}}if(y===this.get_paneTableVM().get_vizRegionToolModeViewModel().get_currentPointerToolMode()){y=this.defaultPointerToolMode()}var z=this.floatingZoomToolbarView.setToolMode(y,true);if(!z){this.setPointerToolMode(y,true)}},checkForHoverOverlay:function(){this.$1o(true)},$1o:function(x){if(ss.isValue(this.lastVizHoverPoint)&&this.$2l){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(x)}else{this.disposeOfOverlayImages()}},$1N:function(x,y){var z=x.toLocalCoordsEvent(y,false);if(ss.isNullOrUndefined(z)||this.isUserDragging()||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(x.get_contentProvider())){return}var A=x.hitTestNodes(z);if(ss.isValue(A)){var B=tab.SelectionUtils.isCategoricalAndTupleAssociatedHeader(A.node);var C=tab.FeatureFlags.isEnabled('EditAxisWebAffordance')&&tab.SelectionUtils.isQuantitative(A)&&tsConfig.is_authoring;A=((B||C)?A:null)}var D=tab.ModelUtils.regionToVisualPartMap[x.get_regionPart()];this.updateHoveredCategoricalHeadersAndQuantitativeAxes(A,'hover',D)},$1M:function(x){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(x.get_contentProvider())){return}var y=tab.ModelUtils.regionToVisualPartMap[x.get_regionPart()];this.updateHoveredCategoricalHeadersAndQuantitativeAxes(null,'press',y)},$1Q:function(x){var y=tab.ModelUtils.regionToVisualPartMap[x];var z=this.get_paneTableVM().get_vizRegionMap()[y];if(ss.isValue(z)){z.set_hoveredNodeOrAxis(null)}},isUserDragging:function(){return spiff.DragDropManager.get_isDragging()||u.isDragTrackingInAnyRegion},onHoverOverVisualPart:function(x,y){var z=x;z.setMouseOverMarkOrVisualPart(y)},$1L:function(x,y){if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().removeSuggestionList()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&x.get_regionPart()==='viz'){var z=x.toLocalCoordsEvent(y,false);var A=this.$29().hitTestSingleMarksAndVisualParts(z,false);if(A.get_shouldRenderOverlay()){this.wasPressOverlayJustUpdated=true;this.updateOverlayTarget(A.get_id(),'press',A.get_overlayTargetType())}}},$1v:function(){var x=this.get_paneTableVM().get_selectionsModel().get_allLegendSelections();for(var y=0;y<x.length;y++){var z=x[y];if(!z.isEmpty){return true}}return false},isSelectActionOnVizAllowed:function(x){return x==='simple'||!this.$1v()},onHitTestUpdated:function(x,y){this.$1s();if(this.getVizDragApproval(y)){var z=x.toLocalCoords(y.get_pageCoordinates(),false);this.$1r(z)}},$1r:function(x){var y=$('<div class="tabDragIcon" ></div>');if(tab.BrowserSupport.get_isIE()){y.css('cursor','alias')}else{y.css('cursor','-webkit-grab');y.css('cursor','-moz-grab');y.css('cursor','grab')}y.css('position','absolute');var z=20;y.css('top',x.y-z+'px');y.css('left',x.x-z+'px');y.css('height',40+'px');y.css('width',40+'px');var A=this.makeMouseSpec(this.$29());this.get_vizRegionDomNode().append(y);this.$2f=new spiff.TableauEventHandler.$ctor1(y.get(0),A)},disposeOfOverlays:function(){this.$1s();tab.PaneTableView.prototype.disposeOfOverlays.call(this)},$1s:function(){this.$2f=tab.MiscUtil.dispose$1(this.$2f);this.get_vizRegionDomNode().children('.tabDragIcon').remove()},$1V:function(x,y){if(this.$2j){this.$2j=false;return}y.stopPropagation();this.get_vizToolTip().onTap();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.disposeOfOverlays()}if(y.originalEvent['button']>1){return}var z=x.toLocalCoordsEvent(y,false);var A=tab.PointUtil.add(z,x.getLocalOffsetPoint(false));if(this.allowPanZoomActions()&&x.get_toolModeViewModel().get_isZoomToolActive()){var B=this.resolvePane(x.toLocalCoordsEvent(y,false));x.$K(y,B);return}var C=q.$3(x,y);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.handleLocalTap(x,C,A,z,'default',false)}else{var D=ss.mkdel(this,function(){if(!tsConfig.allow_select){this.makeHoverApi().unsuppressHover(x)}var F=tab.PaneTableView.guessTooltipTargetTypeFromRegion(x.get_regionPart());this.get_vizToolTip().singleSelectCoordinates(A,z,x.get_regionPart(),F,null)});var E={x:z.x,y:z.y,w:0,h:0};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(x.get_regionPart(),E,C,this.get_paneTableVM().get_visualId(),D,'default',null);this.dom.domRoot.focus()}},getHitTestResults:function(x,y){var z=x.toLocalCoordsEvent(y,false);var A=x.hitTestSingleMarksAndVisualParts(z,false);return A},$1H:function(x,y){if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(this.doAnnotationDoubleTap(x,y)){return}var z=((y.shiftKey&&!spiff.EventUtil.isCtrlKey(y))?0.5:2);this.doDoubleTap(x,y,z)},$1K:function(x,y){var z=this.resolvePane(x.toLocalCoordsEvent(y,false));this.$1z();if(!tsConfig.allow_filter){this.setPointerToolMode(x.get_toolModeViewModel().get_currentPointerToolMode(),false)}else{switch(x.get_toolModeViewModel().get_currentPointerToolMode()){case'pan-map':case'area-zoom':case'zoom-out':{var A=!y.shiftKey;this.setPointerToolMode(x.get_toolModeViewModel().get_currentPointerToolMode(),A);break}}}this.$1Z(x);if(ss.isValue(this.$2h)){this.$2h.set_enabled(false)}if(ss.isValue(this.$2w)){this.$2w.set_enabled(false)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().enableUserInteraction(false)}this.floatingZoomToolbarView.enableUserInteraction(false);x.$k(y,z)},$1I:function(x){var y=this.$29();y.$j(x);if(this.get_paneTableVM().get_vizRegionToolModeViewModel().get_isSelectingToolActive()){this.checkForDragOverlays();this.$2g=true}},$1J:function(x){this.$2j=x.type==='mousedown';this.get_vizToolTip().onDragEnd(null);this.disposeOfOverlays();this.$2g=false;this.$29().$i(x,this.get_vizToolTip());this.$1Y();if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(ss.isValue(this.$2h)){this.$2h.set_enabled(true)}if(ss.isValue(this.$2w)){this.$2w.set_enabled(true)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().enableUserInteraction(true)}this.floatingZoomToolbarView.enableUserInteraction(true)},$1S:function(x,y){var z=this.resolvePane(x.toLocalCoordsEvent(y,false));this.$1z();if(!tsConfig.allow_filter){this.setPointerToolMode(x.get_toolModeViewModel().get_currentPointerToolMode(),false)}else{switch(x.get_toolModeViewModel().get_currentPointerToolMode()){case'pan-map':{var A=!y.shiftKey;this.setPointerToolMode(x.get_toolModeViewModel().get_currentPointerToolMode(),A);break}case'zoom-out':case'area-zoom':{break}}}x.$k(y,z);this.$1Z(x)},$1G:function(){if(!this.isPointerToolLocked){this.resetPointerToolMode()}},$1Z:function(x){this.lastVizHoverPoint=null;this.get_vizToolTip().onPanOrDragStart(null);this.$1s();if(!x.get_toolModeViewModel().get_isSelectingToolActive()){this.disposeOfOverlays()}},$1Y:function(){var x={};spiff.EventHandleSpecExtensions.removeHandler(x,'dragMove');spiff.EventHandleSpecExtensions.removeHandler(x,'dragEnd');if(ss.isValue(this.$2e)){this.$2e.update(x)}this.$2d=tab.MiscUtil.dispose$1(this.$2d)},$1z:function(){var x={};spiff.EventHandleSpecExtensions.setHandler(x,'dragMove',ss.mkdel(this,this.$1I));spiff.EventHandleSpecExtensions.setHandler(x,'dragEnd',ss.mkdel(this,this.$1J));this.$2e.update(x);tab.WindowHelper.clearSelection();tab.MiscUtil.dispose$1(this.$2d);this.$2d=new spiff.Glass;this.$2d.show();var y=this.$29();y.setCursor(y.determineDragSelectionCursor(),this.$2d.element)},$1q:function(){this.$2z=tab.MiscUtil.clearTimeout(this.$2z)},allowPanZoomActions:function(){return this.$1k('other')},allowPanZoomActionsOnDoubleTap:function(){return this.$1k('doubleTap')},$1k:function(x){if(!tsConfig.allow_filter){return false}if(this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'){return false}if(ss.isNullOrUndefined(this.geometry)){return false}var y=this.geometry.pi;switch(x){case'doubleTap':{var z=y.hasXQAxis&&y.hasYQAxis;var A=this.floatingZoomToolbarView.get_toolBarIsOffOrHome();if(!this.get_paneTableVM().get_isMap()&&z&&A){return false}return z}case'other':default:{return y.hasXQAxis||y.hasYQAxis}}},$1y:function(){return tab.DoubleUtil.roundToInt(this.$2c.scrollY.scrollTop())},$1x:function(){return this.$2c.scrollX.scrollLeft()},$1w:function(){if(ss.isNullOrUndefined(this.$2o)){return null}return{x:this.$2o.x-this.get_tableViewPosition().x,y:this.$2o.y-this.get_tableViewPosition().y}},handleCapturedMouseMove:function(x){this.$2o={x:x.pageX,y:x.pageY}},handleCapturedMouseComplete:function(x){}},tab.PaneTableView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),tab.IPaneTableView,tab.IZoomToolbarContainer,spiff.IMouseCaptureEventHandler]);ss.initClass(s,a,{get_widgetFeatureEnabled:function(){return ss.isValue(this.$G)&&tsConfig.allow_filter},dispose:function(){this.$D=null;this.$E.element.remove();this.$E.dispose();r.prototype.dispose.call(this)},onUpdate:function(){this.$I=this.$D.visibleGeometry;this.$G=this.$D.get_sortIndicators();if(!ss.staticEquals(this.$H,null)){this.$H();this.$H=null}this.$h(this.$D.get_capturedPaneTableViewMousePosition())},onMouseOutOfParentPaneTableView:function(){this.$g()},$g:function(){if(!this.$j()){return}var x=new RegExp('(sortInd\\w+)?','g');this.$A.get(0).className=this.$A.get(0).className.replace(x,'');this.$A.css('display','none');this.$F=null;if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){this.$C.css('display','none')}},onMouseMove:function(x){this.$i(x)},isActiveInRect:function(x){if(ss.isValue(this.$F)&&this.$F.$1&&tab.RectXYUtil.intersectsWith(x,this.$B)){return true}return false},$b:function(){if(!tab.FeatureFlags.isEnabled('IntuitiveSorting')){return null}var x=spiff.LabelButton.newNativeButton();x.element.addClass('sortDropdownSolid');x.element.css('border','0');x.element.css('position','absolute');x.element.css('padding','0px');x.element.css('background-color','transparent');x.element.append("<span class='sortIndicatorDropdownArrow sortDropdownSolid'></span>");x.element.click(ss.mkdel(this,this.$n));x.element.hide();this.element.append(x.element);return x.element},$t:function(){this.$G=this.$D.get_sortIndicators();this.set_enabled(true)},$9:function(){this.$A.click(ss.mkdel(this,this.$k));this.$A.mouseover(ss.mkdel(this,this.$m));this.$A.mouseout(ss.mkdel(this,this.$l))},$i:function(x){if(x.button>0){return}var y=this.getPaneTableViewMousePositionFromEvent(x,this.$D);this.$h(y)},$h:function(x){if(ss.isNullOrUndefined(x)){return}if(ss.isNullOrUndefined(this.$G)||!tsConfig.allow_filter){return}var y=this.regionHitTest(this.$I,x);if(ss.isValue(y)){var z=this.$D.get_domWeb().scrollX.get(0);var A=this.$D.get_domWeb().scrollY.get(0);var B={x:z.scrollLeft,y:A.scrollTop};var C=this.$I;var D=this.getSIRegionFromName(this.$D,y);this.$p(D,C[y],x,B)}else{this.$g()}},$y:function(x,y,z){var A;var B=x.sortIndicatorItems[y];var C=this.$F;if(!x.isHorizontal){A=((B.sortIndicatorState.sortOrder==='asc')?'Left':'Right')}else{A=((B.sortIndicatorState.sortOrder==='asc')?'Up':'Down')}var D=(B.sortIndicatorState.isSorted?'Solid':'Hollow');this.$F=new e(x,B,y,A,D,z);if(ss.isNullOrUndefined(C)||!ss.referenceEquals(C.$0,A)||!ss.referenceEquals(C.$5,D)||C.$1!==z){this.$z()}},$z:function(){if(ss.isNullOrUndefined(this.$F)){return}this.$a();this.$s()},$a:function(){var x=ss.formatString('({0}\\w+)?','sortInd');var y=new RegExp(x,'g');var z=this.$A.get(0);var A=z.className;var B=A.replace(y,'').trim();z.className=B},$s:function(){this.$A.addClass(this.$c())},$c:function(){var x='';if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){var y=this.$F.$2;if(ss.isValue(y)){if(y.sortIndicatorState.sortIndicatorType==='alphabetic'){x='Alphabetic'}else if(y.sortIndicatorState.sortIndicatorType==='nested'){x='Nested'}}}var z='sortInd'+x+this.$F.$5+this.$F.$0+(this.$F.$1?'Active':'');return z},$w:function(){if(!this.$j()){return}var x=this.$F.$2;var y=this.$F.$4;if(!x.sortIndicatorState.isSorted){x.sortIndicatorState.isSorted=true;x.sortIndicatorState.sortOrder=y.defSortOrder}else if(x.sortIndicatorState.sortOrder===y.defSortOrder){x.sortIndicatorState.sortOrder=((y.defSortOrder==='asc')?'desc':'asc')}else{x.sortIndicatorState.sortOrder=y.defSortOrder;x.sortIndicatorState.isSorted=false}this.$y(y,this.$F.$3,this.$F.$1)},$m:function(x){if(this.isOtherActiveInRect(this.$B)){return}if(this.$j()&&!this.$F.$1){this.$F.$1=true;this.$z()}x.stopPropagation()},$l:function(x){if(!this.$j()){return}var y=$(this.$A.get(0)).offset();var z=tab.DoubleUtil.roundToInt($(this.$A.get(0)).outerHeight());var A=tab.DoubleUtil.roundToInt($(this.$A.get(0)).outerWidth());if(y.left>x.pageX||y.left+A<=x.pageX||y.top>x.pageY||y.top+z<=x.pageY){this.$F.$1=false;this.$z();x.stopPropagation()}},$k:function(x){spiff.EventUtil.stopEvent(x);this.$w();this.$A.addClass('clicked');this.$H=ss.mkdel(this,function(){this.$A.removeClass('clicked')});if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){this.$f()}else{var y=this.$e();var z=this.$d(x);tab.SortServerCommands.sortFromIndicator(z,y,this.$D.get_visualId())}},$f:function(){tab.SortServerCommands.sortUsingSimpleCommandPresModel(this.$F.$2.sortIndicatorCommand,this.$D.get_visualId())},$n:function(x){spiff.EventUtil.stopEvent(x);this.$u(this.$C)},$d:function(x){var y=this.getPaneTableViewMousePositionFromEvent(x,this.$D);var z=this.regionHitTest(this.$I,y);if(ss.isNullOrUndefined(z)){return null}var A=this.getSIRegionFromName(this.$D,z);var B=A.regionRect;var C=this.$I;y.y+=B.y-C[z].t;y.x+=B.x-C[z].l;return y},$e:function(){var x=this.$D.get_domWeb().scrollX.get(0);var y=this.$D.get_domWeb().scrollY.get(0);return{x:x.scrollLeft,y:y.scrollTop}},$u:function(x){var y=this.$F.$2.sortIndicatorMenu;if(ss.isNullOrUndefined(y)){return}var z=ss.mkdel(this,function(){this.$D.tryUpdateSortAndDrillWidgets()});var A=tab.WidgetUtil.menuViewModelFromCommands(y,ss.mkdel(this,this.$o),z);if(ss.isValue(A)){A.show(new spiff.ShowMenuOptions(x,false))}},$o:function(x){tab.WidgetUtil.commandMenuItemClicked(x)},$v:function(x,y,z,A){if(this.isOtherActiveInRect(z)){return}var B=null;if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){var C=x.sortIndicatorItems[y];if(ss.isValue(C.sortIndicatorMenu)){var D=C.sortIndicatorMenu['commandItems'.toString()];if(D.length>0){B=C.menuButtonRect}}}this.$B=z;this.$y(x,y,A);this.$q(this.$A.get(0),z);this.$x(B)},$x:function(x){if(ss.isValue(x)){this.$r(this.$C.get(0),x)}else if(ss.isValue(this.$C)){this.$C.css('display','none')}},$r:function(x,y){this.$q(x,tab.RecordCast.rectPresModelAsRectXY(y))},$q:function(x,y){x.style.width=y.w+'px';x.style.height=y.h+'px';this.showNodeAt(x,y.y,y.x)},$j:function(){return ss.isValue(this.$F)},$p:function(x,y,z,A){if(ss.isNullOrUndefined(x)){this.$g();return}if(ss.isValue(this.$F)&&ss.isValue(this.$F.$4)&&x.sortRegion!==this.$F.$4.sortRegion){this.$g()}var B={x:z.x,y:z.y};var C=x.regionRect;B.y+=C.y-y.t;B.x+=C.x-y.l;if(x.canScrollY){B.y+=A.y}if(x.canScrollX){B.x+=A.x}var D=x.sortIndicatorItems;for(var E=0,F=D.length;E<F;E++){if(ss.isNullOrUndefined(D[E].itemRect)){continue}if(ss.isNullOrUndefined(D[E].buttonRect)){continue}var G=tab.RecordCast.rectPresModelAsRectXY(D[E].itemRect);if(tab.RectXYUtil.inRect(G,B)){var H=tab.RecordCast.rectPresModelAsRectXY(D[E].buttonRect);var I=this.clone(H);I.y-=B.y-z.y;I.x-=B.x-z.x;var J={x:I.x+2,y:I.y+2};var K={x:I.x+I.w-2,y:I.y+I.h-2};if(tab.RectUtil.inRect(y,J)&&tab.RectUtil.inRect(y,K)){this.$v(x,E,I,tab.RectXYUtil.inRect(I,B));return}}}}},r,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(t,a,{});ss.initClass(u,a,{$M:function(){return this.get_toolModeViewModel().get_isAppendMode()},get_isDragTracking:function(){return this.$R},$D:function(x){this.$R=x;u.isDragTrackingInAnyRegion=x},destroy:function(){this.$Q=null;tab.TiledViewerRegion.prototype.destroy.call(this)},setXPos:function(x){if(ss.isValue(this.regionContent)){this.regionContent.setXPos(x);this.backgroundMap.setScrollX(x)}},setYPos:function(x){if(ss.isValue(this.regionContent)){this.regionContent.setYPos(x);this.backgroundMap.setScrollY(x)}},resetVisualState:function(){tab.TiledViewerRegion.prototype.resetVisualState.call(this);if(this.isScrolling){this.wasScrolling=false;return}if(!this.$N){return}this.$Q.unsuppressHover(this)},setMouseOverMarkOrVisualPart:function(x){if(this.$S!==x){this.$S=x;this.$C()}},$k:function(x,y){this.$P(x,y)},$A:function(x,y){this.$F(this.get_shapeSelector());this.$E(x)},$J:function(x,y){this.$F(this.domPanZoomRect);this.$E(x);this.domPanZoomRect.set_pi(y)},$j:function(x){if(this.get_isDragTracking()){this.$T(x)}},$i:function(x,y){this.get_toolModeViewModel().updateDefaultToolMode(this.allowPanZoomActions());if(this.get_isDragTracking()){this.$U(x,y)}},$K:function(x,y){var z=this.toLocalCoordsEvent(x,false);if(!this.get_toolModeViewModel().get_isZoomToolActive()){}var A=((this.get_toolModeViewModel().get_currentPointerToolMode()==='zoom-out')?0.5:2);this.zoomPoint(y,z,A,false,null)},$l:function(x){var y=Math.floor(x.w/2)+x.x;var z=Math.floor(x.h/2)+x.y;return{x:y,y:z}},$L:function(x,y){this.zoomPoint(x,null,y,false,null)},$r:function(){},$H:function(x){if(ss.isValue(x)){x.hide()}},$F:function(x){if(ss.isValue(x)){x.show()}},updateForToolMode:function(x){tab.TiledViewerRegion.prototype.updateForToolMode.call(this,x);this.$C();switch(x){case'no-tools':{this.$T=ss.mkdel(this,this.$s);this.$U=ss.mkdel(this,this.$s);this.$P=ss.mkdel(this,this.$s);this.$O=ss.mkdel(this,this.$s);break}case'rectangular-selection':case'lasso-selection':case'radial-selection':{this.$T=ss.mkdel(this,this.onMarqueeMouseMove);this.$U=ss.mkdel(this,this.$s);this.$P=ss.mkdel(this,this.$A);this.$O=ss.mkdel(this,this.$z);break}case'pan-map':{this.$T=ss.mkdel(this,this.$t);this.$U=ss.mkdel(this,this.$u);this.$P=ss.mkdel(this,this.$v);this.$O=ss.mkdel(this,this.$s);break}case'area-zoom':case'zoom-out':{this.$T=ss.mkdel(this,this.onZoomBoxMouseMove);this.$U=ss.mkdel(this,this.$x);this.$P=ss.mkdel(this,this.$J);this.$O=ss.mkdel(this,this.$I);break}}},$o:function(x){return!x.shiftKey&&spiff.EventUtil.isCtrlKey(x)&&this.get_toolModeViewModel().get_isSelectingToolActive()},$p:function(x){return x.altKey&&(this.get_toolModeViewModel().get_isZoomToolActive()||x.shiftKey&&spiff.EventUtil.isCtrlKey(x))},$q:function(x){var y=x;if(y.altKey&&!y.ctrlKey&&!tab.BrowserSupport.get_isMac()){y.preventDefault()}if(!tsConfig.allow_filter){return}var z=this.get_toolModeViewModel().currentModifierKeyToolMode;var A=this.get_toolModeViewModel().get_isAppendMode();this.get_toolModeViewModel().set_isAppendMode(this.$o(y));if(!this.get_isDragTracking()){if(this.allowPanZoomActions()){if(u.$0(y)){this.get_toolModeViewModel().currentModifierKeyToolMode='pan-map'}else if(u.$1(y)){this.get_toolModeViewModel().currentModifierKeyToolMode='area-zoom'}else if(this.$p(y)){this.get_toolModeViewModel().currentModifierKeyToolMode='zoom-out'}else{this.get_toolModeViewModel().currentModifierKeyToolMode='no-tools'}}else{this.get_toolModeViewModel().currentModifierKeyToolMode='no-tools'}}if(z!==this.get_toolModeViewModel().currentModifierKeyToolMode||A!==this.get_toolModeViewModel().get_isAppendMode()){this.$C()}},startScrolling:function(x,y,z){this.stopScrolling();if(!(x!==0&&this.scroller.get_canScrollX()||y!==0&&this.scroller.get_canScrollY())){return}if(!ss.isValue(this.$V)){this.$n(x,y,z)}var A=((z==='fast')?15:200);this.$V=window.setInterval(ss.mkdel(this,function(){this.$n(x,y,z)}),A);this.isScrolling=true},stopScrolling:function(){if(ss.isValue(this.$V)){window.clearInterval(ss.unbox(this.$V))}this.$V=null;this.wasScrolling=this.isScrolling;this.isScrolling=false},$n:function(x,y,z){var A=0;var B=0;if(x!==0){A=this.$g(0,x);this.scroller.scrollX(A)}if(y!==0){B=this.$g(1,y);this.scroller.scrollY(B)}this.get_shapeSelector().shapeScrolled(A,B);this.get_shapeSelector().get_dom().css('display','');if(A===0&&x!==0||B===0&&y!==0){var C=((A===0)?0:x);var D=((B===0)?0:y);this.startScrolling(C,D,z)}},$g:function(x,y){var z=((x===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var A=((x===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var B=y*15;var C=Math.max(0,Math.min(z+B,A));return C-z},determineScrollDirection:function(x,y){var z=((x===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var A=((x===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var B=((y<0)?-1:((y>0)?1:0));if(B===-1&&z===0||B===1&&z>=A){B=0}return B},suppressTooltips:function(){this.$Q.suppressHover(this)},setCursor:function(x,y){y.css('cursor',x)},$B:function(x){this.setCursor(x,this.connectNode)},$m:function(){var x=this.get_toolModeViewModel().get_currentPointerToolMode();if(x==='no-tools'){x=this.get_toolModeViewModel().defaultPointerToolMode}return x},$C:function(){var x=this.$m();switch(x){case'area-zoom':{this.$B(u.$6['zoomIn']);break}case'zoom-out':{this.$B(u.$6['zoomOut']);break}default:{this.$B((this.$S?u.$6['select']:u.$6['defaultKey']));break}}},determineDragSelectionCursor:function(){var x=this.$m();switch(x){case'area-zoom':{return u.$6['zoomIn']}case'zoom-out':{return u.$6['zoomOut']}case'lasso-selection':{return(this.$M()?u.$6['lassoExtended']:u.$6['lassoSelect'])}case'radial-selection':{return(this.$M()?u.$6['radialExtended']:u.$6['radialSelect'])}case'rectangular-selection':{return(this.$M()?u.$6['rectExtended']:u.$6['rectSelect'])}case'pan-map':{return u.$6['panDrag']}default:{return u.$6['defaultKey']}}},$E:function(x){if(x.originalEvent['button']>1){return}if(this.get_isDragTracking()){return}this.$D(true);x.preventDefault();this.$Q.suppressHover(this);var y=x.get_gestureInfo();this.domPanZoomRect.set_pi(null);this.domPanZoomRect.dragStarted(y.startX,y.startY,this.getLocalOffset(true));this.get_shapeSelector().dragStarted(y.startX,y.startY,this.getLocalOffset(true));this.$C()},$G:function(x,y){if(!this.get_isDragTracking()){return}this.$D(false);this.$H(y);this.stopScrolling();this.$C()},$x:function(x,y){this.$w(x,y,this.domPanZoomRect)},$s:function(x,y){this.$w(x,y,this.get_shapeSelector())},$w:function(x,y,z){if(!this.get_isDragTracking()){return}var A=x.originalEvent;if(A['button']>1){return}this.$G(x,z);this.$Q.suppressHover(this);this.$O(x,y)},$t:function(x){spiff.EventUtil.stopEvent(x);var y=x.get_gestureInfo();var z=y.pageX-this.domPanZoomRect.get_dragStart().x;var A=y.pageY-this.domPanZoomRect.get_dragStart().y;if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){z=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){A=0}var B=1;z+=B;A+=B;tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:z,t:A,w:tab.DoubleUtil.roundToInt(this.domDragImage.width()),h:tab.DoubleUtil.roundToInt(this.domDragImage.height())});this.backgroundMap.panTo(y.deltaX,y.deltaY)},$u:function(x,y){if(!this.get_isDragTracking()){return}if(x.originalEvent['button']>1){return}spiff.EventUtil.stopEvent(x);this.$G(x,null);var z=x.get_gestureInfo();this.$Q.suppressHover(this);var A=this.toLocalCoords(this.domPanZoomRect.get_dragStart(),false);var B={x:z.pageX-this.domPanZoomRect.get_dragStart().x,y:z.pageY-this.domPanZoomRect.get_dragStart().y};if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){B.x=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){B.y=0}this.$y(x,A,B)},$y:function(x,y,z){this.setWaitingOnPanZoomServerResponseState();this.resetIsWaitingOnTransition=false;this.backgroundMap.updateLocalCenter(z.x,z.y);var A=ss.mkdel(this,function(){this.reset()});var B=ss.mkdel(this,function(){this.reset()});tab.PanZoomCommands.pan(this.get_regionPart(),y,z,B,A,this.get_sheetid())},$v:function(x,y){if(this.waitingOnPanZoomServerResponse!=='normal'){return}this.$E(x);this.domPanZoomRect.set_pi(y);this.resetIsWaitingOnTransition=true;this.get_toolModeViewModel().deferModeChanges();this.showDomDragImage(y)},$z:function(x,y){if(!tsConfig.allow_select){this.$Q.unsuppressHover(this);return}var z=this.get_shapeSelector().get_tooltipAnchor();var A=this.get_regionPart();var B=tab.PointUtil.add(z,this.getLocalOffsetPoint(false));var C=this.get_shapeSelector().get_hitTestingBox();var D=ss.mkdel(this,function(){y.multiSelectComplete(B,C,A);if(ss.isValue(this.$Q)){this.$Q.unsuppressHover(this)}});var E=tab.SelectActionResolver.fromNormalizedEvent(x,0);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var F=this.doSelectMarkAndUbertipFromSelectionShape(E,D);if(tab.MiscUtil.isNullOrEmpty$2(F)||!tsConfig.allow_tooltip){this.$Q.unsuppressHover(this)}}else{this.get_shapeSelector().sendSelectionCommand(A,E,this.get_visualId(),D)}},$I:function(x,y){var z=tab.DomUtil.getRectXY(this.domPanZoomRect.get_dom());var A=this.toLocalCoordsRect(z,false);this.setWaitingOnPanZoomServerResponseState();var B=this.domPanZoomRect.get_pi();if(A.w<4&&A.h<4){this.$K(x,B)}if(!this.get_toolModeViewModel().get_isZoomToolActive()){}var C=this.getCenterPoint(B);this.$h(B,C,A);if(this.get_toolModeViewModel().get_currentPointerToolMode()==='zoom-out'){var D=0.5;if(!this.allowMapZoomAtCurrentLevel(D)){return}this.$L(B,D);return}else{var E=this.backgroundMap.zoomRect(A);var F=2;var G=1/F;var H=ss.mkdel(this,function(){this.reset()});var I=ss.mkdel(this,function(){tab.PanZoomCommands.zoomIn(A,C,G,H,this.get_sheetid())});this.doZoomWithDelay(I,E)}},$h:function(x,y,z){var A=this.$l(z);var B=z.w;var C=z.h;var D=x.w/B;var E=x.h/C;if(x.canDragH&&x.canDragV){var F=Math.min(D,E);var G=this.paneTableViewModel.get_mapServerModel();if(G.get_hasPresModel()){F=tab.ZoomComputer.resolveDesiredScale(G.get_mapServerPresModel(),F)}D=E=F}else if(!x.canDragV){E=1;A.y=y.y}else if(!x.canDragH){D=1;A.x=y.x}else{return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.animateZoomOnPoint(x,A,D,E)}}},tab.TiledViewerRegion);ss.initClass(v,a,{onMoving:function(){this.get_tooltip().close()},onDragEnd$1:function(){this.get_tooltip().close()},buildBehaviorsDictionary:function(){var x=new m(this.get_tooltip());this.tooltipBehaviors['sticky']=x},dispose:function(){this.get_tooltip().remove_showed(ss.mkdel(this,this.showCommandAreaAndActions));tab.TooltipBaseMode.prototype.dispose.call(this)}},tab.TooltipBaseLegacyMode);ss.initClass(w,a,{createPaneTableView:function(x){return new q(x)}},tab.VizZoneFactory,[tab.IVizZoneModule]);(function(){r.$0=[]})();(function(){g.axisContextMenuElementClassName='tab-tiledViewerAxisContextMenu'})();(function(){i.$1=17;i.$2=10;i.$0=20})();(function(){tab.ObjectRegistry.registerType(tab.FloatingZoomToolbar,k).call(null)})();(function(){m.$1='.LegacyTooltipBehavior';m.$2=500;m.$3=250;m.$4=10000;m.$5=1200;m.$6=0;tab.ObjectRegistry.registerType(tab.ITooltipBehavior,m).call(null)})();(function(){tab.ObjectRegistry.registerType(tab.MapsSearchView,n).call(null)})();(function(){p.htmlTemplate="<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"})();(function(){u.isDragTrackingInAnyRegion=false;u.$3=15;u.$4=15;u.$5=200;u.$6=null})();(function(){tab.ObjectRegistry.registerType(tab.TooltipBaseLegacyMode,v).call(null)})();(function(){s.sortingElementClassName='tab-tiledViewerSort';s.$0='sortInd'})();(function(){q.$5=500;q.$4=10})()})();